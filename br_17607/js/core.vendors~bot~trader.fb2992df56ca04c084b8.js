(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~bot~trader"],{

/***/ "../../../node_modules/@deriv/deriv-charts/dist/smartcharts.js":
/*!*****************************************************************************************!*\
  !*** /Users/human/deriv/deriv-app/node_modules/@deriv/deriv-charts/dist/smartcharts.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory(__webpack_require__(/*! moment */ \"../../../node_modules/moment/moment.js\"), __webpack_require__(/*! react */ \"../../../node_modules/react/index.js\"), __webpack_require__(/*! react-dom */ \"../../../node_modules/react-dom/index.js\"), __webpack_require__(/*! react-transition-group */ \"../../../node_modules/react-transition-group/esm/index.js\"));\n\telse {}\n})(window, function(__WEBPACK_EXTERNAL_MODULE_moment__, __WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__, __WEBPACK_EXTERNAL_MODULE_react_transition_group__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tfunction webpackJsonpCallback(data) {\n/******/ \t\tvar chunkIds = data[0];\n/******/ \t\tvar moreModules = data[1];\n/******/\n/******/\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, resolves = [];\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n/******/ \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n/******/ \t\t\t}\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n/******/ \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n/******/\n/******/ \t\twhile(resolves.length) {\n/******/ \t\t\tresolves.shift()();\n/******/ \t\t}\n/******/\n/******/ \t};\n/******/\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded and loading chunks\n/******/ \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n/******/ \t// Promise = chunk loading, 0 = chunk loaded\n/******/ \tvar installedChunks = {\n/******/ \t\t\"main\": 0\n/******/ \t};\n/******/\n/******/\n/******/\n/******/ \t// script path function\n/******/ \tfunction jsonpScriptSrc(chunkId) {\n/******/ \t\treturn __webpack_require__.p + \"\" + ({\"chartiq\":\"chartiq\",\"de-json\":\"de-json\",\"es-json\":\"es-json\",\"fr-json\":\"fr-json\",\"html2canvas\":\"html2canvas\",\"id-json\":\"id-json\",\"it-json\":\"it-json\",\"messages-json\":\"messages-json\",\"nl-json\":\"nl-json\",\"pl-json\":\"pl-json\",\"pt-json\":\"pt-json\",\"ru-json\":\"ru-json\",\"th-json\":\"th-json\",\"vendors~resize-observer-polyfill\":\"vendors~resize-observer-polyfill\",\"vi-json\":\"vi-json\",\"zh-json\":\"zh-json\",\"zh_cn-json\":\"zh_cn-json\",\"zh_tw-json\":\"zh_tw-json\"}[chunkId]||chunkId) + \"-\" + {\"chartiq\":\"af68dd\",\"de-json\":\"0cc16a\",\"es-json\":\"4da805\",\"fr-json\":\"046384\",\"html2canvas\":\"f92cd2\",\"id-json\":\"1db5de\",\"it-json\":\"62e0a9\",\"messages-json\":\"938232\",\"nl-json\":\"e821f0\",\"pl-json\":\"9cbbed\",\"pt-json\":\"7e58e6\",\"ru-json\":\"487a1e\",\"th-json\":\"5e542a\",\"vendors~resize-observer-polyfill\":\"358f59\",\"vi-json\":\"21cbac\",\"zh-json\":\"c823c6\",\"zh_cn-json\":\"aebdad\",\"zh_tw-json\":\"6b5ab2\"}[chunkId] + \".smartcharts.js\"\n/******/ \t}\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId) {\n/******/ \t\tvar promises = [];\n/******/\n/******/\n/******/ \t\t// JSONP chunk loading for javascript\n/******/\n/******/ \t\tvar installedChunkData = installedChunks[chunkId];\n/******/ \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n/******/\n/******/ \t\t\t// a Promise means \"currently loading\".\n/******/ \t\t\tif(installedChunkData) {\n/******/ \t\t\t\tpromises.push(installedChunkData[2]);\n/******/ \t\t\t} else {\n/******/ \t\t\t\t// setup Promise in chunk cache\n/******/ \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n/******/ \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n/******/ \t\t\t\t});\n/******/ \t\t\t\tpromises.push(installedChunkData[2] = promise);\n/******/\n/******/ \t\t\t\t// start chunk loading\n/******/ \t\t\t\tvar script = document.createElement('script');\n/******/ \t\t\t\tvar onScriptComplete;\n/******/\n/******/ \t\t\t\tscript.charset = 'utf-8';\n/******/ \t\t\t\tscript.timeout = 120;\n/******/ \t\t\t\tif (__webpack_require__.nc) {\n/******/ \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n/******/ \t\t\t\t}\n/******/ \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n/******/\n/******/ \t\t\t\t// create error before stack unwound to get useful stacktrace later\n/******/ \t\t\t\tvar error = new Error();\n/******/ \t\t\t\tonScriptComplete = function (event) {\n/******/ \t\t\t\t\t// avoid mem leaks in IE.\n/******/ \t\t\t\t\tscript.onerror = script.onload = null;\n/******/ \t\t\t\t\tclearTimeout(timeout);\n/******/ \t\t\t\t\tvar chunk = installedChunks[chunkId];\n/******/ \t\t\t\t\tif(chunk !== 0) {\n/******/ \t\t\t\t\t\tif(chunk) {\n/******/ \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n/******/ \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n/******/ \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n/******/ \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n/******/ \t\t\t\t\t\t\terror.type = errorType;\n/******/ \t\t\t\t\t\t\terror.request = realSrc;\n/******/ \t\t\t\t\t\t\tchunk[1](error);\n/******/ \t\t\t\t\t\t}\n/******/ \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t};\n/******/ \t\t\t\tvar timeout = setTimeout(function(){\n/******/ \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n/******/ \t\t\t\t}, 120000);\n/******/ \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n/******/ \t\t\t\tdocument.head.appendChild(script);\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\treturn Promise.all(promises);\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// on error function for async loading\n/******/ \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n/******/\n/******/ \tvar jsonpArray = window[\"webpackJsonpsmartcharts\"] = window[\"webpackJsonpsmartcharts\"] || [];\n/******/ \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n/******/ \tjsonpArray.push = webpackJsonpCallback;\n/******/ \tjsonpArray = jsonpArray.slice();\n/******/ \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n/******/ \tvar parentJsonpFunction = oldJsonpFunction;\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/classnames/index.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/classnames/index.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (  true && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (true) {\n    // register as 'classnames', consistent with npm package name\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n      return classNames;\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n})();\n\n/***/ }),\n\n/***/ \"./node_modules/clsx/dist/clsx.m.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/clsx/dist/clsx.m.js ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction toVal(mix) {\n  var k,\n      y,\n      str = '';\n\n  if (typeof mix === 'string' || typeof mix === 'number') {\n    str += mix;\n  } else if (typeof mix === 'object') {\n    if (Array.isArray(mix)) {\n      for (k = 0; k < mix.length; k++) {\n        if (mix[k]) {\n          if (y = toVal(mix[k])) {\n            str && (str += ' ');\n            str += y;\n          }\n        }\n      }\n    } else {\n      for (k in mix) {\n        if (mix[k]) {\n          str && (str += ' ');\n          str += k;\n        }\n      }\n    }\n  }\n\n  return str;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  var i = 0,\n      tmp,\n      x,\n      str = '';\n\n  while (i < arguments.length) {\n    if (tmp = arguments[i++]) {\n      if (x = toVal(tmp)) {\n        str && (str += ' ');\n        str += x;\n      }\n    }\n  }\n\n  return str;\n});\n\n/***/ }),\n\n/***/ \"./node_modules/event-emitter-es6/index.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/event-emitter-es6/index.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar DEFAULT_VALUES = {\n  emitDelay: 10,\n  strictMode: false\n};\n/**\n * @typedef {object} EventEmitterListenerFunc\n * @property {boolean} once\n * @property {function} fn\n */\n\n/**\n * @class EventEmitter\n *\n * @private\n * @property {Object.<string, EventEmitterListenerFunc[]>} _listeners\n * @property {string[]} events\n */\n\nvar EventEmitter = function () {\n  /**\n   * @constructor\n   * @param {{}}      [opts]\n   * @param {number}  [opts.emitDelay = 10] - Number in ms. Specifies whether emit will be sync or async. By default - 10ms. If 0 - fires sync\n   * @param {boolean} [opts.strictMode = false] - is true, Emitter throws error on emit error with no listeners\n   */\n  function EventEmitter() {\n    var opts = arguments.length <= 0 || arguments[0] === undefined ? DEFAULT_VALUES : arguments[0];\n\n    _classCallCheck(this, EventEmitter);\n\n    var emitDelay = void 0,\n        strictMode = void 0;\n\n    if (opts.hasOwnProperty('emitDelay')) {\n      emitDelay = opts.emitDelay;\n    } else {\n      emitDelay = DEFAULT_VALUES.emitDelay;\n    }\n\n    this._emitDelay = emitDelay;\n\n    if (opts.hasOwnProperty('strictMode')) {\n      strictMode = opts.strictMode;\n    } else {\n      strictMode = DEFAULT_VALUES.strictMode;\n    }\n\n    this._strictMode = strictMode;\n    this._listeners = {};\n    this.events = [];\n  }\n  /**\n   * @protected\n   * @param {string} type\n   * @param {function} listener\n   * @param {boolean} [once = false]\n   */\n\n\n  _createClass(EventEmitter, [{\n    key: '_addListenner',\n    value: function _addListenner(type, listener, once) {\n      if (typeof listener !== 'function') {\n        throw TypeError('listener must be a function');\n      }\n\n      if (this.events.indexOf(type) === -1) {\n        this._listeners[type] = [{\n          once: once,\n          fn: listener\n        }];\n        this.events.push(type);\n      } else {\n        this._listeners[type].push({\n          once: once,\n          fn: listener\n        });\n      }\n    }\n    /**\n     * Subscribes on event type specified function\n     * @param {string} type\n     * @param {function} listener\n     */\n\n  }, {\n    key: 'on',\n    value: function on(type, listener) {\n      this._addListenner(type, listener, false);\n    }\n    /**\n     * Subscribes on event type specified function to fire only once\n     * @param {string} type\n     * @param {function} listener\n     */\n\n  }, {\n    key: 'once',\n    value: function once(type, listener) {\n      this._addListenner(type, listener, true);\n    }\n    /**\n     * Removes event with specified type. If specified listenerFunc - deletes only one listener of specified type\n     * @param {string} eventType\n     * @param {function} [listenerFunc]\n     */\n\n  }, {\n    key: 'off',\n    value: function off(eventType, listenerFunc) {\n      var _this = this;\n\n      var typeIndex = this.events.indexOf(eventType);\n      var hasType = eventType && typeIndex !== -1;\n\n      if (hasType) {\n        if (!listenerFunc) {\n          delete this._listeners[eventType];\n          this.events.splice(typeIndex, 1);\n        } else {\n          (function () {\n            var removedEvents = [];\n            var typeListeners = _this._listeners[eventType];\n            typeListeners.forEach(\n            /**\n             * @param {EventEmitterListenerFunc} fn\n             * @param {number} idx\n             */\n            function (fn, idx) {\n              if (fn.fn === listenerFunc) {\n                removedEvents.unshift(idx);\n              }\n            });\n            removedEvents.forEach(function (idx) {\n              typeListeners.splice(idx, 1);\n            });\n\n            if (!typeListeners.length) {\n              _this.events.splice(typeIndex, 1);\n\n              delete _this._listeners[eventType];\n            }\n          })();\n        }\n      }\n    }\n    /**\n     * Applies arguments to specified event type\n     * @param {string} eventType\n     * @param {*[]} eventArguments\n     * @protected\n     */\n\n  }, {\n    key: '_applyEvents',\n    value: function _applyEvents(eventType, eventArguments) {\n      var typeListeners = this._listeners[eventType];\n\n      if (!typeListeners || !typeListeners.length) {\n        if (this._strictMode) {\n          throw 'No listeners specified for event: ' + eventType;\n        } else {\n          return;\n        }\n      }\n\n      var removableListeners = [];\n      typeListeners.forEach(function (eeListener, idx) {\n        eeListener.fn.apply(null, eventArguments);\n\n        if (eeListener.once) {\n          removableListeners.unshift(idx);\n        }\n      });\n      removableListeners.forEach(function (idx) {\n        typeListeners.splice(idx, 1);\n      });\n    }\n    /**\n     * Emits event with specified type and params.\n     * @param {string} type\n     * @param eventArgs\n     */\n\n  }, {\n    key: 'emit',\n    value: function emit(type) {\n      var _this2 = this;\n\n      for (var _len = arguments.length, eventArgs = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        eventArgs[_key - 1] = arguments[_key];\n      }\n\n      if (this._emitDelay) {\n        setTimeout(function () {\n          _this2._applyEvents.call(_this2, type, eventArgs);\n        }, this._emitDelay);\n      } else {\n        this._applyEvents(type, eventArgs);\n      }\n    }\n    /**\n     * Emits event with specified type and params synchronously.\n     * @param {string} type\n     * @param eventArgs\n     */\n\n  }, {\n    key: 'emitSync',\n    value: function emitSync(type) {\n      for (var _len2 = arguments.length, eventArgs = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        eventArgs[_key2 - 1] = arguments[_key2];\n      }\n\n      this._applyEvents(type, eventArgs);\n    }\n    /**\n     * Destroys EventEmitter\n     */\n\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this._listeners = {};\n      this.events = [];\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nmodule.exports = EventEmitter;\n\n/***/ }),\n\n/***/ \"./node_modules/lodash.debounce/index.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/lodash.debounce/index.js ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\nvar now = function () {\n  return root.Date.now();\n};\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = debounce;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/mobx-react/index.module.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/mobx-react/index.module.js ***!\n  \\*************************************************/\n/*! exports provided: propTypes, PropTypes, onError, observer, Observer, renderReporter, componentByNodeRegistery, componentByNodeRegistry, trackComponents, useStaticRendering, Provider, inject */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"propTypes\", function() { return propTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PropTypes\", function() { return propTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onError\", function() { return onError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"observer\", function() { return observer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Observer\", function() { return Observer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderReporter\", function() { return renderReporter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"componentByNodeRegistery\", function() { return componentByNodeRegistry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"componentByNodeRegistry\", function() { return componentByNodeRegistry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"trackComponents\", function() { return trackComponents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useStaticRendering\", function() { return useStaticRendering; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Provider\", function() { return Provider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inject\", function() { return inject; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n\n\n // These functions can be stubbed out in specific environments\n\nvar unstable_batchedUpdates$1 = undefined;\n'use strict';\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = getPrototypeOf && getPrototypeOf(Object);\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n\n    return targetComponent;\n  }\n\n  return targetComponent;\n}\n\nvar hoistNonReactStatics_cjs = hoistNonReactStatics;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    classCallCheck(this, EventEmitter);\n    this.listeners = [];\n  }\n\n  createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(cb) {\n      var _this = this;\n\n      this.listeners.push(cb);\n      return function () {\n        var index = _this.listeners.indexOf(cb);\n\n        if (index !== -1) _this.listeners.splice(index, 1);\n      };\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(data) {\n      this.listeners.forEach(function (fn) {\n        return fn(data);\n      });\n    }\n  }]);\n  return EventEmitter;\n}(); // Copied from React.PropTypes\n\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 6 ? _len - 6 : 0), _key = 6; _key < _len; _key++) {\n      rest[_key - 6] = arguments[_key];\n    }\n\n    return Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"untracked\"])(function () {\n      componentName = componentName || \"<<anonymous>>\";\n      propFullName = propFullName || propName;\n\n      if (props[propName] == null) {\n        if (isRequired) {\n          var actual = props[propName] === null ? \"null\" : \"undefined\";\n          return new Error(\"The \" + location + \" `\" + propFullName + \"` is marked as required \" + \"in `\" + componentName + \"`, but its value is `\" + actual + \"`.\");\n        }\n\n        return null;\n      } else {\n        return validate.apply(undefined, [props, propName, componentName, location, propFullName].concat(rest));\n      }\n    });\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n  return chainedCheckType;\n} // Copied from React.PropTypes\n\n\nfunction isSymbol(propType, propValue) {\n  // Native Symbol.\n  if (propType === \"symbol\") {\n    return true;\n  } // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\n\n  if (propValue[\"@@toStringTag\"] === \"Symbol\") {\n    return true;\n  } // Fallback for non-spec compliant Symbols which are polyfilled.\n\n\n  if (typeof Symbol === \"function\" && propValue instanceof Symbol) {\n    return true;\n  }\n\n  return false;\n} // Copied from React.PropTypes\n\n\nfunction getPropType(propValue) {\n  var propType = typeof propValue === \"undefined\" ? \"undefined\" : _typeof(propValue);\n\n  if (Array.isArray(propValue)) {\n    return \"array\";\n  }\n\n  if (propValue instanceof RegExp) {\n    // Old webkits (at least until Android 4.0) return 'function' rather than\n    // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n    // passes PropTypes.object.\n    return \"object\";\n  }\n\n  if (isSymbol(propType, propValue)) {\n    return \"symbol\";\n  }\n\n  return propType;\n} // This handles more types than `getPropType`. Only used for error messages.\n// Copied from React.PropTypes\n\n\nfunction getPreciseType(propValue) {\n  var propType = getPropType(propValue);\n\n  if (propType === \"object\") {\n    if (propValue instanceof Date) {\n      return \"date\";\n    } else if (propValue instanceof RegExp) {\n      return \"regexp\";\n    }\n  }\n\n  return propType;\n}\n\nfunction createObservableTypeCheckerCreator(allowNativeType, mobxType) {\n  return createChainableTypeChecker(function (props, propName, componentName, location, propFullName) {\n    return Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"untracked\"])(function () {\n      if (allowNativeType) {\n        if (getPropType(props[propName]) === mobxType.toLowerCase()) return null;\n      }\n\n      var mobxChecker = void 0;\n\n      switch (mobxType) {\n        case \"Array\":\n          mobxChecker = mobx__WEBPACK_IMPORTED_MODULE_0__[\"isObservableArray\"];\n          break;\n\n        case \"Object\":\n          mobxChecker = mobx__WEBPACK_IMPORTED_MODULE_0__[\"isObservableObject\"];\n          break;\n\n        case \"Map\":\n          mobxChecker = mobx__WEBPACK_IMPORTED_MODULE_0__[\"isObservableMap\"];\n          break;\n\n        default:\n          throw new Error(\"Unexpected mobxType: \" + mobxType);\n      }\n\n      var propValue = props[propName];\n\n      if (!mobxChecker(propValue)) {\n        var preciseType = getPreciseType(propValue);\n        var nativeTypeExpectationMessage = allowNativeType ? \" or javascript `\" + mobxType.toLowerCase() + \"`\" : \"\";\n        return new Error(\"Invalid prop `\" + propFullName + \"` of type `\" + preciseType + \"` supplied to\" + \" `\" + componentName + \"`, expected `mobx.Observable\" + mobxType + \"`\" + nativeTypeExpectationMessage + \".\");\n      }\n\n      return null;\n    });\n  });\n}\n\nfunction createObservableArrayOfTypeChecker(allowNativeType, typeChecker) {\n  return createChainableTypeChecker(function (props, propName, componentName, location, propFullName) {\n    for (var _len2 = arguments.length, rest = Array(_len2 > 5 ? _len2 - 5 : 0), _key2 = 5; _key2 < _len2; _key2++) {\n      rest[_key2 - 5] = arguments[_key2];\n    }\n\n    return Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"untracked\"])(function () {\n      if (typeof typeChecker !== \"function\") {\n        return new Error(\"Property `\" + propFullName + \"` of component `\" + componentName + \"` has \" + \"invalid PropType notation.\");\n      }\n\n      var error = createObservableTypeCheckerCreator(allowNativeType, \"Array\")(props, propName, componentName);\n      if (error instanceof Error) return error;\n      var propValue = props[propName];\n\n      for (var i = 0; i < propValue.length; i++) {\n        error = typeChecker.apply(undefined, [propValue, i, componentName, location, propFullName + \"[\" + i + \"]\"].concat(rest));\n        if (error instanceof Error) return error;\n      }\n\n      return null;\n    });\n  });\n}\n\nvar observableArray = createObservableTypeCheckerCreator(false, \"Array\");\nvar observableArrayOf = createObservableArrayOfTypeChecker.bind(null, false);\nvar observableMap = createObservableTypeCheckerCreator(false, \"Map\");\nvar observableObject = createObservableTypeCheckerCreator(false, \"Object\");\nvar arrayOrObservableArray = createObservableTypeCheckerCreator(true, \"Array\");\nvar arrayOrObservableArrayOf = createObservableArrayOfTypeChecker.bind(null, true);\nvar objectOrObservableObject = createObservableTypeCheckerCreator(true, \"Object\");\nvar propTypes = Object.freeze({\n  observableArray: observableArray,\n  observableArrayOf: observableArrayOf,\n  observableMap: observableMap,\n  observableObject: observableObject,\n  arrayOrObservableArray: arrayOrObservableArray,\n  arrayOrObservableArrayOf: arrayOrObservableArrayOf,\n  objectOrObservableObject: objectOrObservableObject\n});\n\nfunction isStateless(component) {\n  // `function() {}` has prototype, but `() => {}` doesn't\n  // `() => {}` via Babel has prototype too.\n  return !(component.prototype && component.prototype.render);\n}\n\nvar injectorContextTypes = {\n  mobxStores: objectOrObservableObject\n};\nObject.seal(injectorContextTypes);\nvar proxiedInjectorProps = {\n  contextTypes: {\n    get: function get$$1() {\n      return injectorContextTypes;\n    },\n    set: function set$$1(_) {\n      console.warn(\"Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`\");\n    },\n    configurable: true,\n    enumerable: false\n  },\n  isMobxInjector: {\n    value: true,\n    writable: true,\n    configurable: true,\n    enumerable: true\n  }\n  /**\n   * Store Injection\n   */\n\n};\n\nfunction createStoreInjector(grabStoresFn, component, injectNames) {\n  var _class, _temp2;\n\n  var displayName = \"inject-\" + (component.displayName || component.name || component.constructor && component.constructor.name || \"Unknown\");\n  if (injectNames) displayName += \"-with-\" + injectNames;\n  var Injector = (_temp2 = _class = function (_Component) {\n    inherits(Injector, _Component);\n\n    function Injector() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      classCallCheck(this, Injector);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = Injector.__proto__ || Object.getPrototypeOf(Injector)).call.apply(_ref, [this].concat(args))), _this), _this.storeRef = function (instance) {\n        _this.wrappedInstance = instance;\n      }, _temp), possibleConstructorReturn(_this, _ret);\n    }\n\n    createClass(Injector, [{\n      key: \"render\",\n      value: function render() {\n        // Optimization: it might be more efficient to apply the mapper function *outside* the render method\n        // (if the mapper is a function), that could avoid expensive(?) re-rendering of the injector component\n        // See this test: 'using a custom injector is not too reactive' in inject.js\n        var newProps = {};\n\n        for (var key in this.props) {\n          if (this.props.hasOwnProperty(key)) {\n            newProps[key] = this.props[key];\n          }\n        }\n\n        var additionalProps = grabStoresFn(this.context.mobxStores || {}, newProps, this.context) || {};\n\n        for (var _key2 in additionalProps) {\n          newProps[_key2] = additionalProps[_key2];\n        }\n\n        if (!isStateless(component)) {\n          newProps.ref = this.storeRef;\n        }\n\n        return Object(react__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(component, newProps);\n      }\n    }]);\n    return Injector;\n  }(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]), _class.displayName = displayName, _temp2); // Static fields from component should be visible on the generated Injector\n\n  hoistNonReactStatics_cjs(Injector, component);\n  Injector.wrappedComponent = component;\n  Object.defineProperties(Injector, proxiedInjectorProps);\n  return Injector;\n}\n\nfunction grabStoresByName(storeNames) {\n  return function (baseStores, nextProps) {\n    storeNames.forEach(function (storeName) {\n      if (storeName in nextProps // prefer props over stores\n      ) return;\n      if (!(storeName in baseStores)) throw new Error(\"MobX injector: Store '\" + storeName + \"' is not available! Make sure it is provided by some Provider\");\n      nextProps[storeName] = baseStores[storeName];\n    });\n    return nextProps;\n  };\n}\n/**\n * higher order component that injects stores to a child.\n * takes either a varargs list of strings, which are stores read from the context,\n * or a function that manually maps the available stores from the context to props:\n * storesToProps(mobxStores, props, context) => newProps\n */\n\n\nfunction inject()\n/* fn(stores, nextProps) or ...storeNames */\n{\n  var grabStoresFn = void 0;\n\n  if (typeof arguments[0] === \"function\") {\n    grabStoresFn = arguments[0];\n    return function (componentClass) {\n      var injected = createStoreInjector(grabStoresFn, componentClass);\n      injected.isMobxInjector = false; // supress warning\n      // mark the Injector as observer, to make it react to expressions in `grabStoresFn`,\n      // see #111\n\n      injected = observer(injected);\n      injected.isMobxInjector = true; // restore warning\n\n      return injected;\n    };\n  } else {\n    var storeNames = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      storeNames[i] = arguments[i];\n    }\n\n    grabStoresFn = grabStoresByName(storeNames);\n    return function (componentClass) {\n      return createStoreInjector(grabStoresFn, componentClass, storeNames.join(\"-\"));\n    };\n  }\n}\n\nvar mobxAdminProperty = mobx__WEBPACK_IMPORTED_MODULE_0__[\"$mobx\"] || \"$mobx\";\n/**\n * dev tool support\n */\n\nvar isDevtoolsEnabled = false;\nvar isUsingStaticRendering = false;\nvar warnedAboutObserverInjectDeprecation = false; // WeakMap<Node, Object>;\n\nvar componentByNodeRegistry = typeof WeakMap !== \"undefined\" ? new WeakMap() : undefined;\nvar renderReporter = new EventEmitter();\nvar createdSymbols = {};\n\nfunction createRealSymbol(name) {\n  if (typeof Symbol === \"function\") {\n    return Symbol(name);\n  }\n\n  return \"$mobxReactProp$\" + name + Math.random();\n}\n\nfunction createSymbol(name) {\n  if (!createdSymbols[name]) {\n    createdSymbols[name] = createRealSymbol(name);\n  }\n\n  return createdSymbols[name];\n}\n\nvar skipRenderKey = createSymbol(\"skipRender\");\nvar isForcingUpdateKey = createSymbol(\"isForcingUpdate\");\n/**\n * Helper to set `prop` to `this` as non-enumerable (hidden prop)\n * @param target\n * @param prop\n * @param value\n */\n\nfunction setHiddenProp(target, prop, value) {\n  if (!Object.hasOwnProperty.call(target, prop)) {\n    Object.defineProperty(target, prop, {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: value\n    });\n  } else {\n    target[prop] = value;\n  }\n}\n\nfunction findDOMNode$2(component) {\n  if (react_dom__WEBPACK_IMPORTED_MODULE_2__[\"findDOMNode\"]) {\n    try {\n      return Object(react_dom__WEBPACK_IMPORTED_MODULE_2__[\"findDOMNode\"])(component);\n    } catch (e) {\n      // findDOMNode will throw in react-test-renderer, see:\n      // See https://github.com/mobxjs/mobx-react/issues/216\n      // Is there a better heuristic?\n      return null;\n    }\n  }\n\n  return null;\n}\n\nfunction reportRendering(component) {\n  var node = findDOMNode$2(component);\n  if (node && componentByNodeRegistry) componentByNodeRegistry.set(node, component);\n  renderReporter.emit({\n    event: \"render\",\n    renderTime: component.__$mobRenderEnd - component.__$mobRenderStart,\n    totalTime: Date.now() - component.__$mobRenderStart,\n    component: component,\n    node: node\n  });\n}\n\nfunction trackComponents() {\n  if (typeof WeakMap === \"undefined\") throw new Error(\"[mobx-react] tracking components is not supported in this browser.\");\n  if (!isDevtoolsEnabled) isDevtoolsEnabled = true;\n}\n\nfunction useStaticRendering(useStaticRendering) {\n  isUsingStaticRendering = useStaticRendering;\n}\n/**\n * Errors reporter\n */\n\n\nvar errorsReporter = new EventEmitter();\n/**\n * Utilities\n */\n\nfunction patch(target, funcName) {\n  var runMixinFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var base = target[funcName];\n  var mixinFunc = reactiveMixin[funcName];\n  var f = !base ? mixinFunc : runMixinFirst === true ? function () {\n    mixinFunc.apply(this, arguments);\n    base.apply(this, arguments);\n  } : function () {\n    base.apply(this, arguments);\n    mixinFunc.apply(this, arguments);\n  }; // MWE: ideally we freeze here to protect against accidental overwrites in component instances, see #195\n  // ...but that breaks react-hot-loader, see #231...\n\n  target[funcName] = f;\n}\n\nfunction shallowEqual(objA, objB) {\n  //From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n  if (is(objA, objB)) return true;\n\n  if ((typeof objA === \"undefined\" ? \"undefined\" : _typeof(objA)) !== \"object\" || objA === null || (typeof objB === \"undefined\" ? \"undefined\" : _typeof(objB)) !== \"object\" || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction is(x, y) {\n  // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction makeComponentReactive(render) {\n  var _this2 = this;\n\n  if (isUsingStaticRendering === true) return render.call(this);\n\n  function reactiveRender() {\n    var _this = this;\n\n    isRenderingPending = false;\n    var exception = undefined;\n    var rendering = undefined;\n    reaction.track(function () {\n      if (isDevtoolsEnabled) {\n        _this.__$mobRenderStart = Date.now();\n      }\n\n      try {\n        rendering = Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"_allowStateChanges\"])(false, baseRender);\n      } catch (e) {\n        exception = e;\n      }\n\n      if (isDevtoolsEnabled) {\n        _this.__$mobRenderEnd = Date.now();\n      }\n    });\n\n    if (exception) {\n      errorsReporter.emit(exception);\n      throw exception;\n    }\n\n    return rendering;\n  } // Generate friendly name for debugging\n\n\n  var initialName = this.displayName || this.name || this.constructor && (this.constructor.displayName || this.constructor.name) || \"<component>\";\n  var rootNodeID = this._reactInternalInstance && this._reactInternalInstance._rootNodeID || this._reactInternalInstance && this._reactInternalInstance._debugID || this._reactInternalFiber && this._reactInternalFiber._debugID;\n  /**\n   * If props are shallowly modified, react will render anyway,\n   * so atom.reportChanged() should not result in yet another re-render\n   */\n\n  setHiddenProp(this, skipRenderKey, false);\n  /**\n   * forceUpdate will re-assign this.props. We don't want that to cause a loop,\n   * so detect these changes\n   */\n\n  setHiddenProp(this, isForcingUpdateKey, false); // wire up reactive render\n\n  var baseRender = render.bind(this);\n  var isRenderingPending = false;\n  var reaction = new mobx__WEBPACK_IMPORTED_MODULE_0__[\"Reaction\"](initialName + \"#\" + rootNodeID + \".render()\", function () {\n    if (!isRenderingPending) {\n      // N.B. Getting here *before mounting* means that a component constructor has side effects (see the relevant test in misc.js)\n      // This unidiomatic React usage but React will correctly warn about this so we continue as usual\n      // See #85 / Pull #44\n      isRenderingPending = true;\n      if (typeof _this2.componentWillReact === \"function\") _this2.componentWillReact(); // TODO: wrap in action?\n\n      if (_this2.__$mobxIsUnmounted !== true) {\n        // If we are unmounted at this point, componentWillReact() had a side effect causing the component to unmounted\n        // TODO: remove this check? Then react will properly warn about the fact that this should not happen? See #73\n        // However, people also claim this migth happen during unit tests..\n        var hasError = true;\n\n        try {\n          setHiddenProp(_this2, isForcingUpdateKey, true);\n          if (!_this2[skipRenderKey]) react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"].prototype.forceUpdate.call(_this2);\n          hasError = false;\n        } finally {\n          setHiddenProp(_this2, isForcingUpdateKey, false);\n          if (hasError) reaction.dispose();\n        }\n      }\n    }\n  });\n  reaction.reactComponent = this;\n  reactiveRender[mobxAdminProperty] = reaction;\n  this.render = reactiveRender;\n  return reactiveRender.call(this);\n}\n/**\n * ReactiveMixin\n */\n\n\nvar reactiveMixin = {\n  componentWillUnmount: function componentWillUnmount() {\n    if (isUsingStaticRendering === true) return;\n    this.render[mobxAdminProperty] && this.render[mobxAdminProperty].dispose();\n    this.__$mobxIsUnmounted = true;\n\n    if (isDevtoolsEnabled) {\n      var node = findDOMNode$2(this);\n\n      if (node && componentByNodeRegistry) {\n        componentByNodeRegistry.delete(node);\n      }\n\n      renderReporter.emit({\n        event: \"destroy\",\n        component: this,\n        node: node\n      });\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    if (isDevtoolsEnabled) {\n      reportRendering(this);\n    }\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    if (isDevtoolsEnabled) {\n      reportRendering(this);\n    }\n  },\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    if (isUsingStaticRendering) {\n      console.warn(\"[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side.\");\n    } // update on any state changes (as is the default)\n\n\n    if (this.state !== nextState) {\n      return true;\n    } // update if props are shallowly not equal, inspired by PureRenderMixin\n    // we could return just 'false' here, and avoid the `skipRender` checks etc\n    // however, it is nicer if lifecycle events are triggered like usually,\n    // so we return true here if props are shallowly modified.\n\n\n    return !shallowEqual(this.props, nextProps);\n  }\n};\n\nfunction makeObservableProp(target, propName) {\n  var valueHolderKey = createSymbol(propName + \" value holder\");\n  var atomHolderKey = createSymbol(propName + \" atom holder\");\n\n  function getAtom() {\n    if (!this[atomHolderKey]) {\n      setHiddenProp(this, atomHolderKey, Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"createAtom\"])(\"reactive \" + propName));\n    }\n\n    return this[atomHolderKey];\n  }\n\n  Object.defineProperty(target, propName, {\n    configurable: true,\n    enumerable: true,\n    get: function get$$1() {\n      getAtom.call(this).reportObserved();\n      return this[valueHolderKey];\n    },\n    set: function set$$1(v) {\n      if (!this[isForcingUpdateKey] && !shallowEqual(this[valueHolderKey], v)) {\n        setHiddenProp(this, valueHolderKey, v);\n        setHiddenProp(this, skipRenderKey, true);\n        getAtom.call(this).reportChanged();\n        setHiddenProp(this, skipRenderKey, false);\n      } else {\n        setHiddenProp(this, valueHolderKey, v);\n      }\n    }\n  });\n}\n/**\n * Observer function / decorator\n */\n\n\nfunction observer(arg1, arg2) {\n  if (typeof arg1 === \"string\") {\n    throw new Error(\"Store names should be provided as array\");\n  }\n\n  if (Array.isArray(arg1)) {\n    // TODO: remove in next major\n    // component needs stores\n    if (!warnedAboutObserverInjectDeprecation) {\n      warnedAboutObserverInjectDeprecation = true;\n      console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject(\"store1\", \"store2\") @observer ComponentClass` or `inject(\"store1\", \"store2\")(observer(componentClass))` instead of `@observer([\"store1\", \"store2\"]) ComponentClass`');\n    }\n\n    if (!arg2) {\n      // invoked as decorator\n      return function (componentClass) {\n        return observer(arg1, componentClass);\n      };\n    } else {\n      return inject.apply(null, arg1)(observer(arg2));\n    }\n  }\n\n  var componentClass = arg1;\n\n  if (componentClass.isMobxInjector === true) {\n    console.warn(\"Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'\");\n  }\n\n  if (componentClass.__proto__ === react__WEBPACK_IMPORTED_MODULE_1__[\"PureComponent\"]) {\n    console.warn(\"Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together\");\n  } // Stateless function component:\n  // If it is function but doesn't seem to be a react class constructor,\n  // wrap it to a react class automatically\n\n\n  if (typeof componentClass === \"function\" && (!componentClass.prototype || !componentClass.prototype.render) && !componentClass.isReactClass && !react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"].isPrototypeOf(componentClass)) {\n    var _class, _temp;\n\n    var observerComponent = observer((_temp = _class = function (_Component) {\n      inherits(_class, _Component);\n\n      function _class() {\n        classCallCheck(this, _class);\n        return possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n      }\n\n      createClass(_class, [{\n        key: \"render\",\n        value: function render() {\n          return componentClass.call(this, this.props, this.context);\n        }\n      }]);\n      return _class;\n    }(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]), _class.displayName = componentClass.displayName || componentClass.name, _class.contextTypes = componentClass.contextTypes, _class.propTypes = componentClass.propTypes, _class.defaultProps = componentClass.defaultProps, _temp));\n    hoistNonReactStatics_cjs(observerComponent, componentClass);\n    return observerComponent;\n  }\n\n  if (!componentClass) {\n    throw new Error(\"Please pass a valid component to 'observer'\");\n  }\n\n  var target = componentClass.prototype || componentClass;\n  mixinLifecycleEvents(target);\n  componentClass.isMobXReactObserver = true;\n  makeObservableProp(target, \"props\");\n  makeObservableProp(target, \"state\");\n  var baseRender = target.render;\n\n  target.render = function () {\n    return makeComponentReactive.call(this, baseRender);\n  };\n\n  return componentClass;\n}\n\nfunction mixinLifecycleEvents(target) {\n  [\"componentDidMount\", \"componentWillUnmount\", \"componentDidUpdate\"].forEach(function (funcName) {\n    patch(target, funcName);\n  });\n\n  if (!target.shouldComponentUpdate) {\n    target.shouldComponentUpdate = reactiveMixin.shouldComponentUpdate;\n  } else {\n    if (target.shouldComponentUpdate !== reactiveMixin.shouldComponentUpdate) {\n      // TODO: make throw in next major\n      console.warn(\"Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react.\");\n    }\n  }\n}\n\nvar Observer = observer(function (_ref) {\n  var children = _ref.children,\n      observerInject = _ref.inject,\n      render = _ref.render;\n  var component = children || render;\n\n  if (typeof component === \"undefined\") {\n    return null;\n  }\n\n  if (!observerInject) {\n    return component();\n  } // TODO: remove in next major\n\n\n  console.warn(\"<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead\");\n  var InjectComponent = inject(observerInject)(component);\n  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(InjectComponent, null);\n});\nObserver.displayName = \"Observer\";\n\nvar ObserverPropsCheck = function ObserverPropsCheck(props, key, componentName, location, propFullName) {\n  var extraKey = key === \"children\" ? \"render\" : \"children\";\n\n  if (typeof props[key] === \"function\" && typeof props[extraKey] === \"function\") {\n    return new Error(\"Invalid prop,do not use children and render in the same time in`\" + componentName);\n  }\n\n  if (typeof props[key] === \"function\" || typeof props[extraKey] === \"function\") {\n    return;\n  }\n\n  return new Error(\"Invalid prop `\" + propFullName + \"` of type `\" + _typeof(props[key]) + \"` supplied to\" + \" `\" + componentName + \"`, expected `function`.\");\n};\n\nObserver.propTypes = {\n  render: ObserverPropsCheck,\n  children: ObserverPropsCheck\n};\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  } // Binding \"this\" is important for shallow renderer support.\n\n\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(prevProps, prevState);\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n} // React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\n\n\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component$$1) {\n  var prototype = Component$$1.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (typeof Component$$1.getDerivedStateFromProps !== 'function' && typeof prototype.getSnapshotBeforeUpdate !== 'function') {\n    return Component$$1;\n  } // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n\n\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n\n  if (foundWillMountName !== null || foundWillReceivePropsName !== null || foundWillUpdateName !== null) {\n    var componentName = Component$$1.displayName || Component$$1.name;\n    var newApiName = typeof Component$$1.getDerivedStateFromProps === 'function' ? 'getDerivedStateFromProps()' : 'getSnapshotBeforeUpdate()';\n    throw Error('Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' + componentName + ' uses ' + newApiName + ' but also contains the following legacy lifecycles:' + (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') + (foundWillReceivePropsName !== null ? '\\n  ' + foundWillReceivePropsName : '') + (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') + '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' + 'https://fb.me/react-async-component-lifecycle-hooks');\n  } // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n\n\n  if (typeof Component$$1.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  } // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n\n\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error('Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype');\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(prevProps, prevState, maybeSnapshot) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag ? this.__reactInternalSnapshot : maybeSnapshot;\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component$$1;\n}\n\nvar _class;\n\nvar _temp;\n\nvar specialReactKeys = {\n  children: true,\n  key: true,\n  ref: true\n};\nvar Provider = (_temp = _class = function (_Component) {\n  inherits(Provider, _Component);\n\n  function Provider(props, context) {\n    classCallCheck(this, Provider);\n\n    var _this = possibleConstructorReturn(this, (Provider.__proto__ || Object.getPrototypeOf(Provider)).call(this, props, context));\n\n    _this.state = {};\n    copyStores(props, _this.state);\n    return _this;\n  }\n\n  createClass(Provider, [{\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_1__[\"Children\"].only(this.props.children);\n    }\n  }, {\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var stores = {}; // inherit stores\n\n      copyStores(this.context.mobxStores, stores); // add own stores\n\n      copyStores(this.props, stores);\n      return {\n        mobxStores: stores\n      };\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (!nextProps) return null;\n      if (!prevState) return nextProps; // Maybe this warning is too aggressive?\n\n      if (Object.keys(nextProps).filter(validStoreName).length !== Object.keys(prevState).filter(validStoreName).length) console.warn(\"MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children\");\n      if (!nextProps.suppressChangedStoreWarning) for (var key in nextProps) {\n        if (validStoreName(key) && prevState[key] !== nextProps[key]) console.warn(\"MobX Provider: Provided store '\" + key + \"' has changed. Please avoid replacing stores as the change might not propagate to all children\");\n      }\n      return nextProps;\n    }\n  }]);\n  return Provider;\n}(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]), _class.contextTypes = {\n  mobxStores: objectOrObservableObject\n}, _class.childContextTypes = {\n  mobxStores: objectOrObservableObject.isRequired\n}, _temp);\n\nfunction copyStores(from, to) {\n  if (!from) return;\n\n  for (var key in from) {\n    if (validStoreName(key)) to[key] = from[key];\n  }\n}\n\nfunction validStoreName(key) {\n  return !specialReactKeys[key] && key !== \"suppressChangedStoreWarning\";\n} // TODO: kill in next major\n\n\npolyfill(Provider);\nif (!react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]) throw new Error(\"mobx-react requires React to be available\");\nif (!mobx__WEBPACK_IMPORTED_MODULE_0__[\"spy\"]) throw new Error(\"mobx-react requires mobx to be available\");\nif (typeof react_dom__WEBPACK_IMPORTED_MODULE_2__[\"unstable_batchedUpdates\"] === \"function\") Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"configure\"])({\n  reactionScheduler: react_dom__WEBPACK_IMPORTED_MODULE_2__[\"unstable_batchedUpdates\"]\n});else if (typeof unstable_batchedUpdates$1 === \"function\") Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"configure\"])({\n  reactionScheduler: unstable_batchedUpdates$1\n});\n\nvar onError = function onError(fn) {\n  return errorsReporter.on(fn);\n};\n/* DevTool support */\n// See: https://github.com/andykog/mobx-devtools/blob/d8976c24b8cb727ed59f9a0bc905a009df79e221/src/backend/installGlobalHook.js\n\n\nif ((typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ === \"undefined\" ? \"undefined\" : _typeof(__MOBX_DEVTOOLS_GLOBAL_HOOK__)) === \"object\") {\n  var mobx$1 = {\n    spy: mobx__WEBPACK_IMPORTED_MODULE_0__[\"spy\"],\n    extras: {\n      getDebugName: mobx__WEBPACK_IMPORTED_MODULE_0__[\"getDebugName\"]\n    }\n  };\n  var mobxReact = {\n    renderReporter: renderReporter,\n    componentByNodeRegistry: componentByNodeRegistry,\n    componentByNodeRegistery: componentByNodeRegistry,\n    trackComponents: trackComponents\n  };\n\n  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(mobxReact, mobx$1);\n}\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/mobx/lib/mobx.module.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/mobx/lib/mobx.module.js ***!\n  \\**********************************************/\n/*! exports provided: $mobx, FlowCancellationError, IDerivationState, ObservableMap, ObservableSet, Reaction, _allowStateChanges, _allowStateChangesInsideComputed, _allowStateReadsEnd, _allowStateReadsStart, _endAction, _getAdministration, _getGlobalState, _interceptReads, _isComputingDerivation, _resetGlobalState, _startAction, action, autorun, comparer, computed, configure, createAtom, decorate, entries, extendObservable, flow, get, getAtom, getDebugName, getDependencyTree, getObserverTree, has, intercept, isAction, isArrayLike, isBoxedObservable, isComputed, isComputedProp, isFlowCancellationError, isObservable, isObservableArray, isObservableMap, isObservableObject, isObservableProp, isObservableSet, keys, observable, observe, onBecomeObserved, onBecomeUnobserved, onReactionError, reaction, remove, runInAction, set, spy, toJS, trace, transaction, untracked, values, when */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(process, global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"$mobx\", function() { return $mobx; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FlowCancellationError\", function() { return FlowCancellationError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IDerivationState\", function() { return IDerivationState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObservableMap\", function() { return ObservableMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObservableSet\", function() { return ObservableSet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Reaction\", function() { return Reaction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_allowStateChanges\", function() { return allowStateChanges; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_allowStateChangesInsideComputed\", function() { return allowStateChangesInsideComputed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_allowStateReadsEnd\", function() { return allowStateReadsEnd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_allowStateReadsStart\", function() { return allowStateReadsStart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_endAction\", function() { return _endAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_getAdministration\", function() { return getAdministration; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_getGlobalState\", function() { return getGlobalState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_interceptReads\", function() { return interceptReads; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_isComputingDerivation\", function() { return isComputingDerivation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_resetGlobalState\", function() { return resetGlobalState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_startAction\", function() { return _startAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"action\", function() { return action; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"autorun\", function() { return autorun; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"comparer\", function() { return comparer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"computed\", function() { return computed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"configure\", function() { return configure; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createAtom\", function() { return createAtom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"decorate\", function() { return decorate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"entries\", function() { return entries; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"extendObservable\", function() { return extendObservable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flow\", function() { return flow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get\", function() { return get; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAtom\", function() { return getAtom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDebugName\", function() { return getDebugName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDependencyTree\", function() { return getDependencyTree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getObserverTree\", function() { return getObserverTree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"has\", function() { return has; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"intercept\", function() { return intercept; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAction\", function() { return isAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isArrayLike\", function() { return isArrayLike; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isBoxedObservable\", function() { return isObservableValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isComputed\", function() { return isComputed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isComputedProp\", function() { return isComputedProp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isFlowCancellationError\", function() { return isFlowCancellationError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isObservable\", function() { return isObservable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isObservableArray\", function() { return isObservableArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isObservableMap\", function() { return isObservableMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isObservableObject\", function() { return isObservableObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isObservableProp\", function() { return isObservableProp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isObservableSet\", function() { return isObservableSet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"keys\", function() { return keys; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"observable\", function() { return observable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"observe\", function() { return observe; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onBecomeObserved\", function() { return onBecomeObserved; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onBecomeUnobserved\", function() { return onBecomeUnobserved; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onReactionError\", function() { return onReactionError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reaction\", function() { return reaction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"remove\", function() { return remove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"runInAction\", function() { return runInAction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"set\", function() { return set; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"spy\", function() { return spy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toJS\", function() { return toJS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"trace\", function() { return trace; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"transaction\", function() { return transaction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"untracked\", function() { return untracked; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"values\", function() { return values; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"when\", function() { return when; });\n/** MobX - (c) Michel Weststrate 2015 - 2020 - MIT Licensed */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n}\n\nvar OBFUSCATED_ERROR = \"An invariant failed, however the error is obfuscated because this is a production build.\";\nvar EMPTY_ARRAY = [];\nObject.freeze(EMPTY_ARRAY);\nvar EMPTY_OBJECT = {};\nObject.freeze(EMPTY_OBJECT);\n\nfunction getNextId() {\n  return ++globalState.mobxGuid;\n}\n\nfunction fail(message) {\n  invariant(false, message);\n  throw \"X\"; // unreachable\n}\n\nfunction invariant(check, message) {\n  if (!check) throw new Error(\"[mobx] \" + (message || OBFUSCATED_ERROR));\n}\n/**\r\n * Prints a deprecation message, but only one time.\r\n * Returns false if the deprecated message was already printed before\r\n */\n\n\nvar deprecatedMessages = [];\n\nfunction deprecated(msg, thing) {\n  if (false) {}\n\n  if (thing) {\n    return deprecated(\"'\" + msg + \"', use '\" + thing + \"' instead.\");\n  }\n\n  if (deprecatedMessages.indexOf(msg) !== -1) return false;\n  deprecatedMessages.push(msg);\n  console.error(\"[mobx] Deprecated: \" + msg);\n  return true;\n}\n/**\r\n * Makes sure that the provided function is invoked at most once.\r\n */\n\n\nfunction once(func) {\n  var invoked = false;\n  return function () {\n    if (invoked) return;\n    invoked = true;\n    return func.apply(this, arguments);\n  };\n}\n\nvar noop = function () {};\n\nfunction unique(list) {\n  var res = [];\n  list.forEach(function (item) {\n    if (res.indexOf(item) === -1) res.push(item);\n  });\n  return res;\n}\n\nfunction isObject(value) {\n  return value !== null && typeof value === \"object\";\n}\n\nfunction isPlainObject(value) {\n  if (value === null || typeof value !== \"object\") return false;\n  var proto = Object.getPrototypeOf(value);\n  return proto === Object.prototype || proto === null;\n}\n\nfunction addHiddenProp(object, propName, value) {\n  Object.defineProperty(object, propName, {\n    enumerable: false,\n    writable: true,\n    configurable: true,\n    value: value\n  });\n}\n\nfunction addHiddenFinalProp(object, propName, value) {\n  Object.defineProperty(object, propName, {\n    enumerable: false,\n    writable: false,\n    configurable: true,\n    value: value\n  });\n}\n\nfunction isPropertyConfigurable(object, prop) {\n  var descriptor = Object.getOwnPropertyDescriptor(object, prop);\n  return !descriptor || descriptor.configurable !== false && descriptor.writable !== false;\n}\n\nfunction assertPropertyConfigurable(object, prop) {\n  if (  true && !isPropertyConfigurable(object, prop)) fail(\"Cannot make property '\" + prop.toString() + \"' observable, it is not configurable and writable in the target object\");\n}\n\nfunction createInstanceofPredicate(name, clazz) {\n  var propName = \"isMobX\" + name;\n  clazz.prototype[propName] = true;\n  return function (x) {\n    return isObject(x) && x[propName] === true;\n  };\n}\n/**\r\n * Returns whether the argument is an array, disregarding observability.\r\n */\n\n\nfunction isArrayLike(x) {\n  return Array.isArray(x) || isObservableArray(x);\n}\n\nfunction isES6Map(thing) {\n  return thing instanceof Map;\n}\n\nfunction isES6Set(thing) {\n  return thing instanceof Set;\n}\n/**\r\n * Returns the following: own keys, prototype keys & own symbol keys, if they are enumerable.\r\n */\n\n\nfunction getPlainObjectKeys(object) {\n  var enumerables = new Set();\n\n  for (var key in object) enumerables.add(key); // *all* enumerables\n\n\n  Object.getOwnPropertySymbols(object).forEach(function (k) {\n    if (Object.getOwnPropertyDescriptor(object, k).enumerable) enumerables.add(k);\n  }); // *own* symbols\n  // Note: this implementation is missing enumerable, inherited, symbolic property names! That would however pretty expensive to add,\n  // as there is no efficient iterator that returns *all* properties\n\n  return Array.from(enumerables);\n}\n\nfunction stringifyKey(key) {\n  if (key && key.toString) return key.toString();else return new String(key).toString();\n}\n\nfunction getMapLikeKeys(map) {\n  if (isPlainObject(map)) return Object.keys(map);\n  if (Array.isArray(map)) return map.map(function (_a) {\n    var _b = __read(_a, 1),\n        key = _b[0];\n\n    return key;\n  });\n  if (isES6Map(map) || isObservableMap(map)) return Array.from(map.keys());\n  return fail(\"Cannot get keys from '\" + map + \"'\");\n}\n\nfunction toPrimitive(value) {\n  return value === null ? null : typeof value === \"object\" ? \"\" + value : value;\n}\n\nvar $mobx = Symbol(\"mobx administration\");\n\nvar Atom =\n/** @class */\nfunction () {\n  /**\r\n   * Create a new atom. For debugging purposes it is recommended to give it a name.\r\n   * The onBecomeObserved and onBecomeUnobserved callbacks can be used for resource management.\r\n   */\n  function Atom(name) {\n    if (name === void 0) {\n      name = \"Atom@\" + getNextId();\n    }\n\n    this.name = name;\n    this.isPendingUnobservation = false; // for effective unobserving. BaseAtom has true, for extra optimization, so its onBecomeUnobserved never gets called, because it's not needed\n\n    this.isBeingObserved = false;\n    this.observers = new Set();\n    this.diffValue = 0;\n    this.lastAccessedBy = 0;\n    this.lowestObserverState = IDerivationState.NOT_TRACKING;\n  }\n\n  Atom.prototype.onBecomeObserved = function () {\n    if (this.onBecomeObservedListeners) {\n      this.onBecomeObservedListeners.forEach(function (listener) {\n        return listener();\n      });\n    }\n  };\n\n  Atom.prototype.onBecomeUnobserved = function () {\n    if (this.onBecomeUnobservedListeners) {\n      this.onBecomeUnobservedListeners.forEach(function (listener) {\n        return listener();\n      });\n    }\n  };\n  /**\r\n   * Invoke this method to notify mobx that your atom has been used somehow.\r\n   * Returns true if there is currently a reactive context.\r\n   */\n\n\n  Atom.prototype.reportObserved = function () {\n    return reportObserved(this);\n  };\n  /**\r\n   * Invoke this method _after_ this method has changed to signal mobx that all its observers should invalidate.\r\n   */\n\n\n  Atom.prototype.reportChanged = function () {\n    startBatch();\n    propagateChanged(this);\n    endBatch();\n  };\n\n  Atom.prototype.toString = function () {\n    return this.name;\n  };\n\n  return Atom;\n}();\n\nvar isAtom = createInstanceofPredicate(\"Atom\", Atom);\n\nfunction createAtom(name, onBecomeObservedHandler, onBecomeUnobservedHandler) {\n  if (onBecomeObservedHandler === void 0) {\n    onBecomeObservedHandler = noop;\n  }\n\n  if (onBecomeUnobservedHandler === void 0) {\n    onBecomeUnobservedHandler = noop;\n  }\n\n  var atom = new Atom(name); // default `noop` listener will not initialize the hook Set\n\n  if (onBecomeObservedHandler !== noop) {\n    onBecomeObserved(atom, onBecomeObservedHandler);\n  }\n\n  if (onBecomeUnobservedHandler !== noop) {\n    onBecomeUnobserved(atom, onBecomeUnobservedHandler);\n  }\n\n  return atom;\n}\n\nfunction identityComparer(a, b) {\n  return a === b;\n}\n\nfunction structuralComparer(a, b) {\n  return deepEqual(a, b);\n}\n\nfunction shallowComparer(a, b) {\n  return deepEqual(a, b, 1);\n}\n\nfunction defaultComparer(a, b) {\n  return Object.is(a, b);\n}\n\nvar comparer = {\n  identity: identityComparer,\n  structural: structuralComparer,\n  default: defaultComparer,\n  shallow: shallowComparer\n};\nvar mobxDidRunLazyInitializersSymbol = Symbol(\"mobx did run lazy initializers\");\nvar mobxPendingDecorators = Symbol(\"mobx pending decorators\");\nvar enumerableDescriptorCache = {};\nvar nonEnumerableDescriptorCache = {};\n\nfunction createPropertyInitializerDescriptor(prop, enumerable) {\n  var cache = enumerable ? enumerableDescriptorCache : nonEnumerableDescriptorCache;\n  return cache[prop] || (cache[prop] = {\n    configurable: true,\n    enumerable: enumerable,\n    get: function () {\n      initializeInstance(this);\n      return this[prop];\n    },\n    set: function (value) {\n      initializeInstance(this);\n      this[prop] = value;\n    }\n  });\n}\n\nfunction initializeInstance(target) {\n  var e_1, _a;\n\n  if (target[mobxDidRunLazyInitializersSymbol] === true) return;\n  var decorators = target[mobxPendingDecorators];\n\n  if (decorators) {\n    addHiddenProp(target, mobxDidRunLazyInitializersSymbol, true); // Build property key array from both strings and symbols\n\n    var keys = __spread(Object.getOwnPropertySymbols(decorators), Object.keys(decorators));\n\n    try {\n      for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {\n        var key = keys_1_1.value;\n        var d = decorators[key];\n        d.propertyCreator(target, d.prop, d.descriptor, d.decoratorTarget, d.decoratorArguments);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  }\n}\n\nfunction createPropDecorator(propertyInitiallyEnumerable, propertyCreator) {\n  return function decoratorFactory() {\n    var decoratorArguments;\n\n    var decorator = function decorate(target, prop, descriptor, applyImmediately // This is a special parameter to signal the direct application of a decorator, allow extendObservable to skip the entire type decoration part,\n    // as the instance to apply the decorator to equals the target\n    ) {\n      if (applyImmediately === true) {\n        propertyCreator(target, prop, descriptor, target, decoratorArguments);\n        return null;\n      }\n\n      if (  true && !quacksLikeADecorator(arguments)) fail(\"This function is a decorator, but it wasn't invoked like a decorator\");\n\n      if (!Object.prototype.hasOwnProperty.call(target, mobxPendingDecorators)) {\n        var inheritedDecorators = target[mobxPendingDecorators];\n        addHiddenProp(target, mobxPendingDecorators, __assign({}, inheritedDecorators));\n      }\n\n      target[mobxPendingDecorators][prop] = {\n        prop: prop,\n        propertyCreator: propertyCreator,\n        descriptor: descriptor,\n        decoratorTarget: target,\n        decoratorArguments: decoratorArguments\n      };\n      return createPropertyInitializerDescriptor(prop, propertyInitiallyEnumerable);\n    };\n\n    if (quacksLikeADecorator(arguments)) {\n      // @decorator\n      decoratorArguments = EMPTY_ARRAY;\n      return decorator.apply(null, arguments);\n    } else {\n      // @decorator(args)\n      decoratorArguments = Array.prototype.slice.call(arguments);\n      return decorator;\n    }\n  };\n}\n\nfunction quacksLikeADecorator(args) {\n  return (args.length === 2 || args.length === 3) && (typeof args[1] === \"string\" || typeof args[1] === \"symbol\") || args.length === 4 && args[3] === true;\n}\n\nfunction deepEnhancer(v, _, name) {\n  // it is an observable already, done\n  if (isObservable(v)) return v; // something that can be converted and mutated?\n\n  if (Array.isArray(v)) return observable.array(v, {\n    name: name\n  });\n  if (isPlainObject(v)) return observable.object(v, undefined, {\n    name: name\n  });\n  if (isES6Map(v)) return observable.map(v, {\n    name: name\n  });\n  if (isES6Set(v)) return observable.set(v, {\n    name: name\n  });\n  return v;\n}\n\nfunction shallowEnhancer(v, _, name) {\n  if (v === undefined || v === null) return v;\n  if (isObservableObject(v) || isObservableArray(v) || isObservableMap(v) || isObservableSet(v)) return v;\n  if (Array.isArray(v)) return observable.array(v, {\n    name: name,\n    deep: false\n  });\n  if (isPlainObject(v)) return observable.object(v, undefined, {\n    name: name,\n    deep: false\n  });\n  if (isES6Map(v)) return observable.map(v, {\n    name: name,\n    deep: false\n  });\n  if (isES6Set(v)) return observable.set(v, {\n    name: name,\n    deep: false\n  });\n  return fail(  true && \"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets\");\n}\n\nfunction referenceEnhancer(newValue) {\n  // never turn into an observable\n  return newValue;\n}\n\nfunction refStructEnhancer(v, oldValue, name) {\n  if (  true && isObservable(v)) throw \"observable.struct should not be used with observable values\";\n  if (deepEqual(v, oldValue)) return oldValue;\n  return v;\n}\n\nfunction createDecoratorForEnhancer(enhancer) {\n  invariant(enhancer);\n  var decorator = createPropDecorator(true, function (target, propertyName, descriptor, _decoratorTarget, decoratorArgs) {\n    if (true) {\n      invariant(!descriptor || !descriptor.get, \"@observable cannot be used on getter (property \\\"\" + stringifyKey(propertyName) + \"\\\"), use @computed instead.\");\n    }\n\n    var initialValue = descriptor ? descriptor.initializer ? descriptor.initializer.call(target) : descriptor.value : undefined;\n    asObservableObject(target).addObservableProp(propertyName, initialValue, enhancer);\n  });\n  var res = // Extra process checks, as this happens during module initialization\n  typeof process !== \"undefined\" && process.env && \"development\" !== \"production\" ? function observableDecorator() {\n    // This wrapper function is just to detect illegal decorator invocations, deprecate in a next version\n    // and simply return the created prop decorator\n    if (arguments.length < 2) return fail(\"Incorrect decorator invocation. @observable decorator doesn't expect any arguments\");\n    return decorator.apply(null, arguments);\n  } : decorator;\n  res.enhancer = enhancer;\n  return res;\n} // Predefined bags of create observable options, to avoid allocating temporarily option objects\n// in the majority of cases\n\n\nvar defaultCreateObservableOptions = {\n  deep: true,\n  name: undefined,\n  defaultDecorator: undefined,\n  proxy: true\n};\nObject.freeze(defaultCreateObservableOptions);\n\nfunction assertValidOption(key) {\n  if (!/^(deep|name|equals|defaultDecorator|proxy)$/.test(key)) fail(\"invalid option for (extend)observable: \" + key);\n}\n\nfunction asCreateObservableOptions(thing) {\n  if (thing === null || thing === undefined) return defaultCreateObservableOptions;\n  if (typeof thing === \"string\") return {\n    name: thing,\n    deep: true,\n    proxy: true\n  };\n\n  if (true) {\n    if (typeof thing !== \"object\") return fail(\"expected options object\");\n    Object.keys(thing).forEach(assertValidOption);\n  }\n\n  return thing;\n}\n\nvar deepDecorator = createDecoratorForEnhancer(deepEnhancer);\nvar shallowDecorator = createDecoratorForEnhancer(shallowEnhancer);\nvar refDecorator = createDecoratorForEnhancer(referenceEnhancer);\nvar refStructDecorator = createDecoratorForEnhancer(refStructEnhancer);\n\nfunction getEnhancerFromOptions(options) {\n  return options.defaultDecorator ? options.defaultDecorator.enhancer : options.deep === false ? referenceEnhancer : deepEnhancer;\n}\n/**\r\n * Turns an object, array or function into a reactive structure.\r\n * @param v the value which should become observable.\r\n */\n\n\nfunction createObservable(v, arg2, arg3) {\n  // @observable someProp;\n  if (typeof arguments[1] === \"string\" || typeof arguments[1] === \"symbol\") {\n    return deepDecorator.apply(null, arguments);\n  } // it is an observable already, done\n\n\n  if (isObservable(v)) return v; // something that can be converted and mutated?\n\n  var res = isPlainObject(v) ? observable.object(v, arg2, arg3) : Array.isArray(v) ? observable.array(v, arg2) : isES6Map(v) ? observable.map(v, arg2) : isES6Set(v) ? observable.set(v, arg2) : v; // this value could be converted to a new observable data structure, return it\n\n  if (res !== v) return res; // otherwise, just box it\n\n  fail(  true && \"The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'\");\n}\n\nvar observableFactories = {\n  box: function (value, options) {\n    if (arguments.length > 2) incorrectlyUsedAsDecorator(\"box\");\n    var o = asCreateObservableOptions(options);\n    return new ObservableValue(value, getEnhancerFromOptions(o), o.name, true, o.equals);\n  },\n  array: function (initialValues, options) {\n    if (arguments.length > 2) incorrectlyUsedAsDecorator(\"array\");\n    var o = asCreateObservableOptions(options);\n    return createObservableArray(initialValues, getEnhancerFromOptions(o), o.name);\n  },\n  map: function (initialValues, options) {\n    if (arguments.length > 2) incorrectlyUsedAsDecorator(\"map\");\n    var o = asCreateObservableOptions(options);\n    return new ObservableMap(initialValues, getEnhancerFromOptions(o), o.name);\n  },\n  set: function (initialValues, options) {\n    if (arguments.length > 2) incorrectlyUsedAsDecorator(\"set\");\n    var o = asCreateObservableOptions(options);\n    return new ObservableSet(initialValues, getEnhancerFromOptions(o), o.name);\n  },\n  object: function (props, decorators, options) {\n    if (typeof arguments[1] === \"string\") incorrectlyUsedAsDecorator(\"object\");\n    var o = asCreateObservableOptions(options);\n\n    if (o.proxy === false) {\n      return extendObservable({}, props, decorators, o);\n    } else {\n      var defaultDecorator = getDefaultDecoratorFromObjectOptions(o);\n      var base = extendObservable({}, undefined, undefined, o);\n      var proxy = createDynamicObservableObject(base);\n      extendObservableObjectWithProperties(proxy, props, decorators, defaultDecorator);\n      return proxy;\n    }\n  },\n  ref: refDecorator,\n  shallow: shallowDecorator,\n  deep: deepDecorator,\n  struct: refStructDecorator\n};\nvar observable = createObservable; // weird trick to keep our typings nicely with our funcs, and still extend the observable function\n\nObject.keys(observableFactories).forEach(function (name) {\n  return observable[name] = observableFactories[name];\n});\n\nfunction incorrectlyUsedAsDecorator(methodName) {\n  fail( // process.env.NODE_ENV !== \"production\" &&\n  \"Expected one or two arguments to observable.\" + methodName + \". Did you accidentally try to use observable.\" + methodName + \" as decorator?\");\n}\n\nvar computedDecorator = createPropDecorator(false, function (instance, propertyName, descriptor, decoratorTarget, decoratorArgs) {\n  var get = descriptor.get,\n      set = descriptor.set; // initialValue is the descriptor for get / set props\n  // Optimization: faster on decorator target or instance? Assuming target\n  // Optimization: find out if declaring on instance isn't just faster. (also makes the property descriptor simpler). But, more memory usage..\n  // Forcing instance now, fixes hot reloadig issues on React Native:\n\n  var options = decoratorArgs[0] || {};\n  asObservableObject(instance).addComputedProp(instance, propertyName, __assign({\n    get: get,\n    set: set,\n    context: instance\n  }, options));\n});\nvar computedStructDecorator = computedDecorator({\n  equals: comparer.structural\n});\n/**\r\n * Decorator for class properties: @computed get value() { return expr; }.\r\n * For legacy purposes also invokable as ES5 observable created: `computed(() => expr)`;\r\n */\n\nvar computed = function computed(arg1, arg2, arg3) {\n  if (typeof arg2 === \"string\") {\n    // @computed\n    return computedDecorator.apply(null, arguments);\n  }\n\n  if (arg1 !== null && typeof arg1 === \"object\" && arguments.length === 1) {\n    // @computed({ options })\n    return computedDecorator.apply(null, arguments);\n  } // computed(expr, options?)\n\n\n  if (true) {\n    invariant(typeof arg1 === \"function\", \"First argument to `computed` should be an expression.\");\n    invariant(arguments.length < 3, \"Computed takes one or two arguments if used as function\");\n  }\n\n  var opts = typeof arg2 === \"object\" ? arg2 : {};\n  opts.get = arg1;\n  opts.set = typeof arg2 === \"function\" ? arg2 : opts.set;\n  opts.name = opts.name || arg1.name || \"\";\n  /* for generated name */\n\n  return new ComputedValue(opts);\n};\n\ncomputed.struct = computedStructDecorator;\nvar IDerivationState;\n\n(function (IDerivationState) {\n  // before being run or (outside batch and not being observed)\n  // at this point derivation is not holding any data about dependency tree\n  IDerivationState[IDerivationState[\"NOT_TRACKING\"] = -1] = \"NOT_TRACKING\"; // no shallow dependency changed since last computation\n  // won't recalculate derivation\n  // this is what makes mobx fast\n\n  IDerivationState[IDerivationState[\"UP_TO_DATE\"] = 0] = \"UP_TO_DATE\"; // some deep dependency changed, but don't know if shallow dependency changed\n  // will require to check first if UP_TO_DATE or POSSIBLY_STALE\n  // currently only ComputedValue will propagate POSSIBLY_STALE\n  //\n  // having this state is second big optimization:\n  // don't have to recompute on every dependency change, but only when it's needed\n\n  IDerivationState[IDerivationState[\"POSSIBLY_STALE\"] = 1] = \"POSSIBLY_STALE\"; // A shallow dependency has changed since last computation and the derivation\n  // will need to recompute when it's needed next.\n\n  IDerivationState[IDerivationState[\"STALE\"] = 2] = \"STALE\";\n})(IDerivationState || (IDerivationState = {}));\n\nvar TraceMode;\n\n(function (TraceMode) {\n  TraceMode[TraceMode[\"NONE\"] = 0] = \"NONE\";\n  TraceMode[TraceMode[\"LOG\"] = 1] = \"LOG\";\n  TraceMode[TraceMode[\"BREAK\"] = 2] = \"BREAK\";\n})(TraceMode || (TraceMode = {}));\n\nvar CaughtException =\n/** @class */\nfunction () {\n  function CaughtException(cause) {\n    this.cause = cause; // Empty\n  }\n\n  return CaughtException;\n}();\n\nfunction isCaughtException(e) {\n  return e instanceof CaughtException;\n}\n/**\r\n * Finds out whether any dependency of the derivation has actually changed.\r\n * If dependenciesState is 1 then it will recalculate dependencies,\r\n * if any dependency changed it will propagate it by changing dependenciesState to 2.\r\n *\r\n * By iterating over the dependencies in the same order that they were reported and\r\n * stopping on the first change, all the recalculations are only called for ComputedValues\r\n * that will be tracked by derivation. That is because we assume that if the first x\r\n * dependencies of the derivation doesn't change then the derivation should run the same way\r\n * up until accessing x-th dependency.\r\n */\n\n\nfunction shouldCompute(derivation) {\n  switch (derivation.dependenciesState) {\n    case IDerivationState.UP_TO_DATE:\n      return false;\n\n    case IDerivationState.NOT_TRACKING:\n    case IDerivationState.STALE:\n      return true;\n\n    case IDerivationState.POSSIBLY_STALE:\n      {\n        // state propagation can occur outside of action/reactive context #2195\n        var prevAllowStateReads = allowStateReadsStart(true);\n        var prevUntracked = untrackedStart(); // no need for those computeds to be reported, they will be picked up in trackDerivedFunction.\n\n        var obs = derivation.observing,\n            l = obs.length;\n\n        for (var i = 0; i < l; i++) {\n          var obj = obs[i];\n\n          if (isComputedValue(obj)) {\n            if (globalState.disableErrorBoundaries) {\n              obj.get();\n            } else {\n              try {\n                obj.get();\n              } catch (e) {\n                // we are not interested in the value *or* exception at this moment, but if there is one, notify all\n                untrackedEnd(prevUntracked);\n                allowStateReadsEnd(prevAllowStateReads);\n                return true;\n              }\n            } // if ComputedValue `obj` actually changed it will be computed and propagated to its observers.\n            // and `derivation` is an observer of `obj`\n            // invariantShouldCompute(derivation)\n\n\n            if (derivation.dependenciesState === IDerivationState.STALE) {\n              untrackedEnd(prevUntracked);\n              allowStateReadsEnd(prevAllowStateReads);\n              return true;\n            }\n          }\n        }\n\n        changeDependenciesStateTo0(derivation);\n        untrackedEnd(prevUntracked);\n        allowStateReadsEnd(prevAllowStateReads);\n        return false;\n      }\n  }\n} // function invariantShouldCompute(derivation: IDerivation) {\n//     const newDepState = (derivation as any).dependenciesState\n//     if (\n//         process.env.NODE_ENV === \"production\" &&\n//         (newDepState === IDerivationState.POSSIBLY_STALE ||\n//             newDepState === IDerivationState.NOT_TRACKING)\n//     )\n//         fail(\"Illegal dependency state\")\n// }\n\n\nfunction isComputingDerivation() {\n  return globalState.trackingDerivation !== null; // filter out actions inside computations\n}\n\nfunction checkIfStateModificationsAreAllowed(atom) {\n  var hasObservers = atom.observers.size > 0; // Should never be possible to change an observed observable from inside computed, see #798\n\n  if (globalState.computationDepth > 0 && hasObservers) fail(  true && \"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: \" + atom.name); // Should not be possible to change observed state outside strict mode, except during initialization, see #563\n\n  if (!globalState.allowStateChanges && (hasObservers || globalState.enforceActions === \"strict\")) fail(  true && (globalState.enforceActions ? \"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: \" : \"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: \") + atom.name);\n}\n\nfunction checkIfStateReadsAreAllowed(observable) {\n  if (  true && !globalState.allowStateReads && globalState.observableRequiresReaction) {\n    console.warn(\"[mobx] Observable \" + observable.name + \" being read outside a reactive context\");\n  }\n}\n/**\r\n * Executes the provided function `f` and tracks which observables are being accessed.\r\n * The tracking information is stored on the `derivation` object and the derivation is registered\r\n * as observer of any of the accessed observables.\r\n */\n\n\nfunction trackDerivedFunction(derivation, f, context) {\n  var prevAllowStateReads = allowStateReadsStart(true); // pre allocate array allocation + room for variation in deps\n  // array will be trimmed by bindDependencies\n\n  changeDependenciesStateTo0(derivation);\n  derivation.newObserving = new Array(derivation.observing.length + 100);\n  derivation.unboundDepsCount = 0;\n  derivation.runId = ++globalState.runId;\n  var prevTracking = globalState.trackingDerivation;\n  globalState.trackingDerivation = derivation;\n  var result;\n\n  if (globalState.disableErrorBoundaries === true) {\n    result = f.call(context);\n  } else {\n    try {\n      result = f.call(context);\n    } catch (e) {\n      result = new CaughtException(e);\n    }\n  }\n\n  globalState.trackingDerivation = prevTracking;\n  bindDependencies(derivation);\n  warnAboutDerivationWithoutDependencies(derivation);\n  allowStateReadsEnd(prevAllowStateReads);\n  return result;\n}\n\nfunction warnAboutDerivationWithoutDependencies(derivation) {\n  if (false) {}\n  if (derivation.observing.length !== 0) return;\n\n  if (globalState.reactionRequiresObservable || derivation.requiresObservable) {\n    console.warn(\"[mobx] Derivation \" + derivation.name + \" is created/updated without reading any observable value\");\n  }\n}\n/**\r\n * diffs newObserving with observing.\r\n * update observing to be newObserving with unique observables\r\n * notify observers that become observed/unobserved\r\n */\n\n\nfunction bindDependencies(derivation) {\n  // invariant(derivation.dependenciesState !== IDerivationState.NOT_TRACKING, \"INTERNAL ERROR bindDependencies expects derivation.dependenciesState !== -1\");\n  var prevObserving = derivation.observing;\n  var observing = derivation.observing = derivation.newObserving;\n  var lowestNewObservingDerivationState = IDerivationState.UP_TO_DATE; // Go through all new observables and check diffValue: (this list can contain duplicates):\n  //   0: first occurrence, change to 1 and keep it\n  //   1: extra occurrence, drop it\n\n  var i0 = 0,\n      l = derivation.unboundDepsCount;\n\n  for (var i = 0; i < l; i++) {\n    var dep = observing[i];\n\n    if (dep.diffValue === 0) {\n      dep.diffValue = 1;\n      if (i0 !== i) observing[i0] = dep;\n      i0++;\n    } // Upcast is 'safe' here, because if dep is IObservable, `dependenciesState` will be undefined,\n    // not hitting the condition\n\n\n    if (dep.dependenciesState > lowestNewObservingDerivationState) {\n      lowestNewObservingDerivationState = dep.dependenciesState;\n    }\n  }\n\n  observing.length = i0;\n  derivation.newObserving = null; // newObserving shouldn't be needed outside tracking (statement moved down to work around FF bug, see #614)\n  // Go through all old observables and check diffValue: (it is unique after last bindDependencies)\n  //   0: it's not in new observables, unobserve it\n  //   1: it keeps being observed, don't want to notify it. change to 0\n\n  l = prevObserving.length;\n\n  while (l--) {\n    var dep = prevObserving[l];\n\n    if (dep.diffValue === 0) {\n      removeObserver(dep, derivation);\n    }\n\n    dep.diffValue = 0;\n  } // Go through all new observables and check diffValue: (now it should be unique)\n  //   0: it was set to 0 in last loop. don't need to do anything.\n  //   1: it wasn't observed, let's observe it. set back to 0\n\n\n  while (i0--) {\n    var dep = observing[i0];\n\n    if (dep.diffValue === 1) {\n      dep.diffValue = 0;\n      addObserver(dep, derivation);\n    }\n  } // Some new observed derivations may become stale during this derivation computation\n  // so they have had no chance to propagate staleness (#916)\n\n\n  if (lowestNewObservingDerivationState !== IDerivationState.UP_TO_DATE) {\n    derivation.dependenciesState = lowestNewObservingDerivationState;\n    derivation.onBecomeStale();\n  }\n}\n\nfunction clearObserving(derivation) {\n  // invariant(globalState.inBatch > 0, \"INTERNAL ERROR clearObserving should be called only inside batch\");\n  var obs = derivation.observing;\n  derivation.observing = [];\n  var i = obs.length;\n\n  while (i--) removeObserver(obs[i], derivation);\n\n  derivation.dependenciesState = IDerivationState.NOT_TRACKING;\n}\n\nfunction untracked(action) {\n  var prev = untrackedStart();\n\n  try {\n    return action();\n  } finally {\n    untrackedEnd(prev);\n  }\n}\n\nfunction untrackedStart() {\n  var prev = globalState.trackingDerivation;\n  globalState.trackingDerivation = null;\n  return prev;\n}\n\nfunction untrackedEnd(prev) {\n  globalState.trackingDerivation = prev;\n}\n\nfunction allowStateReadsStart(allowStateReads) {\n  var prev = globalState.allowStateReads;\n  globalState.allowStateReads = allowStateReads;\n  return prev;\n}\n\nfunction allowStateReadsEnd(prev) {\n  globalState.allowStateReads = prev;\n}\n/**\r\n * needed to keep `lowestObserverState` correct. when changing from (2 or 1) to 0\r\n *\r\n */\n\n\nfunction changeDependenciesStateTo0(derivation) {\n  if (derivation.dependenciesState === IDerivationState.UP_TO_DATE) return;\n  derivation.dependenciesState = IDerivationState.UP_TO_DATE;\n  var obs = derivation.observing;\n  var i = obs.length;\n\n  while (i--) obs[i].lowestObserverState = IDerivationState.UP_TO_DATE;\n} // we don't use globalState for these in order to avoid possible issues with multiple\n// mobx versions\n\n\nvar currentActionId = 0;\nvar nextActionId = 1;\nvar functionNameDescriptor = Object.getOwnPropertyDescriptor(function () {}, \"name\");\nvar isFunctionNameConfigurable = functionNameDescriptor && functionNameDescriptor.configurable;\n\nfunction createAction(actionName, fn, ref) {\n  if (true) {\n    invariant(typeof fn === \"function\", \"`action` can only be invoked on functions\");\n    if (typeof actionName !== \"string\" || !actionName) fail(\"actions should have valid names, got: '\" + actionName + \"'\");\n  }\n\n  var res = function () {\n    return executeAction(actionName, fn, ref || this, arguments);\n  };\n\n  res.isMobxAction = true;\n\n  if (true) {\n    if (isFunctionNameConfigurable) {\n      Object.defineProperty(res, \"name\", {\n        value: actionName\n      });\n    }\n  }\n\n  return res;\n}\n\nfunction executeAction(actionName, fn, scope, args) {\n  var runInfo = _startAction(actionName, scope, args);\n\n  try {\n    return fn.apply(scope, args);\n  } catch (err) {\n    runInfo.error = err;\n    throw err;\n  } finally {\n    _endAction(runInfo);\n  }\n}\n\nfunction _startAction(actionName, scope, args) {\n  var notifySpy = isSpyEnabled() && !!actionName;\n  var startTime = 0;\n\n  if (notifySpy && \"development\" !== \"production\") {\n    startTime = Date.now();\n    var l = args && args.length || 0;\n    var flattendArgs = new Array(l);\n    if (l > 0) for (var i = 0; i < l; i++) flattendArgs[i] = args[i];\n    spyReportStart({\n      type: \"action\",\n      name: actionName,\n      object: scope,\n      arguments: flattendArgs\n    });\n  }\n\n  var prevDerivation = untrackedStart();\n  startBatch();\n  var prevAllowStateChanges = allowStateChangesStart(true);\n  var prevAllowStateReads = allowStateReadsStart(true);\n  var runInfo = {\n    prevDerivation: prevDerivation,\n    prevAllowStateChanges: prevAllowStateChanges,\n    prevAllowStateReads: prevAllowStateReads,\n    notifySpy: notifySpy,\n    startTime: startTime,\n    actionId: nextActionId++,\n    parentActionId: currentActionId\n  };\n  currentActionId = runInfo.actionId;\n  return runInfo;\n}\n\nfunction _endAction(runInfo) {\n  if (currentActionId !== runInfo.actionId) {\n    fail(\"invalid action stack. did you forget to finish an action?\");\n  }\n\n  currentActionId = runInfo.parentActionId;\n\n  if (runInfo.error !== undefined) {\n    globalState.suppressReactionErrors = true;\n  }\n\n  allowStateChangesEnd(runInfo.prevAllowStateChanges);\n  allowStateReadsEnd(runInfo.prevAllowStateReads);\n  endBatch();\n  untrackedEnd(runInfo.prevDerivation);\n\n  if (runInfo.notifySpy && \"development\" !== \"production\") {\n    spyReportEnd({\n      time: Date.now() - runInfo.startTime\n    });\n  }\n\n  globalState.suppressReactionErrors = false;\n}\n\nfunction allowStateChanges(allowStateChanges, func) {\n  var prev = allowStateChangesStart(allowStateChanges);\n  var res;\n\n  try {\n    res = func();\n  } finally {\n    allowStateChangesEnd(prev);\n  }\n\n  return res;\n}\n\nfunction allowStateChangesStart(allowStateChanges) {\n  var prev = globalState.allowStateChanges;\n  globalState.allowStateChanges = allowStateChanges;\n  return prev;\n}\n\nfunction allowStateChangesEnd(prev) {\n  globalState.allowStateChanges = prev;\n}\n\nfunction allowStateChangesInsideComputed(func) {\n  var prev = globalState.computationDepth;\n  globalState.computationDepth = 0;\n  var res;\n\n  try {\n    res = func();\n  } finally {\n    globalState.computationDepth = prev;\n  }\n\n  return res;\n}\n\nvar ObservableValue =\n/** @class */\nfunction (_super) {\n  __extends(ObservableValue, _super);\n\n  function ObservableValue(value, enhancer, name, notifySpy, equals) {\n    if (name === void 0) {\n      name = \"ObservableValue@\" + getNextId();\n    }\n\n    if (notifySpy === void 0) {\n      notifySpy = true;\n    }\n\n    if (equals === void 0) {\n      equals = comparer.default;\n    }\n\n    var _this = _super.call(this, name) || this;\n\n    _this.enhancer = enhancer;\n    _this.name = name;\n    _this.equals = equals;\n    _this.hasUnreportedChange = false;\n    _this.value = enhancer(value, undefined, name);\n\n    if (notifySpy && isSpyEnabled() && \"development\" !== \"production\") {\n      // only notify spy if this is a stand-alone observable\n      spyReport({\n        type: \"create\",\n        name: _this.name,\n        newValue: \"\" + _this.value\n      });\n    }\n\n    return _this;\n  }\n\n  ObservableValue.prototype.dehanceValue = function (value) {\n    if (this.dehancer !== undefined) return this.dehancer(value);\n    return value;\n  };\n\n  ObservableValue.prototype.set = function (newValue) {\n    var oldValue = this.value;\n    newValue = this.prepareNewValue(newValue);\n\n    if (newValue !== globalState.UNCHANGED) {\n      var notifySpy = isSpyEnabled();\n\n      if (notifySpy && \"development\" !== \"production\") {\n        spyReportStart({\n          type: \"update\",\n          name: this.name,\n          newValue: newValue,\n          oldValue: oldValue\n        });\n      }\n\n      this.setNewValue(newValue);\n      if (notifySpy && \"development\" !== \"production\") spyReportEnd();\n    }\n  };\n\n  ObservableValue.prototype.prepareNewValue = function (newValue) {\n    checkIfStateModificationsAreAllowed(this);\n\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this,\n        type: \"update\",\n        newValue: newValue\n      });\n      if (!change) return globalState.UNCHANGED;\n      newValue = change.newValue;\n    } // apply modifier\n\n\n    newValue = this.enhancer(newValue, this.value, this.name);\n    return this.equals(this.value, newValue) ? globalState.UNCHANGED : newValue;\n  };\n\n  ObservableValue.prototype.setNewValue = function (newValue) {\n    var oldValue = this.value;\n    this.value = newValue;\n    this.reportChanged();\n\n    if (hasListeners(this)) {\n      notifyListeners(this, {\n        type: \"update\",\n        object: this,\n        newValue: newValue,\n        oldValue: oldValue\n      });\n    }\n  };\n\n  ObservableValue.prototype.get = function () {\n    this.reportObserved();\n    return this.dehanceValue(this.value);\n  };\n\n  ObservableValue.prototype.intercept = function (handler) {\n    return registerInterceptor(this, handler);\n  };\n\n  ObservableValue.prototype.observe = function (listener, fireImmediately) {\n    if (fireImmediately) listener({\n      object: this,\n      type: \"update\",\n      newValue: this.value,\n      oldValue: undefined\n    });\n    return registerListener(this, listener);\n  };\n\n  ObservableValue.prototype.toJSON = function () {\n    return this.get();\n  };\n\n  ObservableValue.prototype.toString = function () {\n    return this.name + \"[\" + this.value + \"]\";\n  };\n\n  ObservableValue.prototype.valueOf = function () {\n    return toPrimitive(this.get());\n  };\n\n  ObservableValue.prototype[Symbol.toPrimitive] = function () {\n    return this.valueOf();\n  };\n\n  return ObservableValue;\n}(Atom);\n\nvar isObservableValue = createInstanceofPredicate(\"ObservableValue\", ObservableValue);\n/**\r\n * A node in the state dependency root that observes other nodes, and can be observed itself.\r\n *\r\n * ComputedValue will remember the result of the computation for the duration of the batch, or\r\n * while being observed.\r\n *\r\n * During this time it will recompute only when one of its direct dependencies changed,\r\n * but only when it is being accessed with `ComputedValue.get()`.\r\n *\r\n * Implementation description:\r\n * 1. First time it's being accessed it will compute and remember result\r\n *    give back remembered result until 2. happens\r\n * 2. First time any deep dependency change, propagate POSSIBLY_STALE to all observers, wait for 3.\r\n * 3. When it's being accessed, recompute if any shallow dependency changed.\r\n *    if result changed: propagate STALE to all observers, that were POSSIBLY_STALE from the last step.\r\n *    go to step 2. either way\r\n *\r\n * If at any point it's outside batch and it isn't observed: reset everything and go to 1.\r\n */\n\nvar ComputedValue =\n/** @class */\nfunction () {\n  /**\r\n   * Create a new computed value based on a function expression.\r\n   *\r\n   * The `name` property is for debug purposes only.\r\n   *\r\n   * The `equals` property specifies the comparer function to use to determine if a newly produced\r\n   * value differs from the previous value. Two comparers are provided in the library; `defaultComparer`\r\n   * compares based on identity comparison (===), and `structualComparer` deeply compares the structure.\r\n   * Structural comparison can be convenient if you always produce a new aggregated object and\r\n   * don't want to notify observers if it is structurally the same.\r\n   * This is useful for working with vectors, mouse coordinates etc.\r\n   */\n  function ComputedValue(options) {\n    this.dependenciesState = IDerivationState.NOT_TRACKING;\n    this.observing = []; // nodes we are looking at. Our value depends on these nodes\n\n    this.newObserving = null; // during tracking it's an array with new observed observers\n\n    this.isBeingObserved = false;\n    this.isPendingUnobservation = false;\n    this.observers = new Set();\n    this.diffValue = 0;\n    this.runId = 0;\n    this.lastAccessedBy = 0;\n    this.lowestObserverState = IDerivationState.UP_TO_DATE;\n    this.unboundDepsCount = 0;\n    this.__mapid = \"#\" + getNextId();\n    this.value = new CaughtException(null);\n    this.isComputing = false; // to check for cycles\n\n    this.isRunningSetter = false;\n    this.isTracing = TraceMode.NONE;\n    invariant(options.get, \"missing option for computed: get\");\n    this.derivation = options.get;\n    this.name = options.name || \"ComputedValue@\" + getNextId();\n    if (options.set) this.setter = createAction(this.name + \"-setter\", options.set);\n    this.equals = options.equals || (options.compareStructural || options.struct ? comparer.structural : comparer.default);\n    this.scope = options.context;\n    this.requiresReaction = !!options.requiresReaction;\n    this.keepAlive = !!options.keepAlive;\n  }\n\n  ComputedValue.prototype.onBecomeStale = function () {\n    propagateMaybeChanged(this);\n  };\n\n  ComputedValue.prototype.onBecomeObserved = function () {\n    if (this.onBecomeObservedListeners) {\n      this.onBecomeObservedListeners.forEach(function (listener) {\n        return listener();\n      });\n    }\n  };\n\n  ComputedValue.prototype.onBecomeUnobserved = function () {\n    if (this.onBecomeUnobservedListeners) {\n      this.onBecomeUnobservedListeners.forEach(function (listener) {\n        return listener();\n      });\n    }\n  };\n  /**\r\n   * Returns the current value of this computed value.\r\n   * Will evaluate its computation first if needed.\r\n   */\n\n\n  ComputedValue.prototype.get = function () {\n    if (this.isComputing) fail(\"Cycle detected in computation \" + this.name + \": \" + this.derivation);\n\n    if (globalState.inBatch === 0 && this.observers.size === 0 && !this.keepAlive) {\n      if (shouldCompute(this)) {\n        this.warnAboutUntrackedRead();\n        startBatch(); // See perf test 'computed memoization'\n\n        this.value = this.computeValue(false);\n        endBatch();\n      }\n    } else {\n      reportObserved(this);\n      if (shouldCompute(this)) if (this.trackAndCompute()) propagateChangeConfirmed(this);\n    }\n\n    var result = this.value;\n    if (isCaughtException(result)) throw result.cause;\n    return result;\n  };\n\n  ComputedValue.prototype.peek = function () {\n    var res = this.computeValue(false);\n    if (isCaughtException(res)) throw res.cause;\n    return res;\n  };\n\n  ComputedValue.prototype.set = function (value) {\n    if (this.setter) {\n      invariant(!this.isRunningSetter, \"The setter of computed value '\" + this.name + \"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?\");\n      this.isRunningSetter = true;\n\n      try {\n        this.setter.call(this.scope, value);\n      } finally {\n        this.isRunningSetter = false;\n      }\n    } else invariant(false,   true && \"[ComputedValue '\" + this.name + \"'] It is not possible to assign a new value to a computed value.\");\n  };\n\n  ComputedValue.prototype.trackAndCompute = function () {\n    if (isSpyEnabled() && \"development\" !== \"production\") {\n      spyReport({\n        object: this.scope,\n        type: \"compute\",\n        name: this.name\n      });\n    }\n\n    var oldValue = this.value;\n    var wasSuspended =\n    /* see #1208 */\n    this.dependenciesState === IDerivationState.NOT_TRACKING;\n    var newValue = this.computeValue(true);\n    var changed = wasSuspended || isCaughtException(oldValue) || isCaughtException(newValue) || !this.equals(oldValue, newValue);\n\n    if (changed) {\n      this.value = newValue;\n    }\n\n    return changed;\n  };\n\n  ComputedValue.prototype.computeValue = function (track) {\n    this.isComputing = true;\n    globalState.computationDepth++;\n    var res;\n\n    if (track) {\n      res = trackDerivedFunction(this, this.derivation, this.scope);\n    } else {\n      if (globalState.disableErrorBoundaries === true) {\n        res = this.derivation.call(this.scope);\n      } else {\n        try {\n          res = this.derivation.call(this.scope);\n        } catch (e) {\n          res = new CaughtException(e);\n        }\n      }\n    }\n\n    globalState.computationDepth--;\n    this.isComputing = false;\n    return res;\n  };\n\n  ComputedValue.prototype.suspend = function () {\n    if (!this.keepAlive) {\n      clearObserving(this);\n      this.value = undefined; // don't hold on to computed value!\n    }\n  };\n\n  ComputedValue.prototype.observe = function (listener, fireImmediately) {\n    var _this = this;\n\n    var firstTime = true;\n    var prevValue = undefined;\n    return autorun(function () {\n      var newValue = _this.get();\n\n      if (!firstTime || fireImmediately) {\n        var prevU = untrackedStart();\n        listener({\n          type: \"update\",\n          object: _this,\n          newValue: newValue,\n          oldValue: prevValue\n        });\n        untrackedEnd(prevU);\n      }\n\n      firstTime = false;\n      prevValue = newValue;\n    });\n  };\n\n  ComputedValue.prototype.warnAboutUntrackedRead = function () {\n    if (false) {}\n\n    if (this.requiresReaction === true) {\n      fail(\"[mobx] Computed value \" + this.name + \" is read outside a reactive context\");\n    }\n\n    if (this.isTracing !== TraceMode.NONE) {\n      console.log(\"[mobx.trace] '\" + this.name + \"' is being read outside a reactive context. Doing a full recompute\");\n    }\n\n    if (globalState.computedRequiresReaction) {\n      console.warn(\"[mobx] Computed value \" + this.name + \" is being read outside a reactive context. Doing a full recompute\");\n    }\n  };\n\n  ComputedValue.prototype.toJSON = function () {\n    return this.get();\n  };\n\n  ComputedValue.prototype.toString = function () {\n    return this.name + \"[\" + this.derivation.toString() + \"]\";\n  };\n\n  ComputedValue.prototype.valueOf = function () {\n    return toPrimitive(this.get());\n  };\n\n  ComputedValue.prototype[Symbol.toPrimitive] = function () {\n    return this.valueOf();\n  };\n\n  return ComputedValue;\n}();\n\nvar isComputedValue = createInstanceofPredicate(\"ComputedValue\", ComputedValue);\n/**\r\n * These values will persist if global state is reset\r\n */\n\nvar persistentKeys = [\"mobxGuid\", \"spyListeners\", \"enforceActions\", \"computedRequiresReaction\", \"reactionRequiresObservable\", \"observableRequiresReaction\", \"allowStateReads\", \"disableErrorBoundaries\", \"runId\", \"UNCHANGED\"];\n\nvar MobXGlobals =\n/** @class */\nfunction () {\n  function MobXGlobals() {\n    /**\r\n     * MobXGlobals version.\r\n     * MobX compatiblity with other versions loaded in memory as long as this version matches.\r\n     * It indicates that the global state still stores similar information\r\n     *\r\n     * N.B: this version is unrelated to the package version of MobX, and is only the version of the\r\n     * internal state storage of MobX, and can be the same across many different package versions\r\n     */\n    this.version = 5;\n    /**\r\n     * globally unique token to signal unchanged\r\n     */\n\n    this.UNCHANGED = {};\n    /**\r\n     * Currently running derivation\r\n     */\n\n    this.trackingDerivation = null;\n    /**\r\n     * Are we running a computation currently? (not a reaction)\r\n     */\n\n    this.computationDepth = 0;\n    /**\r\n     * Each time a derivation is tracked, it is assigned a unique run-id\r\n     */\n\n    this.runId = 0;\n    /**\r\n     * 'guid' for general purpose. Will be persisted amongst resets.\r\n     */\n\n    this.mobxGuid = 0;\n    /**\r\n     * Are we in a batch block? (and how many of them)\r\n     */\n\n    this.inBatch = 0;\n    /**\r\n     * Observables that don't have observers anymore, and are about to be\r\n     * suspended, unless somebody else accesses it in the same batch\r\n     *\r\n     * @type {IObservable[]}\r\n     */\n\n    this.pendingUnobservations = [];\n    /**\r\n     * List of scheduled, not yet executed, reactions.\r\n     */\n\n    this.pendingReactions = [];\n    /**\r\n     * Are we currently processing reactions?\r\n     */\n\n    this.isRunningReactions = false;\n    /**\r\n     * Is it allowed to change observables at this point?\r\n     * In general, MobX doesn't allow that when running computations and React.render.\r\n     * To ensure that those functions stay pure.\r\n     */\n\n    this.allowStateChanges = true;\n    /**\r\n     * Is it allowed to read observables at this point?\r\n     * Used to hold the state needed for `observableRequiresReaction`\r\n     */\n\n    this.allowStateReads = true;\n    /**\r\n     * If strict mode is enabled, state changes are by default not allowed\r\n     */\n\n    this.enforceActions = false;\n    /**\r\n     * Spy callbacks\r\n     */\n\n    this.spyListeners = [];\n    /**\r\n     * Globally attached error handlers that react specifically to errors in reactions\r\n     */\n\n    this.globalReactionErrorHandlers = [];\n    /**\r\n     * Warn if computed values are accessed outside a reactive context\r\n     */\n\n    this.computedRequiresReaction = false;\n    /**\r\n     * (Experimental)\r\n     * Warn if you try to create to derivation / reactive context without accessing any observable.\r\n     */\n\n    this.reactionRequiresObservable = false;\n    /**\r\n     * (Experimental)\r\n     * Warn if observables are accessed outside a reactive context\r\n     */\n\n    this.observableRequiresReaction = false;\n    /**\r\n     * Allows overwriting of computed properties, useful in tests but not prod as it can cause\r\n     * memory leaks. See https://github.com/mobxjs/mobx/issues/1867\r\n     */\n\n    this.computedConfigurable = false;\n    /*\r\n     * Don't catch and rethrow exceptions. This is useful for inspecting the state of\r\n     * the stack when an exception occurs while debugging.\r\n     */\n\n    this.disableErrorBoundaries = false;\n    /*\r\n     * If true, we are already handling an exception in an action. Any errors in reactions should be suppressed, as\r\n     * they are not the cause, see: https://github.com/mobxjs/mobx/issues/1836\r\n     */\n\n    this.suppressReactionErrors = false;\n  }\n\n  return MobXGlobals;\n}();\n\nvar mockGlobal = {};\n\nfunction getGlobal() {\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n\n  return mockGlobal;\n}\n\nvar canMergeGlobalState = true;\nvar isolateCalled = false;\n\nvar globalState = function () {\n  var global = getGlobal();\n  if (global.__mobxInstanceCount > 0 && !global.__mobxGlobals) canMergeGlobalState = false;\n  if (global.__mobxGlobals && global.__mobxGlobals.version !== new MobXGlobals().version) canMergeGlobalState = false;\n\n  if (!canMergeGlobalState) {\n    setTimeout(function () {\n      if (!isolateCalled) {\n        fail(\"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`\");\n      }\n    }, 1);\n    return new MobXGlobals();\n  } else if (global.__mobxGlobals) {\n    global.__mobxInstanceCount += 1;\n    if (!global.__mobxGlobals.UNCHANGED) global.__mobxGlobals.UNCHANGED = {}; // make merge backward compatible\n\n    return global.__mobxGlobals;\n  } else {\n    global.__mobxInstanceCount = 1;\n    return global.__mobxGlobals = new MobXGlobals();\n  }\n}();\n\nfunction isolateGlobalState() {\n  if (globalState.pendingReactions.length || globalState.inBatch || globalState.isRunningReactions) fail(\"isolateGlobalState should be called before MobX is running any reactions\");\n  isolateCalled = true;\n\n  if (canMergeGlobalState) {\n    if (--getGlobal().__mobxInstanceCount === 0) getGlobal().__mobxGlobals = undefined;\n    globalState = new MobXGlobals();\n  }\n}\n\nfunction getGlobalState() {\n  return globalState;\n}\n/**\r\n * For testing purposes only; this will break the internal state of existing observables,\r\n * but can be used to get back at a stable state after throwing errors\r\n */\n\n\nfunction resetGlobalState() {\n  var defaultGlobals = new MobXGlobals();\n\n  for (var key in defaultGlobals) if (persistentKeys.indexOf(key) === -1) globalState[key] = defaultGlobals[key];\n\n  globalState.allowStateChanges = !globalState.enforceActions;\n}\n\nfunction hasObservers(observable) {\n  return observable.observers && observable.observers.size > 0;\n}\n\nfunction getObservers(observable) {\n  return observable.observers;\n} // function invariantObservers(observable: IObservable) {\n//     const list = observable.observers\n//     const map = observable.observersIndexes\n//     const l = list.length\n//     for (let i = 0; i < l; i++) {\n//         const id = list[i].__mapid\n//         if (i) {\n//             invariant(map[id] === i, \"INTERNAL ERROR maps derivation.__mapid to index in list\") // for performance\n//         } else {\n//             invariant(!(id in map), \"INTERNAL ERROR observer on index 0 shouldn't be held in map.\") // for performance\n//         }\n//     }\n//     invariant(\n//         list.length === 0 || Object.keys(map).length === list.length - 1,\n//         \"INTERNAL ERROR there is no junk in map\"\n//     )\n// }\n\n\nfunction addObserver(observable, node) {\n  // invariant(node.dependenciesState !== -1, \"INTERNAL ERROR, can add only dependenciesState !== -1\");\n  // invariant(observable._observers.indexOf(node) === -1, \"INTERNAL ERROR add already added node\");\n  // invariantObservers(observable);\n  observable.observers.add(node);\n  if (observable.lowestObserverState > node.dependenciesState) observable.lowestObserverState = node.dependenciesState; // invariantObservers(observable);\n  // invariant(observable._observers.indexOf(node) !== -1, \"INTERNAL ERROR didn't add node\");\n}\n\nfunction removeObserver(observable, node) {\n  // invariant(globalState.inBatch > 0, \"INTERNAL ERROR, remove should be called only inside batch\");\n  // invariant(observable._observers.indexOf(node) !== -1, \"INTERNAL ERROR remove already removed node\");\n  // invariantObservers(observable);\n  observable.observers.delete(node);\n\n  if (observable.observers.size === 0) {\n    // deleting last observer\n    queueForUnobservation(observable);\n  } // invariantObservers(observable);\n  // invariant(observable._observers.indexOf(node) === -1, \"INTERNAL ERROR remove already removed node2\");\n\n}\n\nfunction queueForUnobservation(observable) {\n  if (observable.isPendingUnobservation === false) {\n    // invariant(observable._observers.length === 0, \"INTERNAL ERROR, should only queue for unobservation unobserved observables\");\n    observable.isPendingUnobservation = true;\n    globalState.pendingUnobservations.push(observable);\n  }\n}\n/**\r\n * Batch starts a transaction, at least for purposes of memoizing ComputedValues when nothing else does.\r\n * During a batch `onBecomeUnobserved` will be called at most once per observable.\r\n * Avoids unnecessary recalculations.\r\n */\n\n\nfunction startBatch() {\n  globalState.inBatch++;\n}\n\nfunction endBatch() {\n  if (--globalState.inBatch === 0) {\n    runReactions(); // the batch is actually about to finish, all unobserving should happen here.\n\n    var list = globalState.pendingUnobservations;\n\n    for (var i = 0; i < list.length; i++) {\n      var observable = list[i];\n      observable.isPendingUnobservation = false;\n\n      if (observable.observers.size === 0) {\n        if (observable.isBeingObserved) {\n          // if this observable had reactive observers, trigger the hooks\n          observable.isBeingObserved = false;\n          observable.onBecomeUnobserved();\n        }\n\n        if (observable instanceof ComputedValue) {\n          // computed values are automatically teared down when the last observer leaves\n          // this process happens recursively, this computed might be the last observabe of another, etc..\n          observable.suspend();\n        }\n      }\n    }\n\n    globalState.pendingUnobservations = [];\n  }\n}\n\nfunction reportObserved(observable) {\n  checkIfStateReadsAreAllowed(observable);\n  var derivation = globalState.trackingDerivation;\n\n  if (derivation !== null) {\n    /**\r\n     * Simple optimization, give each derivation run an unique id (runId)\r\n     * Check if last time this observable was accessed the same runId is used\r\n     * if this is the case, the relation is already known\r\n     */\n    if (derivation.runId !== observable.lastAccessedBy) {\n      observable.lastAccessedBy = derivation.runId; // Tried storing newObserving, or observing, or both as Set, but performance didn't come close...\n\n      derivation.newObserving[derivation.unboundDepsCount++] = observable;\n\n      if (!observable.isBeingObserved) {\n        observable.isBeingObserved = true;\n        observable.onBecomeObserved();\n      }\n    }\n\n    return true;\n  } else if (observable.observers.size === 0 && globalState.inBatch > 0) {\n    queueForUnobservation(observable);\n  }\n\n  return false;\n} // function invariantLOS(observable: IObservable, msg: string) {\n//     // it's expensive so better not run it in produciton. but temporarily helpful for testing\n//     const min = getObservers(observable).reduce((a, b) => Math.min(a, b.dependenciesState), 2)\n//     if (min >= observable.lowestObserverState) return // <- the only assumption about `lowestObserverState`\n//     throw new Error(\n//         \"lowestObserverState is wrong for \" +\n//             msg +\n//             \" because \" +\n//             min +\n//             \" < \" +\n//             observable.lowestObserverState\n//     )\n// }\n\n/**\r\n * NOTE: current propagation mechanism will in case of self reruning autoruns behave unexpectedly\r\n * It will propagate changes to observers from previous run\r\n * It's hard or maybe impossible (with reasonable perf) to get it right with current approach\r\n * Hopefully self reruning autoruns aren't a feature people should depend on\r\n * Also most basic use cases should be ok\r\n */\n// Called by Atom when its value changes\n\n\nfunction propagateChanged(observable) {\n  // invariantLOS(observable, \"changed start\");\n  if (observable.lowestObserverState === IDerivationState.STALE) return;\n  observable.lowestObserverState = IDerivationState.STALE; // Ideally we use for..of here, but the downcompiled version is really slow...\n\n  observable.observers.forEach(function (d) {\n    if (d.dependenciesState === IDerivationState.UP_TO_DATE) {\n      if (d.isTracing !== TraceMode.NONE) {\n        logTraceInfo(d, observable);\n      }\n\n      d.onBecomeStale();\n    }\n\n    d.dependenciesState = IDerivationState.STALE;\n  }); // invariantLOS(observable, \"changed end\");\n} // Called by ComputedValue when it recalculate and its value changed\n\n\nfunction propagateChangeConfirmed(observable) {\n  // invariantLOS(observable, \"confirmed start\");\n  if (observable.lowestObserverState === IDerivationState.STALE) return;\n  observable.lowestObserverState = IDerivationState.STALE;\n  observable.observers.forEach(function (d) {\n    if (d.dependenciesState === IDerivationState.POSSIBLY_STALE) d.dependenciesState = IDerivationState.STALE;else if (d.dependenciesState === IDerivationState.UP_TO_DATE // this happens during computing of `d`, just keep lowestObserverState up to date.\n    ) observable.lowestObserverState = IDerivationState.UP_TO_DATE;\n  }); // invariantLOS(observable, \"confirmed end\");\n} // Used by computed when its dependency changed, but we don't wan't to immediately recompute.\n\n\nfunction propagateMaybeChanged(observable) {\n  // invariantLOS(observable, \"maybe start\");\n  if (observable.lowestObserverState !== IDerivationState.UP_TO_DATE) return;\n  observable.lowestObserverState = IDerivationState.POSSIBLY_STALE;\n  observable.observers.forEach(function (d) {\n    if (d.dependenciesState === IDerivationState.UP_TO_DATE) {\n      d.dependenciesState = IDerivationState.POSSIBLY_STALE;\n\n      if (d.isTracing !== TraceMode.NONE) {\n        logTraceInfo(d, observable);\n      }\n\n      d.onBecomeStale();\n    }\n  }); // invariantLOS(observable, \"maybe end\");\n}\n\nfunction logTraceInfo(derivation, observable) {\n  console.log(\"[mobx.trace] '\" + derivation.name + \"' is invalidated due to a change in: '\" + observable.name + \"'\");\n\n  if (derivation.isTracing === TraceMode.BREAK) {\n    var lines = [];\n    printDepTree(getDependencyTree(derivation), lines, 1); // prettier-ignore\n\n    new Function(\"debugger;\\n/*\\nTracing '\" + derivation.name + \"'\\n\\nYou are entering this break point because derivation '\" + derivation.name + \"' is being traced and '\" + observable.name + \"' is now forcing it to update.\\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\\n\\n\" + (derivation instanceof ComputedValue ? derivation.derivation.toString().replace(/[*]\\//g, \"/\") : \"\") + \"\\n\\nThe dependencies for this derivation are:\\n\\n\" + lines.join(\"\\n\") + \"\\n*/\\n    \")();\n  }\n}\n\nfunction printDepTree(tree, lines, depth) {\n  if (lines.length >= 1000) {\n    lines.push(\"(and many more)\");\n    return;\n  }\n\n  lines.push(\"\" + new Array(depth).join(\"\\t\") + tree.name); // MWE: not the fastest, but the easiest way :)\n\n  if (tree.dependencies) tree.dependencies.forEach(function (child) {\n    return printDepTree(child, lines, depth + 1);\n  });\n}\n\nvar Reaction =\n/** @class */\nfunction () {\n  function Reaction(name, onInvalidate, errorHandler, requiresObservable) {\n    if (name === void 0) {\n      name = \"Reaction@\" + getNextId();\n    }\n\n    if (requiresObservable === void 0) {\n      requiresObservable = false;\n    }\n\n    this.name = name;\n    this.onInvalidate = onInvalidate;\n    this.errorHandler = errorHandler;\n    this.requiresObservable = requiresObservable;\n    this.observing = []; // nodes we are looking at. Our value depends on these nodes\n\n    this.newObserving = [];\n    this.dependenciesState = IDerivationState.NOT_TRACKING;\n    this.diffValue = 0;\n    this.runId = 0;\n    this.unboundDepsCount = 0;\n    this.__mapid = \"#\" + getNextId();\n    this.isDisposed = false;\n    this._isScheduled = false;\n    this._isTrackPending = false;\n    this._isRunning = false;\n    this.isTracing = TraceMode.NONE;\n  }\n\n  Reaction.prototype.onBecomeStale = function () {\n    this.schedule();\n  };\n\n  Reaction.prototype.schedule = function () {\n    if (!this._isScheduled) {\n      this._isScheduled = true;\n      globalState.pendingReactions.push(this);\n      runReactions();\n    }\n  };\n\n  Reaction.prototype.isScheduled = function () {\n    return this._isScheduled;\n  };\n  /**\r\n   * internal, use schedule() if you intend to kick off a reaction\r\n   */\n\n\n  Reaction.prototype.runReaction = function () {\n    if (!this.isDisposed) {\n      startBatch();\n      this._isScheduled = false;\n\n      if (shouldCompute(this)) {\n        this._isTrackPending = true;\n\n        try {\n          this.onInvalidate();\n\n          if (this._isTrackPending && isSpyEnabled() && \"development\" !== \"production\") {\n            // onInvalidate didn't trigger track right away..\n            spyReport({\n              name: this.name,\n              type: \"scheduled-reaction\"\n            });\n          }\n        } catch (e) {\n          this.reportExceptionInDerivation(e);\n        }\n      }\n\n      endBatch();\n    }\n  };\n\n  Reaction.prototype.track = function (fn) {\n    if (this.isDisposed) {\n      return; // console.warn(\"Reaction already disposed\") // Note: Not a warning / error in mobx 4 either\n    }\n\n    startBatch();\n    var notify = isSpyEnabled();\n    var startTime;\n\n    if (notify && \"development\" !== \"production\") {\n      startTime = Date.now();\n      spyReportStart({\n        name: this.name,\n        type: \"reaction\"\n      });\n    }\n\n    this._isRunning = true;\n    var result = trackDerivedFunction(this, fn, undefined);\n    this._isRunning = false;\n    this._isTrackPending = false;\n\n    if (this.isDisposed) {\n      // disposed during last run. Clean up everything that was bound after the dispose call.\n      clearObserving(this);\n    }\n\n    if (isCaughtException(result)) this.reportExceptionInDerivation(result.cause);\n\n    if (notify && \"development\" !== \"production\") {\n      spyReportEnd({\n        time: Date.now() - startTime\n      });\n    }\n\n    endBatch();\n  };\n\n  Reaction.prototype.reportExceptionInDerivation = function (error) {\n    var _this = this;\n\n    if (this.errorHandler) {\n      this.errorHandler(error, this);\n      return;\n    }\n\n    if (globalState.disableErrorBoundaries) throw error;\n    var message = \"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '\" + this + \"'\";\n\n    if (globalState.suppressReactionErrors) {\n      console.warn(\"[mobx] (error in reaction '\" + this.name + \"' suppressed, fix error of causing action below)\"); // prettier-ignore\n    } else {\n      console.error(message, error);\n      /** If debugging brought you here, please, read the above message :-). Tnx! */\n    }\n\n    if (isSpyEnabled()) {\n      spyReport({\n        type: \"error\",\n        name: this.name,\n        message: message,\n        error: \"\" + error\n      });\n    }\n\n    globalState.globalReactionErrorHandlers.forEach(function (f) {\n      return f(error, _this);\n    });\n  };\n\n  Reaction.prototype.dispose = function () {\n    if (!this.isDisposed) {\n      this.isDisposed = true;\n\n      if (!this._isRunning) {\n        // if disposed while running, clean up later. Maybe not optimal, but rare case\n        startBatch();\n        clearObserving(this);\n        endBatch();\n      }\n    }\n  };\n\n  Reaction.prototype.getDisposer = function () {\n    var r = this.dispose.bind(this);\n    r[$mobx] = this;\n    return r;\n  };\n\n  Reaction.prototype.toString = function () {\n    return \"Reaction[\" + this.name + \"]\";\n  };\n\n  Reaction.prototype.trace = function (enterBreakPoint) {\n    if (enterBreakPoint === void 0) {\n      enterBreakPoint = false;\n    }\n\n    trace(this, enterBreakPoint);\n  };\n\n  return Reaction;\n}();\n\nfunction onReactionError(handler) {\n  globalState.globalReactionErrorHandlers.push(handler);\n  return function () {\n    var idx = globalState.globalReactionErrorHandlers.indexOf(handler);\n    if (idx >= 0) globalState.globalReactionErrorHandlers.splice(idx, 1);\n  };\n}\n/**\r\n * Magic number alert!\r\n * Defines within how many times a reaction is allowed to re-trigger itself\r\n * until it is assumed that this is gonna be a never ending loop...\r\n */\n\n\nvar MAX_REACTION_ITERATIONS = 100;\n\nvar reactionScheduler = function (f) {\n  return f();\n};\n\nfunction runReactions() {\n  // Trampolining, if runReactions are already running, new reactions will be picked up\n  if (globalState.inBatch > 0 || globalState.isRunningReactions) return;\n  reactionScheduler(runReactionsHelper);\n}\n\nfunction runReactionsHelper() {\n  globalState.isRunningReactions = true;\n  var allReactions = globalState.pendingReactions;\n  var iterations = 0; // While running reactions, new reactions might be triggered.\n  // Hence we work with two variables and check whether\n  // we converge to no remaining reactions after a while.\n\n  while (allReactions.length > 0) {\n    if (++iterations === MAX_REACTION_ITERATIONS) {\n      console.error(\"Reaction doesn't converge to a stable state after \" + MAX_REACTION_ITERATIONS + \" iterations.\" + (\" Probably there is a cycle in the reactive function: \" + allReactions[0]));\n      allReactions.splice(0); // clear reactions\n    }\n\n    var remainingReactions = allReactions.splice(0);\n\n    for (var i = 0, l = remainingReactions.length; i < l; i++) remainingReactions[i].runReaction();\n  }\n\n  globalState.isRunningReactions = false;\n}\n\nvar isReaction = createInstanceofPredicate(\"Reaction\", Reaction);\n\nfunction setReactionScheduler(fn) {\n  var baseScheduler = reactionScheduler;\n\n  reactionScheduler = function (f) {\n    return fn(function () {\n      return baseScheduler(f);\n    });\n  };\n}\n\nfunction isSpyEnabled() {\n  return   true && !!globalState.spyListeners.length;\n}\n\nfunction spyReport(event) {\n  if (false) {} // dead code elimination can do the rest\n\n  if (!globalState.spyListeners.length) return;\n  var listeners = globalState.spyListeners;\n\n  for (var i = 0, l = listeners.length; i < l; i++) listeners[i](event);\n}\n\nfunction spyReportStart(event) {\n  if (false) {}\n\n  var change = __assign(__assign({}, event), {\n    spyReportStart: true\n  });\n\n  spyReport(change);\n}\n\nvar END_EVENT = {\n  spyReportEnd: true\n};\n\nfunction spyReportEnd(change) {\n  if (false) {}\n  if (change) spyReport(__assign(__assign({}, change), {\n    spyReportEnd: true\n  }));else spyReport(END_EVENT);\n}\n\nfunction spy(listener) {\n  if (false) {} else {\n    globalState.spyListeners.push(listener);\n    return once(function () {\n      globalState.spyListeners = globalState.spyListeners.filter(function (l) {\n        return l !== listener;\n      });\n    });\n  }\n}\n\nfunction dontReassignFields() {\n  fail(  true && \"@action fields are not reassignable\");\n}\n\nfunction namedActionDecorator(name) {\n  return function (target, prop, descriptor) {\n    if (descriptor) {\n      if (  true && descriptor.get !== undefined) {\n        return fail(\"@action cannot be used with getters\");\n      } // babel / typescript\n      // @action method() { }\n\n\n      if (descriptor.value) {\n        // typescript\n        return {\n          value: createAction(name, descriptor.value),\n          enumerable: false,\n          configurable: true,\n          writable: true // for typescript, this must be writable, otherwise it cannot inherit :/ (see inheritable actions test)\n\n        };\n      } // babel only: @action method = () => {}\n\n\n      var initializer_1 = descriptor.initializer;\n      return {\n        enumerable: false,\n        configurable: true,\n        writable: true,\n        initializer: function () {\n          // N.B: we can't immediately invoke initializer; this would be wrong\n          return createAction(name, initializer_1.call(this));\n        }\n      };\n    } // bound instance methods\n\n\n    return actionFieldDecorator(name).apply(this, arguments);\n  };\n}\n\nfunction actionFieldDecorator(name) {\n  // Simple property that writes on first invocation to the current instance\n  return function (target, prop, descriptor) {\n    Object.defineProperty(target, prop, {\n      configurable: true,\n      enumerable: false,\n      get: function () {\n        return undefined;\n      },\n      set: function (value) {\n        addHiddenProp(this, prop, action(name, value));\n      }\n    });\n  };\n}\n\nfunction boundActionDecorator(target, propertyName, descriptor, applyToInstance) {\n  if (applyToInstance === true) {\n    defineBoundAction(target, propertyName, descriptor.value);\n    return null;\n  }\n\n  if (descriptor) {\n    // if (descriptor.value)\n    // Typescript / Babel: @action.bound method() { }\n    // also: babel @action.bound method = () => {}\n    return {\n      configurable: true,\n      enumerable: false,\n      get: function () {\n        defineBoundAction(this, propertyName, descriptor.value || descriptor.initializer.call(this));\n        return this[propertyName];\n      },\n      set: dontReassignFields\n    };\n  } // field decorator Typescript @action.bound method = () => {}\n\n\n  return {\n    enumerable: false,\n    configurable: true,\n    set: function (v) {\n      defineBoundAction(this, propertyName, v);\n    },\n    get: function () {\n      return undefined;\n    }\n  };\n}\n\nvar action = function action(arg1, arg2, arg3, arg4) {\n  // action(fn() {})\n  if (arguments.length === 1 && typeof arg1 === \"function\") return createAction(arg1.name || \"<unnamed action>\", arg1); // action(\"name\", fn() {})\n\n  if (arguments.length === 2 && typeof arg2 === \"function\") return createAction(arg1, arg2); // @action(\"name\") fn() {}\n\n  if (arguments.length === 1 && typeof arg1 === \"string\") return namedActionDecorator(arg1); // @action fn() {}\n\n  if (arg4 === true) {\n    // apply to instance immediately\n    addHiddenProp(arg1, arg2, createAction(arg1.name || arg2, arg3.value, this));\n  } else {\n    return namedActionDecorator(arg2).apply(null, arguments);\n  }\n};\n\naction.bound = boundActionDecorator;\n\nfunction runInAction(arg1, arg2) {\n  var actionName = typeof arg1 === \"string\" ? arg1 : arg1.name || \"<unnamed action>\";\n  var fn = typeof arg1 === \"function\" ? arg1 : arg2;\n\n  if (true) {\n    invariant(typeof fn === \"function\" && fn.length === 0, \"`runInAction` expects a function without arguments\");\n    if (typeof actionName !== \"string\" || !actionName) fail(\"actions should have valid names, got: '\" + actionName + \"'\");\n  }\n\n  return executeAction(actionName, fn, this, undefined);\n}\n\nfunction isAction(thing) {\n  return typeof thing === \"function\" && thing.isMobxAction === true;\n}\n\nfunction defineBoundAction(target, propertyName, fn) {\n  addHiddenProp(target, propertyName, createAction(propertyName, fn.bind(target)));\n}\n/**\r\n * Creates a named reactive view and keeps it alive, so that the view is always\r\n * updated if one of the dependencies changes, even when the view is not further used by something else.\r\n * @param view The reactive view\r\n * @returns disposer function, which can be used to stop the view from being updated in the future.\r\n */\n\n\nfunction autorun(view, opts) {\n  if (opts === void 0) {\n    opts = EMPTY_OBJECT;\n  }\n\n  if (true) {\n    invariant(typeof view === \"function\", \"Autorun expects a function as first argument\");\n    invariant(isAction(view) === false, \"Autorun does not accept actions since actions are untrackable\");\n  }\n\n  var name = opts && opts.name || view.name || \"Autorun@\" + getNextId();\n  var runSync = !opts.scheduler && !opts.delay;\n  var reaction;\n\n  if (runSync) {\n    // normal autorun\n    reaction = new Reaction(name, function () {\n      this.track(reactionRunner);\n    }, opts.onError, opts.requiresObservable);\n  } else {\n    var scheduler_1 = createSchedulerFromOptions(opts); // debounced autorun\n\n    var isScheduled_1 = false;\n    reaction = new Reaction(name, function () {\n      if (!isScheduled_1) {\n        isScheduled_1 = true;\n        scheduler_1(function () {\n          isScheduled_1 = false;\n          if (!reaction.isDisposed) reaction.track(reactionRunner);\n        });\n      }\n    }, opts.onError, opts.requiresObservable);\n  }\n\n  function reactionRunner() {\n    view(reaction);\n  }\n\n  reaction.schedule();\n  return reaction.getDisposer();\n}\n\nvar run = function (f) {\n  return f();\n};\n\nfunction createSchedulerFromOptions(opts) {\n  return opts.scheduler ? opts.scheduler : opts.delay ? function (f) {\n    return setTimeout(f, opts.delay);\n  } : run;\n}\n\nfunction reaction(expression, effect, opts) {\n  if (opts === void 0) {\n    opts = EMPTY_OBJECT;\n  }\n\n  if (true) {\n    invariant(typeof expression === \"function\", \"First argument to reaction should be a function\");\n    invariant(typeof opts === \"object\", \"Third argument of reactions should be an object\");\n  }\n\n  var name = opts.name || \"Reaction@\" + getNextId();\n  var effectAction = action(name, opts.onError ? wrapErrorHandler(opts.onError, effect) : effect);\n  var runSync = !opts.scheduler && !opts.delay;\n  var scheduler = createSchedulerFromOptions(opts);\n  var firstTime = true;\n  var isScheduled = false;\n  var value;\n  var equals = opts.compareStructural ? comparer.structural : opts.equals || comparer.default;\n  var r = new Reaction(name, function () {\n    if (firstTime || runSync) {\n      reactionRunner();\n    } else if (!isScheduled) {\n      isScheduled = true;\n      scheduler(reactionRunner);\n    }\n  }, opts.onError, opts.requiresObservable);\n\n  function reactionRunner() {\n    isScheduled = false; // Q: move into reaction runner?\n\n    if (r.isDisposed) return;\n    var changed = false;\n    r.track(function () {\n      var nextValue = expression(r);\n      changed = firstTime || !equals(value, nextValue);\n      value = nextValue;\n    });\n    if (firstTime && opts.fireImmediately) effectAction(value, r);\n    if (!firstTime && changed === true) effectAction(value, r);\n    if (firstTime) firstTime = false;\n  }\n\n  r.schedule();\n  return r.getDisposer();\n}\n\nfunction wrapErrorHandler(errorHandler, baseFn) {\n  return function () {\n    try {\n      return baseFn.apply(this, arguments);\n    } catch (e) {\n      errorHandler.call(this, e);\n    }\n  };\n}\n\nfunction onBecomeObserved(thing, arg2, arg3) {\n  return interceptHook(\"onBecomeObserved\", thing, arg2, arg3);\n}\n\nfunction onBecomeUnobserved(thing, arg2, arg3) {\n  return interceptHook(\"onBecomeUnobserved\", thing, arg2, arg3);\n}\n\nfunction interceptHook(hook, thing, arg2, arg3) {\n  var atom = typeof arg3 === \"function\" ? getAtom(thing, arg2) : getAtom(thing);\n  var cb = typeof arg3 === \"function\" ? arg3 : arg2;\n  var listenersKey = hook + \"Listeners\";\n\n  if (atom[listenersKey]) {\n    atom[listenersKey].add(cb);\n  } else {\n    atom[listenersKey] = new Set([cb]);\n  }\n\n  var orig = atom[hook];\n  if (typeof orig !== \"function\") return fail(  true && \"Not an atom that can be (un)observed\");\n  return function () {\n    var hookListeners = atom[listenersKey];\n\n    if (hookListeners) {\n      hookListeners.delete(cb);\n\n      if (hookListeners.size === 0) {\n        delete atom[listenersKey];\n      }\n    }\n  };\n}\n\nfunction configure(options) {\n  var enforceActions = options.enforceActions,\n      computedRequiresReaction = options.computedRequiresReaction,\n      computedConfigurable = options.computedConfigurable,\n      disableErrorBoundaries = options.disableErrorBoundaries,\n      reactionScheduler = options.reactionScheduler,\n      reactionRequiresObservable = options.reactionRequiresObservable,\n      observableRequiresReaction = options.observableRequiresReaction;\n\n  if (options.isolateGlobalState === true) {\n    isolateGlobalState();\n  }\n\n  if (enforceActions !== undefined) {\n    if (typeof enforceActions === \"boolean\" || enforceActions === \"strict\") deprecated(\"Deprecated value for 'enforceActions', use 'false' => '\\\"never\\\"', 'true' => '\\\"observed\\\"', '\\\"strict\\\"' => \\\"'always'\\\" instead\");\n    var ea = void 0;\n\n    switch (enforceActions) {\n      case true:\n      case \"observed\":\n        ea = true;\n        break;\n\n      case false:\n      case \"never\":\n        ea = false;\n        break;\n\n      case \"strict\":\n      case \"always\":\n        ea = \"strict\";\n        break;\n\n      default:\n        fail(\"Invalid value for 'enforceActions': '\" + enforceActions + \"', expected 'never', 'always' or 'observed'\");\n    }\n\n    globalState.enforceActions = ea;\n    globalState.allowStateChanges = ea === true || ea === \"strict\" ? false : true;\n  }\n\n  if (computedRequiresReaction !== undefined) {\n    globalState.computedRequiresReaction = !!computedRequiresReaction;\n  }\n\n  if (reactionRequiresObservable !== undefined) {\n    globalState.reactionRequiresObservable = !!reactionRequiresObservable;\n  }\n\n  if (observableRequiresReaction !== undefined) {\n    globalState.observableRequiresReaction = !!observableRequiresReaction;\n    globalState.allowStateReads = !globalState.observableRequiresReaction;\n  }\n\n  if (computedConfigurable !== undefined) {\n    globalState.computedConfigurable = !!computedConfigurable;\n  }\n\n  if (disableErrorBoundaries !== undefined) {\n    if (disableErrorBoundaries === true) console.warn(\"WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled.\");\n    globalState.disableErrorBoundaries = !!disableErrorBoundaries;\n  }\n\n  if (reactionScheduler) {\n    setReactionScheduler(reactionScheduler);\n  }\n}\n\nfunction decorate(thing, decorators) {\n    true && invariant(isPlainObject(decorators), \"Decorators should be a key value map\");\n  var target = typeof thing === \"function\" ? thing.prototype : thing;\n\n  var _loop_1 = function (prop) {\n    var propertyDecorators = decorators[prop];\n\n    if (!Array.isArray(propertyDecorators)) {\n      propertyDecorators = [propertyDecorators];\n    }\n\n      true && invariant(propertyDecorators.every(function (decorator) {\n      return typeof decorator === \"function\";\n    }), \"Decorate: expected a decorator function or array of decorator functions for '\" + prop + \"'\");\n    var descriptor = Object.getOwnPropertyDescriptor(target, prop);\n    var newDescriptor = propertyDecorators.reduce(function (accDescriptor, decorator) {\n      return decorator(target, prop, accDescriptor);\n    }, descriptor);\n    if (newDescriptor) Object.defineProperty(target, prop, newDescriptor);\n  };\n\n  for (var prop in decorators) {\n    _loop_1(prop);\n  }\n\n  return thing;\n}\n\nfunction extendObservable(target, properties, decorators, options) {\n  if (true) {\n    invariant(arguments.length >= 2 && arguments.length <= 4, \"'extendObservable' expected 2-4 arguments\");\n    invariant(typeof target === \"object\", \"'extendObservable' expects an object as first argument\");\n    invariant(!isObservableMap(target), \"'extendObservable' should not be used on maps, use map.merge instead\");\n  }\n\n  options = asCreateObservableOptions(options);\n  var defaultDecorator = getDefaultDecoratorFromObjectOptions(options);\n  initializeInstance(target); // Fixes #1740\n\n  asObservableObject(target, options.name, defaultDecorator.enhancer); // make sure object is observable, even without initial props\n\n  if (properties) extendObservableObjectWithProperties(target, properties, decorators, defaultDecorator);\n  return target;\n}\n\nfunction getDefaultDecoratorFromObjectOptions(options) {\n  return options.defaultDecorator || (options.deep === false ? refDecorator : deepDecorator);\n}\n\nfunction extendObservableObjectWithProperties(target, properties, decorators, defaultDecorator) {\n  var e_1, _a, e_2, _b;\n\n  if (true) {\n    invariant(!isObservable(properties), \"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540\");\n\n    if (decorators) {\n      var keys = getPlainObjectKeys(decorators);\n\n      try {\n        for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {\n          var key = keys_1_1.value;\n          if (!(key in properties)) fail(\"Trying to declare a decorator for unspecified property '\" + stringifyKey(key) + \"'\");\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }\n  }\n\n  startBatch();\n\n  try {\n    var keys = getPlainObjectKeys(properties);\n\n    try {\n      for (var keys_2 = __values(keys), keys_2_1 = keys_2.next(); !keys_2_1.done; keys_2_1 = keys_2.next()) {\n        var key = keys_2_1.value;\n        var descriptor = Object.getOwnPropertyDescriptor(properties, key);\n\n        if (true) {\n          if (!isPlainObject(properties)) fail(\"'extendObservabe' only accepts plain objects as second argument\");\n          if (isComputed(descriptor.value)) fail(\"Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead\");\n        }\n\n        var decorator = decorators && key in decorators ? decorators[key] : descriptor.get ? computedDecorator : defaultDecorator;\n        if (  true && typeof decorator !== \"function\") fail(\"Not a valid decorator for '\" + stringifyKey(key) + \"', got: \" + decorator);\n        var resultDescriptor = decorator(target, key, descriptor, true);\n        if (resultDescriptor // otherwise, assume already applied, due to `applyToInstance`\n        ) Object.defineProperty(target, key, resultDescriptor);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (keys_2_1 && !keys_2_1.done && (_b = keys_2.return)) _b.call(keys_2);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  } finally {\n    endBatch();\n  }\n}\n\nfunction getDependencyTree(thing, property) {\n  return nodeToDependencyTree(getAtom(thing, property));\n}\n\nfunction nodeToDependencyTree(node) {\n  var result = {\n    name: node.name\n  };\n  if (node.observing && node.observing.length > 0) result.dependencies = unique(node.observing).map(nodeToDependencyTree);\n  return result;\n}\n\nfunction getObserverTree(thing, property) {\n  return nodeToObserverTree(getAtom(thing, property));\n}\n\nfunction nodeToObserverTree(node) {\n  var result = {\n    name: node.name\n  };\n  if (hasObservers(node)) result.observers = Array.from(getObservers(node)).map(nodeToObserverTree);\n  return result;\n}\n\nvar generatorId = 0;\n\nfunction FlowCancellationError() {\n  this.message = \"FLOW_CANCELLED\";\n}\n\nFlowCancellationError.prototype = Object.create(Error.prototype);\n\nfunction isFlowCancellationError(error) {\n  return error instanceof FlowCancellationError;\n}\n\nfunction flow(generator) {\n  if (arguments.length !== 1) fail(  true && \"Flow expects 1 argument and cannot be used as decorator\");\n  var name = generator.name || \"<unnamed flow>\"; // Implementation based on https://github.com/tj/co/blob/master/index.js\n\n  return function () {\n    var ctx = this;\n    var args = arguments;\n    var runId = ++generatorId;\n    var gen = action(name + \" - runid: \" + runId + \" - init\", generator).apply(ctx, args);\n    var rejector;\n    var pendingPromise = undefined;\n    var promise = new Promise(function (resolve, reject) {\n      var stepId = 0;\n      rejector = reject;\n\n      function onFulfilled(res) {\n        pendingPromise = undefined;\n        var ret;\n\n        try {\n          ret = action(name + \" - runid: \" + runId + \" - yield \" + stepId++, gen.next).call(gen, res);\n        } catch (e) {\n          return reject(e);\n        }\n\n        next(ret);\n      }\n\n      function onRejected(err) {\n        pendingPromise = undefined;\n        var ret;\n\n        try {\n          ret = action(name + \" - runid: \" + runId + \" - yield \" + stepId++, gen.throw).call(gen, err);\n        } catch (e) {\n          return reject(e);\n        }\n\n        next(ret);\n      }\n\n      function next(ret) {\n        if (ret && typeof ret.then === \"function\") {\n          // an async iterator\n          ret.then(next, reject);\n          return;\n        }\n\n        if (ret.done) return resolve(ret.value);\n        pendingPromise = Promise.resolve(ret.value);\n        return pendingPromise.then(onFulfilled, onRejected);\n      }\n\n      onFulfilled(undefined); // kick off the process\n    });\n    promise.cancel = action(name + \" - runid: \" + runId + \" - cancel\", function () {\n      try {\n        if (pendingPromise) cancelPromise(pendingPromise); // Finally block can return (or yield) stuff..\n\n        var res = gen.return(undefined); // eat anything that promise would do, it's cancelled!\n\n        var yieldedPromise = Promise.resolve(res.value);\n        yieldedPromise.then(noop, noop);\n        cancelPromise(yieldedPromise); // maybe it can be cancelled :)\n        // reject our original promise\n\n        rejector(new FlowCancellationError());\n      } catch (e) {\n        rejector(e); // there could be a throwing finally block\n      }\n    });\n    return promise;\n  };\n}\n\nfunction cancelPromise(promise) {\n  if (typeof promise.cancel === \"function\") promise.cancel();\n}\n\nfunction interceptReads(thing, propOrHandler, handler) {\n  var target;\n\n  if (isObservableMap(thing) || isObservableArray(thing) || isObservableValue(thing)) {\n    target = getAdministration(thing);\n  } else if (isObservableObject(thing)) {\n    if (typeof propOrHandler !== \"string\") return fail(  true && \"InterceptReads can only be used with a specific property, not with an object in general\");\n    target = getAdministration(thing, propOrHandler);\n  } else {\n    return fail(  true && \"Expected observable map, object or array as first array\");\n  }\n\n  if (target.dehancer !== undefined) return fail(  true && \"An intercept reader was already established\");\n  target.dehancer = typeof propOrHandler === \"function\" ? propOrHandler : handler;\n  return function () {\n    target.dehancer = undefined;\n  };\n}\n\nfunction intercept(thing, propOrHandler, handler) {\n  if (typeof handler === \"function\") return interceptProperty(thing, propOrHandler, handler);else return interceptInterceptable(thing, propOrHandler);\n}\n\nfunction interceptInterceptable(thing, handler) {\n  return getAdministration(thing).intercept(handler);\n}\n\nfunction interceptProperty(thing, property, handler) {\n  return getAdministration(thing, property).intercept(handler);\n}\n\nfunction _isComputed(value, property) {\n  if (value === null || value === undefined) return false;\n\n  if (property !== undefined) {\n    if (isObservableObject(value) === false) return false;\n    if (!value[$mobx].values.has(property)) return false;\n    var atom = getAtom(value, property);\n    return isComputedValue(atom);\n  }\n\n  return isComputedValue(value);\n}\n\nfunction isComputed(value) {\n  if (arguments.length > 1) return fail(  true && \"isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property\");\n  return _isComputed(value);\n}\n\nfunction isComputedProp(value, propName) {\n  if (typeof propName !== \"string\") return fail(  true && \"isComputed expected a property name as second argument\");\n  return _isComputed(value, propName);\n}\n\nfunction _isObservable(value, property) {\n  if (value === null || value === undefined) return false;\n\n  if (property !== undefined) {\n    if (  true && (isObservableMap(value) || isObservableArray(value))) return fail(\"isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.\");\n\n    if (isObservableObject(value)) {\n      return value[$mobx].values.has(property);\n    }\n\n    return false;\n  } // For first check, see #701\n\n\n  return isObservableObject(value) || !!value[$mobx] || isAtom(value) || isReaction(value) || isComputedValue(value);\n}\n\nfunction isObservable(value) {\n  if (arguments.length !== 1) fail(  true && \"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property\");\n  return _isObservable(value);\n}\n\nfunction isObservableProp(value, propName) {\n  if (typeof propName !== \"string\") return fail(  true && \"expected a property name as second argument\");\n  return _isObservable(value, propName);\n}\n\nfunction keys(obj) {\n  if (isObservableObject(obj)) {\n    return obj[$mobx].getKeys();\n  }\n\n  if (isObservableMap(obj)) {\n    return Array.from(obj.keys());\n  }\n\n  if (isObservableSet(obj)) {\n    return Array.from(obj.keys());\n  }\n\n  if (isObservableArray(obj)) {\n    return obj.map(function (_, index) {\n      return index;\n    });\n  }\n\n  return fail(  true && \"'keys()' can only be used on observable objects, arrays, sets and maps\");\n}\n\nfunction values(obj) {\n  if (isObservableObject(obj)) {\n    return keys(obj).map(function (key) {\n      return obj[key];\n    });\n  }\n\n  if (isObservableMap(obj)) {\n    return keys(obj).map(function (key) {\n      return obj.get(key);\n    });\n  }\n\n  if (isObservableSet(obj)) {\n    return Array.from(obj.values());\n  }\n\n  if (isObservableArray(obj)) {\n    return obj.slice();\n  }\n\n  return fail(  true && \"'values()' can only be used on observable objects, arrays, sets and maps\");\n}\n\nfunction entries(obj) {\n  if (isObservableObject(obj)) {\n    return keys(obj).map(function (key) {\n      return [key, obj[key]];\n    });\n  }\n\n  if (isObservableMap(obj)) {\n    return keys(obj).map(function (key) {\n      return [key, obj.get(key)];\n    });\n  }\n\n  if (isObservableSet(obj)) {\n    return Array.from(obj.entries());\n  }\n\n  if (isObservableArray(obj)) {\n    return obj.map(function (key, index) {\n      return [index, key];\n    });\n  }\n\n  return fail(  true && \"'entries()' can only be used on observable objects, arrays and maps\");\n}\n\nfunction set(obj, key, value) {\n  if (arguments.length === 2 && !isObservableSet(obj)) {\n    startBatch();\n    var values_1 = key;\n\n    try {\n      for (var key_1 in values_1) set(obj, key_1, values_1[key_1]);\n    } finally {\n      endBatch();\n    }\n\n    return;\n  }\n\n  if (isObservableObject(obj)) {\n    var adm = obj[$mobx];\n    var existingObservable = adm.values.get(key);\n\n    if (existingObservable) {\n      adm.write(key, value);\n    } else {\n      adm.addObservableProp(key, value, adm.defaultEnhancer);\n    }\n  } else if (isObservableMap(obj)) {\n    obj.set(key, value);\n  } else if (isObservableSet(obj)) {\n    obj.add(key);\n  } else if (isObservableArray(obj)) {\n    if (typeof key !== \"number\") key = parseInt(key, 10);\n    invariant(key >= 0, \"Not a valid index: '\" + key + \"'\");\n    startBatch();\n    if (key >= obj.length) obj.length = key + 1;\n    obj[key] = value;\n    endBatch();\n  } else {\n    return fail(  true && \"'set()' can only be used on observable objects, arrays and maps\");\n  }\n}\n\nfunction remove(obj, key) {\n  if (isObservableObject(obj)) {\n    obj[$mobx].remove(key);\n  } else if (isObservableMap(obj)) {\n    obj.delete(key);\n  } else if (isObservableSet(obj)) {\n    obj.delete(key);\n  } else if (isObservableArray(obj)) {\n    if (typeof key !== \"number\") key = parseInt(key, 10);\n    invariant(key >= 0, \"Not a valid index: '\" + key + \"'\");\n    obj.splice(key, 1);\n  } else {\n    return fail(  true && \"'remove()' can only be used on observable objects, arrays and maps\");\n  }\n}\n\nfunction has(obj, key) {\n  if (isObservableObject(obj)) {\n    // return keys(obj).indexOf(key) >= 0\n    var adm = getAdministration(obj);\n    return adm.has(key);\n  } else if (isObservableMap(obj)) {\n    return obj.has(key);\n  } else if (isObservableSet(obj)) {\n    return obj.has(key);\n  } else if (isObservableArray(obj)) {\n    return key >= 0 && key < obj.length;\n  } else {\n    return fail(  true && \"'has()' can only be used on observable objects, arrays and maps\");\n  }\n}\n\nfunction get(obj, key) {\n  if (!has(obj, key)) return undefined;\n\n  if (isObservableObject(obj)) {\n    return obj[key];\n  } else if (isObservableMap(obj)) {\n    return obj.get(key);\n  } else if (isObservableArray(obj)) {\n    return obj[key];\n  } else {\n    return fail(  true && \"'get()' can only be used on observable objects, arrays and maps\");\n  }\n}\n\nfunction observe(thing, propOrCb, cbOrFire, fireImmediately) {\n  if (typeof cbOrFire === \"function\") return observeObservableProperty(thing, propOrCb, cbOrFire, fireImmediately);else return observeObservable(thing, propOrCb, cbOrFire);\n}\n\nfunction observeObservable(thing, listener, fireImmediately) {\n  return getAdministration(thing).observe(listener, fireImmediately);\n}\n\nfunction observeObservableProperty(thing, property, listener, fireImmediately) {\n  return getAdministration(thing, property).observe(listener, fireImmediately);\n}\n\nvar defaultOptions = {\n  detectCycles: true,\n  exportMapsAsObjects: true,\n  recurseEverything: false\n};\n\nfunction cache(map, key, value, options) {\n  if (options.detectCycles) map.set(key, value);\n  return value;\n}\n\nfunction toJSHelper(source, options, __alreadySeen) {\n  if (!options.recurseEverything && !isObservable(source)) return source;\n  if (typeof source !== \"object\") return source; // Directly return null if source is null\n\n  if (source === null) return null; // Directly return the Date object itself if contained in the observable\n\n  if (source instanceof Date) return source;\n  if (isObservableValue(source)) return toJSHelper(source.get(), options, __alreadySeen); // make sure we track the keys of the object\n\n  if (isObservable(source)) keys(source);\n  var detectCycles = options.detectCycles === true;\n\n  if (detectCycles && source !== null && __alreadySeen.has(source)) {\n    return __alreadySeen.get(source);\n  }\n\n  if (isObservableArray(source) || Array.isArray(source)) {\n    var res_1 = cache(__alreadySeen, source, [], options);\n    var toAdd = source.map(function (value) {\n      return toJSHelper(value, options, __alreadySeen);\n    });\n    res_1.length = toAdd.length;\n\n    for (var i = 0, l = toAdd.length; i < l; i++) res_1[i] = toAdd[i];\n\n    return res_1;\n  }\n\n  if (isObservableSet(source) || Object.getPrototypeOf(source) === Set.prototype) {\n    if (options.exportMapsAsObjects === false) {\n      var res_2 = cache(__alreadySeen, source, new Set(), options);\n      source.forEach(function (value) {\n        res_2.add(toJSHelper(value, options, __alreadySeen));\n      });\n      return res_2;\n    } else {\n      var res_3 = cache(__alreadySeen, source, [], options);\n      source.forEach(function (value) {\n        res_3.push(toJSHelper(value, options, __alreadySeen));\n      });\n      return res_3;\n    }\n  }\n\n  if (isObservableMap(source) || Object.getPrototypeOf(source) === Map.prototype) {\n    if (options.exportMapsAsObjects === false) {\n      var res_4 = cache(__alreadySeen, source, new Map(), options);\n      source.forEach(function (value, key) {\n        res_4.set(key, toJSHelper(value, options, __alreadySeen));\n      });\n      return res_4;\n    } else {\n      var res_5 = cache(__alreadySeen, source, {}, options);\n      source.forEach(function (value, key) {\n        res_5[key] = toJSHelper(value, options, __alreadySeen);\n      });\n      return res_5;\n    }\n  } // Fallback to the situation that source is an ObservableObject or a plain object\n\n\n  var res = cache(__alreadySeen, source, {}, options);\n  getPlainObjectKeys(source).forEach(function (key) {\n    res[key] = toJSHelper(source[key], options, __alreadySeen);\n  });\n  return res;\n}\n\nfunction toJS(source, options) {\n  // backward compatibility\n  if (typeof options === \"boolean\") options = {\n    detectCycles: options\n  };\n  if (!options) options = defaultOptions;\n  options.detectCycles = options.detectCycles === undefined ? options.recurseEverything === true : options.detectCycles === true;\n\n  var __alreadySeen;\n\n  if (options.detectCycles) __alreadySeen = new Map();\n  return toJSHelper(source, options, __alreadySeen);\n}\n\nfunction trace() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  var enterBreakPoint = false;\n  if (typeof args[args.length - 1] === \"boolean\") enterBreakPoint = args.pop();\n  var derivation = getAtomFromArgs(args);\n\n  if (!derivation) {\n    return fail(  true && \"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly\");\n  }\n\n  if (derivation.isTracing === TraceMode.NONE) {\n    console.log(\"[mobx.trace] '\" + derivation.name + \"' tracing enabled\");\n  }\n\n  derivation.isTracing = enterBreakPoint ? TraceMode.BREAK : TraceMode.LOG;\n}\n\nfunction getAtomFromArgs(args) {\n  switch (args.length) {\n    case 0:\n      return globalState.trackingDerivation;\n\n    case 1:\n      return getAtom(args[0]);\n\n    case 2:\n      return getAtom(args[0], args[1]);\n  }\n}\n/**\r\n * During a transaction no views are updated until the end of the transaction.\r\n * The transaction will be run synchronously nonetheless.\r\n *\r\n * @param action a function that updates some reactive state\r\n * @returns any value that was returned by the 'action' parameter.\r\n */\n\n\nfunction transaction(action, thisArg) {\n  if (thisArg === void 0) {\n    thisArg = undefined;\n  }\n\n  startBatch();\n\n  try {\n    return action.apply(thisArg);\n  } finally {\n    endBatch();\n  }\n}\n\nfunction when(predicate, arg1, arg2) {\n  if (arguments.length === 1 || arg1 && typeof arg1 === \"object\") return whenPromise(predicate, arg1);\n  return _when(predicate, arg1, arg2 || {});\n}\n\nfunction _when(predicate, effect, opts) {\n  var timeoutHandle;\n\n  if (typeof opts.timeout === \"number\") {\n    timeoutHandle = setTimeout(function () {\n      if (!disposer[$mobx].isDisposed) {\n        disposer();\n        var error = new Error(\"WHEN_TIMEOUT\");\n        if (opts.onError) opts.onError(error);else throw error;\n      }\n    }, opts.timeout);\n  }\n\n  opts.name = opts.name || \"When@\" + getNextId();\n  var effectAction = createAction(opts.name + \"-effect\", effect);\n  var disposer = autorun(function (r) {\n    if (predicate()) {\n      r.dispose();\n      if (timeoutHandle) clearTimeout(timeoutHandle);\n      effectAction();\n    }\n  }, opts);\n  return disposer;\n}\n\nfunction whenPromise(predicate, opts) {\n  if (  true && opts && opts.onError) return fail(\"the options 'onError' and 'promise' cannot be combined\");\n  var cancel;\n  var res = new Promise(function (resolve, reject) {\n    var disposer = _when(predicate, resolve, __assign(__assign({}, opts), {\n      onError: reject\n    }));\n\n    cancel = function () {\n      disposer();\n      reject(\"WHEN_CANCELLED\");\n    };\n  });\n  res.cancel = cancel;\n  return res;\n}\n\nfunction getAdm(target) {\n  return target[$mobx];\n}\n\nfunction isPropertyKey(val) {\n  return typeof val === \"string\" || typeof val === \"number\" || typeof val === \"symbol\";\n} // Optimization: we don't need the intermediate objects and could have a completely custom administration for DynamicObjects,\n// and skip either the internal values map, or the base object with its property descriptors!\n\n\nvar objectProxyTraps = {\n  has: function (target, name) {\n    if (name === $mobx || name === \"constructor\" || name === mobxDidRunLazyInitializersSymbol) return true;\n    var adm = getAdm(target); // MWE: should `in` operator be reactive? If not, below code path will be faster / more memory efficient\n    // TODO: check performance stats!\n    // if (adm.values.get(name as string)) return true\n\n    if (isPropertyKey(name)) return adm.has(name);\n    return name in target;\n  },\n  get: function (target, name) {\n    if (name === $mobx || name === \"constructor\" || name === mobxDidRunLazyInitializersSymbol) return target[name];\n    var adm = getAdm(target);\n    var observable = adm.values.get(name);\n\n    if (observable instanceof Atom) {\n      var result = observable.get();\n\n      if (result === undefined) {\n        // This fixes #1796, because deleting a prop that has an\n        // undefined value won't retrigger a observer (no visible effect),\n        // the autorun wouldn't subscribe to future key changes (see also next comment)\n        adm.has(name);\n      }\n\n      return result;\n    } // make sure we start listening to future keys\n    // note that we only do this here for optimization\n\n\n    if (isPropertyKey(name)) adm.has(name);\n    return target[name];\n  },\n  set: function (target, name, value) {\n    if (!isPropertyKey(name)) return false;\n    set(target, name, value);\n    return true;\n  },\n  deleteProperty: function (target, name) {\n    if (!isPropertyKey(name)) return false;\n    var adm = getAdm(target);\n    adm.remove(name);\n    return true;\n  },\n  ownKeys: function (target) {\n    var adm = getAdm(target);\n    adm.keysAtom.reportObserved();\n    return Reflect.ownKeys(target);\n  },\n  preventExtensions: function (target) {\n    fail(\"Dynamic observable objects cannot be frozen\");\n    return false;\n  }\n};\n\nfunction createDynamicObservableObject(base) {\n  var proxy = new Proxy(base, objectProxyTraps);\n  base[$mobx].proxy = proxy;\n  return proxy;\n}\n\nfunction hasInterceptors(interceptable) {\n  return interceptable.interceptors !== undefined && interceptable.interceptors.length > 0;\n}\n\nfunction registerInterceptor(interceptable, handler) {\n  var interceptors = interceptable.interceptors || (interceptable.interceptors = []);\n  interceptors.push(handler);\n  return once(function () {\n    var idx = interceptors.indexOf(handler);\n    if (idx !== -1) interceptors.splice(idx, 1);\n  });\n}\n\nfunction interceptChange(interceptable, change) {\n  var prevU = untrackedStart();\n\n  try {\n    // Interceptor can modify the array, copy it to avoid concurrent modification, see #1950\n    var interceptors = __spread(interceptable.interceptors || []);\n\n    for (var i = 0, l = interceptors.length; i < l; i++) {\n      change = interceptors[i](change);\n      invariant(!change || change.type, \"Intercept handlers should return nothing or a change object\");\n      if (!change) break;\n    }\n\n    return change;\n  } finally {\n    untrackedEnd(prevU);\n  }\n}\n\nfunction hasListeners(listenable) {\n  return listenable.changeListeners !== undefined && listenable.changeListeners.length > 0;\n}\n\nfunction registerListener(listenable, handler) {\n  var listeners = listenable.changeListeners || (listenable.changeListeners = []);\n  listeners.push(handler);\n  return once(function () {\n    var idx = listeners.indexOf(handler);\n    if (idx !== -1) listeners.splice(idx, 1);\n  });\n}\n\nfunction notifyListeners(listenable, change) {\n  var prevU = untrackedStart();\n  var listeners = listenable.changeListeners;\n  if (!listeners) return;\n  listeners = listeners.slice();\n\n  for (var i = 0, l = listeners.length; i < l; i++) {\n    listeners[i](change);\n  }\n\n  untrackedEnd(prevU);\n}\n\nvar MAX_SPLICE_SIZE = 10000; // See e.g. https://github.com/mobxjs/mobx/issues/859\n\nvar arrayTraps = {\n  get: function (target, name) {\n    if (name === $mobx) return target[$mobx];\n    if (name === \"length\") return target[$mobx].getArrayLength();\n\n    if (typeof name === \"number\") {\n      return arrayExtensions.get.call(target, name);\n    }\n\n    if (typeof name === \"string\" && !isNaN(name)) {\n      return arrayExtensions.get.call(target, parseInt(name));\n    }\n\n    if (arrayExtensions.hasOwnProperty(name)) {\n      return arrayExtensions[name];\n    }\n\n    return target[name];\n  },\n  set: function (target, name, value) {\n    if (name === \"length\") {\n      target[$mobx].setArrayLength(value);\n    }\n\n    if (typeof name === \"number\") {\n      arrayExtensions.set.call(target, name, value);\n    }\n\n    if (typeof name === \"symbol\" || isNaN(name)) {\n      target[name] = value;\n    } else {\n      // numeric string\n      arrayExtensions.set.call(target, parseInt(name), value);\n    }\n\n    return true;\n  },\n  preventExtensions: function (target) {\n    fail(\"Observable arrays cannot be frozen\");\n    return false;\n  }\n};\n\nfunction createObservableArray(initialValues, enhancer, name, owned) {\n  if (name === void 0) {\n    name = \"ObservableArray@\" + getNextId();\n  }\n\n  if (owned === void 0) {\n    owned = false;\n  }\n\n  var adm = new ObservableArrayAdministration(name, enhancer, owned);\n  addHiddenFinalProp(adm.values, $mobx, adm);\n  var proxy = new Proxy(adm.values, arrayTraps);\n  adm.proxy = proxy;\n\n  if (initialValues && initialValues.length) {\n    var prev = allowStateChangesStart(true);\n    adm.spliceWithArray(0, 0, initialValues);\n    allowStateChangesEnd(prev);\n  }\n\n  return proxy;\n}\n\nvar ObservableArrayAdministration =\n/** @class */\nfunction () {\n  function ObservableArrayAdministration(name, enhancer, owned) {\n    this.owned = owned;\n    this.values = [];\n    this.proxy = undefined;\n    this.lastKnownLength = 0;\n    this.atom = new Atom(name || \"ObservableArray@\" + getNextId());\n\n    this.enhancer = function (newV, oldV) {\n      return enhancer(newV, oldV, name + \"[..]\");\n    };\n  }\n\n  ObservableArrayAdministration.prototype.dehanceValue = function (value) {\n    if (this.dehancer !== undefined) return this.dehancer(value);\n    return value;\n  };\n\n  ObservableArrayAdministration.prototype.dehanceValues = function (values) {\n    if (this.dehancer !== undefined && values.length > 0) return values.map(this.dehancer);\n    return values;\n  };\n\n  ObservableArrayAdministration.prototype.intercept = function (handler) {\n    return registerInterceptor(this, handler);\n  };\n\n  ObservableArrayAdministration.prototype.observe = function (listener, fireImmediately) {\n    if (fireImmediately === void 0) {\n      fireImmediately = false;\n    }\n\n    if (fireImmediately) {\n      listener({\n        object: this.proxy,\n        type: \"splice\",\n        index: 0,\n        added: this.values.slice(),\n        addedCount: this.values.length,\n        removed: [],\n        removedCount: 0\n      });\n    }\n\n    return registerListener(this, listener);\n  };\n\n  ObservableArrayAdministration.prototype.getArrayLength = function () {\n    this.atom.reportObserved();\n    return this.values.length;\n  };\n\n  ObservableArrayAdministration.prototype.setArrayLength = function (newLength) {\n    if (typeof newLength !== \"number\" || newLength < 0) throw new Error(\"[mobx.array] Out of range: \" + newLength);\n    var currentLength = this.values.length;\n    if (newLength === currentLength) return;else if (newLength > currentLength) {\n      var newItems = new Array(newLength - currentLength);\n\n      for (var i = 0; i < newLength - currentLength; i++) newItems[i] = undefined; // No Array.fill everywhere...\n\n\n      this.spliceWithArray(currentLength, 0, newItems);\n    } else this.spliceWithArray(newLength, currentLength - newLength);\n  };\n\n  ObservableArrayAdministration.prototype.updateArrayLength = function (oldLength, delta) {\n    if (oldLength !== this.lastKnownLength) throw new Error(\"[mobx] Modification exception: the internal structure of an observable array was changed.\");\n    this.lastKnownLength += delta;\n  };\n\n  ObservableArrayAdministration.prototype.spliceWithArray = function (index, deleteCount, newItems) {\n    var _this = this;\n\n    checkIfStateModificationsAreAllowed(this.atom);\n    var length = this.values.length;\n    if (index === undefined) index = 0;else if (index > length) index = length;else if (index < 0) index = Math.max(0, length + index);\n    if (arguments.length === 1) deleteCount = length - index;else if (deleteCount === undefined || deleteCount === null) deleteCount = 0;else deleteCount = Math.max(0, Math.min(deleteCount, length - index));\n    if (newItems === undefined) newItems = EMPTY_ARRAY;\n\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this.proxy,\n        type: \"splice\",\n        index: index,\n        removedCount: deleteCount,\n        added: newItems\n      });\n      if (!change) return EMPTY_ARRAY;\n      deleteCount = change.removedCount;\n      newItems = change.added;\n    }\n\n    newItems = newItems.length === 0 ? newItems : newItems.map(function (v) {\n      return _this.enhancer(v, undefined);\n    });\n\n    if (true) {\n      var lengthDelta = newItems.length - deleteCount;\n      this.updateArrayLength(length, lengthDelta); // checks if internal array wasn't modified\n    }\n\n    var res = this.spliceItemsIntoValues(index, deleteCount, newItems);\n    if (deleteCount !== 0 || newItems.length !== 0) this.notifyArraySplice(index, newItems, res);\n    return this.dehanceValues(res);\n  };\n\n  ObservableArrayAdministration.prototype.spliceItemsIntoValues = function (index, deleteCount, newItems) {\n    var _a;\n\n    if (newItems.length < MAX_SPLICE_SIZE) {\n      return (_a = this.values).splice.apply(_a, __spread([index, deleteCount], newItems));\n    } else {\n      var res = this.values.slice(index, index + deleteCount);\n      this.values = this.values.slice(0, index).concat(newItems, this.values.slice(index + deleteCount));\n      return res;\n    }\n  };\n\n  ObservableArrayAdministration.prototype.notifyArrayChildUpdate = function (index, newValue, oldValue) {\n    var notifySpy = !this.owned && isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      object: this.proxy,\n      type: \"update\",\n      index: index,\n      newValue: newValue,\n      oldValue: oldValue\n    } : null; // The reason why this is on right hand side here (and not above), is this way the uglifier will drop it, but it won't\n    // cause any runtime overhead in development mode without NODE_ENV set, unless spying is enabled\n\n    if (notifySpy && \"development\" !== \"production\") spyReportStart(__assign(__assign({}, change), {\n      name: this.atom.name\n    }));\n    this.atom.reportChanged();\n    if (notify) notifyListeners(this, change);\n    if (notifySpy && \"development\" !== \"production\") spyReportEnd();\n  };\n\n  ObservableArrayAdministration.prototype.notifyArraySplice = function (index, added, removed) {\n    var notifySpy = !this.owned && isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      object: this.proxy,\n      type: \"splice\",\n      index: index,\n      removed: removed,\n      added: added,\n      removedCount: removed.length,\n      addedCount: added.length\n    } : null;\n    if (notifySpy && \"development\" !== \"production\") spyReportStart(__assign(__assign({}, change), {\n      name: this.atom.name\n    }));\n    this.atom.reportChanged(); // conform: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/observe\n\n    if (notify) notifyListeners(this, change);\n    if (notifySpy && \"development\" !== \"production\") spyReportEnd();\n  };\n\n  return ObservableArrayAdministration;\n}();\n\nvar arrayExtensions = {\n  intercept: function (handler) {\n    return this[$mobx].intercept(handler);\n  },\n  observe: function (listener, fireImmediately) {\n    if (fireImmediately === void 0) {\n      fireImmediately = false;\n    }\n\n    var adm = this[$mobx];\n    return adm.observe(listener, fireImmediately);\n  },\n  clear: function () {\n    return this.splice(0);\n  },\n  replace: function (newItems) {\n    var adm = this[$mobx];\n    return adm.spliceWithArray(0, adm.values.length, newItems);\n  },\n\n  /**\r\n   * Converts this array back to a (shallow) javascript structure.\r\n   * For a deep clone use mobx.toJS\r\n   */\n  toJS: function () {\n    return this.slice();\n  },\n  toJSON: function () {\n    // Used by JSON.stringify\n    return this.toJS();\n  },\n\n  /*\r\n   * functions that do alter the internal structure of the array, (based on lib.es6.d.ts)\r\n   * since these functions alter the inner structure of the array, the have side effects.\r\n   * Because the have side effects, they should not be used in computed function,\r\n   * and for that reason the do not call dependencyState.notifyObserved\r\n   */\n  splice: function (index, deleteCount) {\n    var newItems = [];\n\n    for (var _i = 2; _i < arguments.length; _i++) {\n      newItems[_i - 2] = arguments[_i];\n    }\n\n    var adm = this[$mobx];\n\n    switch (arguments.length) {\n      case 0:\n        return [];\n\n      case 1:\n        return adm.spliceWithArray(index);\n\n      case 2:\n        return adm.spliceWithArray(index, deleteCount);\n    }\n\n    return adm.spliceWithArray(index, deleteCount, newItems);\n  },\n  spliceWithArray: function (index, deleteCount, newItems) {\n    var adm = this[$mobx];\n    return adm.spliceWithArray(index, deleteCount, newItems);\n  },\n  push: function () {\n    var items = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      items[_i] = arguments[_i];\n    }\n\n    var adm = this[$mobx];\n    adm.spliceWithArray(adm.values.length, 0, items);\n    return adm.values.length;\n  },\n  pop: function () {\n    return this.splice(Math.max(this[$mobx].values.length - 1, 0), 1)[0];\n  },\n  shift: function () {\n    return this.splice(0, 1)[0];\n  },\n  unshift: function () {\n    var items = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      items[_i] = arguments[_i];\n    }\n\n    var adm = this[$mobx];\n    adm.spliceWithArray(0, 0, items);\n    return adm.values.length;\n  },\n  reverse: function () {\n    // reverse by default mutates in place before returning the result\n    // which makes it both a 'derivation' and a 'mutation'.\n    // so we deviate from the default and just make it an dervitation\n    if (true) {\n      console.warn(\"[mobx] `observableArray.reverse()` will not update the array in place. Use `observableArray.slice().reverse()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().reverse())` to reverse & update in place\");\n    }\n\n    var clone = this.slice();\n    return clone.reverse.apply(clone, arguments);\n  },\n  sort: function (compareFn) {\n    // sort by default mutates in place before returning the result\n    // which goes against all good practices. Let's not change the array in place!\n    if (true) {\n      console.warn(\"[mobx] `observableArray.sort()` will not update the array in place. Use `observableArray.slice().sort()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().sort())` to sort & update in place\");\n    }\n\n    var clone = this.slice();\n    return clone.sort.apply(clone, arguments);\n  },\n  remove: function (value) {\n    var adm = this[$mobx];\n    var idx = adm.dehanceValues(adm.values).indexOf(value);\n\n    if (idx > -1) {\n      this.splice(idx, 1);\n      return true;\n    }\n\n    return false;\n  },\n  get: function (index) {\n    var adm = this[$mobx];\n\n    if (adm) {\n      if (index < adm.values.length) {\n        adm.atom.reportObserved();\n        return adm.dehanceValue(adm.values[index]);\n      }\n\n      console.warn(\"[mobx.array] Attempt to read an array index (\" + index + \") that is out of bounds (\" + adm.values.length + \"). Please check length first. Out of bound indices will not be tracked by MobX\");\n    }\n\n    return undefined;\n  },\n  set: function (index, newValue) {\n    var adm = this[$mobx];\n    var values = adm.values;\n\n    if (index < values.length) {\n      // update at index in range\n      checkIfStateModificationsAreAllowed(adm.atom);\n      var oldValue = values[index];\n\n      if (hasInterceptors(adm)) {\n        var change = interceptChange(adm, {\n          type: \"update\",\n          object: adm.proxy,\n          index: index,\n          newValue: newValue\n        });\n        if (!change) return;\n        newValue = change.newValue;\n      }\n\n      newValue = adm.enhancer(newValue, oldValue);\n      var changed = newValue !== oldValue;\n\n      if (changed) {\n        values[index] = newValue;\n        adm.notifyArrayChildUpdate(index, newValue, oldValue);\n      }\n    } else if (index === values.length) {\n      // add a new item\n      adm.spliceWithArray(index, 0, [newValue]);\n    } else {\n      // out of bounds\n      throw new Error(\"[mobx.array] Index out of bounds, \" + index + \" is larger than \" + values.length);\n    }\n  }\n};\n[\"concat\", \"every\", \"filter\", \"forEach\", \"indexOf\", \"join\", \"lastIndexOf\", \"map\", \"reduce\", \"reduceRight\", \"slice\", \"some\", \"toString\", \"toLocaleString\"].forEach(function (funcName) {\n  arrayExtensions[funcName] = function () {\n    var adm = this[$mobx];\n    adm.atom.reportObserved();\n    var res = adm.dehanceValues(adm.values);\n    return res[funcName].apply(res, arguments);\n  };\n});\nvar isObservableArrayAdministration = createInstanceofPredicate(\"ObservableArrayAdministration\", ObservableArrayAdministration);\n\nfunction isObservableArray(thing) {\n  return isObject(thing) && isObservableArrayAdministration(thing[$mobx]);\n}\n\nvar _a;\n\nvar ObservableMapMarker = {}; // just extend Map? See also https://gist.github.com/nestharus/13b4d74f2ef4a2f4357dbd3fc23c1e54\n// But: https://github.com/mobxjs/mobx/issues/1556\n\nvar ObservableMap =\n/** @class */\nfunction () {\n  function ObservableMap(initialData, enhancer, name) {\n    if (enhancer === void 0) {\n      enhancer = deepEnhancer;\n    }\n\n    if (name === void 0) {\n      name = \"ObservableMap@\" + getNextId();\n    }\n\n    this.enhancer = enhancer;\n    this.name = name;\n    this[_a] = ObservableMapMarker;\n    this._keysAtom = createAtom(this.name + \".keys()\");\n    this[Symbol.toStringTag] = \"Map\";\n\n    if (typeof Map !== \"function\") {\n      throw new Error(\"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js\");\n    }\n\n    this._data = new Map();\n    this._hasMap = new Map();\n    this.merge(initialData);\n  }\n\n  ObservableMap.prototype._has = function (key) {\n    return this._data.has(key);\n  };\n\n  ObservableMap.prototype.has = function (key) {\n    var _this = this;\n\n    if (!globalState.trackingDerivation) return this._has(key);\n\n    var entry = this._hasMap.get(key);\n\n    if (!entry) {\n      // todo: replace with atom (breaking change)\n      var newEntry = entry = new ObservableValue(this._has(key), referenceEnhancer, this.name + \".\" + stringifyKey(key) + \"?\", false);\n\n      this._hasMap.set(key, newEntry);\n\n      onBecomeUnobserved(newEntry, function () {\n        return _this._hasMap.delete(key);\n      });\n    }\n\n    return entry.get();\n  };\n\n  ObservableMap.prototype.set = function (key, value) {\n    var hasKey = this._has(key);\n\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: hasKey ? \"update\" : \"add\",\n        object: this,\n        newValue: value,\n        name: key\n      });\n      if (!change) return this;\n      value = change.newValue;\n    }\n\n    if (hasKey) {\n      this._updateValue(key, value);\n    } else {\n      this._addValue(key, value);\n    }\n\n    return this;\n  };\n\n  ObservableMap.prototype.delete = function (key) {\n    var _this = this;\n\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: \"delete\",\n        object: this,\n        name: key\n      });\n      if (!change) return false;\n    }\n\n    if (this._has(key)) {\n      var notifySpy = isSpyEnabled();\n      var notify = hasListeners(this);\n      var change = notify || notifySpy ? {\n        type: \"delete\",\n        object: this,\n        oldValue: this._data.get(key).value,\n        name: key\n      } : null;\n      if (notifySpy && \"development\" !== \"production\") spyReportStart(__assign(__assign({}, change), {\n        name: this.name,\n        key: key\n      }));\n      transaction(function () {\n        _this._keysAtom.reportChanged();\n\n        _this._updateHasMapEntry(key, false);\n\n        var observable = _this._data.get(key);\n\n        observable.setNewValue(undefined);\n\n        _this._data.delete(key);\n      });\n      if (notify) notifyListeners(this, change);\n      if (notifySpy && \"development\" !== \"production\") spyReportEnd();\n      return true;\n    }\n\n    return false;\n  };\n\n  ObservableMap.prototype._updateHasMapEntry = function (key, value) {\n    var entry = this._hasMap.get(key);\n\n    if (entry) {\n      entry.setNewValue(value);\n    }\n  };\n\n  ObservableMap.prototype._updateValue = function (key, newValue) {\n    var observable = this._data.get(key);\n\n    newValue = observable.prepareNewValue(newValue);\n\n    if (newValue !== globalState.UNCHANGED) {\n      var notifySpy = isSpyEnabled();\n      var notify = hasListeners(this);\n      var change = notify || notifySpy ? {\n        type: \"update\",\n        object: this,\n        oldValue: observable.value,\n        name: key,\n        newValue: newValue\n      } : null;\n      if (notifySpy && \"development\" !== \"production\") spyReportStart(__assign(__assign({}, change), {\n        name: this.name,\n        key: key\n      }));\n      observable.setNewValue(newValue);\n      if (notify) notifyListeners(this, change);\n      if (notifySpy && \"development\" !== \"production\") spyReportEnd();\n    }\n  };\n\n  ObservableMap.prototype._addValue = function (key, newValue) {\n    var _this = this;\n\n    checkIfStateModificationsAreAllowed(this._keysAtom);\n    transaction(function () {\n      var observable = new ObservableValue(newValue, _this.enhancer, _this.name + \".\" + stringifyKey(key), false);\n\n      _this._data.set(key, observable);\n\n      newValue = observable.value; // value might have been changed\n\n      _this._updateHasMapEntry(key, true);\n\n      _this._keysAtom.reportChanged();\n    });\n    var notifySpy = isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      type: \"add\",\n      object: this,\n      name: key,\n      newValue: newValue\n    } : null;\n    if (notifySpy && \"development\" !== \"production\") spyReportStart(__assign(__assign({}, change), {\n      name: this.name,\n      key: key\n    }));\n    if (notify) notifyListeners(this, change);\n    if (notifySpy && \"development\" !== \"production\") spyReportEnd();\n  };\n\n  ObservableMap.prototype.get = function (key) {\n    if (this.has(key)) return this.dehanceValue(this._data.get(key).get());\n    return this.dehanceValue(undefined);\n  };\n\n  ObservableMap.prototype.dehanceValue = function (value) {\n    if (this.dehancer !== undefined) {\n      return this.dehancer(value);\n    }\n\n    return value;\n  };\n\n  ObservableMap.prototype.keys = function () {\n    this._keysAtom.reportObserved();\n\n    return this._data.keys();\n  };\n\n  ObservableMap.prototype.values = function () {\n    var self = this;\n    var nextIndex = 0;\n    var keys = Array.from(this.keys());\n    return makeIterable({\n      next: function () {\n        return nextIndex < keys.length ? {\n          value: self.get(keys[nextIndex++]),\n          done: false\n        } : {\n          done: true\n        };\n      }\n    });\n  };\n\n  ObservableMap.prototype.entries = function () {\n    var self = this;\n    var nextIndex = 0;\n    var keys = Array.from(this.keys());\n    return makeIterable({\n      next: function () {\n        if (nextIndex < keys.length) {\n          var key = keys[nextIndex++];\n          return {\n            value: [key, self.get(key)],\n            done: false\n          };\n        }\n\n        return {\n          done: true\n        };\n      }\n    });\n  };\n\n  ObservableMap.prototype[(_a = $mobx, Symbol.iterator)] = function () {\n    return this.entries();\n  };\n\n  ObservableMap.prototype.forEach = function (callback, thisArg) {\n    var e_1, _b;\n\n    try {\n      for (var _c = __values(this), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var _e = __read(_d.value, 2),\n            key = _e[0],\n            value = _e[1];\n\n        callback.call(thisArg, value, key, this);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  };\n  /** Merge another object into this object, returns this. */\n\n\n  ObservableMap.prototype.merge = function (other) {\n    var _this = this;\n\n    if (isObservableMap(other)) {\n      other = other.toJS();\n    }\n\n    transaction(function () {\n      if (isPlainObject(other)) getPlainObjectKeys(other).forEach(function (key) {\n        return _this.set(key, other[key]);\n      });else if (Array.isArray(other)) other.forEach(function (_b) {\n        var _c = __read(_b, 2),\n            key = _c[0],\n            value = _c[1];\n\n        return _this.set(key, value);\n      });else if (isES6Map(other)) {\n        if (other.constructor !== Map) fail(\"Cannot initialize from classes that inherit from Map: \" + other.constructor.name); // prettier-ignore\n\n        other.forEach(function (value, key) {\n          return _this.set(key, value);\n        });\n      } else if (other !== null && other !== undefined) fail(\"Cannot initialize map from \" + other);\n    });\n    return this;\n  };\n\n  ObservableMap.prototype.clear = function () {\n    var _this = this;\n\n    transaction(function () {\n      untracked(function () {\n        var e_2, _b;\n\n        try {\n          for (var _c = __values(_this.keys()), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var key = _d.value;\n\n            _this.delete(key);\n          }\n        } catch (e_2_1) {\n          e_2 = {\n            error: e_2_1\n          };\n        } finally {\n          try {\n            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n          } finally {\n            if (e_2) throw e_2.error;\n          }\n        }\n      });\n    });\n  };\n\n  ObservableMap.prototype.replace = function (values) {\n    var _this = this;\n\n    transaction(function () {\n      // grab all the keys that are present in the new map but not present in the current map\n      // and delete them from the map, then merge the new map\n      // this will cause reactions only on changed values\n      var newKeys = getMapLikeKeys(values);\n      var oldKeys = Array.from(_this.keys());\n      var missingKeys = oldKeys.filter(function (k) {\n        return newKeys.indexOf(k) === -1;\n      });\n      missingKeys.forEach(function (k) {\n        return _this.delete(k);\n      });\n\n      _this.merge(values);\n    });\n    return this;\n  };\n\n  Object.defineProperty(ObservableMap.prototype, \"size\", {\n    get: function () {\n      this._keysAtom.reportObserved();\n\n      return this._data.size;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Returns a plain object that represents this map.\r\n   * Note that all the keys being stringified.\r\n   * If there are duplicating keys after converting them to strings, behaviour is undetermined.\r\n   */\n\n  ObservableMap.prototype.toPOJO = function () {\n    var e_3, _b;\n\n    var res = {};\n\n    try {\n      for (var _c = __values(this), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var _e = __read(_d.value, 2),\n            key = _e[0],\n            value = _e[1]; // We lie about symbol key types due to https://github.com/Microsoft/TypeScript/issues/1863\n\n\n        res[typeof key === \"symbol\" ? key : stringifyKey(key)] = value;\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    return res;\n  };\n  /**\r\n   * Returns a shallow non observable object clone of this map.\r\n   * Note that the values migth still be observable. For a deep clone use mobx.toJS.\r\n   */\n\n\n  ObservableMap.prototype.toJS = function () {\n    return new Map(this);\n  };\n\n  ObservableMap.prototype.toJSON = function () {\n    // Used by JSON.stringify\n    return this.toPOJO();\n  };\n\n  ObservableMap.prototype.toString = function () {\n    var _this = this;\n\n    return this.name + \"[{ \" + Array.from(this.keys()).map(function (key) {\n      return stringifyKey(key) + \": \" + (\"\" + _this.get(key));\n    }).join(\", \") + \" }]\";\n  };\n  /**\r\n   * Observes this object. Triggers for the events 'add', 'update' and 'delete'.\r\n   * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\r\n   * for callback details\r\n   */\n\n\n  ObservableMap.prototype.observe = function (listener, fireImmediately) {\n      true && invariant(fireImmediately !== true, \"`observe` doesn't support fireImmediately=true in combination with maps.\");\n    return registerListener(this, listener);\n  };\n\n  ObservableMap.prototype.intercept = function (handler) {\n    return registerInterceptor(this, handler);\n  };\n\n  return ObservableMap;\n}();\n/* 'var' fixes small-build issue */\n\n\nvar isObservableMap = createInstanceofPredicate(\"ObservableMap\", ObservableMap);\n\nvar _a$1;\n\nvar ObservableSetMarker = {};\n\nvar ObservableSet =\n/** @class */\nfunction () {\n  function ObservableSet(initialData, enhancer, name) {\n    if (enhancer === void 0) {\n      enhancer = deepEnhancer;\n    }\n\n    if (name === void 0) {\n      name = \"ObservableSet@\" + getNextId();\n    }\n\n    this.name = name;\n    this[_a$1] = ObservableSetMarker;\n    this._data = new Set();\n    this._atom = createAtom(this.name);\n    this[Symbol.toStringTag] = \"Set\";\n\n    if (typeof Set !== \"function\") {\n      throw new Error(\"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js\");\n    }\n\n    this.enhancer = function (newV, oldV) {\n      return enhancer(newV, oldV, name);\n    };\n\n    if (initialData) {\n      this.replace(initialData);\n    }\n  }\n\n  ObservableSet.prototype.dehanceValue = function (value) {\n    if (this.dehancer !== undefined) {\n      return this.dehancer(value);\n    }\n\n    return value;\n  };\n\n  ObservableSet.prototype.clear = function () {\n    var _this = this;\n\n    transaction(function () {\n      untracked(function () {\n        var e_1, _b;\n\n        try {\n          for (var _c = __values(_this._data.values()), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var value = _d.value;\n\n            _this.delete(value);\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      });\n    });\n  };\n\n  ObservableSet.prototype.forEach = function (callbackFn, thisArg) {\n    var e_2, _b;\n\n    try {\n      for (var _c = __values(this), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var value = _d.value;\n        callbackFn.call(thisArg, value, value, this);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n\n  Object.defineProperty(ObservableSet.prototype, \"size\", {\n    get: function () {\n      this._atom.reportObserved();\n\n      return this._data.size;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ObservableSet.prototype.add = function (value) {\n    var _this = this;\n\n    checkIfStateModificationsAreAllowed(this._atom);\n\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: \"add\",\n        object: this,\n        newValue: value\n      });\n      if (!change) return this; // TODO: ideally, value = change.value would be done here, so that values can be\n      // changed by interceptor. Same applies for other Set and Map api's.\n    }\n\n    if (!this.has(value)) {\n      transaction(function () {\n        _this._data.add(_this.enhancer(value, undefined));\n\n        _this._atom.reportChanged();\n      });\n      var notifySpy = isSpyEnabled();\n      var notify = hasListeners(this);\n      var change = notify || notifySpy ? {\n        type: \"add\",\n        object: this,\n        newValue: value\n      } : null;\n      if (notifySpy && \"development\" !== \"production\") spyReportStart(change);\n      if (notify) notifyListeners(this, change);\n      if (notifySpy && \"development\" !== \"production\") spyReportEnd();\n    }\n\n    return this;\n  };\n\n  ObservableSet.prototype.delete = function (value) {\n    var _this = this;\n\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: \"delete\",\n        object: this,\n        oldValue: value\n      });\n      if (!change) return false;\n    }\n\n    if (this.has(value)) {\n      var notifySpy = isSpyEnabled();\n      var notify = hasListeners(this);\n      var change = notify || notifySpy ? {\n        type: \"delete\",\n        object: this,\n        oldValue: value\n      } : null;\n      if (notifySpy && \"development\" !== \"production\") spyReportStart(__assign(__assign({}, change), {\n        name: this.name\n      }));\n      transaction(function () {\n        _this._atom.reportChanged();\n\n        _this._data.delete(value);\n      });\n      if (notify) notifyListeners(this, change);\n      if (notifySpy && \"development\" !== \"production\") spyReportEnd();\n      return true;\n    }\n\n    return false;\n  };\n\n  ObservableSet.prototype.has = function (value) {\n    this._atom.reportObserved();\n\n    return this._data.has(this.dehanceValue(value));\n  };\n\n  ObservableSet.prototype.entries = function () {\n    var nextIndex = 0;\n    var keys = Array.from(this.keys());\n    var values = Array.from(this.values());\n    return makeIterable({\n      next: function () {\n        var index = nextIndex;\n        nextIndex += 1;\n        return index < values.length ? {\n          value: [keys[index], values[index]],\n          done: false\n        } : {\n          done: true\n        };\n      }\n    });\n  };\n\n  ObservableSet.prototype.keys = function () {\n    return this.values();\n  };\n\n  ObservableSet.prototype.values = function () {\n    this._atom.reportObserved();\n\n    var self = this;\n    var nextIndex = 0;\n    var observableValues = Array.from(this._data.values());\n    return makeIterable({\n      next: function () {\n        return nextIndex < observableValues.length ? {\n          value: self.dehanceValue(observableValues[nextIndex++]),\n          done: false\n        } : {\n          done: true\n        };\n      }\n    });\n  };\n\n  ObservableSet.prototype.replace = function (other) {\n    var _this = this;\n\n    if (isObservableSet(other)) {\n      other = other.toJS();\n    }\n\n    transaction(function () {\n      if (Array.isArray(other)) {\n        _this.clear();\n\n        other.forEach(function (value) {\n          return _this.add(value);\n        });\n      } else if (isES6Set(other)) {\n        _this.clear();\n\n        other.forEach(function (value) {\n          return _this.add(value);\n        });\n      } else if (other !== null && other !== undefined) {\n        fail(\"Cannot initialize set from \" + other);\n      }\n    });\n    return this;\n  };\n\n  ObservableSet.prototype.observe = function (listener, fireImmediately) {\n    // TODO 'fireImmediately' can be true?\n      true && invariant(fireImmediately !== true, \"`observe` doesn't support fireImmediately=true in combination with sets.\");\n    return registerListener(this, listener);\n  };\n\n  ObservableSet.prototype.intercept = function (handler) {\n    return registerInterceptor(this, handler);\n  };\n\n  ObservableSet.prototype.toJS = function () {\n    return new Set(this);\n  };\n\n  ObservableSet.prototype.toString = function () {\n    return this.name + \"[ \" + Array.from(this).join(\", \") + \" ]\";\n  };\n\n  ObservableSet.prototype[(_a$1 = $mobx, Symbol.iterator)] = function () {\n    return this.values();\n  };\n\n  return ObservableSet;\n}();\n\nvar isObservableSet = createInstanceofPredicate(\"ObservableSet\", ObservableSet);\n\nvar ObservableObjectAdministration =\n/** @class */\nfunction () {\n  function ObservableObjectAdministration(target, values, name, defaultEnhancer) {\n    if (values === void 0) {\n      values = new Map();\n    }\n\n    this.target = target;\n    this.values = values;\n    this.name = name;\n    this.defaultEnhancer = defaultEnhancer;\n    this.keysAtom = new Atom(name + \".keys\");\n  }\n\n  ObservableObjectAdministration.prototype.read = function (key) {\n    return this.values.get(key).get();\n  };\n\n  ObservableObjectAdministration.prototype.write = function (key, newValue) {\n    var instance = this.target;\n    var observable = this.values.get(key);\n\n    if (observable instanceof ComputedValue) {\n      observable.set(newValue);\n      return;\n    } // intercept\n\n\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: \"update\",\n        object: this.proxy || instance,\n        name: key,\n        newValue: newValue\n      });\n      if (!change) return;\n      newValue = change.newValue;\n    }\n\n    newValue = observable.prepareNewValue(newValue); // notify spy & observers\n\n    if (newValue !== globalState.UNCHANGED) {\n      var notify = hasListeners(this);\n      var notifySpy = isSpyEnabled();\n      var change = notify || notifySpy ? {\n        type: \"update\",\n        object: this.proxy || instance,\n        oldValue: observable.value,\n        name: key,\n        newValue: newValue\n      } : null;\n      if (notifySpy && \"development\" !== \"production\") spyReportStart(__assign(__assign({}, change), {\n        name: this.name,\n        key: key\n      }));\n      observable.setNewValue(newValue);\n      if (notify) notifyListeners(this, change);\n      if (notifySpy && \"development\" !== \"production\") spyReportEnd();\n    }\n  };\n\n  ObservableObjectAdministration.prototype.has = function (key) {\n    var map = this.pendingKeys || (this.pendingKeys = new Map());\n    var entry = map.get(key);\n    if (entry) return entry.get();else {\n      var exists = !!this.values.get(key); // Possible optimization: Don't have a separate map for non existing keys,\n      // but store them in the values map instead, using a special symbol to denote \"not existing\"\n\n      entry = new ObservableValue(exists, referenceEnhancer, this.name + \".\" + stringifyKey(key) + \"?\", false);\n      map.set(key, entry);\n      return entry.get(); // read to subscribe\n    }\n  };\n\n  ObservableObjectAdministration.prototype.addObservableProp = function (propName, newValue, enhancer) {\n    if (enhancer === void 0) {\n      enhancer = this.defaultEnhancer;\n    }\n\n    var target = this.target;\n    assertPropertyConfigurable(target, propName);\n\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this.proxy || target,\n        name: propName,\n        type: \"add\",\n        newValue: newValue\n      });\n      if (!change) return;\n      newValue = change.newValue;\n    }\n\n    var observable = new ObservableValue(newValue, enhancer, this.name + \".\" + stringifyKey(propName), false);\n    this.values.set(propName, observable);\n    newValue = observable.value; // observableValue might have changed it\n\n    Object.defineProperty(target, propName, generateObservablePropConfig(propName));\n    this.notifyPropertyAddition(propName, newValue);\n  };\n\n  ObservableObjectAdministration.prototype.addComputedProp = function (propertyOwner, // where is the property declared?\n  propName, options) {\n    var target = this.target;\n    options.name = options.name || this.name + \".\" + stringifyKey(propName);\n    this.values.set(propName, new ComputedValue(options));\n    if (propertyOwner === target || isPropertyConfigurable(propertyOwner, propName)) Object.defineProperty(propertyOwner, propName, generateComputedPropConfig(propName));\n  };\n\n  ObservableObjectAdministration.prototype.remove = function (key) {\n    if (!this.values.has(key)) return;\n    var target = this.target;\n\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this.proxy || target,\n        name: key,\n        type: \"remove\"\n      });\n      if (!change) return;\n    }\n\n    try {\n      startBatch();\n      var notify = hasListeners(this);\n      var notifySpy = isSpyEnabled();\n      var oldObservable = this.values.get(key);\n      var oldValue = oldObservable && oldObservable.get();\n      oldObservable && oldObservable.set(undefined); // notify key and keyset listeners\n\n      this.keysAtom.reportChanged();\n      this.values.delete(key);\n\n      if (this.pendingKeys) {\n        var entry = this.pendingKeys.get(key);\n        if (entry) entry.set(false);\n      } // delete the prop\n\n\n      delete this.target[key];\n      var change = notify || notifySpy ? {\n        type: \"remove\",\n        object: this.proxy || target,\n        oldValue: oldValue,\n        name: key\n      } : null;\n      if (notifySpy && \"development\" !== \"production\") spyReportStart(__assign(__assign({}, change), {\n        name: this.name,\n        key: key\n      }));\n      if (notify) notifyListeners(this, change);\n      if (notifySpy && \"development\" !== \"production\") spyReportEnd();\n    } finally {\n      endBatch();\n    }\n  };\n\n  ObservableObjectAdministration.prototype.illegalAccess = function (owner, propName) {\n    /**\r\n     * This happens if a property is accessed through the prototype chain, but the property was\r\n     * declared directly as own property on the prototype.\r\n     *\r\n     * E.g.:\r\n     * class A {\r\n     * }\r\n     * extendObservable(A.prototype, { x: 1 })\r\n     *\r\n     * classB extens A {\r\n     * }\r\n     * console.log(new B().x)\r\n     *\r\n     * It is unclear whether the property should be considered 'static' or inherited.\r\n     * Either use `console.log(A.x)`\r\n     * or: decorate(A, { x: observable })\r\n     *\r\n     * When using decorate, the property will always be redeclared as own property on the actual instance\r\n     */\n    console.warn(\"Property '\" + propName + \"' of '\" + owner + \"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner\");\n  };\n  /**\r\n   * Observes this object. Triggers for the events 'add', 'update' and 'delete'.\r\n   * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\r\n   * for callback details\r\n   */\n\n\n  ObservableObjectAdministration.prototype.observe = function (callback, fireImmediately) {\n      true && invariant(fireImmediately !== true, \"`observe` doesn't support the fire immediately property for observable objects.\");\n    return registerListener(this, callback);\n  };\n\n  ObservableObjectAdministration.prototype.intercept = function (handler) {\n    return registerInterceptor(this, handler);\n  };\n\n  ObservableObjectAdministration.prototype.notifyPropertyAddition = function (key, newValue) {\n    var notify = hasListeners(this);\n    var notifySpy = isSpyEnabled();\n    var change = notify || notifySpy ? {\n      type: \"add\",\n      object: this.proxy || this.target,\n      name: key,\n      newValue: newValue\n    } : null;\n    if (notifySpy && \"development\" !== \"production\") spyReportStart(__assign(__assign({}, change), {\n      name: this.name,\n      key: key\n    }));\n    if (notify) notifyListeners(this, change);\n    if (notifySpy && \"development\" !== \"production\") spyReportEnd();\n\n    if (this.pendingKeys) {\n      var entry = this.pendingKeys.get(key);\n      if (entry) entry.set(true);\n    }\n\n    this.keysAtom.reportChanged();\n  };\n\n  ObservableObjectAdministration.prototype.getKeys = function () {\n    var e_1, _a;\n\n    this.keysAtom.reportObserved(); // return Reflect.ownKeys(this.values) as any\n\n    var res = [];\n\n    try {\n      for (var _b = __values(this.values), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var _d = __read(_c.value, 2),\n            key = _d[0],\n            value = _d[1];\n\n        if (value instanceof ObservableValue) res.push(key);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    return res;\n  };\n\n  return ObservableObjectAdministration;\n}();\n\nfunction asObservableObject(target, name, defaultEnhancer) {\n  if (name === void 0) {\n    name = \"\";\n  }\n\n  if (defaultEnhancer === void 0) {\n    defaultEnhancer = deepEnhancer;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(target, $mobx)) return target[$mobx];\n    true && invariant(Object.isExtensible(target), \"Cannot make the designated object observable; it is not extensible\");\n  if (!isPlainObject(target)) name = (target.constructor.name || \"ObservableObject\") + \"@\" + getNextId();\n  if (!name) name = \"ObservableObject@\" + getNextId();\n  var adm = new ObservableObjectAdministration(target, new Map(), stringifyKey(name), defaultEnhancer);\n  addHiddenProp(target, $mobx, adm);\n  return adm;\n}\n\nvar observablePropertyConfigs = Object.create(null);\nvar computedPropertyConfigs = Object.create(null);\n\nfunction generateObservablePropConfig(propName) {\n  return observablePropertyConfigs[propName] || (observablePropertyConfigs[propName] = {\n    configurable: true,\n    enumerable: true,\n    get: function () {\n      return this[$mobx].read(propName);\n    },\n    set: function (v) {\n      this[$mobx].write(propName, v);\n    }\n  });\n}\n\nfunction getAdministrationForComputedPropOwner(owner) {\n  var adm = owner[$mobx];\n\n  if (!adm) {\n    // because computed props are declared on proty,\n    // the current instance might not have been initialized yet\n    initializeInstance(owner);\n    return owner[$mobx];\n  }\n\n  return adm;\n}\n\nfunction generateComputedPropConfig(propName) {\n  return computedPropertyConfigs[propName] || (computedPropertyConfigs[propName] = {\n    configurable: globalState.computedConfigurable,\n    enumerable: false,\n    get: function () {\n      return getAdministrationForComputedPropOwner(this).read(propName);\n    },\n    set: function (v) {\n      getAdministrationForComputedPropOwner(this).write(propName, v);\n    }\n  });\n}\n\nvar isObservableObjectAdministration = createInstanceofPredicate(\"ObservableObjectAdministration\", ObservableObjectAdministration);\n\nfunction isObservableObject(thing) {\n  if (isObject(thing)) {\n    // Initializers run lazily when transpiling to babel, so make sure they are run...\n    initializeInstance(thing);\n    return isObservableObjectAdministration(thing[$mobx]);\n  }\n\n  return false;\n}\n\nfunction getAtom(thing, property) {\n  if (typeof thing === \"object\" && thing !== null) {\n    if (isObservableArray(thing)) {\n      if (property !== undefined) fail(  true && \"It is not possible to get index atoms from arrays\");\n      return thing[$mobx].atom;\n    }\n\n    if (isObservableSet(thing)) {\n      return thing[$mobx];\n    }\n\n    if (isObservableMap(thing)) {\n      var anyThing = thing;\n      if (property === undefined) return anyThing._keysAtom;\n\n      var observable = anyThing._data.get(property) || anyThing._hasMap.get(property);\n\n      if (!observable) fail(  true && \"the entry '\" + property + \"' does not exist in the observable map '\" + getDebugName(thing) + \"'\");\n      return observable;\n    } // Initializers run lazily when transpiling to babel, so make sure they are run...\n\n\n    initializeInstance(thing);\n    if (property && !thing[$mobx]) thing[property]; // See #1072\n\n    if (isObservableObject(thing)) {\n      if (!property) return fail(  true && \"please specify a property\");\n      var observable = thing[$mobx].values.get(property);\n      if (!observable) fail(  true && \"no observable property '\" + property + \"' found on the observable object '\" + getDebugName(thing) + \"'\");\n      return observable;\n    }\n\n    if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {\n      return thing;\n    }\n  } else if (typeof thing === \"function\") {\n    if (isReaction(thing[$mobx])) {\n      // disposer function\n      return thing[$mobx];\n    }\n  }\n\n  return fail(  true && \"Cannot obtain atom from \" + thing);\n}\n\nfunction getAdministration(thing, property) {\n  if (!thing) fail(\"Expecting some object\");\n  if (property !== undefined) return getAdministration(getAtom(thing, property));\n  if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) return thing;\n  if (isObservableMap(thing) || isObservableSet(thing)) return thing; // Initializers run lazily when transpiling to babel, so make sure they are run...\n\n  initializeInstance(thing);\n  if (thing[$mobx]) return thing[$mobx];\n  fail(  true && \"Cannot obtain administration from \" + thing);\n}\n\nfunction getDebugName(thing, property) {\n  var named;\n  if (property !== undefined) named = getAtom(thing, property);else if (isObservableObject(thing) || isObservableMap(thing) || isObservableSet(thing)) named = getAdministration(thing);else named = getAtom(thing); // valid for arrays as well\n\n  return named.name;\n}\n\nvar toString = Object.prototype.toString;\n\nfunction deepEqual(a, b, depth) {\n  if (depth === void 0) {\n    depth = -1;\n  }\n\n  return eq(a, b, depth);\n} // Copied from https://github.com/jashkenas/underscore/blob/5c237a7c682fb68fd5378203f0bf22dce1624854/underscore.js#L1186-L1289\n// Internal recursive comparison function for `isEqual`.\n\n\nfunction eq(a, b, depth, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) return a !== 0 || 1 / a === 1 / b; // `null` or `undefined` only equal to itself (strict comparison).\n\n  if (a == null || b == null) return false; // `NaN`s are equivalent, but non-reflexive.\n\n  if (a !== a) return b !== b; // Exhaust primitive checks\n\n  var type = typeof a;\n  if (type !== \"function\" && type !== \"object\" && typeof b != \"object\") return false; // Compare `[[Class]]` names.\n\n  var className = toString.call(a);\n  if (className !== toString.call(b)) return false;\n\n  switch (className) {\n    // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n    case \"[object RegExp]\": // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n\n    case \"[object String]\":\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return \"\" + a === \"\" + b;\n\n    case \"[object Number]\":\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) return +b !== +b; // An `egal` comparison is performed for other numeric values.\n\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n\n    case \"[object Date]\":\n    case \"[object Boolean]\":\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n\n    case \"[object Symbol]\":\n      return typeof Symbol !== \"undefined\" && Symbol.valueOf.call(a) === Symbol.valueOf.call(b);\n\n    case \"[object Map]\":\n    case \"[object Set]\":\n      // Maps and Sets are unwrapped to arrays of entry-pairs, adding an incidental level.\n      // Hide this extra level by increasing the depth.\n      if (depth >= 0) {\n        depth++;\n      }\n\n      break;\n  } // Unwrap any wrapped objects.\n\n\n  a = unwrap(a);\n  b = unwrap(b);\n  var areArrays = className === \"[object Array]\";\n\n  if (!areArrays) {\n    if (typeof a != \"object\" || typeof b != \"object\") return false; // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n\n    var aCtor = a.constructor,\n        bCtor = b.constructor;\n\n    if (aCtor !== bCtor && !(typeof aCtor === \"function\" && aCtor instanceof aCtor && typeof bCtor === \"function\" && bCtor instanceof bCtor) && \"constructor\" in a && \"constructor\" in b) {\n      return false;\n    }\n  }\n\n  if (depth === 0) {\n    return false;\n  } else if (depth < 0) {\n    depth = -1;\n  } // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n\n\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) return bStack[length] === b;\n  } // Add the first object to the stack of traversed objects.\n\n\n  aStack.push(a);\n  bStack.push(b); // Recursively compare objects and arrays.\n\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) return false; // Deep compare the contents, ignoring non-numeric properties.\n\n    while (length--) {\n      if (!eq(a[length], b[length], depth - 1, aStack, bStack)) return false;\n    }\n  } else {\n    // Deep compare objects.\n    var keys = Object.keys(a);\n    var key = void 0;\n    length = keys.length; // Ensure that both objects contain the same number of properties before comparing deep equality.\n\n    if (Object.keys(b).length !== length) return false;\n\n    while (length--) {\n      // Deep compare each member\n      key = keys[length];\n      if (!(has$1(b, key) && eq(a[key], b[key], depth - 1, aStack, bStack))) return false;\n    }\n  } // Remove the first object from the stack of traversed objects.\n\n\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\nfunction unwrap(a) {\n  if (isObservableArray(a)) return a.slice();\n  if (isES6Map(a) || isObservableMap(a)) return Array.from(a.entries());\n  if (isES6Set(a) || isObservableSet(a)) return Array.from(a.entries());\n  return a;\n}\n\nfunction has$1(a, key) {\n  return Object.prototype.hasOwnProperty.call(a, key);\n}\n\nfunction makeIterable(iterator) {\n  iterator[Symbol.iterator] = getSelf;\n  return iterator;\n}\n\nfunction getSelf() {\n  return this;\n}\n/*\r\nThe only reason for this file to exist is pure horror:\r\nWithout it rollup can make the bundling fail at any point in time; when it rolls up the files in the wrong order\r\nit will cause undefined errors (for example because super classes or local variables not being hoisted).\r\nWith this file that will still happen,\r\nbut at least in this file we can magically reorder the imports with trial and error until the build succeeds again.\r\n*/\n\n/**\r\n * (c) Michel Weststrate 2015 - 2018\r\n * MIT Licensed\r\n *\r\n * Welcome to the mobx sources! To get an global overview of how MobX internally works,\r\n * this is a good place to start:\r\n * https://medium.com/@mweststrate/becoming-fully-reactive-an-in-depth-explanation-of-mobservable-55995262a254#.xvbh6qd74\r\n *\r\n * Source folders:\r\n * ===============\r\n *\r\n * - api/     Most of the public static methods exposed by the module can be found here.\r\n * - core/    Implementation of the MobX algorithm; atoms, derivations, reactions, dependency trees, optimizations. Cool stuff can be found here.\r\n * - types/   All the magic that is need to have observable objects, arrays and values is in this folder. Including the modifiers like `asFlat`.\r\n * - utils/   Utility stuff.\r\n *\r\n */\n\n\nif (typeof Proxy === \"undefined\" || typeof Symbol === \"undefined\") {\n  throw new Error(\"[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.\");\n}\n\ntry {\n  // define process.env if needed\n  // if this is not a production build in the first place\n  // (in which case the expression below would be substituted with 'production')\n  \"development\";\n} catch (e) {\n  var g = getGlobal();\n  if (typeof process === \"undefined\") g.process = {};\n  g.process.env = {};\n}\n\n(function () {\n  function testCodeMinification() {}\n\n  if (testCodeMinification.name !== \"testCodeMinification\" && \"development\" !== \"production\" && typeof process !== 'undefined' && process.env.IGNORE_MOBX_MINIFY_WARNING !== \"true\") {\n    // trick so it doesn't get replaced\n    var varName = [\"process\", \"env\", \"NODE_ENV\"].join(\".\");\n    console.warn(\"[mobx] you are running a minified build, but '\" + varName + \"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle\");\n  }\n})();\n\nif (typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ === \"object\") {\n  // See: https://github.com/andykog/mobx-devtools/\n  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({\n    spy: spy,\n    extras: {\n      getDebugName: getDebugName\n    },\n    $mobx: $mobx\n  });\n}\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"./node_modules/process/browser.js\"), __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/object-assign/index.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/object-assign/index.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n/* eslint-disable no-unused-vars */\n\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction shouldUseNative() {\n  try {\n    if (!Object.assign) {\n      return false;\n    } // Detect buggy property enumeration order in older V8 versions.\n    // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n    test1[5] = 'de';\n\n    if (Object.getOwnPropertyNames(test1)[0] === '5') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test2 = {};\n\n    for (var i = 0; i < 10; i++) {\n      test2['_' + String.fromCharCode(i)] = i;\n    }\n\n    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n      return test2[n];\n    });\n\n    if (order2.join('') !== '0123456789') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test3 = {};\n    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n      test3[letter] = letter;\n    });\n\n    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    // We don't expect any of the above to throw, but better to be safe.\n    return false;\n  }\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (getOwnPropertySymbols) {\n      symbols = getOwnPropertySymbols(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n};\n\n/***/ }),\n\n/***/ \"./node_modules/process/browser.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/process/browser.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};\n\n/***/ }),\n\n/***/ \"./node_modules/prop-types/checkPropTypes.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/prop-types/checkPropTypes.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar printWarning = function () {};\n\nif (true) {\n  var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ \"./node_modules/prop-types/lib/ReactPropTypesSecret.js\");\n\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\n\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (true) {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n\n        if (error && !(error instanceof Error)) {\n          printWarning((componentName || 'React class') + ': type specification of ' + location + ' `' + typeSpecName + '` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a ' + typeof error + '. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).');\n        }\n\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n          var stack = getStack ? getStack() : '';\n          printWarning('Failed ' + location + ' type: ' + error.message + (stack != null ? stack : ''));\n        }\n      }\n    }\n  }\n}\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\n\n\ncheckPropTypes.resetWarningCache = function () {\n  if (true) {\n    loggedTypeFailures = {};\n  }\n};\n\nmodule.exports = checkPropTypes;\n\n/***/ }),\n\n/***/ \"./node_modules/prop-types/factoryWithTypeCheckers.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/prop-types/factoryWithTypeCheckers.js ***!\n  \\************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar ReactIs = __webpack_require__(/*! react-is */ \"./node_modules/react-is/index.js\");\n\nvar assign = __webpack_require__(/*! object-assign */ \"./node_modules/object-assign/index.js\");\n\nvar ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ \"./node_modules/prop-types/lib/ReactPropTypesSecret.js\");\n\nvar checkPropTypes = __webpack_require__(/*! ./checkPropTypes */ \"./node_modules/prop-types/checkPropTypes.js\");\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\n\nvar printWarning = function () {};\n\nif (true) {\n  printWarning = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function (isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n\n  var ANONYMOUS = '<<anonymous>>'; // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker\n  };\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n\n  /*eslint-disable no-self-compare*/\n\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n\n\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  } // Make `instanceof Error` still work for returned errors.\n\n\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (true) {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use `PropTypes.checkPropTypes()` to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (  true && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n\n          if (!manualPropTypeCallCache[cacheKey] && // Avoid spamming the console because they are often not actionable except for lib authors\n          manualPropTypeWarningCount < 3) {\n            printWarning('You are manually calling a React.PropTypes validation ' + 'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' + 'and will throw in the standalone `prop-types` package. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.');\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n\n      var propValue = props[propName];\n\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (true) {\n        if (arguments.length > 1) {\n          printWarning('Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' + 'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).');\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n\n        if (type === 'symbol') {\n          return String(value);\n        }\n\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n       true ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : undefined;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n\n      if (typeof checker !== 'function') {\n        printWarning('Invalid argument supplied to oneOfType. Expected an array of check functions, but ' + 'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.');\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          continue;\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      } // We need to check all keys in case some are required but missing from\n      // props.\n\n\n      var allKeys = assign({}, props[propName], shapeTypes);\n\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' + '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') + '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  '));\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n\n      case 'boolean':\n        return !propValue;\n\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    } // falsy value can't be a Symbol\n\n\n    if (!propValue) {\n      return false;\n    } // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\n\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    } // Fallback for non-spec compliant Symbols which are polyfilled.\n\n\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  } // Equivalent of `typeof` but with special handling for array and regexp.\n\n\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n\n    return propType;\n  } // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n\n\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n\n    var propType = getPropType(propValue);\n\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n\n    return propType;\n  } // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n\n\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n\n      default:\n        return type;\n    }\n  } // Returns class name of the object, if any.\n\n\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\n/***/ }),\n\n/***/ \"./node_modules/prop-types/index.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/prop-types/index.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nif (true) {\n  var ReactIs = __webpack_require__(/*! react-is */ \"./node_modules/react-is/index.js\"); // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n\n\n  var throwOnDirectAccess = true;\n  module.exports = __webpack_require__(/*! ./factoryWithTypeCheckers */ \"./node_modules/prop-types/factoryWithTypeCheckers.js\")(ReactIs.isElement, throwOnDirectAccess);\n} else {}\n\n/***/ }),\n\n/***/ \"./node_modules/prop-types/lib/ReactPropTypesSecret.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/prop-types/lib/ReactPropTypesSecret.js ***!\n  \\*************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nmodule.exports = ReactPropTypesSecret;\n\n/***/ }),\n\n/***/ \"./node_modules/react-is/cjs/react-is.development.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/react-is/cjs/react-is.development.js ***!\n  \\***********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nif (true) {\n  (function () {\n    'use strict'; // The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n    // nor polyfill, then a plain number is used for performance.\n\n    var hasSymbol = typeof Symbol === 'function' && Symbol.for;\n    var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\n    var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\n    var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\n    var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\n    var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\n    var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\n    var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n    // (unstable) APIs that have been removed. Can we remove the symbols?\n\n    var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\n    var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\n    var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\n    var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\n    var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\n    var REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\n    var REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n    var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\n    var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\n    var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\n    var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\n    function isValidElementType(type) {\n      return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n      type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n    }\n\n    function typeOf(object) {\n      if (typeof object === 'object' && object !== null) {\n        var $$typeof = object.$$typeof;\n\n        switch ($$typeof) {\n          case REACT_ELEMENT_TYPE:\n            var type = object.type;\n\n            switch (type) {\n              case REACT_ASYNC_MODE_TYPE:\n              case REACT_CONCURRENT_MODE_TYPE:\n              case REACT_FRAGMENT_TYPE:\n              case REACT_PROFILER_TYPE:\n              case REACT_STRICT_MODE_TYPE:\n              case REACT_SUSPENSE_TYPE:\n                return type;\n\n              default:\n                var $$typeofType = type && type.$$typeof;\n\n                switch ($$typeofType) {\n                  case REACT_CONTEXT_TYPE:\n                  case REACT_FORWARD_REF_TYPE:\n                  case REACT_LAZY_TYPE:\n                  case REACT_MEMO_TYPE:\n                  case REACT_PROVIDER_TYPE:\n                    return $$typeofType;\n\n                  default:\n                    return $$typeof;\n                }\n\n            }\n\n          case REACT_PORTAL_TYPE:\n            return $$typeof;\n        }\n      }\n\n      return undefined;\n    } // AsyncMode is deprecated along with isAsyncMode\n\n\n    var AsyncMode = REACT_ASYNC_MODE_TYPE;\n    var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\n    var ContextConsumer = REACT_CONTEXT_TYPE;\n    var ContextProvider = REACT_PROVIDER_TYPE;\n    var Element = REACT_ELEMENT_TYPE;\n    var ForwardRef = REACT_FORWARD_REF_TYPE;\n    var Fragment = REACT_FRAGMENT_TYPE;\n    var Lazy = REACT_LAZY_TYPE;\n    var Memo = REACT_MEMO_TYPE;\n    var Portal = REACT_PORTAL_TYPE;\n    var Profiler = REACT_PROFILER_TYPE;\n    var StrictMode = REACT_STRICT_MODE_TYPE;\n    var Suspense = REACT_SUSPENSE_TYPE;\n    var hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\n    function isAsyncMode(object) {\n      {\n        if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n          hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n          console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n        }\n      }\n      return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n    }\n\n    function isConcurrentMode(object) {\n      return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n    }\n\n    function isContextConsumer(object) {\n      return typeOf(object) === REACT_CONTEXT_TYPE;\n    }\n\n    function isContextProvider(object) {\n      return typeOf(object) === REACT_PROVIDER_TYPE;\n    }\n\n    function isElement(object) {\n      return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n    }\n\n    function isForwardRef(object) {\n      return typeOf(object) === REACT_FORWARD_REF_TYPE;\n    }\n\n    function isFragment(object) {\n      return typeOf(object) === REACT_FRAGMENT_TYPE;\n    }\n\n    function isLazy(object) {\n      return typeOf(object) === REACT_LAZY_TYPE;\n    }\n\n    function isMemo(object) {\n      return typeOf(object) === REACT_MEMO_TYPE;\n    }\n\n    function isPortal(object) {\n      return typeOf(object) === REACT_PORTAL_TYPE;\n    }\n\n    function isProfiler(object) {\n      return typeOf(object) === REACT_PROFILER_TYPE;\n    }\n\n    function isStrictMode(object) {\n      return typeOf(object) === REACT_STRICT_MODE_TYPE;\n    }\n\n    function isSuspense(object) {\n      return typeOf(object) === REACT_SUSPENSE_TYPE;\n    }\n\n    exports.AsyncMode = AsyncMode;\n    exports.ConcurrentMode = ConcurrentMode;\n    exports.ContextConsumer = ContextConsumer;\n    exports.ContextProvider = ContextProvider;\n    exports.Element = Element;\n    exports.ForwardRef = ForwardRef;\n    exports.Fragment = Fragment;\n    exports.Lazy = Lazy;\n    exports.Memo = Memo;\n    exports.Portal = Portal;\n    exports.Profiler = Profiler;\n    exports.StrictMode = StrictMode;\n    exports.Suspense = Suspense;\n    exports.isAsyncMode = isAsyncMode;\n    exports.isConcurrentMode = isConcurrentMode;\n    exports.isContextConsumer = isContextConsumer;\n    exports.isContextProvider = isContextProvider;\n    exports.isElement = isElement;\n    exports.isForwardRef = isForwardRef;\n    exports.isFragment = isFragment;\n    exports.isLazy = isLazy;\n    exports.isMemo = isMemo;\n    exports.isPortal = isPortal;\n    exports.isProfiler = isProfiler;\n    exports.isStrictMode = isStrictMode;\n    exports.isSuspense = isSuspense;\n    exports.isValidElementType = isValidElementType;\n    exports.typeOf = typeOf;\n  })();\n}\n\n/***/ }),\n\n/***/ \"./node_modules/react-is/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/react-is/index.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-is.development.js */ \"./node_modules/react-is/cjs/react-is.development.js\");\n}\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/esm/components/Tab.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/react-tabs/esm/components/Tab.js ***!\n  \\*******************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Tab; });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! clsx */ \"./node_modules/clsx/dist/clsx.m.js\");\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\n\n\n\nvar DEFAULT_CLASS = 'react-tabs__tab';\n\nvar Tab = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Tab, _Component);\n\n  function Tab() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Tab.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.checkFocus();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.checkFocus();\n  };\n\n  _proto.checkFocus = function checkFocus() {\n    var _this$props = this.props,\n        selected = _this$props.selected,\n        focus = _this$props.focus;\n\n    if (selected && focus) {\n      this.node.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    var _cx,\n        _this = this;\n\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        className = _this$props2.className,\n        disabled = _this$props2.disabled,\n        disabledClassName = _this$props2.disabledClassName,\n        focus = _this$props2.focus,\n        id = _this$props2.id,\n        panelId = _this$props2.panelId,\n        selected = _this$props2.selected,\n        selectedClassName = _this$props2.selectedClassName,\n        tabIndex = _this$props2.tabIndex,\n        tabRef = _this$props2.tabRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"className\", \"disabled\", \"disabledClassName\", \"focus\", \"id\", \"panelId\", \"selected\", \"selectedClassName\", \"tabIndex\", \"tabRef\"]);\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", _extends({}, attributes, {\n      className: Object(clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(className, (_cx = {}, _cx[selectedClassName] = selected, _cx[disabledClassName] = disabled, _cx)),\n      ref: function ref(node) {\n        _this.node = node;\n        if (tabRef) tabRef(node);\n      },\n      role: \"tab\",\n      id: id,\n      \"aria-selected\": selected ? 'true' : 'false',\n      \"aria-disabled\": disabled ? 'true' : 'false',\n      \"aria-controls\": panelId,\n      tabIndex: tabIndex || (selected ? '0' : null)\n    }), children);\n  };\n\n  return Tab;\n}(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]);\n\nTab.defaultProps = {\n  className: DEFAULT_CLASS,\n  disabledClassName: DEFAULT_CLASS + \"--disabled\",\n  focus: false,\n  id: null,\n  panelId: null,\n  selected: false,\n  selectedClassName: DEFAULT_CLASS + \"--selected\"\n};\n\nTab.propTypes =  true ? {\n  children: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.array, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string]),\n  className: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.array, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object]),\n  disabled: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  tabIndex: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,\n  disabledClassName: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,\n  focus: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  // private\n  id: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,\n  // private\n  panelId: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,\n  // private\n  selected: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  // private\n  selectedClassName: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,\n  tabRef: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func // private\n\n} : undefined;\nTab.tabsRole = 'Tab';\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/esm/components/TabList.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/react-tabs/esm/components/TabList.js ***!\n  \\***********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TabList; });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! clsx */ \"./node_modules/clsx/dist/clsx.m.js\");\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\n\n\n\n\nvar TabList = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TabList, _Component);\n\n  function TabList() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TabList.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        className = _this$props.className,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"className\"]);\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", _extends({}, attributes, {\n      className: Object(clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(className),\n      role: \"tablist\"\n    }), children);\n  };\n\n  return TabList;\n}(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]);\n\nTabList.defaultProps = {\n  className: 'react-tabs__tab-list'\n};\n\nTabList.propTypes =  true ? {\n  children: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.array]),\n  className: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.array, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object])\n} : undefined;\nTabList.tabsRole = 'TabList';\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/esm/components/TabPanel.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/react-tabs/esm/components/TabPanel.js ***!\n  \\************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TabPanel; });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! clsx */ \"./node_modules/clsx/dist/clsx.m.js\");\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\n\n\n\nvar DEFAULT_CLASS = 'react-tabs__tab-panel';\n\nvar TabPanel = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TabPanel, _Component);\n\n  function TabPanel() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TabPanel.prototype;\n\n  _proto.render = function render() {\n    var _cx;\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        className = _this$props.className,\n        forceRender = _this$props.forceRender,\n        id = _this$props.id,\n        selected = _this$props.selected,\n        selectedClassName = _this$props.selectedClassName,\n        tabId = _this$props.tabId,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"className\", \"forceRender\", \"id\", \"selected\", \"selectedClassName\", \"tabId\"]);\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", _extends({}, attributes, {\n      className: Object(clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(className, (_cx = {}, _cx[selectedClassName] = selected, _cx)),\n      role: \"tabpanel\",\n      id: id,\n      \"aria-labelledby\": tabId\n    }), forceRender || selected ? children : null);\n  };\n\n  return TabPanel;\n}(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]);\n\nTabPanel.defaultProps = {\n  className: DEFAULT_CLASS,\n  forceRender: false,\n  selectedClassName: DEFAULT_CLASS + \"--selected\"\n};\n\nTabPanel.propTypes =  true ? {\n  children: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.node,\n  className: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.array, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object]),\n  forceRender: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  id: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,\n  // private\n  selected: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  // private\n  selectedClassName: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,\n  tabId: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string // private\n\n} : undefined;\nTabPanel.tabsRole = 'TabPanel';\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/esm/components/Tabs.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/react-tabs/esm/components/Tabs.js ***!\n  \\********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Tabs; });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _helpers_propTypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/propTypes */ \"./node_modules/react-tabs/esm/helpers/propTypes.js\");\n/* harmony import */ var _UncontrolledTabs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UncontrolledTabs */ \"./node_modules/react-tabs/esm/components/UncontrolledTabs.js\");\n/* harmony import */ var _helpers_count__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/count */ \"./node_modules/react-tabs/esm/helpers/count.js\");\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\n\n\n\n\n\nvar MODE_CONTROLLED = 0;\nvar MODE_UNCONTROLLED = 1;\n\nvar Tabs = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Tabs, _Component);\n\n  function Tabs(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.handleSelected = function (index, last, event) {\n      var onSelect = _this.props.onSelect;\n      var mode = _this.state.mode; // Call change event handler\n\n      if (typeof onSelect === 'function') {\n        // Check if the change event handler cancels the tab change\n        if (onSelect(index, last, event) === false) return;\n      }\n\n      var state = {\n        // Set focus if the change was triggered from the keyboard\n        focus: event.type === 'keydown'\n      };\n\n      if (mode === MODE_UNCONTROLLED) {\n        // Update selected index\n        state.selectedIndex = index;\n      }\n\n      _this.setState(state);\n    };\n\n    _this.state = Tabs.copyPropsToState(_this.props, {}, props.defaultFocus);\n    return _this;\n  }\n\n  Tabs.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    return Tabs.copyPropsToState(props, state);\n  };\n\n  Tabs.getModeFromProps = function getModeFromProps(props) {\n    return props.selectedIndex === null ? MODE_UNCONTROLLED : MODE_CONTROLLED;\n  }; // preserve the existing selectedIndex from state.\n  // If the state has not selectedIndex, default to the defaultIndex or 0\n\n\n  Tabs.copyPropsToState = function copyPropsToState(props, state, focus) {\n    if (focus === void 0) {\n      focus = false;\n    }\n\n    if (  true && state.mode !== undefined && state.mode !== Tabs.getModeFromProps(props)) {\n      throw new Error(\"Switching between controlled mode (by using `selectedIndex`) and uncontrolled mode is not supported in `Tabs`.\\nFor more information about controlled and uncontrolled mode of react-tabs see the README.\");\n    }\n\n    var newState = {\n      focus: focus,\n      mode: Tabs.getModeFromProps(props)\n    };\n\n    if (newState.mode === MODE_UNCONTROLLED) {\n      var maxTabIndex = Object(_helpers_count__WEBPACK_IMPORTED_MODULE_4__[\"getTabsCount\"])(props.children) - 1;\n      var selectedIndex = null;\n\n      if (state.selectedIndex != null) {\n        selectedIndex = Math.min(state.selectedIndex, maxTabIndex);\n      } else {\n        selectedIndex = props.defaultIndex || 0;\n      }\n\n      newState.selectedIndex = selectedIndex;\n    }\n\n    return newState;\n  };\n\n  var _proto = Tabs.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        defaultIndex = _this$props.defaultIndex,\n        defaultFocus = _this$props.defaultFocus,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"defaultIndex\", \"defaultFocus\"]);\n\n    var _this$state = this.state,\n        focus = _this$state.focus,\n        selectedIndex = _this$state.selectedIndex;\n    props.focus = focus;\n    props.onSelect = this.handleSelected;\n\n    if (selectedIndex != null) {\n      props.selectedIndex = selectedIndex;\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_UncontrolledTabs__WEBPACK_IMPORTED_MODULE_3__[\"default\"], props, children);\n  };\n\n  return Tabs;\n}(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]);\n\nTabs.defaultProps = {\n  defaultFocus: false,\n  forceRenderTabPanel: false,\n  selectedIndex: null,\n  defaultIndex: null\n};\n\nTabs.propTypes =  true ? {\n  children: _helpers_propTypes__WEBPACK_IMPORTED_MODULE_2__[\"childrenPropType\"],\n  direction: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOf(['rtl', 'ltr']),\n  className: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.array, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object]),\n  defaultFocus: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  defaultIndex: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number,\n  disabledTabClassName: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,\n  domRef: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  forceRenderTabPanel: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  onSelect: _helpers_propTypes__WEBPACK_IMPORTED_MODULE_2__[\"onSelectPropType\"],\n  selectedIndex: _helpers_propTypes__WEBPACK_IMPORTED_MODULE_2__[\"selectedIndexPropType\"],\n  selectedTabClassName: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,\n  selectedTabPanelClassName: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string\n} : undefined;\nTabs.tabsRole = 'Tabs';\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/esm/components/UncontrolledTabs.js\":\n/*!********************************************************************!*\\\n  !*** ./node_modules/react-tabs/esm/components/UncontrolledTabs.js ***!\n  \\********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UncontrolledTabs; });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! clsx */ \"./node_modules/clsx/dist/clsx.m.js\");\n/* harmony import */ var _helpers_uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/uuid */ \"./node_modules/react-tabs/esm/helpers/uuid.js\");\n/* harmony import */ var _helpers_propTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/propTypes */ \"./node_modules/react-tabs/esm/helpers/propTypes.js\");\n/* harmony import */ var _helpers_count__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/count */ \"./node_modules/react-tabs/esm/helpers/count.js\");\n/* harmony import */ var _helpers_childrenDeepMap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/childrenDeepMap */ \"./node_modules/react-tabs/esm/helpers/childrenDeepMap.js\");\n/* harmony import */ var _helpers_elementTypes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers/elementTypes */ \"./node_modules/react-tabs/esm/helpers/elementTypes.js\");\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\n\n\n\n\n\n\n\n\n\nfunction isNode(node) {\n  return node && 'getAttribute' in node;\n} // Determine if a node from event.target is a Tab element\n\n\nfunction isTabNode(node) {\n  return isNode(node) && node.getAttribute('role') === 'tab';\n} // Determine if a tab node is disabled\n\n\nfunction isTabDisabled(node) {\n  return isNode(node) && node.getAttribute('aria-disabled') === 'true';\n}\n\nvar canUseActiveElement;\n\ntry {\n  canUseActiveElement = !!(typeof window !== 'undefined' && window.document && window.document.activeElement);\n} catch (e) {\n  // Work around for IE bug when accessing document.activeElement in an iframe\n  // Refer to the following resources:\n  // http://stackoverflow.com/a/10982960/369687\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12733599\n  canUseActiveElement = false;\n}\n\nvar UncontrolledTabs = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(UncontrolledTabs, _Component);\n\n  function UncontrolledTabs() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.tabNodes = [];\n\n    _this.handleKeyDown = function (e) {\n      var direction = _this.props.direction;\n\n      if (_this.isTabFromContainer(e.target)) {\n        var index = _this.props.selectedIndex;\n        var preventDefault = false;\n        var useSelectedIndex = false;\n\n        if (e.keyCode === 32 || e.keyCode === 13) {\n          preventDefault = true;\n          useSelectedIndex = false;\n\n          _this.handleClick(e);\n        }\n\n        if (e.keyCode === 37 || e.keyCode === 38) {\n          // Select next tab to the left\n          if (direction === 'rtl') {\n            index = _this.getNextTab(index);\n          } else {\n            index = _this.getPrevTab(index);\n          }\n\n          preventDefault = true;\n          useSelectedIndex = true;\n        } else if (e.keyCode === 39 || e.keyCode === 40) {\n          // Select next tab to the right\n          if (direction === 'rtl') {\n            index = _this.getPrevTab(index);\n          } else {\n            index = _this.getNextTab(index);\n          }\n\n          preventDefault = true;\n          useSelectedIndex = true;\n        } else if (e.keyCode === 35) {\n          // Select last tab (End key)\n          index = _this.getLastTab();\n          preventDefault = true;\n          useSelectedIndex = true;\n        } else if (e.keyCode === 36) {\n          // Select first tab (Home key)\n          index = _this.getFirstTab();\n          preventDefault = true;\n          useSelectedIndex = true;\n        } // This prevents scrollbars from moving around\n\n\n        if (preventDefault) {\n          e.preventDefault();\n        } // Only use the selected index in the state if we're not using the tabbed index\n\n\n        if (useSelectedIndex) {\n          _this.setSelected(index, e);\n        }\n      }\n    };\n\n    _this.handleClick = function (e) {\n      var node = e.target;\n\n      do {\n        if (_this.isTabFromContainer(node)) {\n          if (isTabDisabled(node)) {\n            return;\n          }\n\n          var index = [].slice.call(node.parentNode.children).filter(isTabNode).indexOf(node);\n\n          _this.setSelected(index, e);\n\n          return;\n        } // eslint-disable-next-line no-cond-assign\n\n      } while ((node = node.parentNode) != null);\n    };\n\n    return _this;\n  }\n\n  var _proto = UncontrolledTabs.prototype;\n\n  _proto.setSelected = function setSelected(index, event) {\n    // Check index boundary\n    if (index < 0 || index >= this.getTabsCount()) return;\n    var _this$props = this.props,\n        onSelect = _this$props.onSelect,\n        selectedIndex = _this$props.selectedIndex; // Call change event handler\n\n    onSelect(index, selectedIndex, event);\n  };\n\n  _proto.getNextTab = function getNextTab(index) {\n    var count = this.getTabsCount(); // Look for non-disabled tab from index to the last tab on the right\n\n    for (var i = index + 1; i < count; i++) {\n      if (!isTabDisabled(this.getTab(i))) {\n        return i;\n      }\n    } // If no tab found, continue searching from first on left to index\n\n\n    for (var _i = 0; _i < index; _i++) {\n      if (!isTabDisabled(this.getTab(_i))) {\n        return _i;\n      }\n    } // No tabs are disabled, return index\n\n\n    return index;\n  };\n\n  _proto.getPrevTab = function getPrevTab(index) {\n    var i = index; // Look for non-disabled tab from index to first tab on the left\n\n    while (i--) {\n      if (!isTabDisabled(this.getTab(i))) {\n        return i;\n      }\n    } // If no tab found, continue searching from last tab on right to index\n\n\n    i = this.getTabsCount();\n\n    while (i-- > index) {\n      if (!isTabDisabled(this.getTab(i))) {\n        return i;\n      }\n    } // No tabs are disabled, return index\n\n\n    return index;\n  };\n\n  _proto.getFirstTab = function getFirstTab() {\n    var count = this.getTabsCount(); // Look for non disabled tab from the first tab\n\n    for (var i = 0; i < count; i++) {\n      if (!isTabDisabled(this.getTab(i))) {\n        return i;\n      }\n    }\n\n    return null;\n  };\n\n  _proto.getLastTab = function getLastTab() {\n    var i = this.getTabsCount(); // Look for non disabled tab from the last tab\n\n    while (i--) {\n      if (!isTabDisabled(this.getTab(i))) {\n        return i;\n      }\n    }\n\n    return null;\n  };\n\n  _proto.getTabsCount = function getTabsCount() {\n    var children = this.props.children;\n    return Object(_helpers_count__WEBPACK_IMPORTED_MODULE_5__[\"getTabsCount\"])(children);\n  };\n\n  _proto.getPanelsCount = function getPanelsCount() {\n    var children = this.props.children;\n    return Object(_helpers_count__WEBPACK_IMPORTED_MODULE_5__[\"getPanelsCount\"])(children);\n  };\n\n  _proto.getTab = function getTab(index) {\n    return this.tabNodes[\"tabs-\" + index];\n  };\n\n  _proto.getChildren = function getChildren() {\n    var _this2 = this;\n\n    var index = 0;\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        disabledTabClassName = _this$props2.disabledTabClassName,\n        focus = _this$props2.focus,\n        forceRenderTabPanel = _this$props2.forceRenderTabPanel,\n        selectedIndex = _this$props2.selectedIndex,\n        selectedTabClassName = _this$props2.selectedTabClassName,\n        selectedTabPanelClassName = _this$props2.selectedTabPanelClassName;\n    this.tabIds = this.tabIds || [];\n    this.panelIds = this.panelIds || [];\n    var diff = this.tabIds.length - this.getTabsCount(); // Add ids if new tabs have been added\n    // Don't bother removing ids, just keep them in case they are added again\n    // This is more efficient, and keeps the uuid counter under control\n\n    while (diff++ < 0) {\n      this.tabIds.push(Object(_helpers_uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])());\n      this.panelIds.push(Object(_helpers_uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])());\n    } // Map children to dynamically setup refs\n\n\n    return Object(_helpers_childrenDeepMap__WEBPACK_IMPORTED_MODULE_6__[\"deepMap\"])(children, function (child) {\n      var result = child; // Clone TabList and Tab components to have refs\n\n      if (Object(_helpers_elementTypes__WEBPACK_IMPORTED_MODULE_7__[\"isTabList\"])(child)) {\n        var listIndex = 0; // Figure out if the current focus in the DOM is set on a Tab\n        // If it is we should keep the focus on the next selected tab\n\n        var wasTabFocused = false;\n\n        if (canUseActiveElement) {\n          wasTabFocused = react__WEBPACK_IMPORTED_MODULE_1___default.a.Children.toArray(child.props.children).filter(_helpers_elementTypes__WEBPACK_IMPORTED_MODULE_7__[\"isTab\"]).some(function (tab, i) {\n            return document.activeElement === _this2.getTab(i);\n          });\n        }\n\n        result = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"cloneElement\"])(child, {\n          children: Object(_helpers_childrenDeepMap__WEBPACK_IMPORTED_MODULE_6__[\"deepMap\"])(child.props.children, function (tab) {\n            var key = \"tabs-\" + listIndex;\n            var selected = selectedIndex === listIndex;\n            var props = {\n              tabRef: function tabRef(node) {\n                _this2.tabNodes[key] = node;\n              },\n              id: _this2.tabIds[listIndex],\n              panelId: _this2.panelIds[listIndex],\n              selected: selected,\n              focus: selected && (focus || wasTabFocused)\n            };\n            if (selectedTabClassName) props.selectedClassName = selectedTabClassName;\n            if (disabledTabClassName) props.disabledClassName = disabledTabClassName;\n            listIndex++;\n            return Object(react__WEBPACK_IMPORTED_MODULE_1__[\"cloneElement\"])(tab, props);\n          })\n        });\n      } else if (Object(_helpers_elementTypes__WEBPACK_IMPORTED_MODULE_7__[\"isTabPanel\"])(child)) {\n        var props = {\n          id: _this2.panelIds[index],\n          tabId: _this2.tabIds[index],\n          selected: selectedIndex === index\n        };\n        if (forceRenderTabPanel) props.forceRender = forceRenderTabPanel;\n        if (selectedTabPanelClassName) props.selectedClassName = selectedTabPanelClassName;\n        index++;\n        result = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"cloneElement\"])(child, props);\n      }\n\n      return result;\n    });\n  };\n  /**\n   * Determine if a node from event.target is a Tab element for the current Tabs container.\n   * If the clicked element is not a Tab, it returns false.\n   * If it finds another Tabs container between the Tab and `this`, it returns false.\n   */\n\n\n  _proto.isTabFromContainer = function isTabFromContainer(node) {\n    // return immediately if the clicked element is not a Tab.\n    if (!isTabNode(node)) {\n      return false;\n    } // Check if the first occurrence of a Tabs container is `this` one.\n\n\n    var nodeAncestor = node.parentElement;\n\n    do {\n      if (nodeAncestor === this.node) return true;\n      if (nodeAncestor.getAttribute('data-tabs')) break;\n      nodeAncestor = nodeAncestor.parentElement;\n    } while (nodeAncestor);\n\n    return false;\n  };\n\n  _proto.render = function render() {\n    var _this3 = this; // Delete all known props, so they don't get added to DOM\n\n\n    var _this$props3 = this.props,\n        children = _this$props3.children,\n        className = _this$props3.className,\n        disabledTabClassName = _this$props3.disabledTabClassName,\n        domRef = _this$props3.domRef,\n        focus = _this$props3.focus,\n        forceRenderTabPanel = _this$props3.forceRenderTabPanel,\n        onSelect = _this$props3.onSelect,\n        selectedIndex = _this$props3.selectedIndex,\n        selectedTabClassName = _this$props3.selectedTabClassName,\n        selectedTabPanelClassName = _this$props3.selectedTabPanelClassName,\n        attributes = _objectWithoutPropertiesLoose(_this$props3, [\"children\", \"className\", \"disabledTabClassName\", \"domRef\", \"focus\", \"forceRenderTabPanel\", \"onSelect\", \"selectedIndex\", \"selectedTabClassName\", \"selectedTabPanelClassName\"]);\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", _extends({}, attributes, {\n      className: Object(clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(className),\n      onClick: this.handleClick,\n      onKeyDown: this.handleKeyDown,\n      ref: function ref(node) {\n        _this3.node = node;\n        if (domRef) domRef(node);\n      },\n      \"data-tabs\": true\n    }), this.getChildren());\n  };\n\n  return UncontrolledTabs;\n}(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]);\n\nUncontrolledTabs.defaultProps = {\n  className: 'react-tabs',\n  focus: false\n};\n\nUncontrolledTabs.propTypes =  true ? {\n  children: _helpers_propTypes__WEBPACK_IMPORTED_MODULE_4__[\"childrenPropType\"],\n  direction: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOf(['rtl', 'ltr']),\n  className: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.array, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object]),\n  disabledTabClassName: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,\n  domRef: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  focus: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  forceRenderTabPanel: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  onSelect: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  selectedIndex: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired,\n  selectedTabClassName: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string,\n  selectedTabPanelClassName: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string\n} : undefined;\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/esm/helpers/childrenDeepMap.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/react-tabs/esm/helpers/childrenDeepMap.js ***!\n  \\****************************************************************/\n/*! exports provided: deepMap, deepForEach */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deepMap\", function() { return deepMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deepForEach\", function() { return deepForEach; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _elementTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./elementTypes */ \"./node_modules/react-tabs/esm/helpers/elementTypes.js\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\n\n\n\nfunction isTabChild(child) {\n  return Object(_elementTypes__WEBPACK_IMPORTED_MODULE_1__[\"isTab\"])(child) || Object(_elementTypes__WEBPACK_IMPORTED_MODULE_1__[\"isTabList\"])(child) || Object(_elementTypes__WEBPACK_IMPORTED_MODULE_1__[\"isTabPanel\"])(child);\n}\n\nfunction deepMap(children, callback) {\n  return react__WEBPACK_IMPORTED_MODULE_0__[\"Children\"].map(children, function (child) {\n    // null happens when conditionally rendering TabPanel/Tab\n    // see https://github.com/reactjs/react-tabs/issues/37\n    if (child === null) return null;\n\n    if (isTabChild(child)) {\n      return callback(child);\n    }\n\n    if (child.props && child.props.children && typeof child.props.children === 'object') {\n      // Clone the child that has children and map them too\n      return Object(react__WEBPACK_IMPORTED_MODULE_0__[\"cloneElement\"])(child, _objectSpread(_objectSpread({}, child.props), {}, {\n        children: deepMap(child.props.children, callback)\n      }));\n    }\n\n    return child;\n  });\n}\nfunction deepForEach(children, callback) {\n  return react__WEBPACK_IMPORTED_MODULE_0__[\"Children\"].forEach(children, function (child) {\n    // null happens when conditionally rendering TabPanel/Tab\n    // see https://github.com/reactjs/react-tabs/issues/37\n    if (child === null) return;\n\n    if (Object(_elementTypes__WEBPACK_IMPORTED_MODULE_1__[\"isTab\"])(child) || Object(_elementTypes__WEBPACK_IMPORTED_MODULE_1__[\"isTabPanel\"])(child)) {\n      callback(child);\n    } else if (child.props && child.props.children && typeof child.props.children === 'object') {\n      if (Object(_elementTypes__WEBPACK_IMPORTED_MODULE_1__[\"isTabList\"])(child)) callback(child);\n      deepForEach(child.props.children, callback);\n    }\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/esm/helpers/count.js\":\n/*!******************************************************!*\\\n  !*** ./node_modules/react-tabs/esm/helpers/count.js ***!\n  \\******************************************************/\n/*! exports provided: getTabsCount, getPanelsCount */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTabsCount\", function() { return getTabsCount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPanelsCount\", function() { return getPanelsCount; });\n/* harmony import */ var _childrenDeepMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./childrenDeepMap */ \"./node_modules/react-tabs/esm/helpers/childrenDeepMap.js\");\n/* harmony import */ var _elementTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./elementTypes */ \"./node_modules/react-tabs/esm/helpers/elementTypes.js\");\n\n\nfunction getTabsCount(children) {\n  var tabCount = 0;\n  Object(_childrenDeepMap__WEBPACK_IMPORTED_MODULE_0__[\"deepForEach\"])(children, function (child) {\n    if (Object(_elementTypes__WEBPACK_IMPORTED_MODULE_1__[\"isTab\"])(child)) tabCount++;\n  });\n  return tabCount;\n}\nfunction getPanelsCount(children) {\n  var panelCount = 0;\n  Object(_childrenDeepMap__WEBPACK_IMPORTED_MODULE_0__[\"deepForEach\"])(children, function (child) {\n    if (Object(_elementTypes__WEBPACK_IMPORTED_MODULE_1__[\"isTabPanel\"])(child)) panelCount++;\n  });\n  return panelCount;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/esm/helpers/elementTypes.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/react-tabs/esm/helpers/elementTypes.js ***!\n  \\*************************************************************/\n/*! exports provided: isTab, isTabList, isTabPanel */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isTab\", function() { return isTab; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isTabList\", function() { return isTabList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isTabPanel\", function() { return isTabPanel; });\nfunction makeTypeChecker(tabsRole) {\n  return function (element) {\n    return !!element.type && element.type.tabsRole === tabsRole;\n  };\n}\n\nvar isTab = makeTypeChecker('Tab');\nvar isTabList = makeTypeChecker('TabList');\nvar isTabPanel = makeTypeChecker('TabPanel');\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/esm/helpers/propTypes.js\":\n/*!**********************************************************!*\\\n  !*** ./node_modules/react-tabs/esm/helpers/propTypes.js ***!\n  \\**********************************************************/\n/*! exports provided: childrenPropType, onSelectPropType, selectedIndexPropType */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"childrenPropType\", function() { return childrenPropType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onSelectPropType\", function() { return onSelectPropType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectedIndexPropType\", function() { return selectedIndexPropType; });\n/* harmony import */ var _childrenDeepMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./childrenDeepMap */ \"./node_modules/react-tabs/esm/helpers/childrenDeepMap.js\");\n/* harmony import */ var _elementTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./elementTypes */ \"./node_modules/react-tabs/esm/helpers/elementTypes.js\");\n\n\nfunction childrenPropType(props, propName, componentName) {\n  var error;\n  var tabsCount = 0;\n  var panelsCount = 0;\n  var tabListFound = false;\n  var listTabs = [];\n  var children = props[propName];\n  Object(_childrenDeepMap__WEBPACK_IMPORTED_MODULE_0__[\"deepForEach\"])(children, function (child) {\n    if (Object(_elementTypes__WEBPACK_IMPORTED_MODULE_1__[\"isTabList\"])(child)) {\n      if (child.props && child.props.children && typeof child.props.children === 'object') {\n        Object(_childrenDeepMap__WEBPACK_IMPORTED_MODULE_0__[\"deepForEach\"])(child.props.children, function (listChild) {\n          return listTabs.push(listChild);\n        });\n      }\n\n      if (tabListFound) {\n        error = new Error(\"Found multiple 'TabList' components inside 'Tabs'. Only one is allowed.\");\n      }\n\n      tabListFound = true;\n    }\n\n    if (Object(_elementTypes__WEBPACK_IMPORTED_MODULE_1__[\"isTab\"])(child)) {\n      if (!tabListFound || listTabs.indexOf(child) === -1) {\n        error = new Error(\"Found a 'Tab' component outside of the 'TabList' component. 'Tab' components \" + \"have to be inside the 'TabList' component.\");\n      }\n\n      tabsCount++;\n    } else if (Object(_elementTypes__WEBPACK_IMPORTED_MODULE_1__[\"isTabPanel\"])(child)) {\n      panelsCount++;\n    }\n  });\n\n  if (!error && tabsCount !== panelsCount) {\n    error = new Error(\"There should be an equal number of 'Tab' and 'TabPanel' in `\" + componentName + \"`. \" + (\"Received \" + tabsCount + \" 'Tab' and \" + panelsCount + \" 'TabPanel'.\"));\n  }\n\n  return error;\n}\nfunction onSelectPropType(props, propName, componentName, location, propFullName) {\n  var prop = props[propName];\n  var name = propFullName || propName;\n  var error = null;\n\n  if (prop && typeof prop !== 'function') {\n    error = new Error(\"Invalid \" + location + \" `\" + name + \"` of type `\" + typeof prop + \"` supplied \" + (\"to `\" + componentName + \"`, expected `function`.\"));\n  } else if (props.selectedIndex != null && prop == null) {\n    error = new Error(\"The \" + location + \" `\" + name + \"` is marked as required in `\" + componentName + \"`, but \" + \"its value is `undefined` or `null`.\\n\" + \"`onSelect` is required when `selectedIndex` is also set. Not doing so will \" + \"make the tabs not do anything, as `selectedIndex` indicates that you want to \" + \"handle the selected tab yourself.\\n\" + \"If you only want to set the inital tab replace `selectedIndex` with `defaultIndex`.\");\n  }\n\n  return error;\n}\nfunction selectedIndexPropType(props, propName, componentName, location, propFullName) {\n  var prop = props[propName];\n  var name = propFullName || propName;\n  var error = null;\n\n  if (prop != null && typeof prop !== 'number') {\n    error = new Error(\"Invalid \" + location + \" `\" + name + \"` of type `\" + typeof prop + \"` supplied to \" + (\"`\" + componentName + \"`, expected `number`.\"));\n  } else if (props.defaultIndex != null && prop != null) {\n    return new Error(\"The \" + location + \" `\" + name + \"` cannot be used together with `defaultIndex` \" + (\"in `\" + componentName + \"`.\\n\") + (\"Either remove `\" + name + \"` to let `\" + componentName + \"` handle the selected \") + \"tab internally or remove `defaultIndex` to handle it yourself.\");\n  }\n\n  return error;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/esm/helpers/uuid.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/react-tabs/esm/helpers/uuid.js ***!\n  \\*****************************************************/\n/*! exports provided: default, reset */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return uuid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reset\", function() { return reset; });\n// Get a universally unique identifier\nvar count = 0;\nfunction uuid() {\n  return \"react-tabs-\" + count++;\n}\nfunction reset() {\n  count = 0;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/esm/index.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/react-tabs/esm/index.js ***!\n  \\**********************************************/\n/*! exports provided: Tabs, TabList, Tab, TabPanel, resetIdCounter */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_Tabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/Tabs */ \"./node_modules/react-tabs/esm/components/Tabs.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Tabs\", function() { return _components_Tabs__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _components_TabList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/TabList */ \"./node_modules/react-tabs/esm/components/TabList.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TabList\", function() { return _components_TabList__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _components_Tab__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/Tab */ \"./node_modules/react-tabs/esm/components/Tab.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Tab\", function() { return _components_Tab__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _components_TabPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/TabPanel */ \"./node_modules/react-tabs/esm/components/TabPanel.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TabPanel\", function() { return _components_TabPanel__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _helpers_uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers/uuid */ \"./node_modules/react-tabs/esm/helpers/uuid.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"resetIdCounter\", function() { return _helpers_uuid__WEBPACK_IMPORTED_MODULE_4__[\"reset\"]; });\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/react-tabs/style/react-tabs.css\":\n/*!******************************************************!*\\\n  !*** ./node_modules/react-tabs/style/react-tabs.css ***!\n  \\******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./node_modules/webpack/buildin/global.js\":\n/*!***********************************!*\\\n  !*** (webpack)/buildin/global.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar g; // This works in non-strict mode\n\ng = function () {\n  return this;\n}();\n\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || new Function(\"return this\")();\n} catch (e) {\n  // This works if the window reference is available\n  if (typeof window === \"object\") g = window;\n} // g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\n\nmodule.exports = g;\n\n/***/ }),\n\n/***/ \"./sass/_themes.scss\":\n/*!***************************!*\\\n  !*** ./sass/_themes.scss ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_bottom-widget-container.scss\":\n/*!*******************************************************!*\\\n  !*** ./sass/components/_bottom-widget-container.scss ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_categorical-display.scss\":\n/*!***************************************************!*\\\n  !*** ./sass/components/_categorical-display.scss ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_chart-controls.scss\":\n/*!**********************************************!*\\\n  !*** ./sass/components/_chart-controls.scss ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_chart-footer.scss\":\n/*!********************************************!*\\\n  !*** ./sass/components/_chart-footer.scss ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_chart-mode.scss\":\n/*!******************************************!*\\\n  !*** ./sass/components/_chart-mode.scss ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_chart-setting.scss\":\n/*!*********************************************!*\\\n  !*** ./sass/components/_chart-setting.scss ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_chart-size.scss\":\n/*!******************************************!*\\\n  !*** ./sass/components/_chart-size.scss ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_chart-title.scss\":\n/*!*******************************************!*\\\n  !*** ./sass/components/_chart-title.scss ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_chart-types.scss\":\n/*!*******************************************!*\\\n  !*** ./sass/components/_chart-types.scss ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_ciq-list.scss\":\n/*!****************************************!*\\\n  !*** ./sass/components/_ciq-list.scss ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_crosshair.scss\":\n/*!*****************************************!*\\\n  !*** ./sass/components/_crosshair.scss ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_dialog.scss\":\n/*!**************************************!*\\\n  !*** ./sass/components/_dialog.scss ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_download.scss\":\n/*!****************************************!*\\\n  !*** ./sass/components/_download.scss ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_draw_tools.scss\":\n/*!******************************************!*\\\n  !*** ./sass/components/_draw_tools.scss ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_form.scss\":\n/*!************************************!*\\\n  !*** ./sass/components/_form.scss ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_highest-lowest-marker.scss\":\n/*!*****************************************************!*\\\n  !*** ./sass/components/_highest-lowest-marker.scss ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_icons.scss\":\n/*!*************************************!*\\\n  !*** ./sass/components/_icons.scss ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_last-digits.scss\":\n/*!*******************************************!*\\\n  !*** ./sass/components/_last-digits.scss ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_menu-dropdown.scss\":\n/*!*********************************************!*\\\n  !*** ./sass/components/_menu-dropdown.scss ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_navigation-widget.scss\":\n/*!*************************************************!*\\\n  !*** ./sass/components/_navigation-widget.scss ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_pagination-loader.scss\":\n/*!*************************************************!*\\\n  !*** ./sass/components/_pagination-loader.scss ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_scroll.scss\":\n/*!**************************************!*\\\n  !*** ./sass/components/_scroll.scss ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_search.scss\":\n/*!**************************************!*\\\n  !*** ./sass/components/_search.scss ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_settings-dialog.scss\":\n/*!***********************************************!*\\\n  !*** ./sass/components/_settings-dialog.scss ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_studylegend.scss\":\n/*!*******************************************!*\\\n  !*** ./sass/components/_studylegend.scss ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_timeperiod.scss\":\n/*!******************************************!*\\\n  !*** ./sass/components/_timeperiod.scss ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_toolbar-widget.scss\":\n/*!**********************************************!*\\\n  !*** ./sass/components/_toolbar-widget.scss ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_view.scss\":\n/*!************************************!*\\\n  !*** ./sass/components/_view.scss ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/energy/oil usd/ic-oilusd.svg\":\n/*!****************************************************************!*\\\n  !*** ./sass/icons/active-symbols/energy/oil usd/ic-oilusd.svg ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-oilusd-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-oilusd-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/ic-otcbadge.svg\":\n/*!***************************************************!*\\\n  !*** ./sass/icons/active-symbols/ic-otcbadge.svg ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-otcbadge-usage\",\n      viewBox: \"0 0 13 9\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-otcbadge-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/ic-smartfx-placeholder.svg\":\n/*!**************************************************************!*\\\n  !*** ./sass/icons/active-symbols/ic-smartfx-placeholder.svg ***!\n  \\**************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-smartfx-placeholder-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-smartfx-placeholder-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/metals/ic-metal.svg\":\n/*!*******************************************************!*\\\n  !*** ./sass/icons/active-symbols/metals/ic-metal.svg ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-metal-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-metal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/10 index/ic-10-index.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/10 index/ic-10-index.svg ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-10-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-10-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/100 index/ic-100-index.svg\":\n/*!*************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/100 index/ic-100-index.svg ***!\n  \\*************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-100-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-100-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/1s10 index/ic-10-1s-index.svg\":\n/*!****************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/1s10 index/ic-10-1s-index.svg ***!\n  \\****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-10-1s-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-10-1s-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/1s100 index/ic-100-1s-index.svg\":\n/*!******************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/1s100 index/ic-100-1s-index.svg ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-100-1s-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-100-1s-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/1s25 index/light-25(1s)index.svg\":\n/*!*******************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/1s25 index/light-25(1s)index.svg ***!\n  \\*******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"light-25(1s)index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#light-25(1s)index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/1s50 index/light-50(1s) index.svg\":\n/*!********************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/1s50 index/light-50(1s) index.svg ***!\n  \\********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"light-50(1s) index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#light-50(1s) index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/1s75 index/light-75(1s) index.svg\":\n/*!********************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/1s75 index/light-75(1s) index.svg ***!\n  \\********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"light-75(1s) index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#light-75(1s) index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/25 index/ic-25-index.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/25 index/ic-25-index.svg ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-25-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-25-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/50 index/ic-50-index.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/50 index/ic-50-index.svg ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-50-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-50-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/75 index/ic-75-index.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/75 index/ic-75-index.svg ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-75-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-75-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/bear market/ic-marketbear.svg\":\n/*!****************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/bear market/ic-marketbear.svg ***!\n  \\****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-marketbear-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-marketbear-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/boom1000 index/boom1000 index.svg\":\n/*!********************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/boom1000 index/boom1000 index.svg ***!\n  \\********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"boom1000 index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#boom1000 index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/boom500 index/boom500 index.svg\":\n/*!******************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/boom500 index/boom500 index.svg ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"boom500 index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#boom500 index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/bull market/ic-marketbull.svg\":\n/*!****************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/bull market/ic-marketbull.svg ***!\n  \\****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-marketbull-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-marketbull-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/crash1000 index/crash1000 index.svg\":\n/*!**********************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/crash1000 index/crash1000 index.svg ***!\n  \\**********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"crash1000 index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#crash1000 index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/crash500 index/crash500 index.svg\":\n/*!********************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/crash500 index/crash500 index.svg ***!\n  \\********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"crash500 index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#crash500 index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/step index/step index.svg\":\n/*!************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/step index/step index.svg ***!\n  \\************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"step index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#step index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/alert message/error.svg\":\n/*!********************************************!*\\\n  !*** ./sass/icons/alert message/error.svg ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"error-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#error-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/alert message/info.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/alert message/info.svg ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"info-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#info-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/alert message/success.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/alert message/success.svg ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"success-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#success-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/alert message/warning.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/alert message/warning.svg ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"warning-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#warning-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/arrows/ic-arrow-green.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/arrows/ic-arrow-green.svg ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-arrow-green-usage\",\n      viewBox: \"0 0 22 31\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-arrow-green-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/arrows/ic-arrow-orange.svg\":\n/*!***********************************************!*\\\n  !*** ./sass/icons/arrows/ic-arrow-orange.svg ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-arrow-orange-usage\",\n      viewBox: \"0 0 22 31\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-arrow-orange-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/back/ic-back.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/back/ic-back.svg ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-back-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-back-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/baseline/ic-baseline-normal.svg\":\n/*!*******************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/baseline/ic-baseline-normal.svg ***!\n  \\*******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-baseline-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-baseline-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/candle/ic-candle-normal.svg\":\n/*!***************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/candle/ic-candle-normal.svg ***!\n  \\***************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-candle-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-candle-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/dot/ic-dot-normal.svg\":\n/*!*********************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/dot/ic-dot-normal.svg ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-dot-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-dot-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/hollow candle/ic-hollowcandle-normal.svg\":\n/*!****************************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/hollow candle/ic-hollowcandle-normal.svg ***!\n  \\****************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-hollowcandle-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-hollowcandle-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-heikin-ashi-normal.svg\":\n/*!*************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-heikin-ashi-normal.svg ***!\n  \\*************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-heikin-ashi-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-heikin-ashi-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-kagi-normal.svg\":\n/*!******************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-kagi-normal.svg ***!\n  \\******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-kagi-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-kagi-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-linebreak-normal.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-linebreak-normal.svg ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-linebreak-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-linebreak-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-pointfigure-normal.svg\":\n/*!*************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-pointfigure-normal.svg ***!\n  \\*************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-pointfigure-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-pointfigure-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-rangebars-normal.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-rangebars-normal.svg ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-rangebars-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-rangebars-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-renko-normal.svg\":\n/*!*******************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-renko-normal.svg ***!\n  \\*******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-renko-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-renko-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/line dot/ic-linedot-normal.svg\":\n/*!******************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/line dot/ic-linedot-normal.svg ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-linedot-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-linedot-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/line/ic-line-normal.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/line/ic-line-normal.svg ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-line-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-line-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ohlc/ic-ohlc-normal.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ohlc/ic-ohlc-normal.svg ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-ohlc-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-ohlc-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/spline/ic-spline-normal.svg\":\n/*!***************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/spline/ic-spline-normal.svg ***!\n  \\***************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-spline-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-spline-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/table/table.svg\":\n/*!***************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/table/table.svg ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"table-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#table-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/comparison/ic-comparison-normal.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/chart settings/comparison/ic-comparison-normal.svg ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-comparison-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-comparison-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/crosshair/ic-crosshair-off.svg\":\n/*!******************************************************************!*\\\n  !*** ./sass/icons/chart settings/crosshair/ic-crosshair-off.svg ***!\n  \\******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-crosshair-off-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-crosshair-off-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/crosshair/ic-crosshair-on.svg\":\n/*!*****************************************************************!*\\\n  !*** ./sass/icons/chart settings/crosshair/ic-crosshair-on.svg ***!\n  \\*****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-crosshair-on-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-crosshair-on-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/crosshair/ic-crosshair-tooltip.svg\":\n/*!**********************************************************************!*\\\n  !*** ./sass/icons/chart settings/crosshair/ic-crosshair-tooltip.svg ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-crosshair-tooltip-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-crosshair-tooltip-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/drawing tools/ic-drawingtools-normal.svg\":\n/*!****************************************************************************!*\\\n  !*** ./sass/icons/chart settings/drawing tools/ic-drawingtools-normal.svg ***!\n  \\****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-drawingtools-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-drawingtools-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/setting/ic-position-bottom.svg\":\n/*!******************************************************************!*\\\n  !*** ./sass/icons/chart settings/setting/ic-position-bottom.svg ***!\n  \\******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-position-bottom-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-position-bottom-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/setting/ic-position-left.svg\":\n/*!****************************************************************!*\\\n  !*** ./sass/icons/chart settings/setting/ic-position-left.svg ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-position-left-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-position-left-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/zoom-in/ic-zoomin-light.svg\":\n/*!***************************************************************!*\\\n  !*** ./sass/icons/chart settings/zoom-in/ic-zoomin-light.svg ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-zoomin-light-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-zoomin-light-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/zoom-out/ic-zoomout-light.svg\":\n/*!*****************************************************************!*\\\n  !*** ./sass/icons/chart settings/zoom-out/ic-zoomout-light.svg ***!\n  \\*****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-zoomout-light-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-zoomout-light-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart-type/ic-area-grayscale.svg\":\n/*!*****************************************************!*\\\n  !*** ./sass/icons/chart-type/ic-area-grayscale.svg ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-area-grayscale-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-area-grayscale-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart-type/ic-area.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/chart-type/ic-area.svg ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-area-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-area-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart-type/ic-candle-grayscale.svg\":\n/*!*******************************************************!*\\\n  !*** ./sass/icons/chart-type/ic-candle-grayscale.svg ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-candle-grayscale-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-candle-grayscale-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart-type/ic-candle.svg\":\n/*!*********************************************!*\\\n  !*** ./sass/icons/chart-type/ic-candle.svg ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-candle-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-candle-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart-type/ic-hollow-grayscale.svg\":\n/*!*******************************************************!*\\\n  !*** ./sass/icons/chart-type/ic-hollow-grayscale.svg ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-hollow-grayscale-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-hollow-grayscale-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart-type/ic-hollow.svg\":\n/*!*********************************************!*\\\n  !*** ./sass/icons/chart-type/ic-hollow.svg ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-hollow-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-hollow-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart-type/ic-ohlc-grayscale.svg\":\n/*!*****************************************************!*\\\n  !*** ./sass/icons/chart-type/ic-ohlc-grayscale.svg ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-ohlc-grayscale-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-ohlc-grayscale-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart-type/ic-ohlc.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/chart-type/ic-ohlc.svg ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-ohlc-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-ohlc-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart/ic-down.svg\":\n/*!**************************************!*\\\n  !*** ./sass/icons/chart/ic-down.svg ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-down-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-down-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart/ic-maximize.svg\":\n/*!******************************************!*\\\n  !*** ./sass/icons/chart/ic-maximize.svg ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-maximize-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-maximize-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/chart/resize-icon.svg\":\n/*!******************************************!*\\\n  !*** ./sass/icons/chart/resize-icon.svg ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"resize-icon-usage\",\n      viewBox: \"0 0 6 14\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#resize-icon-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/clear/ic-clear.svg\":\n/*!***************************************!*\\\n  !*** ./sass/icons/clear/ic-clear.svg ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-clear-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-clear-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/close/ic-close-bold.svg\":\n/*!********************************************!*\\\n  !*** ./sass/icons/close/ic-close-bold.svg ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-close-bold-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-close-bold-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/close/ic-close-circle.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/close/ic-close-circle.svg ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-close-circle-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-close-circle-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/full-screen.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/common/full-screen.svg ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"full-screen-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#full-screen-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-active.svg\":\n/*!*****************************************!*\\\n  !*** ./sass/icons/common/ic-active.svg ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-active-usage\",\n      viewBox: \"0 0 17 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-active-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-add.svg\":\n/*!**************************************!*\\\n  !*** ./sass/icons/common/ic-add.svg ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-add-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-add-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-charts.svg\":\n/*!*****************************************!*\\\n  !*** ./sass/icons/common/ic-charts.svg ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-charts-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-charts-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-checkbox-active.svg\":\n/*!**************************************************!*\\\n  !*** ./sass/icons/common/ic-checkbox-active.svg ***!\n  \\**************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-checkbox-active-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-checkbox-active-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-checkbox.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/common/ic-checkbox.svg ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-checkbox-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-checkbox-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-close.svg\":\n/*!****************************************!*\\\n  !*** ./sass/icons/common/ic-close.svg ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-close-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-close-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-download.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/common/ic-download.svg ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-download-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-download-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-drawing-tool.svg\":\n/*!***********************************************!*\\\n  !*** ./sass/icons/common/ic-drawing-tool.svg ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-drawing-tool-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-drawing-tool-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-help-center.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/common/ic-help-center.svg ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-help-center-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-help-center-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-indicators.svg\":\n/*!*********************************************!*\\\n  !*** ./sass/icons/common/ic-indicators.svg ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-indicators-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-indicators-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-info.svg\":\n/*!***************************************!*\\\n  !*** ./sass/icons/common/ic-info.svg ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-info-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-info-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-input-number-minus.svg\":\n/*!*****************************************************!*\\\n  !*** ./sass/icons/common/ic-input-number-minus.svg ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-input-number-minus-usage\",\n      viewBox: \"0 0 8 8\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-input-number-minus-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-input-number-plus.svg\":\n/*!****************************************************!*\\\n  !*** ./sass/icons/common/ic-input-number-plus.svg ***!\n  \\****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-input-number-plus-usage\",\n      viewBox: \"0 0 8 8\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-input-number-plus-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-language.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/common/ic-language.svg ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-language-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-language-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-minimize.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/common/ic-minimize.svg ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-minimize-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-minimize-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-templates.svg\":\n/*!********************************************!*\\\n  !*** ./sass/icons/common/ic-templates.svg ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-templates-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-templates-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/common/ic-theme.svg\":\n/*!****************************************!*\\\n  !*** ./sass/icons/common/ic-theme.svg ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-theme-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-theme-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/delete/ic-delete.svg\":\n/*!*****************************************!*\\\n  !*** ./sass/icons/delete/ic-delete.svg ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-delete-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-delete-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/download/ic-csv.svg\":\n/*!****************************************!*\\\n  !*** ./sass/icons/download/ic-csv.svg ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-csv-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-csv-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/download/ic-png.svg\":\n/*!****************************************!*\\\n  !*** ./sass/icons/download/ic-png.svg ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-png-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-png-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/draw-tools/ic-channel.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/draw-tools/ic-channel.svg ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-channel-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-channel-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/draw-tools/ic-continuous.svg\":\n/*!*************************************************!*\\\n  !*** ./sass/icons/draw-tools/ic-continuous.svg ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-continuous-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-continuous-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/draw-tools/ic-fibonacci-fan.svg\":\n/*!****************************************************!*\\\n  !*** ./sass/icons/draw-tools/ic-fibonacci-fan.svg ***!\n  \\****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-fibonacci-fan-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-fibonacci-fan-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/draw-tools/ic-horizontal.svg\":\n/*!*************************************************!*\\\n  !*** ./sass/icons/draw-tools/ic-horizontal.svg ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-horizontal-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-horizontal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/draw-tools/ic-line.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/draw-tools/ic-line.svg ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-line-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-line-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/draw-tools/ic-ray.svg\":\n/*!******************************************!*\\\n  !*** ./sass/icons/draw-tools/ic-ray.svg ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-ray-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-ray-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/draw-tools/ic-rectangle.svg\":\n/*!************************************************!*\\\n  !*** ./sass/icons/draw-tools/ic-rectangle.svg ***!\n  \\************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-rectangle-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-rectangle-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/draw-tools/ic-trend.svg\":\n/*!********************************************!*\\\n  !*** ./sass/icons/draw-tools/ic-trend.svg ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-trend-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-trend-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/draw-tools/ic-vertical.svg\":\n/*!***********************************************!*\\\n  !*** ./sass/icons/draw-tools/ic-vertical.svg ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-vertical-usage\",\n      viewBox: \"0 0 24 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-vertical-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/dropdown/ic-dropdown.svg\":\n/*!*********************************************!*\\\n  !*** ./sass/icons/dropdown/ic-dropdown.svg ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-dropdown-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-dropdown-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/edit/ic-edit.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/edit/ic-edit.svg ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-edit-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-edit-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/favorite/ic-favorite-normal.svg\":\n/*!****************************************************!*\\\n  !*** ./sass/icons/favorite/ic-favorite-normal.svg ***!\n  \\****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-favorite-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-favorite-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/aud.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/aud.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"aud-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#aud-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/cad.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/cad.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"cad-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#cad-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/chf.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/chf.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"chf-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#chf-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/chinese-traditional.svg\":\n/*!**************************************************!*\\\n  !*** ./sass/icons/flags/chinese-traditional.svg ***!\n  \\**************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"chinese-traditional-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#chinese-traditional-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/chinese.svg\":\n/*!**************************************!*\\\n  !*** ./sass/icons/flags/chinese.svg ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"chinese-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#chinese-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/dutch.svg\":\n/*!************************************!*\\\n  !*** ./sass/icons/flags/dutch.svg ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"dutch-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#dutch-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/eur.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/eur.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"eur-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#eur-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/french.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/flags/french.svg ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"french-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#french-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/gbp.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/gbp.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"gbp-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#gbp-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/german.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/flags/german.svg ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"german-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#german-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/hong kong.svg\":\n/*!****************************************!*\\\n  !*** ./sass/icons/flags/hong kong.svg ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"hong kong-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#hong kong-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/indonesia.svg\":\n/*!****************************************!*\\\n  !*** ./sass/icons/flags/indonesia.svg ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"indonesia-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#indonesia-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/italy.svg\":\n/*!************************************!*\\\n  !*** ./sass/icons/flags/italy.svg ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"italy-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#italy-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/jpy.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/jpy.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"jpy-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#jpy-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/mxn.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/mxn.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"mxn-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#mxn-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/nok.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/nok.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"nok-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#nok-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/nzd.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/nzd.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"nzd-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#nzd-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/pln.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/pln.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"pln-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#pln-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/portugal.svg\":\n/*!***************************************!*\\\n  !*** ./sass/icons/flags/portugal.svg ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"portugal-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#portugal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/russia.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/flags/russia.svg ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"russia-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#russia-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/sek.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/sek.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"sek-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#sek-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/spanish.svg\":\n/*!**************************************!*\\\n  !*** ./sass/icons/flags/spanish.svg ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"spanish-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#spanish-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/thailand.svg\":\n/*!***************************************!*\\\n  !*** ./sass/icons/flags/thailand.svg ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"thailand-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#thailand-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/usd.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/usd.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"usd-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#usd-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/vietnam.svg\":\n/*!**************************************!*\\\n  !*** ./sass/icons/flags/vietnam.svg ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"vietnam-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#vietnam-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/wallstreet.svg\":\n/*!*****************************************!*\\\n  !*** ./sass/icons/flags/wallstreet.svg ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"wallstreet-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#wallstreet-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-adx.svg\":\n/*!******************************************!*\\\n  !*** ./sass/icons/indicators/ic-adx.svg ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-adx-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-adx-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-alligator.svg\":\n/*!************************************************!*\\\n  !*** ./sass/icons/indicators/ic-alligator.svg ***!\n  \\************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-alligator-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-alligator-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-aroon.svg\":\n/*!********************************************!*\\\n  !*** ./sass/icons/indicators/ic-aroon.svg ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-aroon-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-aroon-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-averages.svg\":\n/*!***********************************************!*\\\n  !*** ./sass/icons/indicators/ic-averages.svg ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-averages-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-averages-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-awesome-oscillator.svg\":\n/*!*********************************************************!*\\\n  !*** ./sass/icons/indicators/ic-awesome-oscillator.svg ***!\n  \\*********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-awesome-oscillator-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-awesome-oscillator-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-bollinger.svg\":\n/*!************************************************!*\\\n  !*** ./sass/icons/indicators/ic-bollinger.svg ***!\n  \\************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-bollinger-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-bollinger-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-cat-averages.svg\":\n/*!***************************************************!*\\\n  !*** ./sass/icons/indicators/ic-cat-averages.svg ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-cat-averages-usage\",\n      viewBox: \"0 0 17 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-cat-averages-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-commodity-channel-index.svg\":\n/*!**************************************************************!*\\\n  !*** ./sass/icons/indicators/ic-commodity-channel-index.svg ***!\n  \\**************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-commodity-channel-index-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-commodity-channel-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-donchian.svg\":\n/*!***********************************************!*\\\n  !*** ./sass/icons/indicators/ic-donchian.svg ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-donchian-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-donchian-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-dtrended.svg\":\n/*!***********************************************!*\\\n  !*** ./sass/icons/indicators/ic-dtrended.svg ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-dtrended-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-dtrended-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-envelope.svg\":\n/*!***********************************************!*\\\n  !*** ./sass/icons/indicators/ic-envelope.svg ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-envelope-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-envelope-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-fractal-chaos.svg\":\n/*!****************************************************!*\\\n  !*** ./sass/icons/indicators/ic-fractal-chaos.svg ***!\n  \\****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-fractal-chaos-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-fractal-chaos-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-gator.svg\":\n/*!********************************************!*\\\n  !*** ./sass/icons/indicators/ic-gator.svg ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-gator-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-gator-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-ichimoku.svg\":\n/*!***********************************************!*\\\n  !*** ./sass/icons/indicators/ic-ichimoku.svg ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-ichimoku-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-ichimoku-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-macd.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/indicators/ic-macd.svg ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-macd-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-macd-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-momentum.svg\":\n/*!***********************************************!*\\\n  !*** ./sass/icons/indicators/ic-momentum.svg ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-momentum-usage\",\n      viewBox: \"0 0 17 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-momentum-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-other.svg\":\n/*!********************************************!*\\\n  !*** ./sass/icons/indicators/ic-other.svg ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-other-usage\",\n      viewBox: \"0 0 17 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-other-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-parabolic.svg\":\n/*!************************************************!*\\\n  !*** ./sass/icons/indicators/ic-parabolic.svg ***!\n  \\************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-parabolic-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-parabolic-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-rainbow.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/indicators/ic-rainbow.svg ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-rainbow-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-rainbow-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-rate-of-change.svg\":\n/*!*****************************************************!*\\\n  !*** ./sass/icons/indicators/ic-rate-of-change.svg ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-rate-of-change-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-rate-of-change-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-rsi.svg\":\n/*!******************************************!*\\\n  !*** ./sass/icons/indicators/ic-rsi.svg ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-rsi-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-rsi-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-stochastic-momentum.svg\":\n/*!**********************************************************!*\\\n  !*** ./sass/icons/indicators/ic-stochastic-momentum.svg ***!\n  \\**********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-stochastic-momentum-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-stochastic-momentum-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-stochastic-oscillator.svg\":\n/*!************************************************************!*\\\n  !*** ./sass/icons/indicators/ic-stochastic-oscillator.svg ***!\n  \\************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-stochastic-oscillator-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-stochastic-oscillator-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-trend-dark.svg\":\n/*!*************************************************!*\\\n  !*** ./sass/icons/indicators/ic-trend-dark.svg ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-trend-dark-usage\",\n      viewBox: \"0 0 17 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-trend-dark-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-trend-light.svg\":\n/*!**************************************************!*\\\n  !*** ./sass/icons/indicators/ic-trend-light.svg ***!\n  \\**************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-trend-light-usage\",\n      viewBox: \"0 0 17 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-trend-light-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-volatility.svg\":\n/*!*************************************************!*\\\n  !*** ./sass/icons/indicators/ic-volatility.svg ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-volatility-usage\",\n      viewBox: \"0 0 17 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-volatility-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-william-percent.svg\":\n/*!******************************************************!*\\\n  !*** ./sass/icons/indicators/ic-william-percent.svg ***!\n  \\******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-william-percent-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-william-percent-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/indicators/ic-zig-zag.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/indicators/ic-zig-zag.svg ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-zig-zag-usage\",\n      viewBox: \"0 0 25 24\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-zig-zag-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/measure/ic-measure.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/measure/ic-measure.svg ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-measure-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-measure-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/navigation-widgets/ic-home.svg\":\n/*!***************************************************!*\\\n  !*** ./sass/icons/navigation-widgets/ic-home.svg ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-home-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-home-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/navigation-widgets/ic-scale-full.svg\":\n/*!*********************************************************!*\\\n  !*** ./sass/icons/navigation-widgets/ic-scale-full.svg ***!\n  \\*********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-scale-full-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-scale-full-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/navigation-widgets/ic-zoomin.svg\":\n/*!*****************************************************!*\\\n  !*** ./sass/icons/navigation-widgets/ic-zoomin.svg ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-zoomin-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-zoomin-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/navigation-widgets/ic-zoomout.svg\":\n/*!******************************************************!*\\\n  !*** ./sass/icons/navigation-widgets/ic-zoomout.svg ***!\n  \\******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-zoomout-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-zoomout-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/pencil/ic-pencil.svg\":\n/*!*****************************************!*\\\n  !*** ./sass/icons/pencil/ic-pencil.svg ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-pencil-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-pencil-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/placeholder/ic-placeholder.svg\":\n/*!***************************************************!*\\\n  !*** ./sass/icons/placeholder/ic-placeholder.svg ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-placeholder-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-placeholder-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/search/ic-search-normal.svg\":\n/*!************************************************!*\\\n  !*** ./sass/icons/search/ic-search-normal.svg ***!\n  \\************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-search-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-search-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/countdown/ic-countdown-dark-active.svg\":\n/*!*******************************************************************!*\\\n  !*** ./sass/icons/setting/countdown/ic-countdown-dark-active.svg ***!\n  \\*******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-countdown-dark-active-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-countdown-dark-active-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/countdown/ic-countdown-dark-normal.svg\":\n/*!*******************************************************************!*\\\n  !*** ./sass/icons/setting/countdown/ic-countdown-dark-normal.svg ***!\n  \\*******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-countdown-dark-normal-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-countdown-dark-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/countdown/ic-countdown-light-active.svg\":\n/*!********************************************************************!*\\\n  !*** ./sass/icons/setting/countdown/ic-countdown-light-active.svg ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-countdown-light-active-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-countdown-light-active-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/countdown/ic-countdown-light-normal.svg\":\n/*!********************************************************************!*\\\n  !*** ./sass/icons/setting/countdown/ic-countdown-light-normal.svg ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-countdown-light-normal-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-countdown-light-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/highest-lowest/ic-highest-lowest-dark-active.svg\":\n/*!*****************************************************************************!*\\\n  !*** ./sass/icons/setting/highest-lowest/ic-highest-lowest-dark-active.svg ***!\n  \\*****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-highest-lowest-dark-active-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-highest-lowest-dark-active-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/highest-lowest/ic-highest-lowest-dark-normal.svg\":\n/*!*****************************************************************************!*\\\n  !*** ./sass/icons/setting/highest-lowest/ic-highest-lowest-dark-normal.svg ***!\n  \\*****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-highest-lowest-dark-normal-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-highest-lowest-dark-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/highest-lowest/ic-highest-lowest-light-active.svg\":\n/*!******************************************************************************!*\\\n  !*** ./sass/icons/setting/highest-lowest/ic-highest-lowest-light-active.svg ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-highest-lowest-light-active-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-highest-lowest-light-active-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/highest-lowest/ic-highest-lowest-light-normal.svg\":\n/*!******************************************************************************!*\\\n  !*** ./sass/icons/setting/highest-lowest/ic-highest-lowest-light-normal.svg ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-highest-lowest-light-normal-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-highest-lowest-light-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/historical/ic-historical-dark-active.svg\":\n/*!*********************************************************************!*\\\n  !*** ./sass/icons/setting/historical/ic-historical-dark-active.svg ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-historical-dark-active-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-historical-dark-active-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/historical/ic-historical-dark-normal.svg\":\n/*!*********************************************************************!*\\\n  !*** ./sass/icons/setting/historical/ic-historical-dark-normal.svg ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-historical-dark-normal-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-historical-dark-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/historical/ic-historical-light-active.svg\":\n/*!**********************************************************************!*\\\n  !*** ./sass/icons/setting/historical/ic-historical-light-active.svg ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-historical-light-active-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-historical-light-active-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/historical/ic-historical-light-normal.svg\":\n/*!**********************************************************************!*\\\n  !*** ./sass/icons/setting/historical/ic-historical-light-normal.svg ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-historical-light-normal-usage\",\n      viewBox: \"0 0 160 120\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-historical-light-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/ic-theme-dark.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/setting/ic-theme-dark.svg ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-theme-dark-usage\",\n      viewBox: \"0 0 236 180\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-theme-dark-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/setting/ic-theme-light.svg\":\n/*!***********************************************!*\\\n  !*** ./sass/icons/setting/ic-theme-light.svg ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-theme-light-usage\",\n      viewBox: \"0 0 236 180\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-theme-light-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/shape/ic-empty-state.svg\":\n/*!*********************************************!*\\\n  !*** ./sass/icons/shape/ic-empty-state.svg ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-empty-state-usage\",\n      viewBox: \"0 0 128 118\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-empty-state-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/shape/ic-overwrite-state.svg\":\n/*!*************************************************!*\\\n  !*** ./sass/icons/shape/ic-overwrite-state.svg ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-overwrite-state-usage\",\n      viewBox: \"0 0 128 128\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-overwrite-state-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/commodities/ic-commodities-normal.svg\":\n/*!******************************************************************!*\\\n  !*** ./sass/icons/sidebar/commodities/ic-commodities-normal.svg ***!\n  \\******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-commodities-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-commodities-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/forex/ic-forex-normal.svg\":\n/*!******************************************************!*\\\n  !*** ./sass/icons/sidebar/forex/ic-forex-normal.svg ***!\n  \\******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-forex-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-forex-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/indices/ic-indices-normal.svg\":\n/*!**********************************************************!*\\\n  !*** ./sass/icons/sidebar/indices/ic-indices-normal.svg ***!\n  \\**********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-indices-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-indices-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/otc/ic-otc-normal.svg\":\n/*!**************************************************!*\\\n  !*** ./sass/icons/sidebar/otc/ic-otc-normal.svg ***!\n  \\**************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-otc-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-otc-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/synth_index/ic-synth-normal.svg\":\n/*!************************************************************!*\\\n  !*** ./sass/icons/sidebar/synth_index/ic-synth-normal.svg ***!\n  \\************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-synth-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-synth-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/volatility/ic-volatility-normal.svg\":\n/*!****************************************************************!*\\\n  !*** ./sass/icons/sidebar/volatility/ic-volatility-normal.svg ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-volatility-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-volatility-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/tick/ic-tick.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/tick/ic-tick.svg ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-tick-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-tick-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/icons/time/ic-time.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/time/ic-time.svg ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n      id: \"ic-time-usage\",\n      viewBox: \"0 0 12 12\",\n      url: __webpack_require__.p + \"sprite-7e3422.smartcharts.svg#ic-time-usage\",\n      toString: function () {\n        return this.url;\n      }\n    }\n\n/***/ }),\n\n/***/ \"./sass/main.scss\":\n/*!************************!*\\\n  !*** ./sass/main.scss ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"red\":\"#ff444f\",\"light_chart_text\":\"#555975\",\"dark_chart_text\":\"#999999\",\"light_chart_grid\":\"#f2f3f4\",\"dark_chart_grid\":\"#1d1f20\",\"light_chart_mountain_border\":\"#85acb0\",\"light_chart_mountain_bg\":\"rgba(133, 172, 176, 0.16)\",\"light_chart_mountain_bg_shade\":\"rgba(255, 255, 255, 0)\",\"light_chart_closed_mountain_border\":\"rgba(133, 172, 176, 0.32)\",\"dark_chart_mountain_border\":\"white\",\"dark_chart_mountain_bg\":\"rgba(255, 255, 255, 0.36)\",\"dark_chart_mountain_bg_shade\":\"rgba(16, 19, 32, 0)\",\"dark_chart_closed_mountain_border\":\"rgba(255, 255, 255, 0.32)\",\"chart_closed_candle_up\":\"rgba(133, 172, 176, 0.32)\",\"chart_closed_candle_down\":\"rgba(255, 68, 79, 0.32)\",\"chart_closed_candle_border\":\"rgba(51, 51, 51, 0.32)\",\"chart_current_hr\":\"#ff444f\",\"chart_closed_current_hr\":\"rgba(255, 68, 79, 0.32)\",\"light_chart_bg\":\"#ffffff\",\"dark_chart_bg\":\"#0e0e0e\",\"light_float_labels_bg\":\"#d6dadb\",\"dark_float_labels_bg\":\"#323738\",\"light_float_labels_text\":\"#333333\",\"dark_float_labels_text\":\"#ffffff\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./src/Constant.js\":\n/*!*************************!*\\\n  !*** ./src/Constant.js ***!\n  \\*************************/\n/*! exports provided: drawTools, getIndicatorsTree, ExcludedStudies, ChartTypes, Intervals, Languages, STATE */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawTools\", function() { return drawTools; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIndicatorsTree\", function() { return getIndicatorsTree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ExcludedStudies\", function() { return ExcludedStudies; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChartTypes\", function() { return ChartTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Intervals\", function() { return Intervals; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Languages\", function() { return Languages; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"STATE\", function() { return STATE; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/Icons.jsx */ \"./src/components/Icons.jsx\");\n\n\nvar drawTools = {\n  channel: {\n    id: 'channel',\n    text: t.translate('Channel [num]'),\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"DrawToolsChannelIcon\"]\n  },\n  segment: {\n    id: 'continuous',\n    text: t.translate('Continuous [num]'),\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"DrawToolsContinuousIcon\"]\n  },\n  fibfan: {\n    id: 'fibfan',\n    text: t.translate('Fib Fan [num]'),\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"DrawToolsFibonaccifanIcon\"]\n  },\n  horizontal: {\n    id: 'horizontal',\n    text: t.translate('Horizontal [num]'),\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"DrawToolsHorizontalIcon\"]\n  },\n  line: {\n    id: 'line',\n    text: t.translate('Line [num]'),\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"DrawToolsLineIcon\"]\n  },\n  ray: {\n    id: 'ray',\n    text: t.translate('Ray [num]'),\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"DrawToolsRayIcon\"]\n  },\n  rectangle: {\n    id: 'rectangle',\n    text: t.translate('Rectangle [num]'),\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"DrawToolsRectangleIcon\"]\n  },\n  tirone: {\n    id: 'tirone',\n    text: t.translate('Trend [num]'),\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"DrawToolsTrendIcon\"]\n  },\n  vertical: {\n    id: 'vertical',\n    text: t.translate('Vertical [num]'),\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"DrawToolsVerticalIcon\"]\n  }\n};\nvar getIndicatorsTree = function getIndicatorsTree() {\n  return [{\n    id: 'momentum',\n    name: 'Momentum',\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorCatMomentumIcon\"],\n    items: [{\n      id: 'Awesome',\n      name: 'Awesome Oscillator',\n      description: t.translate(\"The Awesome Oscillator is an indicator used to measure market momentum. AO calculates the difference of a 34 Period and 5 Period Simple Moving Averages. The Simple Moving Averages that are used are not calculated using closing price but rather each bar's midpoints. AO is generally used to affirm trends or to anticipate possible reversals.\"),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorAwesomeOscillatorIcon\"]\n    }, {\n      id: 'Detrended',\n      name: 'Detrended Price Oscillator',\n      description: t.translate('The Detrended Price Oscillator (DPO) helps to identify price cycles without the influence of short- and long-term trends. The DPO compares a simple moving average to a historical pricenear the middle of a specified period. It also shows the peaks and drops over that particular period, making it easier to predict buy points.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorDTrendedIcon\"]\n    }, {\n      id: 'Gator',\n      name: 'Gator Oscillator',\n      description: t.translate('The Gator Oscillator helps to detect trend changes in the market price. Based on the Alligator indicator, the Gator plots 2 histograms on either side of the zero line. The sleeping phase (absence of a trend) is when the bars on both sides are red. The awakening phase (formation of a trend) is when there are red and green bars on both sides. When there are green bars on both sides, it indicates the eating phase (trend strengthening). A solitary red bar appearing after the eating phase indicates the beginning of the sated phase (trend approaching its end).'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorGatorIcon\"]\n    }, {\n      id: 'macd',\n      name: 'MACD',\n      description: t.translate(\"MACD is a trading indicator used in technical analysis of stock prices. It is supposed to reveal changes in the strength, direction, momentum, and duration of a trend in a stock's price.\"),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorMacdIcon\"]\n    }, {\n      id: 'Price ROC',\n      name: 'Price Rate of Change',\n      description: t.translate('The Price Rate-of-Change (ROC) indicator displays the difference between the current price and the price x-time periods ago. The difference can be displayed in either points or as a percentage.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorRateChangeIcon\"]\n    }, {\n      id: 'rsi',\n      name: 'Relative Strength Index (RSI)',\n      description: t.translate('The Relative Strength Index (RSI) was published by J. Welles Wilder. The current price is normalized as a percentage between 0 and 100. The name of this oscillator is misleading because it does not compare the instrument relative to another instrument or set of instruments, but rather represents the current price relative to other recent pieces within the selected lookback window length.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorRSIIcon\"]\n    }, {\n      id: 'stochastics',\n      name: 'Stochastic Oscillator',\n      description: t.translate(\"A technical momentum indicator that compares a security's closing price to its price range over a given time period. The oscillator's sensitivity to market movements can be reduced by adjusting the time period or by taking a moving average of the result.\"),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorStochasticOscillatorIcon\"]\n    }, {\n      id: 'Stch Mtm',\n      name: 'Stochastic Momentum Index',\n      description: t.translate('The Stochastic Momentum Index (SMI) helps to identify overbought or oversold conditions in the market and to predict bearish or bullish trends. It calculates the distance between the current closing price and the median of the high/low range, and displays 2 lines on the chart: the first (known as %K) represents the price movement while the second (known as %D) is a moving average of the first line. If the closing price is higher than the median of the high/low range, the SMI returns a positive value. If the closing price is lower than the average price, a negative value is returned. Values above 40 indicate a bullish trend while values below -40 indicate a bearish trend.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorStochasticMomentumIcon\"]\n    }, {\n      id: 'Williams %R',\n      name: \"William's Percent Range\",\n      description: t.translate('Developed by Larry Williams, Williams %R is a momentum indicator that is the inverse of the Fast Stochastic Oscillator. Also referred to as %R, Williams %R reflects the level of the close relative to the highest high for the look-back period.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorWilliamPercentIcon\"]\n    }]\n  }, {\n    id: 'trend',\n    name: 'Trend',\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorCatTrendLightIcon\"],\n    items: [{\n      id: 'Aroon',\n      name: 'Aroon',\n      description: t.translate('Developed by Tushar Chande in 1995, Aroon is an indicator system that determines whether a stock is trending or not and how strong the trend is. There are two separate indicators: Aroon-Up and Aroon-Down. A 25-day Aroon-Up measures the number of days since a 25-day high. A 25-day Aroon-Down measures the number of days since a 25-day low.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorAroonIcon\"]\n    }, {\n      id: 'ADX',\n      name: 'ADX/DMS',\n      description: t.translate('The Average Directional Movement Index index (ADX) was developed in 1978 by J. Welles Wilder as an indicator of trend strength in a series of prices of a financial instrument ADX will range between 0 and 100. Generally, ADX readings below 20 indicate trend weakness, and readings above 40 indicate trend strength.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorAdxIcon\"]\n    }, {\n      id: 'CCI',\n      name: 'Commodity Channel Index',\n      description: t.translate('The Commodity Channel Index (CCI) is a versatile indicator that can be used to identify a new trend or warn of extreme conditions.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorCommodityChannelIndexIcon\"]\n    }, {\n      id: 'Ichimoku Clouds',\n      name: 'Ichimoku Clouds',\n      description: t.translate('The Ichimoku Cloud, also known as Ichimoku Kinko Hyo, is a versatile indicator that defines support and resistance, identifies trend direction, gauges momentum and provides trading signals. Ichimoku Kinko Hyo translates into “one look equilibrium chart”.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorIchimokuIcon\"]\n    }, {\n      id: 'PSAR',\n      name: 'Parabolic SAR',\n      description: t.translate('The parabolic SAR is calculated almost independently for each trend in the price. When the price is in an uptrend, the SAR emerges below the price and converges upwards towards it. Similarly, on a downtrend, the SAR emerges above the price and converges downwards. At each step within a trend, the SAR is calculated one period in advance.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorParabolicIcon\"]\n    }, {\n      id: 'ZigZag',\n      name: 'Zig Zag',\n      description: t.translate('Zig Zag helps to identify trend reversals and filters out relatively small price movements by determining the support and resistance levels of the market. It accepts a percentage of deviation as the input and displays a line if the price change is larger than the percentage of deviation. Zig Zag ignores any sideways movement and is useful to filter out “market noise”.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorZigZagIcon\"]\n    }]\n  }, {\n    id: 'volatility',\n    name: 'Volatility',\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorCatVolatilityIcon\"],\n    items: [{\n      id: 'Bollinger Bands',\n      name: 'Bollinger Bands',\n      description: t.translate('Bollinger Bands can be used to measure the highness or lowness of the price relative to previous trades.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorBollingerIcon\"]\n    }, {\n      id: 'Donchian Channel',\n      name: 'Donchian Channel',\n      description: t.translate('The Donchian Channel is an indicator used in market trading developed by Richard Donchian. It is formed by taking the highest high and the lowest low of the last n periods. The area between the high and the low is the channel for the period chosen.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorDonchianIcon\"]\n    }]\n  }, {\n    id: 'moving-averages',\n    name: 'Moving averages',\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorCatAveragesIcon\"],\n    items: [{\n      id: 'ma',\n      name: 'Moving Average (MA)',\n      description: t.translate('The Moving Average (MA) helps to identify the overall market trend by filtering out short-term price fluctuations. Using historical data, it calculates the average price over a specific period and plots a line on the chart. If the MA line moves upwards, it’s an indicator of an uptrend, a downtrend if it moves downwards. A buy signal occurs when the price moves above the MA line.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorAveragesIcon\"]\n    }, {\n      id: 'MA Env',\n      name: 'Moving Average Envelope',\n      description: t.translate('The Moving Average Envelope (MAE) helps to identify strong price movement that indicates the start of a trend. The MAE creates a moving average line as well as 2 bands around it. In theory, when the market price touches the upper or lower bands, a trend reversal will occur, indicating a buy signal.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorEnvelopeIcon\"]\n    }, {\n      id: 'Rainbow MA',\n      name: 'Rainbow Moving Average',\n      description: t.translate('The Rainbow Moving Average (RMA) displays several moving average lines simultaneously. When the lines intersect, it’s an indicator of price reversal and the angle of the lines are helpful to predict the trend strength. The steeper the curve, the stronger the trend. When the price crosses the moving average lines from below, it signals an upward trend. When the price crosses the moving average lines from above, it signals a downward trend. The RMA is easier to use compared to using several different moving average indicators at once.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorRainbowIcon\"]\n    }]\n  }, {\n    id: 'others',\n    name: 'Others',\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorCatOtherIcon\"],\n    items: [{\n      id: 'Alligator',\n      name: 'Alligator',\n      description: t.translate('Bill Williams introduced the Alligator indicator in 1995. The Alligator is as much a metaphor as it is an indicator. It consists of three lines, overlaid on a pricing chart, that represent the jaw, the teeth and the lips of the beast, and was created to help the trader confirm the presence of a trend and its direction. The Alligator indicator can also help traders designate impulse and corrective wave formations, but the tool works best when combined with a momentum indicator.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorAlligatorIcon\"]\n    }, {\n      id: 'Fractal Chaos Bands',\n      name: 'Fractal Chaos Band',\n      description: t.translate('Fractals are indicators on candlestick charts that identify reversal points in the market. Traders often use fractals to get an idea about the direction in which the price will develop. A fractal will form when a particular price pattern happens on a chart.'),\n      icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"IndicatorFractalChaosIcon\"]\n    }]\n  }];\n};\nvar ExcludedStudies = {\n  Beta: true,\n  // volume is not supported in chart\n  Klinger: true,\n  'Trade Vol': true,\n  'Vol ROC': true,\n  'Price Vol': true,\n  'Pos Vol': true,\n  'Neg Vol': true,\n  'On Bal Vol': true,\n  'Vol Osc': true,\n  volume: true,\n  'vol undr': true,\n  'vol profile': true,\n  'W MFI': true,\n  EOM: true,\n  'Chaikin MF': true,\n  Twiggs: true,\n  // end volume\n  'Aroon Osc': true,\n  'Lin R2': true,\n  'Lin Fcst': true,\n  'Lin Incpt': true,\n  'Time Fcst': true,\n  'VT Filter': true,\n  TRIX: true,\n  'STD Dev': true,\n  Swing: true,\n  'Acc Swing': true,\n  'Price ROC': false,\n  Momentum: true,\n  'Hist Vol': true,\n  'Pretty Good': true,\n  Ultimate: true,\n  'Chaikin Vol': true,\n  'Price Osc': true,\n  'True Range': true,\n  ATR: true,\n  'Ehler Fisher': true,\n  Schaff: true,\n  QStick: true,\n  Coppock: true,\n  'Chande Mtm': true,\n  'Chande Fcst': true,\n  'Intraday Mtm': true,\n  RAVI: true,\n  'Random Walk': true,\n  'High Low': true,\n  'High-Low': true,\n  'Med Price': true,\n  'Fractal Chaos': true,\n  GAPO: true,\n  'Prime Number Bands': true,\n  'Prime Number': true,\n  HHV: true,\n  LLV: true,\n  'Mass Idx': true,\n  Keltner: true,\n  'Elder Ray': true,\n  'Elder Force': true,\n  'LR Slope': true,\n  COG: true,\n  'Typical Price': true,\n  'Weighted Close': true,\n  'M Flow': true,\n  'W Acc Dist': true,\n  'val lines': true,\n  correl: true,\n  PMO: true,\n  'Rel Vol': true,\n  'ATR Bands': true,\n  'STARC Bands': true,\n  'ATR Trailing Stop': true,\n  'Boll BW': true,\n  'Boll %b': true,\n  'Rel Vig': true,\n  'Elder Impulse': true,\n  'Pivot Points': true,\n  VWAP: true,\n  AVWAP: true,\n  'P Rel': true,\n  'Perf Idx': true,\n  Ulcer: true,\n  'Bal Pwr': true,\n  'Trend Int': true,\n  Choppiness: true,\n  Disparity: true,\n  'Rainbow Osc': true,\n  'Pring KST': true,\n  'Pring Sp-K': true,\n  Darvas: true,\n  Supertrend: true,\n  Vortex: true,\n  PSY: true,\n  'MA Dev': true,\n  Shinohara: true,\n  'VT HZ Filter': true\n};\nvar ChartTypes = [{\n  id: 'mountain',\n  text: t.translate('Area'),\n  candleOnly: false,\n  icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"TypeAreaIcon\"]\n}, {\n  id: 'candle',\n  text: t.translate('Candle'),\n  candleOnly: true,\n  icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"TypeCandleIcon\"]\n}, {\n  id: 'hollow_candle',\n  text: t.translate('Hollow'),\n  candleOnly: true,\n  icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"TypeHollowIcon\"]\n}, {\n  id: 'colored_bar',\n  text: t.translate('OHLC'),\n  candleOnly: true,\n  icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"TypeOhlcIcon\"]\n}];\nvar Intervals = [{\n  key: 'tick',\n  single: t.translate('tick'),\n  items: [{\n    interval: 0,\n    num: 1\n  }]\n}, {\n  key: 'minute',\n  single: t.translate('minute'),\n  plural: t.translate('minutes'),\n  items: [{\n    interval: 60,\n    num: 1\n  }, {\n    interval: 120,\n    num: 2\n  }, {\n    interval: 180,\n    num: 3\n  }, {\n    interval: 300,\n    num: 5\n  }, {\n    interval: 600,\n    num: 10\n  }, {\n    interval: 900,\n    num: 15\n  }, {\n    interval: 1800,\n    num: 30\n  }]\n}, {\n  key: 'hour',\n  single: t.translate('hour'),\n  plural: t.translate('hours'),\n  items: [{\n    interval: 3600,\n    num: 1\n  }, {\n    interval: 7200,\n    num: 2\n  }, {\n    interval: 14400,\n    num: 4\n  }, {\n    interval: 28800,\n    num: 8\n  }]\n}, {\n  key: 'day',\n  single: t.translate('day'),\n  plural: t.translate('days'),\n  items: [{\n    interval: 86400,\n    num: 1\n  }]\n}];\nvar Languages = [{\n  key: 'en',\n  name: 'English',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].GBP, null)\n}, {\n  key: 'pt',\n  name: 'Português',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].Portugal, null)\n}, {\n  key: 'fr',\n  name: 'French',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].French, null)\n}, {\n  key: 'ru',\n  name: 'Русский',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].Russia, null)\n}, {\n  key: 'th',\n  name: 'Thai',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].Thailand, null)\n}, {\n  key: 'id',\n  name: 'Indonesia',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].Indonesia, null)\n}, {\n  key: 'vi',\n  name: 'Tiếng Việt',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].Vietnam, null)\n}, {\n  key: 'it',\n  name: 'Italiano',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].Italy, null)\n}, {\n  key: 'zh_cn',\n  name: '简体中文',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].Chinese, null)\n}, {\n  key: 'pl',\n  name: 'Polish',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].Poland, null)\n}, {\n  key: 'zh_tw',\n  name: '繁體中文',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].ChineseTraditional, null)\n}, {\n  key: 'es',\n  name: 'espanyol',\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FlagIcons\"].Spanish, null)\n}];\nvar STATE = {\n  INITIAL: 'INITIAL',\n  READY: 'READY',\n  SCROLL_TO_LEFT: 'SCROLL_TO_LEFT'\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/SplinePlotter.js\":\n/*!******************************!*\\\n  !*** ./src/SplinePlotter.js ***!\n  \\******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return plotSpline; });\n/* eslint-disable no-restricted-globals,no-restricted-properties */\nfunction plotSpline(points, tension, context, colorPatternChanges) {\n  function getControlPoints(i) {\n    var x0 = points[i];\n    var y0 = points[i + 1];\n    var x1 = points[i + 2];\n    var y1 = points[i + 3];\n    var x2 = points[i + 4];\n    var y2 = points[i + 5];\n\n    if (isNaN(x0) || isNaN(x1) || isNaN(x2) || isNaN(y0) || isNaN(y1) || isNaN(y2)) {\n      return null;\n    } // x0,y0,x1,y1 are the coordinates of the end (knot) points of this segment\n    // x2,y2 is the next knot -- not connected here but needed to calculate p2\n    // p1 is the control point calculated here, from x1 back toward x0.\n    // p2 is the next control point, calculated here and returned to become the\n    // next segment's p1.\n    // tension controls how far the control points spread.\n    // Scaling factors: distances from this knot to the previous and following knots.\n\n\n    var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n    var d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    var fa = tension * d01 / (d01 + d12);\n    var fb = tension - fa;\n    var p1x = x1 + fa * (x0 - x2);\n    var p1y = y1 + fa * (y0 - y2);\n    var p2x = x1 - fb * (x0 - x2);\n    var p2y = y1 - fb * (y0 - y2);\n    return [p1x, p1y, p2x, p2y];\n  }\n\n  if (!tension || tension < 0) {\n    tension = 0;\n  }\n\n  var cp = []; // array of control points, as x0,y0,x1,y1,...\n\n  var n = points.length; // Draw an open curve, not connected at the ends\n\n  for (var i = 0; i < n - 4; i += 2) {\n    cp = cp.concat(getControlPoints(i));\n  }\n\n  if (cp === null) {\n    return;\n  }\n\n  if (!colorPatternChanges) {\n    colorPatternChanges = [];\n  }\n\n  var colorPatternIndex = 0;\n\n  function seeIfStrokeNeeded(i) {\n    if (colorPatternIndex === colorPatternChanges.length) {\n      return;\n    }\n\n    var colorPatternChange = colorPatternChanges[colorPatternIndex];\n\n    if (colorPatternChange.coord[0] === points[i] && colorPatternChange.coord[1] === points[i + 1]) {\n      context.stroke();\n      context.strokeStyle = colorPatternChange.color;\n      context.setLineDash(colorPatternChange.pattern);\n      context.lineDashOffset = 0;\n      context.lineWidth = colorPatternChange.width;\n      context.beginPath();\n      context.moveTo(points[i], points[i + 1]); // reset back to last point\n\n      colorPatternIndex++;\n    }\n  } // plot the first segment\n\n\n  context.moveTo(points[0], points[1]);\n  seeIfStrokeNeeded(0);\n  context.quadraticCurveTo(cp[0], cp[1], points[2], points[3]);\n\n  for (var _i = 2; _i < n - 5; _i += 2) {\n    seeIfStrokeNeeded(_i);\n    context.bezierCurveTo(cp[2 * _i - 2], cp[2 * _i - 1], cp[2 * _i], cp[2 * _i + 1], points[_i + 2], points[_i + 3]);\n  } // plot the last segment\n\n\n  seeIfStrokeNeeded(n - 4);\n  context.quadraticCurveTo(cp[2 * n - 10], cp[2 * n - 9], points[n - 2], points[n - 1]);\n}\n\n/***/ }),\n\n/***/ \"./src/Translation.js\":\n/*!****************************!*\\\n  !*** ./src/Translation.js ***!\n  \\****************************/\n/*! exports provided: Translation, t */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Translation\", function() { return Translation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"t\", function() { return t; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar lang_map = {};\nvar Translation = /*#__PURE__*/function () {\n  function Translation() {\n    var lang = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';\n\n    _classCallCheck(this, Translation);\n\n    this.lang = lang;\n  }\n\n  _createClass(Translation, [{\n    key: \"setLanguage\",\n    value: function setLanguage(lang) {\n      var _this = this;\n\n      if (lang_map[lang] || lang === 'en') {\n        this.lang = lang;\n      } else {\n        __webpack_require__(\"./translation lazy recursive ^\\\\.\\\\/.*\\\\.json$\")(\"./\".concat(lang, \".json\")).then(function (imported_lang) {\n          if (imported_lang) {\n            lang_map[lang] = imported_lang[\"default\"];\n            _this.lang = lang;\n          } else {\n            console.error('Unsupported language:', lang);\n          }\n        });\n      }\n    }\n    /**\n     *\n     * @param {*} args include string to be translated, its plural form,\n     * and object containing key value pair for replacement in translated string.\n     *\n     * For eg: translate('_n Hour','_n Hours',{'_n':2})\n     * Note: The first key-value pair will be used to determine the plural form.\n     *\n     */\n\n  }, {\n    key: \"translate\",\n    value: function translate() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var curr_lang = lang_map[this.lang];\n      var key = args[0].trim();\n      var key_with_quotation = key.replace(/\"/gi, '\\\\\"');\n      /* eslint-disable-line */\n\n      var translated = key;\n      var has_quotation = false;\n\n      if (curr_lang && curr_lang[key]) {\n        translated = curr_lang[key];\n      } else if (curr_lang && curr_lang[key_with_quotation]) {\n        translated = curr_lang[key_with_quotation];\n        has_quotation = true;\n      }\n\n      if (args[1]) {\n        Object.keys(args[1]).forEach(function (prop) {\n          translated = translated.replace(\"[\".concat(prop, \"]\"), args[1][prop]);\n        });\n      }\n\n      return has_quotation ? translated.replace(/\\\\\\\"/gi, '\"') : translated;\n      /* eslint-disable-line */\n    }\n  }]);\n\n  return Translation;\n}();\nvar trans = new Translation();\nvar t = trans;\n\n/***/ }),\n\n/***/ \"./src/binaryapi/ActiveSymbols.js\":\n/*!****************************************!*\\\n  !*** ./src/binaryapi/ActiveSymbols.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ActiveSymbols; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\nvar _dec, _class, _descriptor, _descriptor2, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\nvar DefaultSymbols = ['forex', 'indices', 'stocks', 'commodities', 'synthetic_index'];\nvar ActiveSymbols = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function ActiveSymbols(api, tradingTimes, params) {\n    _classCallCheck(this, ActiveSymbols);\n\n    _initializerDefineProperty(this, \"changes\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"categorizedSymbols\", _descriptor2, this);\n\n    this.symbolMap = {};\n    this.symbolsPromise = new _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this.isRetrievingSymbols = false;\n    this._api = api;\n    this._tradingTimes = tradingTimes;\n    this._params = params;\n  }\n\n  _createClass(ActiveSymbols, [{\n    key: \"retrieveActiveSymbols\",\n    value: function () {\n      var _retrieveActiveSymbols = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var retrieveNewActiveSymbols,\n            active_symbols,\n            response,\n            _iterator,\n            _step,\n            symbolObj,\n            _args = arguments;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                retrieveNewActiveSymbols = _args.length > 0 && _args[0] !== undefined ? _args[0] : false;\n\n                if (!(this.isRetrievingSymbols && !retrieveNewActiveSymbols)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 4;\n                return this.symbolsPromise;\n\n              case 4:\n                return _context.abrupt(\"return\", this.activeSymbols);\n\n              case 5:\n                this.isRetrievingSymbols = true;\n                active_symbols = [];\n\n                if (!(this._params.initialData && !this.processedSymbols)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                active_symbols = this._params.initialData;\n                _context.next = 20;\n                break;\n\n              case 11:\n                if (!(this._params.enable !== false)) {\n                  _context.next = 18;\n                  break;\n                }\n\n                _context.next = 14;\n                return this._api.getActiveSymbols();\n\n              case 14:\n                response = _context.sent;\n                active_symbols = response.active_symbols;\n                _context.next = 20;\n                break;\n\n              case 18:\n                console.error('ActiveSymbols feed is not enable nor has initial data!');\n                return _context.abrupt(\"return\");\n\n              case 20:\n                Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"runInAction\"])(function () {\n                  _this.processedSymbols = _this._processSymbols(active_symbols);\n                  _this.categorizedSymbols = _this._categorizeActiveSymbols(_this.processedSymbols);\n                });\n                _iterator = _createForOfIteratorHelper(this.processedSymbols);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    symbolObj = _step.value;\n                    this.symbolMap[symbolObj.symbol] = symbolObj;\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                this._tradingTimes.onMarketOpenCloseChanged(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function (changes) {\n                  for (var symbol in changes) {\n                    var symObj = _this.symbolMap[symbol];\n\n                    if (symObj) {\n                      symObj.exchange_is_open = changes[symbol];\n                    }\n                  }\n\n                  _this.changes = changes;\n                }));\n\n                this.symbolsPromise.resolve();\n                return _context.abrupt(\"return\", this.activeSymbols);\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function retrieveActiveSymbols() {\n        return _retrieveActiveSymbols.apply(this, arguments);\n      }\n\n      return retrieveActiveSymbols;\n    }()\n  }, {\n    key: \"getSymbolObj\",\n    value: function getSymbolObj(symbol) {\n      return this.symbolMap[symbol];\n    }\n  }, {\n    key: \"_processSymbols\",\n    value: function _processSymbols(symbols) {\n      var processedSymbols = []; // Stable sort is required to retain the order of the symbol name\n\n      Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"stableSort\"])(symbols, function (a, b) {\n        return a.submarket_display_name.localeCompare(b.submarket_display_name);\n      });\n\n      var _iterator2 = _createForOfIteratorHelper(symbols),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var s = _step2.value;\n          processedSymbols.push({\n            symbol: s.symbol,\n            name: s.display_name,\n            market: s.market,\n            market_display_name: s.market_display_name,\n            submarket_display_name: s.submarket_display_name,\n            exchange_is_open: !!s.exchange_is_open,\n            decimal_places: s.pip.toString().length - 2\n          });\n        } // Categorize symbols in order defined by another array; there's probably a more\n        // efficient algo for this, but for just ~100 items it's not worth the effort\n\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      var orderedMarkets = typeof this._params.getMarketsOrder === 'function' ? this._params.getMarketsOrder(symbols) : DefaultSymbols;\n      var orderedSymbols = [];\n\n      var _iterator3 = _createForOfIteratorHelper(orderedMarkets),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var o = _step3.value;\n\n          var _iterator4 = _createForOfIteratorHelper(processedSymbols),\n              _step4;\n\n          try {\n            for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n              var p = _step4.value;\n\n              if (o === p.market) {\n                orderedSymbols.push(p);\n              }\n            }\n          } catch (err) {\n            _iterator4.e(err);\n          } finally {\n            _iterator4.f();\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return orderedSymbols;\n    }\n  }, {\n    key: \"_categorizeActiveSymbols\",\n    value: function _categorizeActiveSymbols(activeSymbols) {\n      var categorizedSymbols = [];\n      var first = activeSymbols[0];\n\n      var getSubcategory = function getSubcategory(d) {\n        return {\n          subcategoryName: d.submarket_display_name,\n          data: []\n        };\n      };\n\n      var getCategory = function getCategory(d) {\n        return {\n          categoryName: d.market_display_name,\n          categoryId: d.market,\n          hasSubcategory: true,\n          data: []\n        };\n      };\n\n      var subcategory = getSubcategory(first);\n      var category = getCategory(first);\n\n      var _iterator5 = _createForOfIteratorHelper(activeSymbols),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var symbol = _step5.value;\n\n          if (category.categoryName !== symbol.market_display_name) {\n            category.data.push(subcategory);\n            categorizedSymbols.push(category);\n            subcategory = getSubcategory(symbol);\n            category = getCategory(symbol);\n          }\n\n          if (subcategory.subcategoryName !== symbol.submarket_display_name) {\n            category.data.push(subcategory);\n            subcategory = getSubcategory(symbol);\n          }\n\n          subcategory.data.push({\n            enabled: true,\n            itemId: symbol.symbol,\n            display: symbol.name,\n            dataObject: symbol\n          });\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      category.data.push(subcategory);\n      categorizedSymbols.push(category);\n      return categorizedSymbols;\n    }\n  }, {\n    key: \"activeSymbols\",\n    get: function get() {\n      var _this2 = this;\n\n      var categorized = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"cloneCategories\"])(this.categorizedSymbols, function (item) {\n        var symbol = item.dataObject.symbol;\n\n        if (symbol in _this2.changes) {\n          item.dataObject.exchange_is_open = _this2.changes[symbol];\n        }\n\n        return _objectSpread({}, item);\n      });\n      return categorized;\n    }\n  }]);\n\n  return ActiveSymbols;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"changes\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"categorizedSymbols\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"retrieveActiveSymbols\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"retrieveActiveSymbols\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"activeSymbols\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"activeSymbols\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/binaryapi/BinaryAPI.js\":\n/*!************************************!*\\\n  !*** ./src/binaryapi/BinaryAPI.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BinaryAPI; });\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar BinaryAPI = /*#__PURE__*/function () {\n  _createClass(BinaryAPI, null, [{\n    key: \"DEFAULT_COUNT\",\n    get: function get() {\n      return 1000;\n    }\n  }]);\n\n  function BinaryAPI(requestAPI, requestSubscribe, requestForget, requestForgetStream) {\n    _classCallCheck(this, BinaryAPI);\n\n    this.streamRequests = {};\n    this.tradingTimesCache = null;\n    this.requestAPI = requestAPI;\n    this.requestSubscribe = requestSubscribe;\n    this.requestForget = requestForget;\n    this.requestForgetStream = requestForgetStream;\n  }\n\n  _createClass(BinaryAPI, [{\n    key: \"getActiveSymbols\",\n    value: function getActiveSymbols() {\n      return this.requestAPI({\n        active_symbols: 'brief'\n      });\n    }\n  }, {\n    key: \"getServerTime\",\n    value: function getServerTime() {\n      return this.requestAPI({\n        time: 1\n      });\n    }\n  }, {\n    key: \"getTradingTimes\",\n    value: function () {\n      var _getTradingTimes = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var trading_times,\n            response,\n            _args = arguments;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                trading_times = _args.length > 0 && _args[0] !== undefined ? _args[0] : 'today';\n\n                if (!(this.tradingTimesCache && this.tradingTimesCache.trading_times === trading_times)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _objectSpread({}, this.tradingTimesCache));\n\n              case 3:\n                _context.next = 5;\n                return this.requestAPI({\n                  trading_times: trading_times\n                });\n\n              case 5:\n                response = _context.sent;\n\n                if (trading_times !== 'today') {\n                  this.tradingTimesCache = _objectSpread({}, response);\n                }\n\n                return _context.abrupt(\"return\", response);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getTradingTimes() {\n        return _getTradingTimes.apply(this, arguments);\n      }\n\n      return getTradingTimes;\n    }()\n  }, {\n    key: \"getTickHistory\",\n    value: function getTickHistory(params) {\n      var request = BinaryAPI.createTickHistoryRequest(params);\n      return this.requestAPI(request);\n    }\n  }, {\n    key: \"subscribeTickHistory\",\n    value: function subscribeTickHistory(params, callback) {\n      var key = this._getKey(params);\n\n      var request = BinaryAPI.createTickHistoryRequest(_objectSpread(_objectSpread({}, params), {}, {\n        subscribe: 1\n      }));\n      this.streamRequests[key] = {\n        request: request,\n        callback: callback\n      }; // Send a copy of the request, in case it gets mutated outside\n\n      this.requestSubscribe(_objectSpread({}, request), callback);\n    }\n  }, {\n    key: \"forget\",\n    value: function forget(params) {\n      var key = this._getKey(params);\n\n      if (!this.streamRequests[key]) return;\n      var _this$streamRequests$ = this.streamRequests[key],\n          request = _this$streamRequests$.request,\n          callback = _this$streamRequests$.callback;\n      delete this.streamRequests[key];\n      return this.requestForget(request, callback);\n    }\n  }, {\n    key: \"forgetStream\",\n    value: function forgetStream(subscription_id) {\n      if (this.requestForgetStream && typeof this.requestForgetStream === 'function') {\n        return this.requestForgetStream(subscription_id);\n      }\n    }\n  }, {\n    key: \"_getKey\",\n    value: function _getKey(_ref) {\n      var symbol = _ref.symbol,\n          granularity = _ref.granularity;\n      return \"\".concat(symbol, \"-\").concat(granularity);\n    }\n  }], [{\n    key: \"createTickHistoryRequest\",\n    value: function createTickHistoryRequest(_ref2) {\n      var symbol = _ref2.symbol,\n          granularity = _ref2.granularity,\n          start = _ref2.start,\n          end = _ref2.end,\n          subscribe = _ref2.subscribe,\n          _ref2$adjust_start_ti = _ref2.adjust_start_time,\n          adjust_start_time = _ref2$adjust_start_ti === void 0 ? 1 : _ref2$adjust_start_ti,\n          count = _ref2.count;\n      var request = {\n        ticks_history: symbol,\n        style: +granularity ? 'candles' : 'ticks',\n        end: 'latest',\n        count: count || BinaryAPI.DEFAULT_COUNT\n      };\n\n      if (granularity) {\n        // granularity will only be set if style=candles\n        request.granularity = +granularity;\n      }\n\n      if (adjust_start_time) {\n        request.adjust_start_time = adjust_start_time;\n      }\n\n      if (subscribe) {\n        request.subscribe = 1;\n      }\n\n      if (start) {\n        delete request.count;\n        request.start = start;\n      }\n\n      if (end) {\n        request.end = end;\n      }\n\n      return request;\n    }\n  }]);\n\n  return BinaryAPI;\n}();\n\n\n\n/***/ }),\n\n/***/ \"./src/binaryapi/TradingTimes.js\":\n/*!***************************************!*\\\n  !*** ./src/binaryapi/TradingTimes.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-emitter-es6 */ \"./node_modules/event-emitter-es6/index.js\");\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_ServerTime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ServerTime */ \"./src/utils/ServerTime.js\");\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar DaysOfWeek = ['Sundays', 'Mondays', 'Tuesdays', 'Wednesdays', 'Thursdays', 'Fridays', 'Saturdays'];\n\nvar TradingTimes = /*#__PURE__*/function () {\n  _createClass(TradingTimes, null, [{\n    key: \"EVENT_MARKET_OPEN_CLOSE_CHANGE\",\n    get: function get() {\n      return 'EVENT_MARKET_OPEN_CLOSE_CHANGE';\n    }\n  }, {\n    key: \"FEED_UNAVAILABLE\",\n    get: function get() {\n      return 'chartonly';\n    }\n  }]);\n\n  function TradingTimes(api, params) {\n    _classCallCheck(this, TradingTimes);\n\n    this.isInitialized = false;\n    this.tradingTimesPromise = new _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this.timeUpdateCallback = void 0;\n    this._params = params || {};\n    this._shouldFetchTradingTimes = (params === null || params === void 0 ? void 0 : params.shouldFetchTradingTimes) || true;\n    this._api = api;\n    this._serverTime = _utils_ServerTime__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getInstance();\n    this._emitter = new event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default.a({\n      emitDelay: 0\n    });\n  }\n\n  _createClass(TradingTimes, [{\n    key: \"destructor\",\n    value: function destructor() {\n      if (this._updateTimer) {\n        clearTimeout(this._updateTimer);\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value: function () {\n      var _initialize = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var periodicUpdate;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this._serverTime.init(this._api, function () {\n                  if (typeof _this.timeUpdateCallback === 'function') _this.timeUpdateCallback();\n                });\n\n              case 2:\n                if (!this.isInitialized) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", this.tradingTimesPromise);\n\n              case 4:\n                this.isInitialized = true;\n                this.lastUpdateDate = this._serverTime.getLocalDate().toISOString().substring(0, 10);\n\n                if (!(!this._tradingTimesMap && this._shouldFetchTradingTimes)) {\n                  _context2.next = 13;\n                  break;\n                }\n\n                _context2.next = 9;\n                return this._updateTradeTimes();\n\n              case 9:\n                this.tradingTimesPromise.resolve();\n\n                periodicUpdate = /*#__PURE__*/function () {\n                  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                    var changed, nextUpdate, now, nextUpdateDate, isOpenMap, key, _key, waitPeriod;\n\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            changed = _this._updateMarketOpenClosed();\n\n                            if (Object.keys(changed).length > 0) {\n                              _this._emitter.emit(TradingTimes.EVENT_MARKET_OPEN_CLOSE_CHANGE, changed);\n                            }\n\n                            nextUpdate = _this._nextUpdateDate();\n\n                            if (nextUpdate) {\n                              _context.next = 14;\n                              break;\n                            }\n\n                            now = _this._serverTime.getLocalDate(); // Get tomorrow's date (UTC) and set it as next update if no nextDate available\n\n                            nextUpdateDate = new Date(\"\".concat(_this.lastUpdateDate, \"T00:00:00Z\"));\n                            nextUpdateDate.setDate(nextUpdateDate.getDate() + 1); // if somehow the next update date is in the past, use the current date\n\n                            _this.lastUpdateDate = (now > nextUpdateDate ? now : nextUpdateDate).toISOString().substring(0, 10); // Retain the current market open close status, because the trade times\n                            // will now be the following day:\n\n                            isOpenMap = {};\n\n                            for (key in _this._tradingTimesMap) {\n                              isOpenMap[key] = _this._tradingTimesMap[key].isOpened;\n                            }\n\n                            _context.next = 12;\n                            return _this._updateTradeTimes();\n\n                          case 12:\n                            for (_key in _this._tradingTimesMap) {\n                              _this._tradingTimesMap[_key].isOpened = isOpenMap[_key];\n                            } // next update date will be 00:00 hours (UTC) of the following day:\n\n\n                            nextUpdate = nextUpdateDate;\n\n                          case 14:\n                            waitPeriod = nextUpdate - _this._serverTime.getLocalDate();\n                            _this._updateTimer = setTimeout(periodicUpdate, waitPeriod);\n\n                          case 16:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function periodicUpdate() {\n                    return _ref.apply(this, arguments);\n                  };\n                }();\n\n                _context2.next = 13;\n                return periodicUpdate();\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function initialize() {\n        return _initialize.apply(this, arguments);\n      }\n\n      return initialize;\n    }()\n  }, {\n    key: \"_updateMarketOpenClosed\",\n    value: function _updateMarketOpenClosed() {\n      var changed = {};\n\n      for (var symbol in this._tradingTimesMap) {\n        var isOpened = this._calcIsMarketOpened(symbol);\n\n        if (this._tradingTimesMap[symbol].isOpened !== isOpened) {\n          this._tradingTimesMap[symbol].isOpened = isOpened;\n          changed[symbol] = isOpened;\n        }\n      }\n\n      return changed;\n    }\n  }, {\n    key: \"_updateTradeTimes\",\n    value: function () {\n      var _updateTradeTimes2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var _this2 = this;\n\n        var response, _response, error, now, dateStr, getUTCDate, markets, _iterator, _step, market, submarkets, _iterator2, _step2, submarket, symbols, _iterator3, _step3, _loop;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                response = {};\n\n                if (!(!this._tradingTimesMap && this._params.initialData)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                response = this._params.initialData;\n                _context3.next = 13;\n                break;\n\n              case 5:\n                if (!(this._params.enable !== false)) {\n                  _context3.next = 11;\n                  break;\n                }\n\n                _context3.next = 8;\n                return this._api.getTradingTimes(this.lastUpdateDate);\n\n              case 8:\n                response = _context3.sent;\n                _context3.next = 13;\n                break;\n\n              case 11:\n                console.error('TradingTimes feed is not enable nor has initial data!');\n                return _context3.abrupt(\"return\");\n\n              case 13:\n                if (!response.error) {\n                  _context3.next = 17;\n                  break;\n                }\n\n                _response = response, error = _response.error;\n                console.error(\"Error getting trading times on \".concat(this.lastUpdateDate, \": [\").concat(error.code, \"] \\\"\").concat(error.message, \"\\\"\"));\n                return _context3.abrupt(\"return\");\n\n              case 17:\n                this._tradingTimesMap = {};\n                now = this._serverTime.getLocalDate();\n                dateStr = now.toISOString().substring(0, 11);\n\n                getUTCDate = function getUTCDate(hour) {\n                  return new Date(\"\".concat(dateStr).concat(hour, \"Z\"));\n                };\n\n                markets = response.trading_times.markets;\n                _iterator = _createForOfIteratorHelper(markets);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    market = _step.value;\n                    submarkets = market.submarkets;\n                    _iterator2 = _createForOfIteratorHelper(submarkets);\n\n                    try {\n                      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                        submarket = _step2.value;\n                        symbols = submarket.symbols;\n                        _iterator3 = _createForOfIteratorHelper(symbols);\n\n                        try {\n                          _loop = function _loop() {\n                            var symbolObj = _step3.value;\n                            var events = symbolObj.events,\n                                times = symbolObj.times,\n                                symbol = symbolObj.symbol,\n                                feed_license = symbolObj.feed_license,\n                                delay_amount = symbolObj.delay_amount;\n                            var open = times.open,\n                                close = times.close;\n                            var isClosedToday = false;\n                            var holidays = [];\n                            var closes_early = [];\n                            var opens_late = [];\n                            events.map(function (event) {\n                              return event.dates.includes(',') ? event.dates.split(',').map(function (date) {\n                                return {\n                                  date: date.trim(),\n                                  description: event.descrip\n                                };\n                              }) : [{\n                                date: event.dates,\n                                description: event.descrip\n                              }];\n                            }).reduce(function (ary, item) {\n                              return ary.concat(item);\n                            }, []).forEach(function (event) {\n                              var lower_description = event.description.toLowerCase(); // Open Late\n\n                              if (/^opens late \\(at (\\d{1,2}:\\d{1,2})\\)$/gm.test(event.description.toLowerCase())) {\n                                var event_hour = \"\".concat(lower_description.replace('opens late (at ', '').replace(')', ''), \":00\");\n                                var event_date = event.date === 'today' || event.date === DaysOfWeek[now.getDay()] ? dateStr.substring(0, 10) : event.date;\n                                opens_late.push({\n                                  date: event_date,\n                                  open: new Date(\"\".concat(event_date, \"T\").concat(event_hour, \"Z\")),\n                                  close: new Date(\"\".concat(event_date, \"T\").concat(close[0], \"Z\"))\n                                }); // Close early\n                              } else if (/^closes early \\(at (\\d{1,2}:\\d{1,2})\\)$/gm.test(lower_description)) {\n                                var _event_hour = \"\".concat(lower_description.replace('closes early (at ', '').replace(')', ''), \":00\");\n\n                                var _event_date = event.date === 'today' || event.date === DaysOfWeek[now.getDay()] ? dateStr.substring(0, 10) : event.date;\n\n                                closes_early.push({\n                                  date: _event_date,\n                                  open: new Date(\"\".concat(_event_date, \"T\").concat(open[0], \"Z\")),\n                                  close: new Date(\"\".concat(_event_date, \"T\").concat(_event_hour, \"Z\"))\n                                }); // Special date\n                              } else if (/^\\d{4}-\\d{2}-\\d{2}$/.test(event.date)) {\n                                holidays.push(event.date);\n                              } else if (event.date === 'today') {\n                                isClosedToday = true;\n                              }\n                            });\n\n                            var _times = void 0;\n\n                            var isOpenAllDay = open.length === 1 && open[0] === '00:00:00' && close[0] === '23:59:59';\n                            var isClosedAllDay = open.length === 1 && open[0] === '--' && close[0] === '--';\n\n                            if (!isOpenAllDay && !isClosedAllDay) {\n                              _times = open.map(function (openTime, idx) {\n                                return {\n                                  open: getUTCDate(openTime),\n                                  close: getUTCDate(close[idx])\n                                };\n                              });\n                            }\n\n                            _this2._tradingTimesMap[symbol] = {\n                              feed_license: feed_license,\n                              isClosedToday: isClosedToday,\n                              holidays: holidays,\n                              closes_early: closes_early,\n                              opens_late: opens_late,\n                              delay_amount: delay_amount || 0,\n                              times: _times,\n                              isOpenAllDay: isOpenAllDay,\n                              isClosedAllDay: isClosedAllDay\n                            };\n                          };\n\n                          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                            _loop();\n                          }\n                        } catch (err) {\n                          _iterator3.e(err);\n                        } finally {\n                          _iterator3.f();\n                        }\n                      }\n                    } catch (err) {\n                      _iterator2.e(err);\n                    } finally {\n                      _iterator2.f();\n                    }\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n              case 24:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _updateTradeTimes() {\n        return _updateTradeTimes2.apply(this, arguments);\n      }\n\n      return _updateTradeTimes;\n    }()\n  }, {\n    key: \"isFeedUnavailable\",\n    value: function isFeedUnavailable(symbol) {\n      if (!this._tradingTimesMap) {\n        return;\n      }\n\n      if (!(symbol in this._tradingTimesMap)) {\n        console.error('Symbol not in _tradingTimesMap:', symbol, ' trading map:', this._tradingTimesMap);\n        return false;\n      }\n\n      return this._tradingTimesMap[symbol].feed_license === TradingTimes.FEED_UNAVAILABLE;\n    }\n  }, {\n    key: \"getDelayedMinutes\",\n    value: function getDelayedMinutes(symbol) {\n      return this._tradingTimesMap[symbol].delay_amount;\n    }\n  }, {\n    key: \"isMarketOpened\",\n    value: function isMarketOpened(symbol) {\n      if (!this._tradingTimesMap) {\n        return;\n      }\n\n      if (!(symbol in this._tradingTimesMap)) {\n        console.error('Symbol not in _tradingTimesMap:', symbol, ' trading map:', this._tradingTimesMap);\n        return false;\n      }\n\n      return this._tradingTimesMap[symbol].isOpened;\n    }\n  }, {\n    key: \"_calcIsMarketOpened\",\n    value: function _calcIsMarketOpened(symbol) {\n      var now = this._serverTime.getLocalDate();\n\n      var dateStr = now.toISOString().substring(0, 10);\n      var _this$_tradingTimesMa = this._tradingTimesMap[symbol],\n          times = _this$_tradingTimesMa.times,\n          feed_license = _this$_tradingTimesMa.feed_license,\n          isOpenAllDay = _this$_tradingTimesMa.isOpenAllDay,\n          isClosedAllDay = _this$_tradingTimesMa.isClosedAllDay,\n          holidays = _this$_tradingTimesMa.holidays,\n          closes_early = _this$_tradingTimesMa.closes_early,\n          opens_late = _this$_tradingTimesMa.opens_late,\n          isClosedToday = _this$_tradingTimesMa.isClosedToday;\n\n      if (isClosedAllDay || feed_license === TradingTimes.FEED_UNAVAILABLE || isClosedToday || holidays.includes(dateStr)) {\n        return false;\n      }\n\n      var opens_late_date = opens_late.find(function (event) {\n        return event.date === dateStr;\n      });\n\n      if (opens_late_date) {\n        var open = opens_late_date.open,\n            close = opens_late_date.close;\n        return !!(now >= open && now < close);\n      }\n\n      var closes_early_date = closes_early.find(function (event) {\n        return event.date === dateStr;\n      });\n\n      if (closes_early_date) {\n        var _open = closes_early_date.open,\n            _close = closes_early_date.close;\n        return !!(now >= _open && now < _close);\n      }\n\n      if (isOpenAllDay) return true;\n\n      var _iterator4 = _createForOfIteratorHelper(times),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var session = _step4.value;\n          var _open2 = session.open,\n              _close2 = session.close;\n\n          if (now >= _open2 && now < _close2) {\n            return true;\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_nextUpdateDate\",\n    value: function _nextUpdateDate() {\n      var now = this._serverTime.getLocalDate();\n\n      var nextDate;\n\n      for (var key in this._tradingTimesMap) {\n        var _this$_tradingTimesMa2 = this._tradingTimesMap[key],\n            times = _this$_tradingTimesMa2.times,\n            feed_license = _this$_tradingTimesMa2.feed_license,\n            isOpenAllDay = _this$_tradingTimesMa2.isOpenAllDay,\n            isClosedAllDay = _this$_tradingTimesMa2.isClosedAllDay;\n        if (isOpenAllDay || isClosedAllDay || feed_license === TradingTimes.FEED_UNAVAILABLE) continue;\n\n        var _iterator5 = _createForOfIteratorHelper(times),\n            _step5;\n\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var session = _step5.value;\n            var open = session.open,\n                close = session.close;\n\n            if (open > now && (!nextDate || open < nextDate)) {\n              nextDate = open;\n            }\n\n            if (close > now && (!nextDate || close < nextDate)) {\n              nextDate = close;\n            }\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n      }\n\n      return nextDate;\n    }\n  }, {\n    key: \"onMarketOpenCloseChanged\",\n    value: function onMarketOpenCloseChanged(callback) {\n      this._emitter.on(TradingTimes.EVENT_MARKET_OPEN_CLOSE_CHANGE, callback);\n    }\n  }, {\n    key: \"onTimeChanged\",\n    value: function onTimeChanged(callback) {\n      this.timeUpdateCallback = callback;\n    }\n  }]);\n\n  return TradingTimes;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TradingTimes);\n\n/***/ }),\n\n/***/ \"./src/binaryapi/index.js\":\n/*!********************************!*\\\n  !*** ./src/binaryapi/index.js ***!\n  \\********************************/\n/*! exports provided: ActiveSymbols, TradingTimes, BinaryAPI */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ActiveSymbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActiveSymbols */ \"./src/binaryapi/ActiveSymbols.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ActiveSymbols\", function() { return _ActiveSymbols__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _TradingTimes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TradingTimes */ \"./src/binaryapi/TradingTimes.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TradingTimes\", function() { return _TradingTimes__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _BinaryAPI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BinaryAPI */ \"./src/binaryapi/BinaryAPI.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BinaryAPI\", function() { return _BinaryAPI__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/backingStore.js\":\n/*!************************************************!*\\\n  !*** ./src/chartiq_injections/backingStore.js ***!\n  \\************************************************/\n/*! exports provided: BackingStore */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackingStore\", function() { return BackingStore; });\nvar BackingStore = function BackingStore() {\n  CIQ.ChartEngine.prototype.disableBackingStore = function () {\n    if (!this.useBackingStore) return;\n    var canvases = [this.chart.canvas];\n    if (this.useBackgroundCanvas) canvases.push(this.chart.backgroundCanvas);\n    var backing = this.backing;\n    canvases.forEach(function (canvas) {\n      if (backing) {\n        if (canvas.width === backing.styleWidth) return;\n        canvas.width = backing.styleWidth;\n        canvas.height = backing.styleHeight;\n      }\n\n      canvas.context.scale(1, 1);\n    });\n    this.adjustedDisplayPixelRatio = 1;\n    this.draw();\n  };\n\n  CIQ.ChartEngine.prototype.reconstituteBackingStore = function () {\n    // Added check for backing\n    if (!this.useBackingStore || !this.backing) return;\n    var canvases = [this.chart.canvas];\n    if (this.useBackgroundCanvas) canvases.push(this.chart.backgroundCanvas);\n    var backing = this.backing;\n    canvases.forEach(function (canvas) {\n      if (canvas.width === backing.width) return;\n      canvas.width = backing.width;\n      canvas.height = backing.height;\n      canvas.context.scale(backing.ratio, backing.ratio);\n    });\n    this.adjustedDisplayPixelRatio = backing.ratio;\n    this.draw();\n  };\n};\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/createXAxis.js\":\n/*!***********************************************!*\\\n  !*** ./src/chartiq_injections/createXAxis.js ***!\n  \\***********************************************/\n/*! exports provided: createXAxis */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createXAxis\", function() { return createXAxis; });\nvar createXAxis = function createXAxis() {\n  CIQ.ChartEngine.prototype.append('createXAxis', function () {\n    if (this.chart.xaxis && this.chart.xaxis.length && this.chart.xaxis[0].DT) {\n      var first = this.chart.xaxis[0].DT.valueOf();\n      var last = this.chart.xaxis.slice(-1)[0].DT.valueOf();\n      var xAxisInterval = Math.floor((last - first) / 5000);\n      xAxisInterval = xAxisInterval > 5 ? xAxisInterval - xAxisInterval % 5 : xAxisInterval;\n      this.chart.xAxis.timeUnitMultiplier = xAxisInterval < 100 ? xAxisInterval : 1;\n      this.chart.xAxis.timeUnit = xAxisInterval < 100 ? CIQ.SECOND : undefined;\n    }\n  });\n};\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/currentHR.js\":\n/*!*********************************************!*\\\n  !*** ./src/chartiq_injections/currentHR.js ***!\n  \\*********************************************/\n/*! exports provided: drawCurrentPriceLine */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawCurrentPriceLine\", function() { return drawCurrentPriceLine; });\n/* eslint-disable */\nvar drawCurrentPriceLine = function drawCurrentPriceLine() {\n  CIQ.ChartEngine.prototype.drawCurrentHR = function () {\n    if (this.runPrepend('drawCurrentHR', arguments)) return;\n    this.labelType = 'currentSpot';\n    this.yaxisLabelStyle = 'roundRectArrow';\n    var backgroundColor, color;\n    var mainSeriesRenderer = this.mainSeriesRenderer || {};\n    if (mainSeriesRenderer.noCurrentHR) return;\n    var highLowBars = mainSeriesRenderer.highLowBars;\n\n    for (var chartName in this.charts) {\n      var chart = this.charts[chartName];\n      var panel = chart.panel;\n      var yAxis = panel.yAxis;\n      if (panel.hidden) continue;\n      if (yAxis.drawCurrentPriceLabel === false || yAxis.noDraw) continue;\n      if (!mainSeriesRenderer.params) continue;\n      var whichSet = yAxis.whichSet;\n      if (!whichSet) whichSet = 'dataSet';\n      if (this.isHistoricalModeSet && whichSet !== 'dataSegment') continue;\n      var l = chart[whichSet].length,\n          cw = this.layout.candleWidth;\n\n      if (whichSet == 'dataSegment') {\n        //this crazy equation just to find the last bar displaying at least 50% on the screen\n        while (l > (chart.width - this.micropixels + cw / 2 + 1) / cw) {\n          l--;\n        }\n      }\n\n      if (l && chart[whichSet][l - 1]) {\n        var field = chart.defaultPlotField;\n        if (!field || highLowBars) field = 'Close';\n        var prevClose, currentClose;\n\n        do {\n          prevClose = chart[whichSet][--l][field];\n          currentClose = prevClose;\n          if (l === 0) break;\n        } while (currentClose === null || currentClose === undefined);\n\n        if (whichSet == 'dataSet' && chart.currentQuote) {\n          currentClose = chart.currentQuote[field];\n        } else if (chart[whichSet].length >= 2) {\n          var pquote = chart[whichSet][l - 1];\n          if (pquote) prevClose = pquote[field];\n        }\n\n        var currentQuote = this.getNearestCloseQuote();\n\n        if (!currentClose) {\n          currentClose = currentQuote[field];\n        }\n\n        if (currentClose < prevClose) {\n          backgroundColor = this.canvasStyle('stx_current_hr_down').backgroundColor;\n          color = this.canvasStyle('stx_current_hr_down').color;\n        } else {\n          backgroundColor = this.canvasStyle('stx_current_hr_up').backgroundColor;\n          color = this.canvasStyle('stx_current_hr_up').color;\n        }\n\n        if (chart.transformFunc) currentClose = chart.transformFunc(this, chart, currentClose);\n        var txt; // If a chart panel, then always display at least the number of decimal places as calculated by masterData (panel.chart.decimalPlaces)\n        // but if we are zoomed to high granularity then expand all the way out to the y-axis significant digits (panel.yAxis.printDecimalPlaces)\n\n        var labelDecimalPlaces = Math.max(panel.yAxis.printDecimalPlaces, panel.chart.decimalPlaces); //  ... and never display more decimal places than the symbol is supposed to be quoting at\n\n        if (yAxis.maxDecimalPlaces || yAxis.maxDecimalPlaces === 0) labelDecimalPlaces = Math.min(labelDecimalPlaces, yAxis.maxDecimalPlaces);\n\n        if (yAxis.priceFormatter) {\n          txt = yAxis.priceFormatter(this, panel, currentClose, labelDecimalPlaces);\n        } else {\n          txt = this.formatYAxisPrice(currentClose, panel, labelDecimalPlaces);\n        }\n\n        var y = this.pixelFromTransformedValue(currentClose, panel); // Keep current price label position fot later when we want to show countdown\n\n        chart.currentPriceLabelY = y;\n        this.createYAxisLabel(panel, txt, y, backgroundColor, color);\n        var x = panel.left;\n        var endOfLine = panel.right;\n\n        if (currentQuote) {\n          var tick = currentQuote.Close ? currentQuote.tick : currentQuote.tick - 1; // Change the panel position to current spot position for drawing current price line\n\n          x = this.pixelFromTick(tick, chart) + (chart.lastTickOffset || 0);\n          endOfLine -= this.chart.context.measureText(txt).width * 0.4; // Draw the chart from the current spot to the beginning of the price label\n        }\n\n        endOfLine += 24; // we move the \"x\" psoition forward by 24 on createYAxisLabel in chartStore.js\n\n        if (this.preferences.currentPriceLine === true && this.isHome()) {\n          this.plotLine(x, endOfLine, y, y, backgroundColor, 'segment', panel.chart.context, panel, {\n            pattern: 'dashed',\n            lineWidth: 1,\n            opacity: 0.8,\n            globalCompositeOperation: 'destination-over'\n          });\n        }\n      }\n    }\n\n    this.yaxisLabelStyle = 'roundRect';\n    this.labelType = undefined;\n    this.runAppend('drawCurrentHR', arguments);\n  };\n};\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/headsUpHR.js\":\n/*!*********************************************!*\\\n  !*** ./src/chartiq_injections/headsUpHR.js ***!\n  \\*********************************************/\n/*! exports provided: maintainHeadsUpHR */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"maintainHeadsUpHR\", function() { return maintainHeadsUpHR; });\nvar maintainHeadsUpHR = function maintainHeadsUpHR() {\n  CIQ.ChartEngine.prototype.prepend('headsUpHR', function () {\n    if (this.currentPanel) {\n      this.labelType = 'crosshair';\n    }\n  });\n  CIQ.ChartEngine.prototype.append('headsUpHR', function () {\n    this.labelType = undefined;\n  });\n};\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/index.js\":\n/*!*****************************************!*\\\n  !*** ./src/chartiq_injections/index.js ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _createXAxis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createXAxis */ \"./src/chartiq_injections/createXAxis.js\");\n/* harmony import */ var _currentHR__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./currentHR */ \"./src/chartiq_injections/currentHR.js\");\n/* harmony import */ var _headsUpHR__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./headsUpHR */ \"./src/chartiq_injections/headsUpHR.js\");\n/* harmony import */ var _plotterDrawText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./plotterDrawText */ \"./src/chartiq_injections/plotterDrawText.js\");\n/* harmony import */ var _setMeasure__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./setMeasure */ \"./src/chartiq_injections/setMeasure.js\");\n/* harmony import */ var _backingStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./backingStore */ \"./src/chartiq_injections/backingStore.js\");\n\n\n // import { manageMasterDataLength } from './manageMasterDataLength';\n\n\n\n\n\nvar inject = function inject(option) {\n  Object(_createXAxis__WEBPACK_IMPORTED_MODULE_0__[\"createXAxis\"])();\n  Object(_currentHR__WEBPACK_IMPORTED_MODULE_1__[\"drawCurrentPriceLine\"])();\n  Object(_headsUpHR__WEBPACK_IMPORTED_MODULE_2__[\"maintainHeadsUpHR\"])(); // manageMasterDataLength();\n\n  Object(_plotterDrawText__WEBPACK_IMPORTED_MODULE_3__[\"plotterDrawText\"])();\n  Object(_setMeasure__WEBPACK_IMPORTED_MODULE_4__[\"overideMeasure\"])(option);\n  Object(_backingStore__WEBPACK_IMPORTED_MODULE_5__[\"BackingStore\"])();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (inject);\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/plotterDrawText.js\":\n/*!***************************************************!*\\\n  !*** ./src/chartiq_injections/plotterDrawText.js ***!\n  \\***************************************************/\n/*! exports provided: plotterDrawText */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"plotterDrawText\", function() { return plotterDrawText; });\nvar plotterDrawText = function plotterDrawText() {\n  // Plotter.drawTex duty is to write y-axis labels,which located in the Plotter\n  // as there isn't any option to make y-axis text align center, and also there\n  // isn't any injection for drawText, we have to do a monkey patching for handling\n  // this issue\n  CIQ.Plotter.prototype.drawText = function (context, series) {\n    for (var i = 0; i < series.text.length; i++) {\n      var textObj = series.text[i];\n      var w = textObj.width ? textObj.width : context.measureText(textObj.text).width;\n      var offset = this.getYAxisWidth() ? (this.getYAxisWidth() - w) / 2 : 0;\n\n      if (textObj.bg) {\n        var h = textObj.height ? textObj.height : 12;\n        var prev = context.fillStyle;\n        context.fillStyle = textObj.bg;\n\n        if (context.textAlign === 'right') {\n          context.fillRect(textObj.x, textObj.y - h / 2, -w, -h);\n        } else {\n          context.fillRect(textObj.x, textObj.y - h / 2, w, h);\n        }\n\n        context.fillStyle = prev;\n      }\n\n      context.fillText(textObj.text, textObj.x + offset, textObj.y);\n    }\n  };\n};\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/setMeasure.js\":\n/*!**********************************************!*\\\n  !*** ./src/chartiq_injections/setMeasure.js ***!\n  \\**********************************************/\n/*! exports provided: overideMeasure */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"overideMeasure\", function() { return overideMeasure; });\nvar overideMeasure = function overideMeasure(option) {\n  CIQ.ChartEngine.prototype.append('setMeasure', function (price1, price2, tick1, tick2, hover) {\n    var m = (this.drawingContainer || document).querySelector('.mMeasure');\n    var message = '';\n\n    if (!price1 && price1 !== 0) {\n      if (!this.anyHighlighted && this.currentVectorParameters.vectorType === '') this.clearMeasure();\n    } else {\n      if (price2 !== false) {\n        var distance = Math.round(Math.abs(price1 - price2) * this.chart.roundit) / this.chart.roundit;\n        distance = distance.toFixed(this.chart.yAxis.printDecimalPlaces);\n\n        if (this.internationalizer) {\n          message += this.internationalizer.numbers.format(distance);\n        } else {\n          message += distance;\n        }\n\n        var pct;\n\n        if (price1 > 0 && price2 > 0) {\n          pct = (price2 - price1) / price1;\n\n          if (Math.abs(pct) > 0.1) {\n            pct = Math.round(pct * 100);\n          } else if (Math.abs(pct) > 0.01) {\n            pct = Math.round(pct * 1000) / 10;\n          } else {\n            pct = Math.round(pct * 10000) / 100;\n          }\n\n          if (this.internationalizer) {\n            pct = this.internationalizer.percent.format(pct / 100);\n          } else {\n            pct += '%';\n          }\n\n          message += \" (\".concat(pct, \")\");\n        }\n      }\n\n      if (tick2 !== false) {\n        var ticks = Math.abs(tick2 - tick1);\n        ticks = Math.round(ticks) + 1;\n        var barsStr = this.translateIf('Bars');\n        message += \" (\".concat(ticks, \" \").concat(barsStr, \")\");\n      }\n\n      if (m) m.innerHTML = message;\n    }\n\n    if (this.activeDrawing) return; // Don't show measurement Sticky when in the process of drawing\n\n    m = this.controls.mSticky;\n\n    if (m) {\n      var mStickyInterior = m.querySelector('.mStickyInterior');\n\n      if (hover) {\n        m.style.display = 'inline-block';\n        mStickyInterior.style.display = 'inline-block';\n\n        if (price1 || price1 === 0) {\n          mStickyInterior.innerHTML = message;\n        }\n\n        m.classList[message === '' ? 'add' : 'remove']('hide');\n        this.positionSticky(m);\n      } else {\n        m.style.display = 'none';\n        mStickyInterior.innerHTML = '';\n      }\n    }\n  });\n\n  CIQ.Drawing.BaseTwoPoint.prototype.measure = function () {\n    if (this.p0 && this.p1) {\n      this.stx.setMeasure(this.p0[1], this.p1[1], this.p0[0], this.p1[0], true, this.name);\n      var mSticky = this.stx.controls.mSticky;\n      var mStickyInterior = mSticky && mSticky.querySelector('.mStickyInterior');\n\n      if (mStickyInterior) {\n        var lines = [];\n        var title = CIQ.capitalize(this.name);\n\n        if (option.drawToolsStore) {\n          var drawingItem = option.drawToolsStore.findComputedDrawing(this);\n\n          if (drawingItem) {\n            title = \"\".concat(drawingItem.prefix ? \"\".concat(drawingItem.prefix, \" - \") : '', \" \").concat(t.translate(drawingItem.text, {\n              num: drawingItem.num || ' '\n            }));\n          }\n        }\n\n        lines.push(title);\n        if (this.getYValue) lines.push(this.field || this.stx.defaultPlotField || 'Close');\n        lines.push(mStickyInterior.innerHTML);\n        mStickyInterior.innerHTML = lines.join(' ');\n      }\n    }\n  };\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/AnimatedPrice.jsx\":\n/*!******************************************!*\\\n  !*** ./src/components/AnimatedPrice.jsx ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar AnimatedPrice = function AnimatedPrice(_ref) {\n  var isIncrease = _ref.isIncrease,\n      price = _ref.price,\n      className = _ref.className;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, !price && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-comparison-loader stx-show\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('cq-animated-price', className, {\n      'cq-up': isIncrease,\n      'cq-down': !isIncrease\n    })\n  }, price));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AnimatedPrice);\n\n/***/ }),\n\n/***/ \"./src/components/Barrier.jsx\":\n/*!************************************!*\\\n  !*** ./src/components/Barrier.jsx ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _store_BarrierStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/BarrierStore */ \"./src/store/BarrierStore.js\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\nvar Barrier = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref) {\n  var _ref$shadeColor = _ref.shadeColor,\n      shadeColor = _ref$shadeColor === void 0 ? '#39b19d' : _ref$shadeColor,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? '#39b19d' : _ref$color,\n      _ref$foregroundColor = _ref.foregroundColor,\n      foregroundColor = _ref$foregroundColor === void 0 ? '#ffffff' : _ref$foregroundColor,\n      HighPriceLine = _ref.HighPriceLine,\n      LowPriceLine = _ref.LowPriceLine,\n      AboveShade = _ref.AboveShade,\n      BetweenShade = _ref.BetweenShade,\n      BelowShade = _ref.BelowShade,\n      hidePriceLines = _ref.hidePriceLines,\n      lineStyle = _ref.lineStyle,\n      isInitialized = _ref.isInitialized,\n      priceLabelWidth = _ref.priceLabelWidth,\n      isSingleBarrier = _ref.isSingleBarrier,\n      props = _objectWithoutProperties(_ref, [\"shadeColor\", \"color\", \"foregroundColor\", \"HighPriceLine\", \"LowPriceLine\", \"AboveShade\", \"BetweenShade\", \"BelowShade\", \"hidePriceLines\", \"lineStyle\", \"isInitialized\", \"priceLabelWidth\", \"isSingleBarrier\"]);\n\n  return isInitialized && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('barrier', {\n      'hide-pricelines': hidePriceLines\n    }),\n    style: {\n      '--shade-color': shadeColor\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HighPriceLine, _extends({\n    width: priceLabelWidth,\n    lineStyle: lineStyle,\n    color: color,\n    foregroundColor: foregroundColor\n  }, props)), !isSingleBarrier && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LowPriceLine, _extends({\n    width: priceLabelWidth,\n    lineStyle: lineStyle,\n    color: color,\n    foregroundColor: foregroundColor\n  }, props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AboveShade, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BetweenShade, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BelowShade, null)));\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (store) {\n  return {\n    HighPriceLine: store.HighPriceLine,\n    LowPriceLine: store.LowPriceLine,\n    AboveShade: store.AboveShade,\n    BetweenShade: store.BetweenShade,\n    BelowShade: store.BelowShade,\n    shadeColor: store.shadeColor,\n    color: store.color,\n    foregroundColor: store.foregroundColor,\n    hideBarrierLine: store.hideBarrierLine,\n    hideOffscreenBarrier: store.hideOffscreenBarrier,\n    hideOffscreenLine: store.hideOffscreenLine,\n    hidePriceLines: store.hidePriceLines,\n    lineStyle: store.lineStyle,\n    isInitialized: store.isInitialized,\n    destructor: store.destructor,\n    priceLabelWidth: store.priceLabelWidth,\n    title: store.title,\n    isSingleBarrier: store.isSingleBarrier,\n    opacityOnOverlap: store.opacityOnOverlap\n  };\n}, _store_BarrierStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Barrier));\n\n/***/ }),\n\n/***/ \"./src/components/BottomWidget.jsx\":\n/*!*****************************************!*\\\n  !*** ./src/components/BottomWidget.jsx ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _LastDigitStats_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LastDigitStats.jsx */ \"./src/components/LastDigitStats.jsx\");\n\n\n\n\n\nvar BottomWidget = function BottomWidget(_ref) {\n  var bottomWidgets = _ref.bottomWidgets,\n      showLastDigitStats = _ref.showLastDigitStats,\n      digits = _ref.digits,\n      lastTick = _ref.lastTick;\n  var Widget = !bottomWidgets && showLastDigitStats ? _LastDigitStats_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"] : bottomWidgets;\n  return Widget ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Widget, {\n    digits: digits,\n    tick: Object(mobx__WEBPACK_IMPORTED_MODULE_1__[\"toJS\"])(lastTick)\n  }) : null;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var state = _ref2.state,\n      lastDigitStats = _ref2.lastDigitStats;\n  return {\n    showLastDigitStats: state.showLastDigitStats,\n    digits: lastDigitStats.digits,\n    lastTick: lastDigitStats.lastTick\n  };\n})(BottomWidget));\n\n/***/ }),\n\n/***/ \"./src/components/BottomWidgetsContainer.jsx\":\n/*!***************************************************!*\\\n  !*** ./src/components/BottomWidgetsContainer.jsx ***!\n  \\***************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_bottom_widget_container_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_bottom-widget-container.scss */ \"./sass/components/_bottom-widget-container.scss\");\n/* harmony import */ var _sass_components_bottom_widget_container_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_bottom_widget_container_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar BottomWidgetsContainer = function BottomWidgetsContainer(_ref) {\n  var bottom = _ref.bottom,\n      children = _ref.children,\n      isReadyToShow = _ref.isReadyToShow,\n      top = _ref.top,\n      updateChartMargin = _ref.updateChartMargin;\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    var component = react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.only(children);\n    updateChartMargin(!!(component && component.props.bottomWidgets));\n  }, [children, updateChartMargin]);\n\n  if (!isReadyToShow) {\n    return null;\n  }\n\n  var styles = {\n    top: top,\n    bottom: bottom\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-bottom-ui-widgets\",\n    style: styles\n  }, children);\n};\n\nBottomWidgetsContainer.propTypes = {\n  bottom: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  isReadyToShow: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n  top: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  updateChartMargin: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired\n};\nBottomWidgetsContainer.defaultProps = {\n  bottom: 0,\n  isReadyToShow: false,\n  top: 0\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var store = _ref2.bottomWidgetsContainer;\n  return {\n    bottom: store.bottom,\n    isReadyToShow: store.isReadyToShow,\n    top: store.top,\n    updateChartMargin: store.updateChartMargin\n  };\n})(BottomWidgetsContainer));\n\n/***/ }),\n\n/***/ \"./src/components/Chart.jsx\":\n/*!**********************************!*\\\n  !*** ./src/components/Chart.jsx ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _RenderInsideChart_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RenderInsideChart.jsx */ \"./src/components/RenderInsideChart.jsx\");\n/* harmony import */ var _ChartTitle_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChartTitle.jsx */ \"./src/components/ChartTitle.jsx\");\n/* harmony import */ var _Loader_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Loader.jsx */ \"./src/components/Loader.jsx\");\n/* harmony import */ var _Barrier_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Barrier.jsx */ \"./src/components/Barrier.jsx\");\n/* harmony import */ var _BottomWidget_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BottomWidget.jsx */ \"./src/components/BottomWidget.jsx\");\n/* harmony import */ var _BottomWidgetsContainer_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BottomWidgetsContainer.jsx */ \"./src/components/BottomWidgetsContainer.jsx\");\n/* harmony import */ var _NavigationWidget_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./NavigationWidget.jsx */ \"./src/components/NavigationWidget.jsx\");\n/* harmony import */ var _HighestLowestMarker_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./HighestLowestMarker.jsx */ \"./src/components/HighestLowestMarker.jsx\");\n/* harmony import */ var _sass_main_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../sass/main.scss */ \"./sass/main.scss\");\n/* harmony import */ var _sass_main_scss__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_sass_main_scss__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react_tabs_style_react_tabs_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-tabs/style/react-tabs.css */ \"./node_modules/react-tabs/style/react-tabs.css\");\n/* harmony import */ var react_tabs_style_react_tabs_css__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_tabs_style_react_tabs_css__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ui */ \"./src/components/ui/index.js\");\n/* harmony import */ var _ChartControls_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ChartControls.jsx */ \"./src/components/ChartControls.jsx\");\n/* harmony import */ var _ChartFooter_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ChartFooter.jsx */ \"./src/components/ChartFooter.jsx\");\n/* harmony import */ var _Crosshair_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Crosshair.jsx */ \"./src/components/Crosshair.jsx\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\n/* harmony import */ var _PaginationLoader_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./PaginationLoader.jsx */ \"./src/components/PaginationLoader.jsx\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\n\n\n\n\n\n\n/* css + scss */\n\n\n\n\n\n\n\n\n\n\n\nvar Chart = function Chart(props) {\n  var _classNames2;\n\n  var rootRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef();\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    var updateProps = props.updateProps,\n        init = props.init,\n        otherProps = _objectWithoutProperties(props, [\"updateProps\", \"init\"]);\n\n    Object(_utils_ga__WEBPACK_IMPORTED_MODULE_17__[\"initGA\"])();\n    Object(_utils_ga__WEBPACK_IMPORTED_MODULE_17__[\"logPageView\"])();\n    updateProps(otherProps);\n    init(rootRef.current, otherProps);\n    return function () {\n      props.destroy();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    var updateProps = props.updateProps,\n        init = props.init,\n        otherProps = _objectWithoutProperties(props, [\"updateProps\", \"init\"]);\n\n    updateProps(otherProps);\n  });\n\n  var defaultTopWidgets = function defaultTopWidgets() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartTitle_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null);\n  };\n\n  var id = props.id,\n      chartId = props.chartId,\n      DrawToolsSettingsDialog = props.DrawToolsSettingsDialog,\n      StudySettingsDialog = props.StudySettingsDialog,\n      isCandle = props.isCandle,\n      isSpline = props.isSpline,\n      _props$isMobile = props.isMobile,\n      isMobile = _props$isMobile === void 0 ? false : _props$isMobile,\n      isChartAvailable = props.isChartAvailable,\n      isHighestLowestMarkerEnabled = props.isHighestLowestMarkerEnabled,\n      _props$barriers = props.barriers,\n      barriers = _props$barriers === void 0 ? [] : _props$barriers,\n      children = props.children,\n      chartControlsWidgets = props.chartControlsWidgets,\n      AggregateChartSettingsDialog = props.AggregateChartSettingsDialog,\n      topWidgets = props.topWidgets,\n      chartContainerHeight = props.chartContainerHeight,\n      containerWidth = props.containerWidth,\n      isChartClosed = props.isChartClosed,\n      theme = props.theme,\n      position = props.position,\n      bottomWidgets = props.bottomWidgets,\n      _props$enabledChartFo = props.enabledChartFooter,\n      enabledChartFooter = _props$enabledChartFo === void 0 ? true : _props$enabledChartFo,\n      _props$enabledNavigat = props.enabledNavigationWidget,\n      enabledNavigationWidget = _props$enabledNavigat === void 0 ? true : _props$enabledNavigat,\n      toolbarWidget = props.toolbarWidget,\n      onCrosshairChange = props.onCrosshairChange,\n      isLoading = props.isLoading;\n  var hasPosition = chartControlsWidgets && position && !isMobile;\n  var TopWidgets = topWidgets || defaultTopWidgets; // if there are any markers, then increase the subholder z-index\n\n  var ToolbarWidget = toolbarWidget;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    id: id || chartId,\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('smartcharts', \"smartcharts-\".concat(theme), _defineProperty({\n      'smartcharts--navigation-widget': enabledNavigationWidget,\n      'smartcharts--loading': isLoading,\n      'smartcharts--has-markers': children && children.length\n    }, \"smartcharts-\".concat(containerWidth), !isMobile))\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()({\n      'smartcharts-mobile': isMobile,\n      'smartcharts-desktop': !isMobile\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-context\",\n    ref: rootRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()((_classNames2 = {}, _defineProperty(_classNames2, \"cq-chart-control-\".concat(position), hasPosition), _defineProperty(_classNames2, 'cq-chart-control-bottom', !hasPosition), _classNames2))\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-chart-area\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('ciq-chart', {\n      'closed-chart': isChartClosed\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RenderInsideChart_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    at: \"holder\"\n  }, barriers.map(function (barr, idx) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Barrier_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], _extends({\n      key: \"barrier-\".concat(idx) // eslint-disable-line react/no-array-index-key\n\n    }, barr));\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RenderInsideChart_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    at: \"subholder\"\n  }, !isCandle && !isSpline && isHighestLowestMarkerEnabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HighestLowestMarker_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RenderInsideChart_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    at: \"subholder\",\n    hideInScrollToEpoch: true\n  }, children), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RenderInsideChart_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    at: \"subholder\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PaginationLoader_jsx__WEBPACK_IMPORTED_MODULE_18__[\"default\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-top-ui-widgets\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TopWidgets, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"chartContainer\",\n    style: {\n      height: chartContainerHeight\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Crosshair_jsx__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null)), enabledNavigationWidget && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NavigationWidget_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    onCrosshairChange: onCrosshairChange\n  }), toolbarWidget && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ToolbarWidget, null), !isChartAvailable && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-chart-unavailable\"\n  }, t.translate('Chart data is not available for this symbol.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_BottomWidgetsContainer_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_BottomWidget_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    bottomWidgets: bottomWidgets\n  }))), chartControlsWidgets !== null && !enabledChartFooter && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartControls_jsx__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    widgets: chartControlsWidgets\n  }), enabledChartFooter && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartFooter_jsx__WEBPACK_IMPORTED_MODULE_14__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Loader_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DrawToolsSettingsDialog, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AggregateChartSettingsDialog, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StudySettingsDialog, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    id: \"smartcharts_modal\",\n    className: \"ciq-modal\"\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_16__[\"connect\"])(function (_ref) {\n  var chart = _ref.chart,\n      drawTools = _ref.drawTools,\n      studies = _ref.studies,\n      chartSetting = _ref.chartSetting,\n      chartType = _ref.chartType,\n      state = _ref.state,\n      loader = _ref.loader;\n  return {\n    chartId: chart.chartId,\n    init: chart.init,\n    destroy: chart.destroy,\n    StudySettingsDialog: studies.StudySettingsDialog,\n    DrawToolsSettingsDialog: drawTools.DrawToolsSettingsDialog,\n    AggregateChartSettingsDialog: chartType.AggregateChartSettingsDialog,\n    isCandle: chartType.isCandle,\n    isChartAvailable: chart.isChartAvailable,\n    isSpline: chartType.isSpline,\n    updateProps: state.updateProps,\n    chartContainerHeight: chart.chartContainerHeight,\n    containerWidth: chart.containerWidth,\n    isChartClosed: state.isChartClosed,\n    theme: chartSetting.theme,\n    position: chartSetting.position,\n    isHighestLowestMarkerEnabled: chartSetting.isHighestLowestMarkerEnabled,\n    isLoading: loader.isActive\n  };\n})(Chart));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ChartControls.jsx\":\n/*!******************************************!*\\\n  !*** ./src/components/ChartControls.jsx ***!\n  \\******************************************/\n/*! exports provided: RenderDefaultControls, default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RenderDefaultControls\", function() { return RenderDefaultControls; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChartTypes.jsx */ \"./src/components/ChartTypes.jsx\");\n/* harmony import */ var _StudyLegend_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StudyLegend.jsx */ \"./src/components/StudyLegend.jsx\");\n/* harmony import */ var _Views_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Views.jsx */ \"./src/components/Views.jsx\");\n/* harmony import */ var _CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CrosshairToggle.jsx */ \"./src/components/CrosshairToggle.jsx\");\n/* harmony import */ var _Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Timeperiod.jsx */ \"./src/components/Timeperiod.jsx\");\n/* harmony import */ var _ChartSize_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ChartSize.jsx */ \"./src/components/ChartSize.jsx\");\n/* harmony import */ var _DrawTools_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DrawTools.jsx */ \"./src/components/DrawTools.jsx\");\n/* harmony import */ var _Share_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Share.jsx */ \"./src/components/Share.jsx\");\n/* harmony import */ var _sass_components_chart_controls_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../sass/components/_chart-controls.scss */ \"./sass/components/_chart-controls.scss\");\n/* harmony import */ var _sass_components_chart_controls_scss__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_sass_components_chart_controls_scss__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\n\nvar RenderDefaultControls = function RenderDefaultControls(_ref) {\n  var isMobile = _ref.isMobile;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, isMobile ? '' : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StudyLegend_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DrawTools_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Views_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Share_jsx__WEBPACK_IMPORTED_MODULE_10__[\"default\"], null), isMobile ? '' : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartSize_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"], null));\n};\n\nvar ChartControls = function ChartControls(_ref2) {\n  var isMobile = _ref2.isMobile,\n      hasOpenMenu = _ref2.hasOpenMenu,\n      widgets = _ref2.widgets,\n      context = _ref2.context;\n  var Controls = widgets || RenderDefaultControls;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('cq-chart-controls', {\n      active: hasOpenMenu\n    })\n  }, context ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Controls, {\n    isMobile: isMobile\n  }) : null);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref3) {\n  var chart = _ref3.chart,\n      chartType = _ref3.chartType,\n      studies = _ref3.studies,\n      drawTools = _ref3.drawTools,\n      view = _ref3.view,\n      share = _ref3.share,\n      timeperiod = _ref3.timeperiod,\n      chartSetting = _ref3.chartSetting;\n  return {\n    isMobile: chart.isMobile,\n    context: chart.context,\n    hasOpenMenu: chartType.menu.open || studies.menu.open || drawTools.menu.open || view.menu.open || share.menu.open || timeperiod.menu.open || chartSetting.menu.open\n  };\n})(ChartControls));\n\n/***/ }),\n\n/***/ \"./src/components/ChartFooter.jsx\":\n/*!****************************************!*\\\n  !*** ./src/components/ChartFooter.jsx ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _Tooltip_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Tooltip.jsx */ \"./src/components/Tooltip.jsx\");\n/* harmony import */ var _ChartSetting_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChartSetting.jsx */ \"./src/components/ChartSetting.jsx\");\n/* harmony import */ var _sass_components_chart_footer_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../sass/components/_chart-footer.scss */ \"./sass/components/_chart-footer.scss\");\n/* harmony import */ var _sass_components_chart_footer_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_sass_components_chart_footer_scss__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nvar ChartFooterNetwork = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref) {\n  var networkStatus = _ref.networkStatus;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Tooltip_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    className: \"sc-chart-footer__item sc-chart-footer__item--status\",\n    content: \"\".concat(t.translate('Network status'), \": \").concat(networkStatus ? t.translate(networkStatus.tooltip) : ''),\n    enabled: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-chart__status sc-chart__status--\".concat(networkStatus ? networkStatus[\"class\"] : 'offline')\n  }));\n});\n\nvar ChartFooter = function ChartFooter(_ref2) {\n  var context = _ref2.context,\n      serverTime = _ref2.serverTime,\n      networkStatus = _ref2.networkStatus,\n      openFullscreen = _ref2.openFullscreen;\n  return context ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-chart-footer\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartFooterNetwork, {\n    networkStatus: networkStatus\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-chart-footer__item sc-chart-footer__item--time\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, serverTime)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-menu ciq-enabled\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n    href: \"https://deriv.com/help-centre/\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-menu-btn\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"HelpCenterIcon\"], null)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartSetting_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-menu ciq-enabled\",\n    onClick: function onClick() {\n      return openFullscreen();\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-menu-btn\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"FullScreenIcon\"], null)))) : null;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref3) {\n  var chart = _ref3.chart;\n  return {\n    context: chart.context,\n    serverTime: chart.serverTime,\n    networkStatus: chart.networkStatus,\n    openFullscreen: chart.openFullscreen\n  };\n})(ChartFooter));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ChartMode.jsx\":\n/*!**************************************!*\\\n  !*** ./src/components/ChartMode.jsx ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChartTypes.jsx */ \"./src/components/ChartTypes.jsx\");\n/* harmony import */ var _Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Timeperiod.jsx */ \"./src/components/Timeperiod.jsx\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_chart_mode_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../sass/components/_chart-mode.scss */ \"./sass/components/_chart-mode.scss\");\n/* harmony import */ var _sass_components_chart_mode_scss__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_sass_components_chart_mode_scss__WEBPACK_IMPORTED_MODULE_6__);\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n\n\n\n\n\n\nvar TypeMap = {\n  mountain: _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"TypeAreaGrayscaleIcon\"],\n  candle: _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"TypeCandleGrayscaleIcon\"],\n  colored_bar: _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"TypeOhlcGrayscaleIcon\"],\n  hollow_candle: _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"TypeHollowGrayscaleIcon\"]\n};\n\nvar ChartMode = function ChartMode(_ref) {\n  var ChartTypeMenu = _ref.ChartTypeMenu,\n      menuOpen = _ref.menuOpen,\n      onChartType = _ref.onChartType,\n      onGranularity = _ref.onGranularity,\n      Type = _ref.Type,\n      displayInterval = _ref.displayInterval,\n      portalNodeId = _ref.portalNodeId;\n  var TypeIcon = TypeMap[Type.id];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTypeMenu, {\n    className: \"ciq-display sc-chart-mode\",\n    title: t.translate('Chart types'),\n    tooltip: t.translate('Chart types'),\n    modalMode: true,\n    isFullscreen: true,\n    portalNodeId: portalNodeId\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTypeMenu.Title, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-chart-mode__menu', {\n      'sc-chart-mode__menu--active': menuOpen\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"sc-chart-mode__menu__timeperiod\"\n  }, displayInterval), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TypeIcon, {\n    \"tooltip-title\": t.translate(Type.text)\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTypeMenu.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-chart-mode__section\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-chart-mode__section__item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    newDesign: true,\n    onChange: onChartType\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-chart-mode__section__item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    newDesign: true,\n    onChange: onGranularity\n  })))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var chartMode = _ref2.chartMode,\n      chartType = _ref2.chartType,\n      timeperiod = _ref2.timeperiod;\n  return {\n    ChartTypeMenu: chartMode.ChartTypeMenu,\n    menuOpen: chartMode.menu.open,\n    Type: chartType.type,\n    displayInterval: timeperiod.display\n  };\n})(ChartMode));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ChartSetting.jsx\":\n/*!*****************************************!*\\\n  !*** ./src/components/ChartSetting.jsx ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_tabs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-tabs */ \"./node_modules/react-tabs/esm/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Form_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Form.jsx */ \"./src/components/Form.jsx\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_chart_setting_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../sass/components/_chart-setting.scss */ \"./sass/components/_chart-setting.scss\");\n/* harmony import */ var _sass_components_chart_setting_scss__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_sass_components_chart_setting_scss__WEBPACK_IMPORTED_MODULE_6__);\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n\n\n\n\n\n\n\nvar ChartSettingItem = function ChartSettingItem(_ref) {\n  var title = _ref.title,\n      id = _ref.id,\n      label = _ref.label,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      noramIcon = _ref.noramIcon,\n      activeIcon = _ref.activeIcon;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"FormGroup\"], {\n    title: title,\n    type: id\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"SwitchIcon\"], {\n    id: id,\n    label: label,\n    value: value,\n    onChange: onChange,\n    noramIcon: noramIcon,\n    activeIcon: activeIcon\n  }));\n};\n\nvar ChartSetting = function ChartSetting(_ref2) {\n  var ChartSettingMenu = _ref2.ChartSettingMenu,\n      countdown = _ref2.countdown,\n      historical = _ref2.historical,\n      isHighestLowestMarkerEnabled = _ref2.isHighestLowestMarkerEnabled,\n      languages = _ref2.languages,\n      menuOpen = _ref2.menuOpen,\n      selectedLanguage = _ref2.selectedLanguage,\n      setHistorical = _ref2.setHistorical,\n      setLanguage = _ref2.setLanguage,\n      setTheme = _ref2.setTheme,\n      showCountdown = _ref2.showCountdown,\n      theme = _ref2.theme,\n      toggleHighestLowestMarker = _ref2.toggleHighestLowestMarker;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartSettingMenu, {\n    className: \"sc-chart-setting\",\n    title: t.translate('Platform settings'),\n    enableTabular: true,\n    modalMode: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartSettingMenu.Title, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"SettingIcon\"], {\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('ic-icon-with-sub', {\n      active: menuOpen\n    }),\n    \"tooltip-title\": t.translate('Settings')\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartSettingMenu.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tabs\"], {\n    className: \"tabs--vertical\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabList\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tab\"], {\n    key: \"theme\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"ThemeIcon\"], null), t.translate('Themes')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tab\"], {\n    key: \"language\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"LanguageIcon\"], null), t.translate('Language')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tab\"], {\n    key: \"platform\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"ChartIcon\"], null), t.translate('Charts'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabPanel\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-chart-setting__panel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"FormGroup\"], {\n    title: t.translate('Select theme'),\n    type: \"theme\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('form__group__item', {\n      'form__group__item--active': theme === 'dark'\n    }),\n    onClick: function onClick() {\n      return setTheme('dark');\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"ThemeDarkIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"text\"\n  }, t.translate('Dark'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('form__group__item', {\n      'form__group__item--active': theme === 'light'\n    }),\n    onClick: function onClick() {\n      return setTheme('light');\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"ThemeLightIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"text\"\n  }, t.translate('Light')))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabPanel\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-chart-setting__panel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"FormGroup\"], {\n    title: t.translate('Select language'),\n    type: \"language\"\n  }, languages.map(function (language) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: language.key,\n      onClick: function onClick() {\n        return setLanguage(language.key);\n      },\n      className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('form__group__item', {\n        'form__group__item--active': selectedLanguage.key === language.key\n      })\n    }, language.icon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"text\"\n    }, language.name));\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabPanel\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-chart-setting__panel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartSettingItem, {\n    title: t.translate('Interval duration'),\n    id: \"countdown\",\n    label: t.translate('Display remaining time for each interval'),\n    value: countdown,\n    onChange: showCountdown,\n    noramIcon: _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"SettingCountdownMap\"][theme].normal,\n    activeIcon: _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"SettingCountdownMap\"][theme].active\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartSettingItem, {\n    title: t.translate('Historical data mode'),\n    id: \"historical\",\n    label: t.translate('Display data for a specific date and time'),\n    value: historical,\n    onChange: setHistorical,\n    noramIcon: _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"SettingHistoricalMap\"][theme].normal,\n    activeIcon: _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"SettingHistoricalMap\"][theme].active\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"FormGroup\"], {\n    title: t.translate('Highest and lowest spot'),\n    id: \"highestlowest\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"SwitchIcon\"], {\n    id: \"highestlowest\",\n    label: t.translate('Display the highest and lowest spot price'),\n    value: isHighestLowestMarkerEnabled,\n    onChange: toggleHighestLowestMarker,\n    noramIcon: _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"SettingHighestLowestMap\"][theme].normal,\n    activeIcon: _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"SettingHighestLowestMap\"][theme].active\n  })))))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_3__[\"connect\"])(function (_ref3) {\n  var s = _ref3.chartSetting;\n  return {\n    ChartSettingMenu: s.ChartSettingMenu,\n    closeMenu: s.menu.onTitleClick,\n    countdown: s.countdown,\n    historical: s.historical,\n    isAutoScale: s.isAutoScale,\n    isHighestLowestMarkerEnabled: s.isHighestLowestMarkerEnabled,\n    languages: s.languages,\n    menuOpen: s.menu.dialog.open,\n    selectedLanguage: s.language,\n    setAutoScale: s.setAutoScale,\n    setHistorical: s.setHistorical,\n    setLanguage: s.setLanguage,\n    setTheme: s.setTheme,\n    showCountdown: s.showCountdown,\n    theme: s.theme,\n    toggleHighestLowestMarker: s.toggleHighestLowestMarker\n  };\n})(ChartSetting));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ChartSize.jsx\":\n/*!**************************************!*\\\n  !*** ./src/components/ChartSize.jsx ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_chart_size_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_chart-size.scss */ \"./sass/components/_chart-size.scss\");\n/* harmony import */ var _sass_components_chart_size_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_chart_size_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar ChartSize = function ChartSize(_ref) {\n  var zoomIn = _ref.zoomIn,\n      zoomOut = _ref.zoomOut;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-menu sc-chart-size\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-menu-btn\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"ZoomOutIcon\"], {\n    className: \"ic-icon-with-sub cq-zoom-out\",\n    \"tooltip-title\": t.translate('Zoom out'),\n    onClick: zoomOut\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-menu-btn\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"ZoomInIcon\"], {\n    className: \"ic-icon-with-sub cq-zoom-in\",\n    \"tooltip-title\": t.translate('Zoom in'),\n    onClick: zoomIn\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var chartSize = _ref2.chartSize;\n  return {\n    zoomIn: chartSize.zoomIn,\n    zoomOut: chartSize.zoomOut\n  };\n})(ChartSize));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ChartTitle.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/ChartTitle.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_chart_title_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_chart-title.scss */ \"./sass/components/_chart-title.scss\");\n/* harmony import */ var _sass_components_chart_title_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_chart_title_scss__WEBPACK_IMPORTED_MODULE_3__);\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\n\nvar ChartTitle = function ChartTitle(props) {\n  var chartId = props.chartId,\n      ChartTitleMenu = props.ChartTitleMenu,\n      containerId = props.containerId,\n      currentSymbol = props.currentSymbol,\n      enabled = props.enabled,\n      isMobile = props.isMobile,\n      MarketSelector = props.MarketSelector,\n      portalNodeId = props.portalNodeId,\n      onChange = props.onChange,\n      SymbolSelectButton = props.SymbolSelectButton,\n      setMenuOpen = props.setMenuOpen,\n      searchInputClassName = props.searchInputClassName,\n      theme = props.theme,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      open = props.open,\n      open_market = props.open_market,\n      isNestedList = props.isNestedList;\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    var updateProps = props.updateProps,\n        otherProps = _objectWithoutProperties(props, [\"updateProps\"]);\n\n    updateProps(otherProps); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open, open_market]);\n\n  if (!currentSymbol) {\n    return null;\n  }\n\n  var ChartTitleContainer = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTitleMenu, {\n    enabled: enabled,\n    className: \"cq-chart-title stx-show cq-symbols-display\",\n    isFullscreen: true,\n    portalNodeId: portalNodeId,\n    title: isMobile ? t.translate('Underlying Assets') : '',\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTitleMenu.Title, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SymbolSelectButton, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTitleMenu.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MarketSelector, {\n    portalNodeId: portalNodeId,\n    isNestedList: isNestedList,\n    searchInputClassName: searchInputClassName,\n    onSelectItem: function onSelectItem(x) {\n      if (x.symbol !== currentSymbol.symbol) {\n        onChange(x.symbol, chartId);\n      }\n\n      setMenuOpen(false);\n    }\n  })));\n\n  if (containerId) {\n    return /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.createPortal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"smartcharts-\".concat(theme)\n    }, ChartTitleContainer), document.getElementById(containerId));\n  }\n\n  return ChartTitleContainer;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref) {\n  var c = _ref.chartTitle,\n      chart = _ref.chart,\n      chartSetting = _ref.chartSetting;\n  return {\n    chartId: chart.chartId,\n    ChartTitleMenu: c.ChartTitleMenu,\n    currentSymbol: c.currentSymbol,\n    isMobile: chart.isMobile,\n    MarketSelector: c.MarketSelector,\n    onChange: c.setSymbol,\n    setMenuOpen: c.menu.setOpen,\n    SymbolSelectButton: c.SymbolSelectButton,\n    onMouseEnter: c.onMouseEnter,\n    onMouseLeave: c.onMouseLeave,\n    updateProps: c.updateProps,\n    theme: chartSetting.theme\n  };\n})(ChartTitle));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ChartTypes.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/ChartTypes.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _Tooltip_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Tooltip.jsx */ \"./src/components/Tooltip.jsx\");\n/* harmony import */ var _sass_components_chart_types_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../sass/components/_chart-types.scss */ \"./sass/components/_chart-types.scss\");\n/* harmony import */ var _sass_components_chart_types_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_sass_components_chart_types_scss__WEBPACK_IMPORTED_MODULE_4__);\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n\n\n\n\n\nvar TypeIcon = function TypeIcon(_ref) {\n  var Icon = _ref.Icon,\n      props = _ref.props;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icon, props);\n};\n\nvar ChartTypes = function ChartTypes(_ref2) {\n  var chartId = _ref2.chartId,\n      ChartTypeList = _ref2.ChartTypeList,\n      ChartTypeMenu = _ref2.ChartTypeMenu,\n      enabled = _ref2.enabled,\n      menuOpen = _ref2.menuOpen,\n      onChange = _ref2.onChange,\n      setOpen = _ref2.setOpen,\n      showAggregateDialog = _ref2.showAggregateDialog,\n      Type = _ref2.Type,\n      updateProps = _ref2.updateProps,\n      newDesign = _ref2.newDesign,\n      types = _ref2.types,\n      isMobile = _ref2.isMobile;\n  if (Type === undefined) return null;\n\n  var onItemClick = function onItemClick(idx, chartType) {\n    if (Type.id !== chartType.id) {\n      onChange(chartType.id, chartType.candleOnly, chartId);\n    }\n\n    setOpen(false);\n  };\n\n  updateProps(onChange);\n\n  if (newDesign) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"sc-chart-type\"\n    }, types.map(function (chartType) {\n      var Icon = chartType.icon;\n      var className = 'sc-chart-type__item';\n      className += chartType.active ? ' sc-chart-type__item--active' : '';\n      className += chartType.disabled ? ' sc-chart-type__item--disabled' : '';\n\n      var onClick = function onClick() {\n        return chartType.disabled ? null : onItemClick(0, chartType);\n      };\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Tooltip_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        key: chartType.id,\n        enabled: chartType.disabled && !isMobile,\n        className: className,\n        content: t.translate('Available only for non-tick time intervals.'),\n        onClick: onClick\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icon, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"text\"\n      }, t.translate(chartType.text)));\n    }));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTypeMenu, {\n    className: \"ciq-display ciq-chart-types\",\n    enabled: enabled,\n    title: t.translate('Chart types')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTypeMenu.Title, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TypeIcon, {\n    Icon: Type.icon,\n    className: \"ic-icon-with-sub \".concat(menuOpen ? 'active' : ''),\n    \"tooltip-title\": t.translate(Type.text)\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTypeMenu.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"body\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTypeList, {\n    height: 260,\n    onItemClick: onItemClick\n  }, function (T) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"left\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TypeIcon, {\n      Icon: Type.icon,\n      className: \"margin \".concat(T.active ? 'active' : '')\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ciq-icon-text\"\n    }, T.text)), T.settingsOnClick && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ciq-aggregate-setting\",\n      onClick: function onClick() {\n        return showAggregateDialog(T.id);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"SettingIcon\"], null)));\n  }))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref3) {\n  var chartType = _ref3.chartType,\n      chart = _ref3.chart;\n  return {\n    chartId: chart.chartId,\n    ChartTypeMenu: chartType.ChartTypeMenu,\n    ChartTypeList: chartType.ChartTypeList,\n    menuOpen: chartType.menu.open,\n    onChange: chartType.setTypeFromUI,\n    setOpen: chartType.menu.setOpen,\n    showAggregateDialog: chartType.showAggregateDialog,\n    Type: chartType.type,\n    updateProps: chartType.updateProps,\n    types: chartType.types,\n    isMobile: chart.isMobile\n  };\n})(ChartTypes));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/Crosshair.jsx\":\n/*!**************************************!*\\\n  !*** ./src/components/Crosshair.jsx ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sass_components_crosshair_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../sass/components/_crosshair.scss */ \"./sass/components/_crosshair.scss\");\n/* harmony import */ var _sass_components_crosshair_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_sass_components_crosshair_scss__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar Crosshair = function Crosshair() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-crosshair\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-crosshair-content\"\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Crosshair);\n\n/***/ }),\n\n/***/ \"./src/components/CrosshairToggle.jsx\":\n/*!********************************************!*\\\n  !*** ./src/components/CrosshairToggle.jsx ***!\n  \\********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _Form_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Form.jsx */ \"./src/components/Form.jsx\");\n\n\n\n\n\nvar CrosshairToggle = function CrosshairToggle(_ref) {\n  var state = _ref.state,\n      setCrosshairState = _ref.setCrosshairState,\n      onChange = _ref.onChange,\n      updateProps = _ref.updateProps,\n      _ref$isVisible = _ref.isVisible,\n      isVisible = _ref$isVisible === void 0 ? true : _ref$isVisible;\n  var CrosshairIcon = [_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CrosshairOffIcon\"], _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CrosshairOnIcon\"], _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CrosshairTooltipIcon\"]][state];\n\n  var onCrosshairToggle = function onCrosshairToggle() {\n    setCrosshairState((state + 1) % 3);\n  };\n\n  updateProps(onChange);\n  if (!isVisible) return null;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_3__[\"Toggle\"], {\n    active: state !== 0,\n    onChange: onCrosshairToggle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CrosshairIcon, null));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var crosshair = _ref2.crosshair;\n  return {\n    state: typeof crosshair.state !== 'number' ? 0 : crosshair.state,\n    setCrosshairState: crosshair.setCrosshairState,\n    updateProps: crosshair.updateProps\n  };\n})(CrosshairToggle));\n\n/***/ }),\n\n/***/ \"./src/components/Dialog.jsx\":\n/*!***********************************!*\\\n  !*** ./src/components/Dialog.jsx ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_dialog_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_dialog.scss */ \"./sass/components/_dialog.scss\");\n/* harmony import */ var _sass_components_dialog_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_dialog_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar Dialog = function Dialog(_ref) {\n  var children = _ref.children,\n      onContainerClick = _ref.onContainerClick,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      title = _ref.title,\n      customHead = _ref.customHead,\n      _ref$enableTabular = _ref.enableTabular,\n      enableTabular = _ref$enableTabular === void 0 ? false : _ref$enableTabular,\n      handleCloseDialog = _ref.handleCloseDialog,\n      updateCloseCallback = _ref.updateCloseCallback;\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    return updateCloseCallback(handleCloseDialog);\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-dialog', className, {\n      'sc-dialog--tabular': enableTabular\n    }),\n    onClick: onContainerClick\n  }, title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dialog__head\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dialog__head--title\"\n  }, title), customHead && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dialog__head--custom\"\n  }, customHead), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dialog__head--action\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CloseIcon\"], {\n    onClick: handleCloseDialog\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dialog__body\"\n  }, children));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Dialog);\n\n/***/ }),\n\n/***/ \"./src/components/DrawTools.jsx\":\n/*!**************************************!*\\\n  !*** ./src/components/DrawTools.jsx ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_tabs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-tabs */ \"./node_modules/react-tabs/esm/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Scroll_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Scroll.jsx */ \"./src/components/Scroll.jsx\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _NotificationBadge_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./NotificationBadge.jsx */ \"./src/components/NotificationBadge.jsx\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_draw_tools_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../sass/components/_draw_tools.scss */ \"./sass/components/_draw_tools.scss\");\n/* harmony import */ var _sass_components_draw_tools_scss__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_sass_components_draw_tools_scss__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\n\nvar ActivePanelView = function ActivePanelView(_ref) {\n  var enabled = _ref.enabled,\n      children = _ref.children;\n  return enabled ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools--empty\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"EmptyStateIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, t.translate('You have no active drawings yet.'))) : children;\n};\n\nvar Info = function Info(_ref2) {\n  var Icon = _ref2.Icon,\n      text = _ref2.text,\n      num = _ref2.num,\n      bars = _ref2.bars;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"info\"\n  }, Icon ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icon, {\n    className: \"icon\"\n  }) : '', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"text\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate(text, {\n    num: num || ' '\n  })), bars ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"small\", null, \"(\", bars, \" bars)\") : ''));\n};\n\nvar DrawToolsList = function DrawToolsList(_ref3) {\n  var items = _ref3.items,\n      _onClick = _ref3.onClick;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools__list\"\n  }, items.map(function (Item) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: Item.id,\n      className: \"sc-dtools__list__item\",\n      onClick: function onClick() {\n        return _onClick(Item.id);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Info, {\n      Icon: Item.icon,\n      text: Item.text\n    }));\n  }));\n};\n\nvar ActiveDrawToolsListItem = function ActiveDrawToolsListItem(_ref4) {\n  var item = _ref4.item,\n      onSetting = _ref4.onSetting,\n      onDelete = _ref4.onDelete;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools__list__item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Info, {\n    Icon: item.icon,\n    text: item.text,\n    bars: item.bars,\n    num: item.num\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"actions\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"SettingIcon\"], {\n    onClick: function onClick() {\n      return onSetting(item.index);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"DeleteIcon\"], {\n    onClick: function onClick() {\n      return onDelete(item.index);\n    }\n  })));\n};\n\nvar ActiveDrawToolsListGroup = function ActiveDrawToolsListGroup(_ref5) {\n  var group = _ref5.group,\n      onSetting = _ref5.onSetting,\n      onDelete = _ref5.onDelete;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools__category\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools__category__head\"\n  }, t.translate(group.name, {\n    num: ' '\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools__category__body\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools__list\"\n  }, group.items.map(function (item) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActiveDrawToolsListItem, {\n      key: \"\".concat(item.index),\n      item: item,\n      onSetting: onSetting,\n      onDelete: onDelete\n    });\n  }))));\n};\n\nvar ActiveDrawToolsList = function ActiveDrawToolsList(_ref6) {\n  var activeDrawToolsGroup = _ref6.activeDrawToolsGroup,\n      onSetting = _ref6.onSetting,\n      onDelete = _ref6.onDelete;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Scroll_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    autoHide: true,\n    height: 320\n  }, activeDrawToolsGroup.map(function (group) {\n    return group.items && group.items.length === 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActiveDrawToolsListItem, {\n      key: group.key,\n      item: group.items[0],\n      onSetting: onSetting,\n      onDelete: onDelete\n    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActiveDrawToolsListGroup, {\n      key: group.key,\n      group: group,\n      onSetting: onSetting,\n      onDelete: onDelete\n    });\n  }));\n};\n\nvar DrawTools = function DrawTools(_ref7) {\n  var clearAll = _ref7.clearAll,\n      selectTool = _ref7.selectTool,\n      DrawToolsMenu = _ref7.DrawToolsMenu,\n      menuOpen = _ref7.menuOpen,\n      drawToolsItems = _ref7.drawToolsItems,\n      activeDrawToolsItemsNo = _ref7.activeDrawToolsItemsNo,\n      activeDrawToolsGroup = _ref7.activeDrawToolsGroup,\n      onSetting = _ref7.onSetting,\n      onDelete = _ref7.onDelete,\n      portalNodeId = _ref7.portalNodeId,\n      updatePortalNode = _ref7.updatePortalNode;\n  updatePortalNode(portalNodeId);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DrawToolsMenu, {\n    className: \"sc-dtools\",\n    title: t.translate('Drawing tools'),\n    tooltip: t.translate('Drawing tools'),\n    modalMode: true,\n    enableTabular: true,\n    portalNodeId: portalNodeId\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DrawToolsMenu.Title, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('sc-dtools__menu', {\n      'sc-dtools__menu--active': menuOpen\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"DrawToolIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NotificationBadge_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    notificationCount: activeDrawToolsItemsNo\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DrawToolsMenu.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tabs\"], {\n    className: \"tabs--vertical\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabList\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tab\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"ActiveIcon\"], null), t.translate('Active'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NotificationBadge_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    notificationCount: activeDrawToolsItemsNo\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tab\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"DrawToolIcon\"], null), t.translate('All drawings'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabPanel\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools__panel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActivePanelView, {\n    enabled: !activeDrawToolsItemsNo\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools__panel__head\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    className: \"sc-btn sc-btn--sm sc-btn--outline-secondary\",\n    onClick: clearAll\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate('Clear all')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools__panel__content sc-dtools__panel__content--active\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActiveDrawToolsList, {\n    activeDrawToolsGroup: activeDrawToolsGroup,\n    onSetting: onSetting,\n    onDelete: onDelete\n  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabPanel\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools__panel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-dtools__panel__content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DrawToolsList, {\n    items: drawToolsItems,\n    onClick: selectTool\n  })))))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_4__[\"connect\"])(function (_ref8) {\n  var dt = _ref8.drawTools;\n  return {\n    clearAll: dt.clearAll,\n    selectTool: dt.selectTool,\n    DrawToolsMenu: dt.DrawToolsMenu,\n    menuOpen: dt.menu.open,\n    drawToolsItems: dt.drawToolsItems,\n    activeDrawToolsItemsNo: dt.activeToolsNo,\n    activeDrawToolsGroup: dt.activeToolsGroup,\n    onSetting: dt.onSetting,\n    onDelete: dt.onDeleted,\n    updatePortalNode: dt.updatePortalNode\n  };\n})(DrawTools));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/FastMarker.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/FastMarker.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n // Render given Components under stx-subholder.\n// This component is used to position a marker on the chart.\n//\n// USAGE:\n//\n//  - setRef({setPosition, div}) will be called on mount.\n//  - \"div\" is the dom element containing the marker with \"your-css-class\"\n//  - \"setPosition({epoch, price})\" is a function that you will use to update the div position.\n//  - calling \"setPosition({epoch: null, price: null})\" will hide the marker.\n//  - use \"div.querySelector('...')\" to get a dom reference in order to update your content .\n//  - \"setRef(null)\" will be called when the marker unmounts.\n//\n//  <FastMarker\n//      markerRef={setRef}\n//      threshold={optional visibility threshold}\n//      className=\"your-css-class\"\n//  >\n//     <your content here/>\n//  </FastMarker>\n//\n//  - the chart can have a zoom level, if `threshold` is provided\n//    the marker will only be shown if it's within that zoom threshold.\n\nvar FastMarker = function FastMarker(props) {\n  var price_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(null);\n  var date_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(null);\n  var elem_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(null);\n  var ctx_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(null);\n  var stx_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(null);\n  var injection_id_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef();\n  var props_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef();\n  props_ref.current = props;\n\n  var setPosition = function setPosition(_ref) {\n    var epoch = _ref.epoch,\n        price = _ref.price;\n    price_ref.current = +price || null;\n    date_ref.current = CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getUTCDate\"])(epoch));\n    updateCSS();\n  };\n\n  var updateCSS = function updateCSS() {\n    if (!elem_ref.current || !ctx_ref.current) {\n      return;\n    }\n\n    if (!date_ref.current) {\n      elem_ref.current.style.visibility = 'hidden';\n      return;\n    }\n\n    var offsetTop = props_ref.current.offsetTop || 0;\n    var offsetLeft = props_ref.current.offsetLeft || 0;\n    var elem = elem_ref.current;\n    var stx = stx_ref.current;\n    var chart = stx.chart;\n    var top = 0,\n        left = 0,\n        show = true;\n    var threshold = +props_ref.current.threshold || 0;\n    show = !threshold || stx.layout.candleWidth >= threshold;\n\n    if (show && chart.dataSet && chart.dataSet.length && stx.mainSeriesRenderer) {\n      var tickIdx = stx.tickFromDate(date_ref.current, chart);\n\n      if (tickIdx > -1 && stx.chart.dataSet[tickIdx] && stx.chart.dataSet[tickIdx].Close !== price_ref.current) {\n        delete stx.chart.tickCache[date_ref.current.getTime()];\n        tickIdx = stx.tickFromDate(date_ref.current, chart);\n      }\n\n      var x = stx.pixelFromTick(tickIdx, chart); // ChartIQ doesn't support placing markers in the middle of ticks.\n\n      var bar = chart.dataSet[tickIdx]; // Here we interpolate the pixel distance between two adjacent ticks.\n\n      if (bar && bar.DT < date_ref.current) {\n        var barNext = chart.dataSet[tickIdx + 1];\n        var barPrev = tickIdx > 0 ? chart.dataSet[tickIdx - 1] : null;\n\n        if (barNext && barNext.Close && barNext.DT > date_ref.current) {\n          var pixelToNextBar = stx.pixelFromTick(tickIdx + 1, chart) - x;\n          x += (date_ref.current - bar.DT) / (barNext.DT - bar.DT) * pixelToNextBar;\n        } else if (barPrev && barPrev.Close) {\n          var pixelFromPrevBar = x - stx.pixelFromTick(tickIdx - 1, chart);\n          x += (date_ref.current - bar.DT) / (bar.DT - barPrev.DT) * pixelFromPrevBar;\n        }\n      }\n\n      var y = price_ref.current ? stx.pixelFromPrice(price_ref.current, chart.panel) : 0;\n\n      if (chart.yAxis.left > x && chart.yAxis.top <= y && chart.yAxis.bottom >= y) {\n        top = +y;\n        left = Math.round(x);\n      } else {\n        show = false;\n      }\n    } // patch DOM without triggering recalculate layout.\n\n\n    elem.style.transform = \"translate(\".concat(left + offsetLeft, \"px, \").concat(top + offsetTop, \"px)\");\n    elem.style.visibility = show ? 'visible' : 'hidden';\n  };\n\n  var setRef = function setRef(ref) {\n    elem_ref.current = ref;\n    var _props_ref$current = props_ref.current,\n        markerRef = _props_ref$current.markerRef,\n        contextPromise = _props_ref$current.contextPromise;\n    var data = ref ? {\n      div: ref,\n      setPosition: setPosition\n    } : null;\n\n    if (markerRef) {\n      markerRef(data);\n    }\n\n    if (ref !== null) {\n      contextPromise.then(function (ctx) {\n        ctx_ref.current = ctx;\n        stx_ref.current = ctx_ref.current.stx;\n        injection_id_ref.current = stx_ref.current.append('draw', updateCSS);\n        updateCSS();\n      });\n    } else if (injection_id_ref.current && stx_ref.current) {\n      // remove the injection on unmount\n      stx_ref.current.removeInjection(injection_id_ref.current);\n      ctx_ref.current = null;\n      stx_ref.current = null;\n    }\n  };\n\n  var children = props.children,\n      className = props.className;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: className,\n    ref: setRef,\n    style: {\n      position: 'absolute'\n    }\n  }, children);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var chart = _ref2.chart;\n  return {\n    contextPromise: chart.contextPromise\n  };\n})(FastMarker));\n\n/***/ }),\n\n/***/ \"./src/components/Favorite.jsx\":\n/*!*************************************!*\\\n  !*** ./src/components/Favorite.jsx ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _store_FavoriteStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/FavoriteStore */ \"./src/store/FavoriteStore.js\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\nvar Favorite = function Favorite(_ref) {\n  var category = _ref.category,\n      id = _ref.id;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(_store_FavoriteStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getInstance()),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      store = _React$useState2[0];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      is_favorite = _React$useState4[0],\n      setFavorite = _React$useState4[1];\n\n  var onClick = react__WEBPACK_IMPORTED_MODULE_0___default.a.useCallback(function (e) {\n    e.stopPropagation();\n    e.nativeEvent.isHandledByDialog = true; // prevent close dialog\n\n    store.toggleFavorite(category, id);\n  }, [store, category, id]);\n  var onFavoriteUpdate = react__WEBPACK_IMPORTED_MODULE_0___default.a.useCallback(function () {\n    var isFavorite = store.isFavorite(category, id);\n\n    if (isFavorite !== is_favorite) {\n      setFavorite(isFavorite);\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].CategoricalDisplay, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Favorite, \"\".concat(isFavorite ? 'Add ' : 'Remove ', \" \").concat(id));\n    }\n  }, [store, category, id, is_favorite]);\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    if (store && store.onFavoriteUpdate) {\n      store.onFavoriteUpdate(onFavoriteUpdate);\n      setFavorite(store.isFavorite(category, id));\n    }\n  }, [store, category, id, onFavoriteUpdate]);\n  return !category || !id ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"FavoriteIcon\"], {\n    onClick: onClick,\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('ciq-favorite', {\n      'ciq-active-favorite': is_favorite\n    })\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Favorite);\n\n/***/ }),\n\n/***/ \"./src/components/Form.jsx\":\n/*!*********************************!*\\\n  !*** ./src/components/Form.jsx ***!\n  \\*********************************/\n/*! exports provided: FormGroup, Checkbox, Slider, DropDown, Pattern, ColorPicker, Switch, SwitchIcon, NumericInput, NumberColorPicker, Toggle, FontSetting */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FormGroup\", function() { return FormGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Checkbox\", function() { return Checkbox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Slider\", function() { return Slider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DropDown\", function() { return DropDown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Pattern\", function() { return Pattern; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColorPicker\", function() { return ColorPicker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Switch\", function() { return Switch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SwitchIcon\", function() { return SwitchIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NumericInput\", function() { return NumericInput; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NumberColorPicker\", function() { return NumberColorPicker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Toggle\", function() { return Toggle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FontSetting\", function() { return FontSetting; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.debounce */ \"./node_modules/lodash.debounce/index.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Scroll_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Scroll.jsx */ \"./src/components/Scroll.jsx\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_form_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../sass/components/_form.scss */ \"./sass/components/_form.scss\");\n/* harmony import */ var _sass_components_form_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_sass_components_form_scss__WEBPACK_IMPORTED_MODULE_5__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/* eslint-disable max-classes-per-file */\n\n/* eslint-disable react/sort-comp,react/no-multi-comp */\n\n\n\n\n\n\nvar FormGroup = function FormGroup(_ref) {\n  var title = _ref.title,\n      type = _ref.type,\n      children = _ref.children;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"form__group \".concat(type ? \"form__group--\".concat(type) : '')\n  }, title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"form__label\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \" \", title, \" \")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"form__control\"\n  }, children));\n};\nvar Checkbox = function Checkbox(_ref2) {\n  var id = _ref2.id,\n      label = _ref2.label,\n      checked = _ref2.checked,\n      disabled = _ref2.disabled,\n      onChange = _ref2.onChange;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onChange(!checked);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n    htmlFor: id,\n    className: \"sc-checkbox \".concat(checked ? 'sc-checkbox--checked' : '', \" \").concat(disabled ? 'sc-checkbox--disabled' : '')\n  }, checked ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"CheckboxActiveIcon\"], {\n    className: \"sc-checkbox__box\"\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"CheckboxIcon\"], {\n    className: \"sc-checkbox__box\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"sc-checkbox__label\"\n  }, label)));\n};\nvar Slider = function Slider(_ref3) {\n  var _ref3$min = _ref3.min,\n      min = _ref3$min === void 0 ? 1 : _ref3$min,\n      _ref3$max = _ref3.max,\n      max = _ref3$max === void 0 ? 10 : _ref3$max,\n      _ref3$step = _ref3.step,\n      step = _ref3$step === void 0 ? 1 : _ref3$step,\n      value = _ref3.value,\n      onChange = _ref3.onChange;\n  var activeWidth = react__WEBPACK_IMPORTED_MODULE_0___default.a.useMemo(function () {\n    var barWidth = 238; // css hardcode\n\n    var width = Math.round(barWidth * (value - min) / (max - min));\n    return width < 0 ? 0 : width;\n  }, [value, min, max]);\n  var handleChange = react__WEBPACK_IMPORTED_MODULE_0___default.a.useCallback(function (el) {\n    return onChange(el.currentTarget.value);\n  }, [onChange]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-slider\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-slider-range\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-slider-bar\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-slider-active-bar\",\n    style: {\n      width: activeWidth\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n    type: \"range\",\n    min: min,\n    max: max,\n    step: step,\n    onChange: handleChange,\n    value: value\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"value\"\n  }, value));\n};\nvar DropDown = function DropDown(_ref4) {\n  var subtitle = _ref4.subtitle,\n      rows = _ref4.rows,\n      children = _ref4.children,\n      value = _ref4.value,\n      onRowClick = _ref4.onRowClick,\n      className = _ref4.className;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      top = _React$useState4[0],\n      setTop = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      left = _React$useState6[0],\n      setLeft = _React$useState6[1];\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(null),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      width = _React$useState8[0],\n      setWidth = _React$useState8[1];\n\n  var innerRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef();\n  var innerTitleRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef();\n  var handleClick = react__WEBPACK_IMPORTED_MODULE_0___default.a.useCallback(function () {\n    var bounding = innerRef.current.getBoundingClientRect();\n    setTop(!open ? bounding.top : null);\n    setLeft(!open ? bounding.left : null);\n    setWidth(bounding.width);\n    setOpen(function (prevState) {\n      return !prevState;\n    });\n  }, [open, innerRef]);\n  var handleClose = react__WEBPACK_IMPORTED_MODULE_0___default.a.useCallback(function (e) {\n    if (e.target !== innerTitleRef.current) {\n      setOpen(false);\n      setTop(0);\n      setLeft(0);\n    }\n  }, [innerTitleRef]);\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    document.addEventListener('click', handleClose, false);\n    return function () {\n      document.removeEventListener('click', handleClose);\n    };\n  }, [handleClose]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(className, 'sc-dropdown', {\n      active: open\n    }),\n    ref: innerRef,\n    style: {\n      left: left,\n      top: top,\n      width: width\n    }\n  }, !!subtitle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"subtitle\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, subtitle)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('value', {\n      active: open\n    }),\n    onClick: handleClick,\n    ref: innerTitleRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"text\"\n  }, value), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"ArrowIcon\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Scroll_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    autoHide: true,\n    height: \"\".concat(open ? '200px' : '1px'),\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('dropdown', {\n      active: open\n    })\n  }, rows.map(function (row, idx) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: idx // eslint-disable-line react/no-array-index-key\n      ,\n      className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('row', {\n        'row--selected': row === value\n      }),\n      onClick: function onClick() {\n        return onRowClick && onRowClick(row);\n      }\n    }, children(row));\n  })));\n};\nvar Pattern = function Pattern(_ref5) {\n  var pattern = _ref5.pattern,\n      subtitle = _ref5.subtitle,\n      lineWidth = _ref5.lineWidth,\n      onChange = _ref5.onChange,\n      onActive = _ref5.onActive;\n  var patterns = [{\n    width: 1,\n    pattern: 'solid'\n  }, {\n    width: 3,\n    pattern: 'solid'\n  }, {\n    width: 5,\n    pattern: 'solid'\n  }, {\n    width: 1,\n    pattern: 'dotted'\n  }, {\n    width: 3,\n    pattern: 'dotted'\n  }, {\n    width: 5,\n    pattern: 'dotted'\n  }, {\n    width: 1,\n    pattern: 'dashed'\n  }, {\n    width: 3,\n    pattern: 'dashed'\n  }, {\n    width: 5,\n    pattern: 'dashed'\n  }, {\n    width: 0,\n    pattern: 'none'\n  }];\n\n  var getValue = function getValue() {\n    return pattern !== 'none' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"option \".concat(pattern, \"-\").concat(lineWidth)\n    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"none\"\n    }, \"None\");\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DropDown, {\n    rows: patterns,\n    value: getValue(),\n    onActive: onActive,\n    onRowClick: onChange,\n    subtitle: subtitle\n  }, function (p) {\n    return p.pattern !== 'none' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"option \".concat(p.pattern, \"-\").concat(p.width)\n    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"none\"\n    }, \"None\");\n  });\n};\nvar ColorPicker = function ColorPicker(_ref6) {\n  var subtitle = _ref6.subtitle,\n      color = _ref6.color,\n      theme = _ref6.theme,\n      setColor = _ref6.setColor;\n  var colorMap = [['#ffffff', '#e1e1e1', '#cccccc', '#b7b7b7', '#a0a0a5', '#898989', '#707070', '#626262', '#555555', '#464646', '#363636', '#262626', '#1d1d1d', '#000000'], ['#f4977c', '#f7ac84', '#fbc58d', '#fff69e', '#c4de9e', '#85c99e', '#7fcdc7', '#75d0f4', '#81a8d7', '#8594c8', '#8983bc', '#a187bd', '#bb8dbe', '#f29bc1'], ['#ef6c53', '#f38d5b', '#f8ae63', '#fff371', '#acd277', '#43b77a', '#2ebbb3', '#00bff0', '#4a8dc8', '#5875b7', '#625da6', '#8561a7', '#a665a7', '#ee6fa9'], ['#ea1d2c', '#ee652e', '#f4932f', '#fff126', '#8ec648', '#00a553', '#00a99c', '#00afed', '#0073ba', '#0056a4', '#323390', '#66308f', '#912a8e', '#e9088c'], ['#9b0b16', '#9e4117', '#a16118', '#c6b920', '#5a852d', '#007238', '#00746a', '#0077a1', '#004c7f', '#003570', '#1d1762', '#441261', '#62095f', '#9c005d'], ['#770001', '#792e03', '#7b4906', '#817a0b', '#41661e', '#005827', '#005951', '#003b5c', '#001d40', '#000e35', '#04002c', '#19002b', '#2c002a', '#580028']];\n\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      open = _React$useState10[0],\n      setOpen = _React$useState10[1];\n\n  var _React$useState11 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(0),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      top = _React$useState12[0],\n      setTop = _React$useState12[1];\n\n  var _React$useState13 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(0),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      left = _React$useState14[0],\n      setLeft = _React$useState14[1];\n\n  var _React$useState15 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(null),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      width = _React$useState16[0],\n      setWidth = _React$useState16[1];\n\n  var innerRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef();\n  var innerTitleRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef();\n  var backgroundColor = react__WEBPACK_IMPORTED_MODULE_0___default.a.useMemo(function () {\n    if (color !== 'auto') return color;\n    return theme === 'light' ? '#000000' : '#ffffff';\n  }, [color, theme]);\n  var handleClick = react__WEBPACK_IMPORTED_MODULE_0___default.a.useCallback(function () {\n    var bounding = innerRef.current.getBoundingClientRect();\n    setTop(!open ? bounding.top : null);\n    setLeft(!open ? bounding.left : null);\n    setWidth(bounding.width);\n    setOpen(function (prevState) {\n      return !prevState;\n    });\n  }, [open, innerRef]);\n  var handleClose = react__WEBPACK_IMPORTED_MODULE_0___default.a.useCallback(function (e) {\n    if (e.target !== innerTitleRef.current) {\n      setOpen(false);\n      setTop(0);\n      setLeft(0);\n    }\n  }, [innerTitleRef]);\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    document.addEventListener('click', handleClose, false);\n    return function () {\n      document.removeEventListener('click', handleClose);\n    };\n  }, [handleClose]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    ref: innerRef,\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('sc-color-picker', {\n      active: open\n    }),\n    style: {\n      top: top,\n      left: left,\n      width: width\n    }\n  }, !!subtitle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"subtitle\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, subtitle)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"value\",\n    onClick: handleClick,\n    ref: innerTitleRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-input-color\",\n    style: {\n      backgroundColor: backgroundColor\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"ArrowIcon\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('dropdown', {\n      open: open\n    })\n  }, colorMap.map(function (row, rowIdx) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: rowIdx\n      /* eslint-disable-line react/no-array-index-key */\n      ,\n      className: \"row\"\n    }, row.map(function (tileColor) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        key: tileColor,\n        className: \"tile-color\",\n        style: {\n          backgroundColor: tileColor\n        },\n        onClick: function onClick() {\n          return setColor(tileColor);\n        }\n      });\n    }));\n  })));\n};\nvar Switch = function Switch(_ref7) {\n  var value = _ref7.value,\n      onChange = _ref7.onChange;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-switch \".concat(value ? 'on' : 'off'),\n    onClick: function onClick() {\n      return onChange(!value);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"handle\"\n  }));\n};\nvar SwitchIcon = function SwitchIcon(_ref8) {\n  var id = _ref8.id,\n      label = _ref8.label,\n      value = _ref8.value,\n      onChange = _ref8.onChange,\n      noramIcon = _ref8.noramIcon,\n      activeIcon = _ref8.activeIcon;\n  var Icon = value ? activeIcon : noramIcon;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-switch-icon\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icon, {\n    className: \"sc-switch-icon__icon\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-switch-icon__description\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Checkbox, {\n    id: id,\n    label: label,\n    checked: value,\n    onChange: onChange\n  })));\n}; // NumericInput fires onChange on Enter or onBlur\n\nvar NumericInput = function NumericInput(_ref9) {\n  var subtitle = _ref9.subtitle,\n      onChange = _ref9.onChange,\n      min = _ref9.min,\n      max = _ref9.max,\n      step = _ref9.step,\n      value = _ref9.value;\n\n  var _React$useState17 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(false),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      innerValue = _React$useState18[0],\n      setInnerValue = _React$useState18[1];\n\n  var handleFireOnChange = lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default()(function () {\n    var setAndChange = function setAndChange(val) {\n      setInnerValue(val);\n      onChange(val);\n    };\n\n    if (max !== undefined && innerValue > max) {\n      setAndChange(max);\n    } else if (min !== undefined && innerValue < min) {\n      setAndChange(min);\n    } else {\n      onChange(innerValue);\n    }\n  }, 300, {\n    leading: true,\n    trailing: false\n  });\n\n  var handleUpdateValue = function handleUpdateValue(e) {\n    e.persist();\n    setInnerValue(e.target.value);\n  };\n\n  var handleFireOnEnter = function handleFireOnEnter(e) {\n    if (['e', '+', 'E'].includes(e.key)) {\n      e.preventDefault();\n    }\n\n    if (e.key === 'Enter') {\n      handleFireOnChange();\n    }\n  };\n\n  var onIncrease = function onIncrease() {\n    setInnerValue(function (prevState) {\n      return prevState + 1;\n    });\n    handleFireOnChange();\n  };\n\n  var onDecrease = function onDecrease() {\n    setInnerValue(function (prevState) {\n      return prevState - 1;\n    });\n    handleFireOnChange();\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    setInnerValue(value);\n  }, [value]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-numeric-input\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n    type: \"number\",\n    value: innerValue,\n    onBlur: handleFireOnChange,\n    onChange: handleUpdateValue,\n    onKeyPress: handleFireOnEnter,\n    min: min,\n    max: max,\n    step: step\n  }), !!subtitle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"subtitle\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, subtitle)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-numeric-input-buttons\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"InputNumberPlusIcon\"], {\n    onClick: onIncrease\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"InputNumberMinusIcon\"], {\n    onClick: onDecrease\n  })));\n};\nvar NumberColorPicker = function NumberColorPicker(_ref10) {\n  var value = _ref10.value,\n      theme = _ref10.theme,\n      onChange = _ref10.onChange,\n      onActive = _ref10.onActive;\n  // Do NOT rename the variables Value and Color! The keys are also\n  // used as attribute suffixes\n  var Value = value.Value,\n      Color = value.Color;\n\n  var onValueChange = function onValueChange(v) {\n    return onChange({\n      Color: Color,\n      Value: v\n    });\n  };\n\n  var onColorChange = function onColorChange(c) {\n    return onChange({\n      Color: c,\n      Value: Value\n    });\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"sc-numbercolorpicker\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NumericInput, {\n    value: Value,\n    subtitle: t.translate('Size'),\n    onChange: function onChange(val) {\n      return onValueChange(val);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ColorPicker, {\n    color: Color,\n    theme: theme,\n    onActive: onActive,\n    subtitle: t.translate('Color'),\n    setColor: function setColor(val) {\n      return onColorChange(val);\n    }\n  }));\n};\nvar Toggle = function Toggle(_ref11) {\n  var className = _ref11.className,\n      children = _ref11.children,\n      active = _ref11.active,\n      onChange = _ref11.onChange;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    onClick: function onClick() {\n      return onChange(!active);\n    },\n    className: \"\".concat(className || '', \" \").concat(active ? 'active' : '', \" sc-toggle\")\n  }, children);\n};\nvar FontSetting = function FontSetting(_ref12) {\n  var onChange = _ref12.onChange,\n      value = _ref12.value;\n  var families = ['Default', 'Helvetica', 'Courier', 'Garamond', 'Palatino', 'Times New Roman'];\n  var fontSizes = [8, 10, 12, 13, 14, 16, 20, 28, 36, 48, 64];\n\n  var fireChange = function fireChange(change) {\n    return onChange(_objectSpread(_objectSpread({}, value), change));\n  };\n\n  var onFontFamilyChange = function onFontFamilyChange(family) {\n    return fireChange({\n      family: family\n    });\n  };\n\n  var onFontSizeChange = function onFontSizeChange(size) {\n    return fireChange({\n      size: \"\".concat(size, \"px\")\n    });\n  };\n\n  var onBoldChange = function onBoldChange(isBold) {\n    return fireChange({\n      weight: isBold ? 'bold' : undefined\n    });\n  };\n\n  var onItalicChange = function onItalicChange(isItalic) {\n    return fireChange({\n      style: isItalic ? 'italic' : undefined\n    });\n  };\n\n  var family = value.family,\n      style = value.style,\n      weight = value.weight,\n      size = value.size;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"sc-fontsetting\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Toggle, {\n    onChange: onBoldChange,\n    active: !!weight\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-text-icon\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, \"B\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Toggle, {\n    active: !!style,\n    onChange: onItalicChange\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-text-icon\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null, \"i\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DropDown, {\n    className: \"sc-changefontsize\",\n    rows: fontSizes,\n    title: size || '13px',\n    onRowClick: onFontSizeChange\n  }, function (p) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"option\"\n    }, p);\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DropDown, {\n    className: \"sc-changefontfamily\",\n    rows: families,\n    title: family || families[0],\n    onRowClick: onFontFamilyChange\n  }, function (p) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"option\"\n    }, p);\n  }));\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/HighestLowestMarker.jsx\":\n/*!************************************************!*\\\n  !*** ./src/components/HighestLowestMarker.jsx ***!\n  \\************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _FastMarker_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FastMarker.jsx */ \"./src/components/FastMarker.jsx\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_highest_lowest_marker_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_highest-lowest-marker.scss */ \"./sass/components/_highest-lowest-marker.scss\");\n/* harmony import */ var _sass_components_highest_lowest_marker_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_highest_lowest_marker_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar HighestLowestMarker = function HighestLowestMarker(_ref) {\n  var setHighestRef = _ref.setHighestRef,\n      setLowestRef = _ref.setLowestRef;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    markerRef: setHighestRef,\n    className: \"sc-highlow sc-highlow--highest\",\n    offsetTop: -80,\n    offsetLeft: -80\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__shape-circule spot__fill-blue\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__label\",\n    \"data-label-pos\": \"top\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"\".concat(t.translate('H'), \": \")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__value\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    markerRef: setLowestRef,\n    className: \"sc-highlow sc-highlow--lowest\",\n    offsetTop: -80,\n    offsetLeft: -80\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__shape-circule spot__fill-red\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__label\",\n    \"data-label-pos\": \"bottom\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"\".concat(t.translate('L'), \" : \")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__value\"\n  }))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var s = _ref2.highestLowest;\n  return {\n    setHighestRef: s.setHighestRef,\n    setLowestRef: s.setLowestRef\n  };\n})(HighestLowestMarker));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/Icons.jsx\":\n/*!**********************************!*\\\n  !*** ./src/components/Icons.jsx ***!\n  \\**********************************/\n/*! exports provided: Wrapper, DrawingCursorIcon, ThemeLightIcon, ThemeDarkIcon, DrawToolIcon, ActiveIcon, FullScreenIcon, BaseLineIcon, CandleIcon, DotIcon, LineDotIcon, HeikinAshiIcon, HollowCandleIcon, KagiIcon, LineBreakIcon, LineIcon, OHLCIcon, PointFigureIcon, RangeBarsIcon, RenkoIcon, TableIcon, AddIcon, ZoomInIcon, CloseIcon, InputNumberMinusIcon, InputNumberPlusIcon, CloseCircleIcon, CloseBoldIcon, ComparisonIcon, CrosshairOffIcon, CrosshairOnIcon, CrosshairTooltipIcon, DeleteIcon, ClearIcon, DrawIcon, IndicatorIcon, MeasureIcon, ZoomOutIcon, SplineIcon, PngIcon, CsvIcon, StarIcon, TemplateIcon, TickIcon, TimeIcon, SearchIcon, EditIcon, SettingIcon, ArrowIcon, FavoriteIcon, HelpCenterIcon, DownloadIcon, InfoIcon, InfoCircleIcon, PositionLeftIcon, PositionBottomIcon, BackIcon, HomeIcon, ScaleIcon, ZoominIcon, ZoomoutIcon, LanguageIcon, ThemeIcon, ChartIcon, CheckboxIcon, CheckboxActiveIcon, TypeAreaIcon, TypeCandleIcon, TypeHollowIcon, TypeOhlcIcon, TypeAreaGrayscaleIcon, TypeCandleGrayscaleIcon, TypeHollowGrayscaleIcon, TypeOhlcGrayscaleIcon, IndicatorCatMomentumIcon, IndicatorCatTrendLightIcon, IndicatorCatTrendDarkIcon, IndicatorCatVolatilityIcon, IndicatorCatAveragesIcon, IndicatorCatOtherIcon, IndicatorAwesomeOscillatorIcon, IndicatorDTrendedIcon, IndicatorGatorIcon, IndicatorMacdIcon, IndicatorRateChangeIcon, IndicatorRSIIcon, IndicatorStochasticOscillatorIcon, IndicatorStochasticMomentumIcon, IndicatorWilliamPercentIcon, IndicatorAroonIcon, IndicatorAdxIcon, IndicatorCommodityChannelIndexIcon, IndicatorIchimokuIcon, IndicatorParabolicIcon, IndicatorZigZagIcon, IndicatorBollingerIcon, IndicatorDonchianIcon, IndicatorAveragesIcon, IndicatorEnvelopeIcon, IndicatorAlligatorIcon, IndicatorFractalChaosIcon, IndicatorRainbowIcon, MetalIcon, EmptyStateIcon, OverwriteStateIcon, ArrowGreenIcon, ArrowOrangeIcon, DrawToolsChannelIcon, DrawToolsContinuousIcon, DrawToolsFibonaccifanIcon, DrawToolsHorizontalIcon, DrawToolsLineIcon, DrawToolsRayIcon, DrawToolsRectangleIcon, DrawToolsTrendIcon, DrawToolsVerticalIcon, alertIconMap, SymbolPlaceholderIcon, CategoryIconMap, SettingCountdownMap, SettingHistoricalMap, SettingHighestLowestMap, FlagIcons, ItemIconMap, OTCBadgeIcon, ActiveOptionsIconMap */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Wrapper\", function() { return Wrapper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawingCursorIcon\", function() { return DrawingCursorIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ThemeLightIcon\", function() { return ThemeLightIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ThemeDarkIcon\", function() { return ThemeDarkIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawToolIcon\", function() { return DrawToolIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActiveIcon\", function() { return ActiveIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FullScreenIcon\", function() { return FullScreenIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseLineIcon\", function() { return BaseLineIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CandleIcon\", function() { return CandleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DotIcon\", function() { return DotIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LineDotIcon\", function() { return LineDotIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HeikinAshiIcon\", function() { return HeikinAshiIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HollowCandleIcon\", function() { return HollowCandleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KagiIcon\", function() { return KagiIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LineBreakIcon\", function() { return LineBreakIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LineIcon\", function() { return LineIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OHLCIcon\", function() { return OHLCIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointFigureIcon\", function() { return PointFigureIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RangeBarsIcon\", function() { return RangeBarsIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RenkoIcon\", function() { return RenkoIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TableIcon\", function() { return TableIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AddIcon\", function() { return AddIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ZoomInIcon\", function() { return ZoomInIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CloseIcon\", function() { return CloseIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InputNumberMinusIcon\", function() { return InputNumberMinusIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InputNumberPlusIcon\", function() { return InputNumberPlusIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CloseCircleIcon\", function() { return CloseCircleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CloseBoldIcon\", function() { return CloseBoldIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ComparisonIcon\", function() { return ComparisonIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CrosshairOffIcon\", function() { return CrosshairOffIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CrosshairOnIcon\", function() { return CrosshairOnIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CrosshairTooltipIcon\", function() { return CrosshairTooltipIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteIcon\", function() { return DeleteIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ClearIcon\", function() { return ClearIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawIcon\", function() { return DrawIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorIcon\", function() { return IndicatorIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MeasureIcon\", function() { return MeasureIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ZoomOutIcon\", function() { return ZoomOutIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SplineIcon\", function() { return SplineIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PngIcon\", function() { return PngIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CsvIcon\", function() { return CsvIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StarIcon\", function() { return StarIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TemplateIcon\", function() { return TemplateIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TickIcon\", function() { return TickIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TimeIcon\", function() { return TimeIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SearchIcon\", function() { return SearchIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditIcon\", function() { return EditIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SettingIcon\", function() { return SettingIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ArrowIcon\", function() { return ArrowIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FavoriteIcon\", function() { return FavoriteIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HelpCenterIcon\", function() { return HelpCenterIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DownloadIcon\", function() { return DownloadIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InfoIcon\", function() { return InfoIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InfoCircleIcon\", function() { return InfoCircleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PositionLeftIcon\", function() { return PositionLeftIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PositionBottomIcon\", function() { return PositionBottomIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackIcon\", function() { return BackIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HomeIcon\", function() { return HomeIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScaleIcon\", function() { return ScaleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ZoominIcon\", function() { return ZoominIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ZoomoutIcon\", function() { return ZoomoutIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LanguageIcon\", function() { return LanguageIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ThemeIcon\", function() { return ThemeIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChartIcon\", function() { return ChartIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CheckboxIcon\", function() { return CheckboxIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CheckboxActiveIcon\", function() { return CheckboxActiveIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeAreaIcon\", function() { return TypeAreaIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeCandleIcon\", function() { return TypeCandleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeHollowIcon\", function() { return TypeHollowIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeOhlcIcon\", function() { return TypeOhlcIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeAreaGrayscaleIcon\", function() { return TypeAreaGrayscaleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeCandleGrayscaleIcon\", function() { return TypeCandleGrayscaleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeHollowGrayscaleIcon\", function() { return TypeHollowGrayscaleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeOhlcGrayscaleIcon\", function() { return TypeOhlcGrayscaleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorCatMomentumIcon\", function() { return IndicatorCatMomentumIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorCatTrendLightIcon\", function() { return IndicatorCatTrendLightIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorCatTrendDarkIcon\", function() { return IndicatorCatTrendDarkIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorCatVolatilityIcon\", function() { return IndicatorCatVolatilityIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorCatAveragesIcon\", function() { return IndicatorCatAveragesIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorCatOtherIcon\", function() { return IndicatorCatOtherIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorAwesomeOscillatorIcon\", function() { return IndicatorAwesomeOscillatorIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorDTrendedIcon\", function() { return IndicatorDTrendedIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorGatorIcon\", function() { return IndicatorGatorIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorMacdIcon\", function() { return IndicatorMacdIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorRateChangeIcon\", function() { return IndicatorRateChangeIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorRSIIcon\", function() { return IndicatorRSIIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorStochasticOscillatorIcon\", function() { return IndicatorStochasticOscillatorIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorStochasticMomentumIcon\", function() { return IndicatorStochasticMomentumIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorWilliamPercentIcon\", function() { return IndicatorWilliamPercentIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorAroonIcon\", function() { return IndicatorAroonIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorAdxIcon\", function() { return IndicatorAdxIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorCommodityChannelIndexIcon\", function() { return IndicatorCommodityChannelIndexIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorIchimokuIcon\", function() { return IndicatorIchimokuIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorParabolicIcon\", function() { return IndicatorParabolicIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorZigZagIcon\", function() { return IndicatorZigZagIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorBollingerIcon\", function() { return IndicatorBollingerIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorDonchianIcon\", function() { return IndicatorDonchianIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorAveragesIcon\", function() { return IndicatorAveragesIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorEnvelopeIcon\", function() { return IndicatorEnvelopeIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorAlligatorIcon\", function() { return IndicatorAlligatorIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorFractalChaosIcon\", function() { return IndicatorFractalChaosIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorRainbowIcon\", function() { return IndicatorRainbowIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MetalIcon\", function() { return MetalIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EmptyStateIcon\", function() { return EmptyStateIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OverwriteStateIcon\", function() { return OverwriteStateIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ArrowGreenIcon\", function() { return ArrowGreenIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ArrowOrangeIcon\", function() { return ArrowOrangeIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawToolsChannelIcon\", function() { return DrawToolsChannelIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawToolsContinuousIcon\", function() { return DrawToolsContinuousIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawToolsFibonaccifanIcon\", function() { return DrawToolsFibonaccifanIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawToolsHorizontalIcon\", function() { return DrawToolsHorizontalIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawToolsLineIcon\", function() { return DrawToolsLineIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawToolsRayIcon\", function() { return DrawToolsRayIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawToolsRectangleIcon\", function() { return DrawToolsRectangleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawToolsTrendIcon\", function() { return DrawToolsTrendIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawToolsVerticalIcon\", function() { return DrawToolsVerticalIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"alertIconMap\", function() { return alertIconMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SymbolPlaceholderIcon\", function() { return SymbolPlaceholderIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CategoryIconMap\", function() { return CategoryIconMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SettingCountdownMap\", function() { return SettingCountdownMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SettingHistoricalMap\", function() { return SettingHistoricalMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SettingHighestLowestMap\", function() { return SettingHighestLowestMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FlagIcons\", function() { return FlagIcons; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemIconMap\", function() { return ItemIconMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OTCBadgeIcon\", function() { return OTCBadgeIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActiveOptionsIconMap\", function() { return ActiveOptionsIconMap; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sass_components_icons_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../sass/components/_icons.scss */ \"./sass/components/_icons.scss\");\n/* harmony import */ var _sass_components_icons_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_sass_components_icons_scss__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_baseline_ic_baseline_normal_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/baseline/ic-baseline-normal.svg */ \"./sass/icons/chart settings/chart types/baseline/ic-baseline-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_baseline_ic_baseline_normal_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_baseline_ic_baseline_normal_svg__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_candle_ic_candle_normal_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/candle/ic-candle-normal.svg */ \"./sass/icons/chart settings/chart types/candle/ic-candle-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_candle_ic_candle_normal_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_candle_ic_candle_normal_svg__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_dot_ic_dot_normal_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/dot/ic-dot-normal.svg */ \"./sass/icons/chart settings/chart types/dot/ic-dot-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_dot_ic_dot_normal_svg__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_dot_ic_dot_normal_svg__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_line_dot_ic_linedot_normal_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/line dot/ic-linedot-normal.svg */ \"./sass/icons/chart settings/chart types/line dot/ic-linedot-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_line_dot_ic_linedot_normal_svg__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_line_dot_ic_linedot_normal_svg__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_heikin_ashi_normal_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-heikin-ashi-normal.svg */ \"./sass/icons/chart settings/chart types/ic-heikin-ashi-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_heikin_ashi_normal_svg__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_ic_heikin_ashi_normal_svg__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_hollow_candle_ic_hollowcandle_normal_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/hollow candle/ic-hollowcandle-normal.svg */ \"./sass/icons/chart settings/chart types/hollow candle/ic-hollowcandle-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_hollow_candle_ic_hollowcandle_normal_svg__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_hollow_candle_ic_hollowcandle_normal_svg__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_kagi_normal_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-kagi-normal.svg */ \"./sass/icons/chart settings/chart types/ic-kagi-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_kagi_normal_svg__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_ic_kagi_normal_svg__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_line_ic_line_normal_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/line/ic-line-normal.svg */ \"./sass/icons/chart settings/chart types/line/ic-line-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_line_ic_line_normal_svg__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_line_ic_line_normal_svg__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_linebreak_normal_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-linebreak-normal.svg */ \"./sass/icons/chart settings/chart types/ic-linebreak-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_linebreak_normal_svg__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_ic_linebreak_normal_svg__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ohlc_ic_ohlc_normal_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ohlc/ic-ohlc-normal.svg */ \"./sass/icons/chart settings/chart types/ohlc/ic-ohlc-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ohlc_ic_ohlc_normal_svg__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_ohlc_ic_ohlc_normal_svg__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_pointfigure_normal_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-pointfigure-normal.svg */ \"./sass/icons/chart settings/chart types/ic-pointfigure-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_pointfigure_normal_svg__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_ic_pointfigure_normal_svg__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_rangebars_normal_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-rangebars-normal.svg */ \"./sass/icons/chart settings/chart types/ic-rangebars-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_rangebars_normal_svg__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_ic_rangebars_normal_svg__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_renko_normal_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-renko-normal.svg */ \"./sass/icons/chart settings/chart types/ic-renko-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_renko_normal_svg__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_ic_renko_normal_svg__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_spline_ic_spline_normal_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/spline/ic-spline-normal.svg */ \"./sass/icons/chart settings/chart types/spline/ic-spline-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_spline_ic_spline_normal_svg__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_spline_ic_spline_normal_svg__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_table_table_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/table/table.svg */ \"./sass/icons/chart settings/chart types/table/table.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_table_table_svg__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_chart_types_table_table_svg__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _sass_icons_download_ic_png_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../sass/icons/download/ic-png.svg */ \"./sass/icons/download/ic-png.svg\");\n/* harmony import */ var _sass_icons_download_ic_png_svg__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_download_ic_png_svg__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _sass_icons_download_ic_csv_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../sass/icons/download/ic-csv.svg */ \"./sass/icons/download/ic-csv.svg\");\n/* harmony import */ var _sass_icons_download_ic_csv_svg__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_download_ic_csv_svg__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _sass_icons_chart_settings_zoom_in_ic_zoomin_light_svg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../sass/icons/chart settings/zoom-in/ic-zoomin-light.svg */ \"./sass/icons/chart settings/zoom-in/ic-zoomin-light.svg\");\n/* harmony import */ var _sass_icons_chart_settings_zoom_in_ic_zoomin_light_svg__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_zoom_in_ic_zoomin_light_svg__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _sass_icons_common_ic_add_svg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../sass/icons/common/ic-add.svg */ \"./sass/icons/common/ic-add.svg\");\n/* harmony import */ var _sass_icons_common_ic_add_svg__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_add_svg__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _sass_icons_common_ic_close_svg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../sass/icons/common/ic-close.svg */ \"./sass/icons/common/ic-close.svg\");\n/* harmony import */ var _sass_icons_common_ic_close_svg__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_close_svg__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _sass_icons_common_ic_input_number_minus_svg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../sass/icons/common/ic-input-number-minus.svg */ \"./sass/icons/common/ic-input-number-minus.svg\");\n/* harmony import */ var _sass_icons_common_ic_input_number_minus_svg__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_input_number_minus_svg__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _sass_icons_common_ic_input_number_plus_svg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../sass/icons/common/ic-input-number-plus.svg */ \"./sass/icons/common/ic-input-number-plus.svg\");\n/* harmony import */ var _sass_icons_common_ic_input_number_plus_svg__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_input_number_plus_svg__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _sass_icons_close_ic_close_circle_svg__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../sass/icons/close/ic-close-circle.svg */ \"./sass/icons/close/ic-close-circle.svg\");\n/* harmony import */ var _sass_icons_close_ic_close_circle_svg__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_close_ic_close_circle_svg__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _sass_icons_close_ic_close_bold_svg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../sass/icons/close/ic-close-bold.svg */ \"./sass/icons/close/ic-close-bold.svg\");\n/* harmony import */ var _sass_icons_close_ic_close_bold_svg__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_close_ic_close_bold_svg__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var _sass_icons_chart_settings_comparison_ic_comparison_normal_svg__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../sass/icons/chart settings/comparison/ic-comparison-normal.svg */ \"./sass/icons/chart settings/comparison/ic-comparison-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_comparison_ic_comparison_normal_svg__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_comparison_ic_comparison_normal_svg__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var _sass_icons_chart_settings_crosshair_ic_crosshair_off_svg__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../sass/icons/chart settings/crosshair/ic-crosshair-off.svg */ \"./sass/icons/chart settings/crosshair/ic-crosshair-off.svg\");\n/* harmony import */ var _sass_icons_chart_settings_crosshair_ic_crosshair_off_svg__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_crosshair_ic_crosshair_off_svg__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var _sass_icons_chart_settings_crosshair_ic_crosshair_on_svg__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../sass/icons/chart settings/crosshair/ic-crosshair-on.svg */ \"./sass/icons/chart settings/crosshair/ic-crosshair-on.svg\");\n/* harmony import */ var _sass_icons_chart_settings_crosshair_ic_crosshair_on_svg__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_crosshair_ic_crosshair_on_svg__WEBPACK_IMPORTED_MODULE_28__);\n/* harmony import */ var _sass_icons_chart_settings_crosshair_ic_crosshair_tooltip_svg__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../sass/icons/chart settings/crosshair/ic-crosshair-tooltip.svg */ \"./sass/icons/chart settings/crosshair/ic-crosshair-tooltip.svg\");\n/* harmony import */ var _sass_icons_chart_settings_crosshair_ic_crosshair_tooltip_svg__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_crosshair_ic_crosshair_tooltip_svg__WEBPACK_IMPORTED_MODULE_29__);\n/* harmony import */ var _sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../sass/icons/delete/ic-delete.svg */ \"./sass/icons/delete/ic-delete.svg\");\n/* harmony import */ var _sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_30__);\n/* harmony import */ var _sass_icons_clear_ic_clear_svg__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../sass/icons/clear/ic-clear.svg */ \"./sass/icons/clear/ic-clear.svg\");\n/* harmony import */ var _sass_icons_clear_ic_clear_svg__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_clear_ic_clear_svg__WEBPACK_IMPORTED_MODULE_31__);\n/* harmony import */ var _sass_icons_chart_settings_drawing_tools_ic_drawingtools_normal_svg__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../sass/icons/chart settings/drawing tools/ic-drawingtools-normal.svg */ \"./sass/icons/chart settings/drawing tools/ic-drawingtools-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_drawing_tools_ic_drawingtools_normal_svg__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_drawing_tools_ic_drawingtools_normal_svg__WEBPACK_IMPORTED_MODULE_32__);\n/* harmony import */ var _sass_icons_measure_ic_measure_svg__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../sass/icons/measure/ic-measure.svg */ \"./sass/icons/measure/ic-measure.svg\");\n/* harmony import */ var _sass_icons_measure_ic_measure_svg__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_measure_ic_measure_svg__WEBPACK_IMPORTED_MODULE_33__);\n/* harmony import */ var _sass_icons_chart_settings_zoom_out_ic_zoomout_light_svg__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../sass/icons/chart settings/zoom-out/ic-zoomout-light.svg */ \"./sass/icons/chart settings/zoom-out/ic-zoomout-light.svg\");\n/* harmony import */ var _sass_icons_chart_settings_zoom_out_ic_zoomout_light_svg__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_zoom_out_ic_zoomout_light_svg__WEBPACK_IMPORTED_MODULE_34__);\n/* harmony import */ var _sass_icons_favorite_ic_favorite_normal_svg__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../sass/icons/favorite/ic-favorite-normal.svg */ \"./sass/icons/favorite/ic-favorite-normal.svg\");\n/* harmony import */ var _sass_icons_favorite_ic_favorite_normal_svg__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_favorite_ic_favorite_normal_svg__WEBPACK_IMPORTED_MODULE_35__);\n/* harmony import */ var _sass_icons_tick_ic_tick_svg__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../sass/icons/tick/ic-tick.svg */ \"./sass/icons/tick/ic-tick.svg\");\n/* harmony import */ var _sass_icons_tick_ic_tick_svg__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_tick_ic_tick_svg__WEBPACK_IMPORTED_MODULE_36__);\n/* harmony import */ var _sass_icons_time_ic_time_svg__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../sass/icons/time/ic-time.svg */ \"./sass/icons/time/ic-time.svg\");\n/* harmony import */ var _sass_icons_time_ic_time_svg__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_time_ic_time_svg__WEBPACK_IMPORTED_MODULE_37__);\n/* harmony import */ var _sass_icons_common_ic_active_svg__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../sass/icons/common/ic-active.svg */ \"./sass/icons/common/ic-active.svg\");\n/* harmony import */ var _sass_icons_common_ic_active_svg__WEBPACK_IMPORTED_MODULE_38___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_active_svg__WEBPACK_IMPORTED_MODULE_38__);\n/* harmony import */ var _sass_icons_sidebar_commodities_ic_commodities_normal_svg__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../sass/icons/sidebar/commodities/ic-commodities-normal.svg */ \"./sass/icons/sidebar/commodities/ic-commodities-normal.svg\");\n/* harmony import */ var _sass_icons_sidebar_commodities_ic_commodities_normal_svg__WEBPACK_IMPORTED_MODULE_39___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_sidebar_commodities_ic_commodities_normal_svg__WEBPACK_IMPORTED_MODULE_39__);\n/* harmony import */ var _sass_icons_sidebar_forex_ic_forex_normal_svg__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../sass/icons/sidebar/forex/ic-forex-normal.svg */ \"./sass/icons/sidebar/forex/ic-forex-normal.svg\");\n/* harmony import */ var _sass_icons_sidebar_forex_ic_forex_normal_svg__WEBPACK_IMPORTED_MODULE_40___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_sidebar_forex_ic_forex_normal_svg__WEBPACK_IMPORTED_MODULE_40__);\n/* harmony import */ var _sass_icons_sidebar_indices_ic_indices_normal_svg__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../sass/icons/sidebar/indices/ic-indices-normal.svg */ \"./sass/icons/sidebar/indices/ic-indices-normal.svg\");\n/* harmony import */ var _sass_icons_sidebar_indices_ic_indices_normal_svg__WEBPACK_IMPORTED_MODULE_41___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_sidebar_indices_ic_indices_normal_svg__WEBPACK_IMPORTED_MODULE_41__);\n/* harmony import */ var _sass_icons_sidebar_otc_ic_otc_normal_svg__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../sass/icons/sidebar/otc/ic-otc-normal.svg */ \"./sass/icons/sidebar/otc/ic-otc-normal.svg\");\n/* harmony import */ var _sass_icons_sidebar_otc_ic_otc_normal_svg__WEBPACK_IMPORTED_MODULE_42___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_sidebar_otc_ic_otc_normal_svg__WEBPACK_IMPORTED_MODULE_42__);\n/* harmony import */ var _sass_icons_sidebar_synth_index_ic_synth_normal_svg__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../sass/icons/sidebar/synth_index/ic-synth-normal.svg */ \"./sass/icons/sidebar/synth_index/ic-synth-normal.svg\");\n/* harmony import */ var _sass_icons_sidebar_synth_index_ic_synth_normal_svg__WEBPACK_IMPORTED_MODULE_43___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_sidebar_synth_index_ic_synth_normal_svg__WEBPACK_IMPORTED_MODULE_43__);\n/* harmony import */ var _sass_icons_sidebar_volatility_ic_volatility_normal_svg__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../sass/icons/sidebar/volatility/ic-volatility-normal.svg */ \"./sass/icons/sidebar/volatility/ic-volatility-normal.svg\");\n/* harmony import */ var _sass_icons_sidebar_volatility_ic_volatility_normal_svg__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_sidebar_volatility_ic_volatility_normal_svg__WEBPACK_IMPORTED_MODULE_44__);\n/* harmony import */ var _sass_icons_search_ic_search_normal_svg__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../sass/icons/search/ic-search-normal.svg */ \"./sass/icons/search/ic-search-normal.svg\");\n/* harmony import */ var _sass_icons_search_ic_search_normal_svg__WEBPACK_IMPORTED_MODULE_45___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_search_ic_search_normal_svg__WEBPACK_IMPORTED_MODULE_45__);\n/* harmony import */ var _sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../sass/icons/edit/ic-edit.svg */ \"./sass/icons/edit/ic-edit.svg\");\n/* harmony import */ var _sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_46___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_46__);\n/* harmony import */ var _sass_icons_dropdown_ic_dropdown_svg__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../sass/icons/dropdown/ic-dropdown.svg */ \"./sass/icons/dropdown/ic-dropdown.svg\");\n/* harmony import */ var _sass_icons_dropdown_ic_dropdown_svg__WEBPACK_IMPORTED_MODULE_47___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_dropdown_ic_dropdown_svg__WEBPACK_IMPORTED_MODULE_47__);\n/* harmony import */ var _sass_icons_chart_settings_setting_ic_position_left_svg__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../sass/icons/chart settings/setting/ic-position-left.svg */ \"./sass/icons/chart settings/setting/ic-position-left.svg\");\n/* harmony import */ var _sass_icons_chart_settings_setting_ic_position_left_svg__WEBPACK_IMPORTED_MODULE_48___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_setting_ic_position_left_svg__WEBPACK_IMPORTED_MODULE_48__);\n/* harmony import */ var _sass_icons_chart_settings_setting_ic_position_bottom_svg__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../sass/icons/chart settings/setting/ic-position-bottom.svg */ \"./sass/icons/chart settings/setting/ic-position-bottom.svg\");\n/* harmony import */ var _sass_icons_chart_settings_setting_ic_position_bottom_svg__WEBPACK_IMPORTED_MODULE_49___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_settings_setting_ic_position_bottom_svg__WEBPACK_IMPORTED_MODULE_49__);\n/* harmony import */ var _sass_icons_back_ic_back_svg__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../sass/icons/back/ic-back.svg */ \"./sass/icons/back/ic-back.svg\");\n/* harmony import */ var _sass_icons_back_ic_back_svg__WEBPACK_IMPORTED_MODULE_50___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_back_ic_back_svg__WEBPACK_IMPORTED_MODULE_50__);\n/* harmony import */ var _sass_icons_pencil_ic_pencil_svg__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../../sass/icons/pencil/ic-pencil.svg */ \"./sass/icons/pencil/ic-pencil.svg\");\n/* harmony import */ var _sass_icons_pencil_ic_pencil_svg__WEBPACK_IMPORTED_MODULE_51___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_pencil_ic_pencil_svg__WEBPACK_IMPORTED_MODULE_51__);\n/* harmony import */ var _sass_icons_common_ic_drawing_tool_svg__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../../sass/icons/common/ic-drawing-tool.svg */ \"./sass/icons/common/ic-drawing-tool.svg\");\n/* harmony import */ var _sass_icons_common_ic_drawing_tool_svg__WEBPACK_IMPORTED_MODULE_52___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_drawing_tool_svg__WEBPACK_IMPORTED_MODULE_52__);\n/* harmony import */ var _sass_icons_common_ic_help_center_svg__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../../sass/icons/common/ic-help-center.svg */ \"./sass/icons/common/ic-help-center.svg\");\n/* harmony import */ var _sass_icons_common_ic_help_center_svg__WEBPACK_IMPORTED_MODULE_53___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_help_center_svg__WEBPACK_IMPORTED_MODULE_53__);\n/* harmony import */ var _sass_icons_common_ic_download_svg__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../../sass/icons/common/ic-download.svg */ \"./sass/icons/common/ic-download.svg\");\n/* harmony import */ var _sass_icons_common_ic_download_svg__WEBPACK_IMPORTED_MODULE_54___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_download_svg__WEBPACK_IMPORTED_MODULE_54__);\n/* harmony import */ var _sass_icons_common_ic_indicators_svg__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../../sass/icons/common/ic-indicators.svg */ \"./sass/icons/common/ic-indicators.svg\");\n/* harmony import */ var _sass_icons_common_ic_indicators_svg__WEBPACK_IMPORTED_MODULE_55___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_indicators_svg__WEBPACK_IMPORTED_MODULE_55__);\n/* harmony import */ var _sass_icons_common_ic_templates_svg__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../../sass/icons/common/ic-templates.svg */ \"./sass/icons/common/ic-templates.svg\");\n/* harmony import */ var _sass_icons_common_ic_templates_svg__WEBPACK_IMPORTED_MODULE_56___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_templates_svg__WEBPACK_IMPORTED_MODULE_56__);\n/* harmony import */ var _sass_icons_common_full_screen_svg__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../../sass/icons/common/full-screen.svg */ \"./sass/icons/common/full-screen.svg\");\n/* harmony import */ var _sass_icons_common_full_screen_svg__WEBPACK_IMPORTED_MODULE_57___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_full_screen_svg__WEBPACK_IMPORTED_MODULE_57__);\n/* harmony import */ var _sass_icons_alert_message_warning_svg__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../../sass/icons/alert message/warning.svg */ \"./sass/icons/alert message/warning.svg\");\n/* harmony import */ var _sass_icons_alert_message_warning_svg__WEBPACK_IMPORTED_MODULE_58___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_alert_message_warning_svg__WEBPACK_IMPORTED_MODULE_58__);\n/* harmony import */ var _sass_icons_alert_message_error_svg__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../../sass/icons/alert message/error.svg */ \"./sass/icons/alert message/error.svg\");\n/* harmony import */ var _sass_icons_alert_message_error_svg__WEBPACK_IMPORTED_MODULE_59___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_alert_message_error_svg__WEBPACK_IMPORTED_MODULE_59__);\n/* harmony import */ var _sass_icons_alert_message_success_svg__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../../sass/icons/alert message/success.svg */ \"./sass/icons/alert message/success.svg\");\n/* harmony import */ var _sass_icons_alert_message_success_svg__WEBPACK_IMPORTED_MODULE_60___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_alert_message_success_svg__WEBPACK_IMPORTED_MODULE_60__);\n/* harmony import */ var _sass_icons_alert_message_info_svg__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../../sass/icons/alert message/info.svg */ \"./sass/icons/alert message/info.svg\");\n/* harmony import */ var _sass_icons_alert_message_info_svg__WEBPACK_IMPORTED_MODULE_61___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_alert_message_info_svg__WEBPACK_IMPORTED_MODULE_61__);\n/* harmony import */ var _sass_icons_navigation_widgets_ic_home_svg__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../../sass/icons/navigation-widgets/ic-home.svg */ \"./sass/icons/navigation-widgets/ic-home.svg\");\n/* harmony import */ var _sass_icons_navigation_widgets_ic_home_svg__WEBPACK_IMPORTED_MODULE_62___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_navigation_widgets_ic_home_svg__WEBPACK_IMPORTED_MODULE_62__);\n/* harmony import */ var _sass_icons_navigation_widgets_ic_scale_full_svg__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../../sass/icons/navigation-widgets/ic-scale-full.svg */ \"./sass/icons/navigation-widgets/ic-scale-full.svg\");\n/* harmony import */ var _sass_icons_navigation_widgets_ic_scale_full_svg__WEBPACK_IMPORTED_MODULE_63___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_navigation_widgets_ic_scale_full_svg__WEBPACK_IMPORTED_MODULE_63__);\n/* harmony import */ var _sass_icons_navigation_widgets_ic_zoomin_svg__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../../sass/icons/navigation-widgets/ic-zoomin.svg */ \"./sass/icons/navigation-widgets/ic-zoomin.svg\");\n/* harmony import */ var _sass_icons_navigation_widgets_ic_zoomin_svg__WEBPACK_IMPORTED_MODULE_64___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_navigation_widgets_ic_zoomin_svg__WEBPACK_IMPORTED_MODULE_64__);\n/* harmony import */ var _sass_icons_navigation_widgets_ic_zoomout_svg__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../../sass/icons/navigation-widgets/ic-zoomout.svg */ \"./sass/icons/navigation-widgets/ic-zoomout.svg\");\n/* harmony import */ var _sass_icons_navigation_widgets_ic_zoomout_svg__WEBPACK_IMPORTED_MODULE_65___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_navigation_widgets_ic_zoomout_svg__WEBPACK_IMPORTED_MODULE_65__);\n/* harmony import */ var _sass_icons_chart_type_ic_area_svg__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ../../sass/icons/chart-type/ic-area.svg */ \"./sass/icons/chart-type/ic-area.svg\");\n/* harmony import */ var _sass_icons_chart_type_ic_area_svg__WEBPACK_IMPORTED_MODULE_66___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_type_ic_area_svg__WEBPACK_IMPORTED_MODULE_66__);\n/* harmony import */ var _sass_icons_chart_type_ic_candle_svg__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ../../sass/icons/chart-type/ic-candle.svg */ \"./sass/icons/chart-type/ic-candle.svg\");\n/* harmony import */ var _sass_icons_chart_type_ic_candle_svg__WEBPACK_IMPORTED_MODULE_67___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_type_ic_candle_svg__WEBPACK_IMPORTED_MODULE_67__);\n/* harmony import */ var _sass_icons_chart_type_ic_hollow_svg__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ../../sass/icons/chart-type/ic-hollow.svg */ \"./sass/icons/chart-type/ic-hollow.svg\");\n/* harmony import */ var _sass_icons_chart_type_ic_hollow_svg__WEBPACK_IMPORTED_MODULE_68___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_type_ic_hollow_svg__WEBPACK_IMPORTED_MODULE_68__);\n/* harmony import */ var _sass_icons_chart_type_ic_ohlc_svg__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ../../sass/icons/chart-type/ic-ohlc.svg */ \"./sass/icons/chart-type/ic-ohlc.svg\");\n/* harmony import */ var _sass_icons_chart_type_ic_ohlc_svg__WEBPACK_IMPORTED_MODULE_69___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_type_ic_ohlc_svg__WEBPACK_IMPORTED_MODULE_69__);\n/* harmony import */ var _sass_icons_chart_type_ic_area_grayscale_svg__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ../../sass/icons/chart-type/ic-area-grayscale.svg */ \"./sass/icons/chart-type/ic-area-grayscale.svg\");\n/* harmony import */ var _sass_icons_chart_type_ic_area_grayscale_svg__WEBPACK_IMPORTED_MODULE_70___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_type_ic_area_grayscale_svg__WEBPACK_IMPORTED_MODULE_70__);\n/* harmony import */ var _sass_icons_chart_type_ic_candle_grayscale_svg__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ../../sass/icons/chart-type/ic-candle-grayscale.svg */ \"./sass/icons/chart-type/ic-candle-grayscale.svg\");\n/* harmony import */ var _sass_icons_chart_type_ic_candle_grayscale_svg__WEBPACK_IMPORTED_MODULE_71___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_type_ic_candle_grayscale_svg__WEBPACK_IMPORTED_MODULE_71__);\n/* harmony import */ var _sass_icons_chart_type_ic_hollow_grayscale_svg__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ../../sass/icons/chart-type/ic-hollow-grayscale.svg */ \"./sass/icons/chart-type/ic-hollow-grayscale.svg\");\n/* harmony import */ var _sass_icons_chart_type_ic_hollow_grayscale_svg__WEBPACK_IMPORTED_MODULE_72___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_type_ic_hollow_grayscale_svg__WEBPACK_IMPORTED_MODULE_72__);\n/* harmony import */ var _sass_icons_chart_type_ic_ohlc_grayscale_svg__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ../../sass/icons/chart-type/ic-ohlc-grayscale.svg */ \"./sass/icons/chart-type/ic-ohlc-grayscale.svg\");\n/* harmony import */ var _sass_icons_chart_type_ic_ohlc_grayscale_svg__WEBPACK_IMPORTED_MODULE_73___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_type_ic_ohlc_grayscale_svg__WEBPACK_IMPORTED_MODULE_73__);\n/* harmony import */ var _sass_icons_arrows_ic_arrow_green_svg__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ../../sass/icons/arrows/ic-arrow-green.svg */ \"./sass/icons/arrows/ic-arrow-green.svg\");\n/* harmony import */ var _sass_icons_arrows_ic_arrow_green_svg__WEBPACK_IMPORTED_MODULE_74___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_arrows_ic_arrow_green_svg__WEBPACK_IMPORTED_MODULE_74__);\n/* harmony import */ var _sass_icons_arrows_ic_arrow_orange_svg__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ../../sass/icons/arrows/ic-arrow-orange.svg */ \"./sass/icons/arrows/ic-arrow-orange.svg\");\n/* harmony import */ var _sass_icons_arrows_ic_arrow_orange_svg__WEBPACK_IMPORTED_MODULE_75___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_arrows_ic_arrow_orange_svg__WEBPACK_IMPORTED_MODULE_75__);\n/* harmony import */ var _sass_icons_placeholder_ic_placeholder_svg__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ../../sass/icons/placeholder/ic-placeholder.svg */ \"./sass/icons/placeholder/ic-placeholder.svg\");\n/* harmony import */ var _sass_icons_placeholder_ic_placeholder_svg__WEBPACK_IMPORTED_MODULE_76___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_placeholder_ic_placeholder_svg__WEBPACK_IMPORTED_MODULE_76__);\n/* harmony import */ var _sass_icons_flags_aud_svg__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ../../sass/icons/flags/aud.svg */ \"./sass/icons/flags/aud.svg\");\n/* harmony import */ var _sass_icons_flags_aud_svg__WEBPACK_IMPORTED_MODULE_77___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_aud_svg__WEBPACK_IMPORTED_MODULE_77__);\n/* harmony import */ var _sass_icons_flags_cad_svg__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ../../sass/icons/flags/cad.svg */ \"./sass/icons/flags/cad.svg\");\n/* harmony import */ var _sass_icons_flags_cad_svg__WEBPACK_IMPORTED_MODULE_78___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_cad_svg__WEBPACK_IMPORTED_MODULE_78__);\n/* harmony import */ var _sass_icons_flags_chf_svg__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ../../sass/icons/flags/chf.svg */ \"./sass/icons/flags/chf.svg\");\n/* harmony import */ var _sass_icons_flags_chf_svg__WEBPACK_IMPORTED_MODULE_79___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_chf_svg__WEBPACK_IMPORTED_MODULE_79__);\n/* harmony import */ var _sass_icons_flags_eur_svg__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ../../sass/icons/flags/eur.svg */ \"./sass/icons/flags/eur.svg\");\n/* harmony import */ var _sass_icons_flags_eur_svg__WEBPACK_IMPORTED_MODULE_80___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_eur_svg__WEBPACK_IMPORTED_MODULE_80__);\n/* harmony import */ var _sass_icons_flags_gbp_svg__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ../../sass/icons/flags/gbp.svg */ \"./sass/icons/flags/gbp.svg\");\n/* harmony import */ var _sass_icons_flags_gbp_svg__WEBPACK_IMPORTED_MODULE_81___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_gbp_svg__WEBPACK_IMPORTED_MODULE_81__);\n/* harmony import */ var _sass_icons_flags_jpy_svg__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ../../sass/icons/flags/jpy.svg */ \"./sass/icons/flags/jpy.svg\");\n/* harmony import */ var _sass_icons_flags_jpy_svg__WEBPACK_IMPORTED_MODULE_82___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_jpy_svg__WEBPACK_IMPORTED_MODULE_82__);\n/* harmony import */ var _sass_icons_flags_mxn_svg__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ../../sass/icons/flags/mxn.svg */ \"./sass/icons/flags/mxn.svg\");\n/* harmony import */ var _sass_icons_flags_mxn_svg__WEBPACK_IMPORTED_MODULE_83___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_mxn_svg__WEBPACK_IMPORTED_MODULE_83__);\n/* harmony import */ var _sass_icons_flags_nok_svg__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ../../sass/icons/flags/nok.svg */ \"./sass/icons/flags/nok.svg\");\n/* harmony import */ var _sass_icons_flags_nok_svg__WEBPACK_IMPORTED_MODULE_84___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_nok_svg__WEBPACK_IMPORTED_MODULE_84__);\n/* harmony import */ var _sass_icons_flags_nzd_svg__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ../../sass/icons/flags/nzd.svg */ \"./sass/icons/flags/nzd.svg\");\n/* harmony import */ var _sass_icons_flags_nzd_svg__WEBPACK_IMPORTED_MODULE_85___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_nzd_svg__WEBPACK_IMPORTED_MODULE_85__);\n/* harmony import */ var _sass_icons_flags_pln_svg__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ../../sass/icons/flags/pln.svg */ \"./sass/icons/flags/pln.svg\");\n/* harmony import */ var _sass_icons_flags_pln_svg__WEBPACK_IMPORTED_MODULE_86___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_pln_svg__WEBPACK_IMPORTED_MODULE_86__);\n/* harmony import */ var _sass_icons_flags_sek_svg__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ../../sass/icons/flags/sek.svg */ \"./sass/icons/flags/sek.svg\");\n/* harmony import */ var _sass_icons_flags_sek_svg__WEBPACK_IMPORTED_MODULE_87___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_sek_svg__WEBPACK_IMPORTED_MODULE_87__);\n/* harmony import */ var _sass_icons_flags_usd_svg__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ../../sass/icons/flags/usd.svg */ \"./sass/icons/flags/usd.svg\");\n/* harmony import */ var _sass_icons_flags_usd_svg__WEBPACK_IMPORTED_MODULE_88___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_usd_svg__WEBPACK_IMPORTED_MODULE_88__);\n/* harmony import */ var _sass_icons_flags_portugal_svg__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ../../sass/icons/flags/portugal.svg */ \"./sass/icons/flags/portugal.svg\");\n/* harmony import */ var _sass_icons_flags_portugal_svg__WEBPACK_IMPORTED_MODULE_89___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_portugal_svg__WEBPACK_IMPORTED_MODULE_89__);\n/* harmony import */ var _sass_icons_flags_russia_svg__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! ../../sass/icons/flags/russia.svg */ \"./sass/icons/flags/russia.svg\");\n/* harmony import */ var _sass_icons_flags_russia_svg__WEBPACK_IMPORTED_MODULE_90___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_russia_svg__WEBPACK_IMPORTED_MODULE_90__);\n/* harmony import */ var _sass_icons_flags_thailand_svg__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! ../../sass/icons/flags/thailand.svg */ \"./sass/icons/flags/thailand.svg\");\n/* harmony import */ var _sass_icons_flags_thailand_svg__WEBPACK_IMPORTED_MODULE_91___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_thailand_svg__WEBPACK_IMPORTED_MODULE_91__);\n/* harmony import */ var _sass_icons_flags_indonesia_svg__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! ../../sass/icons/flags/indonesia.svg */ \"./sass/icons/flags/indonesia.svg\");\n/* harmony import */ var _sass_icons_flags_indonesia_svg__WEBPACK_IMPORTED_MODULE_92___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_indonesia_svg__WEBPACK_IMPORTED_MODULE_92__);\n/* harmony import */ var _sass_icons_flags_vietnam_svg__WEBPACK_IMPORTED_MODULE_93__ = __webpack_require__(/*! ../../sass/icons/flags/vietnam.svg */ \"./sass/icons/flags/vietnam.svg\");\n/* harmony import */ var _sass_icons_flags_vietnam_svg__WEBPACK_IMPORTED_MODULE_93___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_vietnam_svg__WEBPACK_IMPORTED_MODULE_93__);\n/* harmony import */ var _sass_icons_flags_italy_svg__WEBPACK_IMPORTED_MODULE_94__ = __webpack_require__(/*! ../../sass/icons/flags/italy.svg */ \"./sass/icons/flags/italy.svg\");\n/* harmony import */ var _sass_icons_flags_italy_svg__WEBPACK_IMPORTED_MODULE_94___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_italy_svg__WEBPACK_IMPORTED_MODULE_94__);\n/* harmony import */ var _sass_icons_flags_chinese_svg__WEBPACK_IMPORTED_MODULE_95__ = __webpack_require__(/*! ../../sass/icons/flags/chinese.svg */ \"./sass/icons/flags/chinese.svg\");\n/* harmony import */ var _sass_icons_flags_chinese_svg__WEBPACK_IMPORTED_MODULE_95___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_chinese_svg__WEBPACK_IMPORTED_MODULE_95__);\n/* harmony import */ var _sass_icons_flags_chinese_traditional_svg__WEBPACK_IMPORTED_MODULE_96__ = __webpack_require__(/*! ../../sass/icons/flags/chinese-traditional.svg */ \"./sass/icons/flags/chinese-traditional.svg\");\n/* harmony import */ var _sass_icons_flags_chinese_traditional_svg__WEBPACK_IMPORTED_MODULE_96___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_chinese_traditional_svg__WEBPACK_IMPORTED_MODULE_96__);\n/* harmony import */ var _sass_icons_flags_german_svg__WEBPACK_IMPORTED_MODULE_97__ = __webpack_require__(/*! ../../sass/icons/flags/german.svg */ \"./sass/icons/flags/german.svg\");\n/* harmony import */ var _sass_icons_flags_german_svg__WEBPACK_IMPORTED_MODULE_97___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_german_svg__WEBPACK_IMPORTED_MODULE_97__);\n/* harmony import */ var _sass_icons_flags_hong_kong_svg__WEBPACK_IMPORTED_MODULE_98__ = __webpack_require__(/*! ../../sass/icons/flags/hong kong.svg */ \"./sass/icons/flags/hong kong.svg\");\n/* harmony import */ var _sass_icons_flags_hong_kong_svg__WEBPACK_IMPORTED_MODULE_98___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_hong_kong_svg__WEBPACK_IMPORTED_MODULE_98__);\n/* harmony import */ var _sass_icons_flags_french_svg__WEBPACK_IMPORTED_MODULE_99__ = __webpack_require__(/*! ../../sass/icons/flags/french.svg */ \"./sass/icons/flags/french.svg\");\n/* harmony import */ var _sass_icons_flags_french_svg__WEBPACK_IMPORTED_MODULE_99___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_french_svg__WEBPACK_IMPORTED_MODULE_99__);\n/* harmony import */ var _sass_icons_flags_dutch_svg__WEBPACK_IMPORTED_MODULE_100__ = __webpack_require__(/*! ../../sass/icons/flags/dutch.svg */ \"./sass/icons/flags/dutch.svg\");\n/* harmony import */ var _sass_icons_flags_dutch_svg__WEBPACK_IMPORTED_MODULE_100___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_dutch_svg__WEBPACK_IMPORTED_MODULE_100__);\n/* harmony import */ var _sass_icons_flags_spanish_svg__WEBPACK_IMPORTED_MODULE_101__ = __webpack_require__(/*! ../../sass/icons/flags/spanish.svg */ \"./sass/icons/flags/spanish.svg\");\n/* harmony import */ var _sass_icons_flags_spanish_svg__WEBPACK_IMPORTED_MODULE_101___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_spanish_svg__WEBPACK_IMPORTED_MODULE_101__);\n/* harmony import */ var _sass_icons_flags_wallstreet_svg__WEBPACK_IMPORTED_MODULE_102__ = __webpack_require__(/*! ../../sass/icons/flags/wallstreet.svg */ \"./sass/icons/flags/wallstreet.svg\");\n/* harmony import */ var _sass_icons_flags_wallstreet_svg__WEBPACK_IMPORTED_MODULE_102___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_flags_wallstreet_svg__WEBPACK_IMPORTED_MODULE_102__);\n/* harmony import */ var _sass_icons_active_symbols_energy_oil_usd_ic_oilusd_svg__WEBPACK_IMPORTED_MODULE_103__ = __webpack_require__(/*! ../../sass/icons/active-symbols/energy/oil usd/ic-oilusd.svg */ \"./sass/icons/active-symbols/energy/oil usd/ic-oilusd.svg\");\n/* harmony import */ var _sass_icons_active_symbols_energy_oil_usd_ic_oilusd_svg__WEBPACK_IMPORTED_MODULE_103___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_energy_oil_usd_ic_oilusd_svg__WEBPACK_IMPORTED_MODULE_103__);\n/* harmony import */ var _sass_icons_active_symbols_metals_ic_metal_svg__WEBPACK_IMPORTED_MODULE_104__ = __webpack_require__(/*! ../../sass/icons/active-symbols/metals/ic-metal.svg */ \"./sass/icons/active-symbols/metals/ic-metal.svg\");\n/* harmony import */ var _sass_icons_active_symbols_metals_ic_metal_svg__WEBPACK_IMPORTED_MODULE_104___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_metals_ic_metal_svg__WEBPACK_IMPORTED_MODULE_104__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_10_index_ic_10_index_svg__WEBPACK_IMPORTED_MODULE_105__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/10 index/ic-10-index.svg */ \"./sass/icons/active-symbols/volatility/10 index/ic-10-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_10_index_ic_10_index_svg__WEBPACK_IMPORTED_MODULE_105___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_10_index_ic_10_index_svg__WEBPACK_IMPORTED_MODULE_105__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_25_index_ic_25_index_svg__WEBPACK_IMPORTED_MODULE_106__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/25 index/ic-25-index.svg */ \"./sass/icons/active-symbols/volatility/25 index/ic-25-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_25_index_ic_25_index_svg__WEBPACK_IMPORTED_MODULE_106___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_25_index_ic_25_index_svg__WEBPACK_IMPORTED_MODULE_106__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_50_index_ic_50_index_svg__WEBPACK_IMPORTED_MODULE_107__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/50 index/ic-50-index.svg */ \"./sass/icons/active-symbols/volatility/50 index/ic-50-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_50_index_ic_50_index_svg__WEBPACK_IMPORTED_MODULE_107___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_50_index_ic_50_index_svg__WEBPACK_IMPORTED_MODULE_107__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_75_index_ic_75_index_svg__WEBPACK_IMPORTED_MODULE_108__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/75 index/ic-75-index.svg */ \"./sass/icons/active-symbols/volatility/75 index/ic-75-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_75_index_ic_75_index_svg__WEBPACK_IMPORTED_MODULE_108___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_75_index_ic_75_index_svg__WEBPACK_IMPORTED_MODULE_108__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_100_index_ic_100_index_svg__WEBPACK_IMPORTED_MODULE_109__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/100 index/ic-100-index.svg */ \"./sass/icons/active-symbols/volatility/100 index/ic-100-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_100_index_ic_100_index_svg__WEBPACK_IMPORTED_MODULE_109___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_100_index_ic_100_index_svg__WEBPACK_IMPORTED_MODULE_109__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_1s10_index_ic_10_1s_index_svg__WEBPACK_IMPORTED_MODULE_110__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/1s10 index/ic-10-1s-index.svg */ \"./sass/icons/active-symbols/volatility/1s10 index/ic-10-1s-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_1s10_index_ic_10_1s_index_svg__WEBPACK_IMPORTED_MODULE_110___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_1s10_index_ic_10_1s_index_svg__WEBPACK_IMPORTED_MODULE_110__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_1s25_index_light_25_1s_index_svg__WEBPACK_IMPORTED_MODULE_111__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/1s25 index/light-25(1s)index.svg */ \"./sass/icons/active-symbols/volatility/1s25 index/light-25(1s)index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_1s25_index_light_25_1s_index_svg__WEBPACK_IMPORTED_MODULE_111___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_1s25_index_light_25_1s_index_svg__WEBPACK_IMPORTED_MODULE_111__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_1s50_index_light_50_1s_index_svg__WEBPACK_IMPORTED_MODULE_112__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/1s50 index/light-50(1s) index.svg */ \"./sass/icons/active-symbols/volatility/1s50 index/light-50(1s) index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_1s50_index_light_50_1s_index_svg__WEBPACK_IMPORTED_MODULE_112___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_1s50_index_light_50_1s_index_svg__WEBPACK_IMPORTED_MODULE_112__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_1s75_index_light_75_1s_index_svg__WEBPACK_IMPORTED_MODULE_113__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/1s75 index/light-75(1s) index.svg */ \"./sass/icons/active-symbols/volatility/1s75 index/light-75(1s) index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_1s75_index_light_75_1s_index_svg__WEBPACK_IMPORTED_MODULE_113___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_1s75_index_light_75_1s_index_svg__WEBPACK_IMPORTED_MODULE_113__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_1s100_index_ic_100_1s_index_svg__WEBPACK_IMPORTED_MODULE_114__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/1s100 index/ic-100-1s-index.svg */ \"./sass/icons/active-symbols/volatility/1s100 index/ic-100-1s-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_1s100_index_ic_100_1s_index_svg__WEBPACK_IMPORTED_MODULE_114___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_1s100_index_ic_100_1s_index_svg__WEBPACK_IMPORTED_MODULE_114__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_crash500_index_crash500_index_svg__WEBPACK_IMPORTED_MODULE_115__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/crash500 index/crash500 index.svg */ \"./sass/icons/active-symbols/volatility/crash500 index/crash500 index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_crash500_index_crash500_index_svg__WEBPACK_IMPORTED_MODULE_115___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_crash500_index_crash500_index_svg__WEBPACK_IMPORTED_MODULE_115__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_crash1000_index_crash1000_index_svg__WEBPACK_IMPORTED_MODULE_116__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/crash1000 index/crash1000 index.svg */ \"./sass/icons/active-symbols/volatility/crash1000 index/crash1000 index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_crash1000_index_crash1000_index_svg__WEBPACK_IMPORTED_MODULE_116___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_crash1000_index_crash1000_index_svg__WEBPACK_IMPORTED_MODULE_116__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_boom500_index_boom500_index_svg__WEBPACK_IMPORTED_MODULE_117__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/boom500 index/boom500 index.svg */ \"./sass/icons/active-symbols/volatility/boom500 index/boom500 index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_boom500_index_boom500_index_svg__WEBPACK_IMPORTED_MODULE_117___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_boom500_index_boom500_index_svg__WEBPACK_IMPORTED_MODULE_117__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_boom1000_index_boom1000_index_svg__WEBPACK_IMPORTED_MODULE_118__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/boom1000 index/boom1000 index.svg */ \"./sass/icons/active-symbols/volatility/boom1000 index/boom1000 index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_boom1000_index_boom1000_index_svg__WEBPACK_IMPORTED_MODULE_118___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_boom1000_index_boom1000_index_svg__WEBPACK_IMPORTED_MODULE_118__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_bear_market_ic_marketbear_svg__WEBPACK_IMPORTED_MODULE_119__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/bear market/ic-marketbear.svg */ \"./sass/icons/active-symbols/volatility/bear market/ic-marketbear.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_bear_market_ic_marketbear_svg__WEBPACK_IMPORTED_MODULE_119___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_bear_market_ic_marketbear_svg__WEBPACK_IMPORTED_MODULE_119__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_bull_market_ic_marketbull_svg__WEBPACK_IMPORTED_MODULE_120__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/bull market/ic-marketbull.svg */ \"./sass/icons/active-symbols/volatility/bull market/ic-marketbull.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_bull_market_ic_marketbull_svg__WEBPACK_IMPORTED_MODULE_120___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_bull_market_ic_marketbull_svg__WEBPACK_IMPORTED_MODULE_120__);\n/* harmony import */ var _sass_icons_active_symbols_volatility_step_index_step_index_svg__WEBPACK_IMPORTED_MODULE_121__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/step index/step index.svg */ \"./sass/icons/active-symbols/volatility/step index/step index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_step_index_step_index_svg__WEBPACK_IMPORTED_MODULE_121___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_volatility_step_index_step_index_svg__WEBPACK_IMPORTED_MODULE_121__);\n/* harmony import */ var _sass_icons_active_symbols_ic_otcbadge_svg__WEBPACK_IMPORTED_MODULE_122__ = __webpack_require__(/*! ../../sass/icons/active-symbols/ic-otcbadge.svg */ \"./sass/icons/active-symbols/ic-otcbadge.svg\");\n/* harmony import */ var _sass_icons_active_symbols_ic_otcbadge_svg__WEBPACK_IMPORTED_MODULE_122___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_ic_otcbadge_svg__WEBPACK_IMPORTED_MODULE_122__);\n/* harmony import */ var _sass_icons_active_symbols_ic_smartfx_placeholder_svg__WEBPACK_IMPORTED_MODULE_123__ = __webpack_require__(/*! ../../sass/icons/active-symbols/ic-smartfx-placeholder.svg */ \"./sass/icons/active-symbols/ic-smartfx-placeholder.svg\");\n/* harmony import */ var _sass_icons_active_symbols_ic_smartfx_placeholder_svg__WEBPACK_IMPORTED_MODULE_123___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_active_symbols_ic_smartfx_placeholder_svg__WEBPACK_IMPORTED_MODULE_123__);\n/* harmony import */ var _sass_icons_shape_ic_empty_state_svg__WEBPACK_IMPORTED_MODULE_124__ = __webpack_require__(/*! ../../sass/icons/shape/ic-empty-state.svg */ \"./sass/icons/shape/ic-empty-state.svg\");\n/* harmony import */ var _sass_icons_shape_ic_empty_state_svg__WEBPACK_IMPORTED_MODULE_124___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_shape_ic_empty_state_svg__WEBPACK_IMPORTED_MODULE_124__);\n/* harmony import */ var _sass_icons_shape_ic_overwrite_state_svg__WEBPACK_IMPORTED_MODULE_125__ = __webpack_require__(/*! ../../sass/icons/shape/ic-overwrite-state.svg */ \"./sass/icons/shape/ic-overwrite-state.svg\");\n/* harmony import */ var _sass_icons_shape_ic_overwrite_state_svg__WEBPACK_IMPORTED_MODULE_125___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_shape_ic_overwrite_state_svg__WEBPACK_IMPORTED_MODULE_125__);\n/* harmony import */ var _sass_icons_common_ic_info_svg__WEBPACK_IMPORTED_MODULE_126__ = __webpack_require__(/*! ../../sass/icons/common/ic-info.svg */ \"./sass/icons/common/ic-info.svg\");\n/* harmony import */ var _sass_icons_common_ic_info_svg__WEBPACK_IMPORTED_MODULE_126___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_info_svg__WEBPACK_IMPORTED_MODULE_126__);\n/* harmony import */ var _sass_icons_common_ic_language_svg__WEBPACK_IMPORTED_MODULE_127__ = __webpack_require__(/*! ../../sass/icons/common/ic-language.svg */ \"./sass/icons/common/ic-language.svg\");\n/* harmony import */ var _sass_icons_common_ic_language_svg__WEBPACK_IMPORTED_MODULE_127___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_language_svg__WEBPACK_IMPORTED_MODULE_127__);\n/* harmony import */ var _sass_icons_common_ic_theme_svg__WEBPACK_IMPORTED_MODULE_128__ = __webpack_require__(/*! ../../sass/icons/common/ic-theme.svg */ \"./sass/icons/common/ic-theme.svg\");\n/* harmony import */ var _sass_icons_common_ic_theme_svg__WEBPACK_IMPORTED_MODULE_128___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_theme_svg__WEBPACK_IMPORTED_MODULE_128__);\n/* harmony import */ var _sass_icons_common_ic_charts_svg__WEBPACK_IMPORTED_MODULE_129__ = __webpack_require__(/*! ../../sass/icons/common/ic-charts.svg */ \"./sass/icons/common/ic-charts.svg\");\n/* harmony import */ var _sass_icons_common_ic_charts_svg__WEBPACK_IMPORTED_MODULE_129___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_charts_svg__WEBPACK_IMPORTED_MODULE_129__);\n/* harmony import */ var _sass_icons_common_ic_checkbox_svg__WEBPACK_IMPORTED_MODULE_130__ = __webpack_require__(/*! ../../sass/icons/common/ic-checkbox.svg */ \"./sass/icons/common/ic-checkbox.svg\");\n/* harmony import */ var _sass_icons_common_ic_checkbox_svg__WEBPACK_IMPORTED_MODULE_130___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_checkbox_svg__WEBPACK_IMPORTED_MODULE_130__);\n/* harmony import */ var _sass_icons_common_ic_checkbox_active_svg__WEBPACK_IMPORTED_MODULE_131__ = __webpack_require__(/*! ../../sass/icons/common/ic-checkbox-active.svg */ \"./sass/icons/common/ic-checkbox-active.svg\");\n/* harmony import */ var _sass_icons_common_ic_checkbox_active_svg__WEBPACK_IMPORTED_MODULE_131___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_checkbox_active_svg__WEBPACK_IMPORTED_MODULE_131__);\n/* harmony import */ var _sass_icons_setting_ic_theme_light_svg__WEBPACK_IMPORTED_MODULE_132__ = __webpack_require__(/*! ../../sass/icons/setting/ic-theme-light.svg */ \"./sass/icons/setting/ic-theme-light.svg\");\n/* harmony import */ var _sass_icons_setting_ic_theme_light_svg__WEBPACK_IMPORTED_MODULE_132___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_ic_theme_light_svg__WEBPACK_IMPORTED_MODULE_132__);\n/* harmony import */ var _sass_icons_setting_ic_theme_dark_svg__WEBPACK_IMPORTED_MODULE_133__ = __webpack_require__(/*! ../../sass/icons/setting/ic-theme-dark.svg */ \"./sass/icons/setting/ic-theme-dark.svg\");\n/* harmony import */ var _sass_icons_setting_ic_theme_dark_svg__WEBPACK_IMPORTED_MODULE_133___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_ic_theme_dark_svg__WEBPACK_IMPORTED_MODULE_133__);\n/* harmony import */ var _sass_icons_setting_countdown_ic_countdown_light_normal_svg__WEBPACK_IMPORTED_MODULE_134__ = __webpack_require__(/*! ../../sass/icons/setting/countdown/ic-countdown-light-normal.svg */ \"./sass/icons/setting/countdown/ic-countdown-light-normal.svg\");\n/* harmony import */ var _sass_icons_setting_countdown_ic_countdown_light_normal_svg__WEBPACK_IMPORTED_MODULE_134___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_countdown_ic_countdown_light_normal_svg__WEBPACK_IMPORTED_MODULE_134__);\n/* harmony import */ var _sass_icons_setting_countdown_ic_countdown_light_active_svg__WEBPACK_IMPORTED_MODULE_135__ = __webpack_require__(/*! ../../sass/icons/setting/countdown/ic-countdown-light-active.svg */ \"./sass/icons/setting/countdown/ic-countdown-light-active.svg\");\n/* harmony import */ var _sass_icons_setting_countdown_ic_countdown_light_active_svg__WEBPACK_IMPORTED_MODULE_135___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_countdown_ic_countdown_light_active_svg__WEBPACK_IMPORTED_MODULE_135__);\n/* harmony import */ var _sass_icons_setting_countdown_ic_countdown_dark_normal_svg__WEBPACK_IMPORTED_MODULE_136__ = __webpack_require__(/*! ../../sass/icons/setting/countdown/ic-countdown-dark-normal.svg */ \"./sass/icons/setting/countdown/ic-countdown-dark-normal.svg\");\n/* harmony import */ var _sass_icons_setting_countdown_ic_countdown_dark_normal_svg__WEBPACK_IMPORTED_MODULE_136___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_countdown_ic_countdown_dark_normal_svg__WEBPACK_IMPORTED_MODULE_136__);\n/* harmony import */ var _sass_icons_setting_countdown_ic_countdown_dark_active_svg__WEBPACK_IMPORTED_MODULE_137__ = __webpack_require__(/*! ../../sass/icons/setting/countdown/ic-countdown-dark-active.svg */ \"./sass/icons/setting/countdown/ic-countdown-dark-active.svg\");\n/* harmony import */ var _sass_icons_setting_countdown_ic_countdown_dark_active_svg__WEBPACK_IMPORTED_MODULE_137___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_countdown_ic_countdown_dark_active_svg__WEBPACK_IMPORTED_MODULE_137__);\n/* harmony import */ var _sass_icons_setting_historical_ic_historical_light_normal_svg__WEBPACK_IMPORTED_MODULE_138__ = __webpack_require__(/*! ../../sass/icons/setting/historical/ic-historical-light-normal.svg */ \"./sass/icons/setting/historical/ic-historical-light-normal.svg\");\n/* harmony import */ var _sass_icons_setting_historical_ic_historical_light_normal_svg__WEBPACK_IMPORTED_MODULE_138___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_historical_ic_historical_light_normal_svg__WEBPACK_IMPORTED_MODULE_138__);\n/* harmony import */ var _sass_icons_setting_historical_ic_historical_light_active_svg__WEBPACK_IMPORTED_MODULE_139__ = __webpack_require__(/*! ../../sass/icons/setting/historical/ic-historical-light-active.svg */ \"./sass/icons/setting/historical/ic-historical-light-active.svg\");\n/* harmony import */ var _sass_icons_setting_historical_ic_historical_light_active_svg__WEBPACK_IMPORTED_MODULE_139___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_historical_ic_historical_light_active_svg__WEBPACK_IMPORTED_MODULE_139__);\n/* harmony import */ var _sass_icons_setting_historical_ic_historical_dark_normal_svg__WEBPACK_IMPORTED_MODULE_140__ = __webpack_require__(/*! ../../sass/icons/setting/historical/ic-historical-dark-normal.svg */ \"./sass/icons/setting/historical/ic-historical-dark-normal.svg\");\n/* harmony import */ var _sass_icons_setting_historical_ic_historical_dark_normal_svg__WEBPACK_IMPORTED_MODULE_140___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_historical_ic_historical_dark_normal_svg__WEBPACK_IMPORTED_MODULE_140__);\n/* harmony import */ var _sass_icons_setting_historical_ic_historical_dark_active_svg__WEBPACK_IMPORTED_MODULE_141__ = __webpack_require__(/*! ../../sass/icons/setting/historical/ic-historical-dark-active.svg */ \"./sass/icons/setting/historical/ic-historical-dark-active.svg\");\n/* harmony import */ var _sass_icons_setting_historical_ic_historical_dark_active_svg__WEBPACK_IMPORTED_MODULE_141___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_historical_ic_historical_dark_active_svg__WEBPACK_IMPORTED_MODULE_141__);\n/* harmony import */ var _sass_icons_setting_highest_lowest_ic_highest_lowest_light_normal_svg__WEBPACK_IMPORTED_MODULE_142__ = __webpack_require__(/*! ../../sass/icons/setting/highest-lowest/ic-highest-lowest-light-normal.svg */ \"./sass/icons/setting/highest-lowest/ic-highest-lowest-light-normal.svg\");\n/* harmony import */ var _sass_icons_setting_highest_lowest_ic_highest_lowest_light_normal_svg__WEBPACK_IMPORTED_MODULE_142___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_highest_lowest_ic_highest_lowest_light_normal_svg__WEBPACK_IMPORTED_MODULE_142__);\n/* harmony import */ var _sass_icons_setting_highest_lowest_ic_highest_lowest_light_active_svg__WEBPACK_IMPORTED_MODULE_143__ = __webpack_require__(/*! ../../sass/icons/setting/highest-lowest/ic-highest-lowest-light-active.svg */ \"./sass/icons/setting/highest-lowest/ic-highest-lowest-light-active.svg\");\n/* harmony import */ var _sass_icons_setting_highest_lowest_ic_highest_lowest_light_active_svg__WEBPACK_IMPORTED_MODULE_143___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_highest_lowest_ic_highest_lowest_light_active_svg__WEBPACK_IMPORTED_MODULE_143__);\n/* harmony import */ var _sass_icons_setting_highest_lowest_ic_highest_lowest_dark_normal_svg__WEBPACK_IMPORTED_MODULE_144__ = __webpack_require__(/*! ../../sass/icons/setting/highest-lowest/ic-highest-lowest-dark-normal.svg */ \"./sass/icons/setting/highest-lowest/ic-highest-lowest-dark-normal.svg\");\n/* harmony import */ var _sass_icons_setting_highest_lowest_ic_highest_lowest_dark_normal_svg__WEBPACK_IMPORTED_MODULE_144___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_highest_lowest_ic_highest_lowest_dark_normal_svg__WEBPACK_IMPORTED_MODULE_144__);\n/* harmony import */ var _sass_icons_setting_highest_lowest_ic_highest_lowest_dark_active_svg__WEBPACK_IMPORTED_MODULE_145__ = __webpack_require__(/*! ../../sass/icons/setting/highest-lowest/ic-highest-lowest-dark-active.svg */ \"./sass/icons/setting/highest-lowest/ic-highest-lowest-dark-active.svg\");\n/* harmony import */ var _sass_icons_setting_highest_lowest_ic_highest_lowest_dark_active_svg__WEBPACK_IMPORTED_MODULE_145___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_setting_highest_lowest_ic_highest_lowest_dark_active_svg__WEBPACK_IMPORTED_MODULE_145__);\n/* harmony import */ var _sass_icons_indicators_ic_momentum_svg__WEBPACK_IMPORTED_MODULE_146__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-momentum.svg */ \"./sass/icons/indicators/ic-momentum.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_momentum_svg__WEBPACK_IMPORTED_MODULE_146___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_momentum_svg__WEBPACK_IMPORTED_MODULE_146__);\n/* harmony import */ var _sass_icons_indicators_ic_trend_light_svg__WEBPACK_IMPORTED_MODULE_147__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-trend-light.svg */ \"./sass/icons/indicators/ic-trend-light.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_trend_light_svg__WEBPACK_IMPORTED_MODULE_147___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_trend_light_svg__WEBPACK_IMPORTED_MODULE_147__);\n/* harmony import */ var _sass_icons_indicators_ic_trend_dark_svg__WEBPACK_IMPORTED_MODULE_148__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-trend-dark.svg */ \"./sass/icons/indicators/ic-trend-dark.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_trend_dark_svg__WEBPACK_IMPORTED_MODULE_148___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_trend_dark_svg__WEBPACK_IMPORTED_MODULE_148__);\n/* harmony import */ var _sass_icons_indicators_ic_volatility_svg__WEBPACK_IMPORTED_MODULE_149__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-volatility.svg */ \"./sass/icons/indicators/ic-volatility.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_volatility_svg__WEBPACK_IMPORTED_MODULE_149___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_volatility_svg__WEBPACK_IMPORTED_MODULE_149__);\n/* harmony import */ var _sass_icons_indicators_ic_cat_averages_svg__WEBPACK_IMPORTED_MODULE_150__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-cat-averages.svg */ \"./sass/icons/indicators/ic-cat-averages.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_cat_averages_svg__WEBPACK_IMPORTED_MODULE_150___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_cat_averages_svg__WEBPACK_IMPORTED_MODULE_150__);\n/* harmony import */ var _sass_icons_indicators_ic_other_svg__WEBPACK_IMPORTED_MODULE_151__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-other.svg */ \"./sass/icons/indicators/ic-other.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_other_svg__WEBPACK_IMPORTED_MODULE_151___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_other_svg__WEBPACK_IMPORTED_MODULE_151__);\n/* harmony import */ var _sass_icons_indicators_ic_awesome_oscillator_svg__WEBPACK_IMPORTED_MODULE_152__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-awesome-oscillator.svg */ \"./sass/icons/indicators/ic-awesome-oscillator.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_awesome_oscillator_svg__WEBPACK_IMPORTED_MODULE_152___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_awesome_oscillator_svg__WEBPACK_IMPORTED_MODULE_152__);\n/* harmony import */ var _sass_icons_indicators_ic_dtrended_svg__WEBPACK_IMPORTED_MODULE_153__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-dtrended.svg */ \"./sass/icons/indicators/ic-dtrended.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_dtrended_svg__WEBPACK_IMPORTED_MODULE_153___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_dtrended_svg__WEBPACK_IMPORTED_MODULE_153__);\n/* harmony import */ var _sass_icons_indicators_ic_gator_svg__WEBPACK_IMPORTED_MODULE_154__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-gator.svg */ \"./sass/icons/indicators/ic-gator.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_gator_svg__WEBPACK_IMPORTED_MODULE_154___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_gator_svg__WEBPACK_IMPORTED_MODULE_154__);\n/* harmony import */ var _sass_icons_indicators_ic_macd_svg__WEBPACK_IMPORTED_MODULE_155__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-macd.svg */ \"./sass/icons/indicators/ic-macd.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_macd_svg__WEBPACK_IMPORTED_MODULE_155___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_macd_svg__WEBPACK_IMPORTED_MODULE_155__);\n/* harmony import */ var _sass_icons_indicators_ic_rate_of_change_svg__WEBPACK_IMPORTED_MODULE_156__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-rate-of-change.svg */ \"./sass/icons/indicators/ic-rate-of-change.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_rate_of_change_svg__WEBPACK_IMPORTED_MODULE_156___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_rate_of_change_svg__WEBPACK_IMPORTED_MODULE_156__);\n/* harmony import */ var _sass_icons_indicators_ic_rsi_svg__WEBPACK_IMPORTED_MODULE_157__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-rsi.svg */ \"./sass/icons/indicators/ic-rsi.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_rsi_svg__WEBPACK_IMPORTED_MODULE_157___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_rsi_svg__WEBPACK_IMPORTED_MODULE_157__);\n/* harmony import */ var _sass_icons_indicators_ic_stochastic_oscillator_svg__WEBPACK_IMPORTED_MODULE_158__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-stochastic-oscillator.svg */ \"./sass/icons/indicators/ic-stochastic-oscillator.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_stochastic_oscillator_svg__WEBPACK_IMPORTED_MODULE_158___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_stochastic_oscillator_svg__WEBPACK_IMPORTED_MODULE_158__);\n/* harmony import */ var _sass_icons_indicators_ic_stochastic_momentum_svg__WEBPACK_IMPORTED_MODULE_159__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-stochastic-momentum.svg */ \"./sass/icons/indicators/ic-stochastic-momentum.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_stochastic_momentum_svg__WEBPACK_IMPORTED_MODULE_159___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_stochastic_momentum_svg__WEBPACK_IMPORTED_MODULE_159__);\n/* harmony import */ var _sass_icons_indicators_ic_william_percent_svg__WEBPACK_IMPORTED_MODULE_160__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-william-percent.svg */ \"./sass/icons/indicators/ic-william-percent.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_william_percent_svg__WEBPACK_IMPORTED_MODULE_160___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_william_percent_svg__WEBPACK_IMPORTED_MODULE_160__);\n/* harmony import */ var _sass_icons_indicators_ic_aroon_svg__WEBPACK_IMPORTED_MODULE_161__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-aroon.svg */ \"./sass/icons/indicators/ic-aroon.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_aroon_svg__WEBPACK_IMPORTED_MODULE_161___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_aroon_svg__WEBPACK_IMPORTED_MODULE_161__);\n/* harmony import */ var _sass_icons_indicators_ic_adx_svg__WEBPACK_IMPORTED_MODULE_162__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-adx.svg */ \"./sass/icons/indicators/ic-adx.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_adx_svg__WEBPACK_IMPORTED_MODULE_162___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_adx_svg__WEBPACK_IMPORTED_MODULE_162__);\n/* harmony import */ var _sass_icons_indicators_ic_commodity_channel_index_svg__WEBPACK_IMPORTED_MODULE_163__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-commodity-channel-index.svg */ \"./sass/icons/indicators/ic-commodity-channel-index.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_commodity_channel_index_svg__WEBPACK_IMPORTED_MODULE_163___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_commodity_channel_index_svg__WEBPACK_IMPORTED_MODULE_163__);\n/* harmony import */ var _sass_icons_indicators_ic_ichimoku_svg__WEBPACK_IMPORTED_MODULE_164__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-ichimoku.svg */ \"./sass/icons/indicators/ic-ichimoku.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_ichimoku_svg__WEBPACK_IMPORTED_MODULE_164___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_ichimoku_svg__WEBPACK_IMPORTED_MODULE_164__);\n/* harmony import */ var _sass_icons_indicators_ic_parabolic_svg__WEBPACK_IMPORTED_MODULE_165__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-parabolic.svg */ \"./sass/icons/indicators/ic-parabolic.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_parabolic_svg__WEBPACK_IMPORTED_MODULE_165___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_parabolic_svg__WEBPACK_IMPORTED_MODULE_165__);\n/* harmony import */ var _sass_icons_indicators_ic_zig_zag_svg__WEBPACK_IMPORTED_MODULE_166__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-zig-zag.svg */ \"./sass/icons/indicators/ic-zig-zag.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_zig_zag_svg__WEBPACK_IMPORTED_MODULE_166___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_zig_zag_svg__WEBPACK_IMPORTED_MODULE_166__);\n/* harmony import */ var _sass_icons_indicators_ic_bollinger_svg__WEBPACK_IMPORTED_MODULE_167__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-bollinger.svg */ \"./sass/icons/indicators/ic-bollinger.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_bollinger_svg__WEBPACK_IMPORTED_MODULE_167___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_bollinger_svg__WEBPACK_IMPORTED_MODULE_167__);\n/* harmony import */ var _sass_icons_indicators_ic_donchian_svg__WEBPACK_IMPORTED_MODULE_168__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-donchian.svg */ \"./sass/icons/indicators/ic-donchian.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_donchian_svg__WEBPACK_IMPORTED_MODULE_168___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_donchian_svg__WEBPACK_IMPORTED_MODULE_168__);\n/* harmony import */ var _sass_icons_indicators_ic_averages_svg__WEBPACK_IMPORTED_MODULE_169__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-averages.svg */ \"./sass/icons/indicators/ic-averages.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_averages_svg__WEBPACK_IMPORTED_MODULE_169___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_averages_svg__WEBPACK_IMPORTED_MODULE_169__);\n/* harmony import */ var _sass_icons_indicators_ic_envelope_svg__WEBPACK_IMPORTED_MODULE_170__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-envelope.svg */ \"./sass/icons/indicators/ic-envelope.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_envelope_svg__WEBPACK_IMPORTED_MODULE_170___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_envelope_svg__WEBPACK_IMPORTED_MODULE_170__);\n/* harmony import */ var _sass_icons_indicators_ic_alligator_svg__WEBPACK_IMPORTED_MODULE_171__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-alligator.svg */ \"./sass/icons/indicators/ic-alligator.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_alligator_svg__WEBPACK_IMPORTED_MODULE_171___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_alligator_svg__WEBPACK_IMPORTED_MODULE_171__);\n/* harmony import */ var _sass_icons_indicators_ic_fractal_chaos_svg__WEBPACK_IMPORTED_MODULE_172__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-fractal-chaos.svg */ \"./sass/icons/indicators/ic-fractal-chaos.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_fractal_chaos_svg__WEBPACK_IMPORTED_MODULE_172___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_fractal_chaos_svg__WEBPACK_IMPORTED_MODULE_172__);\n/* harmony import */ var _sass_icons_indicators_ic_rainbow_svg__WEBPACK_IMPORTED_MODULE_173__ = __webpack_require__(/*! ../../sass/icons/indicators/ic-rainbow.svg */ \"./sass/icons/indicators/ic-rainbow.svg\");\n/* harmony import */ var _sass_icons_indicators_ic_rainbow_svg__WEBPACK_IMPORTED_MODULE_173___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_indicators_ic_rainbow_svg__WEBPACK_IMPORTED_MODULE_173__);\n/* harmony import */ var _sass_icons_draw_tools_ic_channel_svg__WEBPACK_IMPORTED_MODULE_174__ = __webpack_require__(/*! ../../sass/icons/draw-tools/ic-channel.svg */ \"./sass/icons/draw-tools/ic-channel.svg\");\n/* harmony import */ var _sass_icons_draw_tools_ic_channel_svg__WEBPACK_IMPORTED_MODULE_174___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_draw_tools_ic_channel_svg__WEBPACK_IMPORTED_MODULE_174__);\n/* harmony import */ var _sass_icons_draw_tools_ic_continuous_svg__WEBPACK_IMPORTED_MODULE_175__ = __webpack_require__(/*! ../../sass/icons/draw-tools/ic-continuous.svg */ \"./sass/icons/draw-tools/ic-continuous.svg\");\n/* harmony import */ var _sass_icons_draw_tools_ic_continuous_svg__WEBPACK_IMPORTED_MODULE_175___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_draw_tools_ic_continuous_svg__WEBPACK_IMPORTED_MODULE_175__);\n/* harmony import */ var _sass_icons_draw_tools_ic_fibonacci_fan_svg__WEBPACK_IMPORTED_MODULE_176__ = __webpack_require__(/*! ../../sass/icons/draw-tools/ic-fibonacci-fan.svg */ \"./sass/icons/draw-tools/ic-fibonacci-fan.svg\");\n/* harmony import */ var _sass_icons_draw_tools_ic_fibonacci_fan_svg__WEBPACK_IMPORTED_MODULE_176___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_draw_tools_ic_fibonacci_fan_svg__WEBPACK_IMPORTED_MODULE_176__);\n/* harmony import */ var _sass_icons_draw_tools_ic_horizontal_svg__WEBPACK_IMPORTED_MODULE_177__ = __webpack_require__(/*! ../../sass/icons/draw-tools/ic-horizontal.svg */ \"./sass/icons/draw-tools/ic-horizontal.svg\");\n/* harmony import */ var _sass_icons_draw_tools_ic_horizontal_svg__WEBPACK_IMPORTED_MODULE_177___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_draw_tools_ic_horizontal_svg__WEBPACK_IMPORTED_MODULE_177__);\n/* harmony import */ var _sass_icons_draw_tools_ic_line_svg__WEBPACK_IMPORTED_MODULE_178__ = __webpack_require__(/*! ../../sass/icons/draw-tools/ic-line.svg */ \"./sass/icons/draw-tools/ic-line.svg\");\n/* harmony import */ var _sass_icons_draw_tools_ic_line_svg__WEBPACK_IMPORTED_MODULE_178___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_draw_tools_ic_line_svg__WEBPACK_IMPORTED_MODULE_178__);\n/* harmony import */ var _sass_icons_draw_tools_ic_ray_svg__WEBPACK_IMPORTED_MODULE_179__ = __webpack_require__(/*! ../../sass/icons/draw-tools/ic-ray.svg */ \"./sass/icons/draw-tools/ic-ray.svg\");\n/* harmony import */ var _sass_icons_draw_tools_ic_ray_svg__WEBPACK_IMPORTED_MODULE_179___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_draw_tools_ic_ray_svg__WEBPACK_IMPORTED_MODULE_179__);\n/* harmony import */ var _sass_icons_draw_tools_ic_rectangle_svg__WEBPACK_IMPORTED_MODULE_180__ = __webpack_require__(/*! ../../sass/icons/draw-tools/ic-rectangle.svg */ \"./sass/icons/draw-tools/ic-rectangle.svg\");\n/* harmony import */ var _sass_icons_draw_tools_ic_rectangle_svg__WEBPACK_IMPORTED_MODULE_180___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_draw_tools_ic_rectangle_svg__WEBPACK_IMPORTED_MODULE_180__);\n/* harmony import */ var _sass_icons_draw_tools_ic_trend_svg__WEBPACK_IMPORTED_MODULE_181__ = __webpack_require__(/*! ../../sass/icons/draw-tools/ic-trend.svg */ \"./sass/icons/draw-tools/ic-trend.svg\");\n/* harmony import */ var _sass_icons_draw_tools_ic_trend_svg__WEBPACK_IMPORTED_MODULE_181___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_draw_tools_ic_trend_svg__WEBPACK_IMPORTED_MODULE_181__);\n/* harmony import */ var _sass_icons_draw_tools_ic_vertical_svg__WEBPACK_IMPORTED_MODULE_182__ = __webpack_require__(/*! ../../sass/icons/draw-tools/ic-vertical.svg */ \"./sass/icons/draw-tools/ic-vertical.svg\");\n/* harmony import */ var _sass_icons_draw_tools_ic_vertical_svg__WEBPACK_IMPORTED_MODULE_182___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_draw_tools_ic_vertical_svg__WEBPACK_IMPORTED_MODULE_182__);\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n // Chart types:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Energy */\n\n\n/* Metals */\n\n\n/* Synthetic Indices */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Wrapper = function Wrapper(SvgLogo) {\n  return function (props) {\n    var className = props.className,\n        tooltip = props['tooltip-title'],\n        p = _objectWithoutProperties(props, [\"className\", \"tooltip-title\"]); // eslint-disable-line prefer-const\n\n\n    className = \"ic-icon \".concat(className || '');\n    var vb = SvgLogo.viewBox.split(' ').slice(2);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", _extends({\n      className: className,\n      \"tooltip-title\": tooltip\n    }, p), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"svg\", {\n      width: vb[0],\n      height: vb[1]\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"use\", {\n      xlinkHref: __webpack_require__.p + SvgLogo.url\n      /* eslint-disable-line no-undef */\n\n    })), tooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ic-subtitle\"\n    }, tooltip)));\n  };\n};\nvar DrawingCursorIcon = Wrapper(_sass_icons_pencil_ic_pencil_svg__WEBPACK_IMPORTED_MODULE_51___default.a);\nvar ThemeLightIcon = Wrapper(_sass_icons_setting_ic_theme_light_svg__WEBPACK_IMPORTED_MODULE_132___default.a);\nvar ThemeDarkIcon = Wrapper(_sass_icons_setting_ic_theme_dark_svg__WEBPACK_IMPORTED_MODULE_133___default.a);\nvar DrawToolIcon = Wrapper(_sass_icons_common_ic_drawing_tool_svg__WEBPACK_IMPORTED_MODULE_52___default.a);\nvar ActiveIcon = Wrapper(_sass_icons_common_ic_active_svg__WEBPACK_IMPORTED_MODULE_38___default.a);\nvar FullScreenIcon = Wrapper(_sass_icons_common_full_screen_svg__WEBPACK_IMPORTED_MODULE_57___default.a); // Chart Types:\n\nvar BaseLineIcon = Wrapper(_sass_icons_chart_settings_chart_types_baseline_ic_baseline_normal_svg__WEBPACK_IMPORTED_MODULE_2___default.a);\nvar CandleIcon = Wrapper(_sass_icons_chart_settings_chart_types_candle_ic_candle_normal_svg__WEBPACK_IMPORTED_MODULE_3___default.a);\nvar DotIcon = Wrapper(_sass_icons_chart_settings_chart_types_dot_ic_dot_normal_svg__WEBPACK_IMPORTED_MODULE_4___default.a);\nvar LineDotIcon = Wrapper(_sass_icons_chart_settings_chart_types_line_dot_ic_linedot_normal_svg__WEBPACK_IMPORTED_MODULE_5___default.a);\nvar HeikinAshiIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_heikin_ashi_normal_svg__WEBPACK_IMPORTED_MODULE_6___default.a);\nvar HollowCandleIcon = Wrapper(_sass_icons_chart_settings_chart_types_hollow_candle_ic_hollowcandle_normal_svg__WEBPACK_IMPORTED_MODULE_7___default.a);\nvar KagiIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_kagi_normal_svg__WEBPACK_IMPORTED_MODULE_8___default.a);\nvar LineBreakIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_linebreak_normal_svg__WEBPACK_IMPORTED_MODULE_10___default.a);\nvar LineIcon = Wrapper(_sass_icons_chart_settings_chart_types_line_ic_line_normal_svg__WEBPACK_IMPORTED_MODULE_9___default.a);\nvar OHLCIcon = Wrapper(_sass_icons_chart_settings_chart_types_ohlc_ic_ohlc_normal_svg__WEBPACK_IMPORTED_MODULE_11___default.a);\nvar PointFigureIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_pointfigure_normal_svg__WEBPACK_IMPORTED_MODULE_12___default.a);\nvar RangeBarsIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_rangebars_normal_svg__WEBPACK_IMPORTED_MODULE_13___default.a);\nvar RenkoIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_renko_normal_svg__WEBPACK_IMPORTED_MODULE_14___default.a);\nvar TableIcon = Wrapper(_sass_icons_chart_settings_chart_types_table_table_svg__WEBPACK_IMPORTED_MODULE_16___default.a);\nvar AddIcon = Wrapper(_sass_icons_common_ic_add_svg__WEBPACK_IMPORTED_MODULE_20___default.a);\nvar ZoomInIcon = Wrapper(_sass_icons_chart_settings_zoom_in_ic_zoomin_light_svg__WEBPACK_IMPORTED_MODULE_19___default.a);\nvar CloseIcon = Wrapper(_sass_icons_common_ic_close_svg__WEBPACK_IMPORTED_MODULE_21___default.a);\nvar InputNumberMinusIcon = Wrapper(_sass_icons_common_ic_input_number_minus_svg__WEBPACK_IMPORTED_MODULE_22___default.a);\nvar InputNumberPlusIcon = Wrapper(_sass_icons_common_ic_input_number_plus_svg__WEBPACK_IMPORTED_MODULE_23___default.a);\nvar CloseCircleIcon = Wrapper(_sass_icons_close_ic_close_circle_svg__WEBPACK_IMPORTED_MODULE_24___default.a);\nvar CloseBoldIcon = Wrapper(_sass_icons_close_ic_close_bold_svg__WEBPACK_IMPORTED_MODULE_25___default.a);\nvar ComparisonIcon = Wrapper(_sass_icons_chart_settings_comparison_ic_comparison_normal_svg__WEBPACK_IMPORTED_MODULE_26___default.a);\nvar CrosshairOffIcon = Wrapper(_sass_icons_chart_settings_crosshair_ic_crosshair_off_svg__WEBPACK_IMPORTED_MODULE_27___default.a);\nvar CrosshairOnIcon = Wrapper(_sass_icons_chart_settings_crosshair_ic_crosshair_on_svg__WEBPACK_IMPORTED_MODULE_28___default.a);\nvar CrosshairTooltipIcon = Wrapper(_sass_icons_chart_settings_crosshair_ic_crosshair_tooltip_svg__WEBPACK_IMPORTED_MODULE_29___default.a);\nvar DeleteIcon = Wrapper(_sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_30___default.a);\nvar ClearIcon = Wrapper(_sass_icons_clear_ic_clear_svg__WEBPACK_IMPORTED_MODULE_31___default.a);\nvar DrawIcon = Wrapper(_sass_icons_chart_settings_drawing_tools_ic_drawingtools_normal_svg__WEBPACK_IMPORTED_MODULE_32___default.a);\nvar IndicatorIcon = Wrapper(_sass_icons_common_ic_indicators_svg__WEBPACK_IMPORTED_MODULE_55___default.a);\nvar MeasureIcon = Wrapper(_sass_icons_measure_ic_measure_svg__WEBPACK_IMPORTED_MODULE_33___default.a);\nvar ZoomOutIcon = Wrapper(_sass_icons_chart_settings_zoom_out_ic_zoomout_light_svg__WEBPACK_IMPORTED_MODULE_34___default.a);\nvar SplineIcon = Wrapper(_sass_icons_chart_settings_chart_types_spline_ic_spline_normal_svg__WEBPACK_IMPORTED_MODULE_15___default.a);\nvar PngIcon = Wrapper(_sass_icons_download_ic_png_svg__WEBPACK_IMPORTED_MODULE_17___default.a);\nvar CsvIcon = Wrapper(_sass_icons_download_ic_csv_svg__WEBPACK_IMPORTED_MODULE_18___default.a);\nvar StarIcon = Wrapper(_sass_icons_favorite_ic_favorite_normal_svg__WEBPACK_IMPORTED_MODULE_35___default.a);\nvar TemplateIcon = Wrapper(_sass_icons_common_ic_templates_svg__WEBPACK_IMPORTED_MODULE_56___default.a);\nvar TickIcon = Wrapper(_sass_icons_tick_ic_tick_svg__WEBPACK_IMPORTED_MODULE_36___default.a);\nvar TimeIcon = Wrapper(_sass_icons_time_ic_time_svg__WEBPACK_IMPORTED_MODULE_37___default.a);\nvar SearchIcon = Wrapper(_sass_icons_search_ic_search_normal_svg__WEBPACK_IMPORTED_MODULE_45___default.a);\nvar EditIcon = Wrapper(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_46___default.a);\nvar SettingIcon = Wrapper(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_46___default.a);\nvar ArrowIcon = Wrapper(_sass_icons_dropdown_ic_dropdown_svg__WEBPACK_IMPORTED_MODULE_47___default.a);\nvar FavoriteIcon = Wrapper(_sass_icons_favorite_ic_favorite_normal_svg__WEBPACK_IMPORTED_MODULE_35___default.a);\nvar HelpCenterIcon = Wrapper(_sass_icons_common_ic_help_center_svg__WEBPACK_IMPORTED_MODULE_53___default.a);\nvar DownloadIcon = Wrapper(_sass_icons_common_ic_download_svg__WEBPACK_IMPORTED_MODULE_54___default.a);\nvar InfoIcon = Wrapper(_sass_icons_alert_message_info_svg__WEBPACK_IMPORTED_MODULE_61___default.a);\nvar InfoCircleIcon = Wrapper(_sass_icons_common_ic_info_svg__WEBPACK_IMPORTED_MODULE_126___default.a);\nvar PositionLeftIcon = Wrapper(_sass_icons_chart_settings_setting_ic_position_left_svg__WEBPACK_IMPORTED_MODULE_48___default.a);\nvar PositionBottomIcon = Wrapper(_sass_icons_chart_settings_setting_ic_position_bottom_svg__WEBPACK_IMPORTED_MODULE_49___default.a);\nvar BackIcon = Wrapper(_sass_icons_back_ic_back_svg__WEBPACK_IMPORTED_MODULE_50___default.a);\nvar HomeIcon = Wrapper(_sass_icons_navigation_widgets_ic_home_svg__WEBPACK_IMPORTED_MODULE_62___default.a);\nvar ScaleIcon = Wrapper(_sass_icons_navigation_widgets_ic_scale_full_svg__WEBPACK_IMPORTED_MODULE_63___default.a);\nvar ZoominIcon = Wrapper(_sass_icons_navigation_widgets_ic_zoomin_svg__WEBPACK_IMPORTED_MODULE_64___default.a);\nvar ZoomoutIcon = Wrapper(_sass_icons_navigation_widgets_ic_zoomout_svg__WEBPACK_IMPORTED_MODULE_65___default.a);\nvar LanguageIcon = Wrapper(_sass_icons_common_ic_language_svg__WEBPACK_IMPORTED_MODULE_127___default.a);\nvar ThemeIcon = Wrapper(_sass_icons_common_ic_theme_svg__WEBPACK_IMPORTED_MODULE_128___default.a);\nvar ChartIcon = Wrapper(_sass_icons_common_ic_charts_svg__WEBPACK_IMPORTED_MODULE_129___default.a);\nvar CheckboxIcon = Wrapper(_sass_icons_common_ic_checkbox_svg__WEBPACK_IMPORTED_MODULE_130___default.a);\nvar CheckboxActiveIcon = Wrapper(_sass_icons_common_ic_checkbox_active_svg__WEBPACK_IMPORTED_MODULE_131___default.a);\nvar TypeAreaIcon = Wrapper(_sass_icons_chart_type_ic_area_svg__WEBPACK_IMPORTED_MODULE_66___default.a);\nvar TypeCandleIcon = Wrapper(_sass_icons_chart_type_ic_candle_svg__WEBPACK_IMPORTED_MODULE_67___default.a);\nvar TypeHollowIcon = Wrapper(_sass_icons_chart_type_ic_hollow_svg__WEBPACK_IMPORTED_MODULE_68___default.a);\nvar TypeOhlcIcon = Wrapper(_sass_icons_chart_type_ic_ohlc_svg__WEBPACK_IMPORTED_MODULE_69___default.a);\nvar TypeAreaGrayscaleIcon = Wrapper(_sass_icons_chart_type_ic_area_grayscale_svg__WEBPACK_IMPORTED_MODULE_70___default.a);\nvar TypeCandleGrayscaleIcon = Wrapper(_sass_icons_chart_type_ic_candle_grayscale_svg__WEBPACK_IMPORTED_MODULE_71___default.a);\nvar TypeHollowGrayscaleIcon = Wrapper(_sass_icons_chart_type_ic_hollow_grayscale_svg__WEBPACK_IMPORTED_MODULE_72___default.a);\nvar TypeOhlcGrayscaleIcon = Wrapper(_sass_icons_chart_type_ic_ohlc_grayscale_svg__WEBPACK_IMPORTED_MODULE_73___default.a);\nvar IndicatorCatMomentumIcon = Wrapper(_sass_icons_indicators_ic_momentum_svg__WEBPACK_IMPORTED_MODULE_146___default.a);\nvar IndicatorCatTrendLightIcon = Wrapper(_sass_icons_indicators_ic_trend_light_svg__WEBPACK_IMPORTED_MODULE_147___default.a);\nvar IndicatorCatTrendDarkIcon = Wrapper(_sass_icons_indicators_ic_trend_dark_svg__WEBPACK_IMPORTED_MODULE_148___default.a);\nvar IndicatorCatVolatilityIcon = Wrapper(_sass_icons_indicators_ic_volatility_svg__WEBPACK_IMPORTED_MODULE_149___default.a);\nvar IndicatorCatAveragesIcon = Wrapper(_sass_icons_indicators_ic_cat_averages_svg__WEBPACK_IMPORTED_MODULE_150___default.a);\nvar IndicatorCatOtherIcon = Wrapper(_sass_icons_indicators_ic_other_svg__WEBPACK_IMPORTED_MODULE_151___default.a);\nvar IndicatorAwesomeOscillatorIcon = Wrapper(_sass_icons_indicators_ic_awesome_oscillator_svg__WEBPACK_IMPORTED_MODULE_152___default.a);\nvar IndicatorDTrendedIcon = Wrapper(_sass_icons_indicators_ic_dtrended_svg__WEBPACK_IMPORTED_MODULE_153___default.a);\nvar IndicatorGatorIcon = Wrapper(_sass_icons_indicators_ic_gator_svg__WEBPACK_IMPORTED_MODULE_154___default.a);\nvar IndicatorMacdIcon = Wrapper(_sass_icons_indicators_ic_macd_svg__WEBPACK_IMPORTED_MODULE_155___default.a);\nvar IndicatorRateChangeIcon = Wrapper(_sass_icons_indicators_ic_rate_of_change_svg__WEBPACK_IMPORTED_MODULE_156___default.a);\nvar IndicatorRSIIcon = Wrapper(_sass_icons_indicators_ic_rsi_svg__WEBPACK_IMPORTED_MODULE_157___default.a);\nvar IndicatorStochasticOscillatorIcon = Wrapper(_sass_icons_indicators_ic_stochastic_oscillator_svg__WEBPACK_IMPORTED_MODULE_158___default.a);\nvar IndicatorStochasticMomentumIcon = Wrapper(_sass_icons_indicators_ic_stochastic_momentum_svg__WEBPACK_IMPORTED_MODULE_159___default.a);\nvar IndicatorWilliamPercentIcon = Wrapper(_sass_icons_indicators_ic_william_percent_svg__WEBPACK_IMPORTED_MODULE_160___default.a);\nvar IndicatorAroonIcon = Wrapper(_sass_icons_indicators_ic_aroon_svg__WEBPACK_IMPORTED_MODULE_161___default.a);\nvar IndicatorAdxIcon = Wrapper(_sass_icons_indicators_ic_adx_svg__WEBPACK_IMPORTED_MODULE_162___default.a);\nvar IndicatorCommodityChannelIndexIcon = Wrapper(_sass_icons_indicators_ic_commodity_channel_index_svg__WEBPACK_IMPORTED_MODULE_163___default.a);\nvar IndicatorIchimokuIcon = Wrapper(_sass_icons_indicators_ic_ichimoku_svg__WEBPACK_IMPORTED_MODULE_164___default.a);\nvar IndicatorParabolicIcon = Wrapper(_sass_icons_indicators_ic_parabolic_svg__WEBPACK_IMPORTED_MODULE_165___default.a);\nvar IndicatorZigZagIcon = Wrapper(_sass_icons_indicators_ic_zig_zag_svg__WEBPACK_IMPORTED_MODULE_166___default.a);\nvar IndicatorBollingerIcon = Wrapper(_sass_icons_indicators_ic_bollinger_svg__WEBPACK_IMPORTED_MODULE_167___default.a);\nvar IndicatorDonchianIcon = Wrapper(_sass_icons_indicators_ic_donchian_svg__WEBPACK_IMPORTED_MODULE_168___default.a);\nvar IndicatorAveragesIcon = Wrapper(_sass_icons_indicators_ic_averages_svg__WEBPACK_IMPORTED_MODULE_169___default.a);\nvar IndicatorEnvelopeIcon = Wrapper(_sass_icons_indicators_ic_envelope_svg__WEBPACK_IMPORTED_MODULE_170___default.a);\nvar IndicatorAlligatorIcon = Wrapper(_sass_icons_indicators_ic_alligator_svg__WEBPACK_IMPORTED_MODULE_171___default.a);\nvar IndicatorFractalChaosIcon = Wrapper(_sass_icons_indicators_ic_fractal_chaos_svg__WEBPACK_IMPORTED_MODULE_172___default.a);\nvar IndicatorRainbowIcon = Wrapper(_sass_icons_indicators_ic_rainbow_svg__WEBPACK_IMPORTED_MODULE_173___default.a);\nvar MetalIcon = Wrapper(_sass_icons_active_symbols_metals_ic_metal_svg__WEBPACK_IMPORTED_MODULE_104___default.a);\nvar EmptyStateIcon = Wrapper(_sass_icons_shape_ic_empty_state_svg__WEBPACK_IMPORTED_MODULE_124___default.a);\nvar OverwriteStateIcon = Wrapper(_sass_icons_shape_ic_overwrite_state_svg__WEBPACK_IMPORTED_MODULE_125___default.a);\nvar ArrowGreenIcon = Wrapper(_sass_icons_arrows_ic_arrow_green_svg__WEBPACK_IMPORTED_MODULE_74___default.a);\nvar ArrowOrangeIcon = Wrapper(_sass_icons_arrows_ic_arrow_orange_svg__WEBPACK_IMPORTED_MODULE_75___default.a);\nvar DrawToolsChannelIcon = Wrapper(_sass_icons_draw_tools_ic_channel_svg__WEBPACK_IMPORTED_MODULE_174___default.a);\nvar DrawToolsContinuousIcon = Wrapper(_sass_icons_draw_tools_ic_continuous_svg__WEBPACK_IMPORTED_MODULE_175___default.a);\nvar DrawToolsFibonaccifanIcon = Wrapper(_sass_icons_draw_tools_ic_fibonacci_fan_svg__WEBPACK_IMPORTED_MODULE_176___default.a);\nvar DrawToolsHorizontalIcon = Wrapper(_sass_icons_draw_tools_ic_horizontal_svg__WEBPACK_IMPORTED_MODULE_177___default.a);\nvar DrawToolsLineIcon = Wrapper(_sass_icons_draw_tools_ic_line_svg__WEBPACK_IMPORTED_MODULE_178___default.a);\nvar DrawToolsRayIcon = Wrapper(_sass_icons_draw_tools_ic_ray_svg__WEBPACK_IMPORTED_MODULE_179___default.a);\nvar DrawToolsRectangleIcon = Wrapper(_sass_icons_draw_tools_ic_rectangle_svg__WEBPACK_IMPORTED_MODULE_180___default.a);\nvar DrawToolsTrendIcon = Wrapper(_sass_icons_draw_tools_ic_trend_svg__WEBPACK_IMPORTED_MODULE_181___default.a);\nvar DrawToolsVerticalIcon = Wrapper(_sass_icons_draw_tools_ic_vertical_svg__WEBPACK_IMPORTED_MODULE_182___default.a);\nvar alertIconMap = {\n  info: Wrapper(_sass_icons_alert_message_info_svg__WEBPACK_IMPORTED_MODULE_61___default.a),\n  success: Wrapper(_sass_icons_alert_message_success_svg__WEBPACK_IMPORTED_MODULE_60___default.a),\n  warning: Wrapper(_sass_icons_alert_message_warning_svg__WEBPACK_IMPORTED_MODULE_58___default.a),\n  error: Wrapper(_sass_icons_alert_message_error_svg__WEBPACK_IMPORTED_MODULE_59___default.a)\n};\nvar SymbolPlaceholderIcon = Wrapper(_sass_icons_placeholder_ic_placeholder_svg__WEBPACK_IMPORTED_MODULE_76___default.a);\nvar CategoryIconMap = {\n  active: Wrapper(_sass_icons_common_ic_active_svg__WEBPACK_IMPORTED_MODULE_38___default.a),\n  commodities: Wrapper(_sass_icons_sidebar_commodities_ic_commodities_normal_svg__WEBPACK_IMPORTED_MODULE_39___default.a),\n  favorite: Wrapper(_sass_icons_favorite_ic_favorite_normal_svg__WEBPACK_IMPORTED_MODULE_35___default.a),\n  forex: Wrapper(_sass_icons_sidebar_forex_ic_forex_normal_svg__WEBPACK_IMPORTED_MODULE_40___default.a),\n  indices: Wrapper(_sass_icons_sidebar_indices_ic_indices_normal_svg__WEBPACK_IMPORTED_MODULE_41___default.a),\n  stocks: Wrapper(_sass_icons_sidebar_otc_ic_otc_normal_svg__WEBPACK_IMPORTED_MODULE_42___default.a),\n  volidx: Wrapper(_sass_icons_sidebar_volatility_ic_volatility_normal_svg__WEBPACK_IMPORTED_MODULE_44___default.a),\n  synthetic_index: Wrapper(_sass_icons_sidebar_synth_index_ic_synth_normal_svg__WEBPACK_IMPORTED_MODULE_43___default.a),\n  indicators: Wrapper(_sass_icons_common_ic_indicators_svg__WEBPACK_IMPORTED_MODULE_55___default.a)\n};\nvar SettingCountdownMap = {\n  light: {\n    normal: Wrapper(_sass_icons_setting_countdown_ic_countdown_light_normal_svg__WEBPACK_IMPORTED_MODULE_134___default.a),\n    active: Wrapper(_sass_icons_setting_countdown_ic_countdown_light_active_svg__WEBPACK_IMPORTED_MODULE_135___default.a)\n  },\n  dark: {\n    normal: Wrapper(_sass_icons_setting_countdown_ic_countdown_dark_normal_svg__WEBPACK_IMPORTED_MODULE_136___default.a),\n    active: Wrapper(_sass_icons_setting_countdown_ic_countdown_dark_active_svg__WEBPACK_IMPORTED_MODULE_137___default.a)\n  }\n};\nvar SettingHistoricalMap = {\n  light: {\n    normal: Wrapper(_sass_icons_setting_historical_ic_historical_light_normal_svg__WEBPACK_IMPORTED_MODULE_138___default.a),\n    active: Wrapper(_sass_icons_setting_historical_ic_historical_light_active_svg__WEBPACK_IMPORTED_MODULE_139___default.a)\n  },\n  dark: {\n    normal: Wrapper(_sass_icons_setting_historical_ic_historical_dark_normal_svg__WEBPACK_IMPORTED_MODULE_140___default.a),\n    active: Wrapper(_sass_icons_setting_historical_ic_historical_dark_active_svg__WEBPACK_IMPORTED_MODULE_141___default.a)\n  }\n};\nvar SettingHighestLowestMap = {\n  light: {\n    normal: Wrapper(_sass_icons_setting_highest_lowest_ic_highest_lowest_light_normal_svg__WEBPACK_IMPORTED_MODULE_142___default.a),\n    active: Wrapper(_sass_icons_setting_highest_lowest_ic_highest_lowest_light_active_svg__WEBPACK_IMPORTED_MODULE_143___default.a)\n  },\n  dark: {\n    normal: Wrapper(_sass_icons_setting_highest_lowest_ic_highest_lowest_dark_normal_svg__WEBPACK_IMPORTED_MODULE_144___default.a),\n    active: Wrapper(_sass_icons_setting_highest_lowest_ic_highest_lowest_dark_active_svg__WEBPACK_IMPORTED_MODULE_145___default.a)\n  }\n};\nvar FlagIconMap = {\n  AUD: Wrapper(_sass_icons_flags_aud_svg__WEBPACK_IMPORTED_MODULE_77___default.a),\n  CAD: Wrapper(_sass_icons_flags_cad_svg__WEBPACK_IMPORTED_MODULE_78___default.a),\n  CHF: Wrapper(_sass_icons_flags_chf_svg__WEBPACK_IMPORTED_MODULE_79___default.a),\n  EUR: Wrapper(_sass_icons_flags_eur_svg__WEBPACK_IMPORTED_MODULE_80___default.a),\n  GBP: Wrapper(_sass_icons_flags_gbp_svg__WEBPACK_IMPORTED_MODULE_81___default.a),\n  JPY: Wrapper(_sass_icons_flags_jpy_svg__WEBPACK_IMPORTED_MODULE_82___default.a),\n  MXN: Wrapper(_sass_icons_flags_mxn_svg__WEBPACK_IMPORTED_MODULE_83___default.a),\n  NOK: Wrapper(_sass_icons_flags_nok_svg__WEBPACK_IMPORTED_MODULE_84___default.a),\n  NZD: Wrapper(_sass_icons_flags_nzd_svg__WEBPACK_IMPORTED_MODULE_85___default.a),\n  PLN: Wrapper(_sass_icons_flags_pln_svg__WEBPACK_IMPORTED_MODULE_86___default.a),\n  SEK: Wrapper(_sass_icons_flags_sek_svg__WEBPACK_IMPORTED_MODULE_87___default.a),\n  USD: Wrapper(_sass_icons_flags_usd_svg__WEBPACK_IMPORTED_MODULE_88___default.a),\n  HongKong: Wrapper(_sass_icons_flags_hong_kong_svg__WEBPACK_IMPORTED_MODULE_98___default.a),\n  Dutch: Wrapper(_sass_icons_flags_dutch_svg__WEBPACK_IMPORTED_MODULE_100___default.a),\n  German: Wrapper(_sass_icons_flags_german_svg__WEBPACK_IMPORTED_MODULE_97___default.a),\n  French: Wrapper(_sass_icons_flags_french_svg__WEBPACK_IMPORTED_MODULE_99___default.a),\n  Spanish: Wrapper(_sass_icons_flags_spanish_svg__WEBPACK_IMPORTED_MODULE_101___default.a),\n  WallStreet: Wrapper(_sass_icons_flags_wallstreet_svg__WEBPACK_IMPORTED_MODULE_102___default.a)\n};\nvar FlagIcons = {\n  USD: Wrapper(_sass_icons_flags_usd_svg__WEBPACK_IMPORTED_MODULE_88___default.a),\n  GBP: Wrapper(_sass_icons_flags_gbp_svg__WEBPACK_IMPORTED_MODULE_81___default.a),\n  German: Wrapper(_sass_icons_flags_german_svg__WEBPACK_IMPORTED_MODULE_97___default.a),\n  French: Wrapper(_sass_icons_flags_french_svg__WEBPACK_IMPORTED_MODULE_99___default.a),\n  Portugal: Wrapper(_sass_icons_flags_portugal_svg__WEBPACK_IMPORTED_MODULE_89___default.a),\n  Russia: Wrapper(_sass_icons_flags_russia_svg__WEBPACK_IMPORTED_MODULE_90___default.a),\n  Thailand: Wrapper(_sass_icons_flags_thailand_svg__WEBPACK_IMPORTED_MODULE_91___default.a),\n  Indonesia: Wrapper(_sass_icons_flags_indonesia_svg__WEBPACK_IMPORTED_MODULE_92___default.a),\n  Vietnam: Wrapper(_sass_icons_flags_vietnam_svg__WEBPACK_IMPORTED_MODULE_93___default.a),\n  Italy: Wrapper(_sass_icons_flags_italy_svg__WEBPACK_IMPORTED_MODULE_94___default.a),\n  Chinese: Wrapper(_sass_icons_flags_chinese_svg__WEBPACK_IMPORTED_MODULE_95___default.a),\n  ChineseTraditional: Wrapper(_sass_icons_flags_chinese_traditional_svg__WEBPACK_IMPORTED_MODULE_96___default.a),\n  Poland: Wrapper(_sass_icons_flags_pln_svg__WEBPACK_IMPORTED_MODULE_86___default.a),\n  Spanish: Wrapper(_sass_icons_flags_spanish_svg__WEBPACK_IMPORTED_MODULE_101___default.a)\n};\nvar ItemIconMap = {\n  SPC: FlagIconMap.USD,\n  AS51: FlagIconMap.AUD,\n  HSI: FlagIconMap.HongKong,\n  N225: FlagIconMap.JPY,\n  AEX: FlagIconMap.Dutch,\n  FCHI: FlagIconMap.French,\n  SSMI: FlagIconMap.CHF,\n  GDAXI: FlagIconMap.German,\n\n  /* Commodities */\n  frxBROUSD: Wrapper(_sass_icons_active_symbols_energy_oil_usd_ic_oilusd_svg__WEBPACK_IMPORTED_MODULE_103___default.a),\n  frxXAUUSD: MetalIcon,\n  frxXPDUSD: MetalIcon,\n  frxXPTUSD: MetalIcon,\n  frxXAGUSD: MetalIcon,\n\n  /* Volatility Indices */\n  R_10: Wrapper(_sass_icons_active_symbols_volatility_10_index_ic_10_index_svg__WEBPACK_IMPORTED_MODULE_105___default.a),\n  R_25: Wrapper(_sass_icons_active_symbols_volatility_25_index_ic_25_index_svg__WEBPACK_IMPORTED_MODULE_106___default.a),\n  R_50: Wrapper(_sass_icons_active_symbols_volatility_50_index_ic_50_index_svg__WEBPACK_IMPORTED_MODULE_107___default.a),\n  R_75: Wrapper(_sass_icons_active_symbols_volatility_75_index_ic_75_index_svg__WEBPACK_IMPORTED_MODULE_108___default.a),\n  R_100: Wrapper(_sass_icons_active_symbols_volatility_100_index_ic_100_index_svg__WEBPACK_IMPORTED_MODULE_109___default.a),\n  '1HZ10V': Wrapper(_sass_icons_active_symbols_volatility_1s10_index_ic_10_1s_index_svg__WEBPACK_IMPORTED_MODULE_110___default.a),\n  '1HZ25V': Wrapper(_sass_icons_active_symbols_volatility_1s25_index_light_25_1s_index_svg__WEBPACK_IMPORTED_MODULE_111___default.a),\n  '1HZ50V': Wrapper(_sass_icons_active_symbols_volatility_1s50_index_light_50_1s_index_svg__WEBPACK_IMPORTED_MODULE_112___default.a),\n  '1HZ75V': Wrapper(_sass_icons_active_symbols_volatility_1s75_index_light_75_1s_index_svg__WEBPACK_IMPORTED_MODULE_113___default.a),\n  '1HZ100V': Wrapper(_sass_icons_active_symbols_volatility_1s100_index_ic_100_1s_index_svg__WEBPACK_IMPORTED_MODULE_114___default.a),\n  BOOM500: Wrapper(_sass_icons_active_symbols_volatility_boom500_index_boom500_index_svg__WEBPACK_IMPORTED_MODULE_117___default.a),\n  BOOM1000: Wrapper(_sass_icons_active_symbols_volatility_boom1000_index_boom1000_index_svg__WEBPACK_IMPORTED_MODULE_118___default.a),\n  CRASH500: Wrapper(_sass_icons_active_symbols_volatility_crash500_index_crash500_index_svg__WEBPACK_IMPORTED_MODULE_115___default.a),\n  CRASH1000: Wrapper(_sass_icons_active_symbols_volatility_crash1000_index_crash1000_index_svg__WEBPACK_IMPORTED_MODULE_116___default.a),\n  RDBEAR: Wrapper(_sass_icons_active_symbols_volatility_bear_market_ic_marketbear_svg__WEBPACK_IMPORTED_MODULE_119___default.a),\n  RDBULL: Wrapper(_sass_icons_active_symbols_volatility_bull_market_ic_marketbull_svg__WEBPACK_IMPORTED_MODULE_120___default.a),\n  stpRNG: Wrapper(_sass_icons_active_symbols_volatility_step_index_step_index_svg__WEBPACK_IMPORTED_MODULE_121___default.a)\n};\n\nfunction createCompositeIcon(A, B, icId) {\n  return function (props) {\n    var className = props.className,\n        p = _objectWithoutProperties(props, [\"className\"]);\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", _extends({\n      className: \"\".concat(icId, \" \").concat(className)\n    }, p), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(A, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(B, null));\n  };\n}\n\nfunction frx(flagA, flagB) {\n  var A = FlagIconMap[flagA];\n  var B = FlagIconMap[flagB];\n  ItemIconMap[\"frx\".concat(flagA).concat(flagB)] = createCompositeIcon(A, B, 'ic-frx');\n}\n\nvar OTCBadgeIcon = Wrapper(_sass_icons_active_symbols_ic_otcbadge_svg__WEBPACK_IMPORTED_MODULE_122___default.a);\nvar SmartFXIcon = Wrapper(_sass_icons_active_symbols_ic_smartfx_placeholder_svg__WEBPACK_IMPORTED_MODULE_123___default.a);\n\nfunction otc(flag, symbol) {\n  var FlagIcon = FlagIconMap[flag];\n  ItemIconMap[symbol] = FlagIcon;\n}\n\nfunction wld(flag) {\n  var FlagIcon = FlagIconMap[flag];\n  ItemIconMap[\"WLD\".concat(flag)] = createCompositeIcon(SmartFXIcon, FlagIcon, 'ic-wld');\n}\n/* FOREX */\n\n/* Major Pairs */\n\n\nfrx('AUD', 'JPY');\nfrx('AUD', 'USD');\nfrx('EUR', 'AUD');\nfrx('EUR', 'CHF');\nfrx('EUR', 'JPY');\nfrx('EUR', 'CAD');\nfrx('EUR', 'GBP');\nfrx('EUR', 'USD');\nfrx('GBP', 'AUD');\nfrx('GBP', 'JPY');\nfrx('GBP', 'USD');\nfrx('USD', 'CAD');\nfrx('USD', 'CHF');\nfrx('USD', 'JPY');\n/* Minor Pairs */\n\nfrx('AUD', 'CAD');\nfrx('AUD', 'CHF');\nfrx('AUD', 'NZD');\nfrx('AUD', 'PLN');\nfrx('EUR', 'NZD');\nfrx('GBP', 'CAD');\nfrx('GBP', 'CHF');\nfrx('GBP', 'NOK');\nfrx('GBP', 'NZD');\nfrx('GBP', 'PLN');\nfrx('NZD', 'JPY');\nfrx('NZD', 'USD');\nfrx('USD', 'MXN');\nfrx('USD', 'NOK');\nfrx('USD', 'PLN');\nfrx('USD', 'SEK');\n/* Smart FX */\n\nwld('AUD');\nwld('EUR');\nwld('GBP');\nwld('USD');\n/* OTC Indicies */\n\notc('Dutch', 'OTC_AEX');\notc('GBP', 'OTC_FTSE');\notc('EUR', 'OTC_SX5E');\notc('French', 'OTC_FCHI');\notc('German', 'OTC_GDAXI');\notc('JPY', 'OTC_N225');\notc('Spanish', 'OTC_IBEX35');\notc('USD', 'OTC_SPC');\notc('WallStreet', 'OTC_DJI');\notc('USD', 'OTC_NDX');\notc('CHF', 'OTC_SSMI');\notc('HongKong', 'OTC_HSI');\notc('AUD', 'OTC_AS51');\nvar ActiveOptionsIconMap = {\n  \"delete\": DeleteIcon,\n  edit: EditIcon\n};\n\n/***/ }),\n\n/***/ \"./src/components/LastDigitStats.jsx\":\n/*!*******************************************!*\\\n  !*** ./src/components/LastDigitStats.jsx ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_last_digits_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_last-digits.scss */ \"./sass/components/_last-digits.scss\");\n/* harmony import */ var _sass_components_last_digits_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_last_digits_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar Bar = function Bar(_ref) {\n  var x = _ref.x,\n      bar = _ref.bar;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-bar \".concat(bar.cName),\n    style: {\n      height: \"\".concat(bar.height * 5, \"%\"),\n      left: x * 35\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-bar-value \".concat(bar.height && 'show')\n  }, \"\".concat(bar.height.toFixed(1), \"%\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-bar-title\"\n  }, x));\n};\n\nvar LastDigitStats = function LastDigitStats(_ref2) {\n  var isVisible = _ref2.isVisible,\n      bars = _ref2.bars,\n      marketDisplayName = _ref2.marketDisplayName,\n      shouldMinimiseLastDigits = _ref2.shouldMinimiseLastDigits;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('cq-last-digits', {\n      show: isVisible,\n      minimised: shouldMinimiseLastDigits\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-bars\"\n  }, bars.map(function (bar, idx) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Bar, {\n      key: \"bar-\".concat(idx) // eslint-disable-line react/no-array-index-key\n      ,\n      x: idx,\n      bar: bar\n    });\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-bar-footer\"\n  }, t.translate('Last digits stats for latest 1000 ticks on ') + marketDisplayName));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref3) {\n  var l = _ref3.lastDigitStats;\n  return {\n    isVisible: l.isVisible,\n    bars: l.bars,\n    marketDisplayName: l.marketDisplayName,\n    changeSymbol: l.changeSymbol,\n    shouldMinimiseLastDigits: l.shouldMinimiseLastDigits\n  };\n})(LastDigitStats));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/List.jsx\":\n/*!*********************************!*\\\n  !*** ./src/components/List.jsx ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Scroll_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Scroll.jsx */ \"./src/components/Scroll.jsx\");\n/* harmony import */ var _sass_components_ciq_list_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/components/_ciq-list.scss */ \"./sass/components/_ciq-list.scss\");\n/* harmony import */ var _sass_components_ciq_list_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_components_ciq_list_scss__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nvar List = function List(_ref) {\n  var height = _ref.height,\n      items = _ref.items,\n      onItemClick = _ref.onItemClick,\n      children = _ref.children;\n  var hasFunctionAsChildren = typeof children === 'function';\n  var renderRow = hasFunctionAsChildren ? children : function (item) {\n    return item.text;\n  }; // eslint-disable-next-line no-useless-concat\n\n  var itemClassName = function itemClassName(it) {\n    return 'ciq-list-item' + \" \".concat(it.disabled ? 'disabled' : '') + \" \".concat(it.active ? 'active' : '');\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Scroll_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    className: \"ciq-list\",\n    autoHeight: true,\n    autoHide: true,\n    style: height && {\n      height: \"\".concat(height, \"px\")\n    }\n  }, items.map(function (it, idx) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: it.id,\n      className: itemClassName(it),\n      onClick: function onClick() {\n        return onItemClick(idx, it);\n      }\n    }, renderRow(it));\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (List);\n\n/***/ }),\n\n/***/ \"./src/components/Loader.jsx\":\n/*!***********************************!*\\\n  !*** ./src/components/Loader.jsx ***!\n  \\***********************************/\n/*! exports provided: InlineLoader, default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InlineLoader\", function() { return InlineLoader; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\nvar InlineLoader = function InlineLoader(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      _ref$enabled = _ref.enabled,\n      enabled = _ref$enabled === void 0 ? true : _ref$enabled,\n      props = _objectWithoutProperties(_ref, [\"children\", \"className\", \"enabled\"]);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", _extends({\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-inline-loader', className, {\n      'sc-inline-loader--enable': enabled\n    })\n  }, props), children, enabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-inline-loader__inner\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"sc-inline-loader__inner__bullet\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"sc-inline-loader__inner__bullet\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"sc-inline-loader__inner__bullet\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"sc-inline-loader__inner__bullet\"\n  })));\n};\n\nvar Loader = function Loader(_ref2) {\n  var isActive = _ref2.isActive,\n      currentState = _ref2.currentState;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-loader', {\n      show: isActive\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-loader-spin\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-loader-status\"\n  }, currentState));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref3) {\n  var l = _ref3.loader;\n  return {\n    isActive: l.isActive,\n    currentState: l.currentState\n  };\n})(Loader));\n\n/***/ }),\n\n/***/ \"./src/components/MarketOpeningTimeCounter.jsx\":\n/*!*****************************************************!*\\\n  !*** ./src/components/MarketOpeningTimeCounter.jsx ***!\n  \\*****************************************************/\n/*! exports provided: MarketOpeningTimeCounter */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarketOpeningTimeCounter\", function() { return MarketOpeningTimeCounter; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/index */ \"./src/utils/index.js\");\n/* harmony import */ var _utils_ServerTime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ServerTime */ \"./src/utils/ServerTime.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\nvar MarketOpeningTimeCounter = function MarketOpeningTimeCounter(_ref) {\n  var symbolOpenTime = _ref.symbolOpenTime;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      time = _React$useState2[0],\n      setTime = _React$useState2[1];\n\n  var timeUntilOpenTime = react__WEBPACK_IMPORTED_MODULE_0___default.a.useMemo(function () {\n    var output = null;\n\n    var _ref2 = symbolOpenTime || {},\n        openTime = _ref2.symbolOpenTime.openTime;\n\n    if (openTime) {\n      output = Object(_utils_index__WEBPACK_IMPORTED_MODULE_1__[\"displayMilliseconds\"])(openTime.getTime() - time);\n    }\n\n    return output;\n  }, [symbolOpenTime, time]);\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    var serverTime = _utils_ServerTime__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getInstance();\n    var timer = setInterval(function () {\n      return setTime(serverTime.getLocalDate().getTime());\n    }, 1000);\n    return function () {\n      return clearInterval(timer);\n    };\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, timeUntilOpenTime);\n};\n\n/***/ }),\n\n/***/ \"./src/components/Menu.jsx\":\n/*!*********************************!*\\\n  !*** ./src/components/Menu.jsx ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-transition-group */ \"react-transition-group\");\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_transition_group__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _MenuMobile_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MenuMobile.jsx */ \"./src/components/MenuMobile.jsx\");\n/* harmony import */ var _Tooltip_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Tooltip.jsx */ \"./src/components/Tooltip.jsx\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n\n\n\n\n\n\n\n\nvar Menu = function Menu(_ref) {\n  var open = _ref.open,\n      dialogStatus = _ref.dialogStatus,\n      className = _ref.className,\n      children = _ref.children,\n      title = _ref.title,\n      tooltip = _ref.tooltip,\n      onTitleClick = _ref.onTitleClick,\n      DropdownDialog = _ref.DropdownDialog,\n      isMobile = _ref.isMobile,\n      isFullscreen = _ref.isFullscreen,\n      portalNodeId = _ref.portalNodeId,\n      _ref$enabled = _ref.enabled,\n      enabled = _ref$enabled === void 0 ? true : _ref$enabled,\n      shouldRenderDialogs = _ref.shouldRenderDialogs,\n      handleCloseDialog = _ref.handleCloseDialog,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      theme = _ref.theme,\n      enableTabular = _ref.enableTabular,\n      ready = _ref.ready,\n      customHead = _ref.customHead,\n      emptyMenu = _ref.emptyMenu,\n      modalMode = _ref.modalMode;\n\n  var onOverlayClick = function onOverlayClick(e) {\n    if (e.target.className === 'cq-modal__overlay') {\n      handleCloseDialog();\n    }\n  };\n\n  if (!ready) return '';\n  var first = react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.map(children, function (child, i) {\n    return i === 0 ? child : null;\n  });\n  var rest = react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.map(children, function (child, i) {\n    return i !== 0 ? child : null;\n  });\n\n  if (modalMode) {\n    var portalNode = document.getElementById(portalNodeId || 'smartcharts_modal');\n    if (!portalNode) return '';\n    var newDialog = /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.createPortal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"smartcharts-\".concat(theme)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n        'smartcharts-mobile': isMobile,\n        'smartcharts-desktop': !isMobile\n      })\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('cq-modal-dropdown', className, {\n        stxMenuActive: open\n      })\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"cq-modal__overlay\",\n      onClick: onOverlayClick\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_2__[\"CSSTransition\"], {\n      appear: true,\n      \"in\": dialogStatus,\n      timeout: 300,\n      classNames: \"sc-dialog\",\n      unmountOnExit: true\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DropdownDialog, {\n      isMobile: isMobile,\n      isFullscreen: isFullscreen,\n      title: title,\n      handleCloseDialog: handleCloseDialog,\n      enableTabular: enableTabular,\n      customHead: customHead\n    }, rest)))))), portalNode);\n\n    if (emptyMenu) {\n      return open && newDialog;\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Tooltip_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('ciq-menu', className || '', {\n        stxMenuActive: enabled && open,\n        'ciq-enabled': enabled,\n        'ciq-disabled': !enabled\n      }),\n      content: tooltip,\n      enabled: tooltip,\n      position: \"right\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"cq-menu-btn\",\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: enabled ? onTitleClick : function () {\n        return null;\n      }\n    }, first), enabled && open && newDialog);\n  }\n\n  var oldDropdown = shouldRenderDialogs && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DropdownDialog, {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('cq-menu-dropdown', {\n      'cq-menu-dropdown-enter-done': dialogStatus\n    }),\n    isMobile: isMobile,\n    isFullscreen: isFullscreen\n  }, title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"title\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"title-text\"\n  }, title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"CloseIcon\"], {\n    className: \"icon-close-menu\",\n    onClick: onTitleClick\n  })), rest);\n  return enabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('ciq-menu ciq-enabled', className, {\n      stxMenuActive: open\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-menu-btn\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onTitleClick\n  }, first), isMobile && portalNodeId && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MenuMobile_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    className: className,\n    open: open,\n    menu_element: oldDropdown,\n    portalNodeId: portalNodeId,\n    onClick: onOverlayClick\n  }) || oldDropdown) || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('ciq-menu ciq-disabled', className)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-menu-btn\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave\n  }, first));\n};\n\nMenu.Title = function (_ref2) {\n  var children = _ref2.children;\n  return children;\n};\n\nMenu.Body = function (_ref3) {\n  var children = _ref3.children;\n  return children;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Menu);\n\n/***/ }),\n\n/***/ \"./src/components/MenuMobile.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/MenuMobile.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_menu_dropdown_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_menu-dropdown.scss */ \"./sass/components/_menu-dropdown.scss\");\n/* harmony import */ var _sass_components_menu_dropdown_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_menu_dropdown_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar MenuMobile = function MenuMobile(_ref) {\n  var className = _ref.className,\n      menu_element = _ref.menu_element,\n      portalNodeId = _ref.portalNodeId,\n      open = _ref.open,\n      onClick = _ref.onClick,\n      theme = _ref.theme;\n\n  // fix to remove body background scrolling when scrolling on absolute element\n  var disableBodyScroll = function disableBodyScroll() {\n    if (open) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = null;\n    }\n  };\n\n  disableBodyScroll();\n  if (!portalNodeId) return menu_element;\n  return /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.createPortal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"smartcharts-portal \".concat(open ? 'smartcharts-portal--open' : '')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"smartcharts smartcharts-\".concat(theme)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"smartcharts-mobile\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-modal-dropdown \".concat(className || '', \" \").concat(open ? 'stxMenuActive' : '')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-modal__overlay\",\n    onClick: onClick\n  }, menu_element))))), document.getElementById(portalNodeId));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var chartSetting = _ref2.chartSetting;\n  return {\n    theme: chartSetting.theme\n  };\n})(MenuMobile));\n\n/***/ }),\n\n/***/ \"./src/components/NavigationWidget.jsx\":\n/*!*********************************************!*\\\n  !*** ./src/components/NavigationWidget.jsx ***!\n  \\*********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CrosshairToggle.jsx */ \"./src/components/CrosshairToggle.jsx\");\n/* harmony import */ var _sass_components_navigation_widget_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../sass/components/_navigation-widget.scss */ \"./sass/components/_navigation-widget.scss\");\n/* harmony import */ var _sass_components_navigation_widget_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_sass_components_navigation_widget_scss__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n\n\n\n\n\n\n\nvar NavigationWidget = function NavigationWidget(_ref) {\n  var context = _ref.context,\n      zoomIn = _ref.zoomIn,\n      zoomOut = _ref.zoomOut,\n      onScale = _ref.onScale,\n      enableScale = _ref.enableScale,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      isScaledOneOne = _ref.isScaledOneOne,\n      onCrosshairChange = _ref.onCrosshairChange;\n  return context ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-navigation-widget\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-navigation-widget__item', 'sc-navigation-widget__item--scale', {\n      'sc-navigation-widget__item--hidden': !enableScale,\n      'sc-navigation-widget__item--disabled': isScaledOneOne\n    }),\n    onClick: onScale\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"ScaleIcon\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-navigation-widget__item sc-navigation-widget__item--zoom\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"ZoominIcon\"], {\n    onClick: zoomIn\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    onChange: onCrosshairChange\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"ZoomoutIcon\"], {\n    onClick: zoomOut\n  }))) : null;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var chart = _ref2.chart,\n      chartSize = _ref2.chartSize,\n      navigationWidget = _ref2.navigationWidget;\n  return {\n    context: chart.context,\n    isScaledOneOne: chart.isScaledOneOne,\n    zoomIn: chartSize.zoomIn,\n    zoomOut: chartSize.zoomOut,\n    onScale: navigationWidget.onScale,\n    enableScale: navigationWidget.enableScale,\n    onMouseEnter: navigationWidget.onMouseEnter,\n    onMouseLeave: navigationWidget.onMouseLeave\n  };\n})(NavigationWidget));\n\n/***/ }),\n\n/***/ \"./src/components/NotificationBadge.jsx\":\n/*!**********************************************!*\\\n  !*** ./src/components/NotificationBadge.jsx ***!\n  \\**********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar NotificationBadge = function NotificationBadge(_ref) {\n  var notificationCount = _ref.notificationCount;\n  return notificationCount ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-notification-badge', {\n      x2: notificationCount > 9\n    })\n  }, notificationCount) : null;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (NotificationBadge);\n\n/***/ }),\n\n/***/ \"./src/components/PaginationLoader.jsx\":\n/*!*********************************************!*\\\n  !*** ./src/components/PaginationLoader.jsx ***!\n  \\*********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _FastMarker_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FastMarker.jsx */ \"./src/components/FastMarker.jsx\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_pagination_loader_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_pagination-loader.scss */ \"./sass/components/_pagination-loader.scss\");\n/* harmony import */ var _sass_components_pagination_loader_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_pagination_loader_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar PaginationLoader = function PaginationLoader(_ref) {\n  var isOnPagination = _ref.isOnPagination,\n      setRef = _ref.setRef;\n  return isOnPagination ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    markerRef: setRef,\n    className: \"pagination\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pagination__loader\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pagination__loader-background\"\n  }))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var s = _ref2.paginationLoader;\n  return {\n    isOnPagination: s.isOnPagination,\n    setRef: s.setRef\n  };\n})(PaginationLoader));\n\n/***/ }),\n\n/***/ \"./src/components/PriceLine.jsx\":\n/*!**************************************!*\\\n  !*** ./src/components/PriceLine.jsx ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _PriceLineArrow_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PriceLineArrow.jsx */ \"./src/components/PriceLineArrow.jsx\");\n/* harmony import */ var _PriceLineTitle_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PriceLineTitle.jsx */ \"./src/components/PriceLineTitle.jsx\");\n\n\n\n\n\nvar PriceLine = function PriceLine(_ref) {\n  var className = _ref.className,\n      draggable = _ref.draggable,\n      isDragging = _ref.isDragging,\n      priceDisplay = _ref.priceDisplay,\n      setDragLine = _ref.setDragLine,\n      visible = _ref.visible,\n      lineStyle = _ref.lineStyle,\n      color = _ref.color,\n      foregroundColor = _ref.foregroundColor,\n      width = _ref.width,\n      title = _ref.title,\n      yAxiswidth = _ref.yAxiswidth,\n      offScreen = _ref.offScreen,\n      hideBarrierLine = _ref.hideBarrierLine,\n      hideOffscreenBarrier = _ref.hideOffscreenBarrier,\n      hideOffscreenLine = _ref.hideOffscreenLine,\n      offScreenDirection = _ref.offScreenDirection,\n      opacityOnOverlap = _ref.opacityOnOverlap,\n      isOverlapping = _ref.isOverlapping,\n      init = _ref.init;\n  var showBarrier = react__WEBPACK_IMPORTED_MODULE_0___default.a.useMemo(function () {\n    return !(hideOffscreenBarrier && offScreen);\n  }, [hideOffscreenBarrier, offScreen]);\n  var showBarrierDragLine = react__WEBPACK_IMPORTED_MODULE_0___default.a.useMemo(function () {\n    return !hideBarrierLine && (!hideOffscreenLine || !offScreen) && !isOverlapping;\n  }, [hideBarrierLine, hideOffscreenLine, offScreen, isOverlapping]);\n  var opacity = react__WEBPACK_IMPORTED_MODULE_0___default.a.useMemo(function () {\n    return isOverlapping && opacityOnOverlap;\n  }, [isOverlapping, opacityOnOverlap]);\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    init();\n  }, [init]);\n  return showBarrier && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"barrier-area\",\n    style: {\n      top: 0\n    },\n    ref: setDragLine,\n    hidden: !visible\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('chart-line', 'horizontal', className || '', {\n      draggable: draggable,\n      dragging: isDragging\n    }),\n    style: {\n      color: foregroundColor,\n      backgroundImage: \"linear-gradient(to left, \".concat(color, \" 90%, \").concat(color, \"00\")\n    }\n  }, showBarrierDragLine && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"drag-line\",\n    style: {\n      borderTopStyle: lineStyle\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"draggable-area\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"drag-price\",\n    style: {\n      backgroundColor: color,\n      width: width,\n      opacity: opacity\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"price\"\n  }, priceDisplay), offScreen && offScreenDirection && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PriceLineArrow_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    offScreenDirection: offScreenDirection,\n    color: color\n  })), title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PriceLineTitle_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    color: color,\n    title: title,\n    yAxiswidth: yAxiswidth,\n    opacity: opacity\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PriceLine);\n\n/***/ }),\n\n/***/ \"./src/components/PriceLineArrow.jsx\":\n/*!*******************************************!*\\\n  !*** ./src/components/PriceLineArrow.jsx ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n\n\nvar PriceLineArrow = function PriceLineArrow(_ref) {\n  var offScreenDirection = _ref.offScreenDirection,\n      color = _ref.color;\n  var top = offScreenDirection === _utils__WEBPACK_IMPORTED_MODULE_2__[\"DIRECTIONS\"].UP && \"\".concat(-_utils__WEBPACK_IMPORTED_MODULE_2__[\"ARROW_HEIGHT\"], \"px\");\n  var transform = offScreenDirection === _utils__WEBPACK_IMPORTED_MODULE_2__[\"DIRECTIONS\"].DOWN && 'rotate(180deg)';\n  return color === _utils__WEBPACK_IMPORTED_MODULE_2__[\"ARROW_COLORS\"].GREEN ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ArrowGreenIcon\"], {\n    className: \"arrow-icon\",\n    style: {\n      top: top,\n      transform: transform\n    }\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ArrowOrangeIcon\"], {\n    className: \"arrow-icon\",\n    style: {\n      top: top,\n      transform: transform\n    }\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PriceLineArrow);\n\n/***/ }),\n\n/***/ \"./src/components/PriceLineTitle.jsx\":\n/*!*******************************************!*\\\n  !*** ./src/components/PriceLineTitle.jsx ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nvar PriceLineTitle = function PriceLineTitle(_ref) {\n  var color = _ref.color,\n      yAxiswidth = _ref.yAxiswidth,\n      title = _ref.title,\n      opacity = _ref.opacity;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"title-wrapper\",\n    style: {\n      color: color,\n      right: yAxiswidth,\n      opacity: opacity\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"title\"\n  }, title));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PriceLineTitle);\n\n/***/ }),\n\n/***/ \"./src/components/RawMarker.jsx\":\n/*!**************************************!*\\\n  !*** ./src/components/RawMarker.jsx ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n\n\nvar RawMarker = function RawMarker(props) {\n  var ctx_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(null);\n  var stx_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(null);\n  var injection_id_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(null);\n  var has_unmounted_before_injection_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(false);\n  var canvas_height_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(0);\n  var last_epoch_array_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef();\n  var date_array_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef();\n  var props_ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef();\n  props_ref.current = props;\n  var contextPromise = props.contextPromise,\n      shouldRedraw = props.shouldRedraw;\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    contextPromise.then(function (ctx) {\n      if (has_unmounted_before_injection_ref.current) {\n        return;\n      }\n\n      ctx_ref.current = ctx;\n      stx_ref.current = ctx_ref.current.stx;\n      injection_id_ref.current = stx_ref.current.append('draw', draw);\n      draw();\n    });\n    return function () {\n      if (injection_id_ref.current) {\n        // remove the injection on unmount\n        stx_ref.current.removeInjection(injection_id_ref.current);\n        ctx_ref.current = null;\n        stx_ref.current = null;\n      } else {\n        has_unmounted_before_injection_ref.current = true;\n      }\n    };\n  }, [contextPromise]);\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    if (shouldRedraw) {\n      contextPromise.then(function (ctx) {\n        if (has_unmounted_before_injection_ref.current) {\n          return;\n        }\n\n        ctx_ref.current = ctx;\n        stx_ref.current = ctx_ref.current.stx;\n        injection_id_ref.current = stx_ref.current.append('draw', draw);\n        draw();\n      });\n    }\n  });\n\n  var draw = function draw() {\n    if (!ctx_ref.current) {\n      return;\n    }\n\n    var _props_ref$current = props_ref.current,\n        _props_ref$current$th = _props_ref$current.threshold,\n        threshold = _props_ref$current$th === void 0 ? 0 : _props_ref$current$th,\n        epoch_array = _props_ref$current.epoch_array,\n        draw_callback = _props_ref$current.draw_callback,\n        _props_ref$current$pr = _props_ref$current.price_array,\n        price_array = _props_ref$current$pr === void 0 ? [] : _props_ref$current$pr;\n\n    if (!last_epoch_array_ref.current || last_epoch_array_ref.current.toString() !== epoch_array.toString()) {\n      date_array_ref.current = epoch_array.map(function (epoch) {\n        return {\n          date: CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getUTCDate\"])(epoch)),\n          epoch: epoch\n        };\n      });\n      last_epoch_array_ref.current = epoch_array;\n    }\n\n    var stx = stx_ref.current;\n    var chart = stx.chart;\n    var show = !threshold || stx.layout.candleWidth >= threshold;\n\n    if (show && chart.dataSet && chart.dataSet.length && stx.mainSeriesRenderer) {\n      var points = [];\n      date_array_ref.current.forEach(function (_ref) {\n        var date = _ref.date,\n            epoch = _ref.epoch;\n        var tick_idx = stx.tickFromDate(date, chart); // ChartIQ doesn't support placing markers in the middle of ticks.\n\n        var bar = chart.dataSet[tick_idx];\n        var bar_next = chart.dataSet[tick_idx + 1];\n        var bar_prev = tick_idx > 0 ? chart.dataSet[tick_idx - 1] : null;\n        var x = stx.pixelFromTick(tick_idx, chart); // let x = pixelFromTick(stx, tick_idx);\n\n        var price = bar ? bar.Close : null; // const price = (bar || bar_prev || bar_next || {}).Close;\n        // Here we interpolate the pixel distance between two adjacent ticks.\n\n        if (bar && bar.DT < date) {\n          if (bar_next && bar_next.Close && bar_next.DT > date) {\n            var delta_x = stx.pixelFromTick(tick_idx + 1, chart) - x; // const delta_x = pixelFromTick(stx, tick_idx + 1) - x;\n\n            var delta_y = bar_next.Close - price;\n            var ratio = (date - bar.DT) / (bar_next.DT - bar.DT);\n            price += ratio * delta_y;\n            x += ratio * delta_x;\n          } else if (bar_prev && bar_prev.Close) {\n            var _delta_x = x - stx.pixelFromTick(tick_idx - 1, chart); // const delta_x = x - pixelFromTick(stx, tick_idx - 1);\n\n\n            var _delta_y = price - bar_prev.Close;\n\n            var _ratio = (date - bar.DT) / (bar.DT - bar_prev.DT);\n\n            x += _ratio * _delta_x;\n            price += _ratio * _delta_y;\n          }\n        }\n\n        var y = price ? stx.pixelFromPrice(price, chart.panel) : 0;\n        var visible = x >= 0 && chart.yAxis.left > x && chart.yAxis.top <= y && chart.yAxis.bottom >= y;\n        var yAxis = chart.yAxis;\n        var top = Math.min(Math.max(+y, yAxis.top), yAxis.bottom);\n        var left = Math.min(Math.max(x, 0), yAxis.left);\n        var zoom = stx.layout.candleWidth;\n        points.push({\n          epoch: epoch,\n          visible: visible,\n          top: top,\n          left: left,\n          zoom: zoom,\n          max_left: yAxis.left\n        });\n      });\n      var prices = price_array.map(function (price) {\n        return stx.pixelFromPrice(price * 1, chart.panel);\n      });\n      var canvas = stx.chart.context.canvas;\n\n      if (canvas.style.height.indexOf(canvas.height) < 0) {\n        canvas_height_ref.current = canvas.height;\n      }\n\n      draw_callback({\n        ctx: stx.chart.context,\n        canvas_height: canvas_height_ref.current,\n        points: points,\n        prices: prices\n      });\n    }\n  };\n\n  return null;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var chart = _ref2.chart;\n  return {\n    contextPromise: chart.contextPromise\n  };\n})(RawMarker));\n\n/***/ }),\n\n/***/ \"./src/components/RenderInsideChart.jsx\":\n/*!**********************************************!*\\\n  !*** ./src/components/RenderInsideChart.jsx ***!\n  \\**********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui/utils */ \"./src/components/ui/utils.js\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\nvar inChartPrefix = 'cq-inchart-'; // Render given Components under stx-holder to position it relative to the active symbol chart.\n\nvar RenderInsideChart = function RenderInsideChart(_ref) {\n  var _ref$at = _ref.at,\n      at = _ref$at === void 0 ? 'holder' : _ref$at,\n      children = _ref.children,\n      contextPromise = _ref.contextPromise,\n      isChartReady = _ref.isChartReady,\n      isChartScrollingToEpoch = _ref.isChartScrollingToEpoch,\n      hideInScrollToEpoch = _ref.hideInScrollToEpoch;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      container = _React$useState2[0],\n      setContainer = _React$useState2[1];\n\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    contextPromise.then(function (context) {\n      var nodeName = \"\".concat(inChartPrefix).concat(at); // reuse existing node when possible:\n\n      var elem = context.topNode.querySelector(\".\".concat(nodeName));\n\n      if (!elem) {\n        elem = Object(_ui_utils__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"<div class=\\\"\".concat(nodeName, \"\\\"></div>\"));\n        context.stx.chart.panel[at].appendChild(elem);\n      }\n\n      setContainer(elem);\n    });\n  }, [at, contextPromise]);\n  if (!isChartReady) return null;\n  if (hideInScrollToEpoch && isChartScrollingToEpoch) return null;\n\n  if (container) {\n    return /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.createPortal(children, container);\n  }\n\n  return null;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_3__[\"connect\"])(function (_ref2) {\n  var chart = _ref2.chart,\n      state = _ref2.state;\n  return {\n    contextPromise: chart.contextPromise,\n    isChartReady: state.isChartReady,\n    isChartScrollingToEpoch: state.isChartScrollingToEpoch\n  };\n})(RenderInsideChart));\n\n/***/ }),\n\n/***/ \"./src/components/Scroll.jsx\":\n/*!***********************************!*\\\n  !*** ./src/components/Scroll.jsx ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_scroll_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_scroll.scss */ \"./sass/components/_scroll.scss\");\n/* harmony import */ var _sass_components_scroll_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_scroll_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar Scroll = function Scroll(_ref2) {\n  var children = _ref2.children,\n      className = _ref2.className,\n      height = _ref2.height,\n      width = _ref2.width,\n      setScrollPanel = _ref2.setScrollPanel,\n      isHover = _ref2.isHover,\n      autoHide = _ref2.autoHide,\n      _ref2$freeze = _ref2.freeze,\n      freeze = _ref2$freeze === void 0 ? false : _ref2$freeze,\n      _ref2$onScroll = _ref2.onScroll,\n      onScroll = _ref2$onScroll === void 0 ? function () {\n    return null;\n  } : _ref2$onScroll,\n      setPanel = _ref2.setPanel;\n\n  var handleRef = function handleRef(_ref) {\n    setScrollPanel(_ref);\n    if (setPanel) setPanel(_ref);\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    ref: handleRef,\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-scrollbar', className, {\n      'sc-scrollbar--freeze': freeze,\n      'sc-scrollbar--auto-hide': autoHide,\n      'sc-scrollbar--hover': isHover\n    }),\n    onScroll: onScroll,\n    style: {\n      maxHeight: height || '100%',\n      maxWidth: width || 'none'\n    }\n  }, children);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref3) {\n  var s = _ref3.scroll;\n  return {\n    setScrollPanel: s.setScrollPanel,\n    isHover: s.isHover\n  };\n})(Scroll));\n\n/***/ }),\n\n/***/ \"./src/components/SearchInput.jsx\":\n/*!****************************************!*\\\n  !*** ./src/components/SearchInput.jsx ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_search_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_search.scss */ \"./sass/components/_search.scss\");\n/* harmony import */ var _sass_components_search_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_search_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar SearchInput = function SearchInput(_ref) {\n  var placeholder = _ref.placeholder,\n      value = _ref.value,\n      searchInput = _ref.searchInput,\n      searchInputClassName = _ref.searchInputClassName,\n      _onChange = _ref.onChange;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-search-input', {\n      active: value.trim() !== ''\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n    className: searchInputClassName,\n    value: value,\n    ref: searchInput,\n    onChange: function onChange(e) {\n      return _onChange(e.target.value);\n    },\n    type: \"text\",\n    spellCheck: \"off\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    autoCapitalize: \"off\",\n    placeholder: placeholder\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"SearchIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CloseCircleIcon\"], {\n    className: \"icon-reset\",\n    onClick: function onClick() {\n      return _onChange('');\n    }\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SearchInput);\n\n/***/ }),\n\n/***/ \"./src/components/SettingsDialog.jsx\":\n/*!*******************************************!*\\\n  !*** ./src/components/SettingsDialog.jsx ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_tabs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-tabs */ \"./node_modules/react-tabs/esm/index.js\");\n/* harmony import */ var react_tabs_style_react_tabs_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-tabs/style/react-tabs.css */ \"./node_modules/react-tabs/style/react-tabs.css\");\n/* harmony import */ var react_tabs_style_react_tabs_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_tabs_style_react_tabs_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Scroll_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Scroll.jsx */ \"./src/components/Scroll.jsx\");\n/* harmony import */ var _Form_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Form.jsx */ \"./src/components/Form.jsx\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_settings_dialog_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../sass/components/_settings-dialog.scss */ \"./sass/components/_settings-dialog.scss\");\n/* harmony import */ var _sass_components_settings_dialog_scss__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_sass_components_settings_dialog_scss__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\n\nvar SettingsPanelItem = function SettingsPanelItem(_ref) {\n  var group = _ref.group,\n      title = _ref.title,\n      type = _ref.type,\n      Field = _ref.Field;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"FormGroup\"], {\n    title: type === 'select' || type === 'pattern' || type === 'colorpicker' || type === 'numbercolorpicker' || group === 'OverBought' || group === 'OverSold' ? null : title,\n    type: type\n  }, Field);\n};\n\nvar SettingsPanelGroup = function SettingsPanelGroup(_ref2) {\n  var title = _ref2.title,\n      items = _ref2.items,\n      theme = _ref2.theme,\n      onItemChange = _ref2.onItemChange;\n  var renderMap = {\n    \"switch\": function _switch(item) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"Switch\"], {\n        value: item.value,\n        onChange: function onChange(v) {\n          return onItemChange(item.id, v);\n        }\n      });\n    },\n    colorpicker: function colorpicker(item) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"ColorPicker\"], {\n        theme: theme,\n        color: item.value,\n        subtitle: item.subtitle || item.title,\n        setColor: function setColor(value) {\n          return onItemChange(item.id, value);\n        }\n      });\n    },\n    pattern: function pattern(item) {\n      var lineWidth = items.find(function (it) {\n        return it.id === 'lineWidth';\n      }).value;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"Pattern\"], {\n        pattern: item.value,\n        lineWidth: lineWidth,\n        subtitle: item.title,\n        onChange: function onChange(v) {\n          onItemChange('pattern', v.pattern);\n          onItemChange('lineWidth', v.width);\n        }\n      });\n    },\n    select: function select(item) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"DropDown\"], {\n        rows: Object.keys(item.options),\n        value: item.value,\n        subtitle: item.subtitle || item.title,\n        onRowClick: function onRowClick(value) {\n          return onItemChange(item.id, value);\n        }\n      }, function (row) {\n        return row;\n      });\n    },\n    number: function number(item) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"Slider\"], {\n        min: item.min || 1,\n        step: item.step || 1,\n        max: item.max || 100,\n        value: item.value,\n        onChange: function onChange(val) {\n          return onItemChange(item.id, val);\n        }\n      });\n    },\n    numericinput: function numericinput(item) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"ciq-num-input\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"NumericInput\"], {\n        value: item.value,\n        onChange: function onChange(val) {\n          return onItemChange(item.id, val);\n        },\n        min: item.min,\n        step: item.step,\n        max: item.max\n      }));\n    },\n    numbercolorpicker: function numbercolorpicker(item) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"NumberColorPicker\"], {\n        value: item.value,\n        theme: theme,\n        onChange: function onChange(val) {\n          return onItemChange(item.id, val);\n        }\n      });\n    },\n    font: function font(item) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"FontSetting\"], {\n        value: item.value,\n        onChange: function onChange(val) {\n          return onItemChange(item.id, val);\n        }\n      });\n    }\n  };\n  var input_group_name = \"form__input-group--\".concat((title || '').toLowerCase().replace(' ', '-'));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"form__input-group \".concat(input_group_name)\n  }, title === 'Show Zones' ? '' : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", null, title), items.map(function (item) {\n    return renderMap[item.type] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SettingsPanelItem, {\n      key: item.id,\n      type: item.type,\n      active: item.active,\n      title: title === 'Show Zones' ? item.title : item.title.replace(title, ''),\n      Field: renderMap[item.type](item)\n    });\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_4__[\"FormGroup\"], {\n    type: \"end\"\n  }));\n};\n\nvar Footer = function Footer(_ref3) {\n  var onDelete = _ref3.onDelete,\n      onReset = _ref3.onReset,\n      onDone = _ref3.onDone;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"buttons\"\n  }, onDelete && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_5__[\"DeleteIcon\"], {\n    className: \"sc-btn--delete\",\n    onClick: onDelete\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ResetButton, {\n    onClick: onReset\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DoneButton, {\n    onClick: onDone\n  })));\n};\n\nvar SettingsPanel = function SettingsPanel(_ref4) {\n  var itemGroups = _ref4.itemGroups,\n      theme = _ref4.theme,\n      onItemChange = _ref4.onItemChange,\n      setScrollPanel = _ref4.setScrollPanel,\n      freezeScroll = _ref4.freezeScroll,\n      formClassname = _ref4.formClassname;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"form form--indicator-setting \".concat(formClassname)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Scroll_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    setPanel: setScrollPanel,\n    freeze: freezeScroll,\n    autoHide: true,\n    height: \"282px\"\n  }, itemGroups.map(function (group) {\n    return group.fields.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SettingsPanelGroup, {\n      key: group.key,\n      group: group.key,\n      title: group.key,\n      items: group.fields,\n      theme: theme,\n      onItemChange: onItemChange\n    });\n  })));\n};\n\nvar ResetButton = function ResetButton(_ref5) {\n  var onClick = _ref5.onClick;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    className: \"sc-btn sc-btn--outline-secondary sc-btn--reset\",\n    onClick: onClick\n  }, t.translate('Reset'));\n};\n\nvar DoneButton = function DoneButton(_ref6) {\n  var _onClick = _ref6.onClick;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    className: \"sc-btn sc-btn--primary sc-btn--save\",\n    onClick: function onClick() {\n      return _onClick();\n    }\n  }, t.translate('Done'));\n};\n\nvar SettingsDialog = function SettingsDialog(_ref7) {\n  var itemGroups = _ref7.itemGroups,\n      title = _ref7.title,\n      formClassname = _ref7.formClassname,\n      description = _ref7.description,\n      showTabs = _ref7.showTabs,\n      onResetClick = _ref7.onResetClick,\n      onItemChange = _ref7.onItemChange,\n      onItemDelete = _ref7.onItemDelete,\n      SettingDialogMenu = _ref7.SettingDialogMenu,\n      theme = _ref7.theme,\n      close = _ref7.close,\n      setScrollPanel = _ref7.setScrollPanel,\n      dialogPortalNodeId = _ref7.dialogPortalNodeId,\n      freezeScroll = _ref7.freezeScroll;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SettingDialogMenu, {\n    className: \"cq-modal--settings\",\n    title: title,\n    modalMode: true,\n    enableTabular: showTabs,\n    emptyMenu: true,\n    enableOverlay: true // this temprary, we remove it when all menus convert to modal\n    ,\n    portalNodeId: dialogPortalNodeId\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SettingDialogMenu.Title, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SettingDialogMenu.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-chart-settings\"\n  }, showTabs ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tabs\"], {\n    className: \"tabs--vertical\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabList\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tab\"], null, \"Settings\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tab\"], null, \"Description\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabPanel\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SettingsPanel, {\n    itemGroups: itemGroups,\n    theme: theme,\n    onItemChange: onItemChange,\n    setScrollPanel: setScrollPanel,\n    freezeScroll: freezeScroll\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Footer, {\n    onReset: onResetClick,\n    onDone: close\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabPanel\"], null, description)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SettingsPanel, {\n    itemGroups: itemGroups,\n    theme: theme,\n    onItemChange: onItemChange,\n    setScrollPanel: setScrollPanel,\n    freezeScroll: freezeScroll,\n    formClassname: formClassname\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Footer, {\n    onDelete: onItemDelete,\n    onReset: onResetClick,\n    onDone: close\n  })))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SettingsDialog);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/Shade.jsx\":\n/*!**********************************!*\\\n  !*** ./src/components/Shade.jsx ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar Shade = function Shade(_ref) {\n  var visible = _ref.visible,\n      className = _ref.className,\n      setShadeRef = _ref.setShadeRef;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('shade', className, {\n      hidden: !visible\n    }),\n    ref: setShadeRef,\n    style: {\n      top: -120\n    }\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Shade);\n\n/***/ }),\n\n/***/ \"./src/components/Share.jsx\":\n/*!**********************************!*\\\n  !*** ./src/components/Share.jsx ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _Loader_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Loader.jsx */ \"./src/components/Loader.jsx\");\n/* harmony import */ var _sass_components_download_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../sass/components/_download.scss */ \"./sass/components/_download.scss\");\n/* harmony import */ var _sass_components_download_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_sass_components_download_scss__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\nvar Share = function Share(_ref) {\n  var Dialog = _ref.Dialog,\n      menuOpen = _ref.menuOpen,\n      downloadCSV = _ref.downloadCSV,\n      downloadPNG = _ref.downloadPNG,\n      isLoadingPNG = _ref.isLoadingPNG,\n      portalNodeId = _ref.portalNodeId;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog, {\n    className: \"sc-download-menu\",\n    title: t.translate('Download'),\n    tooltip: t.translate('Download'),\n    modalMode: true,\n    isFullscreen: true,\n    portalNodeId: portalNodeId\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog.Title, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-download__menu', {\n      'sc-download__menu--active': menuOpen\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"DownloadIcon\"], null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-download\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Loader_jsx__WEBPACK_IMPORTED_MODULE_4__[\"InlineLoader\"], {\n    className: \"sc-download__item\",\n    onClick: downloadPNG,\n    enabled: isLoadingPNG\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"PngIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"sc-download__item__label\"\n  }, \" \", t.translate('PNG'), \" \")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-download__item\",\n    onClick: downloadCSV\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"CsvIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"sc-download__item__label\"\n  }, \" \", t.translate('CSV'))))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var d = _ref2.share;\n  return {\n    Dialog: d.Dialog,\n    menuOpen: d.menu.dialog.open,\n    downloadPNG: d.downloadPNG,\n    downloadCSV: d.downloadCSV,\n    isLoadingPNG: d.isLoadingPNG\n  };\n})(Share));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/SmartChart.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/SmartChart.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx-react */ \"./node_modules/mobx-react/index.module.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store */ \"./src/store/index.js\");\n/* harmony import */ var _Chart_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Chart.jsx */ \"./src/components/Chart.jsx\");\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\n\nvar SmartChart = function SmartChart(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var store = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef();\n\n  if (!store.current) {\n    store.current = new _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(mobx_react__WEBPACK_IMPORTED_MODULE_1__[\"Provider\"], store.current, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Chart_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], props, children));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SmartChart);\n\n/***/ }),\n\n/***/ \"./src/components/StudyLegend.jsx\":\n/*!****************************************!*\\\n  !*** ./src/components/StudyLegend.jsx ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_tabs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-tabs */ \"./node_modules/react-tabs/esm/index.js\");\n/* harmony import */ var _NotificationBadge_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NotificationBadge.jsx */ \"./src/components/NotificationBadge.jsx\");\n/* harmony import */ var _Tooltip_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Tooltip.jsx */ \"./src/components/Tooltip.jsx\");\n/* harmony import */ var _Scroll_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Scroll.jsx */ \"./src/components/Scroll.jsx\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_studylegend_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../sass/components/_studylegend.scss */ \"./sass/components/_studylegend.scss\");\n/* harmony import */ var _sass_components_studylegend_scss__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_sass_components_studylegend_scss__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\n\nvar StudyIcon = function StudyIcon(_ref) {\n  var Icon = _ref.Icon,\n      props = _ref.props;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icon, props);\n};\n\nvar EmptyView = function EmptyView() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-studies--empty\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"EmptyStateIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, t.translate('You have no active indicators yet.')));\n};\n\nvar NoResultView = function NoResultView(_ref2) {\n  var text = _ref2.text;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-studies--empty\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, t.translate('No results for'), \" \\u201C\", text, \"\\u201D\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, t.translate('Try checking your spelling or use a different term')));\n};\n\nvar IndicatorList = function IndicatorList(_ref3) {\n  var items = _ref3.items,\n      onSelectItem = _ref3.onSelectItem,\n      onDeleteItem = _ref3.onDeleteItem,\n      onEditItem = _ref3.onEditItem,\n      onInfoItem = _ref3.onInfoItem,\n      disableAll = _ref3.disableAll;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-studies__list\"\n  }, items.map(function (Item) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Tooltip_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      key: \"item--\".concat(Item.id),\n      className: \"sc-studies__list__item \".concat(disableAll && 'sc-studies__list__item--disabled'),\n      enabled: !!((onEditItem || onDeleteItem) && Item.bars && Item.bars.length > 30),\n      content: \"\".concat(Item.name, \" \").concat(Item.bars ? \"(\".concat(Item.bars, \")\") : '')\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"info\",\n      onClick: function onClick() {\n        return onSelectItem ? onSelectItem(Item.id) : null;\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StudyIcon, {\n      Icon: Item.icon\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"text\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, Item.name), Item.bars && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"small\", null, \"(\", Item.bars, \")\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"detail\"\n    }, onInfoItem && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"InfoCircleIcon\"], {\n      className: \"ic-info\",\n      onClick: function onClick() {\n        return onInfoItem(Item);\n      }\n    }), onEditItem && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"SettingIcon\"], {\n      onClick: function onClick() {\n        return onEditItem(Item.dataObject);\n      }\n    }), onDeleteItem && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"DeleteIcon\"], {\n      onClick: function onClick() {\n        return onDeleteItem(Item.dataObject.sd);\n      }\n    })));\n  }));\n};\n\nvar TabularDisplaySearchPanel = function TabularDisplaySearchPanel(_ref4) {\n  var categories = _ref4.categories,\n      onSelectItem = _ref4.onSelectItem,\n      onInfoItem = _ref4.onInfoItem,\n      disableAll = _ref4.disableAll;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Scroll_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    autoHide: true\n  }, categories.map(function (Category) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: Category.id,\n      className: \"sc-studies__category\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"sc-studies__category__head\"\n    }, Category.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"sc-studies__category__body\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(IndicatorList, {\n      items: Category.foundItems,\n      onSelectItem: onSelectItem,\n      onInfoItem: onInfoItem,\n      disableAll: disableAll\n    })));\n  }));\n};\n\nvar TabularDisplayActivePanel = function TabularDisplayActivePanel(_ref5) {\n  var items = _ref5.items,\n      onDeleteItem = _ref5.onDeleteItem,\n      onEditItem = _ref5.onEditItem,\n      clearAll = _ref5.clearAll,\n      isMobile = _ref5.isMobile;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-studies__panel__head\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, isMobile ? t.translate('Up to 2 active indicators allowed.') : t.translate('Up to 5 active indicators allowed.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    className: \"sc-btn sc-btn--sm sc-btn--outline-secondary\",\n    onClick: function onClick() {\n      return clearAll();\n    }\n  }, t.translate('Clear all'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-studies__panel__content sc-studies__panel__content--active\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(IndicatorList, {\n    items: items,\n    onDeleteItem: onDeleteItem,\n    onEditItem: onEditItem\n  })));\n};\n\nvar TabularDisplay = function TabularDisplay(_ref6) {\n  var onSelectTab = _ref6.onSelectTab,\n      selectedTab = _ref6.selectedTab,\n      categories = _ref6.categories,\n      searchedCategories = _ref6.searchedCategories,\n      onSelectItem = _ref6.onSelectItem,\n      onDeleteItem = _ref6.onDeleteItem,\n      onEditItem = _ref6.onEditItem,\n      onInfoItem = _ref6.onInfoItem,\n      activeItems = _ref6.activeItems,\n      clearAll = _ref6.clearAll,\n      searchQuery = _ref6.searchQuery,\n      isMobile = _ref6.isMobile,\n      maxAllowedItem = _ref6.maxAllowedItem;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tabs\"], {\n    className: \"tabs--vertical\",\n    selectedIndex: selectedTab,\n    onSelect: onSelectTab\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabList\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tab\"], {\n    key: \"hidden\",\n    className: \"hidden\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tab\"], {\n    key: \"active\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"ActiveIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate('Active')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NotificationBadge_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    notificationCount: activeItems.length\n  })), categories.map(function (Category) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"Tab\"], {\n      key: \"tab--\".concat(Category.id)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StudyIcon, {\n      Icon: Category.icon\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, Category.name));\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabPanel\"], {\n    key: \"panel--search\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-studies__panel\"\n  }, searchedCategories.length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TabularDisplaySearchPanel, {\n    categories: searchedCategories,\n    onSelectItem: onSelectItem,\n    onInfoItem: onInfoItem,\n    disableAll: activeItems.length === (isMobile ? 2 : 5)\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NoResultView, {\n    text: searchQuery\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabPanel\"], {\n    key: \"panel--active\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-studies__panel sc-studies__panel--active\"\n  }, activeItems.length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TabularDisplayActivePanel, {\n    clearAll: clearAll,\n    items: activeItems,\n    onDeleteItem: onDeleteItem,\n    onEditItem: onEditItem,\n    isMobile: isMobile\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EmptyView, null))), categories.map(function (Category) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_tabs__WEBPACK_IMPORTED_MODULE_1__[\"TabPanel\"], {\n      key: \"panel--\".concat(Category.id)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"sc-studies__panel\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, Category.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(IndicatorList, {\n      onSelectItem: onSelectItem,\n      onInfoItem: onInfoItem,\n      items: Category.items,\n      disableAll: activeItems.length === maxAllowedItem\n    })));\n  }));\n};\n\nvar StudyLegend = function StudyLegend(_ref7) {\n  var isOpened = _ref7.isOpened,\n      setOpen = _ref7.setOpen,\n      StudyMenu = _ref7.StudyMenu,\n      menuOpen = _ref7.menuOpen,\n      isMobile = _ref7.isMobile,\n      activeStudiesNo = _ref7.activeStudiesNo,\n      items = _ref7.items,\n      searchedItems = _ref7.searchedItems,\n      SearchInput = _ref7.SearchInput,\n      searchQuery = _ref7.searchQuery,\n      selectedTab = _ref7.selectedTab,\n      onSelectTab = _ref7.onSelectTab,\n      onSelectItem = _ref7.onSelectItem,\n      onInfoItem = _ref7.onInfoItem,\n      activeItems = _ref7.activeItems,\n      deleteAll = _ref7.deleteAll,\n      deleteStudy = _ref7.deleteStudy,\n      editStudy = _ref7.editStudy,\n      infoItem = _ref7.infoItem,\n      portalNodeId = _ref7.portalNodeId,\n      updatePortalNode = _ref7.updatePortalNode,\n      maxAllowedItem = _ref7.maxAllowedItem;\n  updatePortalNode(portalNodeId);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StudyMenu, {\n    className: \"sc-studies\",\n    isOpened: isOpened,\n    setOpen: setOpen,\n    isMobile: isMobile,\n    title: t.translate('Indicators'),\n    tooltip: t.translate('Indicators'),\n    modalMode: true,\n    enableTabular: true,\n    portalNodeId: portalNodeId,\n    customHead: infoItem ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"sc-dialog__head--info\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"BackIcon\"], {\n      onClick: function onClick() {\n        return onInfoItem(null);\n      }\n    }), infoItem.name) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"sc-dialog__head--search\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SearchInput, null))\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StudyMenu.Title, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-studies__menu \".concat(menuOpen ? 'sc-studies__menu--active' : '')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"IndicatorIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NotificationBadge_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    notificationCount: activeStudiesNo\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StudyMenu.Body, null, infoItem && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-studies__info\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Scroll_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    autoHide: true,\n    height: \"360px\",\n    className: \"studies__info__content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, infoItem.description)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    className: \"sc-btn sc-btn--primary sc-btn--w100\",\n    onClick: function onClick() {\n      return onSelectItem(infoItem.id);\n    }\n  }, t.translate('Add'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TabularDisplay, {\n    onSelectTab: onSelectTab,\n    selectedTab: selectedTab,\n    categories: items,\n    searchedCategories: searchedItems,\n    onSelectItem: onSelectItem,\n    onDeleteItem: deleteStudy,\n    onEditItem: editStudy,\n    onInfoItem: onInfoItem,\n    activeItems: activeItems,\n    clearAll: deleteAll,\n    searchQuery: searchQuery,\n    isMobile: isMobile,\n    maxAllowedItem: maxAllowedItem\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_5__[\"connect\"])(function (_ref8) {\n  var st = _ref8.studies,\n      chart = _ref8.chart;\n  return {\n    isOpened: st.open,\n    setOpen: st.setOpen,\n    StudyMenu: st.StudyMenu,\n    menuOpen: st.menu.open,\n    isMobile: chart.isMobile,\n    activeStudiesNo: st.activeItems.length,\n    deleteAll: st.deleteAllStudies,\n    items: st.items,\n    searchedItems: st.searchedItems,\n    SearchInput: st.SearchInput,\n    searchQuery: st.filterText,\n    selectedTab: st.selectedTab,\n    onSelectTab: st.onSelectTab,\n    onSelectItem: st.onSelectItem,\n    activeItems: st.activeItems,\n    deleteStudy: st.deleteStudy,\n    editStudy: st.editStudy,\n    onInfoItem: st.onInfoItem,\n    infoItem: st.infoItem,\n    updatePortalNode: st.updatePortalNode,\n    maxAllowedItem: st.maxAllowedItem\n  };\n})(StudyLegend));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/SymbolSelectButton.jsx\":\n/*!***********************************************!*\\\n  !*** ./src/components/SymbolSelectButton.jsx ***!\n  \\***********************************************/\n/*! exports provided: SymbolInfo, SymbolSelectButton, ChartPrice */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SymbolInfo\", function() { return SymbolInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SymbolSelectButton\", function() { return SymbolSelectButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChartPrice\", function() { return ChartPrice; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _MarketOpeningTimeCounter_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarketOpeningTimeCounter.jsx */ \"./src/components/MarketOpeningTimeCounter.jsx\");\n\n\n\n\nvar SymbolInfo = function SymbolInfo(_ref) {\n  var symbol = _ref.symbol,\n      ChartPrice = _ref.ChartPrice,\n      isSymbolOpen = _ref.isSymbolOpen,\n      symbolOpenTime = _ref.symbolOpenTime;\n  var SymbolIcon = _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"ItemIconMap\"][symbol.symbol] || _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"SymbolPlaceholderIcon\"];\n  var hasOpenTime = !isSymbolOpen && symbolOpenTime.openTime;\n  var hasNoOpenTime = !isSymbolOpen && !symbolOpenTime.openTime;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, SymbolIcon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SymbolIcon, {\n    className: \"ic-\".concat(symbol.symbol)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-symbol-info\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('cq-symbol', {\n      'closed-no-opentime': hasNoOpenTime\n    })\n  }, symbol.name), isSymbolOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartPrice, null), hasOpenTime && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ClosedSymbol, {\n    symbolOpenTime: symbolOpenTime\n  })));\n};\nvar SymbolSelectButton = function SymbolSelectButton(_ref2) {\n  var symbol = _ref2.symbol,\n      ChartPrice = _ref2.ChartPrice,\n      isSymbolOpen = _ref2.isSymbolOpen,\n      symbolOpenTime = _ref2.symbolOpenTime;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-symbol-select-btn\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SymbolInfo, {\n    symbol: symbol,\n    ChartPrice: ChartPrice,\n    symbolOpenTime: symbolOpenTime,\n    isSymbolOpen: isSymbolOpen\n  }), !isSymbolOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-symbol-closed-text\"\n  }, t.translate('CLOSED')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"ArrowIcon\"], {\n    className: \"cq-symbol-dropdown\"\n  }));\n};\nvar ChartPrice = function ChartPrice(_ref3) {\n  var isVisible = _ref3.isVisible,\n      status = _ref3.status,\n      todayChange = _ref3.todayChange,\n      todayChangePercent = _ref3.todayChangePercent,\n      SpotPrice = _ref3.SpotPrice;\n  return isVisible && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-chart-price\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SpotPrice, {\n    className: \"cq-current-price\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"divider\"\n  }, \"-\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('cq-change', status)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-todays-change\"\n  }, todayChange || 0), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-todays-change-percent\"\n  }, \"(\", todayChangePercent, \"%)\"), \"\\xA0\"));\n};\n\nvar ClosedSymbol = function ClosedSymbol(symbolOpenTime) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-chart-closed\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"TimeIcon\"], {\n    className: \"cq-closed-icon\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-closed-opening\"\n  }, t.translate('Opens in:'), \" \\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-closed-opening-time\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MarketOpeningTimeCounter_jsx__WEBPACK_IMPORTED_MODULE_3__[\"MarketOpeningTimeCounter\"], {\n    symbolOpenTime: symbolOpenTime\n  }))));\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/Timeperiod.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/Timeperiod.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Tooltip_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Tooltip.jsx */ \"./src/components/Tooltip.jsx\");\n/* harmony import */ var _Loader_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Loader.jsx */ \"./src/components/Loader.jsx\");\n/* harmony import */ var _Constant__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Constant */ \"./src/Constant.js\");\n/* harmony import */ var _sass_components_timeperiod_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../sass/components/_timeperiod.scss */ \"./sass/components/_timeperiod.scss\");\n/* harmony import */ var _sass_components_timeperiod_scss__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_sass_components_timeperiod_scss__WEBPACK_IMPORTED_MODULE_6__);\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n\n\n\n\n\n\n\nvar Timeperiod = function Timeperiod(_ref) {\n  var chartId = _ref.chartId,\n      interval = _ref.interval,\n      timeUnit = _ref.timeUnit,\n      isMobile = _ref.isMobile,\n      onChange = _ref.onChange,\n      updateProps = _ref.updateProps,\n      newDesign = _ref.newDesign,\n      chartType = _ref.chartType,\n      isLoading = _ref.isLoading,\n      setPreparingInterval = _ref.setPreparingInterval,\n      preparingInterval = _ref.preparingInterval;\n\n  var onGranularityClick = function onGranularityClick(granularity) {\n    onChange(granularity, chartId);\n  };\n\n  var onIntervalClick = function onIntervalClick(chartTypeId, key, inval) {\n    if (key === 'tick' && chartTypeId !== 'mountain') {\n      return;\n    }\n\n    setPreparingInterval(inval);\n    onGranularityClick(inval);\n  };\n\n  var enableTooltip = function enableTooltip(key) {\n    return chartType.id !== 'mountain' && !isMobile && key === 'tick';\n  };\n\n  var enableLoader = function enableLoader(inval) {\n    return isLoading && inval === preparingInterval;\n  };\n\n  var ItemClassName = function ItemClassName(unit, time) {\n    var className = 'sc-interval__item';\n\n    if (timeUnit === unit && ((unit === 'minute' || unit === 'tick') && time === interval || unit === 'hour' && time === interval / 60 || unit === 'day' && time === 1)) {\n      className += ' sc-interval__item--active';\n    } else if (unit === 'tick' && chartType.id !== 'mountain') {\n      className += ' sc-interval__item--disabled';\n    }\n\n    return className;\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    return updateProps(onChange);\n  });\n\n  if (newDesign) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"sc-interval\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"sc-interval__head\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, t.translate('Time interval'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"sc-interval__info\"\n    }, t.translate('Tick interval only available for \"Area\" Chart type.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"sc-interval__content\"\n    }, _Constant__WEBPACK_IMPORTED_MODULE_5__[\"Intervals\"].map(function (category) {\n      return category.items.map(function (item) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Tooltip_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n          key: item.interval,\n          onClick: function onClick() {\n            return onIntervalClick(chartType.id, category.key, item.interval);\n          },\n          className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(ItemClassName(category.key, item.num), {\n            'pre-loading': enableLoader(item.interval)\n          }),\n          enabled: enableTooltip(category.key),\n          content: t.translate('Available only for \"Area\" chart type.')\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Loader_jsx__WEBPACK_IMPORTED_MODULE_4__[\"InlineLoader\"], {\n          enabled: enableLoader(item.interval)\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, item.num, \" \", t.translate(item.num === 1 ? category.single : category.plural))));\n      });\n    })));\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var s = _ref2.timeperiod,\n      chart = _ref2.chart,\n      chartType = _ref2.chartType,\n      loader = _ref2.loader;\n  return {\n    chartId: chart.chartId,\n    timeUnit: s.timeUnit,\n    interval: s.interval,\n    isMobile: s.mainStore.chart.isMobile,\n    onChange: s.setGranularity,\n    updateProps: s.updateProps,\n    chartType: chartType.type,\n    isLoading: loader.isActive,\n    preparingInterval: s.preparingInterval,\n    setPreparingInterval: s.setPreparingInterval\n  };\n})(Timeperiod));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ToolbarWidget.jsx\":\n/*!******************************************!*\\\n  !*** ./src/components/ToolbarWidget.jsx ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_toolbar_widget_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_toolbar-widget.scss */ \"./sass/components/_toolbar-widget.scss\");\n/* harmony import */ var _sass_components_toolbar_widget_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_toolbar_widget_scss__WEBPACK_IMPORTED_MODULE_3__);\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n\n\n\n\nvar ToolbarWidget = function ToolbarWidget(_ref) {\n  var _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'top' : _ref$position,\n      children = _ref.children,\n      context = _ref.context,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave;\n  if (!context) return '';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-toolbar-widget', _defineProperty({}, \"sc-toolbar-widget--\".concat(position), !!position)),\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave\n  }, children);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var chart = _ref2.chart,\n      toolbarWidget = _ref2.toolbarWidget;\n  return {\n    context: chart.context,\n    onMouseEnter: toolbarWidget.onMouseEnter,\n    onMouseLeave: toolbarWidget.onMouseLeave\n  };\n})(ToolbarWidget));\n\n/***/ }),\n\n/***/ \"./src/components/Tooltip.jsx\":\n/*!************************************!*\\\n  !*** ./src/components/Tooltip.jsx ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\nvar Tooltip = function Tooltip(_ref) {\n  var _classNames;\n\n  var children = _ref.children,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$enabled = _ref.enabled,\n      enabled = _ref$enabled === void 0 ? false : _ref$enabled,\n      content = _ref.content,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'top' : _ref$position,\n      props = _objectWithoutProperties(_ref, [\"children\", \"className\", \"enabled\", \"content\", \"position\"]);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", _extends({\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-tooltip', className, (_classNames = {}, _defineProperty(_classNames, \"sc-tooltip--\".concat(position), !!position), _defineProperty(_classNames, 'sc-tooltip--enable', enabled), _classNames))\n  }, props), children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-tooltip__inner\"\n  }, content));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Tooltip);\n\n/***/ }),\n\n/***/ \"./src/components/Views.jsx\":\n/*!**********************************!*\\\n  !*** ./src/components/Views.jsx ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Tooltip_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Tooltip.jsx */ \"./src/components/Tooltip.jsx\");\n/* harmony import */ var _Scroll_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Scroll.jsx */ \"./src/components/Scroll.jsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_view_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../sass/components/_view.scss */ \"./sass/components/_view.scss\");\n/* harmony import */ var _sass_components_view_scss__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_sass_components_view_scss__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\n\nvar ViewItem = function ViewItem(_ref) {\n  var view = _ref.view,\n      remove = _ref.remove,\n      onClick = _ref.onClick;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Tooltip_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    className: \"sc-views__views__list__item\",\n    onClick: onClick,\n    enabled: view.name.length > 27,\n    content: Object(_utils__WEBPACK_IMPORTED_MODULE_5__[\"wrapText\"])(view.name, 26)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"text\"\n  }, view.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"DeleteIcon\"], {\n    onClick: remove\n  }));\n};\n\nvar EmptyView = function EmptyView(_ref2) {\n  var onClick = _ref2.onClick;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-views--empty\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"EmptyStateIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, t.translate('You have no saved templates yet.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    className: \"sc-btn\",\n    onClick: onClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"AddIcon\"], null), t.translate('Add new template')));\n};\n\nvar OverwriteView = function OverwriteView(_ref3) {\n  var templateName = _ref3.templateName,\n      onCancel = _ref3.onCancel,\n      onOverwrite = _ref3.onOverwrite;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-views--overwrite\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-views--overwrite__content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"OverwriteStateIcon\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"\".concat(templateName, \" \").concat(t.translate('already exists.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), t.translate('Would you like to overwrite it?'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-views--overwrite__footer\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    className: \"sc-btn sc-btn--outline-secondary\",\n    onClick: onCancel\n  }, t.translate('Cancel')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    className: \"sc-btn sc-btn--primary\",\n    onClick: onOverwrite\n  }, t.translate('Overwrite'))));\n};\n\nvar ActiveListView = function ActiveListView(_ref4) {\n  var views = _ref4.views,\n      removeAll = _ref4.removeAll,\n      applyLayout = _ref4.applyLayout,\n      _remove = _ref4.remove;\n  if (!views.length) return '';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-views__views\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-views__views__head\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h5\", null, t.translate('Saved templates')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    onClick: removeAll,\n    className: \"sc-btn sc-btn--sm sc-btn--outline-secondary\"\n  }, t.translate('Clear all'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-views__views__content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-views__views__list\"\n  }, views.map(function (view, i) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ViewItem, {\n      view: view,\n      key: view.name,\n      onClick: function onClick(e) {\n        return applyLayout(i, e);\n      },\n      remove: function remove(e) {\n        return _remove(i, e);\n      }\n    });\n  }))));\n};\n\nvar Views = function Views(_ref5) {\n  var ViewsMenu = _ref5.ViewsMenu,\n      menuOpen = _ref5.menuOpen,\n      views = _ref5.views,\n      currentRoute = _ref5.currentRoute,\n      onToggleNew = _ref5.onToggleNew,\n      _ref5$routes = _ref5.routes,\n      main = _ref5$routes.main,\n      overwrite = _ref5$routes.overwrite,\n      onChange = _ref5.onChange,\n      onSubmit = _ref5.onSubmit,\n      applyLayout = _ref5.applyLayout,\n      remove = _ref5.remove,\n      inputRef = _ref5.inputRef,\n      saveViews = _ref5.saveViews,\n      templateName = _ref5.templateName,\n      removeAll = _ref5.removeAll,\n      isInputActive = _ref5.isInputActive,\n      onFocus = _ref5.onFocus,\n      onBlur = _ref5.onBlur,\n      portalNodeId = _ref5.portalNodeId;\n  var isActive = isInputActive || templateName !== '';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ViewsMenu, {\n    className: \"sc-views-menu\",\n    title: t.translate('Templates'),\n    tooltip: t.translate('Templates'),\n    modalMode: true,\n    portalNodeId: portalNodeId\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ViewsMenu.Title, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-views__menu', {\n      'sc-views__menu--active': menuOpen\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"TemplateIcon\"], null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ViewsMenu.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-views\"\n  }, currentRoute === 'new' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EmptyView, {\n    onClick: onToggleNew\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, currentRoute !== 'overwrite' ? '' : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(OverwriteView, {\n    templateName: templateName,\n    onCancel: main,\n    onOverwrite: overwrite\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Scroll_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    autoHide: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"form form--sc-views\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"form__input-group\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"form__group\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"form__control\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('form--sc-views__input', {\n      'form--sc-views__input--active': isActive\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"subtitle\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate('Add new templates'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n    type: \"text\",\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-input', {\n      'sc-input--active': isActive\n    }),\n    placeholder: isActive ? '' : t.translate('Add new templates'),\n    ref: inputRef,\n    value: templateName,\n    onKeyUp: onSubmit,\n    onChange: onChange,\n    onFocus: onFocus,\n    onClick: onFocus,\n    onBlur: onBlur\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    onClick: saveViews,\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-btn', 'sc-btn--primary', {\n      'sc-btn--primary--disabled': !isActive\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_6__[\"AddIcon\"], null))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActiveListView, {\n    views: views,\n    removeAll: removeAll,\n    applyLayout: applyLayout,\n    remove: remove\n  }))))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref6) {\n  var s = _ref6.view;\n  return {\n    ViewsMenu: s.ViewsMenu,\n    views: s.sortedItems,\n    routes: s.routes,\n    onOverwrite: s.onOverwrite,\n    onChange: s.onChange,\n    remove: s.remove,\n    onSubmit: s.onSubmit,\n    applyLayout: s.applyLayout,\n    menuOpen: s.menu.dialog.open,\n    inputRef: s.inputRef,\n    currentRoute: s.currentRoute,\n    templateName: s.templateName,\n    onToggleNew: s.onToggleNew,\n    saveViews: s.saveViews,\n    removeAll: s.removeAll,\n    isInputActive: s.isInputActive,\n    onFocus: s.onFocus,\n    onBlur: s.onBlur\n  };\n})(Views));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/categoricaldisplay/CategoricalDisplay.jsx\":\n/*!******************************************************************!*\\\n  !*** ./src/components/categoricaldisplay/CategoricalDisplay.jsx ***!\n  \\******************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Scroll_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Scroll.jsx */ \"./src/components/Scroll.jsx\");\n/* harmony import */ var _sass_components_categorical_display_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../sass/components/_categorical-display.scss */ \"./sass/components/_categorical-display.scss\");\n/* harmony import */ var _sass_components_categorical_display_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_components_categorical_display_scss__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nvar CategoricalDisplay = function CategoricalDisplay(_ref) {\n  var _onSelectItem = _ref.onSelectItem,\n      setFilterText = _ref.setFilterText,\n      updateScrollSpy = _ref.updateScrollSpy,\n      setScrollPanel = _ref.setScrollPanel,\n      ResultsPanel = _ref.ResultsPanel,\n      FilterPanel = _ref.FilterPanel,\n      height = _ref.height,\n      id = _ref.id,\n      SearchInput = _ref.SearchInput,\n      searchInputClassName = _ref.searchInputClassName,\n      disableAll = _ref.disableAll,\n      isNestedList = _ref.isNestedList,\n      isMobile = _ref.isMobile;\n  var innerPanel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ResultsPanel, {\n    onSelectItem: function onSelectItem(item) {\n      _onSelectItem(item);\n\n      setFilterText('');\n    },\n    id: id,\n    disableAll: disableAll,\n    isNestedList: isNestedList\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd \".concat(isNestedList ? 'sc-mcd--nested' : ''),\n    style: {\n      height: height\n    },\n    id: id\n  }, !isMobile && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__tabs\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__tabs__head\"\n  }, t.translate('Markets')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__tabs__body\"\n  }, !isNestedList && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FilterPanel, null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__content__head\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SearchInput, {\n    searchInputClassName: searchInputClassName\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__content__body\"\n  }, isMobile ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__content__body__scroll\",\n    onScroll: updateScrollSpy,\n    ref: setScrollPanel\n  }, innerPanel) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Scroll_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    autoHide: true,\n    onScroll: updateScrollSpy,\n    setPanel: setScrollPanel\n  }, innerPanel))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CategoricalDisplay);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/categoricaldisplay/FilterPanel.jsx\":\n/*!***********************************************************!*\\\n  !*** ./src/components/categoricaldisplay/FilterPanel.jsx ***!\n  \\***********************************************************/\n/*! exports provided: FilterPanel */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FilterPanel\", function() { return FilterPanel; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Icons.jsx */ \"./src/components/Icons.jsx\");\n\n\nvar FilterItemIcon = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref) {\n  var categoryId = _ref.categoryId;\n  var CategoryIcon = _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"CategoryIconMap\"][categoryId];\n  return CategoryIcon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CategoryIcon, {\n    className: \"ic-\".concat(categoryId)\n  });\n});\nvar FilterItem = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref2) {\n  var focusedCategoryKey = _ref2.focusedCategoryKey,\n      activeCategoryKey = _ref2.activeCategoryKey,\n      handleFilterClick = _ref2.handleFilterClick,\n      category = _ref2.category,\n      isSearching = _ref2.isSearching;\n  var isActive = focusedCategoryKey && focusedCategoryKey.length ? focusedCategoryKey === category.categoryId : activeCategoryKey === category.categoryId;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__filter__item \".concat(isActive && !isSearching ? 'sc-mcd__filter__item--selected' : ''),\n    onClick: function onClick(e) {\n      return handleFilterClick(category.categoryId, e);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FilterItemIcon, {\n    categoryId: category.categoryId\n  }), t.translate(category.categoryName));\n});\nvar FilterPanel = function FilterPanel(_ref3) {\n  var filteredItems = _ref3.filteredItems,\n      handleFilterClick = _ref3.handleFilterClick,\n      focusedCategoryKey = _ref3.focusedCategoryKey,\n      activeCategoryKey = _ref3.activeCategoryKey,\n      isSearching = _ref3.isSearching;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__filter\"\n  }, filteredItems.map(function (category) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FilterItem, {\n      key: category.categoryId,\n      category: category,\n      handleFilterClick: handleFilterClick,\n      activeCategoryKey: activeCategoryKey,\n      focusedCategoryKey: focusedCategoryKey,\n      isSearching: isSearching\n    });\n  }));\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/categoricaldisplay/Item.jsx\":\n/*!****************************************************!*\\\n  !*** ./src/components/categoricaldisplay/Item.jsx ***!\n  \\****************************************************/\n/*! exports provided: NormalItem, ActiveItem */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NormalItem\", function() { return NormalItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActiveItem\", function() { return ActiveItem; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _Favorite_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Favorite.jsx */ \"./src/components/Favorite.jsx\");\n\n\n\nvar Icon = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref) {\n  var id = _ref.id;\n\n  if (!id || !_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ItemIconMap\"][id]) {\n    return '';\n  }\n\n  var ItemIcon = _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ItemIconMap\"][id];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ItemIcon, {\n    className: \"ic-\".concat(id)\n  });\n});\nvar ItemName = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref2) {\n  var _ref2$item = _ref2.item,\n      itemId = _ref2$item.itemId,\n      display = _ref2$item.display;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__item__name\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icon, {\n    id: itemId\n  }), display);\n});\nvar ItemDetail = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref3) {\n  var favoritesId = _ref3.favoritesId,\n      _ref3$item = _ref3.item,\n      dataObject = _ref3$item.dataObject,\n      itemId = _ref3$item.itemId;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__item__detail\"\n  }, dataObject && (dataObject.exchange_is_open === undefined || dataObject.exchange_is_open) ? '' : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"closed-market\"\n  }, t.translate('CLOSED')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Favorite_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    category: favoritesId,\n    id: itemId\n  }));\n});\n\nvar ActiveOption = function ActiveOption(_ref4) {\n  var opt = _ref4.opt,\n      item = _ref4.item;\n  var ActiveOptionIcon = _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ActiveOptionsIconMap\"][opt.id];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ic-\".concat(opt.id),\n    onClick: function onClick(e) {\n      return opt.onClick && opt.onClick(item.dataObject, e);\n    }\n  }, ActiveOptionIcon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActiveOptionIcon, null), opt.renderChild && opt.renderChild(item));\n};\n\nvar ActiveOptions = function ActiveOptions(_ref5) {\n  var activeOptions = _ref5.activeOptions,\n      item = _ref5.item;\n  return activeOptions && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"sc-active-options\"\n  }, activeOptions.map(function (opt) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActiveOption, {\n      key: opt.id,\n      opt: opt,\n      item: item\n    });\n  }));\n};\n\nvar NormalItem = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref6) {\n  var onSelectItem = _ref6.onSelectItem,\n      item = _ref6.item,\n      disableAll = _ref6.disableAll,\n      favoritesId = _ref6.favoritesId;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__item sc-mcd__item--\".concat(item.itemId, \" \").concat(item.selected ? 'sc-mcd__item--selected ' : ''),\n    onClick: function onClick(e) {\n      return item.enabled && onSelectItem(item.dataObject, e);\n    },\n    disabled: !item.enabled || disableAll\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ItemName, {\n    item: item\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ItemDetail, {\n    item: item,\n    favoritesId: favoritesId\n  }));\n});\nvar ActiveItem = function ActiveItem(_ref7) {\n  var item = _ref7.item,\n      favoritesId = _ref7.favoritesId,\n      activeOptions = _ref7.activeOptions;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-active-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ItemName, {\n    item: item\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__item__detail\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActiveOptions, {\n    activeOptions: activeOptions,\n    item: item\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Favorite_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    category: favoritesId,\n    id: item.itemId\n  })));\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/categoricaldisplay/ResultsPanel.jsx\":\n/*!************************************************************!*\\\n  !*** ./src/components/categoricaldisplay/ResultsPanel.jsx ***!\n  \\************************************************************/\n/*! exports provided: ResultsPanel */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResultsPanel\", function() { return ResultsPanel; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ \"./src/utils/index.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\nfunction getItemCount(category) {\n  var count = 0;\n\n  if (category.hasSubcategory) {\n    var _iterator = _createForOfIteratorHelper(category.data),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var sub = _step.value;\n        count += sub.data.length;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else {\n    count += category.data.length;\n  }\n\n  return count;\n}\n\nvar EmptyCategory = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref) {\n  var category = _ref.category;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__category__content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"empty-category\"\n  }, t.translate(category.emptyDescription)));\n});\nvar CategoryTitleLeft = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref2) {\n  var isNestedList = _ref2.isNestedList,\n      category = _ref2.category;\n  var CategoryIcon = _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CategoryIconMap\"][category.categoryId];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"category-title-left\"\n  }, isNestedList ? CategoryIcon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CategoryIcon, {\n    className: \"ic-\".concat(category.categoryId)\n  }) : '', t.translate(category.categoryName));\n});\n\nvar CategoryTitle = function CategoryTitle(_ref3) {\n  var category = _ref3.category,\n      activeHeadKey = _ref3.activeHeadKey,\n      isNestedList = _ref3.isNestedList,\n      handleTitleClick = _ref3.handleTitleClick;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-mcd__category__head', {\n      'has-subtitle': category.categorySubtitle,\n      active: category.active\n    }),\n    onClick: function onClick() {\n      return handleTitleClick(category.categoryId);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CategoryTitleLeft, {\n    isNestedList: isNestedList,\n    category: category\n  }), (category.categoryNamePostfixShowIfActive && activeHeadKey === category.categoryId || !category.categoryNamePostfixShowIfActive) && category.categoryNamePostfix && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"category-name-postfix\"\n  }, category.categoryNamePostfix), category.categorySubtitle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"category-subtitle\"\n  }, t.translate(category.categorySubtitle)), isNestedList ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"ArrowIcon\"], {\n    className: \"arrow\"\n  }) : '');\n};\n\nvar Category = function Category(_ref4) {\n  var category = _ref4.category,\n      categoryItemCount = _ref4.categoryItemCount,\n      Item = _ref4.Item,\n      setCategoryElement = _ref4.setCategoryElement,\n      onSelectItem = _ref4.onSelectItem,\n      activeHeadKey = _ref4.activeHeadKey,\n      disableAll = _ref4.disableAll,\n      isNestedList = _ref4.isNestedList,\n      handleTitleClick = _ref4.handleTitleClick;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-mcd__category', \"sc-mcd__category--\".concat(category.categoryId), {\n      'sc-mcd__category--has-subtitle': category.categorySubtitle,\n      'sc-mcd__category--active': category.active\n    }),\n    ref: function ref(el) {\n      return setCategoryElement(el, category.categoryId);\n    }\n  }, (isNestedList || !category.hasSubcategory) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CategoryTitle, {\n    category: category,\n    activeHeadKey: activeHeadKey,\n    isNestedList: isNestedList,\n    handleTitleClick: handleTitleClick\n  }), category.hasSubcategory ? category.data.map(function (subcategory) {\n    return getItemCount(subcategory) > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('sc-mcd__category__content', \"sc-mcd__category__content--\".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"stringToSlug\"])(subcategory.subcategoryName)), 'sc-mcd__category__content--has-subcategory'),\n      key: subcategory.subcategoryName\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"subcategory\"\n    }, t.translate(subcategory.subcategoryName)), subcategory.data.map(function (item) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Item, {\n        key: item.display,\n        item: item,\n        onSelectItem: onSelectItem,\n        disableAll: disableAll\n      });\n    }));\n  }) : category.data.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"sc-mcd__category__content\"\n  }, category.data.map(function (item, idx) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Item, {\n      key: \"\".concat(item.display, \"-\").concat(idx) // eslint-disable-line react/no-array-index-key\n      ,\n      item: item,\n      onSelectItem: onSelectItem,\n      disableAll: disableAll\n    });\n  })), categoryItemCount === 0 && category.emptyDescription && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EmptyCategory, {\n    category: category\n  }));\n};\n\nvar ResultsPanel = function ResultsPanel(_ref5) {\n  var filteredItems = _ref5.filteredItems,\n      onSelectItem = _ref5.onSelectItem,\n      getItemType = _ref5.getItemType,\n      setCategoryElement = _ref5.setCategoryElement,\n      activeHeadKey = _ref5.activeHeadKey,\n      disableAll = _ref5.disableAll,\n      isNestedList = _ref5.isNestedList,\n      handleTitleClick = _ref5.handleTitleClick;\n  return filteredItems.map(function (category) {\n    var categoryItemCount = getItemCount(category);\n    return (categoryItemCount > 0 || category.emptyDescription) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Category, {\n      key: category.categoryId,\n      Item: getItemType(category.categoryId),\n      category: category,\n      categoryItemCount: categoryItemCount,\n      setCategoryElement: setCategoryElement,\n      onSelectItem: onSelectItem,\n      activeHeadKey: activeHeadKey,\n      disableAll: disableAll,\n      isNestedList: isNestedList,\n      handleTitleClick: handleTitleClick\n    });\n  });\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/categoricaldisplay/index.js\":\n/*!****************************************************!*\\\n  !*** ./src/components/categoricaldisplay/index.js ***!\n  \\****************************************************/\n/*! exports provided: CategoricalDisplay, FilterPanel, NormalItem, ActiveItem, ResultsPanel */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _CategoricalDisplay_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CategoricalDisplay.jsx */ \"./src/components/categoricaldisplay/CategoricalDisplay.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CategoricalDisplay\", function() { return _CategoricalDisplay_jsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _FilterPanel_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FilterPanel.jsx */ \"./src/components/categoricaldisplay/FilterPanel.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FilterPanel\", function() { return _FilterPanel_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FilterPanel\"]; });\n\n/* harmony import */ var _Item_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Item.jsx */ \"./src/components/categoricaldisplay/Item.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"NormalItem\", function() { return _Item_jsx__WEBPACK_IMPORTED_MODULE_2__[\"NormalItem\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ActiveItem\", function() { return _Item_jsx__WEBPACK_IMPORTED_MODULE_2__[\"ActiveItem\"]; });\n\n/* harmony import */ var _ResultsPanel_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ResultsPanel.jsx */ \"./src/components/categoricaldisplay/ResultsPanel.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ResultsPanel\", function() { return _ResultsPanel_jsx__WEBPACK_IMPORTED_MODULE_3__[\"ResultsPanel\"]; });\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/components/ui/Animation.js\":\n/*!****************************************!*\\\n  !*** ./src/components/ui/Animation.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return animateChart; });\n/* TAKEN OUT OF ADDONS.JS */\n\n/* eslint-disable no-unused-vars,eqeqeq,no-shadow,no-alert,no-restricted-globals,prefer-const,prefer-destructuring */\n\n/**\n * Add-On that animates the chart.\n *\n * Requires `addOns.js`\n *\n * The chart is animated in three ways:\n * 1.  The current price pulsates\n * 2.  The current price appears to move smoothly from the previous price\n * 3.  The chart's y-axis smoothly expands/contracts when a new high or low is reached\n *\n * The following chart types are supported: line, mountain, baseline_delta.\n *\n * Chart aggregations such as Kagi, Renko, Range Bars, etc. are not supported.\n *\n * **Animation displays more gracefully when updates are sent into the chart one at a time using {@link CIQ.ChartEngine#updateChartData}\n * instead of in batches using a [QuoteFeed]{@link CIQ.ChartEngine#attachQuoteFeed}. Sending data in batches will produce a ‘jumping’ effect.**\n *\n * By default there will be a flashing beacon created using a canvas circles. If instead you want to use a custom animation beacon, you will be able to extend the functionality yourself as follows:\n * - In js/addOns.js, at the bottom of the CIQ.Animation function, there is an stx.append(\"draw\") function.\n * - Make a copy of this function so you can override the behavior.\n * - In there you will see it determine var x and y, which are the coordinates for the center of the beacon.\n * - At the bottom of this append function, where we draw the beacon by using the Canvas arc() function to draw a circle and then fill() to make the circle solid.\n * - You can replace this circle and fill instructions with an image using [CanvasRenderingContext2D.drawImage()](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D#Drawing_images) .\n *\n * Animation Example <iframe width=\"800\" height=\"500\" scrolling=\"no\" seamless=\"seamless\" align=\"top\" style=\"float:top\" src=\"https://jsfiddle.net/chartiq/6fqw652z/embedded/result,js,html/\" allowfullscreen=\"allowfullscreen\" frameborder=\"1\"></iframe>\n *\n * @param {CIQ.ChartEngine} stx The chart object\n * @param {object} animationParameters Configuration parameters\n * @param {boolean} [animationParameters.stayPut=false] Set to true for last tick to stay in position it was scrolled and have rest of the chart move backwards as new ticks are added instead of having new ticks advance forward and leave the rest of the chart in place.\n * @param {number} [animationParameters.ticksFromEdgeOfScreen=5] Number of ticks from the right edge the chart should stop moving forward so the last tick never goes off screen (only applicable if stayPut=false)\n * @param {number} [animationParameters.granularity=1000000] Set to a value that will give enough granularity for the animation.  The larger the number the smaller the price jump between frames, which is good for charts that need a very slow smooth animation either because the price jumps between ticks are very small, or because the animation was set up to run over a large number of frames when instantiating the CIQ.EaseMachine.\n * @param {number} [animationParameters.tension=null] Splining tension for smooth curves around data points (range 0-1).  Must include splines.js for this to be effective.\n * @param {CIQ.EaseMachine} easeMachine Override the default easeMachine.  Default is `new CIQ.EaseMachine(Math.easeOutCubic, 1000);`\n * @constructor\n * @name  CIQ.Animation\n * @since\n * <br>&bull; 3.0.0 Now part of addOns.js. Previously provided as a standalone animation.js file\n * <br>&bull; 4.0.0 beacon only flashes for line charts. On Candles or bars it is suppressed as it produces an unnatural effect.\n * @example\n *    new CIQ.Animation(stxx, {tension:0.3});  //Default animation with splining tension of 0.3\n *\n */\nfunction animateChart(stx, animationParameters) {\n  var params = {\n    stayPut: false,\n    ticksFromEdgeOfScreen: 5,\n    granularity: 1000000\n  };\n  animationParameters = CIQ.extend(params, animationParameters);\n  if (params.tension) stx.chart.tension = animationParameters.tension;\n  stx.tickAnimator = new CIQ.EaseMachine(Math.easeInOutCubic, 320);\n  var filterSession = false;\n  var nextBoundary = null;\n\n  function initMarketSessionFlags() {\n    filterSession = false;\n    nextBoundary = null;\n  }\n\n  stx.addEventListener(['symbolChange', 'layout'], function (obj) {\n    initMarketSessionFlags();\n  });\n  stx.prepend('updateCurrentMarketData', function (data, chart, symbol, params) {\n    if (!chart) chart = this.chart;\n\n    if (params && params.fromTrade && (chart.closePendingAnimation || chart.closePendingAnimation === 0)) {\n      params.finalClose = chart.closePendingAnimation;\n    }\n  });\n  stx.append('updateChartData', function (appendQuotes, chart, params) {\n    // These chart types are the only types supported by animation\n    var supportedChartType = this.mainSeriesRenderer && this.mainSeriesRenderer.supportsAnimation; // This injection is just for charts which are not supported by animation.\n\n    if (supportedChartType) {\n      return false;\n    }\n\n    chart = chart || this.chart;\n\n    if (chart.lockScroll) {\n      var lastAppendQuote = appendQuotes[appendQuotes.length - 1];\n      var lastDataSegmentItem = chart.dataSegment[chart.dataSegment.length - 1];\n\n      if (!lastAppendQuote || !lastDataSegmentItem) {\n        return;\n      }\n\n      if (lastAppendQuote.DT > lastDataSegmentItem.DT && chart.scroll <= chart.dataSegment.length) {\n        chart.scroll++;\n      }\n    }\n  });\n  stx.prepend('updateChartData', function (appendQuotes, chart, params) {\n    var self = this;\n\n    if (!chart) {\n      chart = self.chart;\n    }\n\n    if (!chart || !chart.defaultChartStyleConfig || chart.defaultChartStyleConfig == 'none') return;\n\n    if (params !== undefined) {\n      if (params.animationEntry || params.secondarySeries) return;\n    }\n\n    function completeLastBar(record) {\n      if (!chart.masterData) {\n        return;\n      }\n\n      for (var md = chart.masterData.length - 1; md >= 0; md--) {\n        var bar = chart.masterData[md];\n\n        if (bar.Close || bar.Close === 0) {\n          bar.Close = record.Close;\n          if (record.LastSize) bar.LastSize = record.LastSize;\n          if (record.LastTime) bar.LastTime = record.LastTime;\n          self.updateCurrentMarketData({\n            Close: bar.Close,\n            DT: bar.DT,\n            LastSize: bar.LastSize,\n            LastTime: bar.LastTime\n          });\n          self.createDataSet(null, null, {\n            appending: true\n          });\n          return;\n        }\n      }\n    }\n\n    function unanimateScroll() {\n      if (chart.animatingHorizontalScroll) {\n        chart.animatingHorizontalScroll = false;\n        self.micropixels = self.nextMicroPixels = self.previousMicroPixels; // <-- Reset self.nextMicroPixels here\n\n        chart.lastTickOffset = 0;\n      }\n\n      if (chart.closePendingAnimation !== null) {\n        var close = chart.closePendingAnimation;\n        chart.closePendingAnimation = null;\n        completeLastBar({\n          Close: close\n        });\n      }\n    }\n\n    var tickAnimator = self.tickAnimator; // These chart types are the only types supported by animation\n\n    var supportedChartType = this.mainSeriesRenderer && this.mainSeriesRenderer.supportsAnimation;\n\n    if (supportedChartType) {\n      if (!tickAnimator) {\n        console.warn('Animation plug-in can not run because the tickAnimator has not been declared. See instructions in animation.js');\n        return;\n      } // If symbol changes then reset all of our variables\n\n\n      if (this.prevSymbol != chart.symbol) {\n        this.prevQuote = 0;\n        chart.closePendingAnimation = null;\n        this.prevSymbol = chart.symbol;\n      }\n\n      unanimateScroll();\n      tickAnimator.stop();\n\n      if (appendQuotes.length > 2) {\n        return;\n      }\n    }\n\n    var newParams = CIQ.clone(params);\n    if (!newParams) newParams = {};\n    newParams.animationEntry = true;\n    newParams.bypassGovernor = true;\n    newParams.noCreateDataSet = false; // newParams.allowReplaceOHL = true;\n\n    newParams.firstLoop = true;\n    var symbol = this.chart.symbol;\n    var period = this.layout.periodicity;\n    var interval = this.layout.interval;\n    var timeUnit = this.layout.timeUnit;\n\n    function cb(quote, prevQuote, chartJustAdvanced) {\n      return function (newData) {\n        var newClose = newData.Close;\n\n        if (!chart.dataSet.length || symbol != chart.symbol || period != self.layout.periodicity || interval != self.layout.interval || timeUnit != self.layout.timeUnit) {\n          // console.log (\"---- STOP animating: Old\",symbol,' New : ',chart.symbol, Date())\n          tickAnimator.stop();\n          unanimateScroll();\n          return; // changed symbols mid animation\n        }\n\n        var q = CIQ.clone(quote);\n        q.Close = Math.round(newClose * animationParameters.granularity) / animationParameters.granularity; // <<------ IMPORTANT! Use 1000000 for small price increments, otherwise animation will be in increments of .0001\n        // q.Close = Math.round(newClose*chart.roundit)/chart.roundit; // to ensure decimal points don't go out too far for interim values\n        // if (chartJustAdvanced) {\n        //     if (!q.Open && q.Open !== 0) q.Open = q.Close;\n        //     if (!q.High && q.High !== 0) q.High = Math.max(q.Open, q.Close);\n        //     if (!q.Low && q.Low !== 0) q.Low = Math.min(q.Open, q.Close);\n        // } else {\n        //     if (quote.Close > prevQuote.High) q.High = q.Close;\n        //     if (quote.Close < prevQuote.Low) q.Low = q.Close;\n        // }\n\n        if (chart.animatingHorizontalScroll) {\n          self.micropixels = newData.micropixels;\n          chart.lastTickOffset = newData.lineOffset;\n        }\n\n        newParams.updateDataSegmentInPlace = !tickAnimator.hasCompleted; // console.log(\"animating: Old\",symbol,' New : ',chart.symbol);\n\n        var progress = tickAnimator.fc(Date.now() - tickAnimator.startTime, // delta time\n        0, // start value\n        1, // end value\n        tickAnimator.ms // duration\n        ); // the progress value will be used in \"CurrentSpotStore.drawSpot\" method.\n        // it's used to properly applow glow effect and position the current spot.\n\n        q.tickAnimationProgress = Math.min(progress, 1);\n        q.chartJustAdvanced = chartJustAdvanced;\n        var updateQuotes = [q];\n        if (chartJustAdvanced) updateQuotes.unshift(prevQuote);\n        self.updateChartData(updateQuotes, chart, newParams);\n        newParams.firstLoop = false;\n\n        if (tickAnimator.hasCompleted) {\n          unanimateScroll();\n        }\n      };\n    }\n    /* end function */\n\n\n    if (supportedChartType) {\n      var quote = appendQuotes[appendQuotes.length - 1];\n      this.prevQuote = this.currentQuote(); // <---- prevQuote logic has been changed to prevent forward/back jitter when more than one tick comes in between animations\n\n      var chartJustAdvanced = false; // When advancing, we need special logic to deal with the open\n\n      if (period == 1 && appendQuotes.length == 2) {\n        // Don't do this if consolidating\n        this.prevQuote = appendQuotes[0];\n        completeLastBar(this.prevQuote);\n      }\n\n      if (!quote || !quote.Close || !this.prevQuote\n      /* || !this.prevQuote.Close */\n      ) {\n          if (this.prevQuote\n          /* && quote && quote.Close === null <] [> && !this.prevQuote.Close */\n          ) {\n              if (chart.lockScroll\n              /* && quote.DT >= this.prevQuote.DT */\n              ) {\n                  if (quote.Close === null) {\n                    tickAnimator.stop();\n                    unanimateScroll();\n                  }\n\n                  if (chart.entryTick !== null && chart.entryTick !== undefined) {\n                    var visibleTicks = chart.dataSet.length - chart.entryTick + 1;\n                    this.setMaxTicks(visibleTicks + 3);\n                    chart.scroll = visibleTicks + 1;\n                  }\n                }\n            }\n\n          return false;\n        }\n\n      if (this.prevQuote.Close === null) {\n        var beforeCurrentQuote = this.chart.dataSet[this.chart.dataSet.length - 2];\n\n        if (beforeCurrentQuote && beforeCurrentQuote.Close) {\n          this.prevQuote = beforeCurrentQuote;\n        } else {\n          return false;\n        }\n      }\n\n      if (this.extendedHours && chart.market.market_def) {\n        // Filter out unwanted sessions\n        var dtToFilter = quote.DT;\n\n        if (CIQ.ChartEngine.isDailyInterval(interval)) {\n          filterSession = !chart.market.isMarketDate(dtToFilter);\n        } else if (!nextBoundary || nextBoundary <= dtToFilter) {\n          var session = chart.market.getSession(dtToFilter);\n          filterSession = session !== '' && (!this.layout.marketSessions || !this.layout.marketSessions[session]);\n          nextBoundary = chart.market[filterSession ? 'getNextOpen' : 'getNextClose'](dtToFilter);\n        }\n\n        if (filterSession) {\n          this.draw();\n          return false;\n        }\n      }\n\n      var barSpan = period;\n      if (interval == 'second' || timeUnit == 'second') barSpan *= 1000;else if (interval == 'minute' || timeUnit == 'minute') barSpan *= 60000;\n      if (!isNaN(interval)) barSpan *= interval;\n\n      if (interval == 'day' || timeUnit == 'day') {\n        chartJustAdvanced = quote.DT.getDate() != this.prevQuote.DT.getDate();\n      } else if (interval == 'week' || timeUnit == 'week') {\n        chartJustAdvanced = quote.DT.getDate() >= this.prevQuote.DT.getDate() + 7;\n      } else if (interval == 'month' || timeUnit == 'month') {\n        chartJustAdvanced = quote.DT.getMonth() != this.prevQuote.DT.getMonth();\n      } else chartJustAdvanced = quote.DT.getTime() >= this.prevQuote.DT.getTime() + barSpan;\n\n      var linearChart = (!this.mainSeriesRenderer || !this.mainSeriesRenderer.standaloneBars) && !this.chart.standaloneBars;\n      var beginningOffset = 0;\n\n      if (chartJustAdvanced) {\n        if (this.animations.zoom.hasCompleted) {\n          var candleWidth = this.layout.candleWidth;\n\n          if (chart.scroll <= chart.maxTicks && !chart.lockScroll) {\n            if (this.micropixels > 0) {\n              // If micropixels is larger than a candle then scroll back further\n              var count = Math.ceil(this.micropixels / candleWidth);\n              this.scroll += count;\n              this.micropixels -= count * candleWidth;\n            }\n          }\n\n          if (chart.scroll <= chart.maxTicks && !chart.lockScroll) {\n            this.previousMicroPixels = this.micropixels;\n            this.nextMicroPixels = this.micropixels + candleWidth;\n            beginningOffset = candleWidth * -1;\n\n            if (chart.dataSegment && chart.dataSegment.length < chart.maxTicks - animationParameters.ticksFromEdgeOfScreen && !animationParameters.stayPut) {\n              chart.scroll++;\n              this.nextMicroPixels = this.micropixels;\n            }\n\n            chart.animatingHorizontalScroll = linearChart && !chart.lockScroll; // When the chart advances we also animate the horizontal scroll by incrementing micropixels\n\n            chart.previousDataSetLength = chart.dataSet.length;\n          } else if (chart.lockScroll) {\n            if (chart.entryTick !== undefined && chart.entryTick !== null) {\n              var dataLen = chart.dataSet.length;\n\n              var _visibleTicks = dataLen - chart.entryTick + 1;\n\n              this.setMaxTicks(_visibleTicks + 3);\n              chart.scroll = _visibleTicks + 1;\n            } else {\n              this.setMaxTicks(chart.dataSet.length + (Math.floor(chart.dataSet.length / 5) || 2));\n              chart.scroll = chart.dataSet.length;\n            }\n          } else {\n            chart.scroll += 1;\n          }\n        } else {\n          return false;\n        }\n      }\n\n      chart.closePendingAnimation = quote.Close;\n      var start = chartJustAdvanced && !linearChart ? quote.Open : this.prevQuote.Close;\n      tickAnimator.run(cb(quote, CIQ.clone(this.prevQuote), chartJustAdvanced), {\n        Close: start,\n        micropixels: chart.lockScroll ? 0 : this.nextMicroPixels,\n        lineOffset: beginningOffset\n      }, {\n        Close: quote.Close,\n        micropixels: this.micropixels,\n        lineOffset: 0\n      });\n      return true; // bypass default behavior if the animation is on\n    }\n  });\n}\n\n/***/ }),\n\n/***/ \"./src/components/ui/Context.js\":\n/*!**************************************!*\\\n  !*** ./src/components/ui/Context.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * UI context helper class. Construct with an {@link CIQ.ChartEngine} object\n * @param {CIQ.ChartEngine} stx The chart object to associate this UI\n * @param {HTMLElement} topNode The top node of the DOM tree for this context. That node should contain\n * all of the UI elements associated with the CIQ.ChartEngine\n * @param {object} [params] Optional parameters\n * @name CIQ.UI.Context\n * @constructor\n */\nvar Context = /*#__PURE__*/function () {\n  function Context(stx, topNode, params) {\n    _classCallCheck(this, Context);\n\n    this.params = params || {};\n    this.stx = stx;\n    this.topNode = topNode;\n    var storage = Context.assembleContext(topNode);\n    this.advertised = {};\n    topNode.CIQ.UI.context = this; // Search through all of the components that have registered themselves. Call setContext() on each\n    // so that they can get their context. This usually initializes and makes the component active.\n\n    for (var i = 0; i < storage.Components.length; i++) {\n      storage.Components[i].setContextPrivate(this);\n    }\n  }\n  /**\n   * The DOM tag for a context needs some storage. ContextTag components register\n   * themselves by placing themselves in this storage. This method creates that\n   * storage, if it hasn't already been created.\n   * @param  {HTMLElement} contextElement The context node\n   * @returns {object} The storage object\n   * @private\n   */\n\n\n  _createClass(Context, [{\n    key: \"advertiseAs\",\n\n    /**\n     * Attaches a Helper to the context, so that it can be found later on.\n     * @param {CIQ.UI.Helper} uiHelper A UI Helper to attach\n     * @param {string} helperName The helperName of the element. For instance \"Loader\"\n     * @memberof CIQ.UI.Context\n     */\n    value: function advertiseAs(uiHelper, helperName) {\n      this.advertised[helperName] = uiHelper;\n    }\n    /**\n     * Finds the nearest (parent) node that contains the class (CIQ.UI.Element type) referenced\n     * by an stxtap attribute. Returns null if none found.\n     * @param  {string} helperName The type of UI Helper to look for\n     * @return {Array.CIQ.UI.Helper} The associated array of helpers or null if none found\n     * @memberof CIQ.UI.Context\n     * @private\n     */\n\n  }, {\n    key: \"getAdvertised\",\n    value: function getAdvertised(helperName) {\n      return this.advertised[helperName];\n    }\n    /**\n     * Attaches a loader to a UI context\n     * @param {CIQ.UI.Loader} loader Loader instance\n     * @memberof CIQ.UI.Context\n     */\n\n  }, {\n    key: \"setLoader\",\n    value: function setLoader(loader) {\n      this.loader = loader;\n    }\n    /**\n     * Is the context in modal mode?\n     * @return {Boolean} true if in modal mode\n     * @memberof CIQ.UI.Context\n     */\n\n  }, {\n    key: \"isModal\",\n    value: function isModal() {\n      return this.stx.openDialog !== '';\n    }\n  }], [{\n    key: \"assembleContext\",\n    value: function assembleContext(contextElement) {\n      if (!contextElement.CIQ) {\n        contextElement.CIQ = {};\n      } // claim our namespace\n\n\n      if (!contextElement.CIQ.UI) {\n        contextElement.CIQ.UI = {};\n      }\n\n      if (!contextElement.CIQ.UI.Components) {\n        contextElement.CIQ.UI.Components = [];\n      }\n\n      return contextElement.CIQ.UI;\n    }\n  }]);\n\n  return Context;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Context);\n\n/***/ }),\n\n/***/ \"./src/components/ui/Helper.js\":\n/*!*************************************!*\\\n  !*** ./src/components/ui/Helper.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * Abstract class for UI Helpers\n * @name CIQ.UI.Helper\n * @constructor\n */\nvar Helper = /*#__PURE__*/function () {\n  function Helper(node, context) {\n    _classCallCheck(this, Helper);\n\n    this.node = node;\n    this.context = context;\n    this.injections = []; // To keep track of injections for later removal\n  }\n  /**\n   * Adds an injection. These will be automatically destroyed if the helper object is destroyed\n   * @param {string} position  \"prepend\" or \"append\"\n   * @param {string} injection The injection name. i.e. \"draw\"\n   * @param {Function} code      The code to be run\n   * @memberof CIQ.UI.Helper\n   */\n\n\n  _createClass(Helper, [{\n    key: \"addInjection\",\n    value: function addInjection(position, injection, code) {\n      this.injections.push(this.context.stx[position](injection, code));\n    }\n    /**\n     * Removes injections from the ChartEngine\n     * @memberof CIQ.UI.Helper\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      for (var i = 0; i < this.injections.length; i++) {\n        this.context.stx.removeInjection(this.injections[i]);\n      }\n\n      this.injections = [];\n    }\n  }]);\n\n  return Helper;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Helper);\n\n/***/ }),\n\n/***/ \"./src/components/ui/Keystroke.js\":\n/*!****************************************!*\\\n  !*** ./src/components/ui/Keystroke.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * UI Helper for capturing and handling keystrokes. cb to capture the key. Developer is responsible\n * for calling e.preventDefault() and/or e.stopPropagation();\n *\n * @name CIQ.UI.Keystroke\n * @param {HTMLElement} [node] The node to which to attach, generally the chart container\n * @param {Function} [cb] Callback when key pressed\n * @constructor\n */\nvar Keystroke = /*#__PURE__*/function () {\n  /**\n   * Set this to true to bypass key capture. Shift, CTRL, CMD will still be toggled however\n   * @memberof CIQ.UI.Keystroke\n   * @type {Boolean}\n   */\n  function Keystroke(node, cb) {\n    var _this = this;\n\n    _classCallCheck(this, Keystroke);\n\n    this.keyup = function (e) {\n      var key = e.which;\n\n      if (_this.implementAndroidWorkaround) {\n        _this.androidWorkaroundKeyup(e);\n\n        _this.implementAndroidWorkaround = false;\n        return;\n      }\n\n      switch (key) {\n        case 16:\n          _this.shift = false;\n\n          _this.cb({\n            key: key,\n            e: e,\n            keystroke: _this\n          });\n\n          return;\n\n        case 17:\n        case 18:\n          _this.ctrl = false;\n\n          _this.cb({\n            key: key,\n            e: e,\n            keystroke: _this\n          });\n\n          return;\n\n        case 91:\n          _this.cmd = false;\n\n          _this.cb({\n            key: key,\n            e: e,\n            keystroke: _this\n          });\n\n          return;\n\n        default:\n          break;\n      } // This is where we handle the keystroke, regardless of whether we captured the key with a down or press event\n      // The exception to this is the arrow keys, which are processed in keydown\n\n\n      if (_this.key) {\n        _this.cb({\n          key: _this.key,\n          e: e,\n          keystroke: _this\n        });\n      }\n    };\n\n    this.keydown = function (e) {\n      _this.downValue = e.target.value;\n\n      if (_this.noKeyCapture) {\n        return;\n      }\n\n      var key = e.which;\n\n      if (key === 229 && CIQ.isAndroid) {\n        _this.implementAndroidWorkaround = true;\n        return;\n      }\n\n      if (!_this.ctrl) {\n        if (key !== 91 && key >= 48 && key <= 222 || key === 32) {\n          return;\n        }\n      } // handled by keypress\n      // eslint-disable-next-line default-case\n\n\n      switch (key) {\n        case 91:\n          _this.cmd = true;\n          return;\n\n        case 16:\n          _this.shift = true;\n          return;\n\n        case 17:\n        case 18:\n          _this.ctrl = true;\n          return;\n\n        case 20:\n          _this.capsLock = !_this.capsLock;\n          return;\n      }\n\n      if (key === 8) {\n        key = 'backspace';\n      } // delete on mac\n\n\n      if (key === 9) {\n        key = 'tab';\n      }\n\n      if (key === 13) {\n        key = 'enter';\n      }\n\n      if (key === 27) {\n        key = 'escape';\n      }\n\n      if (key === 33) {\n        key = 'page up';\n      }\n\n      if (key === 34) {\n        key = 'page down';\n      }\n\n      if (key === 35) {\n        key = 'end';\n      }\n\n      if (key === 36) {\n        key = 'home';\n      }\n\n      if (key === 45) {\n        key = 'insert';\n      }\n\n      if (key === 46) {\n        key = 'delete';\n      }\n\n      _this.key = key; // If you hold a key down, then keydown will repeat. These are the keys\n      // that we want to capture repeat action.\n\n      if (key === 37 || key === 38 || key === 39 || key === 40) {\n        if (key === 37) {\n          key = 'left';\n        }\n\n        if (key === 38) {\n          key = 'up';\n        }\n\n        if (key === 39) {\n          key = 'right';\n        }\n\n        if (key === 40) {\n          key = 'down';\n        }\n\n        _this.key = null;\n\n        _this.cb({\n          key: key,\n          e: e,\n          keystroke: _this\n        });\n      }\n    };\n\n    this.keypress = function (e) {\n      if (_this.noKeyCapture) {\n        return;\n      }\n\n      var key = e.which;\n\n      if (key < 32 || key > 222) {\n        return;\n      } // handled by keydown\n\n\n      _this.key = key;\n    };\n\n    this.onblur = function (e) {\n      _this.ctrl = false;\n\n      _this.cb({\n        key: 17,\n        e: e,\n        keystroke: _this\n      });\n    };\n\n    this.node = node;\n    this.cb = cb;\n    this.initialize();\n    this.shift = false;\n    this.ctrl = false;\n    this.cmd = false;\n    this.capsLock = false;\n    this.downValue = ''; // Android Chrome bug requires a workaround for keyup.\n  } // http://stackoverflow.com/questions/30743490/capture-keys-typed-on-android-virtual-keyboard-using-javascript\n  // On Chrome Android, the keydown/keyup events are broken. We have to figure out the key that was pressed by\n  // examining the value of an input box before (keydown) and after (keyup) and identifying what changed\n  // Note that CIQ.isAndroid is false when the user requests \"desktop site\" and so some input boxes won't work\n  // in that situation. There is no workaround other than to always treat 229 as a false value (it is a swedish character)\n\n\n  _createClass(Keystroke, [{\n    key: \"androidWorkaroundKeyup\",\n    value: function androidWorkaroundKeyup(e) {\n      var newValue = e.target.value;\n      var key;\n\n      if (newValue.length > this.downValue.length) {\n        key = newValue.charCodeAt(newValue.length - 1);\n      } else {\n        key = 'delete';\n      }\n\n      this.cb({\n        key: key,\n        e: e,\n        keystroke: this\n      });\n    } // Managing keystroke events. We will get three key events from the browser: keydown, keyup, keypress\n    // These come in a specific order: http://www.quirksmode.org/dom/events/keys.html\n    // keypress gives you the capitalized or uncapitalized key, unlike keyup/keydown\n    // which only give you the actual physical key that was pressed on the keyboard\n    // keypress is triggered *before* the action modifies the input field\n    //\n    // We can capture keystrokes on the body, or on an input field. What we want to make sure is that\n    // the input field is actually updated when we process the stroke. Since keypress and keydown occur\n    // before the input field is updated, we save any key that has been handled by these in this.key\n    // but we don't process the stroke until the keyup event is fired. This ensures that our handlers\n    // will always have the right key (capitalized) and that input field value will be up to date.\n\n  }, {\n    key: \"initialize\",\n\n    /**\n     * initializes member funcitons\n     * @memberof CIQ.UI.Keystroke\n     */\n    value: function initialize() {\n      this.node.addEventListener('keyup', this.keyup);\n      this.node.addEventListener('keydown', this.keydown);\n      this.node.addEventListener('keypress', this.keypress); // otherwise ctrl-t to switch tabs causes ctrl to get stuck\n\n      window.addEventListener('blur', this.onblur);\n    }\n  }]);\n\n  return Keystroke;\n}();\n\nKeystroke.noKeyCapture = false;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Keystroke);\n\n/***/ }),\n\n/***/ \"./src/components/ui/KeystrokeHub.js\":\n/*!*******************************************!*\\\n  !*** ./src/components/ui/KeystrokeHub.js ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Helper */ \"./src/components/ui/Helper.js\");\n/* harmony import */ var _Keystroke__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Keystroke */ \"./src/components/ui/Keystroke.js\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! . */ \"./src/components/ui/index.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/* eslint-disable prefer-destructuring */\n\n\n\n/**\n * UI Helper for capturing and handling keystrokes. A helper or ContextTag can\n * \"claim\" keystrokes and intercept them, otherwise the keystrokes will be handled\n * by keyup and keydown.\n *\n * @param {HTMLElement} [node] The node to which to attach, generally the chart container\n * @param {CIQ.UI.Context} context The context for the chart\n * @param {Object} [params] Parameters to drive the helper\n * @param {Function} [params.cb] Callback to handle hot keys.\n * @name CIQ.UI.KeyboardShortcuts\n * @constructor\n */\n\nvar KeystrokeHub = /*#__PURE__*/function (_Helper) {\n  _inherits(KeystrokeHub, _Helper);\n\n  var _super = _createSuper(KeystrokeHub);\n\n  function KeystrokeHub(node, context, params) {\n    var _this;\n\n    _classCallCheck(this, KeystrokeHub);\n\n    _this = _super.call(this, node, context, params);\n    _this.node = node;\n    _this.context = context;\n    _this.params = params || {};\n    KeystrokeHub.instance = _assertThisInitialized(_this);\n\n    var self = _assertThisInitialized(_this);\n\n    function handler() {\n      return function () {\n        self.handler.apply(self, arguments);\n      };\n    }\n\n    _this.keystroke = new _Keystroke__WEBPACK_IMPORTED_MODULE_1__[\"default\"](node, handler());\n    return _this;\n  }\n  /**\n   * Global default hotkey method. Pass this or your own metho in to CIQ.UI.KeystrokeHub\n   * @memberof CIQ.UI.KeyboardShortcuts\n   * @param  {number} key The pressed key\n   * @param  {CIQ.UI.KeystrokeHub} hub The hub that processed the key\n   * @return {boolean}     Return true if you captured the key\n   */\n\n\n  _createClass(KeystrokeHub, [{\n    key: \"setActiveContext\",\n\n    /**\n     * Change the active context for the hub, for instance when dealing with multiple charts\n     * @param {CIQ.UI.Context} context The context\n     * @memberof CIQ.UI.KeystrokeHub\n     */\n    value: function setActiveContext(context) {\n      this.context = context;\n    }\n    /**\n     * @param hub\n     * @param key\n     * @param e Event\n     * @param keystroke\n     * @memberof CIQ.UI.KeystrokeHub\n     * @private\n     */\n\n  }, {\n    key: \"processKeyStrokeClaims\",\n    value: function processKeyStrokeClaims(hub, key, e, keystroke) {\n      for (var i = ___WEBPACK_IMPORTED_MODULE_2__[\"claims\"].length - 1; i > -1; i--) {\n        var helper = ___WEBPACK_IMPORTED_MODULE_2__[\"claims\"][i].helper;\n        var response = helper.keyStroke(hub, key, e, keystroke);\n\n        if (response) {\n          if (!response.allowDefault) {\n            e.preventDefault();\n          }\n\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"addClaim\",\n    value: function addClaim(helper) {\n      ___WEBPACK_IMPORTED_MODULE_2__[\"claims\"].push({\n        helper: helper\n      });\n    }\n  }, {\n    key: \"removeClaim\",\n    value: function removeClaim(helper) {\n      for (var i = 0; i < ___WEBPACK_IMPORTED_MODULE_2__[\"claims\"].length; i++) {\n        if (___WEBPACK_IMPORTED_MODULE_2__[\"claims\"][i].helper === helper) {\n          ___WEBPACK_IMPORTED_MODULE_2__[\"claims\"].splice(i, 1);\n          return;\n        }\n      }\n    }\n    /**\n     * Handles keystrokes\n     * @param  {object} obj Event object\n     * @memberof CIQ.UI.KeystrokeHub\n     * @private\n     */\n\n  }, {\n    key: \"handler\",\n    value: function handler(obj) {\n      if (!this.context) {\n        return;\n      }\n\n      var stx = this.context.stx;\n\n      if (stx.editingAnnotation) {\n        return;\n      }\n\n      var e = obj.e,\n          key = obj.key,\n          keystroke = obj.keystroke,\n          targetTagName = obj.e.target.tagName;\n\n      switch (key) {\n        case 16:\n          stx.shift = keystroke.shift;\n          break;\n\n        case 17:\n        case 18:\n          stx.ctrl = keystroke.ctrl;\n          break;\n\n        case 91:\n          stx.cmd = keystroke.cmd;\n          break;\n\n        case 20:\n          this.capsLock = !this.capsLock;\n          break;\n\n        default:\n          break;\n      }\n\n      if (!CIQ.ChartEngine.drawingLine) {\n        if (this.processKeyStrokeClaims(this, key, e, keystroke)) {\n          return;\n        }\n      }\n\n      if (key !== 'escape') {\n        if (this.context.isModal()) {\n          return;\n        }\n      }\n\n      if (targetTagName === 'INPUT' || targetTagName === 'TEXTAREA') {\n        return;\n      } // target is not the chart\n\n\n      if (this.params.cb) {\n        if (this.params.cb(key, this)) {\n          e.preventDefault();\n        }\n      }\n    }\n  }], [{\n    key: \"defaultHotKeys\",\n    value: function defaultHotKeys(key, hub) {\n      var stx = hub.context.stx;\n      var push = 1;\n\n      switch (key) {\n        case 'up':\n          stx.zoomIn();\n          break;\n\n        case 'down':\n          stx.zoomOut();\n          break;\n\n        case 'home':\n          stx.home();\n          stx.headsUpHR();\n          break;\n\n        case 'end':\n          stx.chart.scroll = stx.chart.dataSet.length;\n          stx.draw();\n          stx.headsUpHR();\n          break;\n\n        case 'left':\n          if (stx.ctrl) {\n            stx.zoomOut();\n          } else {\n            push = 1;\n\n            if (stx.shift || hub.capsLock) {\n              push = Math.max(5, 5 * (8 - Math.round(stx.layout.candleWidth)));\n            }\n\n            if (stx.chart.scroll + push >= stx.chart.dataSet.length) {\n              push = stx.chart.dataSet.length - stx.chart.scroll;\n            }\n\n            stx.chart.scroll += push;\n            stx.draw();\n            stx.headsUpHR();\n          }\n\n          break;\n\n        case 'right':\n          if (stx.ctrl) {\n            stx.zoomIn();\n          } else {\n            push = 1;\n\n            if (stx.shift || hub.capsLock) {\n              push = Math.max(5, 5 * (8 - Math.round(stx.layout.candleWidth)));\n            }\n\n            stx.chart.scroll -= push;\n            stx.draw();\n            stx.headsUpHR();\n          }\n\n          break;\n\n        case 'delete':\n        case 'backspace':\n          if (CIQ.ChartEngine.drawingLine) {\n            stx.undo();\n          } else if (stx.anyHighlighted) {\n            stx.deleteHighlighted();\n          } else {\n            return false;\n          }\n\n          break;\n\n        case 'escape':\n          if (CIQ.ChartEngine.drawingLine) {\n            stx.undo();\n          }\n\n          break;\n\n        default:\n          return false;\n        // not captured\n      }\n\n      return true;\n    }\n  }]);\n\n  return KeystrokeHub;\n}(_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\nKeystrokeHub.instance = null;\n/* harmony default export */ __webpack_exports__[\"default\"] = (KeystrokeHub);\n\n/***/ }),\n\n/***/ \"./src/components/ui/index.js\":\n/*!************************************!*\\\n  !*** ./src/components/ui/index.js ***!\n  \\************************************/\n/*! exports provided: claims */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"claims\", function() { return claims; });\n/**\n * Set this flag to true to bypass bindings when adding a component to the DOM.\n * For instance when components are created by html2canvas we don't want them to do any heavy lifting.\n * @type {Boolean}\n */\nvar claims = [];\n\n/***/ }),\n\n/***/ \"./src/components/ui/utils.js\":\n/*!************************************!*\\\n  !*** ./src/components/ui/utils.js ***!\n  \\************************************/\n/*! exports provided: getParents, createElement, aggregation, setHidden, downloadURI */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getParents\", function() { return getParents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createElement\", function() { return createElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"aggregation\", function() { return aggregation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setHidden\", function() { return setHidden; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"downloadURI\", function() { return downloadURI; });\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n// jQuery parents() vanilla alternative: https://stackoverflow.com/a/12981248/1471258\nfunction getParents(el) {\n  var parentSelector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'body';\n  var parentElement = document.querySelector(parentSelector);\n\n  if (!parentElement) {\n    return [];\n  }\n\n  var parents = [];\n  var p = el.parentNode;\n\n  while (p !== parentElement) {\n    // if parentElement is not in hierarchy\n    if (p === null) {\n      return [];\n    }\n\n    parents.push(p);\n    p = p.parentNode;\n  } // Include parent element in parents\n\n\n  parents.push(parentElement);\n  return parents;\n}\nfunction createElement(html) {\n  var wrapper = document.createElement('div');\n  wrapper.innerHTML = html;\n  return wrapper.firstChild;\n} // Auxiliary function that enables multiple inheritence with es6 classes: https://stackoverflow.com/a/45332959/1471258\n\nfunction aggregation(baseClass) {\n  for (var _len = arguments.length, mixins = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    mixins[_key - 1] = arguments[_key];\n  }\n\n  var copyProps = function copyProps(target, source) {\n    // this function copies all properties and symbols, filtering out some special ones\n    Object.getOwnPropertyNames(source).concat(Object.getOwnPropertySymbols(source)).forEach(function (prop) {\n      if (!prop.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {\n        Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop));\n      }\n    });\n  };\n\n  var base = /*#__PURE__*/function (_baseClass) {\n    _inherits(base, _baseClass);\n\n    var _super = _createSuper(base);\n\n    function base() {\n      var _this;\n\n      _classCallCheck(this, base);\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n      mixins.forEach(function (mixin) {\n        copyProps(_assertThisInitialized(_this), new mixin()); // eslint-disable-line new-cap\n      });\n      return _this;\n    }\n\n    return base;\n  }(baseClass);\n\n  mixins.forEach(function (mixin) {\n    // outside contructor() to allow aggregation(A,B,C).staticFunction() to be called etc.\n    copyProps(base.prototype, mixin.prototype);\n    copyProps(base, mixin);\n  });\n  return base;\n}\nfunction setHidden(element, isHidden) {\n  if (isHidden) {\n    element.setAttribute('hidden', true);\n  } else {\n    element.removeAttribute('hidden');\n  }\n}\nfunction downloadURI(uri, name) {\n  var link = document.createElement('a');\n  link.download = name;\n  link.href = uri;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n}\n\n/***/ }),\n\n/***/ \"./src/feed/Feed.js\":\n/*!**************************!*\\\n  !*** ./src/feed/Feed.js ***!\n  \\**************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-emitter-es6 */ \"./node_modules/event-emitter-es6/index.js\");\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TickHistoryFormatter */ \"./src/feed/TickHistoryFormatter.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _subscription__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./subscription */ \"./src/feed/subscription/index.js\");\n/* harmony import */ var _utils_ServerTime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ServerTime */ \"./src/utils/ServerTime.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar Feed = /*#__PURE__*/function () {\n  _createClass(Feed, [{\n    key: \"startEpoch\",\n    get: function get() {\n      return this._mainStore.state.startEpoch;\n    }\n  }, {\n    key: \"endEpoch\",\n    get: function get() {\n      return this._mainStore.state.endEpoch;\n    }\n  }, {\n    key: \"granularity\",\n    get: function get() {\n      return this._mainStore.chart.granularity;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this._mainStore.chart.context;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this._mainStore.loader;\n    }\n  }, {\n    key: \"margin\",\n    get: function get() {\n      return this._mainStore.state.margin;\n    }\n  }, {\n    key: \"paginationLoader\",\n    get: function get() {\n      return this._mainStore.paginationLoader;\n    }\n  }], [{\n    key: \"EVENT_MASTER_DATA_UPDATE\",\n    get: function get() {\n      return 'EVENT_MASTER_DATA_UPDATE';\n    }\n  }, {\n    key: \"EVENT_MASTER_DATA_REINITIALIZE\",\n    get: function get() {\n      return 'EVENT_MASTER_DATA_REASSIGN';\n    }\n  }, {\n    key: \"EVENT_COMPARISON_DATA_UPDATE\",\n    get: function get() {\n      return 'EVENT_COMPARISON_DATA_UPDATE';\n    }\n  }, {\n    key: \"EVENT_START_PAGINATION\",\n    get: function get() {\n      return 'EVENT_START_PAGINATION';\n    }\n  }, {\n    key: \"EVENT_ON_PAGINATION\",\n    get: function get() {\n      return 'EVENT_ON_PAGINATION';\n    }\n  }]);\n\n  function Feed(binaryApi, stx, mainStore, tradingTimes) {\n    var _this = this;\n\n    _classCallCheck(this, Feed);\n\n    this._activeStreams = {};\n    this._isConnectionOpened = true;\n\n    this.onRangeChanged = function (forceLoad) {\n      var periodicity = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"calculateTimeUnitInterval\"])(_this.granularity);\n      var rangeTime = (_this.granularity || 1) * _this._stx.chart.maxTicks;\n      var dtLeft = null;\n      var dtRight = null;\n\n      _this._mainStore.state.setChartIsReady(false);\n\n      if (!_this.endEpoch) {\n        if (_this.startEpoch) {\n          dtLeft = _this.startEpoch ? CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(_this.startEpoch)) : undefined;\n        }\n      } else {\n        dtLeft = CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(_this.startEpoch || _this.endEpoch - rangeTime));\n        dtRight = CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(_this.endEpoch));\n      }\n\n      _this._stx.setRange({\n        dtLeft: dtLeft,\n        dtRight: dtRight,\n        periodicity: periodicity,\n        forceLoad: forceLoad\n      }, function () {\n        if (!_this.endEpoch && !_this.startEpoch) {\n          _this._stx.home();\n\n          delete _this._stx.layout.range;\n        } else {\n          _this.scaleChart();\n        }\n\n        _this._mainStore.state.saveLayout();\n\n        _this._mainStore.state.setChartIsReady(true);\n      });\n    };\n\n    this._stx = stx;\n    this._binaryApi = binaryApi;\n    this._mainStore = mainStore;\n    this._serverTime = _utils_ServerTime__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getInstance();\n    this._tradingTimes = tradingTimes;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_1__[\"reaction\"])(function () {\n      return mainStore.state.isConnectionOpened;\n    }, this.onConnectionChanged.bind(this));\n    this._emitter = new event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default.a({\n      emitDelay: 0\n    });\n  }\n\n  _createClass(Feed, [{\n    key: \"scaleChart\",\n    value: function scaleChart() {\n      if (this.startEpoch) {\n        if (this._stx.animations.liveScroll && this._stx.animations.liveScroll.running) {\n          this._stx.animations.liveScroll.stop();\n        }\n\n        if (!this.endEpoch) {\n          this._stx.maxMasterDataSize = 0;\n          this._stx.chart.lockScroll = true;\n        } else {\n          this._stx.chart.isDisplayFullMode = false;\n          this._stx.chart.lockScroll = false;\n        }\n\n        this._stx.setMaxTicks(this._stx.chart.dataSet.length + (Math.floor(this._stx.chart.dataSet.length / 5) || 2));\n\n        this._stx.chart.scroll = this._stx.chart.dataSet.length;\n        this._stx.chart.isScrollLocationChanged = true;\n        /**\n         * for tick condition with few points, in that case, if your try to zoom in\n         * as the maxTicks is less than minimumZoomTicks, chart zoom out beside of\n         * zoom in, as a result, we try to override the minimumZoomTicks to prevent that\n         */\n\n        if (this._stx.chart.maxTicks < this._stx.minimumZoomTicks) {\n          this._stx.minimumZoomTicks = this._stx.chart.maxTicks - 1;\n        }\n\n        this._stx.draw();\n      }\n    } // although not used, subscribe is overridden so that unsubscribe will be called by ChartIQ\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe() {} // Do not call explicitly! Method below is called by ChartIQ when unsubscribing symbols.\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(_ref) {\n      var symbol = _ref.symbol,\n          period = _ref.period,\n          interval = _ref.interval;\n      // the chart forgets the ticks_history of the main chart symbol before sending a new request in fetchInitialData function.\n      if (this._stx.chart.symbol === symbol) return;\n      var granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"calculateGranularity\"])(period, interval);\n\n      var key = this._getKey({\n        symbol: symbol,\n        granularity: granularity\n      });\n\n      this._forgetStream(key);\n    }\n  }, {\n    key: \"_forgetStream\",\n    value: function _forgetStream(key) {\n      if (this._activeStreams[key]) {\n        this._activeStreams[key].forget();\n\n        delete this._activeStreams[key];\n      }\n    }\n  }, {\n    key: \"fetchInitialData\",\n    value: function () {\n      var _fetchInitialData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(symbol, suggestedStartDate, suggestedEndDate, params, callback) {\n        var _this2 = this;\n\n        var period, interval, symbolObject, granularity, key, localDate, isComparisonChart, start, end, comparisonChartSymbol, symbolName, dataCallback, tickHistoryRequest, getHistoryOnly, quotes, subscription, delay, text, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setHasReachedEndOfData(false);\n                this.paginationLoader.updateOnPagination(true);\n                period = params.period, interval = params.interval, symbolObject = params.symbolObject;\n                granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"calculateGranularity\"])(period, interval);\n                key = this._getKey({\n                  symbol: symbol,\n                  granularity: granularity\n                });\n                localDate = this._serverTime.getLocalDate();\n                suggestedStartDate = suggestedStartDate > localDate ? localDate : suggestedStartDate;\n                isComparisonChart = this._stx.chart.symbol !== symbol;\n                start = this.startEpoch || Math.floor(suggestedStartDate / 1000 | 0);\n                start = this.margin && this.startEpoch ? start - this.margin : start;\n                end = this.margin && this.endEpoch ? this.endEpoch + this.margin : this.endEpoch;\n\n                if (isComparisonChart) {\n                  // Strange issue where comparison series is offset by timezone...\n                  start -= suggestedStartDate.getTimezoneOffset() * 60;\n                }\n\n                comparisonChartSymbol = isComparisonChart ? symbol : undefined;\n                symbolName = symbolObject.name;\n                this.loader.setState('chart-data');\n\n                if (!this._tradingTimes.isFeedUnavailable(symbol)) {\n                  _context.next = 21;\n                  break;\n                }\n\n                this._mainStore.notifier.notifyFeedUnavailable(symbolName);\n\n                dataCallback = {\n                  quotes: []\n                };\n\n                if (isComparisonChart) {\n                  // Passing error will prevent the chart from being shown; for\n                  // main chart we still want the chart to be shown, just disabled\n                  dataCallback = _objectSpread({\n                    error: 'StreamingNotAllowed',\n                    suppressAlert: true\n                  }, dataCallback);\n                } else {\n                  this._mainStore.chart.setChartAvailability(false);\n                }\n\n                callback(dataCallback);\n                return _context.abrupt(\"return\");\n\n              case 21:\n                tickHistoryRequest = {\n                  start: start,\n                  symbol: symbol,\n                  granularity: granularity\n                };\n                getHistoryOnly = false;\n\n                if (!end) {\n                  _context.next = 28;\n                  break;\n                }\n\n                // When there is end; no streaming required\n                tickHistoryRequest.end = end;\n                getHistoryOnly = true;\n                _context.next = 54;\n                break;\n\n              case 28:\n                if (!this._tradingTimes.isMarketOpened(symbol)) {\n                  _context.next = 52;\n                  break;\n                }\n\n                delay = this._tradingTimes.getDelayedMinutes(symbol);\n\n                if (delay > 0) {\n                  this._mainStore.notifier.notifyDelayedMarket(symbolName, delay);\n\n                  subscription = new _subscription__WEBPACK_IMPORTED_MODULE_4__[\"DelayedSubscription\"](tickHistoryRequest, this._binaryApi, this._stx, delay);\n                } else {\n                  subscription = new _subscription__WEBPACK_IMPORTED_MODULE_4__[\"RealtimeSubscription\"](tickHistoryRequest, this._binaryApi, this._stx);\n                }\n\n                _context.prev = 31;\n\n                // The chart should forget all ticks_history subscriptions when the symbol/granularity of the main chart is changed before sending the new request.\n                if (!isComparisonChart) {\n                  this.unsubscribeAll();\n                }\n\n                _context.next = 35;\n                return subscription.initialFetch();\n\n              case 35:\n                quotes = _context.sent;\n                _context.next = 44;\n                break;\n\n              case 38:\n                _context.prev = 38;\n                _context.t0 = _context[\"catch\"](31);\n                text = _context.t0.message;\n\n                this._mainStore.notifier.notify({\n                  text: text,\n                  type: 'error',\n                  category: 'activesymbol'\n                });\n\n                callback({\n                  quotes: []\n                });\n                return _context.abrupt(\"return\");\n\n              case 44:\n                subscription.onChartData(function (tickResponse) {\n                  // Append comming ticks to chart only if it belongs to selected symbol after symbol changes\n                  if (isComparisonChart || symbol === _this2._stx.chart.symbol) {\n                    if (_this2._stx.isDestroyed) return;\n\n                    _this2._appendChartData(tickResponse, key, comparisonChartSymbol);\n                  }\n                }); // if symbol is changed before request is completed, past request needs to be forgotten:\n\n                if (!(!isComparisonChart && this._stx.chart.symbol !== symbol)) {\n                  _context.next = 49;\n                  break;\n                }\n\n                callback({\n                  quotes: []\n                });\n                subscription.forget();\n                return _context.abrupt(\"return\");\n\n              case 49:\n                this._activeStreams[key] = subscription;\n                _context.next = 54;\n                break;\n\n              case 52:\n                this._mainStore.notifier.notifyMarketClose(symbolName); // Although market is closed, we display the past tick history data\n\n\n                getHistoryOnly = true;\n\n              case 54:\n                if (!getHistoryOnly) {\n                  _context.next = 59;\n                  break;\n                }\n\n                _context.next = 57;\n                return this._binaryApi.getTickHistory(tickHistoryRequest);\n\n              case 57:\n                response = _context.sent;\n                quotes = _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_2__[\"TickHistoryFormatter\"].formatHistory(response);\n\n              case 59:\n                if (quotes) {\n                  _context.next = 63;\n                  break;\n                }\n\n                console.error('No quotes found!!');\n                callback({\n                  quotes: []\n                });\n                return _context.abrupt(\"return\");\n\n              case 63:\n                quotes = this._trimQuotes(quotes);\n                callback({\n                  quotes: quotes\n                });\n\n                this._mainStore.chart.updateYaxisWidth();\n\n                this.scaleChart();\n\n                this._emitDataUpdate(quotes, comparisonChartSymbol, true);\n\n                this._mainStore.state.setMaxtTick();\n\n              case 69:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[31, 38]]);\n      }));\n\n      function fetchInitialData(_x, _x2, _x3, _x4, _x5) {\n        return _fetchInitialData.apply(this, arguments);\n      }\n\n      return fetchInitialData;\n    }()\n  }, {\n    key: \"fetchPaginationData\",\n    value: function () {\n      var _fetchPaginationData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(symbol, suggestedStartDate, endDate, params, callback) {\n        var end, start, period, interval, granularity, isMainChart;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                end = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCEpoch\"])(endDate);\n                start = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCEpoch\"])(suggestedStartDate);\n                period = params.period, interval = params.interval;\n                granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"calculateGranularity\"])(period, interval);\n                isMainChart = this._stx.chart.symbol === symbol;\n\n                if (isMainChart) {\n                  // ignore comparisons\n                  this._emitter.emit(Feed.EVENT_START_PAGINATION, {\n                    start: start,\n                    end: end\n                  });\n                }\n\n                _context2.next = 8;\n                return this._getPaginationData(symbol, granularity, start, end, callback);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function fetchPaginationData(_x6, _x7, _x8, _x9, _x10) {\n        return _fetchPaginationData.apply(this, arguments);\n      }\n\n      return fetchPaginationData;\n    }()\n  }, {\n    key: \"_getPaginationData\",\n    value: function () {\n      var _getPaginationData2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(symbol, granularity, start, end, callback) {\n        var isMainChart, now, startLimit, result, firstEpoch, response, text, newStart, paginationEnd;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                isMainChart = this._stx.chart.symbol === symbol; // TODO There is no need to get historical data before startTime\n\n                if (!(this.startEpoch\n                /* && start < this.startEpoch */\n                || this.endEpoch && end > this.endEpoch)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                callback({\n                  moreAvailable: false,\n                  quotes: []\n                });\n\n                if (isMainChart) {\n                  // ignore comparisons\n                  this._emitter.emit(Feed.EVENT_ON_PAGINATION, {\n                    start: start,\n                    end: end\n                  });\n\n                  this.setHasReachedEndOfData(true);\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                now = this._serverTime.getEpoch(); // Tick history data only goes as far back as 3 years:\n\n                startLimit = now - Math.ceil(2.8 * 365 * 24 * 60 * 60);\n                /* == 3 Years */\n\n                result = {\n                  quotes: []\n                };\n\n                if (!(end > startLimit)) {\n                  _context3.next = 38;\n                  break;\n                }\n\n                _context3.prev = 9;\n                _context3.next = 12;\n                return this._binaryApi.getTickHistory({\n                  symbol: symbol,\n                  granularity: granularity,\n                  start: Math.floor(Math.max(start, startLimit)),\n                  end: end\n                });\n\n              case 12:\n                response = _context3.sent;\n\n                if (!response.error) {\n                  _context3.next = 20;\n                  break;\n                }\n\n                text = response.error.message;\n                this.loader.hide();\n                this.paginationLoader.updateOnPagination(false);\n\n                this._mainStore.notifier.notify({\n                  text: text,\n                  type: 'error',\n                  category: 'activesymbol'\n                });\n\n                callback({\n                  error: response.error\n                });\n                return _context3.abrupt(\"return\");\n\n              case 20:\n                firstEpoch = Feed.getFirstEpoch(response);\n\n                if (!(firstEpoch === undefined || firstEpoch === end)) {\n                  _context3.next = 30;\n                  break;\n                }\n\n                newStart = start - (end - start);\n\n                if (!(newStart <= startLimit)) {\n                  _context3.next = 27;\n                  break;\n                }\n\n                // Passed available range. Prevent anymore pagination requests:\n                callback({\n                  moreAvailable: false,\n                  quotes: []\n                });\n                this.setHasReachedEndOfData(true);\n                return _context3.abrupt(\"return\");\n\n              case 27:\n                _context3.next = 29;\n                return this._getPaginationData(symbol, granularity, newStart, end, callback);\n\n              case 29:\n                return _context3.abrupt(\"return\");\n\n              case 30:\n                result.quotes = _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_2__[\"TickHistoryFormatter\"].formatHistory(response);\n\n                if (firstEpoch <= startLimit) {\n                  callback({\n                    moreAvailable: false,\n                    quotes: []\n                  });\n                  this.setHasReachedEndOfData(true);\n                }\n\n                _context3.next = 38;\n                break;\n\n              case 34:\n                _context3.prev = 34;\n                _context3.t0 = _context3[\"catch\"](9);\n                console.error(_context3.t0);\n                result = {\n                  error: _context3.t0\n                };\n\n              case 38:\n                callback(result);\n\n                if (isMainChart) {\n                  // ignore comparisons\n                  // prevent overlapping by setting pagination end as firstEpoch\n                  // if 'end' is greater than firstEpoch from feed\n                  paginationEnd = end > firstEpoch ? firstEpoch : end;\n\n                  this._emitter.emit(Feed.EVENT_ON_PAGINATION, {\n                    start: start,\n                    end: paginationEnd\n                  });\n                }\n\n              case 40:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[9, 34]]);\n      }));\n\n      function _getPaginationData(_x11, _x12, _x13, _x14, _x15) {\n        return _getPaginationData2.apply(this, arguments);\n      }\n\n      return _getPaginationData;\n    }()\n  }, {\n    key: \"setHasReachedEndOfData\",\n    value: function setHasReachedEndOfData(hasReachedEndOfData) {\n      this.paginationLoader.updateOnPagination(false);\n\n      if (this._mainStore.state.hasReachedEndOfData !== hasReachedEndOfData) {\n        this._mainStore.state.hasReachedEndOfData = hasReachedEndOfData;\n      }\n    }\n  }, {\n    key: \"unsubscribeAll\",\n    value: function unsubscribeAll() {\n      for (var _i = 0, _Object$keys = Object.keys(this._activeStreams); _i < _Object$keys.length; _i++) {\n        var key = _Object$keys[_i];\n\n        this._forgetStream(key);\n      }\n    }\n  }, {\n    key: \"_forgetIfEndEpoch\",\n    value: function _forgetIfEndEpoch(key) {\n      var subscription = this._activeStreams[key];\n      var result = true;\n\n      if (!subscription) {\n        return;\n      }\n\n      var lastEpoch = subscription.lastStreamEpoch;\n\n      if (this.endEpoch && lastEpoch + this.granularity > this.endEpoch) {\n        if (this._activeStreams[key] && this.granularity === 0 && !this._mainStore.state.isStaticChart && CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(this.endEpoch)).valueOf() >= this._stx.chart.dataSet.slice(-1)[0].DT.valueOf()) {\n          result = false;\n        }\n\n        this._forgetStream(key);\n      } else {\n        result = false;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_appendChartData\",\n    value: function _appendChartData(quotes, key, comparisonChartSymbol) {\n      if (this._forgetIfEndEpoch(key) && !this._activeStreams[key]) {\n        quotes = [];\n        return;\n      }\n\n      if (this.endEpoch && CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(this.endEpoch)).valueOf() !== this._stx.chart.dataSet.slice(-1)[0].DT.valueOf()) {\n        this._stx.updateChartData([{\n          DT: CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(this.endEpoch)),\n          Close: null\n        }], null, {\n          fillGaps: true\n        });\n\n        this._stx.createDataSet();\n      }\n\n      if (comparisonChartSymbol) {\n        this._stx.updateChartData(quotes, null, {\n          secondarySeries: comparisonChartSymbol,\n          noCreateDataSet: true\n        });\n      } else {\n        this._stx.updateChartData(quotes, null, {\n          allowReplaceOHL: true\n        });\n\n        this._stx.createDataSet();\n      }\n\n      this._emitDataUpdate(quotes, comparisonChartSymbol);\n    }\n  }, {\n    key: \"_emitDataUpdate\",\n    value: function _emitDataUpdate(quotes, comparisonChartSymbol) {\n      var isChartReinitialized = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var prev = quotes[quotes.length - 2];\n      var prevClose = prev !== undefined ? prev.Close : undefined;\n\n      var dataUpdate = _objectSpread(_objectSpread({}, quotes[quotes.length - 1]), {}, {\n        prevClose: prevClose\n      });\n\n      if (!comparisonChartSymbol) {\n        if (isChartReinitialized) {\n          this._emitter.emit(Feed.EVENT_MASTER_DATA_REINITIALIZE);\n\n          this._mainStore.chart.setChartAvailability(true);\n        } else {\n          this._emitter.emit(Feed.EVENT_MASTER_DATA_UPDATE, dataUpdate);\n        }\n      } else {\n        this._emitter.emit(Feed.EVENT_COMPARISON_DATA_UPDATE, _objectSpread({\n          symbol: comparisonChartSymbol\n        }, dataUpdate));\n      }\n    }\n  }, {\n    key: \"onMasterDataUpdate\",\n    value: function onMasterDataUpdate(callback) {\n      this._emitter.on(Feed.EVENT_MASTER_DATA_UPDATE, callback);\n    }\n  }, {\n    key: \"offMasterDataUpdate\",\n    value: function offMasterDataUpdate(callback) {\n      this._emitter.off(Feed.EVENT_MASTER_DATA_UPDATE, callback);\n    }\n  }, {\n    key: \"onMasterDataReinitialize\",\n    value: function onMasterDataReinitialize(callback) {\n      this._emitter.on(Feed.EVENT_MASTER_DATA_REINITIALIZE, callback);\n    }\n  }, {\n    key: \"offMasterDataReinitialize\",\n    value: function offMasterDataReinitialize(callback) {\n      this._emitter.off(Feed.EVENT_MASTER_DATA_REINITIALIZE, callback);\n    }\n  }, {\n    key: \"onComparisonDataUpdate\",\n    value: function onComparisonDataUpdate(callback) {\n      this._emitter.on(Feed.EVENT_COMPARISON_DATA_UPDATE, callback);\n    }\n  }, {\n    key: \"onPagination\",\n    value: function onPagination(callback) {\n      this._emitter.on(Feed.EVENT_ON_PAGINATION, callback);\n    }\n  }, {\n    key: \"offPagination\",\n    value: function offPagination(callback) {\n      this._emitter.off(Feed.EVENT_ON_PAGINATION, callback);\n    }\n  }, {\n    key: \"onStartPagination\",\n    value: function onStartPagination(callback) {\n      this._emitter.on(Feed.EVENT_START_PAGINATION, callback);\n    }\n  }, {\n    key: \"offStartPagination\",\n    value: function offStartPagination(callback) {\n      this._emitter.off(Feed.EVENT_START_PAGINATION, callback);\n    }\n  }, {\n    key: \"onConnectionChanged\",\n    value: function onConnectionChanged() {\n      var isOpened = this._mainStore.state.isConnectionOpened;\n\n      if (isOpened === undefined || isOpened === this._isConnectionOpened) {\n        return;\n      }\n\n      this._isConnectionOpened = isOpened;\n\n      if (isOpened) {\n        this._onConnectionReopened();\n      } else {\n        this._onConnectionClosed();\n      }\n    }\n  }, {\n    key: \"_onConnectionClosed\",\n    value: function _onConnectionClosed() {\n      for (var key in this._activeStreams) {\n        this._activeStreams[key].pause();\n      }\n\n      this._connectionClosedDate = new Date();\n    }\n  }, {\n    key: \"_onConnectionReopened\",\n    value: function _onConnectionReopened() {\n      var keys = Object.keys(this._activeStreams);\n\n      if (keys.length === 0) {\n        return;\n      }\n\n      var _this$_unpackKey = this._unpackKey(keys[0]),\n          granularity = _this$_unpackKey.granularity;\n\n      var elapsedSeconds = (new Date() - this._connectionClosedDate) / 1000 | 0;\n      var maxIdleSeconds = (granularity || 1) * this._stx.chart.maxTicks;\n\n      if (elapsedSeconds >= maxIdleSeconds) {\n        this._mainStore.chart.refreshChart();\n      } else {\n        var _iterator = _createForOfIteratorHelper(keys),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var key = _step.value;\n\n            this._resumeStream(key);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n\n      this._connectionClosedDate = undefined;\n    }\n  }, {\n    key: \"_resumeStream\",\n    value: function _resumeStream(key) {\n      var _this3 = this;\n\n      var _this$_unpackKey2 = this._unpackKey(key),\n          symbol = _this$_unpackKey2.symbol;\n\n      var comparisonChartSymbol = this._stx.chart.symbol !== symbol ? symbol : undefined;\n\n      this._activeStreams[key].resume().then(function (quotes) {\n        if (_this3._stx.isDestroyed) return;\n\n        _this3._appendChartData(quotes, key, comparisonChartSymbol);\n      });\n    }\n  }, {\n    key: \"_getKey\",\n    value: function _getKey(_ref2) {\n      var symbol = _ref2.symbol,\n          granularity = _ref2.granularity;\n      return \"\".concat(symbol, \"-\").concat(granularity);\n    }\n  }, {\n    key: \"_unpackKey\",\n    value: function _unpackKey(key) {\n      var _key$split = key.split('-'),\n          _key$split2 = _slicedToArray(_key$split, 2),\n          symbol = _key$split2[0],\n          granularity = _key$split2[1];\n\n      return {\n        symbol: symbol,\n        granularity: +granularity\n      };\n    }\n  }, {\n    key: \"_trimQuotes\",\n    value: function _trimQuotes() {\n      var _this4 = this;\n\n      var quotes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var startTickIndex = null;\n      var endTickIndex = null;\n      var trimmedQuotes = quotes;\n      if (!trimmedQuotes.length) return [];\n\n      if (this.startEpoch && this.margin) {\n        startTickIndex = trimmedQuotes.findIndex(function (tick) {\n          return CIQ.strToDateTime(tick.Date) >= CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(_this4.startEpoch));\n        });\n\n        if (startTickIndex > -1) {\n          trimmedQuotes = trimmedQuotes.slice(startTickIndex - 1);\n        }\n      }\n\n      if (this.endEpoch && this.margin) {\n        endTickIndex = trimmedQuotes.findIndex(function (tick) {\n          return CIQ.strToDateTime(tick.Date) >= CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(_this4.endEpoch));\n        });\n\n        if (endTickIndex > -1) {\n          var addon = trimmedQuotes[endTickIndex].Date === Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(this.endEpoch) ? 2 : 1;\n          trimmedQuotes = trimmedQuotes.slice(0, endTickIndex + addon);\n        }\n      }\n\n      return trimmedQuotes;\n    }\n  }], [{\n    key: \"getFirstEpoch\",\n    value: function getFirstEpoch(_ref3) {\n      var candles = _ref3.candles,\n          history = _ref3.history;\n\n      if (candles && candles.length > 0) {\n        return candles[0].epoch;\n      }\n\n      if (history && history.times.length > 0) {\n        var times = history.times;\n        return +times[0];\n      }\n    }\n  }]);\n\n  return Feed;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Feed);\n\n/***/ }),\n\n/***/ \"./src/feed/TickHistoryFormatter.js\":\n/*!******************************************!*\\\n  !*** ./src/feed/TickHistoryFormatter.js ***!\n  \\******************************************/\n/*! exports provided: TickHistoryFormatter */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TickHistoryFormatter\", function() { return TickHistoryFormatter; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar TickHistoryFormatter = /*#__PURE__*/function () {\n  function TickHistoryFormatter() {\n    _classCallCheck(this, TickHistoryFormatter);\n  }\n\n  _createClass(TickHistoryFormatter, null, [{\n    key: \"formatHistory\",\n    value: function formatHistory(response) {\n      var history = response.history,\n          candles = response.candles;\n\n      if (history) {\n        var times = history.times,\n            prices = history.prices;\n        var quotes = prices.map(function (p, idx) {\n          return {\n            Date: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getUTCDate\"])(+times[idx]),\n            Close: +p\n          };\n        });\n        return quotes;\n      }\n\n      if (candles) {\n        var _quotes = candles.map(function (c) {\n          return {\n            Date: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getUTCDate\"])(+c.epoch),\n            Open: +c.open,\n            High: +c.high,\n            Low: +c.low,\n            Close: +c.close\n          };\n        });\n\n        return _quotes;\n      }\n    }\n  }, {\n    key: \"formatTick\",\n    value: function formatTick(response) {\n      var tick = response.tick,\n          ohlc = response.ohlc;\n\n      if (tick) {\n        return {\n          Date: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getUTCDate\"])(+tick.epoch),\n          Close: +tick.quote,\n          // Keep the origial value.\n          // It'll be used to pass down to deriv.app in BottomWidgets.\n          // TODO: use tick.epoch in RawMarker.jsx to speed up calculations.\n          tick: tick\n        };\n      }\n\n      if (ohlc) {\n        return {\n          Date: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getUTCDate\"])(+ohlc.open_time),\n          Open: +ohlc.open,\n          High: +ohlc.high,\n          Low: +ohlc.low,\n          Close: +ohlc.close,\n          ohlc: ohlc\n        };\n      }\n    }\n  }]);\n\n  return TickHistoryFormatter;\n}();\n\n/***/ }),\n\n/***/ \"./src/feed/index.js\":\n/*!***************************!*\\\n  !*** ./src/feed/index.js ***!\n  \\***************************/\n/*! exports provided: Feed */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Feed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Feed */ \"./src/feed/Feed.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Feed\", function() { return _Feed__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n\n/***/ }),\n\n/***/ \"./src/feed/subscription/DelayedSubscription.js\":\n/*!******************************************************!*\\\n  !*** ./src/feed/subscription/DelayedSubscription.js ***!\n  \\******************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Subscription */ \"./src/feed/subscription/Subscription.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar DelayedSubscription = /*#__PURE__*/function (_Subscription) {\n  _inherits(DelayedSubscription, _Subscription);\n\n  var _super = _createSuper(DelayedSubscription);\n\n  function DelayedSubscription(request, api, stx, delay) {\n    var _this;\n\n    _classCallCheck(this, DelayedSubscription);\n\n    _this = _super.call(this, request, api, stx);\n    _this._timerId = void 0;\n    _this.UPDATE_INTERVAL = 3000;\n    _this.onUpdateDelayedFeed = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var tickHistoryRequest, response, quotes;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!_this.lastStreamEpoch) {\n                _context.next = 9;\n                break;\n              }\n\n              tickHistoryRequest = _objectSpread(_objectSpread({}, _this._request), {}, {\n                start: _this.lastStreamEpoch,\n                // When updating delayed feeds, we don't want the\n                // start time to be offset by the delayed amount:\n                adjust_start_time: 0\n              });\n              _context.next = 4;\n              return _this._binaryApi.getTickHistory(tickHistoryRequest);\n\n            case 4:\n              response = _context.sent;\n              quotes = _this._processHistoryResponse(response);\n\n              _this._emitter.emit(_Subscription__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENT_CHART_DATA, quotes);\n\n              _context.next = 11;\n              break;\n\n            case 9:\n              console.error('Unable to update delayed feed without epoch from last tick');\n\n              _this._endTimer();\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this._request = _objectSpread(_objectSpread({}, _this._request), {}, {\n      // start times must be offset with delay because\n      // there is no data within delay intervals\n      start: _this._request.start - delay * 60\n    });\n    return _this;\n  }\n\n  _createClass(DelayedSubscription, [{\n    key: \"pause\",\n    value: function pause() {\n      this._endTimer();\n    }\n  }, {\n    key: \"_startSubscribe\",\n    value: function () {\n      var _startSubscribe2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(tickHistoryRequest) {\n        var response, quotes;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this._binaryApi.getTickHistory(tickHistoryRequest);\n\n              case 2:\n                response = _context2.sent;\n                quotes = this._processHistoryResponse(response);\n\n                this._startTimer();\n\n                return _context2.abrupt(\"return\", quotes);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _startSubscribe(_x) {\n        return _startSubscribe2.apply(this, arguments);\n      }\n\n      return _startSubscribe;\n    }()\n  }, {\n    key: \"forget\",\n    value: function forget() {\n      this._endTimer();\n\n      _get(_getPrototypeOf(DelayedSubscription.prototype), \"forget\", this).call(this);\n    }\n  }, {\n    key: \"_startTimer\",\n    value: function _startTimer() {\n      if (!this._timerId) {\n        this._timerId = setInterval(this.onUpdateDelayedFeed, this.UPDATE_INTERVAL);\n      }\n    }\n  }, {\n    key: \"_endTimer\",\n    value: function _endTimer() {\n      if (this._timerId) {\n        clearInterval(this._timerId);\n        this._timerId = undefined;\n      }\n    }\n  }]);\n\n  return DelayedSubscription;\n}(_Subscription__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DelayedSubscription);\n\n/***/ }),\n\n/***/ \"./src/feed/subscription/RealtimeSubscription.js\":\n/*!*******************************************************!*\\\n  !*** ./src/feed/subscription/RealtimeSubscription.js ***!\n  \\*******************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\n/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subscription */ \"./src/feed/subscription/Subscription.js\");\n/* harmony import */ var _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TickHistoryFormatter */ \"./src/feed/TickHistoryFormatter.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\nvar RealtimeSubscription = /*#__PURE__*/function (_Subscription) {\n  _inherits(RealtimeSubscription, _Subscription);\n\n  var _super = _createSuper(RealtimeSubscription);\n\n  function RealtimeSubscription() {\n    var _this;\n\n    _classCallCheck(this, RealtimeSubscription);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._tickCallback = void 0;\n    return _this;\n  }\n\n  _createClass(RealtimeSubscription, [{\n    key: \"pause\",\n    value: function pause() {\n      // prevent forget requests; active streams are invalid when connection closed\n      this._tickCallback = undefined;\n    }\n  }, {\n    key: \"resume\",\n    value: function () {\n      var _resume = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this._tickCallback) {\n                  _context.next = 2;\n                  break;\n                }\n\n                throw new Error('You cannot resume an active stream!');\n\n              case 2:\n                return _context.abrupt(\"return\", _get(_getPrototypeOf(RealtimeSubscription.prototype), \"resume\", this).call(this));\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resume() {\n        return _resume.apply(this, arguments);\n      }\n\n      return resume;\n    }()\n  }, {\n    key: \"_startSubscribe\",\n    value: function () {\n      var _startSubscribe2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(tickHistoryRequest) {\n        var _this$_getProcessTick, _this$_getProcessTick2, tickHistoryPromise, processTickHistory, response, quotes;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this$_getProcessTick = this._getProcessTickHistoryClosure(), _this$_getProcessTick2 = _slicedToArray(_this$_getProcessTick, 2), tickHistoryPromise = _this$_getProcessTick2[0], processTickHistory = _this$_getProcessTick2[1];\n\n                this._binaryApi.subscribeTickHistory(tickHistoryRequest, processTickHistory);\n\n                _context2.next = 4;\n                return tickHistoryPromise;\n\n              case 4:\n                response = _context2.sent;\n                quotes = this._processHistoryResponse(response);\n                this._tickCallback = processTickHistory;\n                return _context2.abrupt(\"return\", quotes);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _startSubscribe(_x) {\n        return _startSubscribe2.apply(this, arguments);\n      }\n\n      return _startSubscribe;\n    }()\n  }, {\n    key: \"forget\",\n    value: function forget() {\n      if (this._tickCallback) {\n        var _this$_request = this._request,\n            symbol = _this$_request.symbol,\n            granularity = _this$_request.granularity;\n\n        this._binaryApi.forget({\n          symbol: symbol,\n          granularity: granularity\n        });\n\n        this._tickCallback = undefined;\n      }\n\n      _get(_getPrototypeOf(RealtimeSubscription.prototype), \"forget\", this).call(this);\n    }\n  }, {\n    key: \"_getProcessTickHistoryClosure\",\n    value: function _getProcessTickHistoryClosure() {\n      var _this2 = this;\n\n      var hasHistory = false;\n      var tickHistoryPromise = new _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n      var processTickHistory = function processTickHistory(resp) {\n        if (_this2._stx.isDestroyed) {\n          var subscriptionId = resp.subscription.id;\n\n          _this2._binaryApi.forgetStream(subscriptionId);\n\n          return;\n        } // We assume that 1st response is the history, and subsequent\n        // responses are tick stream data.\n\n\n        if (hasHistory) {\n          _this2._onTick(resp);\n\n          return;\n        }\n\n        tickHistoryPromise.resolve(resp);\n        hasHistory = true;\n      };\n\n      return [tickHistoryPromise, processTickHistory];\n    }\n  }, {\n    key: \"_onTick\",\n    value: function _onTick(response) {\n      this.lastStreamEpoch = +_Subscription__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEpochFromTick(response);\n      var quotes = [_TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_2__[\"TickHistoryFormatter\"].formatTick(response)];\n\n      this._emitter.emit(_Subscription__WEBPACK_IMPORTED_MODULE_1__[\"default\"].EVENT_CHART_DATA, quotes);\n    }\n  }]);\n\n  return RealtimeSubscription;\n}(_Subscription__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RealtimeSubscription);\n\n/***/ }),\n\n/***/ \"./src/feed/subscription/Subscription.js\":\n/*!***********************************************!*\\\n  !*** ./src/feed/subscription/Subscription.js ***!\n  \\***********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-emitter-es6 */ \"./node_modules/event-emitter-es6/index.js\");\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TickHistoryFormatter */ \"./src/feed/TickHistoryFormatter.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Subscription = /*#__PURE__*/function () {\n  _createClass(Subscription, null, [{\n    key: \"EVENT_CHART_DATA\",\n    get: function get() {\n      return 'EVENT_CHART_DATA';\n    }\n  }]);\n\n  function Subscription(request, api, stx) {\n    _classCallCheck(this, Subscription);\n\n    this.lastStreamEpoch = void 0;\n    this._binaryApi = api;\n    this._stx = stx;\n    this._request = request;\n    this._emitter = new event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default.a({\n      emitDelay: 0\n    });\n  }\n\n  _createClass(Subscription, [{\n    key: \"initialFetch\",\n    value: function () {\n      var _initialFetch = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var quotes;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this._startSubscribe(this._request);\n\n              case 2:\n                quotes = _context.sent;\n                return _context.abrupt(\"return\", quotes);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initialFetch() {\n        return _initialFetch.apply(this, arguments);\n      }\n\n      return initialFetch;\n    }()\n  }, {\n    key: \"pause\",\n    value: function pause() {}\n  }, {\n    key: \"resume\",\n    value: function () {\n      var _resume = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var tickHistoryRequest, quotes;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.lastStreamEpoch) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                tickHistoryRequest = _objectSpread(_objectSpread({}, this._request), {}, {\n                  start: this.lastStreamEpoch\n                });\n                _context2.next = 4;\n                return this._startSubscribe(tickHistoryRequest);\n\n              case 4:\n                quotes = _context2.sent;\n                return _context2.abrupt(\"return\", quotes);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function resume() {\n        return _resume.apply(this, arguments);\n      }\n\n      return resume;\n    }()\n  }, {\n    key: \"forget\",\n    value: function forget() {\n      this.lastStreamEpoch = undefined;\n\n      this._emitter.off(Subscription.EVENT_CHART_DATA);\n    }\n  }, {\n    key: \"_startSubscribe\",\n    value: function () {\n      var _startSubscribe2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                throw new Error('Please override!');\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function _startSubscribe() {\n        return _startSubscribe2.apply(this, arguments);\n      }\n\n      return _startSubscribe;\n    }()\n  }, {\n    key: \"_processHistoryResponse\",\n    value: function _processHistoryResponse(response) {\n      if (response.error) {\n        throw response.error;\n      }\n\n      var quotes = _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_1__[\"TickHistoryFormatter\"].formatHistory(response);\n\n      if (!quotes) {\n        var message = \"Unexpected response: \".concat(response);\n        throw new Error({\n          message: message\n        });\n      }\n\n      this.lastStreamEpoch = Subscription.getLatestEpoch(response);\n      return quotes;\n    }\n  }, {\n    key: \"onChartData\",\n    value: function onChartData(callback) {\n      this._emitter.on(Subscription.EVENT_CHART_DATA, callback);\n    }\n  }], [{\n    key: \"getLatestEpoch\",\n    value: function getLatestEpoch(_ref) {\n      var candles = _ref.candles,\n          history = _ref.history;\n\n      if (candles) {\n        return candles[candles.length - 1].epoch;\n      }\n\n      if (history) {\n        var times = history.times;\n        return times[times.length - 1];\n      }\n    }\n  }, {\n    key: \"getEpochFromTick\",\n    value: function getEpochFromTick(_ref2) {\n      var tick = _ref2.tick,\n          ohlc = _ref2.ohlc;\n      return tick ? tick.epoch : ohlc.open_time;\n    }\n  }]);\n\n  return Subscription;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Subscription);\n\n/***/ }),\n\n/***/ \"./src/feed/subscription/index.js\":\n/*!****************************************!*\\\n  !*** ./src/feed/subscription/index.js ***!\n  \\****************************************/\n/*! exports provided: DelayedSubscription, RealtimeSubscription */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DelayedSubscription__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DelayedSubscription */ \"./src/feed/subscription/DelayedSubscription.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DelayedSubscription\", function() { return _DelayedSubscription__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _RealtimeSubscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RealtimeSubscription */ \"./src/feed/subscription/RealtimeSubscription.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RealtimeSubscription\", function() { return _RealtimeSubscription__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! exports provided: Barrier, ChartSetting, ChartSize, ChartTitle, ChartTypes, ChartMode, createObjectFromLocalStorage, CrosshairToggle, DrawTools, Marker, PendingPromise, setSmartChartsPublicPath, Share, SmartChart, StudyLegend, Timeperiod, Views, ToolbarWidget, logEvent, LogCategories, LogActions, default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Marker\", function() { return Marker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setSmartChartsPublicPath\", function() { return setSmartChartsPublicPath; });\n/* harmony import */ var _components_Barrier_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/Barrier.jsx */ \"./src/components/Barrier.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Barrier\", function() { return _components_Barrier_jsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PendingPromise\", function() { return _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _components_ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/ChartTypes.jsx */ \"./src/components/ChartTypes.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChartTypes\", function() { return _components_ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _components_ChartMode_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/ChartMode.jsx */ \"./src/components/ChartMode.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChartMode\", function() { return _components_ChartMode_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _components_StudyLegend_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/StudyLegend.jsx */ \"./src/components/StudyLegend.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StudyLegend\", function() { return _components_StudyLegend_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _components_Views_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/Views.jsx */ \"./src/components/Views.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Views\", function() { return _components_Views_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _components_CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/CrosshairToggle.jsx */ \"./src/components/CrosshairToggle.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CrosshairToggle\", function() { return _components_CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _components_Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/Timeperiod.jsx */ \"./src/components/Timeperiod.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Timeperiod\", function() { return _components_Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _components_ChartSize_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/ChartSize.jsx */ \"./src/components/ChartSize.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChartSize\", function() { return _components_ChartSize_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _components_DrawTools_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/DrawTools.jsx */ \"./src/components/DrawTools.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DrawTools\", function() { return _components_DrawTools_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; });\n\n/* harmony import */ var _components_ChartSetting_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/ChartSetting.jsx */ \"./src/components/ChartSetting.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChartSetting\", function() { return _components_ChartSetting_jsx__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _components_Share_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/Share.jsx */ \"./src/components/Share.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Share\", function() { return _components_Share_jsx__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; });\n\n/* harmony import */ var _components_SmartChart_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/SmartChart.jsx */ \"./src/components/SmartChart.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SmartChart\", function() { return _components_SmartChart_jsx__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; });\n\n/* harmony import */ var _components_ChartTitle_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/ChartTitle.jsx */ \"./src/components/ChartTitle.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChartTitle\", function() { return _components_ChartTitle_jsx__WEBPACK_IMPORTED_MODULE_13__[\"default\"]; });\n\n/* harmony import */ var _components_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/FastMarker.jsx */ \"./src/components/FastMarker.jsx\");\n/* harmony import */ var _components_RawMarker_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/RawMarker.jsx */ \"./src/components/RawMarker.jsx\");\n/* harmony import */ var _components_ToolbarWidget_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/ToolbarWidget.jsx */ \"./src/components/ToolbarWidget.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ToolbarWidget\", function() { return _components_ToolbarWidget_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"]; });\n\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createObjectFromLocalStorage\", function() { return _utils__WEBPACK_IMPORTED_MODULE_17__[\"createObjectFromLocalStorage\"]; });\n\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./utils/ga */ \"./src/utils/ga.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"logEvent\", function() { return _utils_ga__WEBPACK_IMPORTED_MODULE_18__[\"logEvent\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LogCategories\", function() { return _utils_ga__WEBPACK_IMPORTED_MODULE_18__[\"LogCategories\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LogActions\", function() { return _utils_ga__WEBPACK_IMPORTED_MODULE_18__[\"LogActions\"]; });\n\n/* eslint-disable no-new, react/jsx-indent, react/no-danger, react/jsx-indent-props */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction setSmartChartsPublicPath(path) {\n  __webpack_require__.p = path; // eslint-disable-line\n}\n\nvar Marker = _components_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  Barrier: _components_Barrier_jsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  ChartSetting: _components_ChartSetting_jsx__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  ChartSize: _components_ChartSize_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  ChartTitle: _components_ChartTitle_jsx__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n  ChartTypes: _components_ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  ChartMode: _components_ChartMode_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  createObjectFromLocalStorage: _utils__WEBPACK_IMPORTED_MODULE_17__[\"createObjectFromLocalStorage\"],\n  CrosshairToggle: _components_CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  DrawTools: _components_DrawTools_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n  FastMarker: _components_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n  Marker: _components_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n  PendingPromise: _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  RawMarker: _components_RawMarker_jsx__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n  setSmartChartsPublicPath: setSmartChartsPublicPath,\n  Share: _components_Share_jsx__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n  SmartChart: _components_SmartChart_jsx__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n  StudyLegend: _components_StudyLegend_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  Timeperiod: _components_Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  Views: _components_Views_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  ToolbarWidget: _components_ToolbarWidget_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"],\n  logEvent: _utils_ga__WEBPACK_IMPORTED_MODULE_18__[\"logEvent\"],\n  LogCategories: _utils_ga__WEBPACK_IMPORTED_MODULE_18__[\"LogCategories\"],\n  LogActions: _utils_ga__WEBPACK_IMPORTED_MODULE_18__[\"LogActions\"]\n});\n\n/***/ }),\n\n/***/ \"./src/store/AnimatedPriceStore.js\":\n/*!*****************************************!*\\\n  !*** ./src/store/AnimatedPriceStore.js ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AnimatedPriceStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\nvar _dec, _class, _descriptor, _descriptor2, _descriptor3, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\nvar AnimatedPriceStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function AnimatedPriceStore() {\n    var _this = this;\n\n    _classCallCheck(this, AnimatedPriceStore);\n\n    _initializerDefineProperty(this, \"price\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"isIncrease\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"status\", _descriptor3, this);\n\n    this.oldPrice = '';\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function () {\n      return {\n        price: _this.price,\n        isIncrease: _this.isIncrease,\n        status: _this.status,\n        className: _this.className\n      };\n    });\n  }\n\n  _createClass(AnimatedPriceStore, [{\n    key: \"setPrice\",\n    value: function setPrice(val, prevPrice) {\n      var oldVal = prevPrice || +this.oldPrice;\n      var newVal = +val;\n      var isIncrease = false;\n\n      if (newVal > oldVal) {\n        isIncrease = true;\n        this.status = 'up';\n      } else if (newVal < oldVal) {\n        this.status = 'down';\n      } else {\n        this.status = '';\n        return;\n      }\n\n      this.price = val;\n      this.oldPrice = this.price;\n      this.isIncrease = isIncrease;\n    }\n  }]);\n\n  return AnimatedPriceStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"price\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"isIncrease\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"status\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setPrice\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setPrice\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/BarrierStore.js\":\n/*!***********************************!*\\\n  !*** ./src/store/BarrierStore.js ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BarrierStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _PriceLineStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PriceLineStore */ \"./src/store/PriceLineStore.js\");\n/* harmony import */ var _ShadeStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ShadeStore */ \"./src/store/ShadeStore.js\");\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\n/* harmony import */ var _components_PriceLine_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/PriceLine.jsx */ \"./src/components/PriceLine.jsx\");\n/* harmony import */ var _components_Shade_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/Shade.jsx */ \"./src/components/Shade.jsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nvar _dec, _dec2, _dec3, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\n\n\n\nvar BarrierStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  _createClass(BarrierStore, [{\n    key: \"pip\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places;\n    }\n  }, {\n    key: \"yAxisWidth\",\n    get: function get() {\n      return this.mainStore.chart.yAxiswidth;\n    }\n  }, {\n    key: \"priceLabelWidth\",\n    get: function get() {\n      return this.yAxisWidth + 1;\n    }\n  }], [{\n    key: \"SHADE_NONE_SINGLE\",\n    get: function get() {\n      return 'SHADE_NONE_SINGLE';\n    }\n  }, {\n    key: \"SHADE_NONE_DOUBLE\",\n    get: function get() {\n      return 'SHADE_NONE_DOUBLE';\n    }\n  }, {\n    key: \"SHADE_ABOVE\",\n    get: function get() {\n      return 'SHADE_ABOVE';\n    }\n  }, {\n    key: \"SHADE_BELOW\",\n    get: function get() {\n      return 'SHADE_BELOW';\n    }\n  }, {\n    key: \"SHADE_BETWEEN\",\n    get: function get() {\n      return 'SHADE_BETWEEN';\n    }\n  }, {\n    key: \"SHADE_OUTSIDE\",\n    get: function get() {\n      return 'SHADE_OUTSIDE';\n    }\n  }, {\n    key: \"BARRIER_CHANGED\",\n    get: function get() {\n      return 'BARRIER_CHANGED';\n    }\n  }]);\n\n  function BarrierStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, BarrierStore);\n\n    _initializerDefineProperty(this, \"shadeColor\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"color\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"foregroundColor\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"isBetweenShadeVisible\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"isTopShadeVisible\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"isBottomShadeVisible\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"hidePriceLines\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"lineStyle\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"isInitialized\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"initializePromise\", _descriptor10, this);\n\n    _initializerDefineProperty(this, \"hideBarrierLine\", _descriptor11, this);\n\n    _initializerDefineProperty(this, \"hideOffscreenLine\", _descriptor12, this);\n\n    _initializerDefineProperty(this, \"hideOffscreenBarrier\", _descriptor13, this);\n\n    _initializerDefineProperty(this, \"isSingleBarrier\", _descriptor14, this);\n\n    this._shadeState = void 0;\n    this._onBarrierChange = null;\n\n    this._fireOnBarrierChange = function () {\n      var high = _this._high_barrier.visible ? +_this._high_barrier.price.toFixed(_this.pip) : undefined;\n      var low = _this._low_barrier.visible ? +_this._low_barrier.price.toFixed(_this.pip) : undefined;\n\n      if (_this._onBarrierChange) {\n        _this._onBarrierChange({\n          high: high,\n          low: low\n        });\n      }\n    };\n\n    this._drawShadedArea = function () {\n      if (!_this.isInitialized) {\n        return;\n      }\n\n      if (_this._shadeState === BarrierStore.SHADE_ABOVE) {\n        _this._shadeAbove();\n      } else if (_this._shadeState === BarrierStore.SHADE_BELOW) {\n        _this._shadeBelow();\n      } else if (_this._shadeState === BarrierStore.SHADE_BETWEEN) {\n        _this._shadeBetween();\n      } else if (_this._shadeState === BarrierStore.SHADE_OUTSIDE) {\n        _this._shadeOutside();\n      }\n\n      if (_this._low_barrier.visible && _this._isBarriersOffScreen()) {\n        var order = _this._high_barrier.top === 0 ? null : 101;\n        _this._high_barrier.zIndex = order;\n      }\n    };\n\n    this.mainStore = mainStore;\n    this._high_barrier = new _PriceLineStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.mainStore);\n    this._low_barrier = new _PriceLineStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.mainStore);\n\n    this._high_barrier.onPriceChanged(this._drawShadedArea);\n\n    this._low_barrier.onPriceChanged(this._drawShadedArea);\n\n    this._high_barrier.onDragReleased(this._fireOnBarrierChange);\n\n    this._low_barrier.onDragReleased(this._fireOnBarrierChange);\n\n    this._injectionId = this.stx.append('draw', this._drawShadedArea);\n\n    this._setupConstrainBarrierPrices();\n\n    this._listenerId = this.stx.addEventListener('newChart', this.init);\n    this.aboveShadeStore = new _ShadeStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]('top-shade');\n    this.betweenShadeStore = new _ShadeStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]('between-shade');\n    this.belowShadeStore = new _ShadeStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]('bottom-shade');\n    this.AboveShade = this.aboveShadeStore.connect(_components_Shade_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.BetweenShade = this.betweenShadeStore.connect(_components_Shade_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.BelowShade = this.belowShadeStore.connect(_components_Shade_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.shadeState = BarrierStore.SHADE_NONE_SINGLE;\n\n    if (this.context && mainStore.chart.currentCloseQuote()) {\n      this.init();\n    }\n\n    this.HighPriceLine = this._high_barrier.connect(_components_PriceLine_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    this.LowPriceLine = this._low_barrier.connect(_components_PriceLine_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n\n    this.mainStore.chart._barriers.push(this);\n  }\n\n  _createClass(BarrierStore, [{\n    key: \"init\",\n    value: function init() {\n      this.isInitialized = true;\n      this.initializePromise.resolve(); // Enable this to test barriers; high low values are mandatory\n      // for library user to provide\n      // this.setDefaultBarrier();\n    }\n  }, {\n    key: \"setDefaultBarrier\",\n    value: function setDefaultBarrier() {\n      var price = this.relative ? 0 : this.mainStore.chart.currentCloseQuote().Close;\n      var distance = this.chart.yAxis.priceTick;\n      this._high_barrier.price = price + distance;\n      this._low_barrier.price = price - distance;\n\n      this._high_barrier._updateTop();\n\n      this._low_barrier._updateTop();\n\n      this._drawShadedArea();\n    }\n  }, {\n    key: \"updateProps\",\n    value: function updateProps(_ref) {\n      var _this2 = this;\n\n      var color = _ref.color,\n          foregroundColor = _ref.foregroundColor,\n          shadeColor = _ref.shadeColor,\n          shade = _ref.shade,\n          high = _ref.high,\n          low = _ref.low,\n          relative = _ref.relative,\n          draggable = _ref.draggable,\n          onChange = _ref.onChange,\n          hideBarrierLine = _ref.hideBarrierLine,\n          hideOffscreenBarrier = _ref.hideOffscreenBarrier,\n          hideOffscreenLine = _ref.hideOffscreenLine,\n          hidePriceLines = _ref.hidePriceLines,\n          lineStyle = _ref.lineStyle,\n          title = _ref.title,\n          showOffscreenArrows = _ref.showOffscreenArrows,\n          isSingleBarrier = _ref.isSingleBarrier,\n          opacityOnOverlap = _ref.opacityOnOverlap;\n      this.initializePromise.then(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function () {\n        if (color) {\n          _this2.color = color;\n        }\n\n        if (foregroundColor) {\n          _this2.foregroundColor = foregroundColor;\n        }\n\n        if (shadeColor) {\n          _this2.shadeColor = shadeColor;\n        }\n\n        if (shade) {\n          _this2.shadeState = \"SHADE_\".concat(shade).toUpperCase();\n        }\n\n        if (relative !== undefined) {\n          _this2.relative = relative;\n        }\n\n        if (draggable !== undefined) {\n          _this2.draggable = draggable;\n        }\n\n        if (Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"isValidProp\"])(high)) {\n          _this2.high_barrier = high;\n        }\n\n        if (Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"isValidProp\"])(low)) {\n          _this2.low_barrier = low;\n        }\n\n        if (onChange) {\n          _this2.onBarrierChange = onChange;\n        }\n\n        if (title) {\n          _this2.title = title;\n        }\n\n        _this2.lineStyle = lineStyle;\n        _this2.hideBarrierLine = !!hideBarrierLine;\n        _this2.hidePriceLines = !!hidePriceLines;\n        _this2.hideOffscreenLine = !!hideOffscreenLine;\n        _this2.hideOffscreenBarrier = !!hideOffscreenBarrier;\n        _this2.isSingleBarrier = !!isSingleBarrier;\n      }));\n\n      if (opacityOnOverlap) {\n        this.opacityOnOverlap = opacityOnOverlap;\n      }\n\n      if (showOffscreenArrows) {\n        this.showOffscreenArrows = showOffscreenArrows;\n      }\n    }\n  }, {\n    key: \"destructor\",\n    value: function destructor() {\n      var _this3 = this;\n\n      if (!this.context) return;\n      this.stx.removeInjection(this._injectionId);\n      this.stx.removeEventListener(this._listenerId);\n\n      this._high_barrier.destructor();\n\n      this._low_barrier.destructor();\n\n      var i = this.mainStore.chart._barriers.findIndex(function (b) {\n        return b === _this3;\n      });\n\n      if (i !== -1) {\n        this.mainStore.chart._barriers.splice(i, 1);\n      }\n    }\n  }, {\n    key: \"_setupConstrainBarrierPrices\",\n    value: function _setupConstrainBarrierPrices() {\n      var _this4 = this;\n\n      // barrier 1 cannot go below barrier 2\n      this._high_barrier.priceConstrainer = function (newPrice) {\n        var nextPrice = _this4._low_barrier.visible && newPrice < _this4._low_barrier.realPrice ? _this4._high_barrier.realPrice : newPrice;\n\n        _this4.mainStore.chart.calculateYaxisWidth(nextPrice);\n\n        return nextPrice;\n      }; // barrier 2 cannot go above barrier 1\n\n\n      this._low_barrier.priceConstrainer = function (newPrice) {\n        var nextPrice = newPrice > _this4._high_barrier.realPrice ? _this4._low_barrier.realPrice : newPrice;\n\n        _this4.mainStore.chart.calculateYaxisWidth(nextPrice);\n\n        return nextPrice;\n      };\n    }\n  }, {\n    key: \"_isBarriersOffScreen\",\n    value: function _isBarriersOffScreen() {\n      return this._high_barrier.offScreen && this._low_barrier.offScreen;\n    }\n  }, {\n    key: \"_shadeBetween\",\n    value: function _shadeBetween() {\n      this.betweenShadeStore.setPosition({\n        top: this._high_barrier.top,\n        bottom: this._low_barrier.top,\n        right: this.yAxisWidth\n      });\n    }\n  }, {\n    key: \"_shadeBelow\",\n    value: function _shadeBelow() {\n      var barrier = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._high_barrier;\n      this.belowShadeStore.setPosition({\n        top: barrier.top,\n        bottom: 0,\n        right: this.yAxisWidth\n      });\n    }\n  }, {\n    key: \"_shadeAbove\",\n    value: function _shadeAbove() {\n      var barrier = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._high_barrier;\n      this.aboveShadeStore.setPosition({\n        top: 0,\n        bottom: barrier.top,\n        right: this.yAxisWidth\n      });\n    }\n  }, {\n    key: \"_shadeOutside\",\n    value: function _shadeOutside() {\n      this._shadeAbove(this._high_barrier);\n\n      this._shadeBelow(this._low_barrier);\n    }\n  }, {\n    key: \"high_barrier\",\n    get: function get() {\n      return this._high_barrier.price;\n    },\n    set: function set(price) {\n      this._high_barrier.price = price;\n    }\n  }, {\n    key: \"low_barrier\",\n    get: function get() {\n      return this._low_barrier.price;\n    },\n    set: function set(price) {\n      this._low_barrier.price = price;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"chart\",\n    get: function get() {\n      return this.stx.chart;\n    }\n  }, {\n    key: \"onBarrierChange\",\n    set: function set(callback) {\n      if (this._onBarrierChange !== callback) {\n        this._onBarrierChange = callback;\n      }\n    }\n  }, {\n    key: \"shadeState\",\n    get: function get() {\n      return this._shadeState;\n    },\n    set: function set(shadeState) {\n      if (this._shadeState === shadeState) {\n        return;\n      }\n\n      this._shadeState = shadeState;\n      var noShade = this._shadeState === BarrierStore.SHADE_NONE_SINGLE || this._shadeState === BarrierStore.SHADE_NONE_DOUBLE;\n\n      if (noShade) {\n        this.aboveShadeStore.visible = false;\n        this.betweenShadeStore.visible = false;\n        this.belowShadeStore.visible = false;\n      } else {\n        var aboveShadeEnable = this._shadeState === BarrierStore.SHADE_ABOVE || this._shadeState === BarrierStore.SHADE_OUTSIDE;\n        var belowShadeEnable = this._shadeState === BarrierStore.SHADE_BELOW || this._shadeState === BarrierStore.SHADE_OUTSIDE;\n        var betweenShadeEnable = this._shadeState === BarrierStore.SHADE_BETWEEN;\n        this.aboveShadeStore.visible = aboveShadeEnable;\n        this.betweenShadeStore.visible = betweenShadeEnable;\n        this.belowShadeStore.visible = belowShadeEnable;\n\n        this._drawShadedArea();\n      }\n\n      var showLowBarrier = this._shadeState === BarrierStore.SHADE_OUTSIDE || this._shadeState === BarrierStore.SHADE_BETWEEN || this._shadeState === BarrierStore.SHADE_NONE_DOUBLE;\n      var wasLowBarrierVisible = this._low_barrier.visible;\n      this._low_barrier.visible = showLowBarrier;\n\n      if (this.isInitialized && showLowBarrier && !wasLowBarrierVisible) {\n        if (this._low_barrier.realPrice >= this._high_barrier.realPrice) {\n          // fix position if _low_barrier above _high_barrier, since _low_barrier position is not updated when not visible\n          this._low_barrier.price = this._high_barrier.price - this.chart.yAxis.priceTick;\n        }\n      }\n    }\n  }, {\n    key: \"relative\",\n    get: function get() {\n      return this._high_barrier.relative;\n    },\n    set: function set(value) {\n      this._high_barrier.relative = value;\n      this._low_barrier.relative = value;\n    }\n  }, {\n    key: \"draggable\",\n    get: function get() {\n      return this._high_barrier.draggable;\n    },\n    set: function set(value) {\n      this._high_barrier.draggable = value;\n      this._low_barrier.draggable = value;\n    }\n  }, {\n    key: \"showOffscreenArrows\",\n    get: function get() {\n      return this._high_barrier.showOffscreenArrows;\n    },\n    set: function set(value) {\n      this._high_barrier.showOffscreenArrows = value;\n    }\n  }, {\n    key: \"opacityOnOverlap\",\n    get: function get() {\n      return this._high_barrier.opacityOnOverlap;\n    },\n    set: function set(value) {\n      this._high_barrier.opacityOnOverlap = value;\n    }\n  }]);\n\n  return BarrierStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"shadeColor\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"color\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"foregroundColor\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"isBetweenShadeVisible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"isTopShadeVisible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"isBottomShadeVisible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"hidePriceLines\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"lineStyle\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"isInitialized\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"initializePromise\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return new _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n  }\n}), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"hideBarrierLine\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"hideOffscreenLine\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"hideOffscreenBarrier\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"isSingleBarrier\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"pip\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"pip\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"yAxisWidth\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"yAxisWidth\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"priceLabelWidth\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"priceLabelWidth\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"init\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"init\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"destructor\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"destructor\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/BottomWidgetsContainerStore.js\":\n/*!**************************************************!*\\\n  !*** ./src/store/BottomWidgetsContainerStore.js ***!\n  \\**************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BottomWidgetsContainerStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\nvar _dec, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\nvar BottomWidgetsContainerStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  _createClass(BottomWidgetsContainerStore, [{\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this.mainStore.state;\n    }\n  }]);\n\n  function BottomWidgetsContainerStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, BottomWidgetsContainerStore);\n\n    _initializerDefineProperty(this, \"bottom\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"isReadyToShow\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"mainChartHeight\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"top\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"totalHeight\", _descriptor5, this);\n\n    this.initial = function () {\n      _this.stx.append('drawPanels', _this.updateChartHeight);\n\n      _this.isReadyToShow = true;\n    };\n\n    this.updateChartMargin = function (hasBottomWidget) {\n      if (_this.context && _this.stx) {\n        var marginTop = _this.state.yAxisMargin.top || 106;\n        var marginBottom = _this.state.yAxisMargin.bottom || 64;\n\n        if (hasBottomWidget) {\n          marginBottom += 64;\n        }\n\n        if (_this.stx.chart.yAxis.initialMarginTop !== marginTop || _this.stx.chart.yAxis.initialMarginBottom !== marginBottom) {\n          _this.stx.chart.yAxis.initialMarginTop = marginTop;\n          _this.stx.chart.yAxis.initialMarginBottom = marginBottom;\n\n          _this.stx.calculateYAxisMargins(_this.stx.chart.panel.yAxis);\n\n          _this.stx.draw();\n        }\n\n        if (!_this.mainStore.state.shouldMinimiseLastDigits) {\n          _this.mainStore.state.setShouldMinimiseLastDigit(_this.stx.chart.panel.height < 460);\n        }\n      }\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.initial);\n  }\n\n  _createClass(BottomWidgetsContainerStore, [{\n    key: \"updateChartHeight\",\n    value: function updateChartHeight() {\n      var _this2 = this;\n\n      this.mainChartHeight = this.stx.panels.chart.height;\n      this.totalHeight = Object.keys(this.stx.panels).reduce(function (acc, key) {\n        return acc + (_this2.stx.panels[key].hidden ? 0 : _this2.stx.panels[key].height);\n      }, 0);\n      var addedIndicatorsHeight = Object.keys(this.stx.panels).reduce(function (sum, key) {\n        return sum + (_this2.stx.panels[key].hidden || key === 'chart' ? 0 : _this2.stx.panels[key].height);\n      }, 0);\n      var margin = this.totalHeight > this.mainChartHeight ? 0 : 30;\n      this.top = this.mainChartHeight - margin - 200;\n      this.bottom = addedIndicatorsHeight || 30;\n    }\n  }]);\n\n  return BottomWidgetsContainerStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"bottom\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"isReadyToShow\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"mainChartHeight\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"top\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"totalHeight\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"updateChartHeight\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"updateChartHeight\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/CategoricalDisplayStore.js\":\n/*!**********************************************!*\\\n  !*** ./src/store/CategoricalDisplayStore.js ***!\n  \\**********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CategoricalDisplayStore; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _components_SearchInput_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/SearchInput.jsx */ \"./src/components/SearchInput.jsx\");\n/* harmony import */ var _components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/categoricaldisplay */ \"./src/components/categoricaldisplay/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _temp;\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\n\n\nvar CategoricalDisplayStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function CategoricalDisplayStore(_ref) {\n    var _this = this;\n\n    var getCategoricalItems = _ref.getCategoricalItems,\n        onSelectItem = _ref.onSelectItem,\n        getIsShown = _ref.getIsShown,\n        getActiveCategory = _ref.getActiveCategory,\n        activeOptions = _ref.activeOptions,\n        placeholderText = _ref.placeholderText,\n        favoritesId = _ref.favoritesId,\n        mainStore = _ref.mainStore,\n        id = _ref.id,\n        getCurrentActiveCategory = _ref.getCurrentActiveCategory,\n        getCurrentActiveSubCategory = _ref.getCurrentActiveSubCategory,\n        getCurrentActiveMarket = _ref.getCurrentActiveMarket,\n        searchInputClassName = _ref.searchInputClassName;\n\n    _classCallCheck(this, CategoricalDisplayStore);\n\n    _initializerDefineProperty(this, \"isShown\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"scrollPanel\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"filterText\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"activeCategoryKey\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"focusedCategoryKey\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"isScrollingDown\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"activeHeadKey\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"activeHeadTop\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"activeHeadOffset\", _descriptor9, this);\n\n    this.scrollTop = undefined;\n    this.isUserScrolling = true;\n    this.lastFilteredItems = [];\n    this.activeCategories = [];\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        filteredItems: _this.filteredItems,\n        updateScrollSpy: _this.updateScrollSpy,\n        setScrollPanel: _this.setScrollPanel,\n        isScrollingDown: _this.isScrollingDown,\n        handleTitleClick: _this.handleTitleClick,\n        scrollUp: _this.scrollUp,\n        scrollDown: _this.scrollDown,\n        onSelectItem: _this.onSelectItem,\n        ResultsPanel: _this.ResultsPanel,\n        FilterPanel: _this.FilterPanel,\n        SearchInput: _this.SearchInput,\n        setFilterText: _this.setFilterText,\n        height: _this.height,\n        isMobile: _this.chart.isMobile\n      };\n    });\n    Object(mobx__WEBPACK_IMPORTED_MODULE_1__[\"reaction\"])(function () {\n      return getIsShown && getIsShown() && _this.scrollPanel;\n    }, function () {\n      if (getIsShown() && _this.scrollPanel) {\n        _this.scrollToActiveSymbol();\n      }\n    }, {\n      delay: 200\n    });\n    this.getCategoricalItems = getCategoricalItems;\n    this.onSelectItem = onSelectItem;\n    this.getActiveCategory = getActiveCategory;\n    this.favoritesId = favoritesId;\n    this.id = id;\n    this.categoryElements = {};\n    this.mainStore = mainStore;\n    this.getCurrentActiveCategory = getCurrentActiveCategory;\n    this.getCurrentActiveSubCategory = getCurrentActiveSubCategory;\n    this.getCurrentActiveMarket = getCurrentActiveMarket;\n    this.isInit = false;\n    this.searchInput = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n    this.searchInputClassName = searchInputClassName;\n    var normalItem = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        favoritesId: favoritesId\n      };\n    })(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_4__[\"NormalItem\"]);\n    var activeItem = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        activeOptions: activeOptions,\n        favoritesId: favoritesId\n      };\n    })(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_4__[\"ActiveItem\"]);\n\n    var getItemType = function getItemType(categoryId) {\n      if (categoryId === 'active' && _this.getActiveCategory !== undefined) {\n        return activeItem;\n      }\n\n      return normalItem;\n    };\n\n    this.ResultsPanel = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        filteredItems: _this.filteredItems,\n        setCategoryElement: _this.setCategoryElement,\n        getItemType: getItemType,\n        activeHeadTop: _this.activeHeadTop,\n        activeHeadKey: _this.activeHeadKey,\n        activeHeadOffset: _this.activeHeadOffset,\n        handleTitleClick: _this.handleTitleClick\n      };\n    })(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_4__[\"ResultsPanel\"]);\n    this.FilterPanel = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n      var chart = _ref2.chart;\n      return {\n        isMobile: chart.isMobile,\n        filteredItems: _this.filteredItems,\n        handleFilterClick: _this.handleFilterClick,\n        activeCategoryKey: _this.activeCategoryKey,\n        focusedCategoryKey: _this.focusedCategoryKey,\n        isSearching: _this.filterText !== ''\n      };\n    })(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_4__[\"FilterPanel\"]);\n    this.SearchInput = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        placeholder: placeholderText,\n        value: _this.filterText,\n        onChange: _this.setFilterText,\n        searchInput: _this.searchInput,\n        searchInputClassName: _this.searchInputClassName\n      };\n    })(_components_SearchInput_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  }\n\n  _createClass(CategoricalDisplayStore, [{\n    key: \"init\",\n    value: function init() {\n      this.isInit = true; // Select first non-empty category:\n\n      if (this.activeCategoryKey === '' && this.filteredItems.length > 0) {\n        var _iterator = _createForOfIteratorHelper(this.filteredItems),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var category = _step.value;\n            var el = this.categoryElements[category.categoryId];\n\n            if (el) {\n              this.activeCategoryKey = category.categoryId;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    }\n  }, {\n    key: \"updateScrollSpy\",\n    value: function updateScrollSpy() {\n      if (this.pauseScrollSpy || !this.scrollPanel) {\n        return;\n      }\n\n      if (this.filteredItems.length === 0) {\n        return;\n      } // hits: 40px for title hight + 4px for content bottom border\n\n\n      var categoryTitleHeight = 44;\n      var scrollPanelTop = this.scrollPanel.getBoundingClientRect().top;\n      var activeHeadTop = 0;\n      var activeMenuId = null;\n\n      var _iterator2 = _createForOfIteratorHelper(this.filteredItems),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var category = _step2.value;\n          var el = this.categoryElements[category.categoryId];\n\n          if (!el) {\n            return;\n          }\n\n          var gap_top = Object.keys(this.categoryElements).indexOf(category.categoryId) * 40;\n          var r = el.getBoundingClientRect();\n          var top = r.top - scrollPanelTop - gap_top;\n\n          if (top < 0) {\n            activeMenuId = category.categoryId;\n            var categorySwitchPoint = r.height + top - categoryTitleHeight;\n            activeHeadTop = categorySwitchPoint < 0 ? categorySwitchPoint : 0;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      var scrollTop = this.scrollPanel.getBoundingClientRect().top;\n\n      if (this.scrollTop > scrollTop) {\n        this.scrollUp();\n      } else {\n        this.scrollDown();\n      }\n\n      var offsetTop = this.scrollPanel.getBoundingClientRect().top - window.scrollY;\n      this.activeHeadOffset = this.chart.isMobile ? offsetTop : 0;\n      this.scrollTop = scrollTop;\n      this.focusedCategoryKey = activeMenuId || this.filteredItems[0].categoryId;\n      this.activeHeadTop = activeHeadTop;\n      this.activeHeadKey = this.scrollTop === 0 ? null : this.focusedCategoryKey;\n    }\n  }, {\n    key: \"scrollUp\",\n    value: function scrollUp() {\n      this.isScrollingDown = false;\n    }\n  }, {\n    key: \"scrollDown\",\n    value: function scrollDown() {\n      // This only affects when scrolling by mouse not by code\n      this.isScrollingDown = this.isUserScrolling;\n      this.isUserScrolling = true;\n    }\n  }, {\n    key: \"setCategoryElement\",\n    value: function setCategoryElement(element, id) {\n      this.categoryElements[id] = element;\n    }\n  }, {\n    key: \"setFilterText\",\n    value: function setFilterText(filterText) {\n      var _this2 = this;\n\n      this.filterText = filterText;\n      this.isUserScrolling = false;\n      this.updateScrollSpy();\n\n      if (filterText === '') {\n        setTimeout(function () {\n          return _this2.scrollToActiveSymbol();\n        }, 1);\n      }\n    }\n  }, {\n    key: \"handleFilterClick\",\n    value: function handleFilterClick(categoryId) {\n      var _this3 = this;\n\n      var el = this.categoryElements[categoryId];\n      var gap_top = Object.keys(this.categoryElements).indexOf(categoryId) * 40;\n\n      if (el) {\n        // TODO: Scroll animation\n        this.pauseScrollSpy = true;\n        this.isUserScrolling = false;\n\n        if (this.chart.isMobile) {\n          this.scrollPanel.scroll({\n            top: el.offsetTop - 95,\n            left: 0,\n            behavior: 'smooth'\n          });\n        } else {\n          this.scrollPanel.scrollTop = el.offsetTop - gap_top;\n        }\n\n        this.focusedCategoryKey = categoryId;\n        this.activeHeadKey = null; // scrollTop takes some time to take affect, so we need\n        // a slight delay before enabling the scroll spy again\n\n        setTimeout(function () {\n          _this3.pauseScrollSpy = false;\n        }, 20);\n      }\n    }\n  }, {\n    key: \"setScrollPanel\",\n    value: function setScrollPanel(element) {\n      this.scrollPanel = element;\n    }\n  }, {\n    key: \"handleTitleClick\",\n    value: function handleTitleClick(categoryId) {\n      var _this4 = this;\n\n      this.activeCategories = [];\n\n      var _iterator3 = _createForOfIteratorHelper(this.filteredItems),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var item = _step3.value;\n\n          if (item.categoryId === categoryId) {\n            item.active = !item.active;\n\n            if (item.active) {\n              setTimeout(function () {\n                return _this4.handleFilterClick(categoryId);\n              }, 250);\n            }\n          }\n\n          if (item.active && item.categoryId !== 'favorite') {\n            this.activeCategories.push(item.categoryId);\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      this.activeHeadTop = null;\n      setTimeout(function () {\n        return _this4.updateScrollSpy();\n      }, 0);\n    }\n  }, {\n    key: \"scrollToActiveSymbol\",\n    value: function scrollToActiveSymbol() {\n      var _this5 = this;\n\n      var activeItemCount = this.getActiveCategory ? this.getActiveCategory().data.length : 0;\n      this.focusedCategoryKey = null;\n      this.activeCategoryKey = this.getCurrentActiveCategory ? this.getCurrentActiveCategory() : 'favorite';\n      this.activeSubCategory = this.getCurrentActiveSubCategory ? this.getCurrentActiveSubCategory() : '';\n      this.activeMarket = this.getCurrentActiveMarket ? this.getCurrentActiveMarket() : '';\n      var el = this.categoryElements[this.activeCategoryKey];\n      var activeSubCategoryClassName = \".sc-mcd__category--\".concat(this.activeCategoryKey, \"  .sc-mcd__category__content--\").concat(this.activeSubCategory);\n      var el_active_sub_category = this.scrollPanel.querySelector(activeSubCategoryClassName);\n      var activeMarketClassName = \"\".concat(activeSubCategoryClassName, \" .sc-mcd__item--\").concat(this.activeMarket);\n      var el_active_market = this.scrollPanel.querySelector(activeMarketClassName);\n      this.activeHeadKey = this.activeCategoryKey || null;\n      this.activeHeadTop = 0;\n      this.pauseScrollSpy = true;\n      this.isUserScrolling = false;\n\n      if (activeItemCount) {\n        this.activeCategoryKey = 'active';\n        this.activeHeadKey = null;\n        this.scrollPanel.scrollTop = 0;\n      } else if (el) {\n        this.scrollPanel.scrollTop = el.offsetTop;\n\n        if (el_active_market) {\n          var topOffset = this.mainStore.chart.isMobile ? 100 : 40;\n          this.scrollPanel.scrollTop = el.offsetTop + el_active_market.offsetTop - topOffset;\n        } else if (el_active_sub_category) {\n          var _topOffset = this.mainStore.chart.isMobile ? 100 : 0;\n\n          this.scrollPanel.scrollTop = el.offsetTop + el_active_sub_category.offsetTop - _topOffset;\n        }\n      }\n\n      setTimeout(function () {\n        _this5.pauseScrollSpy = false;\n      }, 20);\n\n      if (!this.isInit) {\n        this.init();\n      }\n\n      if (!this.mainStore.chart.isMobile) {\n        setTimeout(function () {\n          return _this5.searchInput.current.focus();\n        }, 0);\n      }\n\n      if (!this.mainStore.chart.isMobile) {\n        var categories = Object.keys(this.categoryElements);\n        var last_category = categories.pop();\n        var last_category_bottom_gap = this.height - (64 + categories.length * 40); // to make the last category height reach it's filter tab\n\n        if (this.categoryElements[last_category]) {\n          this.categoryElements[last_category].style.minHeight = \"\".concat(last_category_bottom_gap, \"px\");\n        }\n      }\n    }\n  }, {\n    key: \"chart\",\n    get: function get() {\n      return this.mainStore.chart;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.chart.context;\n    }\n  }, {\n    key: \"height\",\n    get: function get() {\n      return this.chart.chartContainerHeight - (this.chart.isMobile ? 0 : 120);\n    }\n  }, {\n    key: \"favoritesCategory\",\n    get: function get() {\n      var _this6 = this;\n\n      this.pauseScrollSpy = true;\n      var favoritesCategory = {\n        categoryName: t.translate('Favorites'),\n        categoryId: 'favorite',\n        hasSubcategory: false,\n        active: true,\n        emptyDescription: t.translate('There are no favorites yet.'),\n        data: Object.keys(this.mainStore.favorites.favoritesMap[this.favoritesId]) || []\n      };\n      setTimeout(function () {\n        _this6.pauseScrollSpy = false;\n      }, 20);\n      return favoritesCategory;\n    }\n  }, {\n    key: \"filteredItems\",\n    get: function get() {\n      var filteredItems = Object(_utils__WEBPACK_IMPORTED_MODULE_5__[\"cloneCategories\"])(this.getCategoricalItems());\n      var activeItmes = this.activeCategories.length ? this.activeCategories : [this.getCurrentActiveCategory ? this.getCurrentActiveCategory() : 'favorite'];\n\n      var _iterator4 = _createForOfIteratorHelper(filteredItems),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var item = _step4.value;\n\n          if (activeItmes.includes(item.categoryId)) {\n            item.active = true;\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      if (this.favoritesId) {\n        var favsCategory = _objectSpread({}, this.favoritesCategory);\n\n        var findFavItem = function findFavItem(category) {\n          var foundItems = [];\n\n          if (category.hasSubcategory) {\n            category.data.forEach(function (subcategory) {\n              var foundSubItems = findFavItem(subcategory);\n              foundItems.push.apply(foundItems, _toConsumableArray(foundSubItems));\n            });\n          } else {\n            favsCategory.data.forEach(function (favItem) {\n              if (typeof favItem === 'string') {\n                var itemObj = category.data.find(function (item) {\n                  return item.itemId === favItem;\n                });\n\n                if (itemObj) {\n                  foundItems.push(itemObj);\n                }\n              }\n            });\n          }\n\n          return foundItems;\n        };\n\n        var favsCategoryItem = favsCategory.data.filter(function (favItem) {\n          return typeof favItem !== 'string';\n        });\n        filteredItems.forEach(function (category) {\n          var foundItems = findFavItem(category);\n          favsCategoryItem.push.apply(favsCategoryItem, _toConsumableArray(foundItems));\n        });\n        favsCategory.data = favsCategoryItem.filter(function (favItem) {\n          return favItem;\n        });\n        filteredItems.unshift(favsCategory);\n      }\n\n      if (this.getActiveCategory) {\n        var activeCategory = Object(_utils__WEBPACK_IMPORTED_MODULE_5__[\"cloneCategory\"])(this.getActiveCategory());\n        filteredItems.unshift(activeCategory);\n      }\n\n      if (this.filterText === '') {\n        this.lastFilteredItems = filteredItems;\n        return filteredItems;\n      }\n\n      var searchHasResult = false;\n      var queries = this.filterText.split(' ').filter(function (x) {\n        return x !== '';\n      }).map(function (b) {\n        return b.toLowerCase().trim();\n      }); // regex to check all separate words by comma, should exist in the string\n\n      var hasSearchString = function hasSearchString(text) {\n        return queries.reduce(function (a, b) {\n          return text.toLowerCase().includes(b) && a;\n        }, true);\n      };\n\n      var filterCategory = function filterCategory(c) {\n        c.data = c.data.filter(function (item) {\n          return hasSearchString(item.display || _typeof(item.dataObject) === 'object' && item.dataObject.symbol);\n        });\n\n        if (c.data.length) {\n          searchHasResult = true;\n        }\n      };\n\n      var _iterator5 = _createForOfIteratorHelper(filteredItems),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var category = _step5.value;\n          category.active = true;\n\n          if (category.hasSubcategory) {\n            var _iterator6 = _createForOfIteratorHelper(category.data),\n                _step6;\n\n            try {\n              for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                var subcategory = _step6.value;\n                filterCategory(subcategory);\n              }\n            } catch (err) {\n              _iterator6.e(err);\n            } finally {\n              _iterator6.f();\n            }\n          } else {\n            filterCategory(category);\n          }\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      if (!searchHasResult) {\n        filteredItems = this.lastFilteredItems;\n      }\n\n      if (!this.pauseScrollSpy) {\n        this.lastFilteredItems = filteredItems;\n      }\n\n      return filteredItems;\n    }\n  }]);\n\n  return CategoricalDisplayStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"isShown\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"scrollPanel\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"filterText\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"activeCategoryKey\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"focusedCategoryKey\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"isScrollingDown\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"activeHeadKey\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"activeHeadTop\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"activeHeadOffset\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"init\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"init\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"favoritesCategory\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"favoritesCategory\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"filteredItems\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"filteredItems\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateScrollSpy\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateScrollSpy\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"scrollUp\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"scrollUp\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"scrollDown\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"scrollDown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setCategoryElement\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"setCategoryElement\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setFilterText\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"setFilterText\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleFilterClick\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"handleFilterClick\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setScrollPanel\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"setScrollPanel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleTitleClick\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"handleTitleClick\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"scrollToActiveSymbol\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"scrollToActiveSymbol\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/ChartModeStore.js\":\n/*!*************************************!*\\\n  !*** ./src/store/ChartModeStore.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChartModeStore; });\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar ChartModeStore = function ChartModeStore(mainStore) {\n  _classCallCheck(this, ChartModeStore);\n\n  this.mainStore = mainStore;\n  this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_0__[\"default\"](mainStore, {\n    route: 'chart-mode'\n  });\n  this.ChartTypeMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n};\n\n\n\n/***/ }),\n\n/***/ \"./src/store/ChartSettingStore.js\":\n/*!****************************************!*\\\n  !*** ./src/store/ChartSettingStore.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChartSettingStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\n/* harmony import */ var _Constant_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Constant.js */ \"./src/Constant.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\n\nvar ChartSettingStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function ChartSettingStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartSettingStore);\n\n    this.languages = [];\n    this.defaultLanguage = {};\n    this.onSettingsChange = void 0;\n\n    _initializerDefineProperty(this, \"language\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"position\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"theme\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"countdown\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"historical\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"isAutoScale\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"isHighestLowestMarkerEnabled\", _descriptor7, this);\n\n    this.defaultLanguage = this.languages[0];\n    this.mainStore = mainStore;\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](mainStore, {\n      route: 'setting'\n    });\n    this.ChartSettingMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, function () {\n      _this.setSettings(mainStore.state.settings);\n    });\n  }\n\n  _createClass(ChartSettingStore, [{\n    key: \"setSettings\",\n    value: function setSettings(settings) {\n      var _this2 = this;\n\n      if (settings === undefined) {\n        return;\n      }\n\n      var countdown = settings.countdown,\n          historical = settings.historical,\n          language = settings.language,\n          position = settings.position,\n          isAutoScale = settings.isAutoScale,\n          isHighestLowestMarkerEnabled = settings.isHighestLowestMarkerEnabled,\n          theme = settings.theme,\n          activeLanguages = settings.activeLanguages;\n\n      if (!(!activeLanguages && _Constant_js__WEBPACK_IMPORTED_MODULE_4__[\"Languages\"].every(function (x) {\n        return _this2.languages.find(function (y) {\n          return y.key === x.key;\n        });\n      }) || activeLanguages && this.languages.length === activeLanguages.length && this.languages.every(function (x) {\n        return activeLanguages.indexOf(x.key.toUpperCase()) !== -1;\n      }))) {\n        this.updateActiveLanguage(activeLanguages);\n      }\n\n      if (theme !== undefined) {\n        this.setTheme(theme);\n      }\n\n      if (position !== undefined) {\n        this.setPosition(position);\n      }\n\n      if (countdown !== undefined) {\n        this.showCountdown(countdown);\n      }\n\n      if (language !== undefined) {\n        this.setLanguage(language);\n      }\n\n      if (historical !== undefined) {\n        this.setHistorical(historical);\n      }\n\n      if (isAutoScale !== undefined) {\n        this.setAutoScale(isAutoScale);\n      }\n\n      if (isHighestLowestMarkerEnabled !== undefined) {\n        this.toggleHighestLowestMarker(isHighestLowestMarkerEnabled);\n      }\n    }\n  }, {\n    key: \"saveSetting\",\n    value: function saveSetting() {\n      if (this.onSettingsChange) {\n        this.onSettingsChange({\n          countdown: this.countdown,\n          historical: this.historical,\n          language: this.language.key,\n          position: this.position,\n          isAutoScale: this.isAutoScale,\n          isHighestLowestMarkerEnabled: this.isHighestLowestMarkerEnabled,\n          theme: this.theme\n        });\n      }\n    }\n  }, {\n    key: \"updateActiveLanguage\",\n    value: function updateActiveLanguage(activeLanguages) {\n      var _this3 = this;\n\n      if (activeLanguages) {\n        this.languages = activeLanguages.map(function (lngKey) {\n          return _Constant_js__WEBPACK_IMPORTED_MODULE_4__[\"Languages\"].find(function (lng) {\n            return lng.key.toUpperCase() === lngKey;\n          }) || null;\n        }).filter(function (x) {\n          return x;\n        });\n      } else this.languages = _Constant_js__WEBPACK_IMPORTED_MODULE_4__[\"Languages\"]; // set default language as the first item of active languages or Eng\n\n\n      this.defaultLanguage = this.languages[0];\n\n      if (this.language && !this.languages.find(function (x) {\n        return x.key === _this3.language.key;\n      }) || !this.language) {\n        this.setLanguage(this.languages[0].key);\n      }\n    }\n  }, {\n    key: \"setLanguage\",\n    value: function setLanguage(lng) {\n      if (!this.languages.length) {\n        return;\n      }\n\n      if (this.language && lng === this.language.key) {\n        return;\n      }\n\n      this.language = this.languages.find(function (item) {\n        return item.key === lng;\n      }) || this.defaultLanguage;\n      t.setLanguage(this.language.key);\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogActions\"].ChartSetting, \"Change language to \".concat(this.language.key));\n      this.saveSetting();\n    }\n  }, {\n    key: \"setTheme\",\n    value: function setTheme(theme) {\n      if (this.theme === theme) {\n        return;\n      }\n\n      this.theme = theme;\n\n      if (this.context) {\n        this.mainStore.state.setChartTheme(theme);\n        this.mainStore.crosshair.setFloatPriceLabelStyle(theme);\n      }\n\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogActions\"].ChartSetting, \"Change theme to \".concat(theme));\n      this.saveSetting();\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(value) {\n      var _this4 = this;\n\n      if (this.position === value) {\n        return;\n      }\n\n      this.position = value;\n\n      if (this.context) {\n        this.stx.clearStyles();\n      }\n\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogActions\"].ChartSetting, 'Change Position');\n      this.saveSetting();\n      /**\n       * Chart should fix its height & width after the position changed,\n       * for that purpose we stay some 10 ms so that position varaible update\n       * on chart context then ask chart to update itself hight & width\n       */\n\n      setTimeout(function () {\n        _this4.mainStore.chart.resizeScreen();\n      }, 10);\n      this.menu.setOpen(false);\n    }\n  }, {\n    key: \"showCountdown\",\n    value: function showCountdown(value) {\n      if (this.countdown === value) {\n        return;\n      }\n\n      this.countdown = value;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogActions\"].ChartSetting, \"\".concat(value ? 'Show' : 'Hide', \" Countdown\"));\n      this.saveSetting();\n    }\n  }, {\n    key: \"setHistorical\",\n    value: function setHistorical(value) {\n      var _this5 = this;\n\n      if (this.historical === value) {\n        return;\n      }\n\n      this.historical = value;\n      this.isHighestLowestMarkerEnabled = !value;\n      this.saveSetting();\n      /**\n       * Chart should fix its height & width after the position changed,\n       * for that purpose we stay some 10 ms so that position varaible update\n       * on chart context then ask chart to update itself hight & width\n       */\n\n      setTimeout(function () {\n        _this5.mainStore.chart.resizeScreen();\n      }, 10);\n    }\n  }, {\n    key: \"setAutoScale\",\n    value: function setAutoScale(value) {\n      if (this.isAutoScale === value) {\n        return;\n      }\n\n      this.isAutoScale = value;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogActions\"].ChartSetting, \" Change AutoScale to \".concat(value));\n      this.saveSetting();\n    }\n  }, {\n    key: \"toggleHighestLowestMarker\",\n    value: function toggleHighestLowestMarker(value) {\n      if (this.isHighestLowestMarkerEnabled === value) {\n        return;\n      }\n\n      this.isHighestLowestMarkerEnabled = value;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogActions\"].ChartSetting, \" \".concat(value ? 'Show' : 'Hide', \" HighestLowestMarker.\"));\n      this.saveSetting();\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }]);\n\n  return ChartSettingStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"language\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"position\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'bottom';\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"theme\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'light';\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"countdown\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"historical\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"isAutoScale\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"isHighestLowestMarkerEnabled\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"updateActiveLanguage\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"updateActiveLanguage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setLanguage\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"setLanguage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setTheme\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"setTheme\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setPosition\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"setPosition\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"showCountdown\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"showCountdown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setHistorical\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"setHistorical\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setAutoScale\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"setAutoScale\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleHighestLowestMarker\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleHighestLowestMarker\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/ChartSizeStore.js\":\n/*!*************************************!*\\\n  !*** ./src/store/ChartSizeStore.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChartSizeStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _class, _descriptor, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\nvar ChartSizeStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function ChartSizeStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartSizeStore);\n\n    _initializerDefineProperty(this, \"stx\", _descriptor, this);\n\n    this.onContextReady = function () {\n      _this.stx = _this.mainStore.chart.context.stx;\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.mainStore.chart.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(ChartSizeStore, [{\n    key: \"updateChartState\",\n    value: function updateChartState() {\n      this.stx.chart.lockScroll = false;\n      this.stx.chart.lockAutoScroll = false;\n      this.mainStore.chart.updateScaledOneOne(false);\n    }\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn() {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"LogActions\"].ChartSize, 'zoom In');\n\n      if (this.stx && this.state.enableZoom) {\n        if (this.stx.minimumZoomTicks > this.stx.chart.maxTicks) {\n          return;\n        }\n\n        this.updateChartState();\n        this.stx.zoomIn();\n      }\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut() {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"LogActions\"].ChartSize, 'zoom Out');\n\n      if (this.stx && this.state.enableZoom) {\n        this.updateChartState();\n        this.stx.zoomOut();\n      }\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this.mainStore.state;\n    }\n  }]);\n\n  return ChartSizeStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"stx\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"updateChartState\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"updateChartState\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"zoomIn\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"zoomIn\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"zoomOut\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"zoomOut\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/ChartState.js\":\n/*!*********************************!*\\\n  !*** ./src/store/ChartState.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/_themes.scss */ \"./sass/_themes.scss\");\n/* harmony import */ var _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Constant__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Constant */ \"./src/Constant.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23, _descriptor24, _descriptor25, _descriptor26, _descriptor27, _descriptor28, _descriptor29, _temp;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n/* eslint-disable no-new */\n\n\n\n\nvar ChartState = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec11 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  _createClass(ChartState, [{\n    key: \"stxx\",\n    get: function get() {\n      return this.chartStore.stxx;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.chartStore.context;\n    }\n  }, {\n    key: \"chartTypeStore\",\n    get: function get() {\n      return this.mainStore.chartType;\n    }\n  }, {\n    key: \"timeperiodStore\",\n    get: function get() {\n      return this.mainStore.timeperiod;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this.mainStore.loader;\n    }\n  }, {\n    key: \"drawTools\",\n    get: function get() {\n      return this.mainStore.drawTools;\n    }\n  }, {\n    key: \"indicatorRatio\",\n    get: function get() {\n      return this.mainStore.chart;\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.chartStore.rootElement;\n    }\n  }]);\n\n  function ChartState(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartState);\n\n    _initializerDefineProperty(this, \"granularity\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"chartType\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"startEpoch\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"endEpoch\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"symbol\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"isConnectionOpened\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"isChartReady\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"chartStatusListener\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"stateChangeListener\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"settings\", _descriptor10, this);\n\n    _initializerDefineProperty(this, \"showLastDigitStats\", _descriptor11, this);\n\n    _initializerDefineProperty(this, \"scrollToEpoch\", _descriptor12, this);\n\n    _initializerDefineProperty(this, \"onExportLayout\", _descriptor13, this);\n\n    _initializerDefineProperty(this, \"clearChart\", _descriptor14, this);\n\n    _initializerDefineProperty(this, \"isChartClosed\", _descriptor15, this);\n\n    _initializerDefineProperty(this, \"shouldMinimiseLastDigits\", _descriptor16, this);\n\n    _initializerDefineProperty(this, \"isStaticChart\", _descriptor17, this);\n\n    _initializerDefineProperty(this, \"shouldFetchTradingTimes\", _descriptor18, this);\n\n    _initializerDefineProperty(this, \"refreshActiveSymbols\", _descriptor19, this);\n\n    _initializerDefineProperty(this, \"hasReachedEndOfData\", _descriptor20, this);\n\n    _initializerDefineProperty(this, \"prevChartType\", _descriptor21, this);\n\n    _initializerDefineProperty(this, \"isChartScrollingToEpoch\", _descriptor22, this);\n\n    _initializerDefineProperty(this, \"crosshairState\", _descriptor23, this);\n\n    _initializerDefineProperty(this, \"crosshairTooltipLeftAllow\", _descriptor24, this);\n\n    _initializerDefineProperty(this, \"maxTick\", _descriptor25, this);\n\n    _initializerDefineProperty(this, \"enableScroll\", _descriptor26, this);\n\n    _initializerDefineProperty(this, \"enableZoom\", _descriptor27, this);\n\n    _initializerDefineProperty(this, \"yAxisMargin\", _descriptor28, this);\n\n    this.chartControlsWidgets = void 0;\n    this.enabledChartFooter = void 0;\n\n    _initializerDefineProperty(this, \"onContextReady\", _descriptor29, this);\n\n    this.scrollChartToLeft = function (leftTick, force) {\n      var _this$stxx;\n\n      if (!((_this$stxx = _this.stxx) === null || _this$stxx === void 0 ? void 0 : _this$stxx.chart)) return;\n      var scrollToEpoch = _this.scrollToEpoch || leftTick && Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUTCEpoch\"])(leftTick.DT);\n      _this.stxx.chart.entryTick = null;\n\n      if (_this.scrollToEpoch && !_this.startEpoch && !force) {\n        var startEntry = _this.stxx.chart.dataSet.find(function (entry) {\n          return entry.DT.valueOf() === CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUTCDate\"])(scrollToEpoch)).valueOf();\n        });\n\n        if (startEntry) {\n          _this.stxx.chart.entryTick = _this.stxx.tickFromDate(startEntry.DT);\n        } else {\n          _this.stxx.chart.entryTick = _this.stxx.chart.dataSet.length - 1;\n        }\n\n        var scrollToTarget = _this.stxx.chart.dataSet.length - _this.stxx.chart.entryTick + 1;\n\n        if (_this.stxx.animations.liveScroll && _this.stxx.animations.liveScroll.running) {\n          _this.stxx.animations.liveScroll.stop();\n        }\n\n        _this.stxx.minimumLeftBars = 1;\n        _this.stxx.micropixels = 0;\n\n        _this.stxx.scrollTo(_this.stxx.chart, scrollToTarget, function () {\n          _this.stxx.setMaxTicks(5);\n\n          _this.stxx.micropixels = 0;\n\n          _this.setIsChartScrollingToEpoch(false);\n\n          _this.stxx.draw(); // This assignment should be always after draw()\n\n\n          _this.stxx.chart.lockScroll = true;\n        });\n      } else if (scrollToEpoch && _this.startEpoch || force) {\n        // scale 1:1 happen\n        _this.stxx.chart.lockScroll = true;\n        _this.stxx.chart.entryTick = _this.stxx.tickFromDate(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUTCDate\"])(_this.startEpoch || scrollToEpoch));\n\n        var _scrollToTarget = _this.stxx.chart.dataSet.length - _this.stxx.chart.entryTick;\n\n        if (!_this.endEpoch) {\n          _this.stxx.setMaxTicks(_scrollToTarget + 3);\n\n          _this.stxx.chart.scroll = _scrollToTarget + 1;\n        } else {\n          _this.stxx.setMaxTicks(Math.floor(_scrollToTarget * 3 / 2) || 2);\n\n          _this.stxx.chart.scroll = Math.floor(_scrollToTarget * 5 / 4) || 1;\n\n          _this.setDisableScroll();\n        }\n\n        _this.mainStore.chart.updateScaledOneOne(true);\n\n        _this.stxx.draw();\n\n        _this.setIsChartScrollingToEpoch(false);\n      } else {\n        _this.stxx.chart.entryTick = null;\n        _this.stxx.chart.lockScroll = false;\n\n        _this.stxx.home();\n\n        _this.stxx.draw();\n\n        _this.setIsChartScrollingToEpoch(false);\n      }\n\n      _this.mainStore.chart.feed.offMasterDataReinitialize(_this.scrollChartToLeft);\n\n      _this.mainStore.chart.feed.offMasterDataUpdate(_this.scrollChartToLeft);\n    };\n\n    this.mainStore = mainStore;\n    this.chartStore = mainStore.chart;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(ChartState, [{\n    key: \"updateProps\",\n    value: function updateProps(_ref) {\n      var _this2 = this;\n\n      var networkStatus = _ref.networkStatus,\n          chartControlsWidgets = _ref.chartControlsWidgets,\n          enabledChartFooter = _ref.enabledChartFooter,\n          chartStatusListener = _ref.chartStatusListener,\n          stateChangeListener = _ref.stateChangeListener,\n          chartType = _ref.chartType,\n          clearChart = _ref.clearChart,\n          endEpoch = _ref.endEpoch,\n          _ref$isAnimationEnabl = _ref.isAnimationEnabled,\n          isAnimationEnabled = _ref$isAnimationEnabl === void 0 ? true : _ref$isAnimationEnabl,\n          isConnectionOpened = _ref.isConnectionOpened,\n          isStaticChart = _ref.isStaticChart,\n          granularity = _ref.granularity,\n          _ref$margin = _ref.margin,\n          margin = _ref$margin === void 0 ? 0 : _ref$margin,\n          onExportLayout = _ref.onExportLayout,\n          refreshActiveSymbols = _ref.refreshActiveSymbols,\n          scrollToEpoch = _ref.scrollToEpoch,\n          settings = _ref.settings,\n          _ref$shouldFetchTradi = _ref.shouldFetchTradingTimes,\n          shouldFetchTradingTimes = _ref$shouldFetchTradi === void 0 ? true : _ref$shouldFetchTradi,\n          _ref$showLastDigitSta = _ref.showLastDigitStats,\n          showLastDigitStats = _ref$showLastDigitSta === void 0 ? false : _ref$showLastDigitSta,\n          startEpoch = _ref.startEpoch,\n          symbol = _ref.symbol,\n          crosshair = _ref.crosshair,\n          zoom = _ref.zoom,\n          maxTick = _ref.maxTick,\n          crosshairTooltipLeftAllow = _ref.crosshairTooltipLeftAllow,\n          yAxisMargin = _ref.yAxisMargin,\n          _ref$enableScroll = _ref.enableScroll,\n          enableScroll = _ref$enableScroll === void 0 ? null : _ref$enableScroll,\n          _ref$enableZoom = _ref.enableZoom,\n          enableZoom = _ref$enableZoom === void 0 ? null : _ref$enableZoom;\n      var isSymbolChanged = false;\n      var isGranularityChanged = false;\n      this.chartStatusListener = chartStatusListener;\n      this.stateChangeListener = stateChangeListener;\n      this.isAnimationEnabled = isAnimationEnabled;\n      this.isConnectionOpened = isConnectionOpened;\n      this.isStaticChart = isStaticChart;\n      this.margin = margin;\n      this.settings = settings;\n      this.shouldFetchTradingTimes = shouldFetchTradingTimes;\n      this.showLastDigitStats = showLastDigitStats;\n\n      if (networkStatus && (!this.mainStore.chart.networkStatus || networkStatus[\"class\"] !== this.mainStore.chart.networkStatus[\"class\"])) {\n        this.mainStore.chart.networkStatus = networkStatus;\n      }\n\n      if (chartControlsWidgets !== this.chartControlsWidgets) {\n        this.chartControlsWidgets = chartControlsWidgets;\n        if (this.stxx) this.mainStore.chart.updateHeight();\n      }\n\n      if (enabledChartFooter !== this.enabledChartFooter) {\n        this.enabledChartFooter = enabledChartFooter;\n        if (this.stxx) this.mainStore.chart.updateHeight();\n      }\n\n      if (symbol !== this.symbol) {\n        this.symbol = symbol;\n        isSymbolChanged = true;\n        this.mainStore.chartTitle.hidePrice();\n\n        if (this.mainStore.chart && this.mainStore.chart.feed && scrollToEpoch) {\n          this.mainStore.chart.feed.onMasterDataReinitialize(this.scrollChartToLeft);\n        }\n      }\n\n      if (onExportLayout !== this.onExportLayout) {\n        this.onExportLayout = onExportLayout;\n        this.exportLayout();\n      }\n\n      if (chartType !== this.chartType && this.context) {\n        if (chartType === 'table') this.prevChartType = this.chartTypeStore.type.id;\n        this.setChartType(chartType);\n      }\n\n      if (granularity !== undefined && granularity !== this.granularity) {\n        this.setChartGranularity(granularity);\n        isGranularityChanged = true;\n\n        if (this.mainStore.chart && this.mainStore.chart.feed && !isSymbolChanged && scrollToEpoch) {\n          this.mainStore.chart.feed.onMasterDataReinitialize(this.scrollChartToLeft);\n        }\n      }\n\n      if (this.chartStore.activeSymbols && refreshActiveSymbols !== this.refreshActiveSymbols) {\n        this.refreshActiveSymbols = refreshActiveSymbols;\n\n        if (this.refreshActiveSymbols) {\n          this.chartStore.activeSymbols.retrieveActiveSymbols(this.refreshActiveSymbols);\n        }\n      }\n\n      if (clearChart !== this.clearChart) {\n        this.clearChart = clearChart;\n        this.cleanChart();\n      } // This if statement should be always after setting `this.scrollToEpoch` value\n\n\n      if (this.startEpoch !== startEpoch || this.endEpoch !== endEpoch) {\n        this.startEpoch = startEpoch;\n        this.endEpoch = endEpoch;\n\n        if (isStaticChart && this.stxx && this.granularity === this.mainStore.chart.granularity) {\n          // Reload the chart if it is a static chart and the granularity hasn't changed\n          this.mainStore.chart.newChart();\n        } else if (this.mainStore.chart.feed) {\n          /* When layout is importing and range is changing as the same time we dont need to set the range,\n             the imported layout witll take care of it. */\n          if (!this.scrollToEpoch && !isSymbolChanged && !isGranularityChanged) {\n            this.mainStore.chart.feed.onRangeChanged(true);\n          }\n        }\n      } // Please always assign scrollToEpoch after startEpoch and keep this if statement exactly after above if clause\n\n\n      if (!isStaticChart && scrollToEpoch !== this.scrollToEpoch) {\n        this.scrollToEpoch = scrollToEpoch;\n\n        if (this.mainStore.chart && this.mainStore.chart.feed && !isSymbolChanged && !isGranularityChanged) {\n          this.setIsChartScrollingToEpoch(true);\n          this.scrollChartToLeft(); // This part will fire if we pass `scrollToEpoch` to chart\n          // just to ensure scale 1:1 work prefectly if we have endEpoch\n          // we call scrollChartToLeft() twice with some delay and notify\n          // the STATE change with a delay to ensure scrolling is completed\n\n          setTimeout(function () {\n            return _this2.scrollChartToLeft();\n          }, 400);\n          setTimeout(function () {\n            return _this2.stateChange(_Constant__WEBPACK_IMPORTED_MODULE_3__[\"STATE\"].SCROLL_TO_LEFT);\n          }, 900);\n        }\n      }\n\n      if (crosshair !== undefined && crosshair !== null && crosshair !== this.crosshairState) {\n        this.mainStore.crosshair.setCrosshairState(crosshair);\n        this.crosshairState = crosshair;\n      }\n\n      if (crosshairTooltipLeftAllow !== undefined && this.crosshairTooltipLeftAllow !== crosshairTooltipLeftAllow) {\n        this.crosshairTooltipLeftAllow = crosshairTooltipLeftAllow;\n      }\n\n      if (zoom) {\n        if (zoom === 1) {\n          this.mainStore.chartSize.zoomIn();\n        } else {\n          this.mainStore.chartSize.zoomOut();\n        }\n      }\n\n      this.mainStore.chartSetting.setSettings(this.settings);\n\n      if (maxTick && this.maxTick !== maxTick && this.stxx) {\n        this.maxTick = maxTick;\n        this.setMaxtTick();\n      }\n\n      if (yAxisMargin && _typeof(yAxisMargin) === 'object') {\n        this.yAxisMargin = _objectSpread(_objectSpread({}, this.yAxisMargin), yAxisMargin);\n      }\n\n      if (this.stxx && enableScroll !== null && this.enableScroll !== enableScroll) {\n        this.enableScroll = enableScroll;\n        this.stxx.allowScroll = enableScroll;\n      }\n\n      if (this.stxx && enableZoom !== null && this.enableZoom !== enableZoom) {\n        this.enableZoom = enableZoom;\n        this.stxx.allowZoom = enableZoom;\n      }\n\n      if (this.stxx) {\n        this.stxx.chart.panel.yAxis.drawCurrentPriceLabel = !this.endEpoch;\n        this.stxx.preferences.currentPriceLine = !this.endEpoch;\n        this.stxx.isAutoScale = this.settings && this.settings.isAutoScale !== false;\n        this.stxx.draw();\n      }\n    }\n  }, {\n    key: \"setMaxtTick\",\n    value: function setMaxtTick() {\n      if (this.stxx && this.maxTick) {\n        this.stxx.setMaxTicks(this.maxTick);\n        this.stxx.draw();\n      }\n    }\n  }, {\n    key: \"setIsChartScrollingToEpoch\",\n    value: function setIsChartScrollingToEpoch(isScrollingToEpoch) {\n      this.isChartScrollingToEpoch = isScrollingToEpoch;\n    }\n  }, {\n    key: \"hasReachedEndOfData\",\n    value: function hasReachedEndOfData(_hasReachedEndOfData) {\n      this.hasReachedEndOfData = _hasReachedEndOfData;\n    }\n  }, {\n    key: \"setChartClosed\",\n    value: function setChartClosed(isClosed) {\n      this.isChartClosed = isClosed;\n    }\n  }, {\n    key: \"setChartTheme\",\n    value: function setChartTheme(theme) {\n      var isChartClosed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.isChartClosed;\n      if (!this.stxx) return;\n      this.stxx.clearStyles();\n      this.stxx.setStyle('stx_grid', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_chart_grid\")]);\n      this.stxx.setStyle('stx_yaxis', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_chart_text\")]);\n      this.stxx.setStyle('stx_xaxis', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_chart_text\")]);\n      this.stxx.setStyle('stx_xaxis_dark', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_chart_text\")]);\n      this.rootElement.querySelector('.chartContainer').style.backgroundColor = _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_chart_bg\")]; // change chart colors to grey if the current market is closed and it is not a static chart\n\n      if (isChartClosed && !this.isStaticChart) {\n        this.stxx.setStyle('stx_mountain_chart', 'borderTopColor', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_chart_closed_mountain_border\")]); // Candle type\n\n        this.stxx.setStyle('stx_candle_up', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_closed_candle_up);\n        this.stxx.setStyle('stx_candle_shadow_up', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_closed_candle_border);\n        this.stxx.setStyle('stx_candle_down', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_closed_candle_down);\n        this.stxx.setStyle('stx_candle_shadow_down', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_closed_candle_border); // Hollow type\n\n        this.stxx.setStyle('stx_hollow_candle_up', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_closed_candle_up);\n        this.stxx.setStyle('stx_hollow_candle_down', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_closed_candle_down); // OHLC type\n\n        this.stxx.setStyle('stx_bar_up', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_closed_candle_up);\n        this.stxx.setStyle('stx_bar_down', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_closed_candle_down); // current price bg color\n\n        this.stxx.setStyle('stx_current_hr_down', 'background-color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_closed_current_hr);\n        this.stxx.setStyle('stx_current_hr_up', 'background-color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_closed_current_hr);\n      } else {\n        this.stxx.setStyle('stx_mountain_chart', 'borderTopColor', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_chart_mountain_border\")]);\n        this.stxx.setStyle('stx_mountain_chart', 'backgroundColor', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_chart_mountain_bg\")]);\n        this.stxx.setStyle('stx_mountain_chart', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_chart_mountain_bg_shade\")]); // current price bg color\n\n        this.stxx.setStyle('stx_current_hr_down', 'background-color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_current_hr);\n        this.stxx.setStyle('stx_current_hr_up', 'background-color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a.chart_current_hr);\n      }\n\n      this.stxx.draw();\n    }\n  }, {\n    key: \"stateChange\",\n    value: function stateChange(tag, option) {\n      if (this.stateChangeListener && typeof this.stateChangeListener === 'function') {\n        this.stateChangeListener(tag, option);\n      }\n    }\n  }, {\n    key: \"setChartIsReady\",\n    value: function setChartIsReady(isChartReady) {\n      if (this.isChartReady !== isChartReady) {\n        this.isChartReady = isChartReady;\n\n        if (isChartReady) {\n          this.stateChange(_Constant__WEBPACK_IMPORTED_MODULE_3__[\"STATE\"].READY);\n        }\n\n        if (this.chartStatusListener && typeof this.chartStatusListener === 'function') {\n          this.chartStatusListener(isChartReady);\n        }\n      }\n    }\n  }, {\n    key: \"setChartGranularity\",\n    value: function setChartGranularity(granularity) {\n      var isTimeUnitSecond = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"calculateTimeUnitInterval\"])(granularity).timeUnit === 'second';\n      var isChartTypeCandle = this.mainStore.chartType.isCandle || this.chartType && this.mainStore.chartType.isTypeCandle(this.chartType);\n\n      if (this.context && isTimeUnitSecond && isChartTypeCandle) {\n        this.setChartType('mountain'); // if granularity is zero, set the chartType to 'mountain'\n      }\n\n      this.granularity = granularity === null ? undefined : granularity;\n    }\n  }, {\n    key: \"setChartType\",\n    value: function setChartType(chartType) {\n      this.chartType = chartType;\n\n      if (this.chartTypeStore.onChartTypeChanged) {\n        this.chartTypeStore.onChartTypeChanged(chartType);\n      }\n    }\n  }, {\n    key: \"setShouldMinimiseLastDigit\",\n    value: function setShouldMinimiseLastDigit(status) {\n      this.shouldMinimiseLastDigits = status;\n    }\n  }, {\n    key: \"setEnableScroll\",\n    value: function setEnableScroll() {\n      if (!this.enableScroll || !this.stxx) {\n        return;\n      }\n\n      this.stxx.allowScroll = true;\n    }\n  }, {\n    key: \"setDisableScroll\",\n    value: function setDisableScroll() {\n      if (!this.stxx) {\n        return;\n      }\n\n      this.stxx.allowScroll = false;\n    }\n  }, {\n    key: \"saveLayout\",\n    value: function saveLayout() {\n      if (!this.chartStore.chartId || !this.stxx) return;\n      var layoutData = this.stxx.exportLayout(true);\n      var json = JSON.stringify(layoutData);\n      CIQ.localStorageSetItem(\"layout-\".concat(this.chartStore.chartId), json);\n    } // returns false if restoring layout fails\n\n  }, {\n    key: \"restoreLayout\",\n    value: function restoreLayout() {\n      var _this3 = this;\n\n      var layoutData = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"createObjectFromLocalStorage\"])(\"layout-\".concat(this.chartStore.chartId));\n      if (!layoutData || !layoutData.symbols.length) return false; // prop values will always take precedence\n\n      if (this.symbol !== undefined && this.symbol !== layoutData.symbols[0].symbol) {\n        // symbol prop takes precedence over local storage data\n        var symbolObject = this.chartStore.activeSymbols.getSymbolObj(this.symbol);\n        layoutData.symbols = [{\n          symbol: this.symbol,\n          symbolObject: symbolObject\n        }];\n      }\n\n      var _iterator = _createForOfIteratorHelper(layoutData.symbols),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var symbolDat = _step.value;\n          // Symbol from cache may be in different language, so replace it with server's\n          var cachedSymbol = symbolDat.symbol;\n          var updatedSymbol = this.chartStore.activeSymbols.getSymbolObj(cachedSymbol);\n          symbolDat.symbolObject = updatedSymbol;\n\n          if (symbolDat.parameters) {\n            symbolDat.parameters.display = updatedSymbol.name; // These gap settings are default when new comparisons are added,\n            // but for backward support we need to set them here.\n\n            symbolDat.parameters.fillGaps = true;\n            symbolDat.parameters.gapDisplayStyle = true;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (this.granularity !== undefined) {\n        var periodicity = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"calculateTimeUnitInterval\"])(this.granularity);\n        layoutData = _objectSpread(_objectSpread({}, layoutData), periodicity);\n      } else {\n        // update this.granularity with chartLayout\n        var _layoutData = layoutData,\n            timeUnit = _layoutData.timeUnit,\n            interval = _layoutData.interval,\n            _periodicity = _layoutData.periodicity;\n        var period = timeUnit ? interval : _periodicity;\n        this.chartStore.granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"calculateGranularity\"])(period, timeUnit || interval);\n      }\n\n      if (this.startEpoch || this.endEpoch) {\n        // already set in chart params\n        delete layoutData.span;\n        delete layoutData.range;\n      }\n\n      if (this.chartType !== undefined) {\n        layoutData.chartType = this.chartType;\n      } // Update Indictor panel height\n\n\n      var indicatorCount = Object.keys(layoutData.panels).filter(function (item) {\n        return item !== 'chart';\n      }).length;\n      var indiactorHeightPercent = this.indicatorRatio.indicatorHeightRatio(indicatorCount).percent;\n      Object.keys(layoutData.panels).forEach(function (id) {\n        if (id === 'chart') {\n          return;\n        }\n\n        var panel = layoutData.panels[id];\n        panel.percent = indiactorHeightPercent;\n      });\n      this.stxx.importLayout(layoutData, {\n        managePeriodicity: true,\n        cb: function cb() {\n          if (!_this3.context) return;\n\n          if (layoutData.tension) {\n            _this3.stxx.chart.tension = layoutData.tension;\n          }\n\n          _this3.restoreDrawings();\n\n          if (_this3.chartStore.loader) {\n            _this3.chartStore.loader.hide();\n\n            _this3.mainStore.paginationLoader.updateOnPagination(false);\n\n            _this3.setChartIsReady(true);\n\n            _this3.stxx.home();\n          }\n\n          _this3.chartStore.setMainSeriesDisplay(_this3.stxx.chart.symbolObject.name);\n        }\n      });\n      this.chartStore.updateCurrentActiveSymbol();\n      return true;\n    }\n  }, {\n    key: \"saveDrawings\",\n    value: function saveDrawings() {\n      if (!this.chartStore.chartId) return;\n      var obj = this.stxx.exportDrawings();\n      var symbol = this.stxx.chart.symbol;\n\n      if (obj.length === 0) {\n        CIQ.localStorage.removeItem(\"\".concat(symbol, \"-\").concat(this.chartStore.chartId));\n      } else {\n        CIQ.localStorageSetItem(\"\".concat(symbol, \"-\").concat(this.chartStore.chartId), JSON.stringify(obj));\n      }\n    }\n  }, {\n    key: \"restoreDrawings\",\n    value: function restoreDrawings() {\n      if (this.stxx && this.stxx.chart) {\n        var drawings = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"createObjectFromLocalStorage\"])(\"\".concat(this.stxx.chart.symbol, \"-\").concat(this.chartStore.chartId));\n\n        if (drawings) {\n          this.stxx.importDrawings(drawings);\n          this.stxx.draw();\n\n          if (this.drawTools) {\n            this.drawTools.computeActiveDrawTools();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"cleanChart\",\n    value: function cleanChart() {\n      if (!this.clearChart || !this.isChartReady) return; // Remove comparsions\n\n      for (var field in this.stxx.chart.series) {\n        this.stxx.removeSeries(field);\n      } // Remove indiactors\n\n\n      for (var id in this.stxx.layout.studies) {\n        var sd = this.stxx.layout.studies[id];\n        CIQ.Studies.removeStudy(this.stxx, sd);\n      }\n\n      this.stxx.clearDrawings(); // TODO: use constant\n\n      this.mainStore.crosshair.onChange(2);\n    }\n  }, {\n    key: \"exportLayout\",\n    value: function exportLayout() {\n      if (!this.onExportLayout || !this.stxx) return;\n      var currentLayout = this.stxx.exportLayout();\n      currentLayout.drawings = this.stxx.exportDrawings();\n      currentLayout.series = [];\n\n      for (var field in this.stxx.chart.series) {\n        currentLayout.series.push(field);\n      }\n\n      currentLayout.previousMaxTicks = this.stxx.chart.maxTicks;\n      this.onExportLayout(currentLayout);\n    }\n  }, {\n    key: \"scrollListener\",\n    value: function scrollListener(_ref2) {\n      var grab = _ref2.grab;\n\n      if (grab && this.stxx.chart.lockScroll) {\n        this.stxx.chart.lockScroll = false;\n      }\n    }\n  }]);\n\n  return ChartState;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"granularity\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chartType\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"startEpoch\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"endEpoch\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"symbol\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"isConnectionOpened\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"isChartReady\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"chartStatusListener\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"stateChangeListener\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"settings\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"showLastDigitStats\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"scrollToEpoch\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"onExportLayout\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"clearChart\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"isChartClosed\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"shouldMinimiseLastDigits\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"isStaticChart\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor18 = _applyDecoratedDescriptor(_class.prototype, \"shouldFetchTradingTimes\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor19 = _applyDecoratedDescriptor(_class.prototype, \"refreshActiveSymbols\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor20 = _applyDecoratedDescriptor(_class.prototype, \"hasReachedEndOfData\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor21 = _applyDecoratedDescriptor(_class.prototype, \"prevChartType\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor22 = _applyDecoratedDescriptor(_class.prototype, \"isChartScrollingToEpoch\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor23 = _applyDecoratedDescriptor(_class.prototype, \"crosshairState\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 1;\n  }\n}), _descriptor24 = _applyDecoratedDescriptor(_class.prototype, \"crosshairTooltipLeftAllow\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor25 = _applyDecoratedDescriptor(_class.prototype, \"maxTick\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor26 = _applyDecoratedDescriptor(_class.prototype, \"enableScroll\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor27 = _applyDecoratedDescriptor(_class.prototype, \"enableZoom\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor28 = _applyDecoratedDescriptor(_class.prototype, \"yAxisMargin\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {\n      top: 106,\n      bottom: 64\n    };\n  }\n}), _descriptor29 = _applyDecoratedDescriptor(_class.prototype, \"onContextReady\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this4 = this;\n\n    return function () {\n      _this4.stxx.addEventListener('layout', _this4.saveLayout.bind(_this4));\n\n      _this4.stxx.addEventListener('symbolChange', _this4.saveLayout.bind(_this4));\n\n      _this4.stxx.addEventListener('drawing', _this4.saveDrawings.bind(_this4));\n\n      _this4.stxx.addEventListener('move', _this4.scrollListener.bind(_this4));\n\n      _this4.stxx.append('zoomOut', _this4.setEnableScroll.bind(_this4));\n\n      _this4.stxx.append('zoomIn', _this4.setEnableScroll.bind(_this4));\n\n      _this4.granularity = _this4.chartStore.granularity;\n      _this4.stxx.maxMasterDataSize = _this4.chartStore.getMaxMasterDataSize(_this4.granularity);\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setMaxtTick\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"setMaxtTick\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setIsChartScrollingToEpoch\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"setIsChartScrollingToEpoch\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"hasReachedEndOfData\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"hasReachedEndOfData\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartClosed\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartClosed\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"stateChange\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"stateChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartIsReady\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartIsReady\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartGranularity\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartGranularity\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartType\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartType\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setShouldMinimiseLastDigit\", [_dec11], Object.getOwnPropertyDescriptor(_class.prototype, \"setShouldMinimiseLastDigit\"), _class.prototype)), _class));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChartState);\n\n/***/ }),\n\n/***/ \"./src/store/ChartStore.js\":\n/*!*********************************!*\\\n  !*** ./src/store/ChartStore.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _binaryapi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../binaryapi */ \"./src/binaryapi/index.js\");\n/* harmony import */ var _chartiq_injections__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chartiq_injections */ \"./src/chartiq_injections/index.js\");\n/* harmony import */ var _components_ui_Context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ui/Context */ \"./src/components/ui/Context.js\");\n/* harmony import */ var _components_ui_KeystrokeHub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ui/KeystrokeHub */ \"./src/components/ui/KeystrokeHub.js\");\n/* harmony import */ var _components_ui_Animation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/ui/Animation */ \"./src/components/ui/Animation.js\");\n/* harmony import */ var _feed__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../feed */ \"./src/feed/index.js\");\n/* harmony import */ var _SplinePlotter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../SplinePlotter */ \"./src/SplinePlotter.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\n/* harmony import */ var _sass_icons_chart_resize_icon_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../sass/icons/chart/resize-icon.svg */ \"./sass/icons/chart/resize-icon.svg\");\n/* harmony import */ var _sass_icons_chart_resize_icon_svg__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_resize_icon_svg__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../sass/icons/edit/ic-edit.svg */ \"./sass/icons/edit/ic-edit.svg\");\n/* harmony import */ var _sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../sass/icons/delete/ic-delete.svg */ \"./sass/icons/delete/ic-delete.svg\");\n/* harmony import */ var _sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _sass_icons_chart_ic_down_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../sass/icons/chart/ic-down.svg */ \"./sass/icons/chart/ic-down.svg\");\n/* harmony import */ var _sass_icons_chart_ic_down_svg__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_ic_down_svg__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _sass_icons_navigation_widgets_ic_home_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../sass/icons/navigation-widgets/ic-home.svg */ \"./sass/icons/navigation-widgets/ic-home.svg\");\n/* harmony import */ var _sass_icons_navigation_widgets_ic_home_svg__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_navigation_widgets_ic_home_svg__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _sass_icons_chart_ic_maximize_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../sass/icons/chart/ic-maximize.svg */ \"./sass/icons/chart/ic-maximize.svg\");\n/* harmony import */ var _sass_icons_chart_ic_maximize_svg__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_ic_maximize_svg__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _Constant__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Constant */ \"./src/Constant.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _class2, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // import '../utils/raf';\n\n\nvar ChartStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec11 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec12 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec13 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec14 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec15 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec16 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = _class2 = /*#__PURE__*/function () {\n  function ChartStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartStore);\n\n    this.feedCall = void 0;\n    this.RANGE_PADDING_PX = 125;\n    this.contextPromise = new _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\n    this.rootNode = null;\n    this.stxx = null;\n    this.api = null;\n    this.defaults = {\n      granularity: 0,\n      chartType: 'mountain'\n    };\n    this.granularity = void 0;\n    this.enableRouting = null;\n    this.chartNode = null;\n    this.chartControlsNode = null;\n    this.holderStyle = void 0;\n    this.state = void 0;\n    this.onMessage = null;\n    this.defaultMinimumBars = 5;\n    this._barriers = [];\n\n    _initializerDefineProperty(this, \"containerWidth\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"context\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"currentActiveSymbol\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"isChartAvailable\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"chartHeight\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"chartContainerHeight\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"isMobile\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"isScaledOneOne\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"cursorInChart\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"shouldRenderDialogs\", _descriptor10, this);\n\n    _initializerDefineProperty(this, \"yAxiswidth\", _descriptor11, this);\n\n    _initializerDefineProperty(this, \"serverTime\", _descriptor12, this);\n\n    _initializerDefineProperty(this, \"networkStatus\", _descriptor13, this);\n\n    _initializerDefineProperty(this, \"lastCountDownSecond\", _descriptor14, this);\n\n    _initializerDefineProperty(this, \"countDownLabel\", _descriptor15, this);\n\n    this.currentCloseQuote = function () {\n      if (!_this.stxx) {\n        return;\n      }\n\n      var currentQuote = _this.stxx.currentQuote();\n\n      if (currentQuote && !currentQuote.Close) {\n        var dataSegmentClose = _toConsumableArray(_this.stxx.chart.dataSegment).filter(function (item) {\n          return item && item.Close;\n        });\n\n        if (dataSegmentClose && dataSegmentClose.length) {\n          currentQuote = dataSegmentClose[dataSegmentClose.length - 1];\n        } else {\n          var dataSetClose = _toConsumableArray(_this.stxx.chart.dataSet).filter(function (item) {\n            return item && item.Close;\n          });\n\n          if (dataSetClose && dataSetClose.length) {\n            currentQuote = dataSetClose[dataSetClose.length - 1];\n          }\n        }\n      }\n\n      return currentQuote;\n    };\n\n    this.updateCanvas = function () {\n      if (!_this.stxx) {\n        return;\n      }\n\n      if (_this.stxx.slider) {\n        _this.stxx.slider.display(_this.stxx.layout.rangeSlider);\n      }\n\n      _this.stxx.resizeChart();\n    };\n\n    this.indicatorHeightRatio = function (num) {\n      var chartHeight = _this.chartNode.offsetHeight;\n      var isSmallScreen = chartHeight < 780;\n      var denominator = num >= 5 ? num : num + 1;\n      var reservedHeight = _this.isMobile ? 160 : 320;\n      var indicatorsHeight = Math.round((chartHeight - (reservedHeight + (isSmallScreen ? 20 : 0))) / denominator);\n      return {\n        height: indicatorsHeight,\n        percent: indicatorsHeight / chartHeight\n      };\n    };\n\n    this.init = function (rootNode, props) {\n      _this.loader.show();\n\n      _this.mainStore.state.setChartIsReady(false);\n\n      _this.loader.setState('chart-engine');\n\n      _this.chartId = props.id || 'base-chart';\n\n      if (window.CIQ) {\n        _this._initChart(rootNode, props);\n      } else {\n        __webpack_require__.e(/*! import() | chartiq */ \"chartiq\").then(__webpack_require__.bind(null, /*! chartiq */ \"./chartiq/development/index.js\")).then(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function (_ref) {\n          var CIQ = _ref.CIQ,\n              SplinePlotter = _ref.SplinePlotter;\n          CIQ.ChartEngine.htmlControls.baselineHandle = \"<div class=\\\"stx-baseline-handle\\\" style=\\\"display: none;\\\">\".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"renderSVGString\"])(_sass_icons_chart_resize_icon_svg__WEBPACK_IMPORTED_MODULE_11___default.a), \"</div>\");\n          CIQ.ChartEngine.htmlControls.iconsTemplate = \"<div class=\\\"stx-panel-control\\\"><div class=\\\"stx-panel-title\\\"></div><div class=\\\"stx-btn-panel stx-show\\\"><span class=\\\"stx-ico-up\\\">\".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"renderSVGString\"])(_sass_icons_chart_ic_down_svg__WEBPACK_IMPORTED_MODULE_14___default.a), \"</span></div><div class=\\\"stx-btn-panel stx-show\\\"><span class=\\\"stx-ico-down\\\">\").concat(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"renderSVGString\"])(_sass_icons_chart_ic_down_svg__WEBPACK_IMPORTED_MODULE_14___default.a), \"</span></div><div class=\\\"stx-btn-panel stx-show\\\"><span class=\\\"stx-ico-focus\\\">\").concat(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"renderSVGString\"])(_sass_icons_chart_ic_maximize_svg__WEBPACK_IMPORTED_MODULE_16___default.a), \"</span></div><div class=\\\"stx-btn-panel stx-show\\\"><span class=\\\"stx-ico-edit\\\">\").concat(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"renderSVGString\"])(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_12___default.a), \"</span></div><div class=\\\"stx-btn-panel stx-show\\\"><span class=\\\"stx-ico-close\\\">\").concat(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"renderSVGString\"])(_sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_13___default.a), \"</span></div></div>\");\n          CIQ.ChartEngine.htmlControls.mSticky = \"<div class=\\\"stx_sticky\\\"> <span class=\\\"mStickyInterior\\\"></span> <span class=\\\"mStickyRightClick\\\"><span class=\\\"overlayEdit stx-btn\\\" style=\\\"display:none\\\"><span class=\\\"ic-edit\\\">\".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"renderSVGString\"])(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_12___default.a), \"</span><span class=\\\"ic-delete\\\">\").concat(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"renderSVGString\"])(_sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_13___default.a), \"</span></span> <span class=\\\"overlayTrashCan stx-btn\\\" style=\\\"display:none\\\"><span class=\\\"ic-edit\\\">\").concat(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"renderSVGString\"])(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_12___default.a), \"</span><span class=\\\"ic-delete\\\">\").concat(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"renderSVGString\"])(_sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_13___default.a), \"</span></span> <span class=\\\"mouseDeleteInstructions\\\"><span class=\\\"mouseDeleteText\\\">Right click to delete</span><span class=\\\"mouseManageText\\\">Right click to manage</span></span></span></div>\");\n          CIQ.ChartEngine.htmlControls.home = \"<div class=\\\"stx_jump_today\\\" style=\\\"display:none\\\">\".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"renderSVGString\"])(_sass_icons_navigation_widgets_ic_home_svg__WEBPACK_IMPORTED_MODULE_15___default.a), \"</div>\");\n          window.CIQ = CIQ;\n          SplinePlotter.plotSpline = _SplinePlotter__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\n\n          _this._initChart(rootNode, props);\n        }));\n      }\n    };\n\n    this.onMarketOpenClosedChange = function (changes) {\n      var symbolObjects = _this.stxx.getSymbols().map(function (item) {\n        return item.symbolObject;\n      });\n\n      var shouldRefreshChart = false;\n\n      var _iterator = _createForOfIteratorHelper(symbolObjects),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _step.value,\n              symbol = _step$value.symbol,\n              name = _step$value.name;\n\n          if (symbol in changes) {\n            if (changes[symbol]) {\n              shouldRefreshChart = true;\n\n              _this.chartClosedOpenThemeChange(false);\n\n              _this.mainStore.notifier.notifyMarketOpen(name);\n            } else {\n              _this.chartClosedOpenThemeChange(true);\n\n              _this.mainStore.notifier.notifyMarketClose(name);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (shouldRefreshChart) {\n        // refresh to stream opened market\n        _this.refreshChart();\n      }\n    };\n\n    _initializerDefineProperty(this, \"calculateYaxisWidth\", _descriptor16, this);\n\n    _initializerDefineProperty(this, \"updateYaxisWidth\", _descriptor17, this);\n\n    this.remainLabelY = function () {\n      var stx = _this.context.stx;\n      var topPos = 36;\n      var labelHeight = 24;\n      var bottomPos = 66;\n      var y = stx.chart.currentPriceLabelY + labelHeight;\n\n      if (stx.chart.currentPriceLabelY > stx.chart.panel.bottom - bottomPos) {\n        y = stx.chart.panel.bottom - bottomPos;\n        y = y < stx.chart.currentPriceLabelY - labelHeight ? y : stx.chart.currentPriceLabelY - labelHeight;\n      } else if (stx.chart.currentPriceLabelY < stx.chart.panel.top) {\n        y = topPos;\n      }\n\n      return y;\n    };\n\n    _initializerDefineProperty(this, \"setYaxisWidth\", _descriptor18, this);\n\n    this.mainStore = mainStore;\n  }\n\n  _createClass(ChartStore, [{\n    key: \"updateHeight\",\n    value: function updateHeight(position) {\n      var historicalMobile = this.mainStore.chartSetting.historical && this.isMobile;\n      var panelPosition = position || this.mainStore.chartSetting.position; // TODO use constant here for chartcontrol height\n\n      var offsetHeight = 0;\n\n      if (this.stateStore.enabledChartFooter) {\n        offsetHeight = 32;\n      } else if (panelPosition === 'bottom' && this.stateStore.chartControlsWidgets) {\n        offsetHeight = 40;\n      }\n\n      this.chartHeight = this.chartNode.offsetHeight;\n      this.chartContainerHeight = this.chartHeight - offsetHeight - (historicalMobile ? 45 : 0);\n    }\n  }, {\n    key: \"resizeScreen\",\n    value: function resizeScreen() {\n      if (!this.context) {\n        return;\n      }\n\n      if (this.rootNode.clientWidth >= 1280) {\n        this.containerWidth = 1280;\n      } else if (this.rootNode.clientWidth >= 900) {\n        this.containerWidth = 900;\n      } else {\n        this.containerWidth = 480;\n      }\n\n      this.updateHeight();\n      this.updateCanvas(); // Height updates are not immediate, so we must resize the canvas with\n      // a slight delay for it to pick up the correct chartContainer height.\n      // In mobile devices, a longer delay is given as DOM updates are slower.\n\n      setTimeout(this.updateCanvas, this.isMobile ? 500 : 100);\n    }\n  }, {\n    key: \"_initChart\",\n    value: function _initChart(rootNode, props) {\n      var _this2 = this;\n\n      var _self = this; // Add custom injections to the CIQ\n\n\n      Object(_chartiq_injections__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n        drawToolsStore: this.mainStore.drawTools\n      });\n      CIQ.extend(CIQ.Studies.studyLibrary.Detrended, {\n        calculateFN: function calculateFN(stx, sd) {\n          var quotes = sd.chart.scrubbed;\n\n          if (quotes.length < sd.days + 1) {\n            sd.error = true;\n            return;\n          }\n\n          var field = sd.inputs.Field;\n          if (!field || field === 'field') field = 'Close';\n          var offset = Math.floor(sd.days / 2 + 1);\n          CIQ.Studies.MA(sd.inputs['Moving Average Type'], sd.days, field, -offset, 'MA', stx, sd);\n          var days = Math.max(sd.days - offset - 1, sd.startFrom - offset);\n          if (days < 0) days = 0;\n\n          for (var i = days; i < quotes.length - offset; i++) {\n            var val = quotes[i][field];\n            if (val && _typeof(val) === 'object') val = val[sd.subField];\n            var maVal = quotes[i][\"MA \".concat(sd.name)];\n            if ((val || val === 0) && (maVal || maVal === 0)) quotes[i][\"Result \".concat(sd.name)] = val - maVal;\n          }\n        }\n      });\n      /**\n       * only home button click part modified to avoid calling\n       * newChart() on home function while historical enable\n       */\n\n      CIQ.ChartEngine.prototype.registerHTMLElements = function () {\n        var c = this.chart.container;\n\n        for (var control in CIQ.ChartEngine.htmlControls) {\n          if (typeof this.chart[control] === 'undefined' && typeof this.controls[control] === 'undefined') {\n            if (!this.allowZoom && control === 'chartControls') continue;\n            var el = this.container.querySelector(\".\".concat(control), c);\n\n            if (el) {\n              this.chart[control] = el;\n              this.controls[control] = el;\n            } else {\n              var rawHTML = CIQ.ChartEngine.htmlControls[control];\n              if (!rawHTML) continue;\n              var div = document.createElement('DIV');\n              div.innerHTML = rawHTML;\n              el = div.firstChild;\n              c.appendChild(el);\n              this.chart[control] = el;\n              this.controls[control] = el;\n              el.classList.add(control);\n            }\n          }\n        }\n\n        var chartControls = this.controls.chartControls,\n            home = this.controls.home;\n\n        if (chartControls) {\n          var zoomIn = this.container.querySelector('.stx-zoom-in', chartControls);\n          var zoomOut = this.container.querySelector('.stx-zoom-out', chartControls);\n          CIQ.safeClickTouch(zoomIn, function (self) {\n            return function (e) {\n              self.zoomIn(e);\n              e.stopPropagation();\n            };\n          }(this));\n          CIQ.safeClickTouch(zoomOut, function (self) {\n            return function (e) {\n              self.zoomOut(e);\n              e.stopPropagation();\n            };\n          }(this));\n\n          if (!CIQ.touchDevice) {\n            this.makeModal(zoomIn);\n            this.makeModal(zoomOut);\n          }\n        }\n\n        if (home) {\n          CIQ.safeClickTouch(home, function (self) {\n            return function (e) {\n              e.stopPropagation();\n              self.home({\n                animate: true\n              });\n            };\n          }(this));\n\n          if (!CIQ.touchDevice) {\n            this.makeModal(home);\n          }\n        }\n      };\n\n      CIQ.ChartEngine.prototype.home = function (params) {\n        this.swipe.amplitude = 0;\n        var layout = this.layout;\n\n        if (_typeof(params) !== 'object') {\n          // backward compatibility\n          params = {\n            maintainWhitespace: params\n          };\n        }\n\n        function resetPanelZooms(stx) {\n          for (var p in stx.panels) {\n            var yAxes = stx.panels[p].yaxisLHS.concat(stx.panels[p].yaxisRHS);\n\n            for (var a = 0; a < yAxes.length; a++) {\n              stx.calculateYAxisMargins(yAxes[a]);\n            }\n          }\n        }\n\n        function scrollToCallback(self, chart, exactScroll) {\n          return function () {\n            resetPanelZooms(self);\n            chart.scroll = exactScroll;\n            self.draw();\n          };\n        }\n\n        if (typeof params.maintainWhitespace === 'undefined') params.maintainWhitespace = true; // maintain the whitespace unless set to false\n\n        this.cancelTouchSingleClick = true;\n\n        if (!this.chart.dataSet || !this.chart.dataSet.length) {\n          // to clear out anything that may have been on the screen. Otherwise we still show stale data.\n          this.draw();\n          return;\n        }\n\n        this.micropixels = 0;\n        var barsDisplayedOnScreen = Math.floor(this.chart.width / layout.candleWidth);\n\n        for (var chartName in this.charts) {\n          var chart = this.charts[chartName];\n          if (params.chart && params.chart !== chart) continue;\n          var whitespace = 0;\n\n          if (params.maintainWhitespace && this.preferences.whitespace >= 0) {\n            whitespace = this.preferences.whitespace;\n          }\n\n          if (params.whitespace || params.whitespace === 0) whitespace = params.whitespace;\n          var leftMargin = this.getLabelOffsetInPixels(chart, layout.chartType);\n          if (leftMargin > whitespace) whitespace = leftMargin;\n          var exactScroll = Math.min(barsDisplayedOnScreen, chart.dataSet.length); // the scroll must be the number of bars you want to see.\n\n          if (this.chart.allowScrollPast) exactScroll = barsDisplayedOnScreen; // If whitespace allowed on left of screen\n\n          this.micropixels = this.chart.width - exactScroll * layout.candleWidth - whitespace;\n          this.preferences.whitespace = whitespace;\n\n          while (this.micropixels > layout.candleWidth) {\n            // If micropixels is larger than a candle then scroll back further\n            exactScroll++;\n            this.micropixels -= layout.candleWidth;\n          }\n\n          while (this.micropixels < 0) {\n            exactScroll--;\n            this.micropixels += layout.candleWidth;\n          }\n\n          this.micropixels -= layout.candleWidth;\n          exactScroll++;\n\n          if (!this.mainSeriesRenderer || !this.mainSeriesRenderer.standaloneBars) {\n            this.micropixels += layout.candleWidth / 2;\n          } // bar charts display at beginning of candle\n\n\n          if (this.isHistoricalMode() && _self.isMobile) {\n            exactScroll = parseInt(exactScroll * 0.8, 10); // eslint-disable-line\n          } else if (this.isHistoricalMode()) {\n            exactScroll = parseInt(exactScroll * 0.9, 10); // eslint-disable-line\n          }\n\n          if (params.animate) {\n            var self = this;\n            this.scrollTo(chart, exactScroll, scrollToCallback(self, chart, exactScroll));\n          } else {\n            chart.scroll = exactScroll;\n            resetPanelZooms(this);\n          }\n        }\n\n        this.draw();\n      };\n\n      CIQ.ChartEngine.prototype.isHistoricalMode = function () {\n        return !!_self.stateStore.endEpoch;\n      };\n\n      CIQ.ChartEngine.prototype.getNearestCloseQuote = function () {\n        return _self.currentCloseQuote();\n      };\n\n      this.rootNode = rootNode;\n      this.chartNode = this.rootNode.querySelector('.ciq-chart-area');\n      this.chartControlsNode = this.rootNode.querySelector('.cq-chart-controls');\n\n      CIQ.Plotter.prototype.getYAxisWidth = function () {\n        return _this2.yAxiswidth;\n      }; // monkey patching to handle radius and height for `current price label`\n\n\n      CIQ.ChartEngine.prototype.createYAxisLabel = function (panel, txt, y, backgroundColor, color, ctx, yAxis) {\n        if (panel.yAxis.drawPriceLabels === false || panel.yAxis.noDraw) return;\n        var yax = yAxis || panel.yAxis;\n        if (yax.noDraw || !yax.width) return;\n        var context = ctx || this.chart.context; // SmartChart Team: this prop modified\n\n        var margin = 9;\n        var height = 24;\n        var radius;\n\n        if (this.labelType === 'currentSpot') {\n          this.canvasFont('stx_current_hr_up', context);\n        } else {\n          this.canvasFont('stx_price_label', context);\n        }\n\n        var tickWidth = this.drawBorders ? 3 : 0; // pixel width of tick off edge of border\n\n        var textWidth = context.measureText(txt).width;\n        var width;\n\n        try {\n          if (textWidth + margin > yax.width) {\n            width = textWidth + tickWidth + margin * 2;\n          } else {\n            width = yax.width + margin;\n          }\n        } catch (e) {\n          width = yax.width;\n        } // Firefox doesn't like this in hidden iframe\n        // some y-axis label has style of `roundRectArrow` and some has `rect`, we reduce\n        // 14px which is about the `roundRectArrow` style arrow to make the label all fit\n\n\n        width -= 14;\n\n        if (this.chart.yAxis.width < width) {\n          this.chart.yAxis.width = width;\n          this.calculateYAxisPositions();\n        } else {\n          width = this.chart.yAxis.width;\n        }\n\n        var x = this.width - this.chart.yAxis.width;\n        var left = (width - textWidth) / 2;\n        if (yax.width < 0) x += yax.width - width;\n        var position = yax.position === null ? panel.chart.yAxis.position : yax.position;\n\n        if (position === 'left') {\n          width *= -1;\n          if (yax.width < 0) x -= yax.width + width;\n          radius = -3;\n          context.textAlign = 'right';\n        }\n\n        if (y + height / 2 > yax.bottom) y = yax.bottom - height / 2;\n        if (y - height / 2 < yax.top) y = yax.top + height / 2;\n\n        if (typeof CIQ[this.yaxisLabelStyle] === 'undefined') {\n          this.yaxisLabelStyle = 'roundRectArrow'; // in case of user error, set a default.\n        }\n\n        var yaxisLabelStyle = this.yaxisLabelStyle;\n        if (yax.yaxisLabelStyle) yaxisLabelStyle = yax.yaxisLabelStyle; // as crosshair and countdown style is `rect`, so due to previous rule we should\n        // increase there x position to fit the y-axis\n\n        x += 1;\n\n        if (this.labelType === 'currentSpot') {\n          x += 13;\n          left -= 8;\n          radius = 0;\n        } else if (this.labelType === 'crosshair') {\n          height = 30;\n        }\n\n        var params = {\n          ctx: context,\n          x: x,\n          y: y,\n          top: y - height / 2,\n          width: width,\n          height: height,\n          radius: radius,\n          backgroundColor: backgroundColor,\n          fill: true,\n          stroke: false,\n          margin: {\n            left: left,\n            top: 1\n          },\n          txt: txt,\n          color: color\n        };\n        CIQ[yaxisLabelStyle](params);\n      };\n\n      CIQ.ChartEngine.prototype.displaySticky = function (params) {\n        var m = this.controls.mSticky;\n        if (!m) return;\n        var mi = m.querySelector('.mStickyInterior');\n        if (!mi) return;\n        var overlayTrashCan = m.querySelector('.overlayTrashCan');\n        var overlayEdit = m.querySelector('.overlayEdit');\n        var mouseDeleteInstructions = m.querySelector('.mouseDeleteInstructions');\n        var longPressText = m.querySelector('.stickyLongPressText');\n        mouseDeleteInstructions.classList.remove('no_edit'); // backwards compatibility:\n\n        if (!params || _typeof(params) !== 'object') {\n          params = {\n            message: arguments[0],\n            // eslint-disable-line prefer-rest-params\n            backgroundColor: arguments[1],\n            // eslint-disable-line prefer-rest-params\n            forceShow: arguments[2],\n            // eslint-disable-line prefer-rest-params\n            noDelete: arguments[3],\n            // eslint-disable-line prefer-rest-params\n            type: arguments[4] // eslint-disable-line prefer-rest-params\n\n          };\n        }\n\n        var message = params.message,\n            backgroundColor = params.backgroundColor;\n        var type = params.type,\n            noEdit = params.noEdit,\n            forceShow = params.forceShow,\n            noDelete = params.noDelete;\n\n        if (!forceShow && !message) {\n          mi.innerHTML = '';\n          m.style.display = 'none';\n          if (overlayTrashCan) overlayTrashCan.style.display = 'none';\n          if (overlayEdit) overlayEdit.style.display = 'none';\n          if (mouseDeleteInstructions) mouseDeleteInstructions.style.display = 'none';\n          if (longPressText) longPressText.style.display = 'none';\n        } else {\n          if (!message) message = '';\n          if (backgroundColor === 'auto') backgroundColor = this.defaultColor;\n\n          if (forceShow && !message) {\n            mi.style.backgroundColor = '';\n            mi.style.color = '';\n            mi.style.display = 'none';\n          } else if (backgroundColor) {\n            mi.style.backgroundColor = backgroundColor;\n            mi.style.color = CIQ.chooseForegroundColor(backgroundColor);\n            mi.style.display = 'inline-block';\n          } else {\n            mi.style.backgroundColor = '';\n            mi.style.color = '';\n            mi.style.display = 'inline-block';\n          } // This line ony changed\n\n\n          var nameObj = Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"prepareIndicatorName\"])(message);\n          mi.innerHTML = nameObj.bars ? \"\".concat(nameObj.name, \" (\").concat(nameObj.bars, \")\") : nameObj.name;\n          var rtClick = m.querySelector('.mStickyRightClick');\n          rtClick.className = 'mStickyRightClick'; // reset\n\n          if (type) rtClick.classList.add(\"rightclick_\".concat(type));\n          rtClick.style.display = '';\n          m.style.display = 'inline-block';\n\n          if (noDelete || this.bypassRightClick === true || this.bypassRightClick[type]) {\n            rtClick.style.display = 'none';\n          } else if (this.highlightViaTap || this.touches.length) {\n            if (overlayTrashCan) overlayTrashCan.style.display = 'inline-block';\n            if (overlayEdit && !noEdit) overlayEdit.style.display = 'inline-block';\n            if (mouseDeleteInstructions) mouseDeleteInstructions.style.display = 'none';\n            if (longPressText) longPressText.style.display = 'none';\n            CIQ[\"\".concat(message === '' ? '' : 'un', \"appendClassName\")](m, 'hide');\n          } else {\n            if (noEdit) mouseDeleteInstructions.classList.add('no_edit');\n            if (mouseDeleteInstructions) mouseDeleteInstructions.style.display = 'block';\n\n            if (longPressText) {\n              longPressText.style.display = 'none';\n              var drag = this.preferences.dragging;\n\n              if (drag && params.panel && !params.panel.noDrag) {\n                if ((drag === true || drag.study) && type === 'study') {\n                  longPressText.style.display = 'block';\n                } else if ((drag === true || drag.series) && type === 'series') {\n                  longPressText.style.display = 'block';\n                }\n              }\n            }\n          }\n\n          this.positionSticky(m);\n        }\n      }; // In some cases we faced some cases that color1 or color2 get undefined\n      // and this cause the application to crash, as a result, we we set below\n      // condition to slient that error\n\n\n      CIQ.colorsEqual = function (color1, color2) {\n        if (!color2 || !color1 || typeof color1 !== 'string' || typeof color2 !== 'string') {\n          return false;\n        } // Modified by SmartChart team\n\n\n        if (color1 === color2) return true;\n        if (!color1 && !color2) return true;\n        if (!color1 || !color2) return false;\n        if (color1 === 'transparent') color1 = 'rgba(0,0,0,0)';\n        if (color2 === 'transparent') color2 = 'rgba(0,0,0,0)';\n        var alpha = /^rgba\\(.*,(.+)\\)/;\n        var rgba1 = color1.match(alpha);\n        var rgba2 = color2.match(alpha);\n        rgba1 = rgba1 ? parseFloat(rgba1[1]) : 1;\n        rgba2 = rgba2 ? parseFloat(rgba2[1]) : 1;\n        if (rgba1 !== rgba2) return false;\n        var first = CIQ.colorToHex(color1);\n        var second = CIQ.colorToHex(color2);\n        return first.toLowerCase() === second.toLowerCase();\n      };\n\n      var symbol = props.symbol,\n          chartType = props.chartType,\n          granularity = props.granularity,\n          requestAPI = props.requestAPI,\n          requestSubscribe = props.requestSubscribe,\n          requestForget = props.requestForget,\n          requestForgetStream = props.requestForgetStream,\n          isMobile = props.isMobile,\n          enableRouting = props.enableRouting,\n          onMessage = props.onMessage,\n          settings = props.settings,\n          onSettingsChange = props.onSettingsChange,\n          getMarketsOrder = props.getMarketsOrder,\n          initialData = props.initialData,\n          feedCall = props.feedCall;\n      this.feedCall = feedCall || {};\n      this.api = new _binaryapi__WEBPACK_IMPORTED_MODULE_2__[\"BinaryAPI\"](requestAPI, requestSubscribe, requestForget, requestForgetStream); // trading times and active symbols can be reused across multiple charts\n\n      this.tradingTimes = ChartStore.tradingTimes || (ChartStore.tradingTimes = new _binaryapi__WEBPACK_IMPORTED_MODULE_2__[\"TradingTimes\"](this.api, {\n        enable: this.feedCall.tradingTimes,\n        shouldFetchTradingTimes: this.mainStore.state.shouldFetchTradingTimes,\n        initialData: initialData === null || initialData === void 0 ? void 0 : initialData.tradingTimes\n      }));\n      this.activeSymbols = ChartStore.activeSymbols || (ChartStore.activeSymbols = new _binaryapi__WEBPACK_IMPORTED_MODULE_2__[\"ActiveSymbols\"](this.api, this.tradingTimes, {\n        enable: this.feedCall.activeSymbols,\n        getMarketsOrder: getMarketsOrder,\n        initialData: initialData === null || initialData === void 0 ? void 0 : initialData.activeSymbols\n      }));\n      var chartSetting = this.mainStore.chartSetting;\n      chartSetting.setSettings(settings);\n      chartSetting.onSettingsChange = onSettingsChange;\n      this.isMobile = isMobile;\n      this.state = this.mainStore.state;\n      this.mainStore.notifier.onMessage = onMessage;\n      this.granularity = granularity !== undefined ? granularity : this.defaults.granularity;\n      var engineParams = {\n        maxMasterDataSize: this.getMaxMasterDataSize(this.granularity),\n        // cap size so tick_history requests do not become too large\n        markerDelay: null,\n        // disable 25ms delay for placement of markers\n        container: this.rootNode.querySelector('.chartContainer'),\n        controls: {\n          chartControls: null\n        },\n        // hide the default zoom buttons\n        yaxisLabelStyle: 'roundRect',\n        preferences: {\n          currentPriceLine: true,\n          whitespace: isMobile ? 50 : 150\n        },\n        chart: {\n          yAxis: {\n            // Put some top margin so chart doesn't get blocked by chart title\n            initialMarginTop: this.stateStore.yAxisMargin.top,\n            initialMarginBottom: this.stateStore.yAxisMargin.bottom,\n            // position: 'left',\n            displayBorder: true,\n            justifyRight: false\n          },\n          xAxis: {\n            displayBorder: true\n          },\n          gaplines: true,\n          dynamicYAxis: true\n        },\n        minimumLeftBars: this.defaultMinimumBars,\n        yTolerance: 999999 // disable vertical scrolling\n\n      };\n      var chartLayout = {\n        chartType: chartType || this.defaults.chartType\n      };\n\n      if (chartLayout.chartType === 'spline') {\n        // cause there's no such thing as spline chart in ChartIQ\n        chartLayout.chartType = 'mountain';\n        engineParams.chart.tension = chartLayout.tension = 0.5;\n      }\n\n      var rangeSpan = this.getRangeSpan();\n\n      if (rangeSpan) {\n        chartLayout = _objectSpread(_objectSpread({}, chartLayout), rangeSpan);\n      }\n\n      engineParams.layout = chartLayout;\n      var stxx = this.stxx = new CIQ.ChartEngine(engineParams); // TODO this part of the code prevent the chart to go to home after refreshing the page when the chart was zoomed in before.\n      // let defaultMinimumBars = this.defaultMinimumBars;\n      // if (stxx.chart.maxTicks - 10 > 50) {\n      //     defaultMinimumBars = 50;\n      // }\n      // stxx.minimumLeftBars = Math.min(stxx.chart.maxTicks, defaultMinimumBars);\n      // macos trackpad is so sensitive that it'll break our zoom animation.\n      // unfortunately there is no way to detect a trackpad from javascript,\n      // here we drop 'wheel' events shorter that 40ms\n      // TODO: email chartiq support to fix this.\n\n      var org_run = stxx.animations.zoom.run.bind(stxx.animations.zoom);\n      var wheelInMotion = false;\n\n      stxx.animations.zoom.run = function (fc, startValues, endValues) {\n        if (wheelInMotion) return;\n        wheelInMotion = true;\n        setTimeout(function () {\n          wheelInMotion = false;\n        }, 40);\n        return org_run(fc, startValues, endValues);\n      };\n      /**\n       * We got the error of `Cannot read property 't2' of undefined`\n       * that we coun't reproduce and after contacting ChartIQ support\n       * we still couldn't determind why this issue happen, as a result\n       * this peice of code is to makes that error slient.\n       */\n\n\n      stxx.prepend('touchmove', function () {\n        if (this.grabStartValues && this.grabStartValues.t2 && this.grabStartValues.t1) return false; // continue\n\n        return true; // exit\n      });\n      stxx.isAutoScale = settings && settings.isAutoScale !== false;\n      ChartStore.chartCount += 1;\n      var deleteElement = stxx.chart.panel.holder.parentElement.querySelector('.mouseDeleteText');\n      var manageElement = stxx.chart.panel.holder.parentElement.querySelector('.mouseManageText');\n      deleteElement.textContent = t.translate('Right click to delete');\n      manageElement.textContent = t.translate('Right click to manage');\n      if (this.state.isAnimationEnabled) Object(_components_ui_Animation__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(stxx, {\n        stayPut: true\n      }); // stxx.chart.lockScroll = true;\n      // connect chart to data\n\n      this.feed = new _feed__WEBPACK_IMPORTED_MODULE_7__[\"Feed\"](this.api, stxx, this.mainStore, this.tradingTimes);\n      stxx.attachQuoteFeed(this.feed, {\n        refreshInterval: null\n      });\n      this.enableRouting = enableRouting;\n\n      if (this.enableRouting) {\n        this.routingStore.handleRouting();\n      }\n\n      this.holderStyle = stxx.chart.panel.holder.style;\n      var context = new _components_ui_Context__WEBPACK_IMPORTED_MODULE_4__[\"default\"](stxx, this.rootNode); // only one instance of keystrokeHub should exist\n\n      if (ChartStore.keystrokeHub === undefined) {\n        ChartStore.keystrokeHub = new _components_ui_KeystrokeHub__WEBPACK_IMPORTED_MODULE_5__[\"default\"](document.body, null, {\n          cb: _components_ui_KeystrokeHub__WEBPACK_IMPORTED_MODULE_5__[\"default\"].defaultHotKeys\n        });\n      } // TODO: excluded studies\n\n\n      stxx.addEventListener('studyOverlayEdit', this.studiesStore.editStudy);\n      stxx.addEventListener('studyPanelEdit', this.studiesStore.editStudy);\n      this.stateStore.stateChange(_Constant__WEBPACK_IMPORTED_MODULE_17__[\"STATE\"].INITIAL);\n      this.loader.setState('market-symbol');\n      this.activeSymbols.retrieveActiveSymbols().then(function () {\n        _this2.loader.setState('trading-time');\n\n        _this2.tradingTimes.initialize().then(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function () {\n          // In the odd event that chart is destroyed by the time\n          // the request finishes, just calmly return...\n          if (stxx.isDestroyed) {\n            return;\n          }\n\n          var isRestoreSuccess = _this2.state.restoreLayout();\n\n          _this2.loadChartWithInitalData(symbol, initialData === null || initialData === void 0 ? void 0 : initialData.masterData);\n\n          if (!isRestoreSuccess) {\n            _this2.changeSymbol( // default to first available symbol\n            symbol || Object.keys(_this2.activeSymbols.symbolMap)[0], _this2.granularity);\n          }\n\n          _this2.context = context;\n\n          _this2.chartClosedOpenThemeChange(!_this2.currentActiveSymbol.exchange_is_open);\n\n          _this2.mainStore.chart.tradingTimes.onMarketOpenCloseChanged(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function (changes) {\n            for (var sy in changes) {\n              if (_this2.currentActiveSymbol.symbol === sy) {\n                _this2.chartClosedOpenThemeChange(!changes[sy]);\n              }\n            }\n          }));\n\n          stxx.container.addEventListener('mouseenter', _this2.onMouseEnter);\n          stxx.container.addEventListener('mouseleave', _this2.onMouseLeave);\n\n          _this2.contextPromise.resolve(_this2.context);\n\n          _this2.resizeScreen();\n\n          Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n            return [_this2.state.symbol, _this2.state.granularity];\n          }, function () {\n            if (_this2.state.symbol !== undefined || _this2.state.granularity !== undefined) {\n              _this2.changeSymbol(_this2.state.symbol, _this2.state.granularity);\n            }\n          });\n\n          _this2.tradingTimes.onMarketOpenCloseChanged(_this2.onMarketOpenClosedChange);\n\n          _this2.tradingTimes.onTimeChanged(_this2.onServerTimeChange);\n\n          setTimeout(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function () {\n            // Defer the render of the dialogs and dropdowns; this enables\n            // considerable performance improvements for slower devices.\n            _this2.shouldRenderDialogs = true;\n          }), 500);\n        }));\n      });\n\n      if ('ResizeObserver' in window) {\n        this.resizeObserver = new ResizeObserver(this.resizeScreen);\n        this.resizeObserver.observe(rootNode);\n      } else {\n        __webpack_require__.e(/*! import() | resize-observer-polyfill */ \"vendors~resize-observer-polyfill\").then(__webpack_require__.bind(null, /*! resize-observer-polyfill */ \"./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\")).then(function (_ref2) {\n          var ResizeObserver = _ref2[\"default\"];\n          window.ResizeObserver = ResizeObserver;\n\n          if (stxx.isDestroyed || !rootNode) {\n            return;\n          }\n\n          _this2.resizeObserver = new ResizeObserver(_this2.resizeScreen);\n\n          _this2.resizeObserver.observe(rootNode);\n        });\n      }\n    }\n  }, {\n    key: \"getMaxMasterDataSize\",\n    value: function getMaxMasterDataSize(granularity) {\n      var maxMasterDataSize = 5000; // When granularity is 1 day\n\n      if (granularity === 86400) maxMasterDataSize = Math.floor(2.8 * 365); // When granularity is 8 hours\n      else if (granularity === 28800) maxMasterDataSize = Math.floor(2.8 * 365 * 3);\n      return maxMasterDataSize;\n    }\n  }, {\n    key: \"chartClosedOpenThemeChange\",\n    value: function chartClosedOpenThemeChange(isChartClosed) {\n      this.mainStore.state.setChartClosed(isChartClosed);\n      this.mainStore.state.setChartTheme(this.mainStore.chartSetting.theme, isChartClosed);\n    }\n  }, {\n    key: \"onServerTimeChange\",\n    value: function onServerTimeChange() {\n      this.serverTime = moment__WEBPACK_IMPORTED_MODULE_1___default()(this.tradingTimes._serverTime.getEpoch() * 1000).format('DD MMM YYYY HH:mm:ss [GMT]');\n    }\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter() {\n      this.cursorInChart = true;\n      /*\n       * Disable key press events for chart until we can get it not to\n       * interfere with key presses outside the chart:\n       */\n      // ChartStore.keystrokeHub.setActiveContext(this.context);\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave() {\n      this.cursorInChart = false;\n      /*\n       * Disable key press events for chart until we can get it not to\n       * interfere with key presses outside the chart:\n       */\n      // ChartStore.keystrokeHub.setActiveContext(null);\n    }\n  }, {\n    key: \"updateCurrentActiveSymbol\",\n    value: function updateCurrentActiveSymbol() {\n      var symbolObject = this.stxx.chart.symbolObject;\n      this.currentActiveSymbol = symbolObject;\n      this.stxx.chart.yAxis.decimalPlaces = symbolObject.decimal_places;\n      this.setMainSeriesDisplay(symbolObject.name);\n    }\n  }, {\n    key: \"setChartAvailability\",\n    value: function setChartAvailability(status) {\n      this.isChartAvailable = status;\n    }\n  }, {\n    key: \"changeSymbol\",\n    value: function changeSymbol(symbolObj, granularity) {\n      if (!this.stxx) return;\n\n      if (typeof symbolObj === 'string') {\n        symbolObj = this.activeSymbols.getSymbolObj(symbolObj);\n      }\n\n      var isSymbolAvailable = symbolObj && this.currentActiveSymbol;\n\n      if (isSymbolAvailable && symbolObj.symbol === this.currentActiveSymbol.symbol && granularity !== undefined && granularity === this.granularity) {\n        return;\n      }\n\n      var params;\n\n      if (granularity !== undefined) {\n        this.granularity = granularity;\n        this.stxx.maxMasterDataSize = this.getMaxMasterDataSize(this.granularity);\n        params = {\n          periodicity: Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"calculateTimeUnitInterval\"])(granularity)\n        };\n      }\n\n      if (params === undefined && symbolObj) {\n        // Remove comparisons before symbol changes\n        for (var field in this.stxx.chart.series) {\n          this.stxx.removeSeries(field);\n        }\n      }\n\n      this.newChart(symbolObj, params);\n\n      if (symbolObj) {\n        this.updateCurrentActiveSymbol();\n      }\n    }\n  }, {\n    key: \"newChart\",\n    // Calling newChart with symbolObj as undefined refreshes the chart\n    value: function newChart() {\n      var _this3 = this;\n\n      var symbolObj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentActiveSymbol;\n      var params = arguments.length > 1 ? arguments[1] : undefined;\n      if (!symbolObj) return;\n      this.stxx.chart.symbolDisplay = symbolObj.name;\n      this.loader.show();\n      this.mainStore.state.setChartIsReady(false);\n\n      var onChartLoad = function onChartLoad(err) {\n        _this3.setMainSeriesDisplay(symbolObj.name);\n\n        _this3.loader.hide();\n\n        _this3.chartClosedOpenThemeChange(!symbolObj.exchange_is_open);\n\n        _this3.mainStore.paginationLoader.updateOnPagination(false);\n\n        _this3.mainStore.drawTools.computeActiveDrawTools();\n\n        _this3.mainStore.state.setChartIsReady(true);\n\n        if (err) {\n          /* TODO, symbol not found error */\n          return;\n        }\n\n        _this3.state.restoreDrawings();\n\n        if (_this3.mainStore.chart.feed) {\n          _this3.mainStore.chart.feed.scaleChart();\n        }\n      };\n\n      this.yAxiswidth = 0;\n      var rangeSpan = this.getRangeSpan();\n      var parameters = {\n        masterData: null,\n        chart: null\n      };\n      CIQ.extend(parameters, _objectSpread(_objectSpread({}, params), rangeSpan), true);\n      this.stxx.loadChart(symbolObj, parameters, onChartLoad);\n    }\n    /**\n     * load the chart with given data\n     *\n     * by this methos, beside of waiting for Feed@fetchInitialData to provide first data\n     * the chart are initiled by give masterData. Chart need a symbol to be able to get\n     * loaded, so if the passed symbol didn't fill, it try to get the symbol from `layout-*`\n     * storage\n     *\n     * @param {string} symbol the symbol used to load the chart\n     * @param {array} masterData array of ticks regards of desire tick\n     */\n\n  }, {\n    key: \"loadChartWithInitalData\",\n    value: function loadChartWithInitalData(symbol, masterData) {\n      var _this4 = this;\n\n      if (!masterData) return;\n      var layoutData = Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"createObjectFromLocalStorage\"])(\"layout-\".concat(this.chartId));\n      if (!layoutData || !layoutData.symbols.length) return;\n      var layout_symbol = layoutData.symbols[0].symbol;\n\n      if (!(symbol || layout_symbol)) {\n        console.error('symbol is not specificed, without it, chart is unable to be loaded!');\n        return;\n      }\n\n      this.stxx.loadChart(symbol || layout_symbol, {\n        masterData: masterData,\n        periodicity: {\n          period: layoutData.periodicity,\n          interval: layoutData.interval,\n          timeUnit: layoutData.timeUnit\n        }\n      }, function () {\n        _this4.loader.hide();\n      });\n    }\n  }, {\n    key: \"getRangeSpan\",\n    value: function getRangeSpan() {\n      var _this$state = this.state,\n          startEpoch = _this$state.startEpoch,\n          endEpoch = _this$state.endEpoch;\n      var range, span;\n      var paddingRatio = this.chartNode.clientWidth / this.RANGE_PADDING_PX;\n      var elapsedSeconds = (endEpoch || startEpoch) - (startEpoch || endEpoch);\n      var epochPadding = elapsedSeconds / paddingRatio | 0;\n\n      if (startEpoch || endEpoch) {\n        var dtLeft = startEpoch ? CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"getUTCDate\"])(startEpoch - epochPadding)) : undefined;\n        var dtRight = endEpoch ? CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"getUTCDate\"])(endEpoch + epochPadding)) : undefined;\n        var periodicity = Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"calculateTimeUnitInterval\"])(this.granularity);\n        range = {\n          dtLeft: dtLeft,\n          dtRight: dtRight,\n          periodicity: periodicity,\n          goIntoFuture: true,\n          goIntoPast: true\n        };\n\n        if (dtLeft) {\n          span = {\n            base: 'all',\n            periodicity: periodicity\n          };\n        }\n\n        return {\n          range: range,\n          span: span\n        };\n      }\n    }\n  }, {\n    key: \"setMainSeriesDisplay\",\n    value: function setMainSeriesDisplay(name) {\n      if (this.stxx && this.stxx.chart) {\n        // Set display name of main series (to be shown in crosshair tooltip)\n        this.stxx.chart.seriesRenderers._main_series.seriesParams[0].display = name; // TODO, we use to use `field` field to recgnize main seris and show\n        // it's crosshair, as in ChartIQ 6.2.2 they are going to remove this field\n        // we should find another way of detecting main series price, till then\n        // we found this temporary solution.\n\n        this.stxx.chart.seriesRenderers._main_series.seriesParams[0].field = 'Close';\n      }\n    }\n  }, {\n    key: \"updateScaledOneOne\",\n    value: function updateScaledOneOne(state) {\n      this.isScaledOneOne = state;\n    } // Makes requests to tick history API that will replace\n    // Existing chart tick/ohlc data\n\n  }, {\n    key: \"refreshChart\",\n    value: function refreshChart() {\n      this.newChart();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      ChartStore.chartCount -= 1;\n\n      if (this.resizeObserver) {\n        this.resizeObserver.disconnect();\n      }\n\n      if (this.tradingTimes && ChartStore.chartCount === 0) {\n        ChartStore.tradingTimes = null;\n        this.tradingTimes.destructor();\n      } // Destroying the chart does not unsubscribe the streams;\n      // we need to manually unsubscribe them.\n\n\n      if (this.feed) {\n        this.feed.unsubscribeAll();\n        this.feed = null;\n      }\n\n      if (ChartStore.keystrokeHub && ChartStore.keystrokeHub.context === this.context) {\n        ChartStore.keystrokeHub.setActiveContext(null);\n      }\n\n      if (this.stxx) {\n        this.stxx.container.removeEventListener('mouseenter', this.onMouseEnter);\n        this.stxx.container.removeEventListener('mouseleave', this.onMouseLeave);\n\n        this.stxx.updateChartData = function () {}; // prevent any data from entering the chart\n\n\n        this.stxx.isDestroyed = true;\n        this.stxx.destroy();\n        this.stxx = null;\n      }\n\n      this.currentActiveSymbol = null;\n      this.contextPromise = null;\n      this.context = null;\n    }\n  }, {\n    key: \"openFullscreen\",\n    value: function openFullscreen() {\n      var isInFullScreen = document.fullscreenElement && document.fullscreenElement !== null || document.webkitFullscreenElement && document.webkitFullscreenElement !== null || document.mozFullScreenElement && document.mozFullScreenElement !== null || document.msFullscreenElement && document.msFullscreenElement !== null;\n      var docElm = this.rootNode;\n\n      if (!isInFullScreen) {\n        if (docElm.requestFullscreen) {\n          docElm.requestFullscreen();\n        } else if (docElm.mozRequestFullScreen) {\n          docElm.mozRequestFullScreen();\n        } else if (docElm.webkitRequestFullScreen) {\n          docElm.webkitRequestFullScreen();\n        } else if (docElm.msRequestFullscreen) {\n          docElm.msRequestFullscreen();\n        }\n      } else if (document.exitFullscreen) {\n        document.exitFullscreen();\n      } else if (document.webkitExitFullscreen) {\n        document.webkitExitFullscreen();\n      } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n      } else if (document.msExitFullscreen) {\n        document.msExitFullscreen();\n      }\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this.mainStore.loader;\n    }\n  }, {\n    key: \"routingStore\",\n    get: function get() {\n      return this.mainStore.routing;\n    }\n  }, {\n    key: \"stateStore\",\n    get: function get() {\n      return this.mainStore.state;\n    }\n  }, {\n    key: \"studiesStore\",\n    get: function get() {\n      return this.mainStore.studies;\n    }\n  }, {\n    key: \"pip\",\n    get: function get() {\n      return this.currentActiveSymbol.decimal_places;\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return document.getElementById(this.chartId);\n    }\n  }, {\n    key: \"categorizedSymbols\",\n    get: function get() {\n      var _this5 = this;\n\n      if (!this.activeSymbols || this.activeSymbols.categorizedSymbols.length === 0) return [];\n      var activeSymbols = this.activeSymbols.activeSymbols;\n      return Object(_utils__WEBPACK_IMPORTED_MODULE_9__[\"cloneCategories\"])(activeSymbols, function (item) {\n        var selected = item.dataObject.symbol === _this5.currentActiveSymbol.symbol;\n        return _objectSpread(_objectSpread({}, item), {}, {\n          selected: selected\n        });\n      });\n    }\n  }]);\n\n  return ChartStore;\n}(), _class2.keystrokeHub = void 0, _class2.chartCount = 0, _class2.tradingTimes = void 0, _class2.activeSymbols = void 0, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"containerWidth\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"context\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"currentActiveSymbol\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"isChartAvailable\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"chartHeight\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"chartContainerHeight\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"isMobile\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"isScaledOneOne\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"cursorInChart\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"shouldRenderDialogs\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"yAxiswidth\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"serverTime\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"networkStatus\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"lastCountDownSecond\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"countDownLabel\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"pip\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"pip\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resizeScreen\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"resizeScreen\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_initChart\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"_initChart\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"categorizedSymbols\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"categorizedSymbols\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onServerTimeChange\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"onServerTimeChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMouseEnter\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseEnter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMouseLeave\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseLeave\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateCurrentActiveSymbol\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"updateCurrentActiveSymbol\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartAvailability\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartAvailability\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"changeSymbol\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"changeSymbol\"), _class.prototype), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"calculateYaxisWidth\", [_dec9], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this6 = this;\n\n    return function (price) {\n      if (!price) return;\n      var context = _this6.context.stx.chart.context;\n      var priceWidth = context.measureText(price.toFixed(_this6.pip)).width + 20;\n\n      if (priceWidth > _this6.yAxiswidth) {\n        _this6.yAxiswidth = priceWidth;\n        _this6.stxx.chart.yAxis.width = priceWidth;\n\n        _this6.stxx.calculateYAxisPositions();\n\n        _this6.stxx.draw();\n      }\n    };\n  }\n}), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"updateYaxisWidth\", [_dec10], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this7 = this;\n\n    return function () {\n      if (_this7.stxx && _this7.stxx.masterData && _this7.stxx.masterData.length) {\n        if (_this7.currentCloseQuote() && _this7.currentCloseQuote().Close) {\n          _this7.calculateYaxisWidth(_this7.currentCloseQuote().Close);\n        }\n      }\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"newChart\", [_dec11], Object.getOwnPropertyDescriptor(_class.prototype, \"newChart\"), _class.prototype), _descriptor18 = _applyDecoratedDescriptor(_class.prototype, \"setYaxisWidth\", [_dec12], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this8 = this;\n\n    return function (width) {\n      _this8.yAxiswidth = width || _this8.yAxiswidth;\n      _this8.stxx.chart.yAxis.width = width || _this8.yAxiswidth;\n\n      _this8.stxx.calculateYAxisPositions();\n\n      _this8.stxx.draw();\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"updateScaledOneOne\", [_dec13], Object.getOwnPropertyDescriptor(_class.prototype, \"updateScaledOneOne\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"refreshChart\", [_dec14], Object.getOwnPropertyDescriptor(_class.prototype, \"refreshChart\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"destroy\", [_dec15], Object.getOwnPropertyDescriptor(_class.prototype, \"destroy\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openFullscreen\", [_dec16], Object.getOwnPropertyDescriptor(_class.prototype, \"openFullscreen\"), _class.prototype)), _class));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChartStore);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/ChartTitleStore.js\":\n/*!**************************************!*\\\n  !*** ./src/store/ChartTitleStore.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChartTitleStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _AnimatedPriceStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AnimatedPriceStore */ \"./src/store/AnimatedPriceStore.js\");\n/* harmony import */ var _CategoricalDisplayStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CategoricalDisplayStore */ \"./src/store/CategoricalDisplayStore.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/categoricaldisplay */ \"./src/components/categoricaldisplay/index.js\");\n/* harmony import */ var _components_AnimatedPrice_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/AnimatedPrice.jsx */ \"./src/components/AnimatedPrice.jsx\");\n/* harmony import */ var _components_SymbolSelectButton_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/SymbolSelectButton.jsx */ \"./src/components/SymbolSelectButton.jsx\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _utils_ServerTime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/ServerTime */ \"./src/utils/ServerTime.js\");\nvar _dec, _dec2, _dec3, _dec4, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\n\n\n\n\n\n\nvar ChartTitleStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function ChartTitleStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartTitleStore);\n\n    _initializerDefineProperty(this, \"todayChange\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"todayChangePercent\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"isVisible\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"openMarket\", _descriptor4, this);\n\n    this.enableShowPrice = false;\n    this.searchInputClassName = void 0;\n\n    this.onContextReady = function () {\n      _this.chart.feed.onMasterDataUpdate(_this.update);\n\n      _this.update();\n\n      _this.tradingTimes.onMarketOpenCloseChanged(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function (changes) {\n        for (var symbol in changes) {\n          if (_this.currentSymbol.symbol === symbol) {\n            _this.currentSymbol.exchange_is_open = changes[symbol];\n          }\n        }\n      }));\n    };\n\n    this.onMouseEnter = function () {\n      return _this.crosshairStore.updateVisibility(false);\n    };\n\n    this.onMouseLeave = function () {\n      return _this.crosshairStore.updateVisibility(true);\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](mainStore, {\n      route: 'chart-title'\n    });\n    this.animatedPrice = new _AnimatedPriceStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this.categoricalDisplay = new _CategoricalDisplayStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n      getCategoricalItems: function getCategoricalItems() {\n        return _this.mainStore.chart.categorizedSymbols;\n      },\n      getIsShown: function getIsShown() {\n        return _this.menu.open;\n      },\n      placeholderText: t.translate('Search...'),\n      favoritesId: 'chartTitle&Comparison',\n      mainStore: mainStore,\n      id: 'market_dropdown',\n      getCurrentActiveCategory: function getCurrentActiveCategory() {\n        return _this.currentActiveCategory;\n      },\n      getCurrentActiveSubCategory: function getCurrentActiveSubCategory() {\n        return _this.currentActiveSubCategory;\n      },\n      getCurrentActiveMarket: function getCurrentActiveMarket() {\n        return _this.currentActiveMarket;\n      },\n      searchInputClassName: function searchInputClassName() {\n        return _this.searchInputClassName;\n      }\n    });\n    this.serverTime = _utils_ServerTime__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getInstance();\n    this.ChartTitleMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    this.MarketSelector = this.categoricalDisplay.connect(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_5__[\"CategoricalDisplay\"]);\n    var SpotPrice = this.animatedPrice.connect(_components_AnimatedPrice_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\n    var PriceDisplay = Object(_Connect__WEBPACK_IMPORTED_MODULE_8__[\"connect\"])(function () {\n      return {\n        isVisible: _this.isVisible && _this.isShowChartPrice,\n        status: _this.animatedPrice.status,\n        todayChange: _this.todayChange,\n        todayChangePercent: _this.todayChangePercent,\n        SpotPrice: SpotPrice\n      };\n    })(_components_SymbolSelectButton_jsx__WEBPACK_IMPORTED_MODULE_7__[\"ChartPrice\"]);\n    this.SymbolSelectButton = Object(_Connect__WEBPACK_IMPORTED_MODULE_8__[\"connect\"])(function () {\n      return {\n        symbol: _this.currentSymbol,\n        ChartPrice: PriceDisplay,\n        isSymbolOpen: _this.isSymbolOpen,\n        symbolOpenTime: _this.symbolOpenTime\n      };\n    })(_components_SymbolSelectButton_jsx__WEBPACK_IMPORTED_MODULE_7__[\"SymbolSelectButton\"]);\n  }\n\n  _createClass(ChartTitleStore, [{\n    key: \"setSymbol\",\n    value: function setSymbol(symbolObj) {\n      if (this.mainStore.state.symbol !== undefined) {\n        console.error('Changing symbol does nothing because symbol prop is being set. Consider overriding the onChange prop in <ChartTitle />');\n        return;\n      }\n\n      this.chart.changeSymbol(symbolObj);\n    }\n  }, {\n    key: \"update\",\n    value: function update(quote) {\n      if (!this.currentSymbol) {\n        return;\n      }\n\n      var isVisible = quote || !this.isShowChartPrice;\n\n      if (!isVisible) {\n        return;\n      }\n\n      var currentPrice = quote.Close;\n\n      if (currentPrice) {\n        currentPrice = currentPrice.toFixed(this.decimalPlaces);\n        var oldPrice = quote.prevClose || this.animatedPrice.price;\n        this.animatedPrice.setPrice(currentPrice, oldPrice);\n\n        if (oldPrice) {\n          this.todayChange = Math.abs(currentPrice - oldPrice).toFixed(this.decimalPlaces);\n          this.todayChangePercent = (this.todayChange / oldPrice * 100).toFixed(2);\n        }\n      } // `todayChange` and `todayChangePercent` has problem on\n      // changing symbol, if two symbol have great difference\n      // in their values, it has a jumb in showing the correct\n      // values, with this code, we simply ignore the first update\n      // of these tow value and show the second data and it fix the\n      // above issue\n\n\n      if (!this.isVisible && isVisible && !this.enableShowPrice) {\n        this.enableShowPrice = true;\n        return;\n      }\n\n      this.isVisible = isVisible;\n    }\n  }, {\n    key: \"hidePrice\",\n    value: function hidePrice() {\n      this.isVisible = false;\n      this.enableShowPrice = false;\n    }\n  }, {\n    key: \"updateProps\",\n    value: function updateProps(_ref) {\n      var open_market = _ref.open_market,\n          open = _ref.open;\n\n      if (open_market) {\n        this.openMarket = open_market;\n      }\n\n      if (open) {\n        this.menu.setOpen(true);\n      }\n    }\n  }, {\n    key: \"chart\",\n    get: function get() {\n      return this.mainStore.chart;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"crosshairStore\",\n    get: function get() {\n      return this.mainStore.crosshair;\n    }\n  }, {\n    key: \"currentSymbol\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol;\n    }\n  }, {\n    key: \"isSymbolOpen\",\n    get: function get() {\n      var _this$currentSymbol;\n\n      return (_this$currentSymbol = this.currentSymbol) === null || _this$currentSymbol === void 0 ? void 0 : _this$currentSymbol.exchange_is_open;\n    }\n  }, {\n    key: \"decimalPlaces\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places;\n    }\n  }, {\n    key: \"isShowChartPrice\",\n    get: function get() {\n      return this.mainStore.chart.isChartAvailable;\n    }\n  }, {\n    key: \"tradingTimes\",\n    get: function get() {\n      return this.mainStore.chart.tradingTimes;\n    }\n  }, {\n    key: \"symbolOpenTime\",\n    get: function get() {\n      var times = this.tradingTimes._tradingTimesMap && this.tradingTimes._tradingTimesMap.length ? this.tradingTimes._tradingTimesMap[this.currentSymbol.symbol].times : [];\n      var now = this.serverTime.getLocalDate().getTime();\n      var openTime = times ? times.find(function (time) {\n        return time.open.getTime() > now;\n      }) : null;\n\n      if (!(openTime instanceof Date)) {\n        openTime = null;\n      }\n\n      return {\n        openTime: openTime\n      };\n    }\n  }, {\n    key: \"currentActiveCategory\",\n    get: function get() {\n      if (this.openMarket.category) {\n        return this.openMarket.category;\n      }\n\n      return this.mainStore.chart.currentActiveSymbol ? this.mainStore.chart.currentActiveSymbol.market : 'favorite';\n    }\n  }, {\n    key: \"currentActiveSubCategory\",\n    get: function get() {\n      if (this.openMarket.subcategory) {\n        return this.openMarket.subcategory;\n      }\n\n      return this.mainStore.chart.currentActiveSymbol ? this.mainStore.chart.currentActiveSymbol.symbol : '';\n    }\n  }, {\n    key: \"currentActiveMarket\",\n    get: function get() {\n      if (this.openMarket.market) {\n        return this.openMarket.market;\n      }\n\n      return null;\n    }\n  }]);\n\n  return ChartTitleStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"todayChange\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"todayChangePercent\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"isVisible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"openMarket\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"currentSymbol\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"currentSymbol\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"isSymbolOpen\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"isSymbolOpen\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"decimalPlaces\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"decimalPlaces\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"isShowChartPrice\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"isShowChartPrice\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"tradingTimes\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"tradingTimes\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"symbolOpenTime\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"symbolOpenTime\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"currentActiveCategory\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"currentActiveCategory\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"currentActiveSubCategory\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"currentActiveSubCategory\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"currentActiveMarket\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"currentActiveMarket\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setSymbol\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setSymbol\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"update\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"update\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"hidePrice\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"hidePrice\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/ChartTypeStore.js\":\n/*!*************************************!*\\\n  !*** ./src/store/ChartTypeStore.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChartTypeStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _ListStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ListStore */ \"./src/store/ListStore.js\");\n/* harmony import */ var _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SettingsDialogStore */ \"./src/store/SettingsDialogStore.js\");\n/* harmony import */ var _components_List_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/List.jsx */ \"./src/components/List.jsx\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/SettingsDialog.jsx */ \"./src/components/SettingsDialog.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\n/* harmony import */ var _Constant__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Constant */ \"./src/Constant.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _class, _descriptor, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\n\n\n\n\n\nvar notCandles = _toConsumableArray(_Constant__WEBPACK_IMPORTED_MODULE_8__[\"ChartTypes\"]).filter(function (t) {\n  return !t.candleOnly;\n}).map(function (t) {\n  return t.id;\n});\n\nvar aggregateCharts = _toConsumableArray(_Constant__WEBPACK_IMPORTED_MODULE_8__[\"ChartTypes\"]).filter(function (t) {\n  return t.settingsOnClick;\n});\n\nfunction getAggregates() {\n  return {\n    heikinashi: true,\n    kagi: {\n      title: t.translate('Kagi'),\n      inputs: [{\n        id: 'kagi',\n        title: t.translate('Reversal Percentage'),\n        type: 'numericinput'\n      }]\n    },\n    renko: {\n      title: t.translate('Renko'),\n      inputs: [{\n        id: 'renko',\n        title: t.translate('Range'),\n        type: 'numericinput'\n      }]\n    },\n    linebreak: {\n      title: t.translate('Line Break'),\n      inputs: [{\n        id: 'priceLines',\n        title: t.translate('Price Lines'),\n        type: 'numericinput',\n        max: 10,\n        step: 1,\n        min: 1\n      }]\n    },\n    rangebars: {\n      title: t.translate('Range Bars'),\n      inputs: [{\n        id: 'range',\n        title: t.translate('Range'),\n        type: 'numericinput'\n      }]\n    },\n    pandf: {\n      title: t.translate('Point & Figure'),\n      inputs: [{\n        id: 'box',\n        title: t.translate('Box Size'),\n        type: 'numericinput'\n      }, {\n        id: 'reversal',\n        title: t.translate('Reversal'),\n        type: 'numericinput'\n      }]\n    }\n  };\n}\n\nvar ChartTypeStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function ChartTypeStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartTypeStore);\n\n    _initializerDefineProperty(this, \"type\", _descriptor, this);\n\n    this.onChartTypeChanged = void 0;\n\n    this.onContextReady = function () {\n      _this.aggregates = getAggregates();\n      _this.chartTypes = _toConsumableArray(_Constant__WEBPACK_IMPORTED_MODULE_8__[\"ChartTypes\"]);\n\n      _this.setChartTypeFromLayout(_this.stx.layout);\n\n      Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n        return _this.mainStore.state.chartType;\n      }, function () {\n        if (_this.mainStore.state.chartType !== undefined) {\n          _this.setType(_this.mainStore.state.chartType);\n        }\n      });\n    };\n\n    this.updateAggregate = function (items) {\n      var _iterator = _createForOfIteratorHelper(items),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _step.value,\n              id = _step$value.id,\n              value = _step$value.value;\n          var tuple = CIQ.deriveFromObjectChain(_this.stx.layout, id);\n          tuple.obj[tuple.member] = value;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      _this.stx.changeOccurred('layout');\n\n      _this.stx.createDataSet();\n\n      _this.stx.draw();\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](mainStore, {\n      route: 'chart-type'\n    });\n    this.list = new _ListStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      getContext: function getContext() {\n        return _this.context;\n      },\n      getItems: function getItems() {\n        return _this.types;\n      }\n    });\n    this.settingsDialog = new _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n      mainStore: mainStore,\n      onChanged: function onChanged(items) {\n        return _this.updateAggregate(items);\n      }\n    });\n    this.ChartTypeMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.ChartTypeList = this.list.connect(_components_List_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    this.AggregateChartSettingsDialog = this.settingsDialog.connect(_components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\n  }\n\n  _createClass(ChartTypeStore, [{\n    key: \"setTypeFromUI\",\n    value: function setTypeFromUI(type) {\n      if (this.chartTypeProp !== undefined) {\n        console.error('Changing chart type does nothing because chartType prop is being set. Consider overriding the onChange prop in <ChartTypes />');\n        return;\n      }\n\n      this.setType(type);\n    }\n  }, {\n    key: \"setType\",\n    value: function setType(type) {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"LogActions\"].ChartType, type);\n\n      if (!type) {\n        type = 'mountain';\n      }\n\n      if (typeof type === 'string') {\n        type = this.types.find(function (t) {\n          return t.id === type;\n        });\n      }\n\n      if (type.id === this.type.id) {\n        return;\n      }\n\n      if (type.id === 'spline') {\n        // Spline is just a line with tension\n        this.stx.chart.tension = this.stx.layout.tension = 0.5;\n        this.stx.setChartType('mountain');\n      } else {\n        this.stx.chart.tension = 0;\n        delete this.stx.layout.tension;\n\n        if (this.aggregates[type.id]) {\n          // Set baseline.userLevel to false so chart won't move up after AggregationType set.\n          this.stx.chart.baseline.userLevel = false;\n          this.stx.setAggregationType(type.id); // Reset baseline.userLevel to its default value\n\n          this.stx.chart.baseline.userLevel = null;\n        } else {\n          this.stx.setChartType(type.id);\n        }\n      }\n\n      this.type = type;\n    }\n  }, {\n    key: \"updateProps\",\n    value: function updateProps(onChange) {\n      this.onChartTypeChanged = onChange;\n    }\n  }, {\n    key: \"showAggregateDialog\",\n    value: function showAggregateDialog(aggregateId) {\n      var _this2 = this;\n\n      if (aggregateId !== this.type.id) {\n        this.setType(aggregateId);\n      }\n\n      var aggregate = this.aggregates[aggregateId];\n      this.settingsDialog.title = aggregate.title;\n      var inputs = aggregate.inputs.map(function (_ref) {\n        var id = _ref.id,\n            agg = _objectWithoutProperties(_ref, [\"id\"]);\n\n        var name = id === 'box' || id === 'reversal' ? \"pandf.\".concat(id) : id;\n        var tuple = CIQ.deriveFromObjectChain(_this2.stx.layout, name);\n        var value = tuple.obj[tuple.member];\n        var defaultValue = _this2.stx.chart.defaultChartStyleConfig[id];\n        return _objectSpread({\n          id: name,\n          value: value != undefined ? value : defaultValue,\n          // eslint-disable-line eqeqeq\n          defaultValue: defaultValue\n        }, agg);\n      });\n      this.settingsDialog.items = inputs;\n      this.settingsDialog.setOpen(true);\n    }\n  }, {\n    key: \"setChartTypeFromLayout\",\n    value: function setChartTypeFromLayout(layout) {\n      var chartType = this.getChartTypeFromLayout(layout);\n      var typeIdx = this.chartTypes.findIndex(function (t) {\n        return t.id === chartType;\n      });\n      this.type = this.chartTypes[typeIdx];\n    }\n  }, {\n    key: \"getChartTypeFromLayout\",\n    value: function getChartTypeFromLayout(layout) {\n      var chartType;\n\n      if (layout.tension) {\n        // We assume that if tension is set, spline is enabled\n        chartType = 'spline';\n      } else if (this.aggregates[layout.aggregationType]) {\n        chartType = layout.aggregationType;\n      } else {\n        chartType = layout.chartType;\n      }\n\n      return chartType;\n    }\n  }, {\n    key: \"isTypeCandle\",\n    value: function isTypeCandle(type) {\n      if (typeof type === 'string') {\n        type = this.types.find(function (t) {\n          return t.id === type;\n        });\n      }\n\n      return notCandles.indexOf(type.id) === -1;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"chartTypeProp\",\n    get: function get() {\n      return this.mainStore.state.chartType;\n    }\n  }, {\n    key: \"isCandle\",\n    get: function get() {\n      return this.type ? notCandles.indexOf(this.type.id) === -1 : false;\n    }\n  }, {\n    key: \"isSpline\",\n    get: function get() {\n      return this.type.id === 'spline';\n    }\n  }, {\n    key: \"isAggregateChart\",\n    get: function get() {\n      var _this3 = this;\n\n      return !!aggregateCharts.find(function (t) {\n        return t.id === _this3.stx.layout.aggregationType;\n      });\n    }\n  }, {\n    key: \"types\",\n    get: function get() {\n      var _this4 = this;\n\n      var isTickSelected = this.mainStore.timeperiod.timeUnit === 'tick';\n\n      if (this.chartTypes === undefined) {\n        this.chartTypes = _toConsumableArray(_Constant__WEBPACK_IMPORTED_MODULE_8__[\"ChartTypes\"]);\n      }\n\n      return this.chartTypes.map(function (t) {\n        return _objectSpread(_objectSpread({}, t), {}, {\n          active: t.id === _this4.type.id,\n          disabled: t.candleOnly ? isTickSelected : false\n        });\n      });\n    }\n  }]);\n\n  return ChartTypeStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"type\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'mountain';\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setTypeFromUI\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setTypeFromUI\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setType\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"setType\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"showAggregateDialog\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"showAggregateDialog\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"types\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"types\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartTypeFromLayout\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartTypeFromLayout\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/Connect.js\":\n/*!******************************!*\\\n  !*** ./src/store/Connect.js ***!\n  \\******************************/\n/*! exports provided: connect */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"connect\", function() { return connect; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx-react */ \"./node_modules/mobx-react/index.module.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nfunction connectMainStore(mapperFunction) {\n  // Combine both stores and props, with props taking precedence\n  var mapStoresAndProps = function mapStoresAndProps(mainStore, props\n  /* , context */\n  ) {\n    return _objectSpread(_objectSpread({}, mapperFunction(mainStore)), props);\n  };\n\n  return function (WrappedComponent) {\n    return Object(mobx_react__WEBPACK_IMPORTED_MODULE_1__[\"inject\"])(mapStoresAndProps)(WrappedComponent);\n  };\n}\n\nfunction connectCustomStore(mapperFunction, CustomStore) {\n  return function (WrappedComponent) {\n    var StoredComponent = /*#__PURE__*/function (_Component) {\n      _inherits(StoredComponent, _Component);\n\n      var _super = _createSuper(StoredComponent);\n\n      function StoredComponent(props) {\n        var _this;\n\n        _classCallCheck(this, StoredComponent);\n\n        _this = _super.call(this, props);\n        var mainStore = _this.props.mainStore;\n        _this.store = new CustomStore(mainStore);\n\n        var mapStoresAndProps = function mapStoresAndProps(_mainStore, nextProps) {\n          return _objectSpread(_objectSpread({}, mapperFunction(_this.store)), nextProps);\n        };\n\n        if (_this.store.updateProps) {\n          _this.store.updateProps(props);\n        }\n\n        _this.injectedComponent = Object(mobx_react__WEBPACK_IMPORTED_MODULE_1__[\"inject\"])(mapStoresAndProps)(WrappedComponent);\n        return _this;\n      }\n\n      _createClass(StoredComponent, [{\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate() {\n          if (this.store.updateProps) {\n            this.store.updateProps(this.props);\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          if (this.store.destructor) {\n            this.store.destructor();\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(this.injectedComponent);\n        }\n      }]);\n\n      return StoredComponent;\n    }(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]); // make some nice names that will show up in the React Devtools\n\n\n    var wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || WrappedComponent.constructor && WrappedComponent.constructor.name || 'Unknown';\n    StoredComponent.displayName = \"unbox-\".concat(wrappedDisplayName);\n    return Object(mobx_react__WEBPACK_IMPORTED_MODULE_1__[\"inject\"])(function (mainStore) {\n      return {\n        mainStore: mainStore\n      };\n    })(StoredComponent);\n  };\n} // if store is not defined, main store is used\n\n\nfunction connect(mapperFunction, CustomStore) {\n  if (CustomStore === undefined) {\n    return connectMainStore(mapperFunction);\n  }\n\n  return connectCustomStore(mapperFunction, CustomStore);\n}\n\n/***/ }),\n\n/***/ \"./src/store/CrosshairStore.js\":\n/*!*************************************!*\\\n  !*** ./src/store/CrosshairStore.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/_themes.scss */ \"./sass/_themes.scss\");\n/* harmony import */ var _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__);\nvar _dec, _dec2, _dec3, _class, _descriptor, _temp;\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\n\n\n\nvar MAX_TOOLTIP_WIDTH = 315;\nvar CrosshairStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function CrosshairStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, CrosshairStore);\n\n    _initializerDefineProperty(this, \"state\", _descriptor, this);\n\n    this.node = null;\n    this.lastBar = {};\n    this.showChange = false;\n    this.showSeries = true;\n    this.showStudies = true;\n\n    this.onCrosshairChanged = function () {\n      return null;\n    };\n\n    this.onContextReady = function () {\n      var storedState = _this.stx.layout.crosshair;\n      var state = typeof storedState !== 'number' ? 2 : storedState;\n\n      _this.setCrosshairState(state);\n\n      _this.stx.append('headsUpHR', _this.renderCrosshairTooltip);\n    };\n\n    this.renderCrosshairTooltip = function () {\n      // if no tooltip exists, then skip\n      if (_this.state !== 2) return;\n      var stx = _this.stx;\n      var _stx$controls = stx.controls,\n          crossX = _stx$controls.crossX,\n          crossY = _stx$controls.crossY; // crosshairs are not on\n\n      if (crossX && crossX.style.display === 'none' || crossY && crossY.style.display === 'none') {\n        return;\n      }\n\n      var bar = stx.barFromPixel(stx.cx);\n      var data = stx.chart.dataSegment[bar];\n\n      if (!data || !_this.isChartReady) {\n        _this.updateTooltipPosition({\n          left: -5000,\n          top: 0,\n          rows: null\n        });\n\n        return;\n      }\n\n      var showOverBarOnly = false;\n      var goodBar;\n      var overBar = true;\n      var highPx, lowPx;\n\n      if (data !== undefined && data && data.DT) {\n        goodBar = true;\n\n        if (data.High) {\n          highPx = stx.pixelFromPrice(data.High);\n        }\n\n        if (data.Low) {\n          lowPx = stx.pixelFromPrice(data.Low);\n        }\n\n        if (!stx.chart.highLowBars) {\n          if (data.Close) {\n            highPx = stx.pixelFromPrice(data.Close) - 15;\n            lowPx = stx.pixelFromPrice(data.Close) + 15;\n          }\n        }\n\n        if (showOverBarOnly && !(stx.cy >= highPx && stx.cy <= lowPx)) {\n          overBar = false;\n        }\n      }\n\n      if (!(stx.insideChart && stx.layout.crosshair && stx.displayCrosshairs && !stx.overXAxis && !stx.overYAxis && !stx.openDialog && !stx.activeDrawing && !stx.grabbingScreen && goodBar && overBar)) {\n        _this.updateTooltipPosition({\n          left: -5000,\n          top: 0,\n          rows: null\n        });\n\n        _this.lastBar = {};\n        return;\n      }\n\n      var rows = null;\n\n      if (!(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"sameBar\"])(data, _this.lastBar) && bar !== stx.chart.dataSegment.length - 1)) {\n        rows = _this.calculateRows(data);\n        _this.lastBar = data;\n      }\n\n      _this.updateTooltipPosition({\n        left: CIQ.ChartEngine.crosshairX - _this.stx.left,\n        top: CIQ.ChartEngine.crosshairY - _this.stx.top,\n        rows: rows\n      });\n    };\n\n    this.updateVisibility = function (visible) {\n      var crosshair = _this.stx.container.querySelector('.cq-crosshair');\n\n      if (_this.state === 2 && visible) crosshair.classList.add('active');else if (_this.state === 2) crosshair.classList.remove('active');\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(CrosshairStore, [{\n    key: \"setFloatPriceLabelStyle\",\n    value: function setFloatPriceLabelStyle() {\n      var theme = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.mainStore.chartSetting.theme;\n      var crosshair = this.stx.container.querySelector('.cq-crosshair');\n\n      if (this.state === 2) {\n        this.stx.setStyle('stx-float-price', 'color', 'transparent');\n        this.stx.setStyle('stx-float-price', 'background-color', 'transparent');\n        this.stx.controls.floatDate.style.color = 'transparent';\n        this.stx.controls.floatDate.style.backgroundColor = 'transparent';\n        this.stx.controls.floatDate.style.display = 'none';\n        this.stx.controls.crossX.style.height = \"calc(100% - \".concat(this.stx.xaxisHeight, \"px)\");\n        crosshair.classList.add('active');\n      } else {\n        this.stx.setStyle('stx-float-price', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_float_labels_text\")]);\n        this.stx.setStyle('stx-float-price', 'background-color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_float_labels_bg\")]);\n        this.stx.controls.floatDate.style.color = _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_float_labels_text\")];\n        this.stx.controls.floatDate.style.backgroundColor = _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"_float_labels_bg\")];\n        this.stx.controls.floatDate.style.display = 'block';\n        this.stx.controls.crossX.style.height = '100%';\n        crosshair.classList.remove('active');\n      }\n    }\n  }, {\n    key: \"toggleState\",\n    value: function toggleState() {\n      var state = (this.state + 1) % 3;\n      this.setCrosshairState(state);\n    }\n  }, {\n    key: \"updateProps\",\n    value: function updateProps(onChange) {\n      this.onCrosshairChanged = onChange || function () {\n        return null;\n      };\n    }\n  }, {\n    key: \"setCrosshairState\",\n    value: function setCrosshairState(state) {\n      if (!this.context) {\n        return;\n      }\n\n      this.state = state;\n      this.setFloatPriceLabelStyle();\n      this.stx.layout.crosshair = state;\n      this.stx.doDisplayCrosshairs();\n      this.mainStore.state.crosshairState = state;\n      this.mainStore.state.saveLayout();\n      this.onCrosshairChanged(this.state);\n    }\n  }, {\n    key: \"calculateRows\",\n    value: function calculateRows(data) {\n      var stx = this.stx;\n      var dupMap = {};\n      var fields = [];\n      {\n        // Access main chart panel and yAxis in this scope:\n        var panel = stx.chart.panel;\n        var yAxis = panel.yAxis;\n        fields.push({\n          member: 'DT',\n          display: 'DT',\n          panel: panel,\n          yAxis: yAxis\n        });\n        dupMap.DT = dupMap.Close = 1;\n\n        if (this.showChange && CIQ.ChartEngine.isDailyInterval(stx.layout.interval)) {\n          fields.push({\n            member: 'Change',\n            display: 'Change',\n            panel: panel,\n            yAxis: yAxis\n          });\n        }\n\n        if (this.showOhl) {\n          for (var _i = 0, _arr = ['Open', 'Close', 'High', 'Low']; _i < _arr.length; _i++) {\n            var el = _arr[_i];\n            fields.push({\n              member: el,\n              display: el,\n              panel: panel,\n              yAxis: yAxis\n            });\n          }\n\n          dupMap.Open = dupMap.High = dupMap.Low = 1;\n        }\n      }\n\n      if (this.showSeries) {\n        var renderers = stx.chart.seriesRenderers;\n\n        for (var renderer in renderers) {\n          var rendererToDisplay = renderers[renderer];\n          var _panel = stx.panels[rendererToDisplay.params.panel];\n          var _yAxis = rendererToDisplay.params.yAxis;\n\n          if (!_yAxis && rendererToDisplay.params.shareYAxis) {\n            _yAxis = _panel.yAxis;\n          }\n\n          for (var id = 0; id < rendererToDisplay.seriesParams.length; id++) {\n            var seriesParams = rendererToDisplay.seriesParams[id];\n\n            if (seriesParams.display === this.activeSymbol.symbol) {\n              var display = this.activeSymbol.name;\n              fields.push({\n                member: 'Close',\n                display: display,\n                panel: _panel,\n                yAxis: _yAxis\n              });\n              dupMap[display] = 1;\n            } else {\n              // if a series has a symbol and a field then it maybe a object chain\n              var sKey = seriesParams.symbol;\n              var subField = seriesParams.field;\n\n              if (!sKey) {\n                sKey = subField;\n              } else if (subField && sKey !== subField) {\n                sKey = CIQ.createObjectChainNames(sKey, subField)[0];\n              }\n\n              var _display = seriesParams.display || seriesParams.symbol || seriesParams.field;\n\n              if (sKey && (!dupMap[_display] || seriesParams.symbol === undefined)) {\n                fields.push({\n                  member: sKey,\n                  display: _display,\n                  panel: _panel,\n                  yAxis: _yAxis\n                });\n                dupMap[_display] = 1;\n              }\n            }\n          }\n        }\n      }\n\n      if (this.showStudies) {\n        var studies = stx.layout.studies;\n\n        for (var study in studies) {\n          var _panel2 = stx.panels[studies[study].panel];\n          var _yAxis2 = _panel2.yAxis;\n\n          for (var output in studies[study].outputMap) {\n            if (output && !dupMap[output]) {\n              fields.push({\n                member: output,\n                display: output,\n                panel: _panel2,\n                yAxis: _yAxis2\n              });\n              dupMap[output] = 1;\n            }\n          }\n\n          var hist = \"\".concat(study, \"_hist\");\n\n          if (!dupMap[hist]) {\n            fields.push({\n              member: hist,\n              display: hist,\n              panel: _panel2,\n              yAxis: _yAxis2\n            });\n            var hist1 = \"\".concat(study, \"_hist1\");\n            var hist2 = \"\".concat(study, \"_hist2\");\n            fields.push({\n              member: hist1,\n              display: hist1,\n              panel: _panel2,\n              yAxis: _yAxis2\n            });\n            fields.push({\n              member: hist2,\n              display: hist2,\n              panel: _panel2,\n              yAxis: _yAxis2\n            });\n            dupMap[hist] = 1;\n          }\n        }\n      }\n\n      var rows = [];\n\n      for (var _i2 = 0, _fields = fields; _i2 < _fields.length; _i2++) {\n        var obj = _fields[_i2];\n        var name = obj.member,\n            displayName = obj.display,\n            _panel3 = obj.panel,\n            _yAxis3 = obj.yAxis;\n        var labelDecimalPlaces = this.decimalPlaces;\n\n        if (_yAxis3) {\n          if (_panel3 !== _panel3.chart.panel) {\n            // If a study panel, use yAxis settings to determine decimal places\n            if (_yAxis3.decimalPlaces || _yAxis3.decimalPlaces === 0) {\n              labelDecimalPlaces = _yAxis3.decimalPlaces;\n            } else if (_yAxis3.maxDecimalPlaces || _yAxis3.maxDecimalPlaces === 0) {\n              labelDecimalPlaces = _yAxis3.maxDecimalPlaces;\n            }\n          } else {\n            // If a chart panel, then always display at least the number of decimal places as calculated by masterData (panel.chart.decimalPlaces)\n            // but if we are zoomed to high granularity then expand all the way out to the y-axis significant digits (panel.yAxis.printDecimalPlaces)\n            labelDecimalPlaces = Math.max(_yAxis3.printDecimalPlaces, _panel3.chart.decimalPlaces); // ... and never display more decimal places than the symbol is supposed to be quoting at\n\n            if (_yAxis3.maxDecimalPlaces || _yAxis3.maxDecimalPlaces === 0) {\n              labelDecimalPlaces = Math.min(labelDecimalPlaces, _yAxis3.maxDecimalPlaces);\n            }\n          }\n        }\n\n        var dsField = null; // account for object chains\n\n        var tuple = CIQ.existsInObjectChain(data, name);\n\n        if (tuple) {\n          dsField = tuple.obj[tuple.member];\n        } else if (name === 'Change') {\n          dsField = data.Close - data.iqPrevClose;\n        }\n\n        var fieldName = displayName.replace(/^(Result )(.*)/, '$2');\n\n        if ((dsField || dsField === 0) && (name === 'DT' || _typeof(dsField) !== 'object' || dsField.Close || dsField.Close === 0)) {\n          var fieldValue = '';\n\n          if (dsField.Close || dsField.Close === 0) {\n            dsField = dsField.Close;\n          }\n\n          if (dsField.constructor === Number) {\n            if (!_yAxis3) {\n              // raw value\n              fieldValue = dsField.toFixed(labelDecimalPlaces);\n            } else if (_yAxis3.originalPriceFormatter && _yAxis3.originalPriceFormatter.func) {\n              // in comparison mode with custom formatter\n              fieldValue = _yAxis3.originalPriceFormatter.func(stx, _panel3, dsField, labelDecimalPlaces);\n            } else if (_yAxis3.priceFormatter && _yAxis3.priceFormatter !== CIQ.Comparison.priceFormat) {\n              // using custom formatter\n              fieldValue = _yAxis3.priceFormatter(stx, _panel3, dsField, labelDecimalPlaces);\n            } else {\n              fieldValue = stx.formatYAxisPrice(dsField, _panel3, labelDecimalPlaces, _yAxis3);\n            }\n          } else if (dsField.constructor === Date) {\n            var floatDate = stx.controls.floatDate;\n\n            if (name === 'DT' && floatDate && floatDate.innerHTML) {\n              if (stx.chart.xAxis.noDraw) {\n                continue;\n              } else {\n                fieldValue = floatDate.innerHTML;\n              }\n            } else {\n              fieldValue = CIQ.yyyymmdd(dsField);\n\n              if (!CIQ.ChartEngine.isDailyInterval(stx.layout.interval)) {\n                fieldValue += \" \".concat(dsField.toTimeString().substr(0, 8));\n              }\n            }\n          } else {\n            fieldValue = dsField;\n          }\n\n          rows.push({\n            name: fieldName.toUpperCase(),\n            value: fieldValue\n          });\n        }\n      }\n\n      return rows;\n    }\n  }, {\n    key: \"updateTooltipPosition\",\n    // YES! we are manually patching DOM, Because we don't want to pay\n    // for react reconciler & mox tracking observables.\n    value: function updateTooltipPosition(_ref) {\n      var top = _ref.top,\n          left = _ref.left,\n          rows = _ref.rows;\n      var crosshair = this.stx.container.querySelector('.cq-crosshair');\n      crosshair.style.transform = \"translate(\".concat(left, \"px, \").concat(top, \"px)\");\n      var tooltipRightLimit = this.mainStore.state.crosshairTooltipLeftAllow || MAX_TOOLTIP_WIDTH;\n      var arrow = left <= tooltipRightLimit ? 'arrow-left' : 'arrow-right';\n\n      if (arrow !== this.prev_arrow) {\n        crosshair.classList.remove(this.prev_arrow);\n        crosshair.classList.add(arrow);\n        this.prev_arrow = arrow;\n      } // if there is a need to update the rows.\n\n\n      if (rows !== null) {\n        var content = crosshair.querySelector('.cq-crosshair-content');\n        content.innerHTML = rows.map(function (r) {\n          return \"\\n                <div class=\\\"row\\\">\\n                    <span>\".concat(r.name !== 'DT' ? r.name : r.value, \"</span>\\n                    <span>\").concat(r.name !== 'DT' ? r.value : '', \"</span>\\n                </div>\\n            \");\n        }).join('');\n      }\n    }\n  }, {\n    key: \"activeSymbol\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol;\n    }\n  }, {\n    key: \"decimalPlaces\",\n    get: function get() {\n      return this.activeSymbol.decimal_places;\n    }\n  }, {\n    key: \"showOhl\",\n    get: function get() {\n      return this.stx.layout.timeUnit !== 'second';\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"isChartReady\",\n    get: function get() {\n      return this.mainStore.state.isChartReady;\n    }\n  }]);\n\n  return CrosshairStore;\n}(), _temp), (_applyDecoratedDescriptor(_class.prototype, \"activeSymbol\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"activeSymbol\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"decimalPlaces\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"decimalPlaces\"), _class.prototype), _descriptor = _applyDecoratedDescriptor(_class.prototype, \"state\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 2;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"toggleState\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleState\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setCrosshairState\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"setCrosshairState\"), _class.prototype)), _class));\n/* harmony default export */ __webpack_exports__[\"default\"] = (CrosshairStore);\n\n/***/ }),\n\n/***/ \"./src/store/CurrentSpotStore.js\":\n/*!***************************************!*\\\n  !*** ./src/store/CurrentSpotStore.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/_themes.scss */ \"./sass/_themes.scss\");\n/* harmony import */ var _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__);\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar is_firefox = navigator.userAgent.search('Firefox') > 0;\n\nvar CurrentSpotStore = /*#__PURE__*/function () {\n  function CurrentSpotStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, CurrentSpotStore);\n\n    this.onContextReady = function () {\n      if (_this.mainStore.state.isAnimationEnabled) _this.stx.append('draw', _this.drawSpot);\n      Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"patchPixelFromChart\"])(_this.stx);\n    };\n\n    this.drawSpot = function () {\n      if (_this.state.endEpoch) {\n        return;\n      }\n\n      var stx = _this.stx;\n      var chart = stx.chart;\n      var len = chart.dataSet.length;\n\n      if (!len) {\n        return;\n      }\n\n      var bar = chart.dataSet[len - 1];\n      var prevBar = chart.dataSet[len - 2];\n\n      if (!bar || !prevBar || !bar.Close || !prevBar.Close) {\n        var dataSetClose = _toConsumableArray(chart.dataSet).filter(function (item) {\n          return item && item.Close;\n        });\n\n        len = dataSetClose.length;\n\n        if (!len) {\n          return;\n        }\n\n        bar = dataSetClose[len - 1];\n        prevBar = dataSetClose[len - 2];\n      }\n\n      if (!bar || !prevBar || !bar.Close || !prevBar.Close) {\n        return;\n      }\n\n      var x = stx.pixelFromTick(len - 1, chart);\n      var deltaX = bar.chartJustAdvanced ? x - stx.pixelFromTick(len - 2, chart) : 0;\n      var y = stx.pixelFromPrice(bar.Close, chart.panel);\n      var progress = Math.min(bar.tickAnimationProgress || 0, 1);\n\n      if (progress) {\n        x -= (1 - progress) * deltaX;\n      }\n\n      if (x < 0 || x > chart.yAxis.left || y < chart.yAxis.top || y > chart.yAxis.bottom) {\n        return;\n      } // glow is set by Animation.js\n\n\n      var glow = is_firefox ? 0 : progress;\n      /** @type {CanvasRenderingContext2D} */\n\n      var ctx = stx.chart.context;\n      ctx.save();\n\n      if (glow) {\n        ctx.shadowBlur = glow * 35 + 4 | 0;\n        var opacity = Math.sqrt(1.0 - glow) * 255;\n        opacity |= 0;\n        opacity = opacity.toString(16);\n        ctx.shadowColor = _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__[\"red\"] + opacity;\n      }\n\n      ctx.fillStyle = _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__[\"red\"];\n\n      for (var i = 0; i < (glow ? 3 : 1); ++i) {\n        ctx.beginPath();\n        ctx.arc(x - 1, y, 4, 0, 2 * Math.PI);\n        ctx.fill();\n      }\n\n      ctx.restore();\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(CurrentSpotStore, [{\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this.mainStore.state;\n    }\n  }]);\n\n  return CurrentSpotStore;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CurrentSpotStore);\n\n/***/ }),\n\n/***/ \"./src/store/DialogStore.js\":\n/*!**********************************!*\\\n  !*** ./src/store/DialogStore.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DialogStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.debounce */ \"./node_modules/lodash.debounce/index.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _class, _descriptor, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\nvar activeDialog;\nvar DialogStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function DialogStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, DialogStore);\n\n    _initializerDefineProperty(this, \"open\", _descriptor, this);\n\n    this.onClose = function () {\n      return _this.setOpen(false);\n    };\n\n    this.setOpen = lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default()(function (val) {\n      _this.openDialog(val);\n    }, 10, {\n      leading: true,\n      trailing: false\n    });\n\n    this.handleClickOutside = function (e) {\n      var isRightClick = false;\n\n      if ('which' in e) {\n        isRightClick = e.which === 3;\n      } else if ('button' in e) {\n        isRightClick = e.button === 2;\n      }\n\n      if (!e.isHandledByDialog && !isRightClick) {\n        _this.onClose();\n      }\n    };\n\n    this.closeOnEscape = function (e) {\n      var ESCAPE = 27;\n\n      if (e.keyCode === ESCAPE) {\n        _this.onClose();\n      }\n    };\n\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        open: _this.open,\n        setOpen: _this.setOpen,\n        onClose: _this.onClose,\n        updateCloseCallback: _this.updateCloseCallback,\n        onContainerClick: _this.onContainerClick,\n        isMobile: _this.mainStore.chart.isMobile\n      };\n    });\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, function () {\n      _this.routingStore.registerDialog(_this);\n    });\n  }\n\n  _createClass(DialogStore, [{\n    key: \"openDialog\",\n    value: function openDialog(val) {\n      if (this.open !== val) {\n        this.open = val;\n\n        if (this.open) {\n          // As we combine dialogs with the menu, so for opening\n          // the items which has no menu, this trigger right after\n          // firing open action, this delay prevent that issue.\n          setTimeout(this.register, 100);\n        } else {\n          this.unregister();\n        }\n\n        if (val === true) {\n          // close active dialog.\n          if (activeDialog) {\n            activeDialog.openDialog(false);\n          }\n\n          activeDialog = this;\n        } else {\n          activeDialog = undefined;\n        }\n      }\n    }\n  }, {\n    key: \"register\",\n    value: function register() {\n      document.addEventListener('click', this.handleClickOutside, false);\n      document.addEventListener('keydown', this.closeOnEscape, false);\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister() {\n      document.removeEventListener('click', this.handleClickOutside);\n      document.removeEventListener('keydown', this.closeOnEscape);\n    }\n  }, {\n    key: \"onContainerClick\",\n    value: function onContainerClick(e) {\n      /* TODO: why stopPropagation() is not working ಠ_ಠ */\n      // e.stopPropagation();\n      e.nativeEvent.isHandledByDialog = true;\n    }\n  }, {\n    key: \"updateCloseCallback\",\n    value: function updateCloseCallback(onClose) {\n      if (onClose !== undefined) {\n        this.onClose = onClose;\n      }\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"routingStore\",\n    get: function get() {\n      return this.mainStore.routing;\n    }\n  }]);\n\n  return DialogStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"open\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"openDialog\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"openDialog\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"register\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"register\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"unregister\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"unregister\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onContainerClick\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"onContainerClick\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateCloseCallback\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"updateCloseCallback\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/DrawToolsStore.js\":\n/*!*************************************!*\\\n  !*** ./src/store/DrawToolsStore.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DrawToolsStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SettingsDialogStore */ \"./src/store/SettingsDialogStore.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/SettingsDialog.jsx */ \"./src/components/SettingsDialog.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _Constant__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Constant */ \"./src/Constant.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class, _descriptor, _descriptor2, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\n\n\n\n\nvar DrawToolsStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function DrawToolsStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, DrawToolsStore);\n\n    this.activeDrawing = null;\n    this.isContinuous = false;\n    this.drawToolsItems = Object.keys(_Constant__WEBPACK_IMPORTED_MODULE_7__[\"drawTools\"]).map(function (key) {\n      return _Constant__WEBPACK_IMPORTED_MODULE_7__[\"drawTools\"][key];\n    });\n\n    _initializerDefineProperty(this, \"activeToolsGroup\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"portalNodeIdChanged\", _descriptor2, this);\n\n    this.onContextReady = function () {\n      document.addEventListener('keydown', _this.closeOnEscape, false);\n      document.addEventListener('dblclick', _this.doubleClick);\n\n      _this.stx.addEventListener('drawing', _this.noTool);\n\n      _this.stx.prepend('rightClickDrawing', _this.onRightClickDrawing);\n    };\n\n    this.closeOnEscape = function (e) {\n      var ESCAPE = 27;\n\n      if (e.keyCode === ESCAPE) {\n        _this.stx.changeVectorType('');\n\n        _this.drawingFinished();\n      }\n    };\n\n    this.doubleClick = function () {\n      return _this.drawingFinished();\n    };\n\n    this.noTool = function () {\n      var count = _this.stx.drawingObjects.length;\n\n      if (_this.menu.open && _this.context || !_this.isContinuous && _this._pervDrawingObjectCount !== count) {\n        _this.stx.changeVectorType('');\n\n        _this.drawingFinished();\n      }\n\n      _this._pervDrawingObjectCount = count;\n    };\n\n    this.findComputedDrawing = function (drawing) {\n      var group = _this.activeToolsGroup.find(function (drawGroup) {\n        return drawGroup.key === drawing.name;\n      });\n\n      if (group) {\n        var drawingItem = group.items.find(function (item) {\n          return item.v0 === drawing.v0 && item.v1 === drawing.v1 && item.d0 === drawing.d0 && item.d1 === drawing.d1;\n        });\n\n        if (drawingItem) {\n          drawingItem.prefix = drawingItem.id === 'continuous' ? t.translate('Continuous') : '';\n        }\n\n        return drawingItem;\n      }\n\n      return null;\n    };\n\n    this.mainStore = mainStore;\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](mainStore, {\n      route: 'draw-tool'\n    });\n    this.DrawToolsMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n    this.settingsDialog = new _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      mainStore: mainStore,\n      onDeleted: this.onDeleted,\n      onChanged: this.onChanged\n    });\n    this.DrawToolsSettingsDialog = this.settingsDialog.connect(_components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.menu.open;\n    }, function () {\n      _this.computeActiveDrawTools();\n\n      _this.noTool();\n    });\n  }\n\n  _createClass(DrawToolsStore, [{\n    key: \"onRightClickDrawing\",\n    value: function onRightClickDrawing(drawing) {\n      this.showDrawToolDialog(drawing);\n      return true;\n    }\n  }, {\n    key: \"showDrawToolDialog\",\n    value: function showDrawToolDialog(drawing) {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].DrawTools, \"Edit \".concat(drawing.name));\n      var dontDeleteMe = drawing.abort(); // eslint-disable-line no-unused-vars\n\n      var parameters = CIQ.Drawing.getDrawingParameters(this.stx, drawing.name);\n      var title = Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"formatCamelCase\"])(drawing.name);\n      var typeMap = {\n        color: 'colorpicker',\n        fillColor: 'colorpicker',\n        pattern: 'pattern',\n        axisLabel: 'switch',\n        font: 'font',\n        lineWidth: 'none'\n      };\n      this.settingsDialog.items = Object.keys(parameters).filter(function (key) {\n        return !( // Remove pattern option from Fibonacci tools\n        (drawing.name.startsWith('fib') || drawing.name === 'retracement') && key === 'pattern');\n      }).map(function (key) {\n        return {\n          id: key,\n          title: Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"formatCamelCase\"])(key),\n          value: drawing[key],\n          defaultValue: parameters[key],\n          type: typeMap[key]\n        };\n      });\n      var drawingItem = this.findComputedDrawing(drawing);\n\n      if (drawingItem) {\n        title = \"\".concat(drawingItem.prefix ? \"\".concat(drawingItem.prefix, \" - \") : '', \" \").concat(t.translate(drawingItem.text, {\n          num: drawingItem.num || ' '\n        }));\n      }\n\n      this.activeDrawing = drawing;\n      this.activeDrawing.highlighted = false;\n      this.settingsDialog.title = title;\n      this.settingsDialog.dialogPortalNodeId = this.portalNodeIdChanged;\n      this.settingsDialog.formTitle = t.translate('Result');\n      this.settingsDialog.formClassname = 'form--drawing-tool';\n      this.settingsDialog.setOpen(true);\n    }\n  }, {\n    key: \"drawingFinished\",\n    value: function drawingFinished() {\n      this.computeActiveDrawTools();\n\n      if (this.stateStore) {\n        this.crosshairStore.setCrosshairState(this.stateStore.crosshairState);\n      }\n    }\n  }, {\n    key: \"clearAll\",\n    value: function clearAll() {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].DrawTools, 'Clear All');\n      this.stx.clearDrawings();\n      this.computeActiveDrawTools();\n    }\n  }, {\n    key: \"selectTool\",\n    value: function selectTool(id) {\n      this.isContinuous = false;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].DrawTools, \"Add \".concat(id));\n      var stx = this.context.stx;\n      stx.clearMeasure(); // TODO remove this line\n\n      stx.changeVectorType(id);\n\n      if (id === 'continuous') {\n        this.isContinuous = true;\n      }\n\n      this.menu.setOpen(false);\n    }\n  }, {\n    key: \"onChanged\",\n    value: function onChanged(items) {\n      var _iterator = _createForOfIteratorHelper(items),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          this.activeDrawing[item.id] = item.value;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.activeDrawing.highlighted = false;\n      this.activeDrawing.adjust();\n      this.mainStore.state.saveDrawings();\n    }\n  }, {\n    key: \"onDeleted\",\n    value: function onDeleted(indx) {\n      if (indx === undefined && !this.activeDrawing) {\n        return;\n      }\n\n      if (indx !== undefined && indx >= 0 && this.stx.drawingObjects[indx]) {\n        this.activeDrawing = this.stx.drawingObjects[indx];\n      }\n\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].DrawTools, \"Remove \".concat(this.activeDrawing.name));\n      this.stx.removeDrawing(this.activeDrawing);\n      this.activeDrawing = null;\n      this.computeActiveDrawTools();\n    }\n  }, {\n    key: \"onSetting\",\n    value: function onSetting(indx) {\n      if (!this.stx.drawingObjects[indx]) {\n        return;\n      }\n\n      this.showDrawToolDialog(this.stx.drawingObjects[indx]);\n    }\n  }, {\n    key: \"computeActiveDrawTools\",\n    value: function computeActiveDrawTools() {\n      if (!this.context) return;\n      var items = {};\n      var ignoreBarType = ['vertical', 'horizontal'];\n      var groups = {};\n      this.stx.drawingObjects.forEach(function (item, indx) {\n        item = _Constant__WEBPACK_IMPORTED_MODULE_7__[\"drawTools\"][item.name] ? _objectSpread(_objectSpread({}, item), _Constant__WEBPACK_IMPORTED_MODULE_7__[\"drawTools\"][item.name]) : item;\n        item.index = indx;\n        item.bars = ignoreBarType.indexOf(item.name) === -1 ? Math.abs(parseInt(item.p1[0] - item.p0[0], 10)) + 1 : null;\n\n        if (items[item.name]) {\n          items[item.name]++;\n          item.num = items[item.name];\n        } else {\n          item.num = ' ';\n          items[item.name] = 1;\n        }\n\n        if (groups[item.name]) {\n          item.text = groups[item.name].name;\n          groups[item.name].items.push(item);\n        } else {\n          var group_name = _Constant__WEBPACK_IMPORTED_MODULE_7__[\"drawTools\"][item.name] ? _Constant__WEBPACK_IMPORTED_MODULE_7__[\"drawTools\"][item.name].text : item.name;\n          item.text = group_name;\n          groups[item.name] = {\n            key: item.name,\n            name: group_name,\n            items: [item]\n          };\n        }\n      }); // get the values of group and sort group by the number of their children\n      // this way the single item stay at top\n\n      this.activeToolsGroup = Object.values(groups).sort(function (a, b) {\n        return a.items.length - b.items.length;\n      });\n    }\n  }, {\n    key: \"updatePortalNode\",\n    value: function updatePortalNode(portalNodeId) {\n      this.portalNodeIdChanged = portalNodeId;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"stateStore\",\n    get: function get() {\n      return this.mainStore.state;\n    }\n  }, {\n    key: \"crosshairStore\",\n    get: function get() {\n      return this.mainStore.crosshair;\n    }\n  }, {\n    key: \"activeToolsNo\",\n    get: function get() {\n      return this.activeToolsGroup.reduce(function (a, b) {\n        return a + b.items.length;\n      }, 0);\n    }\n  }]);\n\n  return DrawToolsStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"activeToolsGroup\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"portalNodeIdChanged\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"activeToolsNo\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"activeToolsNo\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onRightClickDrawing\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"onRightClickDrawing\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"drawingFinished\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"drawingFinished\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"clearAll\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"clearAll\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectTool\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"selectTool\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onChanged\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"onChanged\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onDeleted\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"onDeleted\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSetting\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"onSetting\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"computeActiveDrawTools\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"computeActiveDrawTools\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updatePortalNode\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"updatePortalNode\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/FavoriteStore.js\":\n/*!************************************!*\\\n  !*** ./src/store/FavoriteStore.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-emitter-es6 */ \"./node_modules/event-emitter-es6/index.js\");\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nvar _dec, _dec2, _class, _descriptor, _class2, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\nfunction loadFavorites() {\n  var local = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"createObjectFromLocalStorage\"])('cq-favorites');\n\n  if (!local) {\n    return;\n  }\n\n  var favorites = {};\n\n  for (var categoryName in local) {\n    var category = {};\n\n    var _iterator = _createForOfIteratorHelper(local[categoryName]),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var id = _step.value;\n        category[id] = true;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    favorites[categoryName] = category;\n  }\n\n  return favorites;\n}\n\nvar FavoriteStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, (_class = (_temp = _class2 = /*#__PURE__*/function () {\n  _createClass(FavoriteStore, null, [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (!FavoriteStore.instance) {\n        FavoriteStore.instance = new FavoriteStore();\n      }\n\n      return FavoriteStore.instance;\n    }\n  }, {\n    key: \"EVENT_FAVORITES_UPDATE\",\n    get: function get() {\n      return 'EVENT_FAVORITES_UPDATE';\n    }\n  }]);\n\n  function FavoriteStore() {\n    _classCallCheck(this, FavoriteStore);\n\n    _initializerDefineProperty(this, \"favoritesMap\", _descriptor, this);\n\n    this._emitter = new event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default.a({\n      emitDelay: 0\n    });\n  }\n\n  _createClass(FavoriteStore, [{\n    key: \"onFavoriteUpdate\",\n    value: function onFavoriteUpdate(callback) {\n      this._emitter.on(FavoriteStore.EVENT_FAVORITES_UPDATE, callback);\n    }\n  }, {\n    key: \"offFavoriteUpdate\",\n    value: function offFavoriteUpdate(callback) {\n      this._emitter.off(FavoriteStore.EVENT_FAVORITES_UPDATE, callback);\n    }\n  }, {\n    key: \"isFavorite\",\n    value: function isFavorite(category, id) {\n      return id in this.favoritesMap[category];\n    }\n  }, {\n    key: \"toggleFavorite\",\n    value: function toggleFavorite(category, id) {\n      var cat = this.favoritesMap[category];\n\n      if (cat[id]) {\n        delete cat[id];\n      } else {\n        cat[id] = true;\n      }\n\n      this._emitter.emit(FavoriteStore.EVENT_FAVORITES_UPDATE, {\n        category: category,\n        id: id,\n        value: cat[id] || false\n      }); // this.favoritesMap = { ...this.favoritesMap }; // force observable to update\n\n\n      this.saveFavorites();\n    }\n  }, {\n    key: \"saveFavorites\",\n    value: function saveFavorites() {\n      var favorites = {};\n\n      for (var categoryName in this.favoritesMap) {\n        var category = [];\n\n        for (var id in this.favoritesMap[categoryName]) {\n          category.push(id);\n        }\n\n        favorites[categoryName] = category;\n      }\n\n      CIQ.localStorageSetItem('cq-favorites', JSON.stringify(favorites));\n    }\n  }]);\n\n  return FavoriteStore;\n}(), _class2.instance = void 0, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"favoritesMap\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return loadFavorites() || {\n      indicators: {},\n      'chartTitle&Comparison': {}\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"isFavorite\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"isFavorite\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleFavorite\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleFavorite\"), _class.prototype)), _class));\n/* harmony default export */ __webpack_exports__[\"default\"] = (FavoriteStore);\n\n/***/ }),\n\n/***/ \"./src/store/HighestLowestStore.js\":\n/*!*****************************************!*\\\n  !*** ./src/store/HighestLowestStore.js ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar HighestLowestStore = /*#__PURE__*/function () {\n  _createClass(HighestLowestStore, [{\n    key: \"feed\",\n    get: function get() {\n      return this.mainStore.chart.feed;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.mainStore.chart.stxx;\n    }\n  }, {\n    key: \"isHighestLowestMarkerEnabled\",\n    get: function get() {\n      return this.mainStore.chartSetting.isHighestLowestMarkerEnabled;\n    }\n  }, {\n    key: \"decimalPlaces\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places || 0;\n    }\n  }]);\n\n  function HighestLowestStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, HighestLowestStore);\n\n    this.highest = null;\n    this.lowest = null;\n    this.injectionId = null;\n\n    this.clearInjection = function () {\n      if (_this.injectionId) {\n        _this.highestRef = null;\n        _this.lowestRef = null;\n\n        _this.stx.removeInjection(_this.injectionId);\n\n        _this.injectionId = null;\n      }\n    };\n\n    this.enableMarker = function () {\n      if (_this.isHighestLowestMarkerEnabled) {\n        _this.injectionId = _this.stx.append('createDataSegment', _this.calculateHighestLowestByNewData);\n      } else {\n        _this.clearInjection();\n      }\n    };\n\n    this.setHighestRef = function (ref) {\n      _this.highestRef = ref;\n\n      if (ref !== null) {\n        _this.highestRef.value = ref.div.querySelector('.spot__value');\n      }\n    };\n\n    this.setLowestRef = function (ref) {\n      _this.lowestRef = ref;\n\n      if (ref !== null) {\n        _this.lowestRef.value = ref.div.querySelector('.spot__value');\n      }\n    };\n\n    this.onContextReady = this.enableMarker;\n\n    this.calculateHighestLowestByNewData = function () {\n      if (!_this.highestRef || !_this.lowestRef) {\n        return;\n      }\n\n      if (_this.stx.chart && _this.stx.chart.dataSegment.length) {\n        _this.highest = null;\n        _this.lowest = null;\n\n        _this.stx.chart.dataSegment.forEach(function (tick) {\n          if (!tick) {\n            return;\n          }\n\n          if (!_this.highest || _this.highest.Close <= tick.Close) {\n            _this.highest = tick;\n          }\n\n          if (!_this.lowest || _this.lowest.Close >= tick.Close) {\n            _this.lowest = tick;\n          }\n        });\n      }\n\n      if (!_this.highest || !_this.lowest || _this.highest.Close === _this.lowest.Close) {\n        _this.highestRef.setPosition({\n          epoch: null,\n          price: null\n        });\n\n        _this.lowestRef.setPosition({\n          epoch: null,\n          price: null\n        });\n\n        return;\n      }\n\n      if (_this.highest) {\n        var price = _this.highest.Close.toFixed(_this.decimalPlaces);\n\n        _this.highestRef.setPosition({\n          epoch: Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUTCEpoch\"])(CIQ.strToDateTime(_this.highest.Date)),\n          price: price\n        });\n\n        _this.highestRef.value.textContent = price;\n      }\n\n      if (_this.lowest) {\n        var _price = _this.lowest.Close.toFixed(_this.decimalPlaces);\n\n        _this.lowestRef.setPosition({\n          epoch: Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUTCEpoch\"])(CIQ.strToDateTime(_this.lowest.Date)),\n          price: _price\n        });\n\n        _this.lowestRef.value.textContent = _price;\n      }\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.isHighestLowestMarkerEnabled;\n    }, this.enableMarker);\n  }\n\n  return HighestLowestStore;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (HighestLowestStore);\n\n/***/ }),\n\n/***/ \"./src/store/LastDigitStatsStore.js\":\n/*!******************************************!*\\\n  !*** ./src/store/LastDigitStatsStore.js ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LastDigitStatsStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\nvar _dec, _dec2, _dec3, _class, _descriptor, _descriptor2, _temp;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\nvar LastDigitStatsStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function LastDigitStatsStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, LastDigitStatsStore);\n\n    this.count = 1000;\n    this.digits = [];\n    this.latestData = [];\n    this.lastSymbol = null;\n\n    _initializerDefineProperty(this, \"bars\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"lastTick\", _descriptor2, this);\n\n    this.mainStore = mainStore; // since last digits stats is going to be rendered in deriv-app\n    // we always keep track of the last digit stats.\n\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, function () {\n      _this.lastSymbol = _this.marketDisplayName;\n\n      _this.updateLastDigitStats(); // TODO: call onMasterDataUpdate on symobl change.\n\n\n      _this.mainStore.chart.feed.onMasterDataUpdate(_this.onMasterDataUpdate);\n\n      _this.mainStore.chart.feed.onMasterDataReinitialize(function () {\n        if (_this.context && _this.mainStore.chart.feed) {\n          _this.mainStore.chart.feed.offMasterDataUpdate(_this.onMasterDataUpdate);\n\n          _this.mainStore.chart.feed.onMasterDataUpdate(_this.onMasterDataUpdate);\n        }\n      });\n    });\n  }\n\n  _createClass(LastDigitStatsStore, [{\n    key: \"updateLastDigitStats\",\n    value: function () {\n      var _updateLastDigitStats = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var i, tickHistory;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(!this.context || !this.mainStore.chart.currentActiveSymbol)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                this.digits = [];\n                this.bars = [];\n                this.latestData = [];\n\n                for (i = 0; i < 10; i++) {\n                  this.digits.push(0);\n                  this.bars.push({\n                    height: 0,\n                    cName: ''\n                  });\n                }\n\n                if (!(this.stx.masterData && this.stx.masterData.length >= this.count)) {\n                  _context.next = 10;\n                  break;\n                }\n\n                this.latestData = this.stx.masterData.slice(-this.count).map(function (x) {\n                  return x.Close.toFixed(_this2.decimalPlaces);\n                });\n                _context.next = 14;\n                break;\n\n              case 10:\n                _context.next = 12;\n                return this.api.getTickHistory({\n                  symbol: this.mainStore.chart.currentActiveSymbol.symbol,\n                  count: this.count\n                });\n\n              case 12:\n                tickHistory = _context.sent;\n                this.latestData = tickHistory && tickHistory.history ? tickHistory.history.prices : [];\n\n              case 14:\n                if (!(!this.context || !this.mainStore.chart.currentActiveSymbol)) {\n                  _context.next = 16;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 16:\n                this.latestData.forEach(function (price) {\n                  var lastDigit = (+price).toFixed(_this2.decimalPlaces).slice(-1);\n                  _this2.digits[lastDigit]++;\n                });\n                this.updateBars();\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function updateLastDigitStats() {\n        return _updateLastDigitStats.apply(this, arguments);\n      }\n\n      return updateLastDigitStats;\n    }()\n  }, {\n    key: \"onMasterDataUpdate\",\n    value: function onMasterDataUpdate(_ref) {\n      var Close = _ref.Close,\n          tick = _ref.tick;\n      if (!this.context || !this.mainStore.chart.currentActiveSymbol) return;\n      this.lastTick = tick;\n\n      if (this.marketDisplayName !== this.lastSymbol) {\n        this.lastSymbol = this.marketDisplayName; // Symbol has changed\n\n        this.updateLastDigitStats();\n      } else if (this.latestData.length) {\n        var firstDigit = (+this.latestData.shift()).toFixed(this.decimalPlaces).slice(-1);\n        var price = (+Close).toFixed(this.decimalPlaces);\n        var lastDigit = price.slice(-1);\n        this.latestData.push(+price);\n        this.digits[lastDigit]++;\n        this.digits[firstDigit]--;\n        this.updateBars();\n      }\n    }\n  }, {\n    key: \"updateBars\",\n    value: function updateBars() {\n      var _this3 = this;\n\n      var min = Math.min.apply(Math, _toConsumableArray(this.digits));\n      var max = Math.max.apply(Math, _toConsumableArray(this.digits));\n      this.digits.forEach(function (digit, idx) {\n        _this3.bars[idx].height = digit * 100 / _this3.count;\n        if (digit === min) _this3.bars[idx].cName = 'min';else if (digit === max) _this3.bars[idx].cName = 'max';else _this3.bars[idx].cName = '';\n      });\n      this.bars = this.bars.slice(0); // force array update\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"api\",\n    get: function get() {\n      return this.mainStore.chart.api;\n    }\n  }, {\n    key: \"decimalPlaces\",\n    get: function get() {\n      var _this$mainStore$chart;\n\n      return ((_this$mainStore$chart = this.mainStore.chart.currentActiveSymbol) === null || _this$mainStore$chart === void 0 ? void 0 : _this$mainStore$chart.decimal_places) || 2;\n    }\n  }, {\n    key: \"isVisible\",\n    get: function get() {\n      return this.mainStore.state.showLastDigitStats;\n    }\n  }, {\n    key: \"marketDisplayName\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol ? this.mainStore.chart.currentActiveSymbol.name : '';\n    }\n  }, {\n    key: \"shouldMinimiseLastDigits\",\n    get: function get() {\n      return this.mainStore.state.shouldMinimiseLastDigits;\n    }\n  }]);\n\n  return LastDigitStatsStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"bars\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"lastTick\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"decimalPlaces\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"decimalPlaces\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"isVisible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"isVisible\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"marketDisplayName\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"marketDisplayName\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"shouldMinimiseLastDigits\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"shouldMinimiseLastDigits\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateLastDigitStats\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"updateLastDigitStats\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMasterDataUpdate\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onMasterDataUpdate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateBars\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"updateBars\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/ListStore.js\":\n/*!********************************!*\\\n  !*** ./src/store/ListStore.js ***!\n  \\********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ListStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\nvar _dec, _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\n\n\nvar ListStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function ListStore(_ref) {\n    var _this = this;\n\n    var getContext = _ref.getContext,\n        getItems = _ref.getItems,\n        onItemSelected = _ref.onItemSelected;\n\n    _classCallCheck(this, ListStore);\n\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function () {\n      return {\n        items: _this.getItems(),\n        onItemClick: _this.onItemClick\n      };\n    });\n    this.getContext = getContext;\n    this.getItems = getItems; // items : [{id: '', text: '', disabled?: false, active?: false}]\n\n    this.onItemSelected = onItemSelected;\n  }\n\n  _createClass(ListStore, [{\n    key: \"onItemClick\",\n    value: function onItemClick(idx, item) {\n      this.onItemSelected(item);\n    }\n  }]);\n\n  return ListStore;\n}(), _temp), (_applyDecoratedDescriptor(_class.prototype, \"onItemClick\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"onItemClick\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/LoaderStore.js\":\n/*!**********************************!*\\\n  !*** ./src/store/LoaderStore.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LoaderStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\nvar _dec, _dec2, _dec3, _class, _descriptor, _descriptor2, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\nvar LoaderStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function LoaderStore() {\n    _classCallCheck(this, LoaderStore);\n\n    _initializerDefineProperty(this, \"isActive\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"currentState\", _descriptor2, this);\n\n    this.states = {};\n    this.states = {\n      'chart-engine': t.translate('Retrieving Chart Engine...'),\n      'market-symbol': t.translate('Retrieving Market Symbols...'),\n      'trading-time': t.translate('Retrieving Trading Times...'),\n      'chart-data': t.translate('Retrieving Chart Data...')\n    };\n  }\n\n  _createClass(LoaderStore, [{\n    key: \"setState\",\n    value: function setState(state) {\n      if (!this.states[state]) {\n        console.error('Wrong state requested!');\n        return;\n      }\n\n      this.currentState = this.states[state];\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.isActive = true;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.isActive = false;\n    }\n  }]);\n\n  return LoaderStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"isActive\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentState\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setState\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setState\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"show\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"show\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"hide\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"hide\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/MenuStore.js\":\n/*!********************************!*\\\n  !*** ./src/store/MenuStore.js ***!\n  \\********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MenuStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _DialogStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DialogStore */ \"./src/store/DialogStore.js\");\n/* harmony import */ var _components_Dialog_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Dialog.jsx */ \"./src/components/Dialog.jsx\");\nvar _dec, _dec2, _dec3, _dec4, _class, _descriptor, _descriptor2, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\nvar MenuStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function MenuStore(mainStore, options) {\n    var _this = this;\n\n    _classCallCheck(this, MenuStore);\n\n    _initializerDefineProperty(this, \"dialogStatus\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"route\", _descriptor2, this);\n\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref) {\n      var c = _ref.chart,\n          chartSetting = _ref.chartSetting;\n      return {\n        ready: c.context,\n        setOpen: _this.setOpen,\n        open: _this.open,\n        dialogStatus: _this.dialogStatus,\n        onTitleClick: _this.onTitleClick,\n        handleCloseDialog: _this.handleCloseDialog,\n        DropdownDialog: _this.DropDownDialog,\n        isMobile: c.isMobile,\n        shouldRenderDialogs: c.shouldRenderDialogs,\n        theme: chartSetting.theme\n      };\n    });\n    this.mainStore = mainStore;\n    this.dialog = new _DialogStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"](mainStore);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.open;\n    }, function () {\n      return _this.blurInput();\n    });\n\n    if (options && options.route) {\n      this.route = options.route;\n    }\n\n    this.DropDownDialog = this.dialog.connect(_components_Dialog_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  }\n\n  _createClass(MenuStore, [{\n    key: \"setOpen\",\n    value: function setOpen(val) {\n      this.dialog.setOpen(val);\n      /**\n       *  Update the url hash by considering the dialog `route` and `open`\n       */\n\n      this.routingStore.updateRoute(this.route, val);\n    }\n  }, {\n    key: \"blurInput\",\n    value: function blurInput() {\n      var stx = this.context.stx;\n      setTimeout(this.handleDialogStatus, 300);\n\n      if (this.open === false) {\n        document.activeElement.blur();\n        stx.modalEnd();\n      } else {\n        stx.modalBegin();\n      }\n\n      stx.allowZoom = !this.open;\n\n      if (!this.open) {\n        this.mainStore.state.setEnableScroll();\n      } else {\n        this.mainStore.state.setDisableScroll();\n      }\n    }\n  }, {\n    key: \"onTitleClick\",\n    value: function onTitleClick(e) {\n      if (e) {\n        e.stopPropagation();\n      }\n\n      this.setOpen(!this.open);\n    }\n  }, {\n    key: \"handleDialogStatus\",\n    value: function handleDialogStatus() {\n      this.dialogStatus = this.open;\n    }\n  }, {\n    key: \"handleCloseDialog\",\n    value: function handleCloseDialog() {\n      var _this2 = this;\n\n      this.dialogStatus = false;\n      setTimeout(function () {\n        return _this2.setOpen(false);\n      }, 300);\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"routingStore\",\n    get: function get() {\n      return this.mainStore.routing;\n    }\n  }, {\n    key: \"open\",\n    get: function get() {\n      return this.dialog.open;\n    }\n  }]);\n\n  return MenuStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"dialogStatus\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"route\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"open\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"open\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setOpen\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setOpen\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onTitleClick\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onTitleClick\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleDialogStatus\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"handleDialogStatus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleCloseDialog\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"handleCloseDialog\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/NavigationWidgetStore.js\":\n/*!********************************************!*\\\n  !*** ./src/store/NavigationWidgetStore.js ***!\n  \\********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NavigationWidgetStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _class, _descriptor, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\nvar NavigationWidgetStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  _createClass(NavigationWidgetStore, [{\n    key: \"chart\",\n    get: function get() {\n      return this.mainStore.chart;\n    }\n  }, {\n    key: \"stateStore\",\n    get: function get() {\n      return this.mainStore.state;\n    }\n  }, {\n    key: \"crosshairStore\",\n    get: function get() {\n      return this.mainStore.crosshair;\n    }\n  }, {\n    key: \"stxx\",\n    get: function get() {\n      return this.chart.stxx;\n    }\n  }]);\n\n  function NavigationWidgetStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, NavigationWidgetStore);\n\n    _initializerDefineProperty(this, \"mouse_in\", _descriptor, this);\n\n    this.onContextReady = function () {\n      _this.stxx.prepend('mouseWheel', _this.onMouseWheel);\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.mainStore.chart.context;\n    }, this.onContextReady);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.crosshairStore.state;\n    }, this.onCrosshairChange);\n  }\n\n  _createClass(NavigationWidgetStore, [{\n    key: \"onMouseWheel\",\n    value: function onMouseWheel() {\n      this.stxx.chart.lockScroll = false;\n      this.mainStore.chart.updateScaledOneOne(false);\n    }\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter() {\n      this.mouse_in = true;\n      this.crosshairStore.updateVisibility(false);\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave() {\n      this.mouse_in = false;\n      this.crosshairStore.updateVisibility(true);\n    }\n  }, {\n    key: \"onScale\",\n    value: function onScale() {\n      var _this2 = this;\n\n      var point = null;\n      var dataSet = this.stxx.chart.dataSet;\n      if (dataSet && dataSet.length) point = dataSet[0];\n      this.stxx.home();\n      setTimeout(function () {\n        _this2.stateStore.scrollChartToLeft(point, true);\n      }, 10);\n    }\n  }, {\n    key: \"onCrosshairChange\",\n    value: function onCrosshairChange() {\n      if (this.crosshairStore.state === 2 && this.mouse_in) {\n        this.crosshairStore.updateVisibility(false);\n      }\n    }\n  }, {\n    key: \"enableScale\",\n    get: function get() {\n      return this.stateStore.startEpoch;\n    }\n  }]);\n\n  return NavigationWidgetStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"mouse_in\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"enableScale\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"enableScale\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMouseWheel\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseWheel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMouseEnter\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseEnter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMouseLeave\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseLeave\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onScale\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"onScale\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onCrosshairChange\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"onCrosshairChange\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/Notifier.js\":\n/*!*******************************!*\\\n  !*** ./src/store/Notifier.js ***!\n  \\*******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Notifier = /*#__PURE__*/function () {\n  function Notifier() {\n    _classCallCheck(this, Notifier);\n\n    this.onMessage = void 0;\n  }\n\n  _createClass(Notifier, [{\n    key: \"notify\",\n\n    /*\n     * a Notification object has the following structure:\n     * {\n     *     text, // displayed messages\n     *     type, // message type; choose from `info`, `warning`, `success`, `error`. Defaults to `warning`\n     *     category, // choose from `activesymbol`\n     * }\n     */\n    value: function notify(notification) {\n      if (this.onMessage) {\n        this.onMessage(_objectSpread({\n          type: 'warning'\n        }, notification));\n      }\n    }\n  }, {\n    key: \"notifyMarketOpen\",\n    value: function notifyMarketOpen(symbol) {\n      this.notify({\n        text: t.translate('[symbol] market is now opened.', {\n          symbol: symbol\n        }),\n        type: 'info',\n        category: Notifier.CATEGORY_ACTIVE_SYMBOL\n      });\n    }\n  }, {\n    key: \"notifyMarketClose\",\n    value: function notifyMarketClose(symbol) {\n      this.notify({\n        text: t.translate('[symbol] market is presently closed.', {\n          symbol: symbol\n        }),\n        category: Notifier.CATEGORY_ACTIVE_SYMBOL\n      });\n    }\n  }, {\n    key: \"notifyDelayedMarket\",\n    value: function notifyDelayedMarket(symbol, delay) {\n      this.notify({\n        text: t.translate('[symbol] feed is delayed by [delay] minutes', {\n          symbol: symbol,\n          delay: delay\n        }),\n        category: Notifier.CATEGORY_ACTIVE_SYMBOL\n      });\n    }\n  }, {\n    key: \"notifyFeedUnavailable\",\n    value: function notifyFeedUnavailable(symbol) {\n      this.notify({\n        text: t.translate('Streaming for [symbol] is not available due to license restrictions', {\n          symbol: symbol\n        }),\n        type: 'error',\n        category: Notifier.CATEGORY_ACTIVE_SYMBOL\n      });\n    }\n  }], [{\n    key: \"CATEGORY_ACTIVE_SYMBOL\",\n    get: function get() {\n      return 'activesymbol';\n    }\n  }]);\n\n  return Notifier;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Notifier);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/PaginationLoaderStore.js\":\n/*!********************************************!*\\\n  !*** ./src/store/PaginationLoaderStore.js ***!\n  \\********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\nvar _dec, _dec2, _class, _descriptor, _descriptor2, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\nvar PaginationLoaderStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  _createClass(PaginationLoaderStore, [{\n    key: \"feed\",\n    get: function get() {\n      return this.mainStore.chart.feed;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.mainStore.chart.stxx;\n    }\n  }]);\n\n  function PaginationLoaderStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, PaginationLoaderStore);\n\n    _initializerDefineProperty(this, \"isOnPagination\", _descriptor, this);\n\n    this.paginationEndEpoch = null;\n\n    this.onContextReady = function () {\n      _this.feed.onStartPagination(_this.setOnPagination);\n\n      _this.feed.onPagination(_this.setOnPagination); // this injection will slows down the swiping and mouse wheel operations\n      // by ignoring requests that are too close from one another or\n      // when isOnPagination is true\n\n\n      _this.stx.prepend('mouseWheel', _this.onMouseWheel);\n    };\n\n    this.onMouseWheel = function (e) {\n      e.preventDefault();\n      var diff = null;\n      var timeLimit = 40;\n      if (_this.stx.lastMouseWheelEvent) diff = Date.now() - _this.stx.lastMouseWheelEvent;\n      if (diff && diff < timeLimit || _this.isOnPagination) return true; // skip swiping\n\n      return false; // continue swiping\n    };\n\n    this.setRef = function (ref) {\n      _this.ref = ref;\n\n      if (_this.ref !== null) {\n        _this.ref.setPosition({\n          epoch: _this.paginationEndEpoch,\n          price: 0\n        });\n      }\n    };\n\n    _initializerDefineProperty(this, \"setOnPagination\", _descriptor2, this);\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(PaginationLoaderStore, [{\n    key: \"updateOnPagination\",\n    value: function updateOnPagination(state) {\n      this.isOnPagination = state;\n    }\n  }]);\n\n  return PaginationLoaderStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"isOnPagination\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"updateOnPagination\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"updateOnPagination\"), _class.prototype), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"setOnPagination\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this2 = this;\n\n    return function (_ref) {\n      var end = _ref.end;\n      _this2.isOnPagination = !_this2.isOnPagination;\n      _this2.paginationEndEpoch = _this2.isOnPagination ? end : null;\n\n      if (_this2.ref) {\n        _this2.ref.setPosition({\n          epoch: _this2.paginationEndEpoch,\n          price: 0\n        });\n      }\n    };\n  }\n})), _class));\n/* harmony default export */ __webpack_exports__[\"default\"] = (PaginationLoaderStore);\n\n/***/ }),\n\n/***/ \"./src/store/PriceLineStore.js\":\n/*!*************************************!*\\\n  !*** ./src/store/PriceLineStore.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PriceLineStore; });\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-emitter-es6 */ \"./node_modules/event-emitter-es6/index.js\");\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\nvar LINE_OFFSET_HEIGHT = 4;\nvar LINE_OFFSET_HEIGHT_HALF = LINE_OFFSET_HEIGHT >> 1;\nvar PriceLineStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  _createClass(PriceLineStore, [{\n    key: \"zIndex\",\n    // @observable top = 0;\n    // @observable zIndex;\n    // @observable uncentered = false;\n    set: function set(value) {\n      if (this._line) {\n        this._line.style.zIndex = value;\n      }\n    }\n  }, {\n    key: \"pip\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places;\n    }\n  }]);\n\n  function PriceLineStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, PriceLineStore);\n\n    this._relative = false;\n\n    _initializerDefineProperty(this, \"draggable\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"isDragging\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"visible\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"_price\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"offScreen\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"title\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"isOverlapping\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"offScreenDirection\", _descriptor8, this);\n\n    this.onContextReady = function () {\n      _this._injectionId = _this.stx.append('draw', _this._draw);\n    };\n\n    this.init = function () {\n      var exitIfNotisDraggable = function exitIfNotisDraggable(e, callback) {\n        if (_this.visible && _this.draggable) {\n          callback.call(_this, e);\n        }\n      };\n\n      CIQ.safeDrag(_this._line, function (e) {\n        return exitIfNotisDraggable(e, _this._startDrag);\n      }, function (e) {\n        return exitIfNotisDraggable(e, _this._dragLine);\n      }, function (e) {\n        return exitIfNotisDraggable(e, _this._endDrag);\n      });\n    };\n\n    _initializerDefineProperty(this, \"_calculateTop\", _descriptor9, this);\n\n    this._draw = function () {\n      if (_this.visible && _this._line) {\n        _this.top = _this._calculateTop();\n      }\n    };\n\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        priceDisplay: _this.priceDisplay,\n        visible: _this.visible,\n        setDragLine: _this.setDragLine,\n        className: _this.className,\n        draggable: _this.draggable,\n        isDragging: _this.isDragging,\n        init: _this.init,\n        title: _this.title,\n        yAxiswidth: _this.yAxiswidth,\n        offScreen: _this.offScreen,\n        hideBarrierLine: _this.hideBarrierLine,\n        hideOffscreenLine: _this.hideOffscreenLine,\n        offScreenDirection: _this.offScreenDirection,\n        isOverlapping: _this.isOverlapping // zIndex: this.zIndex,\n\n      };\n    });\n    this.mainStore = mainStore;\n    this._emitter = new event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default.a({\n      emitDelay: 0\n    });\n    Object(mobx__WEBPACK_IMPORTED_MODULE_1__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(PriceLineStore, [{\n    key: \"destructor\",\n    value: function destructor() {\n      this.stx.removeInjection(this._injectionId);\n    }\n  }, {\n    key: \"setDragLine\",\n    value: function setDragLine(el) {\n      this._line = el;\n\n      if (this._line) {\n        this._draw();\n      }\n    }\n  }, {\n    key: \"_modalBegin\",\n    value: function _modalBegin() {\n      if (this.stx.grabbingScreen) {\n        return;\n      }\n\n      this.stx.editingAnnotation = true;\n      this.stx.modalBegin();\n    }\n  }, {\n    key: \"_modalEnd\",\n    value: function _modalEnd() {\n      this.stx.modalEnd();\n      this.stx.editingAnnotation = false;\n    }\n  }, {\n    key: \"_startDrag\",\n    value: function _startDrag() {\n      this._modalBegin();\n\n      this.isDragging = true;\n      this._initialPosition = this.top;\n      this._startDragPrice = this._price;\n    }\n  }, {\n    key: \"_dragLine\",\n    value: function _dragLine(e) {\n      if (!this._line) {\n        return;\n      }\n\n      var newTop = this._initialPosition + e.displacementY;\n      var newCenter = newTop + LINE_OFFSET_HEIGHT_HALF;\n\n      var newPrice = this._priceFromLocation(newCenter);\n\n      if (this._priceConstrainer) {\n        newPrice = this._priceConstrainer(newPrice);\n      }\n\n      if (this.relative) {\n        newPrice -= this.mainStore.chart.currentCloseQuote().Close;\n      }\n\n      this.price = newPrice;\n    }\n  }, {\n    key: \"_endDrag\",\n    value: function _endDrag() {\n      this._modalEnd();\n\n      this.isDragging = false;\n\n      if (this._startDragPrice.toFixed(this.pip) !== this._price.toFixed(this.pip)) {\n        this._emitter.emit(PriceLineStore.EVENT_DRAG_RELEASED, this._price);\n      }\n    }\n  }, {\n    key: \"_locationFromPrice\",\n    value: function _locationFromPrice(p) {\n      return this.stx.pixelFromPrice(p, this.chart.panel) - this.chart.panel.top;\n    }\n  }, {\n    key: \"_priceFromLocation\",\n    value: function _priceFromLocation(y) {\n      var price = this.stx.valueFromPixel(y + this.chart.panel.top, this.chart.panel);\n      return price;\n    }\n  }, {\n    key: \"onPriceChanged\",\n    value: function onPriceChanged(callback) {\n      this._emitter.on(PriceLineStore.EVENT_PRICE_CHANGED, callback);\n    }\n  }, {\n    key: \"onDragReleased\",\n    value: function onDragReleased(callback) {\n      this._emitter.on(PriceLineStore.EVENT_DRAG_RELEASED, callback);\n    }\n  }, {\n    key: \"overlapCheck\",\n    value: function overlapCheck(top) {\n      var _this2 = this;\n\n      var _barriers = this.mainStore.chart._barriers;\n\n      var filtered_barriers = _barriers.filter(function (a) {\n        return a._high_barrier.price !== 0;\n      });\n\n      var current_barrier_idx = filtered_barriers.findIndex(function (b) {\n        return b._high_barrier === _this2;\n      });\n\n      for (var i = 0; i < filtered_barriers.length; i++) {\n        if (i === current_barrier_idx) {\n          continue;\n        }\n\n        var barrier = filtered_barriers[i];\n        var diffTop = Math.abs(barrier._high_barrier.top - top);\n\n        if (diffTop < 25) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"priceDisplay\",\n    get: function get() {\n      var display = this._price.toFixed(this.pip);\n\n      if (this.relative && this._price > 0) {\n        display = \"+\".concat(display);\n      }\n\n      return display;\n    }\n  }, {\n    key: \"price\",\n    get: function get() {\n      return this._price;\n    },\n    set: function set(value) {\n      if (value !== this._price) {\n        this._price = value;\n\n        this._draw();\n\n        this._emitter.emit(PriceLineStore.EVENT_PRICE_CHANGED, this._price);\n      }\n    }\n  }, {\n    key: \"relative\",\n    get: function get() {\n      return this._relative;\n    },\n    set: function set(value) {\n      if (this._relative === value) {\n        return;\n      }\n\n      this._relative = value; // convert between relative and absolute\n\n      var currentQuote = this.mainStore.chart.currentCloseQuote();\n      var currentPrice = currentQuote ? currentQuote.Close : 0;\n\n      if (this._relative) {\n        currentPrice = -currentPrice;\n      }\n\n      this.price = this._price + currentPrice;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"chart\",\n    get: function get() {\n      return this.stx.chart;\n    }\n  }, {\n    key: \"priceConstrainer\",\n    set: function set(value) {\n      this._priceConstrainer = value;\n    }\n  }, {\n    key: \"realPrice\",\n    get: function get() {\n      return this.relative ? this.mainStore.chart.currentCloseQuote().Close + this._price : this._price;\n    }\n  }, {\n    key: \"yAxiswidth\",\n    get: function get() {\n      return this.mainStore.chart.yAxiswidth;\n    }\n  }, {\n    key: \"top\",\n    // Mantually update the dop to improve performance.\n    // We don't pay for react reconciler and mobx observable tracking in animation frames.\n    set: function set(v) {\n      this.__top = v;\n      this._line.style.transform = \"translateY(\".concat(this.top - 13, \"px)\");\n    },\n    get: function get() {\n      return this.__top;\n    }\n  }], [{\n    key: \"EVENT_PRICE_CHANGED\",\n    get: function get() {\n      return 'EVENT_PRICE_CHANGED';\n    }\n  }, {\n    key: \"EVENT_DRAG_RELEASED\",\n    get: function get() {\n      return 'EVENT_DRAG_RELEASED';\n    }\n  }]);\n\n  return PriceLineStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"draggable\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"isDragging\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"visible\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"_price\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"offScreen\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"title\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"isOverlapping\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"offScreenDirection\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"pip\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"pip\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"priceDisplay\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"priceDisplay\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setDragLine\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setDragLine\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_startDrag\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"_startDrag\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_dragLine\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"_dragLine\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_endDrag\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"_endDrag\"), _class.prototype), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"_calculateTop\", [_dec5], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this3 = this;\n\n    return function () {\n      if (_this3.stx.currentQuote() === null) {\n        return;\n      }\n\n      var top = _this3._locationFromPrice(_this3.realPrice); // keep line on chart even if price is off viewable area:\n\n\n      if (top < 0) {\n        // this.uncentered = true;\n        if (top < -LINE_OFFSET_HEIGHT_HALF) {\n          _this3.offScreenDirection = _utils__WEBPACK_IMPORTED_MODULE_3__[\"DIRECTIONS\"].UP;\n        }\n\n        top = 0;\n      } else if (top + LINE_OFFSET_HEIGHT > _this3.chart.panel.height) {\n        // this.uncentered = true;\n        if (top + LINE_OFFSET_HEIGHT - _this3.chart.panel.height > LINE_OFFSET_HEIGHT_HALF) {\n          _this3.offScreenDirection = _utils__WEBPACK_IMPORTED_MODULE_3__[\"DIRECTIONS\"].DOWN;\n        }\n\n        top = _this3.chart.panel.height - LINE_OFFSET_HEIGHT;\n      } else {\n        // this.uncentered = false;\n        _this3.offScreenDirection = null;\n      }\n\n      _this3.offScreen = !!_this3.offScreenDirection;\n\n      if (top + 30 > _this3.chart.panel.height) {\n        top = _this3.chart.panel.height - 30;\n      } else if (top < 10) {\n        top = 10;\n      }\n\n      if (_this3.offScreenDirection && _this3.showOffscreenArrows) {\n        top += _this3.offScreenDirection === _utils__WEBPACK_IMPORTED_MODULE_3__[\"DIRECTIONS\"].UP ? +_utils__WEBPACK_IMPORTED_MODULE_3__[\"ARROW_HEIGHT\"] : -_utils__WEBPACK_IMPORTED_MODULE_3__[\"ARROW_HEIGHT\"];\n      }\n\n      if (_this3.opacityOnOverlap) {\n        _this3.isOverlapping = _this3.overlapCheck(top);\n      }\n\n      return Math.round(top) | 0;\n    };\n  }\n})), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/RoutingStore.js\":\n/*!***********************************!*\\\n  !*** ./src/store/RoutingStore.js ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RoutingStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\nvar _dec, _dec2, _dec3, _dec4, _class;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\n\nvar allDialogs = [];\nvar RoutingStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = /*#__PURE__*/function () {\n  function RoutingStore(mainStore) {\n    _classCallCheck(this, RoutingStore);\n\n    this.mainStore = mainStore;\n  }\n\n  _createClass(RoutingStore, [{\n    key: \"handleRouting\",\n    value: function handleRouting() {\n      var _this = this;\n\n      window.addEventListener('hashchange', function () {\n        var hash = window.history.state.urlPath.replace('#', '');\n\n        if (hash === '') {\n          _this.closeAll();\n        }\n      }, false);\n    }\n  }, {\n    key: \"updateRoute\",\n    value: function updateRoute(route, dialogStatus) {\n      var enableRouting = this.mainStore.chart.enableRouting;\n\n      if (enableRouting && dialogStatus && route) {\n        window.history.replaceState({\n          urlPath: '#'\n        }, '', '#');\n        window.history.pushState({\n          urlPath: \"#\".concat(route)\n        }, '', \"#\".concat(route));\n      } else if (enableRouting && !dialogStatus && route) {\n        window.history.replaceState({\n          urlPath: '#'\n        }, '', '#');\n      }\n    }\n  }, {\n    key: \"registerDialog\",\n    value: function registerDialog(dialogStore) {\n      allDialogs.push(dialogStore);\n    }\n  }, {\n    key: \"closeAll\",\n    value: function closeAll() {\n      allDialogs.forEach(function (m) {\n        return m.setOpen(false);\n      });\n    }\n  }]);\n\n  return RoutingStore;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"handleRouting\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"handleRouting\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateRoute\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateRoute\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"registerDialog\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"registerDialog\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"closeAll\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"closeAll\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/ScrollStore.js\":\n/*!**********************************!*\\\n  !*** ./src/store/ScrollStore.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ScrollStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\nvar _dec, _dec2, _dec3, _class, _descriptor, _descriptor2, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\nvar ScrollStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function ScrollStore() {\n    var _this = this;\n\n    _classCallCheck(this, ScrollStore);\n\n    _initializerDefineProperty(this, \"isHover\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"scrollPanel\", _descriptor2, this);\n\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.scrollPanel;\n    }, function () {\n      if (!_this.scrollPanel) {\n        return;\n      }\n\n      _this.scrollPanel.addEventListener('mouseover', _this.handleMouseOver);\n\n      _this.scrollPanel.addEventListener('mouseout', _this.handleMouseOut);\n    });\n  }\n\n  _createClass(ScrollStore, [{\n    key: \"handleMouseOver\",\n    value: function handleMouseOver() {\n      if (!this.isHover) this.isHover = true;\n    }\n  }, {\n    key: \"handleMouseOut\",\n    value: function handleMouseOut() {\n      if (this.isHover) this.isHover = false;\n    }\n  }, {\n    key: \"setScrollPanel\",\n    value: function setScrollPanel(element) {\n      if (!this.scrollPanel) this.scrollPanel = element;\n    }\n  }]);\n\n  return ScrollStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"isHover\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"scrollPanel\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"handleMouseOver\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"handleMouseOver\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleMouseOut\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"handleMouseOut\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setScrollPanel\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"setScrollPanel\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/SettingsDialogStore.js\":\n/*!******************************************!*\\\n  !*** ./src/store/SettingsDialogStore.js ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SettingsDialogStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\nvar SettingsDialogStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  _createClass(SettingsDialogStore, [{\n    key: \"showTabs\",\n    // [{id: '', title: '', value: ''}]\n    // 'settings' | 'description'\n    get: function get() {\n      return !!this.description;\n    }\n  }]);\n\n  function SettingsDialogStore(_ref) {\n    var _this = this;\n\n    var mainStore = _ref.mainStore,\n        getContext = _ref.getContext,\n        onChanged = _ref.onChanged,\n        onDeleted = _ref.onDeleted;\n\n    _classCallCheck(this, SettingsDialogStore);\n\n    _initializerDefineProperty(this, \"items\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"title\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"formTitle\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"formClassname\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"description\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"activeTab\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"scrollPanel\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"dialogPortalNodeId\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"freezeScroll\", _descriptor9, this);\n\n    this.checkDropdownOpen = function () {\n      var freezeScroll = false;\n\n      if (!_this.scrollPanel) {\n        return;\n      }\n\n      var dropdowns = _this.scrollPanel.querySelectorAll('.sc-color-picker, .sc-dropdown');\n\n      dropdowns.forEach(function (dropdown) {\n        if (dropdown.className.indexOf('active') !== -1) freezeScroll = true;\n      });\n\n      _this.setFreezeScroll(freezeScroll);\n    };\n\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function () {\n      return {\n        items: _this.items,\n        itemGroups: _this.itemGroups,\n        title: _this.title,\n        formClassname: _this.formClassname,\n        description: _this.description,\n        showTabs: _this.showTabs,\n        onResetClick: _this.onResetClick,\n        onItemChange: _this.onItemChange,\n        onItemActive: _this.onItemActive,\n        onItemDelete: _this.onItemDelete,\n        SettingDialogMenu: _this.SettingDialogMenu,\n        open: _this.open,\n        theme: _this.theme,\n        setScrollPanel: _this.setScrollPanel,\n        close: _this.menu.handleCloseDialog,\n        dialogPortalNodeId: _this.dialogPortalNodeId,\n        freezeScroll: _this.freezeScroll\n      };\n    });\n    this.mainStore = mainStore;\n    this.getContext = getContext;\n    this.onChanged = onChanged;\n    this.onDeleted = onDeleted;\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"](mainStore, {\n      route: 'indicator-setting'\n    });\n    this.SettingDialogMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.open;\n    }, function () {\n      if (!_this.scrollPanel || !_this.open) {\n        return;\n      }\n\n      var dropdowns = _this.scrollPanel.querySelectorAll('.sc-color-picker, .sc-dropdown');\n\n      _this.scrollPanel.addEventListener('click', function () {\n        _this.setFreezeScroll(false);\n      });\n\n      dropdowns.forEach(function (dropdown) {\n        dropdown.addEventListener('click', function () {\n          return setTimeout(function () {\n            return _this.checkDropdownOpen();\n          }, 50);\n        });\n      });\n\n      _this.setFreezeScroll(false);\n    }, {\n      delay: 300\n    });\n  }\n\n  _createClass(SettingsDialogStore, [{\n    key: \"setFreezeScroll\",\n    value: function setFreezeScroll(status) {\n      this.freezeScroll = status;\n    }\n  }, {\n    key: \"setOpen\",\n    value: function setOpen(value) {\n      if (value && this.scrollPanel) {\n        this.scrollPanel.scrollTop = 0;\n      }\n\n      return this.menu.setOpen(value);\n    }\n  }, {\n    key: \"onResetClick\",\n    value: function onResetClick() {\n      var items = this.items.map(function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          value: item.defaultValue\n        });\n      });\n      this.items = items;\n      this.onChanged(items);\n    }\n  }, {\n    key: \"onItemDelete\",\n    value: function onItemDelete() {\n      this.menu.setOpen(false);\n      if (this.onDeleted) this.onDeleted();\n    }\n  }, {\n    key: \"onItemChange\",\n    value: function onItemChange(id, newValue) {\n      var item = this.items.find(function (x) {\n        return x.id === id;\n      });\n\n      if (item && item.value !== newValue) {\n        item.value = newValue;\n        this.items = this.items.slice(0); // force array update\n\n        this.onChanged(this.items);\n      }\n    }\n  }, {\n    key: \"setScrollPanel\",\n    value: function setScrollPanel(element) {\n      this.scrollPanel = element;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"theme\",\n    get: function get() {\n      return this.mainStore.chartSetting.theme;\n    }\n  }, {\n    key: \"open\",\n    get: function get() {\n      return this.menu.open;\n    }\n  }, {\n    key: \"itemGroups\",\n    get: function get() {\n      var _this2 = this;\n\n      var restGroup = [];\n      var groups = [];\n      groups.push({\n        key: '%K',\n        fields: []\n      });\n      groups.push({\n        key: '%D',\n        fields: []\n      });\n      groups.push({\n        key: 'OverBought',\n        fields: []\n      });\n      groups.push({\n        key: 'OverSold',\n        fields: []\n      });\n      groups.push({\n        key: 'Show Zones',\n        fields: []\n      });\n\n      var _loop = function _loop(index) {\n        var item = _this2.items[index];\n        var title = item.title;\n        var group = groups.find(function (x) {\n          return title.indexOf(x.key) !== -1;\n        });\n\n        if (group) {\n          item.subtitle = title.replace(group.key, '').trim();\n          group.fields.push(item);\n        } else {\n          restGroup.push(item);\n        }\n      };\n\n      for (var index in this.items) {\n        _loop(index);\n      }\n\n      groups.unshift({\n        key: this.formTitle || this.title,\n        fields: restGroup\n      });\n      return groups;\n    }\n  }]);\n\n  return SettingsDialogStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"items\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"title\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"formTitle\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"formClassname\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"description\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"activeTab\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'settings';\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"showTabs\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"showTabs\"), _class.prototype), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"scrollPanel\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"dialogPortalNodeId\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"freezeScroll\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"open\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"open\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setFreezeScroll\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setFreezeScroll\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setOpen\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"setOpen\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onResetClick\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"onResetClick\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onItemDelete\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"onItemDelete\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onItemChange\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"onItemChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"itemGroups\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"itemGroups\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setScrollPanel\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"setScrollPanel\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/ShadeStore.js\":\n/*!*********************************!*\\\n  !*** ./src/store/ShadeStore.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ShadeStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\nvar _class, _descriptor, _descriptor2, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\nvar ShadeStore = (_class = (_temp = function ShadeStore(className) {\n  var _this = this;\n\n  _classCallCheck(this, ShadeStore);\n\n  _initializerDefineProperty(this, \"className\", _descriptor, this);\n\n  _initializerDefineProperty(this, \"visible\", _descriptor2, this);\n\n  this.setPosition = function (_ref) {\n    var top = _ref.top,\n        bottom = _ref.bottom,\n        right = _ref.right;\n\n    if (_this._div) {\n      var pos = null;\n\n      if (bottom && top) {\n        // between shade\n        var y = (bottom + top) / 2 + 60; // manually scale from default 120px (_barrier.scss)\n\n        var scale = (bottom - top) / 120.0;\n        pos = \"translate(\".concat(-right, \"px, \").concat(y, \"px) scale(1, \").concat(scale, \")\");\n      } else if (bottom) {\n        // above shade\n        pos = \"translate(\".concat(-right, \"px, \").concat(bottom, \"px)\");\n      } else if (top) {\n        // below shade\n        pos = \"translate(\".concat(-right, \"px, \").concat(top + 120, \"px)\");\n      }\n\n      _this._div.style.transform = pos;\n    }\n  };\n\n  this.setShadeRef = function (ref) {\n    _this._div = ref;\n  };\n\n  this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function () {\n    return {\n      visible: _this.visible,\n      className: _this.className,\n      setShadeRef: _this.setShadeRef\n    };\n  });\n  this.className = className;\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"className\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"visible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n})), _class);\n\n\n/***/ }),\n\n/***/ \"./src/store/ShareStore.js\":\n/*!*********************************!*\\\n  !*** ./src/store/ShareStore.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ShareStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _class, _descriptor, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\n\n\n\n\n\nvar ShareStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function ShareStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ShareStore);\n\n    _initializerDefineProperty(this, \"isLoadingPNG\", _descriptor, this);\n\n    this.onContextReady = function () {\n      _this.screenshotArea = _this.context.topNode.querySelector('.ciq-chart');\n    };\n\n    this.mainStore = mainStore;\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](mainStore, {\n      route: 'download'\n    });\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    this.Dialog = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  }\n\n  _createClass(ShareStore, [{\n    key: \"createNewTab\",\n    value: function createNewTab() {\n      // Create a new tab for browsers that doesn't support HTML5 download attribute\n      return !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform) ? window.open() : null;\n    }\n  }, {\n    key: \"downloadPNG\",\n    value: function downloadPNG() {\n      var _this2 = this;\n\n      this.isLoadingPNG = true;\n      var newTab = this.createNewTab();\n      __webpack_require__.e(/*! import() | html2canvas */ \"html2canvas\").then(__webpack_require__.t.bind(null, /*! ../../chartiq/html2canvas.min.js */ \"./chartiq/html2canvas.min.js\", 7)).then(function (html2canvas) {\n        // since react rerenders is not immediate, we use CIQ.appendClassName to\n        // immediately append/unappend class name before taking screenshot.\n        _this2.screenshotArea.classList.add('ciq-chart--screenshot');\n\n        setTimeout(function () {\n          html2canvas[\"default\"](_this2.screenshotArea).then(function (canvas) {\n            return _this2._onCanvasReady(canvas, newTab);\n          });\n        }, 0);\n      });\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Download, 'Download PNG');\n    }\n  }, {\n    key: \"_onCanvasReady\",\n    value: function _onCanvasReady(canvas, newTab) {\n      var content = canvas.toDataURL('image/png');\n      Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"downloadFileInBrowser\"])(\"\".concat(new Date().toUTCString(), \".png\"), content, 'image/png;', newTab);\n      this.isLoadingPNG = false;\n      this.screenshotArea.classList.remove('ciq-chart--screenshot');\n    }\n  }, {\n    key: \"downloadCSV\",\n    value: function downloadCSV() {\n      var _this3 = this;\n\n      var isTick = this.timeUnit === 'tick';\n      var header = \"Date,Time,\".concat(isTick ? this.marketDisplayName : 'Open,High,Low,Close');\n      var lines = [header];\n      var totalItemCount = this.stx.masterData.length;\n      var allowableItems = totalItemCount <= 100 ? this.stx.masterData : this.stx.masterData.slice(totalItemCount - 100, totalItemCount);\n      allowableItems.forEach(function (_ref) {\n        var DT = _ref.DT,\n            Open = _ref.Open,\n            High = _ref.High,\n            Low = _ref.Low,\n            Close = _ref.Close;\n        var year = DT.getFullYear();\n        var month = DT.getMonth() + 1; // months from 1-12\n\n        var day = DT.getDate();\n        var hours = DT.getHours();\n        var minutes = DT.getMinutes();\n        var seconds = DT.getSeconds();\n        var formattedSeconds = seconds > 9 ? \":\".concat(seconds) : \":0\".concat(seconds);\n        var date = \"\".concat(year, \"-\").concat(month > 9 ? month : \"0\".concat(month), \"-\").concat(day > 9 ? day : \"0\".concat(day));\n        var time = \"\".concat(hours > 9 ? hours : \"0\".concat(hours), \":\").concat(minutes > 9 ? minutes : \"0\".concat(minutes)).concat(isTick ? formattedSeconds : '');\n\n        if (isTick && Close) {\n          lines.push(\"\".concat(date, \",\").concat(time, \",\").concat(Close));\n        }\n\n        if (!isTick && Open && High && Low && Close) {\n          lines.push([date, time, Open.toFixed(_this3.decimalPlaces), High.toFixed(_this3.decimalPlaces), Low.toFixed(_this3.decimalPlaces), Close.toFixed(_this3.decimalPlaces)].join(','));\n        }\n      });\n      Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"downloadFileInBrowser\"])(\"\".concat(this.marketDisplayName, \" (\").concat(this.timeperiodDisplay, \").csv\"), lines.join('\\n'), 'text/csv;charset=utf-8;', this.createNewTab());\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Download, 'Download CSV');\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"timeUnit\",\n    get: function get() {\n      return this.mainStore.timeperiod.timeUnit;\n    }\n  }, {\n    key: \"timeperiodDisplay\",\n    get: function get() {\n      return this.mainStore.timeperiod.display;\n    }\n  }, {\n    key: \"marketDisplayName\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.name;\n    }\n  }, {\n    key: \"decimalPlaces\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places;\n    }\n  }]);\n\n  return ShareStore;\n}(), _temp), (_applyDecoratedDescriptor(_class.prototype, \"timeUnit\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"timeUnit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"timeperiodDisplay\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"timeperiodDisplay\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"marketDisplayName\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"marketDisplayName\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"decimalPlaces\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"decimalPlaces\"), _class.prototype), _descriptor = _applyDecoratedDescriptor(_class.prototype, \"isLoadingPNG\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"downloadPNG\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"downloadPNG\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_onCanvasReady\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"_onCanvasReady\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"downloadCSV\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"downloadCSV\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/StudyLegendStore.js\":\n/*!***************************************!*\\\n  !*** ./src/store/StudyLegendStore.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StudyLegendStore; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SettingsDialogStore */ \"./src/store/SettingsDialogStore.js\");\n/* harmony import */ var _components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/SettingsDialog.jsx */ \"./src/components/SettingsDialog.jsx\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _components_SearchInput_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/SearchInput.jsx */ \"./src/components/SearchInput.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\n/* harmony import */ var _Constant__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Constant */ \"./src/Constant.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_icons_chart_ic_maximize_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../sass/icons/chart/ic-maximize.svg */ \"./sass/icons/chart/ic-maximize.svg\");\n/* harmony import */ var _sass_icons_chart_ic_maximize_svg__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_chart_ic_maximize_svg__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _sass_icons_common_ic_minimize_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../sass/icons/common/ic-minimize.svg */ \"./sass/icons/common/ic-minimize.svg\");\n/* harmony import */ var _sass_icons_common_ic_minimize_svg__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_sass_icons_common_ic_minimize_svg__WEBPACK_IMPORTED_MODULE_13__);\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _temp;\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // TODO:\n// import StudyInfo from '../study-info';\n\nvar updateFieldHeading = function updateFieldHeading(heading, type) {\n  var names = ['%D', '%K'];\n\n  if (heading.toLowerCase() === type.toLowerCase() || heading === 'Result') {\n    return 'Color';\n  }\n\n  if (names.indexOf(heading) > 0) {\n    return \"\".concat(heading, \" Color\");\n  }\n\n  return heading;\n};\n\nvar StudyLegendStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec11 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec12 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec13 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec14 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec15 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec16 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec17 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function StudyLegendStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, StudyLegendStore);\n\n    this.previousStudies = {};\n    this.searchInputClassName = void 0;\n\n    _initializerDefineProperty(this, \"selectedTab\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"filterText\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"activeItems\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"infoItem\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"portalNodeIdChanged\", _descriptor5, this);\n\n    this.onContextReady = function () {\n      _this.stx.addEventListener('studyOverlayEdit', _this.editStudy);\n\n      _this.stx.addEventListener('studyPanelEdit', _this.editStudy); // to remove studies if user has already more than 5\n      // and remove studies which are excluded\n\n\n      _this.removeExtraStudies();\n\n      _this.stx.append('createDataSet', _this.renderLegend);\n\n      _this.stx.append('drawPanels', _this.handleDrawPanels);\n\n      _this.stx.append('panelClose', _this.onStudyRemoved);\n\n      _this.renderLegend();\n    };\n\n    this.handleDrawPanels = function () {\n      var panelsLen = Object.keys(_this.stx.panels).length;\n      Object.keys(_this.stx.panels).forEach(function (id, index) {\n        if (index === 0) {\n          return;\n        }\n\n        var panelObj = _this.stx.panels[id];\n\n        if (_this.mainStore.chart.isMobile) {\n          if (panelObj.up.className.indexOf('show') !== -1) {\n            panelObj.up.className = 'stx-btn-panel';\n          }\n\n          if (panelObj.down.className.indexOf('show') !== -1) {\n            panelObj.down.className = 'stx-btn-panel';\n          }\n\n          if (panelObj.solo.className.indexOf('show') !== -1) {\n            panelObj.solo.className = 'stx-btn-panel';\n          }\n\n          if (panelObj.close.className.indexOf('show') !== -1) {\n            panelObj.close.className = 'stx-btn-panel';\n          }\n        }\n\n        var sd = _this.stx.layout.studies[id];\n        var isSolo = panelObj.solo.getAttribute('class').includes('stx_solo_lit');\n\n        if (sd) {\n          var nameObj = Object(_utils__WEBPACK_IMPORTED_MODULE_10__[\"prepareIndicatorName\"])(sd.name);\n\n          if (nameObj.name.trim() !== sd.name.trim()) {\n            panelObj.title.innerHTML = nameObj.bars ? \"\".concat(nameObj.name, \" (\").concat(nameObj.bars, \")\") : nameObj.name;\n          } // Regarding the ChartIQ.js, codes under Line 34217, edit function\n          // not mapped, this is a force to map edit function for indicators\n\n\n          if (sd.editFunction && panelObj && !panelObj.editFunction) {\n            _this.stx.setPanelEdit(panelObj, sd.editFunction);\n          }\n        }\n\n        if (index === 1 || isSolo) {\n          // Hide the up arrow from first indicator to prevent user\n          // from moving the indicator panel above the main chart\n          panelObj.up.style.display = 'none';\n        }\n\n        if (index === panelsLen - 1 || isSolo) {\n          panelObj.down.style.display = 'none';\n        } // Mean chart + 1 indicator\n\n\n        if (panelsLen === 2) {\n          panelObj.solo.style.display = 'none';\n        } // Updating Max/Min icon\n\n\n        if (panelObj.solo.style.display !== 'none') {\n          var soloIcon = isSolo ? _sass_icons_common_ic_minimize_svg__WEBPACK_IMPORTED_MODULE_13___default.a : _sass_icons_chart_ic_maximize_svg__WEBPACK_IMPORTED_MODULE_12___default.a;\n          var InnerSoloPanel = panelObj.solo.querySelector('.stx-ico-focus');\n\n          if (InnerSoloPanel.querySelector('svg').getAttribute('id') !== soloIcon.id) {\n            InnerSoloPanel.innerHTML = Object(_utils__WEBPACK_IMPORTED_MODULE_10__[\"renderSVGString\"])(soloIcon);\n          }\n        }\n      });\n    };\n\n    this.renderLegend = function () {\n      if (!_this.context || !_this.shouldRenderLegend()) {\n        return;\n      }\n\n      _this.updateActiveStudies(); // Temporary prevent user from adding more than 5 indicators\n      // All traces can be removed after new design for studies\n\n\n      _this.updateStyle();\n    };\n\n    this.excludedStudies = _Constant__WEBPACK_IMPORTED_MODULE_9__[\"ExcludedStudies\"];\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_1__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"](mainStore, {\n      route: 'indicators'\n    });\n    this.settingsDialog = new _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n      mainStore: mainStore,\n      onDeleted: function onDeleted() {\n        return _this.deleteStudy(_this.helper.sd);\n      },\n      favoritesId: 'indicators',\n      onChanged: function onChanged(items) {\n        return _this.updateStudy(_this.helper.sd, items);\n      }\n    });\n    this.StudyMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\n    this.StudySettingsDialog = this.settingsDialog.connect(_components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.searchInput = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n    this.SearchInput = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        placeholder: 'Search',\n        value: _this.filterText,\n        onChange: _this.setFilterText,\n        searchInput: _this.searchInput,\n        searchInputClassName: 'searchInputClassName'\n      };\n    })(_components_SearchInput_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_1__[\"reaction\"])(function () {\n      return _this.menu.open;\n    }, function () {\n      if (!_this.menu.open) {\n        _this.setFilterText('');\n      }\n\n      setTimeout(function () {\n        if (_this.searchInput && _this.searchInput.current) _this.searchInput.current.focus();\n      }, 400);\n    });\n  }\n\n  _createClass(StudyLegendStore, [{\n    key: \"removeExtraStudies\",\n    value: function removeExtraStudies() {\n      var _this2 = this;\n\n      if (this.stx.layout && this.stx.layout.studies) {\n        Object.keys(this.stx.layout.studies).forEach(function (study, idx) {\n          var type = _this2.stx.layout.studies[study].type;\n\n          if (idx >= _this2.maxAllowedItem || _this2.excludedStudies[type]) {\n            setTimeout(function () {\n              CIQ.Studies.removeStudy(_this2.stx, _this2.stx.layout.studies[study]);\n\n              _this2.renderLegend();\n            }, 0);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onSelectItem\",\n    value: function onSelectItem(item) {\n      this.onInfoItem(null);\n      var addedIndicator = Object.keys(this.stx.layout.studies || []).length;\n\n      if (this.stx.layout && addedIndicator < this.maxAllowedItem) {\n        var heightRatio = this.indicatorRatio.indicatorHeightRatio(addedIndicator + 1);\n        CIQ.Studies.studyLibrary[item].panelHeight = heightRatio.height + 20;\n        var sd = CIQ.Studies.addStudy(this.stx, item);\n        CIQ.Studies.studyLibrary[item].panelHeight = null;\n        this.changeStudyPanelTitle(sd);\n        setTimeout(this.updateIndicatorHeight, 20);\n        Object(_utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"LogActions\"].Indicator, \"Add \".concat(item));\n        this.mainStore.chart.setYaxisWidth();\n      }\n    }\n  }, {\n    key: \"updateIndicatorHeight\",\n    value: function updateIndicatorHeight() {\n      var _this3 = this;\n\n      var addedIndicator = Object.keys(this.stx.panels).filter(function (id) {\n        return id !== 'chart';\n      }).length;\n      var heightRatio = this.indicatorRatio.indicatorHeightRatio(addedIndicator);\n      Object.keys(this.stx.panels).forEach(function (id, index) {\n        if (index === 0) {\n          return;\n        }\n\n        var panelObj = _this3.stx.panels[id];\n        panelObj.percent = heightRatio.percent;\n      });\n      this.stx.draw();\n      this.stx.calculateYAxisMargins(this.stx.chart.panel.yAxis);\n      this.stx.draw();\n    } // Temporary prevent user from adding more than 5 indicators\n    // TODO All traces can be removed after new design for studies\n\n  }, {\n    key: \"updateStyle\",\n    value: function updateStyle() {\n      var should_minimise_last_digit = Object.keys(this.stx.panels).length > 2;\n      this.mainStore.state.setShouldMinimiseLastDigit(should_minimise_last_digit);\n    }\n  }, {\n    key: \"updateProps\",\n    value: function updateProps(_ref) {\n      var searchInputClassName = _ref.searchInputClassName;\n      this.searchInputClassName = searchInputClassName;\n    }\n  }, {\n    key: \"editStudy\",\n    value: function editStudy(study) {\n      var helper = new CIQ.Studies.DialogHelper(study);\n      this.helper = helper;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"LogActions\"].Indicator, \"Edit \".concat(helper.name));\n      var attributes = helper.attributes;\n      var inputs = helper.inputs.map(function (inp) {\n        return _objectSpread(_objectSpread({\n          id: inp.name,\n          title: t.translate(inp.heading),\n          value: inp.value,\n          defaultValue: inp.defaultInput,\n          type: inp.type === 'checkbox' ? 'switch' : inp.type,\n          options: inp.options || null\n        }, attributes[inp.name]), {}, {\n          // {min:1, max: 20}\n          category: 'inputs'\n        });\n      });\n      var outputs = helper.outputs.map(function (out) {\n        return {\n          id: out.name,\n          title: t.translate(updateFieldHeading(out.heading, study.sd.type)),\n          defaultValue: out.defaultOutput,\n          value: out.color,\n          type: 'colorpicker',\n          category: 'outputs'\n        };\n      });\n      var parameters = helper.parameters.map(function (par) {\n        var shared = _objectSpread(_objectSpread({\n          title: t.translate(par.heading)\n        }, attributes[par.name]), {}, {\n          category: 'parameters'\n        });\n\n        if (par.defaultValue.constructor === Boolean) {\n          return _objectSpread(_objectSpread({}, shared), {}, {\n            id: \"\".concat(par.name, \"Enabled\"),\n            value: par.value,\n            defaultValue: par.defaultValue,\n            type: 'switch'\n          });\n        }\n\n        if (par.defaultValue.constructor === Number) {\n          return _objectSpread(_objectSpread({}, shared), {}, {\n            id: par.name,\n            type: 'numbercolorpicker',\n            defaultValue: {\n              Color: par.defaultColor,\n              Value: par.defaultValue\n            },\n            value: {\n              Color: par.color,\n              Value: par.value\n            }\n          });\n        }\n\n        throw new Error('Unrecognised parameter!');\n      });\n      this.settingsDialog.id = study.sd.type;\n      this.settingsDialog.items = [].concat(_toConsumableArray(outputs), _toConsumableArray(inputs), _toConsumableArray(parameters));\n      this.settingsDialog.title = study.sd.libraryEntry.name;\n      this.settingsDialog.formTitle = t.translate('Result');\n      this.settingsDialog.formClassname = \"form--\".concat(study.sd.type.toLowerCase().replace(/ /g, '-')); // TODO:\n      // const description = StudyInfo[study.sd.type];\n      // this.settingsDialog.description = description || t.translate(\"No description yet\");\n\n      this.settingsDialog.description = '';\n      this.settingsDialog.dialogPortalNodeId = this.portalNodeIdChanged;\n      this.settingsDialog.setOpen(true);\n    }\n  }, {\n    key: \"deleteStudy\",\n    value: function deleteStudy(study) {\n      var _this4 = this;\n\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"LogActions\"].Indicator, \"Remove \".concat(study.name));\n\n      if (!study.permanent) {\n        // Need to run this in the nextTick because the study legend can be removed by this click\n        // causing the underlying chart to receive the mousedown (on IE win7)\n        setTimeout(function () {\n          CIQ.Studies.removeStudy(_this4.stx, study);\n\n          _this4.renderLegend();\n        }, 0);\n        setTimeout(this.updateIndicatorHeight, 20);\n      }\n    }\n  }, {\n    key: \"updateStudy\",\n    value: function updateStudy(study, items) {\n      var updates = {};\n\n      var _iterator = _createForOfIteratorHelper(items),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _step.value,\n              id = _step$value.id,\n              category = _step$value.category,\n              value = _step$value.value,\n              type = _step$value.type;\n          var isChanged = void 0;\n\n          if (type === 'numbercolorpicker') {\n            isChanged = study[category][\"\".concat(id, \"Color\")] !== value.Color || study[category][\"\".concat(id, \"Value\")] !== value.Value;\n          } else {\n            isChanged = study[category][id] !== value;\n          }\n\n          if (isChanged) {\n            updates[category] = updates[category] || {};\n\n            if (_typeof(value) === 'object') {\n              for (var suffix in value) {\n                updates[category][\"\".concat(id).concat(suffix)] = value[suffix];\n              }\n            } else {\n              updates[category][id] = value;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (Object.keys(updates).length === 0) return;\n      this.helper.updateStudy(updates);\n      this.updateActiveStudies();\n      this.stx.draw();\n      this.changeStudyPanelTitle(this.helper.sd);\n      this.settingsDialog.title = t.translate(this.helper.sd.libraryEntry.name);\n    }\n  }, {\n    key: \"changeStudyPanelTitle\",\n    value: function changeStudyPanelTitle(sd) {\n      // Remove numbers from the end of indicator titles in mobile\n      if (this.mainStore.chart.isMobile) {\n        this.stx.panels[sd.panel].display = sd.type;\n        this.stx.draw();\n        this.mainStore.state.saveLayout();\n      }\n    }\n  }, {\n    key: \"shouldRenderLegend\",\n    value: function shouldRenderLegend() {\n      var stx = this.stx;\n\n      if (!stx.layout.studies) {\n        return false;\n      } // Logic to determine if the studies have changed, otherwise don't re-create the legend\n\n\n      if (CIQ.objLength(this.previousStudies) === CIQ.objLength(stx.layout.studies)) {\n        var foundAChange = false;\n\n        for (var id in stx.layout.studies) {\n          if (!this.previousStudies[id]) {\n            foundAChange = true;\n            break;\n          }\n        }\n\n        if (!foundAChange) {\n          return false;\n        }\n      }\n\n      this.previousStudies = CIQ.shallowClone(stx.layout.studies);\n      return true;\n    }\n  }, {\n    key: \"setReachedLimit\",\n    value: function setReachedLimit() {\n      var hasReachedLimit = this.activeStudies.data.length >= 5;\n      this.hasReachedLimits = hasReachedLimit;\n    }\n  }, {\n    key: \"updateActiveStudies\",\n    value: function updateActiveStudies() {\n      var stx = this.stx;\n      var activeItems = [];\n      Object.keys(stx.layout.studies || []).forEach(function (id) {\n        var sd = stx.layout.studies[id];\n\n        if (sd.customLegend) {\n          return;\n        }\n\n        var studyObjCategory = Object(_Constant__WEBPACK_IMPORTED_MODULE_9__[\"getIndicatorsTree\"])().find(function (category) {\n          return category.items.find(function (item) {\n            return item.id === sd.type;\n          });\n        });\n        var studyObj = studyObjCategory.items.find(function (item) {\n          return item.id === sd.type;\n        });\n\n        if (studyObj) {\n          var nameObj = Object(_utils__WEBPACK_IMPORTED_MODULE_10__[\"prepareIndicatorName\"])(sd.name);\n          activeItems.push(_objectSpread(_objectSpread({}, studyObj), {}, {\n            id: sd.inputs.id,\n            bars: nameObj.bars,\n            name: nameObj.name,\n            dataObject: {\n              stx: stx,\n              sd: sd,\n              inputs: sd.inputs,\n              outputs: sd.outputs,\n              parameters: sd.parameters\n            }\n          }));\n        }\n      });\n      this.activeItems = activeItems;\n    }\n  }, {\n    key: \"deleteAllStudies\",\n    value: function deleteAllStudies() {\n      var _this5 = this;\n\n      var stx = this.stx;\n\n      if (stx) {\n        Object.keys(stx.layout.studies || []).forEach(function (id) {\n          _this5.deleteStudy(stx.layout.studies[id]);\n        });\n        setTimeout(this.updateIndicatorHeight, 20);\n      }\n    }\n  }, {\n    key: \"clearStudies\",\n    value: function clearStudies() {\n      if (this.context) {\n        this.context.advertised.Layout.clearStudies();\n      }\n    }\n  }, {\n    key: \"onStudyRemoved\",\n    value: function onStudyRemoved() {\n      this.updateActiveStudies();\n      setTimeout(this.updateIndicatorHeight, 20);\n    }\n  }, {\n    key: \"onSelectTab\",\n    value: function onSelectTab(tabIndex) {\n      this.setFilterText('');\n      this.selectedTab = tabIndex;\n      this.onInfoItem(null);\n    }\n  }, {\n    key: \"setFilterText\",\n    value: function setFilterText(filterText) {\n      this.selectedTab = filterText !== '' ? 0 : 1;\n      this.filterText = filterText;\n    }\n  }, {\n    key: \"onInfoItem\",\n    value: function onInfoItem(study) {\n      this.infoItem = study;\n    }\n  }, {\n    key: \"updatePortalNode\",\n    value: function updatePortalNode(portalNodeId) {\n      this.portalNodeIdChanged = portalNodeId;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"indicatorRatio\",\n    get: function get() {\n      return this.mainStore.chart;\n    }\n  }, {\n    key: \"items\",\n    get: function get() {\n      var _this6 = this;\n\n      return _toConsumableArray(Object(_Constant__WEBPACK_IMPORTED_MODULE_9__[\"getIndicatorsTree\"])()).map(function (indicator) {\n        // the only icon which is different on light/dark is trend\n        if (indicator.id === 'trend') {\n          indicator.icon = _this6.mainStore.chartSetting.theme === 'light' ? _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_11__[\"IndicatorCatTrendLightIcon\"] : _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_11__[\"IndicatorCatTrendDarkIcon\"];\n        }\n\n        return indicator;\n      });\n    }\n  }, {\n    key: \"searchedItems\",\n    get: function get() {\n      var _this7 = this;\n\n      return _toConsumableArray(Object(_Constant__WEBPACK_IMPORTED_MODULE_9__[\"getIndicatorsTree\"])()).map(function (category) {\n        category.foundItems = category.items.filter(function (item) {\n          return item.name.toLowerCase().indexOf(_this7.filterText.toLowerCase().trim()) !== -1;\n        });\n        return category;\n      }).filter(function (category) {\n        return category.foundItems.length;\n      });\n    }\n  }, {\n    key: \"chartActiveStudies\",\n    get: function get() {\n      return (this.activeItems || []).filter(function (item) {\n        return item.dataObject.sd.panel === 'chart';\n      });\n    }\n  }, {\n    key: \"maxAllowedItem\",\n    get: function get() {\n      return this.mainStore.chart.isMobile ? 2 : 5;\n    }\n  }]);\n\n  return StudyLegendStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"selectedTab\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 1;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"filterText\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"activeItems\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"infoItem\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"portalNodeIdChanged\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"removeExtraStudies\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"removeExtraStudies\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSelectItem\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onSelectItem\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateIndicatorHeight\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"updateIndicatorHeight\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateStyle\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"updateStyle\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"editStudy\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"editStudy\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"deleteStudy\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteStudy\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateStudy\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"updateStudy\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setReachedLimit\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"setReachedLimit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateActiveStudies\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"updateActiveStudies\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"deleteAllStudies\", [_dec11], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteAllStudies\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"clearStudies\", [_dec12], Object.getOwnPropertyDescriptor(_class.prototype, \"clearStudies\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onStudyRemoved\", [_dec13], Object.getOwnPropertyDescriptor(_class.prototype, \"onStudyRemoved\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSelectTab\", [_dec14], Object.getOwnPropertyDescriptor(_class.prototype, \"onSelectTab\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setFilterText\", [_dec15], Object.getOwnPropertyDescriptor(_class.prototype, \"setFilterText\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onInfoItem\", [_dec16], Object.getOwnPropertyDescriptor(_class.prototype, \"onInfoItem\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updatePortalNode\", [_dec17], Object.getOwnPropertyDescriptor(_class.prototype, \"updatePortalNode\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/TimeperiodStore.js\":\n/*!**************************************!*\\\n  !*** ./src/store/TimeperiodStore.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TimeperiodStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _utils_ServerTime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ServerTime */ \"./src/utils/ServerTime.js\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _dec4, _class, _descriptor, _descriptor2, _descriptor3, _temp;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\nvar UnitMap = {\n  tick: 'T',\n  minute: 'M',\n  hour: 'H',\n  day: 'D'\n};\nvar TimeMap = {\n  tick: 1,\n  minute: 1,\n  hour: 60\n};\nvar TimeperiodStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = /*#__PURE__*/function () {\n  function TimeperiodStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, TimeperiodStore);\n\n    _initializerDefineProperty(this, \"timeUnit\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"interval\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"preparingInterval\", _descriptor3, this);\n\n    this.onGranularityChange = function () {\n      return null;\n    };\n\n    this.remain = null;\n\n    this.onContextReady = function () {\n      var _this$context$stx$lay = _this.context.stx.layout,\n          timeUnit = _this$context$stx$lay.timeUnit,\n          interval = _this$context$stx$lay.interval;\n      _this.timeUnit = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getTimeUnit\"])({\n        timeUnit: timeUnit,\n        interval: interval\n      });\n      _this.interval = interval;\n\n      _this.updateCountdown();\n\n      Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n        return [_this.timeUnit, _this.interval, _this.mainStore.chartSetting.countdown, _this.mainStore.chartType.type, _this.loader.currentState, _this.isSymbolOpen];\n      }, _this.updateCountdown.bind(_this));\n\n      _this.context.stx.addEventListener('newChart', _this.updateDisplay);\n\n      Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n        return _this.mainStore.state.granularity;\n      }, function (granularity) {\n        return _this.onGranularityChange(granularity);\n      });\n    };\n\n    this.countdownInterval = null;\n\n    this.remainLabelY = function () {\n      var stx = _this.context.stx;\n      var topPos = 36;\n      var labelHeight = 24;\n      var bottomPos = 66;\n      var y = stx.chart.currentPriceLabelY + labelHeight;\n\n      if (stx.chart.currentPriceLabelY > stx.chart.panel.bottom - bottomPos) {\n        y = stx.chart.panel.bottom - bottomPos;\n        y = y < stx.chart.currentPriceLabelY - labelHeight ? y : stx.chart.currentPriceLabelY - labelHeight;\n      } else if (stx.chart.currentPriceLabelY < stx.chart.panel.top) {\n        y = topPos;\n      }\n\n      return y;\n    };\n\n    this.mainStore = mainStore;\n    this._serverTime = _utils_ServerTime__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getInstance();\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(TimeperiodStore, [{\n    key: \"clearCountdown\",\n    value: function clearCountdown() {\n      if (this.countdownInterval) {\n        clearInterval(this.countdownInterval);\n      }\n\n      if (this._injectionId && this.context) {\n        this.context.stx.removeInjection(this._injectionId);\n      }\n\n      this._injectionId = undefined;\n      this.countdownInterval = undefined;\n    }\n  }, {\n    key: \"updateCountdown\",\n    value: function updateCountdown() {\n      var _this2 = this;\n\n      if (!this.context) return;\n      var stx = this.context.stx;\n      this.remain = null;\n      this.clearCountdown();\n\n      var setRemain = function setRemain() {\n        if (stx.isDestroyed || _this2.isTick || !_this2.isSymbolOpen) {\n          _this2.clearCountdown();\n\n          return;\n        }\n\n        var dataSegment = stx.chart.dataSegment;\n\n        if (dataSegment && dataSegment.length) {\n          var dataSegmentClose = _toConsumableArray(dataSegment).filter(function (item) {\n            return item && item.Close;\n          });\n\n          if (dataSegmentClose && dataSegmentClose.length) {\n            var currentQuote = dataSegmentClose[dataSegmentClose.length - 1];\n\n            var now = _this2._serverTime.getUTCDate();\n\n            var diff = now - currentQuote.DT;\n            var chartInterval = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getIntervalInSeconds\"])(stx.layout) * 1000;\n            var coefficient = diff > chartInterval ? parseInt(diff / chartInterval, 10) + 1 : 1;\n\n            if (_this2.context.stx) {\n              _this2.remain = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"displayMilliseconds\"])(coefficient * chartInterval - diff);\n              stx.draw();\n            }\n          }\n        }\n      };\n\n      var isCountdownChart = !this.mainStore.chartType.isAggregateChart;\n      var hasCountdown = this.mainStore.chartSetting.countdown && !this.isTick && isCountdownChart;\n\n      if (hasCountdown) {\n        if (!this._injectionId) {\n          this._injectionId = stx.append('draw', function () {\n            if (_this2.isTick) {\n              _this2.clearCountdown();\n\n              return;\n            }\n\n            if (_this2.remain && stx.currentQuote() !== null) {\n              stx.yaxisLabelStyle = 'rect';\n              stx.labelType = 'countdown';\n              stx.createYAxisLabel(stx.chart.panel, _this2.remain, _this2.remainLabelY(), '#15212d', '#FFFFFF');\n              stx.labelType = undefined;\n              stx.yaxisLabelStyle = 'roundRect';\n            }\n          });\n        }\n\n        if (!this.countdownInterval) {\n          this.countdownInterval = setInterval(setRemain, 1000);\n          setRemain();\n        }\n      }\n    }\n  }, {\n    key: \"setGranularity\",\n    value: function setGranularity(granularity) {\n      if (this.mainStore.state.granularity !== undefined) {\n        console.error('Setting granularity does nothing since granularity prop is set. Consider overriding the onChange prop in <TimePeriod />');\n        return;\n      }\n\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogActions\"].Interval, granularity.toString());\n      this.mainStore.chart.changeSymbol(undefined, granularity);\n    }\n  }, {\n    key: \"updateProps\",\n    value: function updateProps(onChange) {\n      if (this.mainStore.state.granularity !== undefined) {\n        this.onGranularityChange = onChange;\n      }\n    }\n  }, {\n    key: \"setPreparingInterval\",\n    value: function setPreparingInterval(interval) {\n      this.preparingInterval = interval;\n    }\n  }, {\n    key: \"updateDisplay\",\n    value: function updateDisplay() {\n      if (!this.context) return;\n      var stx = this.context.stx;\n      this.timeUnit = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getTimeUnit\"])(stx.layout);\n      this.interval = stx.layout.interval;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this.mainStore.loader;\n    }\n  }, {\n    key: \"isTick\",\n    get: function get() {\n      return this.timeUnit === 'tick';\n    }\n  }, {\n    key: \"isSymbolOpen\",\n    get: function get() {\n      return this.mainStore.chartTitle.isSymbolOpen;\n    }\n  }, {\n    key: \"display\",\n    get: function get() {\n      return \"\".concat(this.interval === 'day' ? 1 : this.interval / TimeMap[this.timeUnit], \" \").concat(UnitMap[this.timeUnit]);\n    }\n  }]);\n\n  return TimeperiodStore;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"timeUnit\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"interval\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"preparingInterval\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setGranularity\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setGranularity\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setPreparingInterval\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"setPreparingInterval\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateDisplay\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"updateDisplay\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/ToolbarWidgetStore.js\":\n/*!*****************************************!*\\\n  !*** ./src/store/ToolbarWidgetStore.js ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ToolbarWidgetStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\nvar _dec, _dec2, _class;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\n\nvar ToolbarWidgetStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = /*#__PURE__*/function () {\n  _createClass(ToolbarWidgetStore, [{\n    key: \"crosshairStore\",\n    get: function get() {\n      return this.mainStore.crosshair;\n    }\n  }, {\n    key: \"chartStore\",\n    get: function get() {\n      return this.mainStore.chart;\n    }\n  }]);\n\n  function ToolbarWidgetStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ToolbarWidgetStore);\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return [_this.mainStore.chartMode.menu.open, _this.mainStore.drawTools.menu.open, _this.mainStore.studies.menu.open, _this.mainStore.share.menu.open, _this.mainStore.view.menu.open];\n    }, function () {\n      // Check if all floating toolbar component dialog close\n      if (!_this.mainStore.chartMode.menu.open && !_this.mainStore.drawTools.menu.open && !_this.mainStore.studies.menu.open && !_this.mainStore.share.menu.open && !_this.mainStore.view.menu.open) {\n        _this.onMouseLeave();\n      }\n    });\n  }\n\n  _createClass(ToolbarWidgetStore, [{\n    key: \"onMouseEnter\",\n    value: function onMouseEnter() {\n      this.crosshairStore.updateVisibility(false); // Hide the indicator tooltip\n\n      var chartNode = this.chartStore.chartNode;\n\n      if (chartNode) {\n        chartNode.querySelector('.stx_sticky').style.display = 'none';\n      }\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave() {\n      this.crosshairStore.updateVisibility(true);\n    }\n  }]);\n\n  return ToolbarWidgetStore;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"onMouseEnter\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseEnter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMouseLeave\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseLeave\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/ViewStore.js\":\n/*!********************************!*\\\n  !*** ./src/store/ViewStore.js ***!\n  \\********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ViewStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _class, _init, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class2, _temp;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\n\n\n\n\n\nvar ViewStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec11 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec12 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec13 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = _class2 = /*#__PURE__*/function () {\n  function ViewStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ViewStore);\n\n    _initializerDefineProperty(this, \"templateName\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"currentRoute\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"isInputActive\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"routes\", _descriptor4, this);\n\n    this.mainStore = mainStore;\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"](mainStore, {\n      route: 'templates'\n    });\n    this.ViewsMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.menu.dialog.open;\n    }, function () {\n      if (ViewStore.views.length === 0) {\n        _this.updateRoute('new');\n      } else {\n        _this.updateRoute('main');\n      }\n\n      if (_this.menu.dialog.open) {\n        _this.templateName = '';\n      }\n    });\n  }\n\n  _createClass(ViewStore, [{\n    key: \"onChange\",\n    value: function onChange(e) {\n      if (this.currentRoute === 'overwrite') {\n        return;\n      }\n\n      this.templateName = e.target.value;\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      if (e.keyCode === 13) {\n        this.saveViews();\n        Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Template, 'Save Template');\n      }\n    }\n  }, {\n    key: \"onCancel\",\n    value: function onCancel() {\n      this.templateName = '';\n      this.updateRoute('main');\n    }\n  }, {\n    key: \"updateRoute\",\n    value: function updateRoute(name) {\n      this.currentRoute = name;\n    }\n  }, {\n    key: \"saveViews\",\n    value: function saveViews() {\n      var _this2 = this;\n\n      if (ViewStore.views.some(function (x) {\n        return x.name.toLowerCase().trim() === _this2.templateName.toLowerCase().trim();\n      })) {\n        this.updateRoute('overwrite');\n      } else if (this.templateName.trim().length > 0) {\n        this.updateRoute('main');\n        var layout = this.stx.exportLayout();\n        ViewStore.views.push({\n          name: this.templateName.trim(),\n          layout: layout\n        });\n        ViewStore.updateLocalStorage();\n        this.templateName = '';\n      }\n    }\n  }, {\n    key: \"overwrite\",\n    value: function overwrite() {\n      var _this3 = this;\n\n      var layout = this.stx.exportLayout();\n      var templateIndex = ViewStore.views.findIndex(function (x) {\n        return x.name.toLowerCase() === _this3.templateName.toLowerCase();\n      });\n      ViewStore.views[templateIndex].layout = layout;\n      ViewStore.views[templateIndex].name = this.templateName.trim();\n      ViewStore.updateLocalStorage();\n      this.updateRoute('main');\n      this.templateName = '';\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(idx, e) {\n      ViewStore.views = this.sortedItems.filter(function (x, index) {\n        return idx !== index;\n      });\n      e.nativeEvent.is_item_removed = true;\n      ViewStore.updateLocalStorage();\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Template, 'Remove Template');\n    }\n  }, {\n    key: \"removeAll\",\n    value: function removeAll() {\n      ViewStore.views = [];\n      ViewStore.updateLocalStorage();\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Template, 'Remove All Templates');\n      this.updateRoute('new');\n    }\n  }, {\n    key: \"applyLayout\",\n    value: function applyLayout(idx, e) {\n      var _this4 = this;\n\n      if (e.nativeEvent.is_item_removed) {\n        return;\n      }\n\n      if (this.loader) {\n        this.loader.show();\n      }\n\n      this.mainStore.state.setChartIsReady(false);\n      var stx = this.stx;\n      var granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getIntervalInSeconds\"])(ViewStore.views[idx].layout);\n      this.mainStore.timeperiod.onGranularityChange(granularity);\n\n      var importLayout = function importLayout() {\n        var finishImportLayout = function finishImportLayout() {\n          stx.changeOccurred('layout');\n\n          _this4.mainStore.studies.updateActiveStudies();\n\n          if (_this4.loader) {\n            _this4.loader.hide();\n\n            _this4.mainStore.paginationLoader.updateOnPagination(false);\n          }\n\n          _this4.mainStore.state.setChartIsReady(true);\n\n          _this4.mainStore.state.setChartGranularity(granularity);\n        };\n\n        stx.importLayout(ViewStore.views[idx].layout, {\n          managePeriodicity: true,\n          preserveTicksAndCandleWidth: true,\n          cb: finishImportLayout\n        }); // This condition is to make spline chart appear as spline chart\n        // Both line chart and spline chart are of type mountain but with different tensions\n\n        var chartType = ViewStore.views[idx].layout.chartType;\n\n        if (chartType === 'mountain') {\n          var tension = ViewStore.views[idx].layout.tension;\n\n          if (tension === 0.5) {\n            chartType = 'spline';\n          }\n        }\n\n        _this4.mainStore.chartType.setType(chartType);\n\n        _this4.mainStore.state.setChartType(chartType);\n\n        _this4.menu.setOpen(false);\n\n        Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Template, 'Load Template');\n      };\n\n      setTimeout(importLayout, 100);\n    }\n  }, {\n    key: \"onToggleNew\",\n    value: function onToggleNew() {\n      this.updateRoute('main');\n    }\n  }, {\n    key: \"inputRef\",\n    value: function inputRef(ref) {\n      if (ref) {\n        ref.focus();\n        this.isInputActive = true;\n      }\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      this.isInputActive = true;\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      this.isInputActive = false;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this.mainStore.loader;\n    }\n  }, {\n    key: \"sortedItems\",\n    get: function get() {\n      return _toConsumableArray(ViewStore.views).sort(function (a, b) {\n        return a.name < b.name ? -1 : 1;\n      });\n    }\n  }], [{\n    key: \"updateLocalStorage\",\n    value: function updateLocalStorage() {\n      CIQ.localStorageSetItem('cq-views', JSON.stringify(ViewStore.views));\n    }\n  }]);\n\n  return ViewStore;\n}(), _class2.views = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"createObjectFromLocalStorage\"])('cq-views') || [], _temp), (_applyDecoratedDescriptor(_class, \"views\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], (_init = Object.getOwnPropertyDescriptor(_class, \"views\"), _init = _init ? _init.value : undefined, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  initializer: function initializer() {\n    return _init;\n  }\n}), _class), _descriptor = _applyDecoratedDescriptor(_class.prototype, \"templateName\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentRoute\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'main';\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"isInputActive\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"routes\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this5 = this;\n\n    return {\n      add: function add() {\n        return _this5.saveViews();\n      },\n      main: function main() {\n        return _this5.updateRoute('add');\n      },\n      cancel: function cancel() {\n        return _this5.onCancel();\n      },\n      overwrite: function overwrite() {\n        return _this5.overwrite();\n      }\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"sortedItems\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"sortedItems\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onChange\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"onChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSubmit\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onSubmit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onCancel\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"onCancel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateRoute\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"updateRoute\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"saveViews\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"saveViews\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"overwrite\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"overwrite\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"remove\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"remove\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeAll\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"removeAll\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"applyLayout\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"applyLayout\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onToggleNew\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"onToggleNew\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"inputRef\", [_dec11], Object.getOwnPropertyDescriptor(_class.prototype, \"inputRef\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onFocus\", [_dec12], Object.getOwnPropertyDescriptor(_class.prototype, \"onFocus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onBlur\", [_dec13], Object.getOwnPropertyDescriptor(_class.prototype, \"onBlur\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/index.js\":\n/*!****************************!*\\\n  !*** ./src/store/index.js ***!\n  \\****************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MainStore; });\n/* harmony import */ var _BottomWidgetsContainerStore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BottomWidgetsContainerStore */ \"./src/store/BottomWidgetsContainerStore.js\");\n/* harmony import */ var _TimeperiodStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TimeperiodStore */ \"./src/store/TimeperiodStore.js\");\n/* harmony import */ var _ChartStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChartStore */ \"./src/store/ChartStore.js\");\n/* harmony import */ var _ChartTypeStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChartTypeStore */ \"./src/store/ChartTypeStore.js\");\n/* harmony import */ var _ChartModeStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChartModeStore */ \"./src/store/ChartModeStore.js\");\n/* harmony import */ var _StudyLegendStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StudyLegendStore */ \"./src/store/StudyLegendStore.js\");\n/* harmony import */ var _DrawToolsStore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DrawToolsStore */ \"./src/store/DrawToolsStore.js\");\n/* harmony import */ var _ChartTitleStore__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ChartTitleStore */ \"./src/store/ChartTitleStore.js\");\n/* harmony import */ var _ViewStore__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ViewStore */ \"./src/store/ViewStore.js\");\n/* harmony import */ var _CrosshairStore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CrosshairStore */ \"./src/store/CrosshairStore.js\");\n/* harmony import */ var _ShareStore__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ShareStore */ \"./src/store/ShareStore.js\");\n/* harmony import */ var _ChartSettingStore__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ChartSettingStore */ \"./src/store/ChartSettingStore.js\");\n/* harmony import */ var _LoaderStore__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LoaderStore */ \"./src/store/LoaderStore.js\");\n/* harmony import */ var _FavoriteStore__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./FavoriteStore */ \"./src/store/FavoriteStore.js\");\n/* harmony import */ var _ChartSizeStore__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ChartSizeStore */ \"./src/store/ChartSizeStore.js\");\n/* harmony import */ var _RoutingStore__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./RoutingStore */ \"./src/store/RoutingStore.js\");\n/* harmony import */ var _CurrentSpotStore__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./CurrentSpotStore */ \"./src/store/CurrentSpotStore.js\");\n/* harmony import */ var _ChartState__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ChartState */ \"./src/store/ChartState.js\");\n/* harmony import */ var _Notifier__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Notifier */ \"./src/store/Notifier.js\");\n/* harmony import */ var _LastDigitStatsStore__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./LastDigitStatsStore */ \"./src/store/LastDigitStatsStore.js\");\n/* harmony import */ var _NavigationWidgetStore__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./NavigationWidgetStore */ \"./src/store/NavigationWidgetStore.js\");\n/* harmony import */ var _HighestLowestStore__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./HighestLowestStore */ \"./src/store/HighestLowestStore.js\");\n/* harmony import */ var _PaginationLoaderStore__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./PaginationLoaderStore */ \"./src/store/PaginationLoaderStore.js\");\n/* harmony import */ var _ToolbarWidgetStore__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./ToolbarWidgetStore */ \"./src/store/ToolbarWidgetStore.js\");\n/* harmony import */ var _ScrollStore__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ScrollStore */ \"./src/store/ScrollStore.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar MainStore = function MainStore() {\n  _classCallCheck(this, MainStore);\n\n  this.notifier = new _Notifier__WEBPACK_IMPORTED_MODULE_18__[\"default\"]();\n  this.favorites = _FavoriteStore__WEBPACK_IMPORTED_MODULE_13__[\"default\"].getInstance();\n  this.chart = new _ChartStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this);\n  this.state = new _ChartState__WEBPACK_IMPORTED_MODULE_17__[\"default\"](this);\n  this.chartType = new _ChartTypeStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this);\n  this.chartMode = new _ChartModeStore__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this);\n  this.studies = new _StudyLegendStore__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this);\n  this.drawTools = new _DrawToolsStore__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this);\n  this.chartTitle = new _ChartTitleStore__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this);\n  this.timeperiod = new _TimeperiodStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this);\n  this.view = new _ViewStore__WEBPACK_IMPORTED_MODULE_8__[\"default\"](this);\n  this.crosshair = new _CrosshairStore__WEBPACK_IMPORTED_MODULE_9__[\"default\"](this);\n  this.share = new _ShareStore__WEBPACK_IMPORTED_MODULE_10__[\"default\"](this);\n  this.chartSetting = new _ChartSettingStore__WEBPACK_IMPORTED_MODULE_11__[\"default\"](this);\n  this.loader = new _LoaderStore__WEBPACK_IMPORTED_MODULE_12__[\"default\"]();\n  this.chartSize = new _ChartSizeStore__WEBPACK_IMPORTED_MODULE_14__[\"default\"](this);\n  this.routing = new _RoutingStore__WEBPACK_IMPORTED_MODULE_15__[\"default\"](this);\n  this.currentSpot = new _CurrentSpotStore__WEBPACK_IMPORTED_MODULE_16__[\"default\"](this);\n  this.lastDigitStats = new _LastDigitStatsStore__WEBPACK_IMPORTED_MODULE_19__[\"default\"](this);\n  this.bottomWidgetsContainer = new _BottomWidgetsContainerStore__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this);\n  this.navigationWidget = new _NavigationWidgetStore__WEBPACK_IMPORTED_MODULE_20__[\"default\"](this);\n  this.highestLowest = new _HighestLowestStore__WEBPACK_IMPORTED_MODULE_21__[\"default\"](this);\n  this.paginationLoader = new _PaginationLoaderStore__WEBPACK_IMPORTED_MODULE_22__[\"default\"](this);\n  this.toolbarWidget = new _ToolbarWidgetStore__WEBPACK_IMPORTED_MODULE_23__[\"default\"](this);\n  this.scroll = new _ScrollStore__WEBPACK_IMPORTED_MODULE_24__[\"default\"](this);\n};\n\n\n\n/***/ }),\n\n/***/ \"./src/utils/PendingPromise.js\":\n/*!*************************************!*\\\n  !*** ./src/utils/PendingPromise.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PendingPromise; });\nfunction PendingPromise() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var resolve;\n  var reject;\n  var promise = new Promise(function (_resolve, _reject) {\n    resolve = _resolve;\n    reject = _reject;\n  });\n\n  promise.resolve = function (res) {\n    promise.isPending = false;\n    resolve(res);\n  };\n\n  promise.reject = function (error) {\n    promise.isPending = false;\n    reject(error);\n  };\n\n  promise.data = data;\n  return promise;\n}\n\n/***/ }),\n\n/***/ \"./src/utils/ServerTime.js\":\n/*!*********************************!*\\\n  !*** ./src/utils/ServerTime.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ \"./src/utils/index.js\");\n/* harmony import */ var _PendingPromise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PendingPromise */ \"./src/utils/PendingPromise.js\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar ServerTime = /*#__PURE__*/function () {\n  function ServerTime() {\n    var _this = this;\n\n    _classCallCheck(this, ServerTime);\n\n    this.clockStarted = false;\n    this.clockStartedPromise = new _PendingPromise__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n    this._timeResponse = function (response) {\n      if (response.error) {\n        _this.clockStarted = false;\n      }\n\n      if (!_this.clockStarted) {\n        _this.init();\n\n        return;\n      }\n\n      var serverTime = response.time;\n      var clientTimeAtResponse = Object(_index__WEBPACK_IMPORTED_MODULE_0__[\"getUTCEpoch\"])(new Date());\n      _this.serverTimeAtResponse = serverTime + (clientTimeAtResponse - _this.clientTimeAtRequest) / 2;\n\n      var updateTime = function updateTime() {\n        _this.serverTimeAtResponse += 1;\n\n        if (typeof _this.onTimeUpdated === 'function') {\n          _this.onTimeUpdated();\n        }\n      };\n\n      clearInterval(_this.updateTimeInterval);\n      _this.updateTimeInterval = setInterval(updateTime, 1000);\n    };\n  }\n\n  _createClass(ServerTime, [{\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(api, updatedCallback) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this._api = api;\n                this.onTimeUpdated = updatedCallback;\n\n                if (this.clockStarted) {\n                  _context.next = 10;\n                  break;\n                }\n\n                this.clockStarted = true;\n                clearInterval(this.getTimeInterval);\n                _context.next = 7;\n                return this.requestTime();\n\n              case 7:\n                this.getTimeInterval = setInterval(this.requestTime.bind(this), 30000);\n                _context.next = 11;\n                break;\n\n              case 10:\n                return _context.abrupt(\"return\", this.clockStartedPromise);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init(_x, _x2) {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"requestTime\",\n    value: function () {\n      var _requestTime = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.clientTimeAtRequest = Object(_index__WEBPACK_IMPORTED_MODULE_0__[\"getUTCEpoch\"])(new Date());\n\n                if (!this.serverTimeAtResponse) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _context2.next = 4;\n                return this._api.getServerTime().then(this._timeResponse);\n\n              case 4:\n                _context2.next = 7;\n                break;\n\n              case 6:\n                // it is the first time\n                // to boot up the speed, at the beginig\n                // we use the user time\n                this._timeResponse({\n                  time: parseInt(new Date().getTime() / 1000, 10)\n                });\n\n              case 7:\n                this.clockStartedPromise.resolve();\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function requestTime() {\n        return _requestTime.apply(this, arguments);\n      }\n\n      return requestTime;\n    }()\n  }, {\n    key: \"getEpoch\",\n    value: function getEpoch() {\n      if (this.serverTimeAtResponse) {\n        return this.serverTimeAtResponse;\n      }\n\n      throw new Error('Server time is undefined!');\n    }\n  }, {\n    key: \"getLocalDate\",\n    value: function getLocalDate() {\n      return Object(_index__WEBPACK_IMPORTED_MODULE_0__[\"getLocalDate\"])(this.getEpoch());\n    }\n  }, {\n    key: \"getUTCDate\",\n    value: function getUTCDate() {\n      return CIQ.strToDateTime(Object(_index__WEBPACK_IMPORTED_MODULE_0__[\"getUTCDate\"])(this.getEpoch()));\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (!this._instance) {\n        this._instance = new ServerTime();\n      }\n\n      return this._instance;\n    }\n  }]);\n\n  return ServerTime;\n}();\n\nServerTime._instance = void 0;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ServerTime);\n\n/***/ }),\n\n/***/ \"./src/utils/ga.js\":\n/*!*************************!*\\\n  !*** ./src/utils/ga.js ***!\n  \\*************************/\n/*! exports provided: LogCategories, LogActions, initGA, logPageView, logEvent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LogCategories\", function() { return LogCategories; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LogActions\", function() { return LogActions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initGA\", function() { return initGA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"logPageView\", function() { return logPageView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"logEvent\", function() { return logEvent; });\nvar LogCategories = Object.freeze({\n  ChartTitle: 'Chart Title',\n  CategoricalDisplay: 'Categorical Display',\n  ChartControl: 'Chart Control'\n});\nvar LogActions = Object.freeze({\n  MarketSelector: 'Market Selector',\n  Favorite: 'Favorite',\n  ChartSetting: 'Chart Setting',\n  ChartSize: 'Chart Size',\n  ChartType: 'Chart Type',\n  Comparison: 'Comparison',\n  DrawTools: 'Draw Tools',\n  Download: 'Download',\n  Indicator: 'Indicator',\n  Interval: 'Interval',\n  Template: 'Template'\n});\n/* eslint-disable */\n\nfunction initGA() {}\nfunction logPageView() {}\nfunction logEvent(category, action, label) {}\n\n/***/ }),\n\n/***/ \"./src/utils/index.js\":\n/*!****************************!*\\\n  !*** ./src/utils/index.js ***!\n  \\****************************/\n/*! exports provided: createObjectFromLocalStorage, isValidProp, getTimeUnit, getIntervalInSeconds, stableSort, sameBar, downloadFileInBrowser, stxtap, getUTCEpoch, getUTCDate, getLocalDate, updatePropIfChanged, calculateTimeUnitInterval, calculateGranularity, displayMilliseconds, cloneCategory, cloneCategories, patchPixelFromChart, ARROW_HEIGHT, ARROW_COLORS, DIRECTIONS, formatCamelCase, prepareIndicatorName, renderSVGString, wrapText, stringToSlug */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createObjectFromLocalStorage\", function() { return createObjectFromLocalStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isValidProp\", function() { return isValidProp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTimeUnit\", function() { return getTimeUnit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIntervalInSeconds\", function() { return getIntervalInSeconds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stableSort\", function() { return stableSort; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sameBar\", function() { return sameBar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"downloadFileInBrowser\", function() { return downloadFileInBrowser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stxtap\", function() { return stxtap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUTCEpoch\", function() { return getUTCEpoch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUTCDate\", function() { return getUTCDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLocalDate\", function() { return getLocalDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updatePropIfChanged\", function() { return updatePropIfChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateTimeUnitInterval\", function() { return calculateTimeUnitInterval; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateGranularity\", function() { return calculateGranularity; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayMilliseconds\", function() { return displayMilliseconds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneCategory\", function() { return cloneCategory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneCategories\", function() { return cloneCategories; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"patchPixelFromChart\", function() { return patchPixelFromChart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ARROW_HEIGHT\", function() { return ARROW_HEIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ARROW_COLORS\", function() { return ARROW_COLORS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DIRECTIONS\", function() { return DIRECTIONS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatCamelCase\", function() { return formatCamelCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareIndicatorName\", function() { return prepareIndicatorName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderSVGString\", function() { return renderSVGString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"wrapText\", function() { return wrapText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stringToSlug\", function() { return stringToSlug; });\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction createObjectFromLocalStorage(key) {\n  var val = localStorage.getItem(key);\n  var isValid = val !== null;\n\n  if (isValid) {\n    try {\n      return JSON.parse(val);\n    } catch (e) {\n      return undefined;\n    }\n  }\n\n  return undefined;\n}\nfunction isValidProp(p) {\n  return p !== undefined && !isNaN(p); // eslint-disable-line no-restricted-globals\n}\nvar getTimeUnit = function getTimeUnit(_ref) {\n  var timeUnit = _ref.timeUnit,\n      interval = _ref.interval;\n\n  if (timeUnit === null && interval === 'day') {\n    return 'day';\n  }\n\n  if (timeUnit === 'minute' && interval % 60 === 0) {\n    return 'hour';\n  }\n\n  if (timeUnit === 'second') {\n    return 'tick';\n  }\n\n  return timeUnit;\n};\nvar getIntervalInSeconds = function getIntervalInSeconds(_ref2) {\n  var timeUnit = _ref2.timeUnit,\n      interval = _ref2.interval;\n  var unit = timeUnit;\n  var interv = interval;\n\n  if (interv === 'day') {\n    unit = 86400;\n    interv = 1;\n  } else if (timeUnit === 'minute') {\n    unit = 60;\n  } else if (timeUnit === 'second') {\n    unit = 1;\n  }\n\n  return unit * interv;\n};\nfunction stableSort(arr) {\n  var compare = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (a, b) {\n    return a < b;\n  };\n  var original = arr.slice(0);\n  arr.sort(function (a, b) {\n    var result = compare(a, b);\n    return result === 0 ? original.indexOf(a) - original.indexOf(b) : result;\n  });\n  return arr;\n}\nfunction sameBar(bar1, bar2) {\n  return !(!bar1 || !bar2 || +bar1.DT !== +bar2.DT || bar1.Close !== bar2.Close || bar1.Open !== bar2.Open || bar1.Volume !== bar2.Volume);\n}\nfunction downloadFileInBrowser(filename, content, type, newTab) {\n  var blob = new Blob([content], {\n    type: type\n  });\n\n  if (navigator.msSaveBlob) {\n    // IE 10+\n    navigator.msSaveBlob(blob, filename);\n    return;\n  }\n\n  var url = type === 'image/png;' ? content : URL.createObjectURL(blob);\n  var link = document.createElement('a');\n\n  if (link.download !== undefined) {\n    // Browsers that support HTML5 download attribute\n    link.setAttribute('href', url);\n    link.setAttribute('download', filename);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    return;\n  }\n\n  if (newTab) {\n    if (type === 'image/png;') {\n      newTab.document.write(\"<iframe src=\\\"\".concat(url, \"\\\" frameborder=\\\"0\\\" style=\\\"border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;\\\" allowfullscreen></iframe>\"));\n    } else {\n      var lines = content.split('\\n');\n\n      for (var i = 0; i < lines.length; i++) {\n        newTab.document.write(\"\".concat(lines[i], \"<br/>\"));\n      }\n    }\n  }\n}\nfunction stxtap(el, func) {\n  if (el && !el.safeClickTouchEvents) {\n    CIQ.installTapEvent(el);\n    el.addEventListener('stxtap', func);\n  }\n}\nfunction getUTCEpoch(date) {\n  return date.getTime() / 1000 - date.getTimezoneOffset() * 60 | 0;\n}\nfunction getUTCDate(epoch) {\n  var UTCdate = new Date(epoch * 1000).toISOString();\n  return UTCdate.substring(0, 19);\n}\nfunction getLocalDate(epoch) {\n  return new Date(epoch * 1000);\n}\nfunction updatePropIfChanged(source, props, onChanged) {\n  var isChanged = false;\n\n  for (var attr in props) {\n    if (props[attr] !== undefined && source[attr] !== props[attr]) {\n      source[attr] = props[attr];\n      isChanged = true;\n    }\n  }\n\n  if (isChanged && onChanged) {\n    onChanged();\n  }\n}\nfunction calculateTimeUnitInterval(granularity) {\n  var interval = 1;\n  var timeUnit = 'second';\n\n  if (granularity === 86400) {\n    timeUnit = 'day';\n  } else if (granularity > 59) {\n    interval = granularity / 60;\n    timeUnit = 'minute';\n  }\n\n  return {\n    interval: interval,\n    timeUnit: timeUnit\n  };\n}\nfunction calculateGranularity(period, interval) {\n  var toSeconds = {\n    second: 0,\n    minute: 60,\n    day: 24 * 60 * 60\n  };\n  return toSeconds[interval] * period;\n}\nfunction displayMilliseconds(ms) {\n  var totalSec = ms / 1000;\n\n  if (totalSec <= 0) {\n    return null;\n  }\n\n  var padNum = function padNum(n) {\n    return \"0\".concat(n).slice(-2);\n  };\n\n  var seconds = padNum(Math.trunc(totalSec % 60));\n  var minutes = padNum(Math.trunc(totalSec / 60 % 60));\n  var hours = Math.trunc(totalSec / 3600 % 24);\n  hours = hours ? \"\".concat(hours, \":\") : '';\n  return \"\".concat(hours).concat(minutes, \":\").concat(seconds);\n}\nfunction cloneCategory(category) {\n  var transformItem = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (x) {\n    return x;\n  };\n  var categoryData = [];\n\n  var categoryCopy = _objectSpread(_objectSpread({}, category), {}, {\n    data: categoryData\n  });\n\n  if (category.hasSubcategory) {\n    var _iterator = _createForOfIteratorHelper(category.data),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var subcategory = _step.value;\n        var subcategoryData = [];\n\n        var subcategoryCopy = _objectSpread(_objectSpread({}, subcategory), {}, {\n          data: subcategoryData\n        });\n\n        var _iterator2 = _createForOfIteratorHelper(subcategory.data),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var item = _step2.value;\n            subcategoryData.push(transformItem(item));\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        categoryData.push(subcategoryCopy);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else {\n    var _iterator3 = _createForOfIteratorHelper(category.data),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var _item = _step3.value;\n        categoryData.push(transformItem(_item));\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  }\n\n  return categoryCopy;\n}\nfunction cloneCategories(categories) {\n  var transformItem = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (x) {\n    return x;\n  };\n  var categorized = [];\n\n  var _iterator4 = _createForOfIteratorHelper(categories),\n      _step4;\n\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var category = _step4.value;\n      categorized.push(cloneCategory(category, transformItem));\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n\n  return categorized;\n} // Get a raw callback with underlying canvas2dcontext\n// This component is used to render directly into the chart canvas.\n//\n// Props:\n//\n//  - epoch_array: array of epoch values to get coordinates for.\n//  - price_array: array of price values to get y-coordinates for.\n//  - draw_callback: called on every frame with ({ctx, points, prices}).\n//  -- points will be an array of [{left, top, epoch}] in pixels.\n//  -- ctx is the Context2dDrawingContext\n// Unfortunately chartiq.js does a Math.floor() on pixel values,\n// Which causes a jerky effect on the markers in auto-scroll,\n// However we need the pixel value down to the decimal points.\n// This is copy from chartiq.js file WITHOUT rounding down the pixel value.\n\nfunction patchPixelFromChart(stx) {\n  stx.pixelFromTick = function (tick, _chart) {\n    var chart = _chart || stx.chart;\n    var dataSegment = chart.dataSegment,\n        dataSet = chart.dataSet,\n        segmentImage = chart.segmentImage,\n        mp = stx.micropixels,\n        length = dataSegment ? dataSegment.length : 0;\n    var panel = chart.panel,\n        scroll = chart.scroll;\n    var bar = tick - dataSet.length + scroll;\n    var quote = length ? dataSegment[bar] : null;\n    if (segmentImage) quote = segmentImage[bar];\n\n    if (quote && quote.leftOffset) {\n      // return Math.floor(panel.left + quote.leftOffset + mp)\n      return panel.left + quote.leftOffset + mp;\n    }\n\n    var rightOffset = 0,\n        dsTicks = 0;\n    quote = length ? dataSegment[length - 1] : null;\n    if (segmentImage) quote = segmentImage[length - 1];\n\n    if (quote && quote.leftOffset) {\n      if (length < tick - dataSet.length + scroll) {\n        rightOffset = quote.leftOffset - quote.candleWidth / 2;\n        dsTicks = length;\n      }\n    } // return Math.floor(/* ... */)\n\n\n    return rightOffset + panel.left + (tick - dsTicks - dataSet.length + scroll + 0.5) * stx.layout.candleWidth + mp;\n  };\n}\nvar ARROW_HEIGHT = 39;\nvar ARROW_COLORS = Object.freeze({\n  GREEN: '#4bb4b3',\n  ORANGE: '#ff6444'\n});\nvar DIRECTIONS = Object.freeze({\n  UP: 'UP',\n  DOWN: 'DOWN'\n});\nvar formatCamelCase = function formatCamelCase(s) {\n  var capitalized = s.charAt(0).toUpperCase() + s.slice(1);\n  return capitalized.replace(/([a-z](?=[A-Z]))/g, '$1 ');\n};\nvar prepareIndicatorName = function prepareIndicatorName(name) {\n  var StudyNameRegex = /\\((.*)\\)/;\n  /* eslint-disable-line */\n\n  var getStudyBars = function getStudyBars(str) {\n    return (str.match(StudyNameRegex) || []).pop();\n  }; // const capitalizeFirstLetter = (string) => {\n  //     const str = string.replace(StudyNameRegex, '');\n  //     return str.charAt(0).toUpperCase() + str.slice(1);\n  // };\n\n\n  var bars = getStudyBars(name);\n  return {\n    name: formatCamelCase(name.replace(\"(\".concat(bars, \")\"), '').replace('-', ' ')).trim(),\n    bars: bars\n  };\n};\nvar renderSVGString = function renderSVGString(icon) {\n  var vb = icon.viewBox.split(' ').slice(2);\n  return \"<svg id=\\\"\".concat(icon.id, \"\\\" width=\\\"\").concat(vb[0], \"\\\" height=\\\"\").concat(vb[1], \"\\\"><use xlink:href=\\\"\").concat( // eslint-disable-next-line no-undef\n  __webpack_require__.p + icon.url, \"\\\" /></svg>\");\n};\nvar wrapText = function wrapText(str, letter_count) {\n  if (str.length > letter_count) {\n    var wrappedStr = str;\n    var count = Math.floor(str.length / letter_count);\n\n    for (var i = 1; i <= count; i++) {\n      wrappedStr = \"\".concat(wrappedStr.slice(0, letter_count * i), \" \").concat(wrappedStr.slice(letter_count * i, wrappedStr.length));\n    }\n\n    return wrappedStr;\n  }\n\n  return str;\n};\nvar stringToSlug = function stringToSlug(str) {\n  return str.toLowerCase().replace(/[^\\w ]+/g, '').replace(/ +/g, '-');\n};\n\n/***/ }),\n\n/***/ \"./translation lazy recursive ^\\\\.\\\\/.*\\\\.json$\":\n/*!**********************************************************!*\\\n  !*** ./translation lazy ^\\.\\/.*\\.json$ namespace object ***!\n  \\**********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./de.json\": [\n\t\t\"./translation/de.json\",\n\t\t\"de-json\"\n\t],\n\t\"./es.json\": [\n\t\t\"./translation/es.json\",\n\t\t\"es-json\"\n\t],\n\t\"./fr.json\": [\n\t\t\"./translation/fr.json\",\n\t\t\"fr-json\"\n\t],\n\t\"./id.json\": [\n\t\t\"./translation/id.json\",\n\t\t\"id-json\"\n\t],\n\t\"./it.json\": [\n\t\t\"./translation/it.json\",\n\t\t\"it-json\"\n\t],\n\t\"./messages.json\": [\n\t\t\"./translation/messages.json\",\n\t\t\"messages-json\"\n\t],\n\t\"./nl.json\": [\n\t\t\"./translation/nl.json\",\n\t\t\"nl-json\"\n\t],\n\t\"./pl.json\": [\n\t\t\"./translation/pl.json\",\n\t\t\"pl-json\"\n\t],\n\t\"./pt.json\": [\n\t\t\"./translation/pt.json\",\n\t\t\"pt-json\"\n\t],\n\t\"./ru.json\": [\n\t\t\"./translation/ru.json\",\n\t\t\"ru-json\"\n\t],\n\t\"./th.json\": [\n\t\t\"./translation/th.json\",\n\t\t\"th-json\"\n\t],\n\t\"./vi.json\": [\n\t\t\"./translation/vi.json\",\n\t\t\"vi-json\"\n\t],\n\t\"./zh.json\": [\n\t\t\"./translation/zh.json\",\n\t\t\"zh-json\"\n\t],\n\t\"./zh_cn.json\": [\n\t\t\"./translation/zh_cn.json\",\n\t\t\"zh_cn-json\"\n\t],\n\t\"./zh_tw.json\": [\n\t\t\"./translation/zh_tw.json\",\n\t\t\"zh_tw-json\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./translation lazy recursive ^\\\\.\\\\/.*\\\\.json$\";\nmodule.exports = webpackAsyncContext;\n\n/***/ }),\n\n/***/ \"moment\":\n/*!***************************************************************************!*\\\n  !*** external {\"root\":\"moment\",\"commonjs\":\"moment\",\"commonjs2\":\"moment\"} ***!\n  \\***************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_moment__;\n\n/***/ }),\n\n/***/ \"react\":\n/*!************************************************************************!*\\\n  !*** external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\"} ***!\n  \\************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n/***/ }),\n\n/***/ \"react-dom\":\n/*!***********************************************************************************!*\\\n  !*** external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"root\":\"ReactDOM\"} ***!\n  \\***********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;\n\n/***/ }),\n\n/***/ \"react-transition-group\":\n/*!*************************************************************************************************************************!*\\\n  !*** external {\"commonjs\":\"react-transition-group\",\"commonjs2\":\"react-transition-group\",\"root\":\"ReactTransitionGroup\"} ***!\n  \\*************************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react_transition_group__;\n\n/***/ })\n\n/******/ })[\"default\"];\n});\n//# sourceMappingURL=smartcharts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BkZXJpdi9kZXJpdi1jaGFydHMvZGlzdC9zbWFydGNoYXJ0cy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvaHVtYW4vZGVyaXYvZGVyaXYtYXBwL25vZGVfbW9kdWxlcy9AZGVyaXYvZGVyaXYtY2hhcnRzL2Rpc3Qvc21hcnRjaGFydHMuanM/NTc3MiJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJtb21lbnRcIiksIHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSwgcmVxdWlyZShcInJlYWN0LXRyYW5zaXRpb24tZ3JvdXBcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoWywgLCAsIF0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wic21hcnRjaGFydHNcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJtb21lbnRcIiksIHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSwgcmVxdWlyZShcInJlYWN0LXRyYW5zaXRpb24tZ3JvdXBcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInNtYXJ0Y2hhcnRzXCJdID0gZmFjdG9yeShyb290W1wibW9tZW50XCJdLCByb290W1wiUmVhY3RcIl0sIHJvb3RbXCJSZWFjdERPTVwiXSwgcm9vdFtcIlJlYWN0VHJhbnNpdGlvbkdyb3VwXCJdKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9tb21lbnRfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3JlYWN0X2RvbV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3JlYWN0X3RyYW5zaXRpb25fZ3JvdXBfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4vKioqKioqLyBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbi8qKioqKiovIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuLyoqKioqKi8gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbi8qKioqKiovIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuLyoqKioqKi8gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4vKioqKioqLyBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbi8qKioqKiovIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbi8qKioqKiovIFx0XHRcdH1cbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4vKioqKioqLyBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLyoqKioqKi8gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8qKioqKiovIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbi8qKioqKiovIFx0XHRcIm1haW5cIjogMFxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBzY3JpcHQgcGF0aCBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBqc29ucFNjcmlwdFNyYyhjaHVua0lkKSB7XG4vKioqKioqLyBcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyAoe1wiY2hhcnRpcVwiOlwiY2hhcnRpcVwiLFwiZGUtanNvblwiOlwiZGUtanNvblwiLFwiZXMtanNvblwiOlwiZXMtanNvblwiLFwiZnItanNvblwiOlwiZnItanNvblwiLFwiaHRtbDJjYW52YXNcIjpcImh0bWwyY2FudmFzXCIsXCJpZC1qc29uXCI6XCJpZC1qc29uXCIsXCJpdC1qc29uXCI6XCJpdC1qc29uXCIsXCJtZXNzYWdlcy1qc29uXCI6XCJtZXNzYWdlcy1qc29uXCIsXCJubC1qc29uXCI6XCJubC1qc29uXCIsXCJwbC1qc29uXCI6XCJwbC1qc29uXCIsXCJwdC1qc29uXCI6XCJwdC1qc29uXCIsXCJydS1qc29uXCI6XCJydS1qc29uXCIsXCJ0aC1qc29uXCI6XCJ0aC1qc29uXCIsXCJ2ZW5kb3JzfnJlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbFwiOlwidmVuZG9yc35yZXNpemUtb2JzZXJ2ZXItcG9seWZpbGxcIixcInZpLWpzb25cIjpcInZpLWpzb25cIixcInpoLWpzb25cIjpcInpoLWpzb25cIixcInpoX2NuLWpzb25cIjpcInpoX2NuLWpzb25cIixcInpoX3R3LWpzb25cIjpcInpoX3R3LWpzb25cIn1bY2h1bmtJZF18fGNodW5rSWQpICsgXCItXCIgKyB7XCJjaGFydGlxXCI6XCJhZjY4ZGRcIixcImRlLWpzb25cIjpcIjBjYzE2YVwiLFwiZXMtanNvblwiOlwiNGRhODA1XCIsXCJmci1qc29uXCI6XCIwNDYzODRcIixcImh0bWwyY2FudmFzXCI6XCJmOTJjZDJcIixcImlkLWpzb25cIjpcIjFkYjVkZVwiLFwiaXQtanNvblwiOlwiNjJlMGE5XCIsXCJtZXNzYWdlcy1qc29uXCI6XCI5MzgyMzJcIixcIm5sLWpzb25cIjpcImU4MjFmMFwiLFwicGwtanNvblwiOlwiOWNiYmVkXCIsXCJwdC1qc29uXCI6XCI3ZTU4ZTZcIixcInJ1LWpzb25cIjpcIjQ4N2ExZVwiLFwidGgtanNvblwiOlwiNWU1NDJhXCIsXCJ2ZW5kb3JzfnJlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbFwiOlwiMzU4ZjU5XCIsXCJ2aS1qc29uXCI6XCIyMWNiYWNcIixcInpoLWpzb25cIjpcImM4MjNjNlwiLFwiemhfY24tanNvblwiOlwiYWViZGFkXCIsXCJ6aF90dy1qc29uXCI6XCI2YjVhYjJcIn1bY2h1bmtJZF0gKyBcIi5zbWFydGNoYXJ0cy5qc1wiXG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhpcyBmaWxlIGNvbnRhaW5zIG9ubHkgdGhlIGVudHJ5IGNodW5rLlxuLyoqKioqKi8gXHQvLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3Ncbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lID0gZnVuY3Rpb24gcmVxdWlyZUVuc3VyZShjaHVua0lkKSB7XG4vKioqKioqLyBcdFx0dmFyIHByb21pc2VzID0gW107XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBKU09OUCBjaHVuayBsb2FkaW5nIGZvciBqYXZhc2NyaXB0XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSB7IC8vIDAgbWVhbnMgXCJhbHJlYWR5IGluc3RhbGxlZFwiLlxuLyoqKioqKi9cbi8qKioqKiovIFx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG4vKioqKioqLyBcdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcbi8qKioqKiovIFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuLyoqKioqKi8gXHRcdFx0fSBlbHNlIHtcbi8qKioqKiovIFx0XHRcdFx0Ly8gc2V0dXAgUHJvbWlzZSBpbiBjaHVuayBjYWNoZVxuLyoqKioqKi8gXHRcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuLyoqKioqKi8gXHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IFtyZXNvbHZlLCByZWplY3RdO1xuLyoqKioqKi8gXHRcdFx0XHR9KTtcbi8qKioqKiovIFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0gPSBwcm9taXNlKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0XHRcdC8vIHN0YXJ0IGNodW5rIGxvYWRpbmdcbi8qKioqKiovIFx0XHRcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuLyoqKioqKi8gXHRcdFx0XHR2YXIgb25TY3JpcHRDb21wbGV0ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0XHRcdHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04Jztcbi8qKioqKiovIFx0XHRcdFx0c2NyaXB0LnRpbWVvdXQgPSAxMjA7XG4vKioqKioqLyBcdFx0XHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIF9fd2VicGFja19yZXF1aXJlX18ubmMpO1xuLyoqKioqKi8gXHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdHNjcmlwdC5zcmMgPSBqc29ucFNjcmlwdFNyYyhjaHVua0lkKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0XHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGVycm9yID0gbmV3IEVycm9yKCk7XG4vKioqKioqLyBcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbi8qKioqKiovIFx0XHRcdFx0XHQvLyBhdm9pZCBtZW0gbGVha3MgaW4gSUUuXG4vKioqKioqLyBcdFx0XHRcdFx0c2NyaXB0Lm9uZXJyb3IgPSBzY3JpcHQub25sb2FkID0gbnVsbDtcbi8qKioqKiovIFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGNodW5rID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGNodW5rICE9PSAwKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihjaHVuaykge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHR2YXIgcmVhbFNyYyA9IGV2ZW50ICYmIGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQuc3JjO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvci5uYW1lID0gJ0NodW5rTG9hZEVycm9yJztcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IudHlwZSA9IGVycm9yVHlwZTtcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGNodW5rWzFdKGVycm9yKTtcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IHVuZGVmaW5lZDtcbi8qKioqKiovIFx0XHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdH07XG4vKioqKioqLyBcdFx0XHRcdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuLyoqKioqKi8gXHRcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUoeyB0eXBlOiAndGltZW91dCcsIHRhcmdldDogc2NyaXB0IH0pO1xuLyoqKioqKi8gXHRcdFx0XHR9LCAxMjAwMDApO1xuLyoqKioqKi8gXHRcdFx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBvblNjcmlwdENvbXBsZXRlO1xuLyoqKioqKi8gXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4vKioqKioqLyBcdFx0XHR9XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbi8qKioqKiovIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4vKioqKioqLyBcdFx0cmV0dXJuIG5zO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gb24gZXJyb3IgZnVuY3Rpb24gZm9yIGFzeW5jIGxvYWRpbmdcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vZSA9IGZ1bmN0aW9uKGVycikgeyBjb25zb2xlLmVycm9yKGVycik7IHRocm93IGVycjsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wc21hcnRjaGFydHNcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBzbWFydGNoYXJ0c1wiXSB8fCBbXTtcbi8qKioqKiovIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbi8qKioqKiovIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4vKioqKioqLyBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4vKioqKioqLyBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbi8qKioqKiovIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2luZGV4LmpzXCIpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoe1xuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyohXG4gIENvcHlyaWdodCAoYykgMjAxNyBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuXG4vKiBnbG9iYWwgZGVmaW5lICovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGZ1bmN0aW9uIGNsYXNzTmFtZXMoKSB7XG4gICAgdmFyIGNsYXNzZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgaWYgKCFhcmcpIGNvbnRpbnVlO1xuICAgICAgdmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG4gICAgICBpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY2xhc3Nlcy5wdXNoKGFyZyk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSAmJiBhcmcubGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbm5lciA9IGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKTtcblxuICAgICAgICBpZiAoaW5uZXIpIHtcbiAgICAgICAgICBjbGFzc2VzLnB1c2goaW5uZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBhcmcpIHtcbiAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG4gICAgICAgICAgICBjbGFzc2VzLnB1c2goa2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG4gIH1cblxuICBpZiAoIHRydWUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBjbGFzc05hbWVzLmRlZmF1bHQgPSBjbGFzc05hbWVzO1xuICAgIG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuICAgIGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY2xhc3NOYW1lcztcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG4gIH1cbn0pKCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2Nsc3gvZGlzdC9jbHN4Lm0uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jbHN4L2Rpc3QvY2xzeC5tLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbmZ1bmN0aW9uIHRvVmFsKG1peCkge1xuICB2YXIgayxcbiAgICAgIHksXG4gICAgICBzdHIgPSAnJztcblxuICBpZiAodHlwZW9mIG1peCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG1peCA9PT0gJ251bWJlcicpIHtcbiAgICBzdHIgKz0gbWl4O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtaXggPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWl4KSkge1xuICAgICAgZm9yIChrID0gMDsgayA8IG1peC5sZW5ndGg7IGsrKykge1xuICAgICAgICBpZiAobWl4W2tdKSB7XG4gICAgICAgICAgaWYgKHkgPSB0b1ZhbChtaXhba10pKSB7XG4gICAgICAgICAgICBzdHIgJiYgKHN0ciArPSAnICcpO1xuICAgICAgICAgICAgc3RyICs9IHk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoayBpbiBtaXgpIHtcbiAgICAgICAgaWYgKG1peFtrXSkge1xuICAgICAgICAgIHN0ciAmJiAoc3RyICs9ICcgJyk7XG4gICAgICAgICAgc3RyICs9IGs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3RyO1xufVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGkgPSAwLFxuICAgICAgdG1wLFxuICAgICAgeCxcbiAgICAgIHN0ciA9ICcnO1xuXG4gIHdoaWxlIChpIDwgYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGlmICh0bXAgPSBhcmd1bWVudHNbaSsrXSkge1xuICAgICAgaWYgKHggPSB0b1ZhbCh0bXApKSB7XG4gICAgICAgIHN0ciAmJiAoc3RyICs9ICcgJyk7XG4gICAgICAgIHN0ciArPSB4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHI7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZXZlbnQtZW1pdHRlci1lczYvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZXZlbnQtZW1pdHRlci1lczYvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxudmFyIERFRkFVTFRfVkFMVUVTID0ge1xuICBlbWl0RGVsYXk6IDEwLFxuICBzdHJpY3RNb2RlOiBmYWxzZVxufTtcbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gRXZlbnRFbWl0dGVyTGlzdGVuZXJGdW5jXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IG9uY2VcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGZuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3MgRXZlbnRFbWl0dGVyXG4gKlxuICogQHByaXZhdGVcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsIEV2ZW50RW1pdHRlckxpc3RlbmVyRnVuY1tdPn0gX2xpc3RlbmVyc1xuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZXZlbnRzXG4gKi9cblxudmFyIEV2ZW50RW1pdHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge3t9fSAgICAgIFtvcHRzXVxuICAgKiBAcGFyYW0ge251bWJlcn0gIFtvcHRzLmVtaXREZWxheSA9IDEwXSAtIE51bWJlciBpbiBtcy4gU3BlY2lmaWVzIHdoZXRoZXIgZW1pdCB3aWxsIGJlIHN5bmMgb3IgYXN5bmMuIEJ5IGRlZmF1bHQgLSAxMG1zLiBJZiAwIC0gZmlyZXMgc3luY1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnN0cmljdE1vZGUgPSBmYWxzZV0gLSBpcyB0cnVlLCBFbWl0dGVyIHRocm93cyBlcnJvciBvbiBlbWl0IGVycm9yIHdpdGggbm8gbGlzdGVuZXJzXG4gICAqL1xuICBmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBERUZBVUxUX1ZBTFVFUyA6IGFyZ3VtZW50c1swXTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuXG4gICAgdmFyIGVtaXREZWxheSA9IHZvaWQgMCxcbiAgICAgICAgc3RyaWN0TW9kZSA9IHZvaWQgMDtcblxuICAgIGlmIChvcHRzLmhhc093blByb3BlcnR5KCdlbWl0RGVsYXknKSkge1xuICAgICAgZW1pdERlbGF5ID0gb3B0cy5lbWl0RGVsYXk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXREZWxheSA9IERFRkFVTFRfVkFMVUVTLmVtaXREZWxheTtcbiAgICB9XG5cbiAgICB0aGlzLl9lbWl0RGVsYXkgPSBlbWl0RGVsYXk7XG5cbiAgICBpZiAob3B0cy5oYXNPd25Qcm9wZXJ0eSgnc3RyaWN0TW9kZScpKSB7XG4gICAgICBzdHJpY3RNb2RlID0gb3B0cy5zdHJpY3RNb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHJpY3RNb2RlID0gREVGQVVMVF9WQUxVRVMuc3RyaWN0TW9kZTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdHJpY3RNb2RlID0gc3RyaWN0TW9kZTtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29uY2UgPSBmYWxzZV1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLCBbe1xuICAgIGtleTogJ19hZGRMaXN0ZW5uZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkTGlzdGVubmVyKHR5cGUsIGxpc3RlbmVyLCBvbmNlKSB7XG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmV2ZW50cy5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnNbdHlwZV0gPSBbe1xuICAgICAgICAgIG9uY2U6IG9uY2UsXG4gICAgICAgICAgZm46IGxpc3RlbmVyXG4gICAgICAgIH1dO1xuICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHR5cGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzW3R5cGVdLnB1c2goe1xuICAgICAgICAgIG9uY2U6IG9uY2UsXG4gICAgICAgICAgZm46IGxpc3RlbmVyXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIG9uIGV2ZW50IHR5cGUgc3BlY2lmaWVkIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB0aGlzLl9hZGRMaXN0ZW5uZXIodHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlcyBvbiBldmVudCB0eXBlIHNwZWNpZmllZCBmdW5jdGlvbiB0byBmaXJlIG9ubHkgb25jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnb25jZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuX2FkZExpc3Rlbm5lcih0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgd2l0aCBzcGVjaWZpZWQgdHlwZS4gSWYgc3BlY2lmaWVkIGxpc3RlbmVyRnVuYyAtIGRlbGV0ZXMgb25seSBvbmUgbGlzdGVuZXIgb2Ygc3BlY2lmaWVkIHR5cGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2xpc3RlbmVyRnVuY11cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnb2ZmJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKGV2ZW50VHlwZSwgbGlzdGVuZXJGdW5jKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgdHlwZUluZGV4ID0gdGhpcy5ldmVudHMuaW5kZXhPZihldmVudFR5cGUpO1xuICAgICAgdmFyIGhhc1R5cGUgPSBldmVudFR5cGUgJiYgdHlwZUluZGV4ICE9PSAtMTtcblxuICAgICAgaWYgKGhhc1R5cGUpIHtcbiAgICAgICAgaWYgKCFsaXN0ZW5lckZ1bmMpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2V2ZW50VHlwZV07XG4gICAgICAgICAgdGhpcy5ldmVudHMuc3BsaWNlKHR5cGVJbmRleCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZW1vdmVkRXZlbnRzID0gW107XG4gICAgICAgICAgICB2YXIgdHlwZUxpc3RlbmVycyA9IF90aGlzLl9saXN0ZW5lcnNbZXZlbnRUeXBlXTtcbiAgICAgICAgICAgIHR5cGVMaXN0ZW5lcnMuZm9yRWFjaChcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHBhcmFtIHtFdmVudEVtaXR0ZXJMaXN0ZW5lckZ1bmN9IGZuXG4gICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaWR4XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIChmbiwgaWR4KSB7XG4gICAgICAgICAgICAgIGlmIChmbi5mbiA9PT0gbGlzdGVuZXJGdW5jKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZEV2ZW50cy51bnNoaWZ0KGlkeCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVtb3ZlZEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHtcbiAgICAgICAgICAgICAgdHlwZUxpc3RlbmVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIXR5cGVMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIF90aGlzLmV2ZW50cy5zcGxpY2UodHlwZUluZGV4LCAxKTtcblxuICAgICAgICAgICAgICBkZWxldGUgX3RoaXMuX2xpc3RlbmVyc1tldmVudFR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhcmd1bWVudHMgdG8gc3BlY2lmaWVkIGV2ZW50IHR5cGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gICAgICogQHBhcmFtIHsqW119IGV2ZW50QXJndW1lbnRzXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfYXBwbHlFdmVudHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwbHlFdmVudHMoZXZlbnRUeXBlLCBldmVudEFyZ3VtZW50cykge1xuICAgICAgdmFyIHR5cGVMaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnNbZXZlbnRUeXBlXTtcblxuICAgICAgaWYgKCF0eXBlTGlzdGVuZXJzIHx8ICF0eXBlTGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICBpZiAodGhpcy5fc3RyaWN0TW9kZSkge1xuICAgICAgICAgIHRocm93ICdObyBsaXN0ZW5lcnMgc3BlY2lmaWVkIGZvciBldmVudDogJyArIGV2ZW50VHlwZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHJlbW92YWJsZUxpc3RlbmVycyA9IFtdO1xuICAgICAgdHlwZUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChlZUxpc3RlbmVyLCBpZHgpIHtcbiAgICAgICAgZWVMaXN0ZW5lci5mbi5hcHBseShudWxsLCBldmVudEFyZ3VtZW50cyk7XG5cbiAgICAgICAgaWYgKGVlTGlzdGVuZXIub25jZSkge1xuICAgICAgICAgIHJlbW92YWJsZUxpc3RlbmVycy51bnNoaWZ0KGlkeCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmVtb3ZhYmxlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICB0eXBlTGlzdGVuZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGV2ZW50IHdpdGggc3BlY2lmaWVkIHR5cGUgYW5kIHBhcmFtcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgICAqIEBwYXJhbSBldmVudEFyZ3NcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZW1pdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBldmVudEFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGV2ZW50QXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9lbWl0RGVsYXkpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLl9hcHBseUV2ZW50cy5jYWxsKF90aGlzMiwgdHlwZSwgZXZlbnRBcmdzKTtcbiAgICAgICAgfSwgdGhpcy5fZW1pdERlbGF5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FwcGx5RXZlbnRzKHR5cGUsIGV2ZW50QXJncyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGV2ZW50IHdpdGggc3BlY2lmaWVkIHR5cGUgYW5kIHBhcmFtcyBzeW5jaHJvbm91c2x5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogQHBhcmFtIGV2ZW50QXJnc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdlbWl0U3luYycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVtaXRTeW5jKHR5cGUpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZXZlbnRBcmdzID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBldmVudEFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2FwcGx5RXZlbnRzKHR5cGUsIGV2ZW50QXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIEV2ZW50RW1pdHRlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICAgICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRXZlbnRFbWl0dGVyO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLmRlYm91bmNlL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9sb2Rhc2guZGVib3VuY2UvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cblxudmFyIE5BTiA9IDAgLyAwO1xuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xuXG52YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xuXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG5cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG5cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG5cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG5cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xuXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblxudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuLyoqXG4gKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBEYXRlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAqIH0sIF8ubm93KCkpO1xuICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAqL1xuXG52YXIgbm93ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xufTtcbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5cblxuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cblxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcblxuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTsgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cblxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7IC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuICAgIHJldHVybiBtYXhpbmcgPyBuYXRpdmVNaW4ocmVzdWx0LCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7IC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG5cbiAgICByZXR1cm4gbGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgdGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCB8fCB0aW1lU2luY2VMYXN0Q2FsbCA8IDAgfHwgbWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpO1xuXG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9IC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuXG5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkOyAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuXG4gICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuXG5cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cblxuXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8IGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvTnVtYmVyKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiBJbmZpbml0eVxuICpcbiAqIF8udG9OdW1iZXIoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cblxuXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cblxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gb3RoZXIgKyAnJyA6IG90aGVyO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG5cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KSA6IHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVib3VuY2U7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL21vYngtcmVhY3QvaW5kZXgubW9kdWxlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL21vYngtcmVhY3QvaW5kZXgubW9kdWxlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IHByb3BUeXBlcywgUHJvcFR5cGVzLCBvbkVycm9yLCBvYnNlcnZlciwgT2JzZXJ2ZXIsIHJlbmRlclJlcG9ydGVyLCBjb21wb25lbnRCeU5vZGVSZWdpc3RlcnksIGNvbXBvbmVudEJ5Tm9kZVJlZ2lzdHJ5LCB0cmFja0NvbXBvbmVudHMsIHVzZVN0YXRpY1JlbmRlcmluZywgUHJvdmlkZXIsIGluamVjdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJwcm9wVHlwZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwcm9wVHlwZXM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlByb3BUeXBlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHByb3BUeXBlczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwib25FcnJvclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIG9uRXJyb3I7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm9ic2VydmVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gb2JzZXJ2ZXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk9ic2VydmVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gT2JzZXJ2ZXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbmRlclJlcG9ydGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcmVuZGVyUmVwb3J0ZXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbXBvbmVudEJ5Tm9kZVJlZ2lzdGVyeVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbXBvbmVudEJ5Tm9kZVJlZ2lzdHJ5OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjb21wb25lbnRCeU5vZGVSZWdpc3RyeVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbXBvbmVudEJ5Tm9kZVJlZ2lzdHJ5OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ0cmFja0NvbXBvbmVudHNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB0cmFja0NvbXBvbmVudHM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInVzZVN0YXRpY1JlbmRlcmluZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHVzZVN0YXRpY1JlbmRlcmluZzsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiUHJvdmlkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQcm92aWRlcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW5qZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaW5qZWN0OyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9kb21fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LWRvbSAqLyBcInJlYWN0LWRvbVwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9kb21fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9kb21fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG5cblxuIC8vIFRoZXNlIGZ1bmN0aW9ucyBjYW4gYmUgc3R1YmJlZCBvdXQgaW4gc3BlY2lmaWMgZW52aXJvbm1lbnRzXG5cbnZhciB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyQxID0gdW5kZWZpbmVkO1xuJ3VzZSBzdHJpY3QnO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xuXG5cbnZhciBSRUFDVF9TVEFUSUNTID0ge1xuICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcbiAgY29udGV4dFR5cGVzOiB0cnVlLFxuICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gIGRpc3BsYXlOYW1lOiB0cnVlLFxuICBnZXREZWZhdWx0UHJvcHM6IHRydWUsXG4gIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogdHJ1ZSxcbiAgbWl4aW5zOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWUsXG4gIHR5cGU6IHRydWVcbn07XG52YXIgS05PV05fU1RBVElDUyA9IHtcbiAgbmFtZTogdHJ1ZSxcbiAgbGVuZ3RoOiB0cnVlLFxuICBwcm90b3R5cGU6IHRydWUsXG4gIGNhbGxlcjogdHJ1ZSxcbiAgY2FsbGVlOiB0cnVlLFxuICBhcmd1bWVudHM6IHRydWUsXG4gIGFyaXR5OiB0cnVlXG59O1xudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG52YXIgb2JqZWN0UHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YgJiYgZ2V0UHJvdG90eXBlT2YoT2JqZWN0KTtcblxuZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQsIGJsYWNrbGlzdCkge1xuICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHtcbiAgICAvLyBkb24ndCBob2lzdCBvdmVyIHN0cmluZyAoaHRtbCkgY29tcG9uZW50c1xuICAgIGlmIChvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgIHZhciBpbmhlcml0ZWRDb21wb25lbnQgPSBnZXRQcm90b3R5cGVPZihzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgICBpZiAoaW5oZXJpdGVkQ29tcG9uZW50ICYmIGluaGVyaXRlZENvbXBvbmVudCAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgaW5oZXJpdGVkQ29tcG9uZW50LCBibGFja2xpc3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgaWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAga2V5cyA9IGtleXMuY29uY2F0KGdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2VDb21wb25lbnQpKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgICBpZiAoIVJFQUNUX1NUQVRJQ1Nba2V5XSAmJiAhS05PV05fU1RBVElDU1trZXldICYmICghYmxhY2tsaXN0IHx8ICFibGFja2xpc3Rba2V5XSkpIHtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlQ29tcG9uZW50LCBrZXkpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQXZvaWQgZmFpbHVyZXMgZnJvbSByZWFkLW9ubHkgcHJvcGVydGllc1xuICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn1cblxudmFyIGhvaXN0Tm9uUmVhY3RTdGF0aWNzX2NqcyA9IGhvaXN0Tm9uUmVhY3RTdGF0aWNzO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iajtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xufTtcblxudmFyIGFzeW5jR2VuZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBd2FpdFZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gQXN5bmNHZW5lcmF0b3IoZ2VuKSB7XG4gICAgdmFyIGZyb250LCBiYWNrO1xuXG4gICAgZnVuY3Rpb24gc2VuZChrZXksIGFyZykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgYXJnOiBhcmcsXG4gICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICByZWplY3Q6IHJlamVjdCxcbiAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGJhY2spIHtcbiAgICAgICAgICBiYWNrID0gYmFjay5uZXh0ID0gcmVxdWVzdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmcm9udCA9IGJhY2sgPSByZXF1ZXN0O1xuICAgICAgICAgIHJlc3VtZShrZXksIGFyZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc3VtZShrZXksIGFyZykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGdlbltrZXldKGFyZyk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcblxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBd2FpdFZhbHVlKSB7XG4gICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlLnZhbHVlKS50aGVuKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgICAgIHJlc3VtZShcIm5leHRcIiwgYXJnKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgICAgICByZXN1bWUoXCJ0aHJvd1wiLCBhcmcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldHRsZShyZXN1bHQuZG9uZSA/IFwicmV0dXJuXCIgOiBcIm5vcm1hbFwiLCByZXN1bHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2V0dGxlKFwidGhyb3dcIiwgZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXR0bGUodHlwZSwgdmFsdWUpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwicmV0dXJuXCI6XG4gICAgICAgICAgZnJvbnQucmVzb2x2ZSh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInRocm93XCI6XG4gICAgICAgICAgZnJvbnQucmVqZWN0KHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGZyb250LnJlc29sdmUoe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgZnJvbnQgPSBmcm9udC5uZXh0O1xuXG4gICAgICBpZiAoZnJvbnQpIHtcbiAgICAgICAgcmVzdW1lKGZyb250LmtleSwgZnJvbnQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhY2sgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2ludm9rZSA9IHNlbmQ7XG5cbiAgICBpZiAodHlwZW9mIGdlbi5yZXR1cm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhpcy5yZXR1cm4gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuYXN5bmNJdGVyYXRvcikge1xuICAgIEFzeW5jR2VuZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICB9XG5cbiAgQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludm9rZShcIm5leHRcIiwgYXJnKTtcbiAgfTtcblxuICBBc3luY0dlbmVyYXRvci5wcm90b3R5cGUudGhyb3cgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludm9rZShcInRocm93XCIsIGFyZyk7XG4gIH07XG5cbiAgQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlLnJldHVybiA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5faW52b2tlKFwicmV0dXJuXCIsIGFyZyk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICB3cmFwOiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXN5bmNHZW5lcmF0b3IoZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICB9O1xuICAgIH0sXG4gICAgYXdhaXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5ldyBBd2FpdFZhbHVlKHZhbHVlKTtcbiAgICB9XG4gIH07XG59KCk7XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBpbmhlcml0cyA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cbnZhciBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG52YXIgRXZlbnRFbWl0dGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRFbWl0dGVyKTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLCBbe1xuICAgIGtleTogXCJvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbihjYikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5kZXggPSBfdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYik7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgX3RoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbWl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVtaXQoZGF0YSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuKGRhdGEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBFdmVudEVtaXR0ZXI7XG59KCk7IC8vIENvcGllZCBmcm9tIFJlYWN0LlByb3BUeXBlc1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG4gIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4gPiA2ID8gX2xlbiAtIDYgOiAwKSwgX2tleSA9IDY7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIHJlc3RbX2tleSAtIDZdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1widW50cmFja2VkXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBcIjw8YW5vbnltb3VzPj5cIjtcbiAgICAgIHByb3BGdWxsTmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcblxuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgdmFyIGFjdHVhbCA9IHByb3BzW3Byb3BOYW1lXSA9PT0gbnVsbCA/IFwibnVsbFwiIDogXCJ1bmRlZmluZWRcIjtcbiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiVGhlIFwiICsgbG9jYXRpb24gKyBcIiBgXCIgKyBwcm9wRnVsbE5hbWUgKyBcImAgaXMgbWFya2VkIGFzIHJlcXVpcmVkIFwiICsgXCJpbiBgXCIgKyBjb21wb25lbnROYW1lICsgXCJgLCBidXQgaXRzIHZhbHVlIGlzIGBcIiArIGFjdHVhbCArIFwiYC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZS5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgY2hhaW5lZENoZWNrVHlwZSA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIGZhbHNlKTtcbiAgY2hhaW5lZENoZWNrVHlwZS5pc1JlcXVpcmVkID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgdHJ1ZSk7XG4gIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xufSAvLyBDb3BpZWQgZnJvbSBSZWFjdC5Qcm9wVHlwZXNcblxuXG5mdW5jdGlvbiBpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSB7XG4gIC8vIE5hdGl2ZSBTeW1ib2wuXG4gIGlmIChwcm9wVHlwZSA9PT0gXCJzeW1ib2xcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG5cblxuICBpZiAocHJvcFZhbHVlW1wiQEB0b1N0cmluZ1RhZ1wiXSA9PT0gXCJTeW1ib2xcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIEZhbGxiYWNrIGZvciBub24tc3BlYyBjb21wbGlhbnQgU3ltYm9scyB3aGljaCBhcmUgcG9seWZpbGxlZC5cblxuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgcHJvcFZhbHVlIGluc3RhbmNlb2YgU3ltYm9sKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59IC8vIENvcGllZCBmcm9tIFJlYWN0LlByb3BUeXBlc1xuXG5cbmZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YocHJvcFZhbHVlKTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgfVxuXG4gIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAvLyBPbGQgd2Via2l0cyAoYXQgbGVhc3QgdW50aWwgQW5kcm9pZCA0LjApIHJldHVybiAnZnVuY3Rpb24nIHJhdGhlciB0aGFuXG4gICAgLy8gJ29iamVjdCcgZm9yIHR5cGVvZiBhIFJlZ0V4cC4gV2UnbGwgbm9ybWFsaXplIHRoaXMgaGVyZSBzbyB0aGF0IC9ibGEvXG4gICAgLy8gcGFzc2VzIFByb3BUeXBlcy5vYmplY3QuXG4gICAgcmV0dXJuIFwib2JqZWN0XCI7XG4gIH1cblxuICBpZiAoaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkpIHtcbiAgICByZXR1cm4gXCJzeW1ib2xcIjtcbiAgfVxuXG4gIHJldHVybiBwcm9wVHlwZTtcbn0gLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuLy8gQ29waWVkIGZyb20gUmVhY3QuUHJvcFR5cGVzXG5cblxuZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG4gIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cbiAgaWYgKHByb3BUeXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgIHJldHVybiBcImRhdGVcIjtcbiAgICB9IGVsc2UgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgcmV0dXJuIFwicmVnZXhwXCI7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHByb3BUeXBlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVPYnNlcnZhYmxlVHlwZUNoZWNrZXJDcmVhdG9yKGFsbG93TmF0aXZlVHlwZSwgbW9ieFR5cGUpIHtcbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGZ1bmN0aW9uIChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICByZXR1cm4gT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInVudHJhY2tlZFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGFsbG93TmF0aXZlVHlwZSkge1xuICAgICAgICBpZiAoZ2V0UHJvcFR5cGUocHJvcHNbcHJvcE5hbWVdKSA9PT0gbW9ieFR5cGUudG9Mb3dlckNhc2UoKSkgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBtb2J4Q2hlY2tlciA9IHZvaWQgMDtcblxuICAgICAgc3dpdGNoIChtb2J4VHlwZSkge1xuICAgICAgICBjYXNlIFwiQXJyYXlcIjpcbiAgICAgICAgICBtb2J4Q2hlY2tlciA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImlzT2JzZXJ2YWJsZUFycmF5XCJdO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICAgICAgICBtb2J4Q2hlY2tlciA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImlzT2JzZXJ2YWJsZU9iamVjdFwiXTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiTWFwXCI6XG4gICAgICAgICAgbW9ieENoZWNrZXIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJpc09ic2VydmFibGVNYXBcIl07XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIG1vYnhUeXBlOiBcIiArIG1vYnhUeXBlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblxuICAgICAgaWYgKCFtb2J4Q2hlY2tlcihwcm9wVmFsdWUpKSB7XG4gICAgICAgIHZhciBwcmVjaXNlVHlwZSA9IGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHZhciBuYXRpdmVUeXBlRXhwZWN0YXRpb25NZXNzYWdlID0gYWxsb3dOYXRpdmVUeXBlID8gXCIgb3IgamF2YXNjcmlwdCBgXCIgKyBtb2J4VHlwZS50b0xvd2VyQ2FzZSgpICsgXCJgXCIgOiBcIlwiO1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiSW52YWxpZCBwcm9wIGBcIiArIHByb3BGdWxsTmFtZSArIFwiYCBvZiB0eXBlIGBcIiArIHByZWNpc2VUeXBlICsgXCJgIHN1cHBsaWVkIHRvXCIgKyBcIiBgXCIgKyBjb21wb25lbnROYW1lICsgXCJgLCBleHBlY3RlZCBgbW9ieC5PYnNlcnZhYmxlXCIgKyBtb2J4VHlwZSArIFwiYFwiICsgbmF0aXZlVHlwZUV4cGVjdGF0aW9uTWVzc2FnZSArIFwiLlwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVPYnNlcnZhYmxlQXJyYXlPZlR5cGVDaGVja2VyKGFsbG93TmF0aXZlVHlwZSwgdHlwZUNoZWNrZXIpIHtcbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGZ1bmN0aW9uIChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuMiA+IDUgPyBfbGVuMiAtIDUgOiAwKSwgX2tleTIgPSA1OyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICByZXN0W19rZXkyIC0gNV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1widW50cmFja2VkXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcIlByb3BlcnR5IGBcIiArIHByb3BGdWxsTmFtZSArIFwiYCBvZiBjb21wb25lbnQgYFwiICsgY29tcG9uZW50TmFtZSArIFwiYCBoYXMgXCIgKyBcImludmFsaWQgUHJvcFR5cGUgbm90YXRpb24uXCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXJyb3IgPSBjcmVhdGVPYnNlcnZhYmxlVHlwZUNoZWNrZXJDcmVhdG9yKGFsbG93TmF0aXZlVHlwZSwgXCJBcnJheVwiKShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBlcnJvcjtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVycm9yID0gdHlwZUNoZWNrZXIuYXBwbHkodW5kZWZpbmVkLCBbcHJvcFZhbHVlLCBpLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgXCJbXCIgKyBpICsgXCJdXCJdLmNvbmNhdChyZXN0KSk7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICB9KTtcbn1cblxudmFyIG9ic2VydmFibGVBcnJheSA9IGNyZWF0ZU9ic2VydmFibGVUeXBlQ2hlY2tlckNyZWF0b3IoZmFsc2UsIFwiQXJyYXlcIik7XG52YXIgb2JzZXJ2YWJsZUFycmF5T2YgPSBjcmVhdGVPYnNlcnZhYmxlQXJyYXlPZlR5cGVDaGVja2VyLmJpbmQobnVsbCwgZmFsc2UpO1xudmFyIG9ic2VydmFibGVNYXAgPSBjcmVhdGVPYnNlcnZhYmxlVHlwZUNoZWNrZXJDcmVhdG9yKGZhbHNlLCBcIk1hcFwiKTtcbnZhciBvYnNlcnZhYmxlT2JqZWN0ID0gY3JlYXRlT2JzZXJ2YWJsZVR5cGVDaGVja2VyQ3JlYXRvcihmYWxzZSwgXCJPYmplY3RcIik7XG52YXIgYXJyYXlPck9ic2VydmFibGVBcnJheSA9IGNyZWF0ZU9ic2VydmFibGVUeXBlQ2hlY2tlckNyZWF0b3IodHJ1ZSwgXCJBcnJheVwiKTtcbnZhciBhcnJheU9yT2JzZXJ2YWJsZUFycmF5T2YgPSBjcmVhdGVPYnNlcnZhYmxlQXJyYXlPZlR5cGVDaGVja2VyLmJpbmQobnVsbCwgdHJ1ZSk7XG52YXIgb2JqZWN0T3JPYnNlcnZhYmxlT2JqZWN0ID0gY3JlYXRlT2JzZXJ2YWJsZVR5cGVDaGVja2VyQ3JlYXRvcih0cnVlLCBcIk9iamVjdFwiKTtcbnZhciBwcm9wVHlwZXMgPSBPYmplY3QuZnJlZXplKHtcbiAgb2JzZXJ2YWJsZUFycmF5OiBvYnNlcnZhYmxlQXJyYXksXG4gIG9ic2VydmFibGVBcnJheU9mOiBvYnNlcnZhYmxlQXJyYXlPZixcbiAgb2JzZXJ2YWJsZU1hcDogb2JzZXJ2YWJsZU1hcCxcbiAgb2JzZXJ2YWJsZU9iamVjdDogb2JzZXJ2YWJsZU9iamVjdCxcbiAgYXJyYXlPck9ic2VydmFibGVBcnJheTogYXJyYXlPck9ic2VydmFibGVBcnJheSxcbiAgYXJyYXlPck9ic2VydmFibGVBcnJheU9mOiBhcnJheU9yT2JzZXJ2YWJsZUFycmF5T2YsXG4gIG9iamVjdE9yT2JzZXJ2YWJsZU9iamVjdDogb2JqZWN0T3JPYnNlcnZhYmxlT2JqZWN0XG59KTtcblxuZnVuY3Rpb24gaXNTdGF0ZWxlc3MoY29tcG9uZW50KSB7XG4gIC8vIGBmdW5jdGlvbigpIHt9YCBoYXMgcHJvdG90eXBlLCBidXQgYCgpID0+IHt9YCBkb2Vzbid0XG4gIC8vIGAoKSA9PiB7fWAgdmlhIEJhYmVsIGhhcyBwcm90b3R5cGUgdG9vLlxuICByZXR1cm4gIShjb21wb25lbnQucHJvdG90eXBlICYmIGNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyKTtcbn1cblxudmFyIGluamVjdG9yQ29udGV4dFR5cGVzID0ge1xuICBtb2J4U3RvcmVzOiBvYmplY3RPck9ic2VydmFibGVPYmplY3Rcbn07XG5PYmplY3Quc2VhbChpbmplY3RvckNvbnRleHRUeXBlcyk7XG52YXIgcHJveGllZEluamVjdG9yUHJvcHMgPSB7XG4gIGNvbnRleHRUeXBlczoge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgcmV0dXJuIGluamVjdG9yQ29udGV4dFR5cGVzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEoXykge1xuICAgICAgY29uc29sZS53YXJuKFwiTW9ieCBJbmplY3RvcjogeW91IGFyZSB0cnlpbmcgdG8gYXR0YWNoIGBjb250ZXh0VHlwZXNgIG9uIGFuIGNvbXBvbmVudCBkZWNvcmF0ZWQgd2l0aCBgaW5qZWN0YCAob3IgYG9ic2VydmVyYCkgSE9DLiBQbGVhc2Ugc3BlY2lmeSB0aGUgY29udGV4dFR5cGVzIG9uIHRoZSB3cmFwcGVkIGNvbXBvbmVudCBpbnN0ZWFkLiBJdCBpcyBhY2Nlc3NpYmxlIHRocm91Z2ggdGhlIGB3cmFwcGVkQ29tcG9uZW50YFwiKTtcbiAgICB9LFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICB9LFxuICBpc01vYnhJbmplY3Rvcjoge1xuICAgIHZhbHVlOiB0cnVlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlXG4gIH1cbiAgLyoqXG4gICAqIFN0b3JlIEluamVjdGlvblxuICAgKi9cblxufTtcblxuZnVuY3Rpb24gY3JlYXRlU3RvcmVJbmplY3RvcihncmFiU3RvcmVzRm4sIGNvbXBvbmVudCwgaW5qZWN0TmFtZXMpIHtcbiAgdmFyIF9jbGFzcywgX3RlbXAyO1xuXG4gIHZhciBkaXNwbGF5TmFtZSA9IFwiaW5qZWN0LVwiICsgKGNvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBjb21wb25lbnQubmFtZSB8fCBjb21wb25lbnQuY29uc3RydWN0b3IgJiYgY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWUgfHwgXCJVbmtub3duXCIpO1xuICBpZiAoaW5qZWN0TmFtZXMpIGRpc3BsYXlOYW1lICs9IFwiLXdpdGgtXCIgKyBpbmplY3ROYW1lcztcbiAgdmFyIEluamVjdG9yID0gKF90ZW1wMiA9IF9jbGFzcyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgaW5oZXJpdHMoSW5qZWN0b3IsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gSW5qZWN0b3IoKSB7XG4gICAgICB2YXIgX3JlZjtcblxuICAgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5qZWN0b3IpO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBJbmplY3Rvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEluamVjdG9yKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RvcmVSZWYgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgX3RoaXMud3JhcHBlZEluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICB9LCBfdGVtcCksIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICAgIH1cblxuICAgIGNyZWF0ZUNsYXNzKEluamVjdG9yLCBbe1xuICAgICAga2V5OiBcInJlbmRlclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgLy8gT3B0aW1pemF0aW9uOiBpdCBtaWdodCBiZSBtb3JlIGVmZmljaWVudCB0byBhcHBseSB0aGUgbWFwcGVyIGZ1bmN0aW9uICpvdXRzaWRlKiB0aGUgcmVuZGVyIG1ldGhvZFxuICAgICAgICAvLyAoaWYgdGhlIG1hcHBlciBpcyBhIGZ1bmN0aW9uKSwgdGhhdCBjb3VsZCBhdm9pZCBleHBlbnNpdmUoPykgcmUtcmVuZGVyaW5nIG9mIHRoZSBpbmplY3RvciBjb21wb25lbnRcbiAgICAgICAgLy8gU2VlIHRoaXMgdGVzdDogJ3VzaW5nIGEgY3VzdG9tIGluamVjdG9yIGlzIG5vdCB0b28gcmVhY3RpdmUnIGluIGluamVjdC5qc1xuICAgICAgICB2YXIgbmV3UHJvcHMgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICAgIGlmICh0aGlzLnByb3BzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIG5ld1Byb3BzW2tleV0gPSB0aGlzLnByb3BzW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFkZGl0aW9uYWxQcm9wcyA9IGdyYWJTdG9yZXNGbih0aGlzLmNvbnRleHQubW9ieFN0b3JlcyB8fCB7fSwgbmV3UHJvcHMsIHRoaXMuY29udGV4dCkgfHwge307XG5cbiAgICAgICAgZm9yICh2YXIgX2tleTIgaW4gYWRkaXRpb25hbFByb3BzKSB7XG4gICAgICAgICAgbmV3UHJvcHNbX2tleTJdID0gYWRkaXRpb25hbFByb3BzW19rZXkyXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNTdGF0ZWxlc3MoY29tcG9uZW50KSkge1xuICAgICAgICAgIG5ld1Byb3BzLnJlZiA9IHRoaXMuc3RvcmVSZWY7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gT2JqZWN0KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjcmVhdGVFbGVtZW50XCJdKShjb21wb25lbnQsIG5ld1Byb3BzKTtcbiAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIEluamVjdG9yO1xuICB9KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJDb21wb25lbnRcIl0pLCBfY2xhc3MuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZSwgX3RlbXAyKTsgLy8gU3RhdGljIGZpZWxkcyBmcm9tIGNvbXBvbmVudCBzaG91bGQgYmUgdmlzaWJsZSBvbiB0aGUgZ2VuZXJhdGVkIEluamVjdG9yXG5cbiAgaG9pc3ROb25SZWFjdFN0YXRpY3NfY2pzKEluamVjdG9yLCBjb21wb25lbnQpO1xuICBJbmplY3Rvci53cmFwcGVkQ29tcG9uZW50ID0gY29tcG9uZW50O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhJbmplY3RvciwgcHJveGllZEluamVjdG9yUHJvcHMpO1xuICByZXR1cm4gSW5qZWN0b3I7XG59XG5cbmZ1bmN0aW9uIGdyYWJTdG9yZXNCeU5hbWUoc3RvcmVOYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24gKGJhc2VTdG9yZXMsIG5leHRQcm9wcykge1xuICAgIHN0b3JlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG4gICAgICBpZiAoc3RvcmVOYW1lIGluIG5leHRQcm9wcyAvLyBwcmVmZXIgcHJvcHMgb3ZlciBzdG9yZXNcbiAgICAgICkgcmV0dXJuO1xuICAgICAgaWYgKCEoc3RvcmVOYW1lIGluIGJhc2VTdG9yZXMpKSB0aHJvdyBuZXcgRXJyb3IoXCJNb2JYIGluamVjdG9yOiBTdG9yZSAnXCIgKyBzdG9yZU5hbWUgKyBcIicgaXMgbm90IGF2YWlsYWJsZSEgTWFrZSBzdXJlIGl0IGlzIHByb3ZpZGVkIGJ5IHNvbWUgUHJvdmlkZXJcIik7XG4gICAgICBuZXh0UHJvcHNbc3RvcmVOYW1lXSA9IGJhc2VTdG9yZXNbc3RvcmVOYW1lXTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV4dFByb3BzO1xuICB9O1xufVxuLyoqXG4gKiBoaWdoZXIgb3JkZXIgY29tcG9uZW50IHRoYXQgaW5qZWN0cyBzdG9yZXMgdG8gYSBjaGlsZC5cbiAqIHRha2VzIGVpdGhlciBhIHZhcmFyZ3MgbGlzdCBvZiBzdHJpbmdzLCB3aGljaCBhcmUgc3RvcmVzIHJlYWQgZnJvbSB0aGUgY29udGV4dCxcbiAqIG9yIGEgZnVuY3Rpb24gdGhhdCBtYW51YWxseSBtYXBzIHRoZSBhdmFpbGFibGUgc3RvcmVzIGZyb20gdGhlIGNvbnRleHQgdG8gcHJvcHM6XG4gKiBzdG9yZXNUb1Byb3BzKG1vYnhTdG9yZXMsIHByb3BzLCBjb250ZXh0KSA9PiBuZXdQcm9wc1xuICovXG5cblxuZnVuY3Rpb24gaW5qZWN0KClcbi8qIGZuKHN0b3JlcywgbmV4dFByb3BzKSBvciAuLi5zdG9yZU5hbWVzICovXG57XG4gIHZhciBncmFiU3RvcmVzRm4gPSB2b2lkIDA7XG5cbiAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGdyYWJTdG9yZXNGbiA9IGFyZ3VtZW50c1swXTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNvbXBvbmVudENsYXNzKSB7XG4gICAgICB2YXIgaW5qZWN0ZWQgPSBjcmVhdGVTdG9yZUluamVjdG9yKGdyYWJTdG9yZXNGbiwgY29tcG9uZW50Q2xhc3MpO1xuICAgICAgaW5qZWN0ZWQuaXNNb2J4SW5qZWN0b3IgPSBmYWxzZTsgLy8gc3VwcmVzcyB3YXJuaW5nXG4gICAgICAvLyBtYXJrIHRoZSBJbmplY3RvciBhcyBvYnNlcnZlciwgdG8gbWFrZSBpdCByZWFjdCB0byBleHByZXNzaW9ucyBpbiBgZ3JhYlN0b3Jlc0ZuYCxcbiAgICAgIC8vIHNlZSAjMTExXG5cbiAgICAgIGluamVjdGVkID0gb2JzZXJ2ZXIoaW5qZWN0ZWQpO1xuICAgICAgaW5qZWN0ZWQuaXNNb2J4SW5qZWN0b3IgPSB0cnVlOyAvLyByZXN0b3JlIHdhcm5pbmdcblxuICAgICAgcmV0dXJuIGluamVjdGVkO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdmFyIHN0b3JlTmFtZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzdG9yZU5hbWVzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGdyYWJTdG9yZXNGbiA9IGdyYWJTdG9yZXNCeU5hbWUoc3RvcmVOYW1lcyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjb21wb25lbnRDbGFzcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVN0b3JlSW5qZWN0b3IoZ3JhYlN0b3Jlc0ZuLCBjb21wb25lbnRDbGFzcywgc3RvcmVOYW1lcy5qb2luKFwiLVwiKSk7XG4gICAgfTtcbiAgfVxufVxuXG52YXIgbW9ieEFkbWluUHJvcGVydHkgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCIkbW9ieFwiXSB8fCBcIiRtb2J4XCI7XG4vKipcbiAqIGRldiB0b29sIHN1cHBvcnRcbiAqL1xuXG52YXIgaXNEZXZ0b29sc0VuYWJsZWQgPSBmYWxzZTtcbnZhciBpc1VzaW5nU3RhdGljUmVuZGVyaW5nID0gZmFsc2U7XG52YXIgd2FybmVkQWJvdXRPYnNlcnZlckluamVjdERlcHJlY2F0aW9uID0gZmFsc2U7IC8vIFdlYWtNYXA8Tm9kZSwgT2JqZWN0PjtcblxudmFyIGNvbXBvbmVudEJ5Tm9kZVJlZ2lzdHJ5ID0gdHlwZW9mIFdlYWtNYXAgIT09IFwidW5kZWZpbmVkXCIgPyBuZXcgV2Vha01hcCgpIDogdW5kZWZpbmVkO1xudmFyIHJlbmRlclJlcG9ydGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xudmFyIGNyZWF0ZWRTeW1ib2xzID0ge307XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlYWxTeW1ib2wobmFtZSkge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIFN5bWJvbChuYW1lKTtcbiAgfVxuXG4gIHJldHVybiBcIiRtb2J4UmVhY3RQcm9wJFwiICsgbmFtZSArIE1hdGgucmFuZG9tKCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN5bWJvbChuYW1lKSB7XG4gIGlmICghY3JlYXRlZFN5bWJvbHNbbmFtZV0pIHtcbiAgICBjcmVhdGVkU3ltYm9sc1tuYW1lXSA9IGNyZWF0ZVJlYWxTeW1ib2wobmFtZSk7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlZFN5bWJvbHNbbmFtZV07XG59XG5cbnZhciBza2lwUmVuZGVyS2V5ID0gY3JlYXRlU3ltYm9sKFwic2tpcFJlbmRlclwiKTtcbnZhciBpc0ZvcmNpbmdVcGRhdGVLZXkgPSBjcmVhdGVTeW1ib2woXCJpc0ZvcmNpbmdVcGRhdGVcIik7XG4vKipcbiAqIEhlbHBlciB0byBzZXQgYHByb3BgIHRvIGB0aGlzYCBhcyBub24tZW51bWVyYWJsZSAoaGlkZGVuIHByb3ApXG4gKiBAcGFyYW0gdGFyZ2V0XG4gKiBAcGFyYW0gcHJvcFxuICogQHBhcmFtIHZhbHVlXG4gKi9cblxuZnVuY3Rpb24gc2V0SGlkZGVuUHJvcCh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gIGlmICghT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBwcm9wKSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kRE9NTm9kZSQyKGNvbXBvbmVudCkge1xuICBpZiAocmVhY3RfZG9tX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJmaW5kRE9NTm9kZVwiXSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gT2JqZWN0KHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZmluZERPTU5vZGVcIl0pKGNvbXBvbmVudCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gZmluZERPTU5vZGUgd2lsbCB0aHJvdyBpbiByZWFjdC10ZXN0LXJlbmRlcmVyLCBzZWU6XG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21vYnhqcy9tb2J4LXJlYWN0L2lzc3Vlcy8yMTZcbiAgICAgIC8vIElzIHRoZXJlIGEgYmV0dGVyIGhldXJpc3RpYz9cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiByZXBvcnRSZW5kZXJpbmcoY29tcG9uZW50KSB7XG4gIHZhciBub2RlID0gZmluZERPTU5vZGUkMihjb21wb25lbnQpO1xuICBpZiAobm9kZSAmJiBjb21wb25lbnRCeU5vZGVSZWdpc3RyeSkgY29tcG9uZW50QnlOb2RlUmVnaXN0cnkuc2V0KG5vZGUsIGNvbXBvbmVudCk7XG4gIHJlbmRlclJlcG9ydGVyLmVtaXQoe1xuICAgIGV2ZW50OiBcInJlbmRlclwiLFxuICAgIHJlbmRlclRpbWU6IGNvbXBvbmVudC5fXyRtb2JSZW5kZXJFbmQgLSBjb21wb25lbnQuX18kbW9iUmVuZGVyU3RhcnQsXG4gICAgdG90YWxUaW1lOiBEYXRlLm5vdygpIC0gY29tcG9uZW50Ll9fJG1vYlJlbmRlclN0YXJ0LFxuICAgIGNvbXBvbmVudDogY29tcG9uZW50LFxuICAgIG5vZGU6IG5vZGVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyYWNrQ29tcG9uZW50cygpIHtcbiAgaWYgKHR5cGVvZiBXZWFrTWFwID09PSBcInVuZGVmaW5lZFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJbbW9ieC1yZWFjdF0gdHJhY2tpbmcgY29tcG9uZW50cyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIik7XG4gIGlmICghaXNEZXZ0b29sc0VuYWJsZWQpIGlzRGV2dG9vbHNFbmFibGVkID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdXNlU3RhdGljUmVuZGVyaW5nKHVzZVN0YXRpY1JlbmRlcmluZykge1xuICBpc1VzaW5nU3RhdGljUmVuZGVyaW5nID0gdXNlU3RhdGljUmVuZGVyaW5nO1xufVxuLyoqXG4gKiBFcnJvcnMgcmVwb3J0ZXJcbiAqL1xuXG5cbnZhciBlcnJvcnNSZXBvcnRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbi8qKlxuICogVXRpbGl0aWVzXG4gKi9cblxuZnVuY3Rpb24gcGF0Y2godGFyZ2V0LCBmdW5jTmFtZSkge1xuICB2YXIgcnVuTWl4aW5GaXJzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG4gIHZhciBiYXNlID0gdGFyZ2V0W2Z1bmNOYW1lXTtcbiAgdmFyIG1peGluRnVuYyA9IHJlYWN0aXZlTWl4aW5bZnVuY05hbWVdO1xuICB2YXIgZiA9ICFiYXNlID8gbWl4aW5GdW5jIDogcnVuTWl4aW5GaXJzdCA9PT0gdHJ1ZSA/IGZ1bmN0aW9uICgpIHtcbiAgICBtaXhpbkZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBiYXNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0gOiBmdW5jdGlvbiAoKSB7XG4gICAgYmFzZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIG1peGluRnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9OyAvLyBNV0U6IGlkZWFsbHkgd2UgZnJlZXplIGhlcmUgdG8gcHJvdGVjdCBhZ2FpbnN0IGFjY2lkZW50YWwgb3ZlcndyaXRlcyBpbiBjb21wb25lbnQgaW5zdGFuY2VzLCBzZWUgIzE5NVxuICAvLyAuLi5idXQgdGhhdCBicmVha3MgcmVhY3QtaG90LWxvYWRlciwgc2VlICMyMzEuLi5cblxuICB0YXJnZXRbZnVuY05hbWVdID0gZjtcbn1cblxuZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgLy9Gcm9tOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmJqcy9ibG9iL2M2OTkwNGE1MTFiOTAwMjY2OTM1MTY4MjIzMDYzZGQ4NzcyZGZjNDAvcGFja2FnZXMvZmJqcy9zcmMvY29yZS9zaGFsbG93RXF1YWwuanNcbiAgaWYgKGlzKG9iakEsIG9iakIpKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoKHR5cGVvZiBvYmpBID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqQSkpICE9PSBcIm9iamVjdFwiIHx8IG9iakEgPT09IG51bGwgfHwgKHR5cGVvZiBvYmpCID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqQikpICE9PSBcIm9iamVjdFwiIHx8IG9iakIgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqQiwga2V5c0FbaV0pIHx8ICFpcyhvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgLy8gRnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2ZianMvYmxvYi9jNjk5MDRhNTExYjkwMDI2NjkzNTE2ODIyMzA2M2RkODc3MmRmYzQwL3BhY2thZ2VzL2ZianMvc3JjL2NvcmUvc2hhbGxvd0VxdWFsLmpzXG4gIGlmICh4ID09PSB5KSB7XG4gICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFrZUNvbXBvbmVudFJlYWN0aXZlKHJlbmRlcikge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICBpZiAoaXNVc2luZ1N0YXRpY1JlbmRlcmluZyA9PT0gdHJ1ZSkgcmV0dXJuIHJlbmRlci5jYWxsKHRoaXMpO1xuXG4gIGZ1bmN0aW9uIHJlYWN0aXZlUmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpc1JlbmRlcmluZ1BlbmRpbmcgPSBmYWxzZTtcbiAgICB2YXIgZXhjZXB0aW9uID0gdW5kZWZpbmVkO1xuICAgIHZhciByZW5kZXJpbmcgPSB1bmRlZmluZWQ7XG4gICAgcmVhY3Rpb24udHJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzRGV2dG9vbHNFbmFibGVkKSB7XG4gICAgICAgIF90aGlzLl9fJG1vYlJlbmRlclN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmVuZGVyaW5nID0gT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIl9hbGxvd1N0YXRlQ2hhbmdlc1wiXSkoZmFsc2UsIGJhc2VSZW5kZXIpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBleGNlcHRpb24gPSBlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNEZXZ0b29sc0VuYWJsZWQpIHtcbiAgICAgICAgX3RoaXMuX18kbW9iUmVuZGVyRW5kID0gRGF0ZS5ub3coKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChleGNlcHRpb24pIHtcbiAgICAgIGVycm9yc1JlcG9ydGVyLmVtaXQoZXhjZXB0aW9uKTtcbiAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyaW5nO1xuICB9IC8vIEdlbmVyYXRlIGZyaWVuZGx5IG5hbWUgZm9yIGRlYnVnZ2luZ1xuXG5cbiAgdmFyIGluaXRpYWxOYW1lID0gdGhpcy5kaXNwbGF5TmFtZSB8fCB0aGlzLm5hbWUgfHwgdGhpcy5jb25zdHJ1Y3RvciAmJiAodGhpcy5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUpIHx8IFwiPGNvbXBvbmVudD5cIjtcbiAgdmFyIHJvb3ROb2RlSUQgPSB0aGlzLl9yZWFjdEludGVybmFsSW5zdGFuY2UgJiYgdGhpcy5fcmVhY3RJbnRlcm5hbEluc3RhbmNlLl9yb290Tm9kZUlEIHx8IHRoaXMuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSAmJiB0aGlzLl9yZWFjdEludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQgfHwgdGhpcy5fcmVhY3RJbnRlcm5hbEZpYmVyICYmIHRoaXMuX3JlYWN0SW50ZXJuYWxGaWJlci5fZGVidWdJRDtcbiAgLyoqXG4gICAqIElmIHByb3BzIGFyZSBzaGFsbG93bHkgbW9kaWZpZWQsIHJlYWN0IHdpbGwgcmVuZGVyIGFueXdheSxcbiAgICogc28gYXRvbS5yZXBvcnRDaGFuZ2VkKCkgc2hvdWxkIG5vdCByZXN1bHQgaW4geWV0IGFub3RoZXIgcmUtcmVuZGVyXG4gICAqL1xuXG4gIHNldEhpZGRlblByb3AodGhpcywgc2tpcFJlbmRlcktleSwgZmFsc2UpO1xuICAvKipcbiAgICogZm9yY2VVcGRhdGUgd2lsbCByZS1hc3NpZ24gdGhpcy5wcm9wcy4gV2UgZG9uJ3Qgd2FudCB0aGF0IHRvIGNhdXNlIGEgbG9vcCxcbiAgICogc28gZGV0ZWN0IHRoZXNlIGNoYW5nZXNcbiAgICovXG5cbiAgc2V0SGlkZGVuUHJvcCh0aGlzLCBpc0ZvcmNpbmdVcGRhdGVLZXksIGZhbHNlKTsgLy8gd2lyZSB1cCByZWFjdGl2ZSByZW5kZXJcblxuICB2YXIgYmFzZVJlbmRlciA9IHJlbmRlci5iaW5kKHRoaXMpO1xuICB2YXIgaXNSZW5kZXJpbmdQZW5kaW5nID0gZmFsc2U7XG4gIHZhciByZWFjdGlvbiA9IG5ldyBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJSZWFjdGlvblwiXShpbml0aWFsTmFtZSArIFwiI1wiICsgcm9vdE5vZGVJRCArIFwiLnJlbmRlcigpXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWlzUmVuZGVyaW5nUGVuZGluZykge1xuICAgICAgLy8gTi5CLiBHZXR0aW5nIGhlcmUgKmJlZm9yZSBtb3VudGluZyogbWVhbnMgdGhhdCBhIGNvbXBvbmVudCBjb25zdHJ1Y3RvciBoYXMgc2lkZSBlZmZlY3RzIChzZWUgdGhlIHJlbGV2YW50IHRlc3QgaW4gbWlzYy5qcylcbiAgICAgIC8vIFRoaXMgdW5pZGlvbWF0aWMgUmVhY3QgdXNhZ2UgYnV0IFJlYWN0IHdpbGwgY29ycmVjdGx5IHdhcm4gYWJvdXQgdGhpcyBzbyB3ZSBjb250aW51ZSBhcyB1c3VhbFxuICAgICAgLy8gU2VlICM4NSAvIFB1bGwgIzQ0XG4gICAgICBpc1JlbmRlcmluZ1BlbmRpbmcgPSB0cnVlO1xuICAgICAgaWYgKHR5cGVvZiBfdGhpczIuY29tcG9uZW50V2lsbFJlYWN0ID09PSBcImZ1bmN0aW9uXCIpIF90aGlzMi5jb21wb25lbnRXaWxsUmVhY3QoKTsgLy8gVE9ETzogd3JhcCBpbiBhY3Rpb24/XG5cbiAgICAgIGlmIChfdGhpczIuX18kbW9ieElzVW5tb3VudGVkICE9PSB0cnVlKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSB1bm1vdW50ZWQgYXQgdGhpcyBwb2ludCwgY29tcG9uZW50V2lsbFJlYWN0KCkgaGFkIGEgc2lkZSBlZmZlY3QgY2F1c2luZyB0aGUgY29tcG9uZW50IHRvIHVubW91bnRlZFxuICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyBjaGVjaz8gVGhlbiByZWFjdCB3aWxsIHByb3Blcmx5IHdhcm4gYWJvdXQgdGhlIGZhY3QgdGhhdCB0aGlzIHNob3VsZCBub3QgaGFwcGVuPyBTZWUgIzczXG4gICAgICAgIC8vIEhvd2V2ZXIsIHBlb3BsZSBhbHNvIGNsYWltIHRoaXMgbWlndGggaGFwcGVuIGR1cmluZyB1bml0IHRlc3RzLi5cbiAgICAgICAgdmFyIGhhc0Vycm9yID0gdHJ1ZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHNldEhpZGRlblByb3AoX3RoaXMyLCBpc0ZvcmNpbmdVcGRhdGVLZXksIHRydWUpO1xuICAgICAgICAgIGlmICghX3RoaXMyW3NraXBSZW5kZXJLZXldKSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQ29tcG9uZW50XCJdLnByb3RvdHlwZS5mb3JjZVVwZGF0ZS5jYWxsKF90aGlzMik7XG4gICAgICAgICAgaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZXRIaWRkZW5Qcm9wKF90aGlzMiwgaXNGb3JjaW5nVXBkYXRlS2V5LCBmYWxzZSk7XG4gICAgICAgICAgaWYgKGhhc0Vycm9yKSByZWFjdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZWFjdGlvbi5yZWFjdENvbXBvbmVudCA9IHRoaXM7XG4gIHJlYWN0aXZlUmVuZGVyW21vYnhBZG1pblByb3BlcnR5XSA9IHJlYWN0aW9uO1xuICB0aGlzLnJlbmRlciA9IHJlYWN0aXZlUmVuZGVyO1xuICByZXR1cm4gcmVhY3RpdmVSZW5kZXIuY2FsbCh0aGlzKTtcbn1cbi8qKlxuICogUmVhY3RpdmVNaXhpblxuICovXG5cblxudmFyIHJlYWN0aXZlTWl4aW4gPSB7XG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAoaXNVc2luZ1N0YXRpY1JlbmRlcmluZyA9PT0gdHJ1ZSkgcmV0dXJuO1xuICAgIHRoaXMucmVuZGVyW21vYnhBZG1pblByb3BlcnR5XSAmJiB0aGlzLnJlbmRlclttb2J4QWRtaW5Qcm9wZXJ0eV0uZGlzcG9zZSgpO1xuICAgIHRoaXMuX18kbW9ieElzVW5tb3VudGVkID0gdHJ1ZTtcblxuICAgIGlmIChpc0RldnRvb2xzRW5hYmxlZCkge1xuICAgICAgdmFyIG5vZGUgPSBmaW5kRE9NTm9kZSQyKHRoaXMpO1xuXG4gICAgICBpZiAobm9kZSAmJiBjb21wb25lbnRCeU5vZGVSZWdpc3RyeSkge1xuICAgICAgICBjb21wb25lbnRCeU5vZGVSZWdpc3RyeS5kZWxldGUobm9kZSk7XG4gICAgICB9XG5cbiAgICAgIHJlbmRlclJlcG9ydGVyLmVtaXQoe1xuICAgICAgICBldmVudDogXCJkZXN0cm95XCIsXG4gICAgICAgIGNvbXBvbmVudDogdGhpcyxcbiAgICAgICAgbm9kZTogbm9kZVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKGlzRGV2dG9vbHNFbmFibGVkKSB7XG4gICAgICByZXBvcnRSZW5kZXJpbmcodGhpcyk7XG4gICAgfVxuICB9LFxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAoaXNEZXZ0b29sc0VuYWJsZWQpIHtcbiAgICAgIHJlcG9ydFJlbmRlcmluZyh0aGlzKTtcbiAgICB9XG4gIH0sXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgaWYgKGlzVXNpbmdTdGF0aWNSZW5kZXJpbmcpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlttb2J4LXJlYWN0XSBJdCBzZWVtcyB0aGF0IGEgcmUtcmVuZGVyaW5nIG9mIGEgUmVhY3QgY29tcG9uZW50IGlzIHRyaWdnZXJlZCB3aGlsZSBpbiBzdGF0aWMgKHNlcnZlci1zaWRlKSBtb2RlLiBQbGVhc2UgbWFrZSBzdXJlIGNvbXBvbmVudHMgYXJlIHJlbmRlcmVkIG9ubHkgb25jZSBzZXJ2ZXItc2lkZS5cIik7XG4gICAgfSAvLyB1cGRhdGUgb24gYW55IHN0YXRlIGNoYW5nZXMgKGFzIGlzIHRoZSBkZWZhdWx0KVxuXG5cbiAgICBpZiAodGhpcy5zdGF0ZSAhPT0gbmV4dFN0YXRlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIHVwZGF0ZSBpZiBwcm9wcyBhcmUgc2hhbGxvd2x5IG5vdCBlcXVhbCwgaW5zcGlyZWQgYnkgUHVyZVJlbmRlck1peGluXG4gICAgLy8gd2UgY291bGQgcmV0dXJuIGp1c3QgJ2ZhbHNlJyBoZXJlLCBhbmQgYXZvaWQgdGhlIGBza2lwUmVuZGVyYCBjaGVja3MgZXRjXG4gICAgLy8gaG93ZXZlciwgaXQgaXMgbmljZXIgaWYgbGlmZWN5Y2xlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkIGxpa2UgdXN1YWxseSxcbiAgICAvLyBzbyB3ZSByZXR1cm4gdHJ1ZSBoZXJlIGlmIHByb3BzIGFyZSBzaGFsbG93bHkgbW9kaWZpZWQuXG5cblxuICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKHRoaXMucHJvcHMsIG5leHRQcm9wcyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIG1ha2VPYnNlcnZhYmxlUHJvcCh0YXJnZXQsIHByb3BOYW1lKSB7XG4gIHZhciB2YWx1ZUhvbGRlcktleSA9IGNyZWF0ZVN5bWJvbChwcm9wTmFtZSArIFwiIHZhbHVlIGhvbGRlclwiKTtcbiAgdmFyIGF0b21Ib2xkZXJLZXkgPSBjcmVhdGVTeW1ib2wocHJvcE5hbWUgKyBcIiBhdG9tIGhvbGRlclwiKTtcblxuICBmdW5jdGlvbiBnZXRBdG9tKCkge1xuICAgIGlmICghdGhpc1thdG9tSG9sZGVyS2V5XSkge1xuICAgICAgc2V0SGlkZGVuUHJvcCh0aGlzLCBhdG9tSG9sZGVyS2V5LCBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY3JlYXRlQXRvbVwiXSkoXCJyZWFjdGl2ZSBcIiArIHByb3BOYW1lKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNbYXRvbUhvbGRlcktleV07XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wTmFtZSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgZ2V0QXRvbS5jYWxsKHRoaXMpLnJlcG9ydE9ic2VydmVkKCk7XG4gICAgICByZXR1cm4gdGhpc1t2YWx1ZUhvbGRlcktleV07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2KSB7XG4gICAgICBpZiAoIXRoaXNbaXNGb3JjaW5nVXBkYXRlS2V5XSAmJiAhc2hhbGxvd0VxdWFsKHRoaXNbdmFsdWVIb2xkZXJLZXldLCB2KSkge1xuICAgICAgICBzZXRIaWRkZW5Qcm9wKHRoaXMsIHZhbHVlSG9sZGVyS2V5LCB2KTtcbiAgICAgICAgc2V0SGlkZGVuUHJvcCh0aGlzLCBza2lwUmVuZGVyS2V5LCB0cnVlKTtcbiAgICAgICAgZ2V0QXRvbS5jYWxsKHRoaXMpLnJlcG9ydENoYW5nZWQoKTtcbiAgICAgICAgc2V0SGlkZGVuUHJvcCh0aGlzLCBza2lwUmVuZGVyS2V5LCBmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRIaWRkZW5Qcm9wKHRoaXMsIHZhbHVlSG9sZGVyS2V5LCB2KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuLyoqXG4gKiBPYnNlcnZlciBmdW5jdGlvbiAvIGRlY29yYXRvclxuICovXG5cblxuZnVuY3Rpb24gb2JzZXJ2ZXIoYXJnMSwgYXJnMikge1xuICBpZiAodHlwZW9mIGFyZzEgPT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdG9yZSBuYW1lcyBzaG91bGQgYmUgcHJvdmlkZWQgYXMgYXJyYXlcIik7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShhcmcxKSkge1xuICAgIC8vIFRPRE86IHJlbW92ZSBpbiBuZXh0IG1ham9yXG4gICAgLy8gY29tcG9uZW50IG5lZWRzIHN0b3Jlc1xuICAgIGlmICghd2FybmVkQWJvdXRPYnNlcnZlckluamVjdERlcHJlY2F0aW9uKSB7XG4gICAgICB3YXJuZWRBYm91dE9ic2VydmVySW5qZWN0RGVwcmVjYXRpb24gPSB0cnVlO1xuICAgICAgY29uc29sZS53YXJuKCdNb2J4IG9ic2VydmVyOiBVc2luZyBvYnNlcnZlciB0byBpbmplY3Qgc3RvcmVzIGlzIGRlcHJlY2F0ZWQgc2luY2UgNC4wLiBVc2UgYEBpbmplY3QoXCJzdG9yZTFcIiwgXCJzdG9yZTJcIikgQG9ic2VydmVyIENvbXBvbmVudENsYXNzYCBvciBgaW5qZWN0KFwic3RvcmUxXCIsIFwic3RvcmUyXCIpKG9ic2VydmVyKGNvbXBvbmVudENsYXNzKSlgIGluc3RlYWQgb2YgYEBvYnNlcnZlcihbXCJzdG9yZTFcIiwgXCJzdG9yZTJcIl0pIENvbXBvbmVudENsYXNzYCcpO1xuICAgIH1cblxuICAgIGlmICghYXJnMikge1xuICAgICAgLy8gaW52b2tlZCBhcyBkZWNvcmF0b3JcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoY29tcG9uZW50Q2xhc3MpIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyKGFyZzEsIGNvbXBvbmVudENsYXNzKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbmplY3QuYXBwbHkobnVsbCwgYXJnMSkob2JzZXJ2ZXIoYXJnMikpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjb21wb25lbnRDbGFzcyA9IGFyZzE7XG5cbiAgaWYgKGNvbXBvbmVudENsYXNzLmlzTW9ieEluamVjdG9yID09PSB0cnVlKSB7XG4gICAgY29uc29sZS53YXJuKFwiTW9ieCBvYnNlcnZlcjogWW91IGFyZSB0cnlpbmcgdG8gdXNlICdvYnNlcnZlcicgb24gYSBjb21wb25lbnQgdGhhdCBhbHJlYWR5IGhhcyAnaW5qZWN0Jy4gUGxlYXNlIGFwcGx5ICdvYnNlcnZlcicgYmVmb3JlIGFwcGx5aW5nICdpbmplY3QnXCIpO1xuICB9XG5cbiAgaWYgKGNvbXBvbmVudENsYXNzLl9fcHJvdG9fXyA9PT0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlB1cmVDb21wb25lbnRcIl0pIHtcbiAgICBjb25zb2xlLndhcm4oXCJNb2J4IG9ic2VydmVyOiBZb3UgYXJlIHVzaW5nICdvYnNlcnZlcicgb24gUmVhY3QuUHVyZUNvbXBvbmVudC4gVGhlc2UgdHdvIGFjaGlldmUgdHdvIG9wcG9zaXRlIGdvYWxzIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgdG9nZXRoZXJcIik7XG4gIH0gLy8gU3RhdGVsZXNzIGZ1bmN0aW9uIGNvbXBvbmVudDpcbiAgLy8gSWYgaXQgaXMgZnVuY3Rpb24gYnV0IGRvZXNuJ3Qgc2VlbSB0byBiZSBhIHJlYWN0IGNsYXNzIGNvbnN0cnVjdG9yLFxuICAvLyB3cmFwIGl0IHRvIGEgcmVhY3QgY2xhc3MgYXV0b21hdGljYWxseVxuXG5cbiAgaWYgKHR5cGVvZiBjb21wb25lbnRDbGFzcyA9PT0gXCJmdW5jdGlvblwiICYmICghY29tcG9uZW50Q2xhc3MucHJvdG90eXBlIHx8ICFjb21wb25lbnRDbGFzcy5wcm90b3R5cGUucmVuZGVyKSAmJiAhY29tcG9uZW50Q2xhc3MuaXNSZWFjdENsYXNzICYmICFyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQ29tcG9uZW50XCJdLmlzUHJvdG90eXBlT2YoY29tcG9uZW50Q2xhc3MpKSB7XG4gICAgdmFyIF9jbGFzcywgX3RlbXA7XG5cbiAgICB2YXIgb2JzZXJ2ZXJDb21wb25lbnQgPSBvYnNlcnZlcigoX3RlbXAgPSBfY2xhc3MgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgaW5oZXJpdHMoX2NsYXNzLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gX2NsYXNzKCkge1xuICAgICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBfY2xhc3MpO1xuICAgICAgICByZXR1cm4gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2NsYXNzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoX2NsYXNzKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICB9XG5cbiAgICAgIGNyZWF0ZUNsYXNzKF9jbGFzcywgW3tcbiAgICAgICAga2V5OiBcInJlbmRlclwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgIHJldHVybiBjb21wb25lbnRDbGFzcy5jYWxsKHRoaXMsIHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICAgIHJldHVybiBfY2xhc3M7XG4gICAgfShyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQ29tcG9uZW50XCJdKSwgX2NsYXNzLmRpc3BsYXlOYW1lID0gY29tcG9uZW50Q2xhc3MuZGlzcGxheU5hbWUgfHwgY29tcG9uZW50Q2xhc3MubmFtZSwgX2NsYXNzLmNvbnRleHRUeXBlcyA9IGNvbXBvbmVudENsYXNzLmNvbnRleHRUeXBlcywgX2NsYXNzLnByb3BUeXBlcyA9IGNvbXBvbmVudENsYXNzLnByb3BUeXBlcywgX2NsYXNzLmRlZmF1bHRQcm9wcyA9IGNvbXBvbmVudENsYXNzLmRlZmF1bHRQcm9wcywgX3RlbXApKTtcbiAgICBob2lzdE5vblJlYWN0U3RhdGljc19janMob2JzZXJ2ZXJDb21wb25lbnQsIGNvbXBvbmVudENsYXNzKTtcbiAgICByZXR1cm4gb2JzZXJ2ZXJDb21wb25lbnQ7XG4gIH1cblxuICBpZiAoIWNvbXBvbmVudENsYXNzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHBhc3MgYSB2YWxpZCBjb21wb25lbnQgdG8gJ29ic2VydmVyJ1wiKTtcbiAgfVxuXG4gIHZhciB0YXJnZXQgPSBjb21wb25lbnRDbGFzcy5wcm90b3R5cGUgfHwgY29tcG9uZW50Q2xhc3M7XG4gIG1peGluTGlmZWN5Y2xlRXZlbnRzKHRhcmdldCk7XG4gIGNvbXBvbmVudENsYXNzLmlzTW9iWFJlYWN0T2JzZXJ2ZXIgPSB0cnVlO1xuICBtYWtlT2JzZXJ2YWJsZVByb3AodGFyZ2V0LCBcInByb3BzXCIpO1xuICBtYWtlT2JzZXJ2YWJsZVByb3AodGFyZ2V0LCBcInN0YXRlXCIpO1xuICB2YXIgYmFzZVJlbmRlciA9IHRhcmdldC5yZW5kZXI7XG5cbiAgdGFyZ2V0LnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbWFrZUNvbXBvbmVudFJlYWN0aXZlLmNhbGwodGhpcywgYmFzZVJlbmRlcik7XG4gIH07XG5cbiAgcmV0dXJuIGNvbXBvbmVudENsYXNzO1xufVxuXG5mdW5jdGlvbiBtaXhpbkxpZmVjeWNsZUV2ZW50cyh0YXJnZXQpIHtcbiAgW1wiY29tcG9uZW50RGlkTW91bnRcIiwgXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLCBcImNvbXBvbmVudERpZFVwZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChmdW5jTmFtZSkge1xuICAgIHBhdGNoKHRhcmdldCwgZnVuY05hbWUpO1xuICB9KTtcblxuICBpZiAoIXRhcmdldC5zaG91bGRDb21wb25lbnRVcGRhdGUpIHtcbiAgICB0YXJnZXQuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gcmVhY3RpdmVNaXhpbi5zaG91bGRDb21wb25lbnRVcGRhdGU7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRhcmdldC5zaG91bGRDb21wb25lbnRVcGRhdGUgIT09IHJlYWN0aXZlTWl4aW4uc2hvdWxkQ29tcG9uZW50VXBkYXRlKSB7XG4gICAgICAvLyBUT0RPOiBtYWtlIHRocm93IGluIG5leHQgbWFqb3JcbiAgICAgIGNvbnNvbGUud2FybihcIlVzZSBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCBpbiBhbiBgb2JzZXJ2ZXJgIGJhc2VkIGNvbXBvbmVudCBicmVha3MgdGhlIGJlaGF2aW9yIG9mIGBvYnNlcnZlcmAgYW5kIG1pZ2h0IGxlYWQgdG8gdW5leHBlY3RlZCByZXN1bHRzLiBNYW51YWxseSBpbXBsZW1lbnRpbmcgYHNDVWAgc2hvdWxkIG5vdCBiZSBuZWVkZWQgd2hlbiB1c2luZyBtb2J4LXJlYWN0LlwiKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIE9ic2VydmVyID0gb2JzZXJ2ZXIoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIG9ic2VydmVySW5qZWN0ID0gX3JlZi5pbmplY3QsXG4gICAgICByZW5kZXIgPSBfcmVmLnJlbmRlcjtcbiAgdmFyIGNvbXBvbmVudCA9IGNoaWxkcmVuIHx8IHJlbmRlcjtcblxuICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKCFvYnNlcnZlckluamVjdCkge1xuICAgIHJldHVybiBjb21wb25lbnQoKTtcbiAgfSAvLyBUT0RPOiByZW1vdmUgaW4gbmV4dCBtYWpvclxuXG5cbiAgY29uc29sZS53YXJuKFwiPE9ic2VydmVyIGluamVjdD0uLi4vPiBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIGluamVjdCBvbiB0aGUgZW5jbG9zaW5nIGNvbXBvbmVudCBpbnN0ZWFkXCIpO1xuICB2YXIgSW5qZWN0Q29tcG9uZW50ID0gaW5qZWN0KG9ic2VydmVySW5qZWN0KShjb21wb25lbnQpO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChJbmplY3RDb21wb25lbnQsIG51bGwpO1xufSk7XG5PYnNlcnZlci5kaXNwbGF5TmFtZSA9IFwiT2JzZXJ2ZXJcIjtcblxudmFyIE9ic2VydmVyUHJvcHNDaGVjayA9IGZ1bmN0aW9uIE9ic2VydmVyUHJvcHNDaGVjayhwcm9wcywga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gIHZhciBleHRyYUtleSA9IGtleSA9PT0gXCJjaGlsZHJlblwiID8gXCJyZW5kZXJcIiA6IFwiY2hpbGRyZW5cIjtcblxuICBpZiAodHlwZW9mIHByb3BzW2tleV0gPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgcHJvcHNbZXh0cmFLZXldID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKFwiSW52YWxpZCBwcm9wLGRvIG5vdCB1c2UgY2hpbGRyZW4gYW5kIHJlbmRlciBpbiB0aGUgc2FtZSB0aW1lIGluYFwiICsgY29tcG9uZW50TmFtZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHByb3BzW2tleV0gPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgcHJvcHNbZXh0cmFLZXldID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gbmV3IEVycm9yKFwiSW52YWxpZCBwcm9wIGBcIiArIHByb3BGdWxsTmFtZSArIFwiYCBvZiB0eXBlIGBcIiArIF90eXBlb2YocHJvcHNba2V5XSkgKyBcImAgc3VwcGxpZWQgdG9cIiArIFwiIGBcIiArIGNvbXBvbmVudE5hbWUgKyBcImAsIGV4cGVjdGVkIGBmdW5jdGlvbmAuXCIpO1xufTtcblxuT2JzZXJ2ZXIucHJvcFR5cGVzID0ge1xuICByZW5kZXI6IE9ic2VydmVyUHJvcHNDaGVjayxcbiAgY2hpbGRyZW46IE9ic2VydmVyUHJvcHNDaGVja1xufTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAvLyBDYWxsIHRoaXMuY29uc3RydWN0b3IuZ0RTRlAgdG8gc3VwcG9ydCBzdWItY2xhc3Nlcy5cbiAgdmFyIHN0YXRlID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHModGhpcy5wcm9wcywgdGhpcy5zdGF0ZSk7XG5cbiAgaWYgKHN0YXRlICE9PSBudWxsICYmIHN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAvLyBDYWxsIHRoaXMuY29uc3RydWN0b3IuZ0RTRlAgdG8gc3VwcG9ydCBzdWItY2xhc3Nlcy5cbiAgLy8gVXNlIHRoZSBzZXRTdGF0ZSgpIHVwZGF0ZXIgdG8gZW5zdXJlIHN0YXRlIGlzbid0IHN0YWxlIGluIGNlcnRhaW4gZWRnZSBjYXNlcy5cbiAgZnVuY3Rpb24gdXBkYXRlcihwcmV2U3RhdGUpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgcmV0dXJuIHN0YXRlICE9PSBudWxsICYmIHN0YXRlICE9PSB1bmRlZmluZWQgPyBzdGF0ZSA6IG51bGw7XG4gIH0gLy8gQmluZGluZyBcInRoaXNcIiBpcyBpbXBvcnRhbnQgZm9yIHNoYWxsb3cgcmVuZGVyZXIgc3VwcG9ydC5cblxuXG4gIHRoaXMuc2V0U3RhdGUodXBkYXRlci5iaW5kKHRoaXMpKTtcbn1cblxuZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICB0cnkge1xuICAgIHZhciBwcmV2UHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBwcmV2U3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XG4gICAgdGhpcy5zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICB0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90RmxhZyA9IHRydWU7XG4gICAgdGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdCA9IHRoaXMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpO1xuICB9IGZpbmFsbHkge1xuICAgIHRoaXMucHJvcHMgPSBwcmV2UHJvcHM7XG4gICAgdGhpcy5zdGF0ZSA9IHByZXZTdGF0ZTtcbiAgfVxufSAvLyBSZWFjdCBtYXkgd2FybiBhYm91dCBjV00vY1dSUC9jV1UgbWV0aG9kcyBiZWluZyBkZXByZWNhdGVkLlxuLy8gQWRkIGEgZmxhZyB0byBzdXBwcmVzcyB0aGVzZSB3YXJuaW5ncyBmb3IgdGhpcyBzcGVjaWFsIGNhc2UuXG5cblxuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nID0gdHJ1ZTtcbmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG5cbmZ1bmN0aW9uIHBvbHlmaWxsKENvbXBvbmVudCQkMSkge1xuICB2YXIgcHJvdG90eXBlID0gQ29tcG9uZW50JCQxLnByb3RvdHlwZTtcblxuICBpZiAoIXByb3RvdHlwZSB8fCAhcHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IHBvbHlmaWxsIGNsYXNzIGNvbXBvbmVudHMnKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgQ29tcG9uZW50JCQxLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcHJvdG90eXBlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIENvbXBvbmVudCQkMTtcbiAgfSAvLyBJZiBuZXcgY29tcG9uZW50IEFQSXMgYXJlIGRlZmluZWQsIFwidW5zYWZlXCIgbGlmZWN5Y2xlcyB3b24ndCBiZSBjYWxsZWQuXG4gIC8vIEVycm9yIGlmIGFueSBvZiB0aGVzZSBsaWZlY3ljbGVzIGFyZSBwcmVzZW50LFxuICAvLyBCZWNhdXNlIHRoZXkgd291bGQgd29yayBkaWZmZXJlbnRseSBiZXR3ZWVuIG9sZGVyIGFuZCBuZXdlciAoMTYuMyspIHZlcnNpb25zIG9mIFJlYWN0LlxuXG5cbiAgdmFyIGZvdW5kV2lsbE1vdW50TmFtZSA9IG51bGw7XG4gIHZhciBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gbnVsbDtcbiAgdmFyIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSBudWxsO1xuXG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZvdW5kV2lsbE1vdW50TmFtZSA9ICdjb21wb25lbnRXaWxsTW91bnQnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZvdW5kV2lsbE1vdW50TmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JztcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gJ2NvbXBvbmVudFdpbGxVcGRhdGUnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlJztcbiAgfVxuXG4gIGlmIChmb3VuZFdpbGxNb3VudE5hbWUgIT09IG51bGwgfHwgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSAhPT0gbnVsbCB8fCBmb3VuZFdpbGxVcGRhdGVOYW1lICE9PSBudWxsKSB7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBDb21wb25lbnQkJDEuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50JCQxLm5hbWU7XG4gICAgdmFyIG5ld0FwaU5hbWUgPSB0eXBlb2YgQ29tcG9uZW50JCQxLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJyA/ICdnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKScgOiAnZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSc7XG4gICAgdGhyb3cgRXJyb3IoJ1Vuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcbicgKyBjb21wb25lbnROYW1lICsgJyB1c2VzICcgKyBuZXdBcGlOYW1lICsgJyBidXQgYWxzbyBjb250YWlucyB0aGUgZm9sbG93aW5nIGxlZ2FjeSBsaWZlY3ljbGVzOicgKyAoZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsID8gJ1xcbiAgJyArIGZvdW5kV2lsbE1vdW50TmFtZSA6ICcnKSArIChmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lICE9PSBudWxsID8gJ1xcbiAgJyArIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgOiAnJykgKyAoZm91bmRXaWxsVXBkYXRlTmFtZSAhPT0gbnVsbCA/ICdcXG4gICcgKyBmb3VuZFdpbGxVcGRhdGVOYW1lIDogJycpICsgJ1xcblxcblRoZSBhYm92ZSBsaWZlY3ljbGVzIHNob3VsZCBiZSByZW1vdmVkLiBMZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOlxcbicgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1hc3luYy1jb21wb25lbnQtbGlmZWN5Y2xlLWhvb2tzJyk7XG4gIH0gLy8gUmVhY3QgPD0gMTYuMiBkb2VzIG5vdCBzdXBwb3J0IHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXG4gIC8vIEFzIGEgd29ya2Fyb3VuZCwgdXNlIGNXTSBhbmQgY1dSUCB0byBpbnZva2UgdGhlIG5ldyBzdGF0aWMgbGlmZWN5Y2xlLlxuICAvLyBOZXdlciB2ZXJzaW9ucyBvZiBSZWFjdCB3aWxsIGlnbm9yZSB0aGVzZSBsaWZlY3ljbGVzIGlmIGdEU0ZQIGV4aXN0cy5cblxuXG4gIGlmICh0eXBlb2YgQ29tcG9uZW50JCQxLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBjb21wb25lbnRXaWxsTW91bnQ7XG4gICAgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzO1xuICB9IC8vIFJlYWN0IDw9IDE2LjIgZG9lcyBub3Qgc3VwcG9ydCBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZS5cbiAgLy8gQXMgYSB3b3JrYXJvdW5kLCB1c2UgY1dVIHRvIGludm9rZSB0aGUgbmV3IGxpZmVjeWNsZS5cbiAgLy8gTmV3ZXIgdmVyc2lvbnMgb2YgUmVhY3Qgd2lsbCBpZ25vcmUgdGhhdCBsaWZlY3ljbGUgaWYgZ1NCVSBleGlzdHMuXG5cblxuICBpZiAodHlwZW9mIHByb3RvdHlwZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcG9seWZpbGwgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBmb3IgY29tcG9uZW50cyB0aGF0IGRvIG5vdCBkZWZpbmUgY29tcG9uZW50RGlkVXBkYXRlKCkgb24gdGhlIHByb3RvdHlwZScpO1xuICAgIH1cblxuICAgIHByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gY29tcG9uZW50V2lsbFVwZGF0ZTtcbiAgICB2YXIgY29tcG9uZW50RGlkVXBkYXRlID0gcHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZTtcblxuICAgIHByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGVQb2x5ZmlsbChwcmV2UHJvcHMsIHByZXZTdGF0ZSwgbWF5YmVTbmFwc2hvdCkge1xuICAgICAgLy8gMTYuMysgd2lsbCBub3QgZXhlY3V0ZSBvdXIgd2lsbC11cGRhdGUgbWV0aG9kO1xuICAgICAgLy8gSXQgd2lsbCBwYXNzIGEgc25hcHNob3QgdmFsdWUgdG8gZGlkLXVwZGF0ZSB0aG91Z2guXG4gICAgICAvLyBPbGRlciB2ZXJzaW9ucyB3aWxsIHJlcXVpcmUgb3VyIHBvbHlmaWxsZWQgd2lsbC11cGRhdGUgdmFsdWUuXG4gICAgICAvLyBXZSBuZWVkIHRvIGhhbmRsZSBib3RoIGNhc2VzLCBidXQgY2FuJ3QganVzdCBjaGVjayBmb3IgdGhlIHByZXNlbmNlIG9mIFwibWF5YmVTbmFwc2hvdFwiLFxuICAgICAgLy8gQmVjYXVzZSBmb3IgPD0gMTUueCB2ZXJzaW9ucyB0aGlzIG1pZ2h0IGJlIGEgXCJwcmV2Q29udGV4dFwiIG9iamVjdC5cbiAgICAgIC8vIFdlIGFsc28gY2FuJ3QganVzdCBjaGVjayBcIl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90XCIsXG4gICAgICAvLyBCZWNhdXNlIGdldC1zbmFwc2hvdCBtaWdodCByZXR1cm4gYSBmYWxzeSB2YWx1ZS5cbiAgICAgIC8vIFNvIGNoZWNrIGZvciB0aGUgZXhwbGljaXQgX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnIGZsYWcgdG8gZGV0ZXJtaW5lIGJlaGF2aW9yLlxuICAgICAgdmFyIHNuYXBzaG90ID0gdGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWcgPyB0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90IDogbWF5YmVTbmFwc2hvdDtcbiAgICAgIGNvbXBvbmVudERpZFVwZGF0ZS5jYWxsKHRoaXMsIHByZXZQcm9wcywgcHJldlN0YXRlLCBzbmFwc2hvdCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBDb21wb25lbnQkJDE7XG59XG5cbnZhciBfY2xhc3M7XG5cbnZhciBfdGVtcDtcblxudmFyIHNwZWNpYWxSZWFjdEtleXMgPSB7XG4gIGNoaWxkcmVuOiB0cnVlLFxuICBrZXk6IHRydWUsXG4gIHJlZjogdHJ1ZVxufTtcbnZhciBQcm92aWRlciA9IChfdGVtcCA9IF9jbGFzcyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIGluaGVyaXRzKFByb3ZpZGVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQcm92aWRlcihwcm9wcywgY29udGV4dCkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3ZpZGVyKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFByb3ZpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJvdmlkZXIpKS5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHt9O1xuICAgIGNvcHlTdG9yZXMocHJvcHMsIF90aGlzLnN0YXRlKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhQcm92aWRlciwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQ2hpbGRyZW5cIl0ub25seSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2hpbGRDb250ZXh0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICAgIHZhciBzdG9yZXMgPSB7fTsgLy8gaW5oZXJpdCBzdG9yZXNcblxuICAgICAgY29weVN0b3Jlcyh0aGlzLmNvbnRleHQubW9ieFN0b3Jlcywgc3RvcmVzKTsgLy8gYWRkIG93biBzdG9yZXNcblxuICAgICAgY29weVN0b3Jlcyh0aGlzLnByb3BzLCBzdG9yZXMpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbW9ieFN0b3Jlczogc3RvcmVzXG4gICAgICB9O1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIGlmICghbmV4dFByb3BzKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmICghcHJldlN0YXRlKSByZXR1cm4gbmV4dFByb3BzOyAvLyBNYXliZSB0aGlzIHdhcm5pbmcgaXMgdG9vIGFnZ3Jlc3NpdmU/XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhuZXh0UHJvcHMpLmZpbHRlcih2YWxpZFN0b3JlTmFtZSkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhwcmV2U3RhdGUpLmZpbHRlcih2YWxpZFN0b3JlTmFtZSkubGVuZ3RoKSBjb25zb2xlLndhcm4oXCJNb2JYIFByb3ZpZGVyOiBUaGUgc2V0IG9mIHByb3ZpZGVkIHN0b3JlcyBoYXMgY2hhbmdlZC4gUGxlYXNlIGF2b2lkIGNoYW5naW5nIHN0b3JlcyBhcyB0aGUgY2hhbmdlIG1pZ2h0IG5vdCBwcm9wYWdhdGUgdG8gYWxsIGNoaWxkcmVuXCIpO1xuICAgICAgaWYgKCFuZXh0UHJvcHMuc3VwcHJlc3NDaGFuZ2VkU3RvcmVXYXJuaW5nKSBmb3IgKHZhciBrZXkgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgIGlmICh2YWxpZFN0b3JlTmFtZShrZXkpICYmIHByZXZTdGF0ZVtrZXldICE9PSBuZXh0UHJvcHNba2V5XSkgY29uc29sZS53YXJuKFwiTW9iWCBQcm92aWRlcjogUHJvdmlkZWQgc3RvcmUgJ1wiICsga2V5ICsgXCInIGhhcyBjaGFuZ2VkLiBQbGVhc2UgYXZvaWQgcmVwbGFjaW5nIHN0b3JlcyBhcyB0aGUgY2hhbmdlIG1pZ2h0IG5vdCBwcm9wYWdhdGUgdG8gYWxsIGNoaWxkcmVuXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHRQcm9wcztcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFByb3ZpZGVyO1xufShyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQ29tcG9uZW50XCJdKSwgX2NsYXNzLmNvbnRleHRUeXBlcyA9IHtcbiAgbW9ieFN0b3Jlczogb2JqZWN0T3JPYnNlcnZhYmxlT2JqZWN0XG59LCBfY2xhc3MuY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gIG1vYnhTdG9yZXM6IG9iamVjdE9yT2JzZXJ2YWJsZU9iamVjdC5pc1JlcXVpcmVkXG59LCBfdGVtcCk7XG5cbmZ1bmN0aW9uIGNvcHlTdG9yZXMoZnJvbSwgdG8pIHtcbiAgaWYgKCFmcm9tKSByZXR1cm47XG5cbiAgZm9yICh2YXIga2V5IGluIGZyb20pIHtcbiAgICBpZiAodmFsaWRTdG9yZU5hbWUoa2V5KSkgdG9ba2V5XSA9IGZyb21ba2V5XTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZFN0b3JlTmFtZShrZXkpIHtcbiAgcmV0dXJuICFzcGVjaWFsUmVhY3RLZXlzW2tleV0gJiYga2V5ICE9PSBcInN1cHByZXNzQ2hhbmdlZFN0b3JlV2FybmluZ1wiO1xufSAvLyBUT0RPOiBraWxsIGluIG5leHQgbWFqb3JcblxuXG5wb2x5ZmlsbChQcm92aWRlcik7XG5pZiAoIXJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJDb21wb25lbnRcIl0pIHRocm93IG5ldyBFcnJvcihcIm1vYngtcmVhY3QgcmVxdWlyZXMgUmVhY3QgdG8gYmUgYXZhaWxhYmxlXCIpO1xuaWYgKCFtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJzcHlcIl0pIHRocm93IG5ldyBFcnJvcihcIm1vYngtcmVhY3QgcmVxdWlyZXMgbW9ieCB0byBiZSBhdmFpbGFibGVcIik7XG5pZiAodHlwZW9mIHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1widW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXNcIl0gPT09IFwiZnVuY3Rpb25cIikgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbmZpZ3VyZVwiXSkoe1xuICByZWFjdGlvblNjaGVkdWxlcjogcmVhY3RfZG9tX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJ1bnN0YWJsZV9iYXRjaGVkVXBkYXRlc1wiXVxufSk7ZWxzZSBpZiAodHlwZW9mIHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzJDEgPT09IFwiZnVuY3Rpb25cIikgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbmZpZ3VyZVwiXSkoe1xuICByZWFjdGlvblNjaGVkdWxlcjogdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMkMVxufSk7XG5cbnZhciBvbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihmbikge1xuICByZXR1cm4gZXJyb3JzUmVwb3J0ZXIub24oZm4pO1xufTtcbi8qIERldlRvb2wgc3VwcG9ydCAqL1xuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYW5keWtvZy9tb2J4LWRldnRvb2xzL2Jsb2IvZDg5NzZjMjRiOGNiNzI3ZWQ1OWY5YTBiYzkwNWEwMDlkZjc5ZTIyMS9zcmMvYmFja2VuZC9pbnN0YWxsR2xvYmFsSG9vay5qc1xuXG5cbmlmICgodHlwZW9mIF9fTU9CWF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoX19NT0JYX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pKSA9PT0gXCJvYmplY3RcIikge1xuICB2YXIgbW9ieCQxID0ge1xuICAgIHNweTogbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wic3B5XCJdLFxuICAgIGV4dHJhczoge1xuICAgICAgZ2V0RGVidWdOYW1lOiBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXREZWJ1Z05hbWVcIl1cbiAgICB9XG4gIH07XG4gIHZhciBtb2J4UmVhY3QgPSB7XG4gICAgcmVuZGVyUmVwb3J0ZXI6IHJlbmRlclJlcG9ydGVyLFxuICAgIGNvbXBvbmVudEJ5Tm9kZVJlZ2lzdHJ5OiBjb21wb25lbnRCeU5vZGVSZWdpc3RyeSxcbiAgICBjb21wb25lbnRCeU5vZGVSZWdpc3Rlcnk6IGNvbXBvbmVudEJ5Tm9kZVJlZ2lzdHJ5LFxuICAgIHRyYWNrQ29tcG9uZW50czogdHJhY2tDb21wb25lbnRzXG4gIH07XG5cbiAgX19NT0JYX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uaW5qZWN0TW9ieFJlYWN0KG1vYnhSZWFjdCwgbW9ieCQxKTtcbn1cblxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL21vYngvbGliL21vYngubW9kdWxlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL21vYngvbGliL21vYngubW9kdWxlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6ICRtb2J4LCBGbG93Q2FuY2VsbGF0aW9uRXJyb3IsIElEZXJpdmF0aW9uU3RhdGUsIE9ic2VydmFibGVNYXAsIE9ic2VydmFibGVTZXQsIFJlYWN0aW9uLCBfYWxsb3dTdGF0ZUNoYW5nZXMsIF9hbGxvd1N0YXRlQ2hhbmdlc0luc2lkZUNvbXB1dGVkLCBfYWxsb3dTdGF0ZVJlYWRzRW5kLCBfYWxsb3dTdGF0ZVJlYWRzU3RhcnQsIF9lbmRBY3Rpb24sIF9nZXRBZG1pbmlzdHJhdGlvbiwgX2dldEdsb2JhbFN0YXRlLCBfaW50ZXJjZXB0UmVhZHMsIF9pc0NvbXB1dGluZ0Rlcml2YXRpb24sIF9yZXNldEdsb2JhbFN0YXRlLCBfc3RhcnRBY3Rpb24sIGFjdGlvbiwgYXV0b3J1biwgY29tcGFyZXIsIGNvbXB1dGVkLCBjb25maWd1cmUsIGNyZWF0ZUF0b20sIGRlY29yYXRlLCBlbnRyaWVzLCBleHRlbmRPYnNlcnZhYmxlLCBmbG93LCBnZXQsIGdldEF0b20sIGdldERlYnVnTmFtZSwgZ2V0RGVwZW5kZW5jeVRyZWUsIGdldE9ic2VydmVyVHJlZSwgaGFzLCBpbnRlcmNlcHQsIGlzQWN0aW9uLCBpc0FycmF5TGlrZSwgaXNCb3hlZE9ic2VydmFibGUsIGlzQ29tcHV0ZWQsIGlzQ29tcHV0ZWRQcm9wLCBpc0Zsb3dDYW5jZWxsYXRpb25FcnJvciwgaXNPYnNlcnZhYmxlLCBpc09ic2VydmFibGVBcnJheSwgaXNPYnNlcnZhYmxlTWFwLCBpc09ic2VydmFibGVPYmplY3QsIGlzT2JzZXJ2YWJsZVByb3AsIGlzT2JzZXJ2YWJsZVNldCwga2V5cywgb2JzZXJ2YWJsZSwgb2JzZXJ2ZSwgb25CZWNvbWVPYnNlcnZlZCwgb25CZWNvbWVVbm9ic2VydmVkLCBvblJlYWN0aW9uRXJyb3IsIHJlYWN0aW9uLCByZW1vdmUsIHJ1bkluQWN0aW9uLCBzZXQsIHNweSwgdG9KUywgdHJhY2UsIHRyYW5zYWN0aW9uLCB1bnRyYWNrZWQsIHZhbHVlcywgd2hlbiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzLCBnbG9iYWwpIHsvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiJG1vYnhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiAkbW9ieDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRmxvd0NhbmNlbGxhdGlvbkVycm9yXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRmxvd0NhbmNlbGxhdGlvbkVycm9yOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJRGVyaXZhdGlvblN0YXRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSURlcml2YXRpb25TdGF0ZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiT2JzZXJ2YWJsZU1hcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE9ic2VydmFibGVNYXA7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk9ic2VydmFibGVTZXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBPYnNlcnZhYmxlU2V0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJSZWFjdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFJlYWN0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfYWxsb3dTdGF0ZUNoYW5nZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBhbGxvd1N0YXRlQ2hhbmdlczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX2FsbG93U3RhdGVDaGFuZ2VzSW5zaWRlQ29tcHV0ZWRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBhbGxvd1N0YXRlQ2hhbmdlc0luc2lkZUNvbXB1dGVkOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfYWxsb3dTdGF0ZVJlYWRzRW5kXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gYWxsb3dTdGF0ZVJlYWRzRW5kOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfYWxsb3dTdGF0ZVJlYWRzU3RhcnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBhbGxvd1N0YXRlUmVhZHNTdGFydDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX2VuZEFjdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9lbmRBY3Rpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9nZXRBZG1pbmlzdHJhdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldEFkbWluaXN0cmF0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfZ2V0R2xvYmFsU3RhdGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRHbG9iYWxTdGF0ZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX2ludGVyY2VwdFJlYWRzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaW50ZXJjZXB0UmVhZHM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9pc0NvbXB1dGluZ0Rlcml2YXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBpc0NvbXB1dGluZ0Rlcml2YXRpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9yZXNldEdsb2JhbFN0YXRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcmVzZXRHbG9iYWxTdGF0ZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX3N0YXJ0QWN0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3N0YXJ0QWN0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhY3Rpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBhY3Rpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImF1dG9ydW5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBhdXRvcnVuOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjb21wYXJlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbXBhcmVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjb21wdXRlZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbXB1dGVkOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjb25maWd1cmVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjb25maWd1cmU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNyZWF0ZUF0b21cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVBdG9tOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWNvcmF0ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGRlY29yYXRlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJlbnRyaWVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZW50cmllczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZXh0ZW5kT2JzZXJ2YWJsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGV4dGVuZE9ic2VydmFibGU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZsb3dcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBmbG93OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldEF0b21cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRBdG9tOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXREZWJ1Z05hbWVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXREZWJ1Z05hbWU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldERlcGVuZGVuY3lUcmVlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0RGVwZW5kZW5jeVRyZWU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldE9ic2VydmVyVHJlZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldE9ic2VydmVyVHJlZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaGFzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaGFzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbnRlcmNlcHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBpbnRlcmNlcHQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzQWN0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNBY3Rpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzQXJyYXlMaWtlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNBcnJheUxpa2U7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzQm94ZWRPYnNlcnZhYmxlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNPYnNlcnZhYmxlVmFsdWU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzQ29tcHV0ZWRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBpc0NvbXB1dGVkOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0NvbXB1dGVkUHJvcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGlzQ29tcHV0ZWRQcm9wOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0Zsb3dDYW5jZWxsYXRpb25FcnJvclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGlzRmxvd0NhbmNlbGxhdGlvbkVycm9yOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc09ic2VydmFibGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBpc09ic2VydmFibGU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzT2JzZXJ2YWJsZUFycmF5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNPYnNlcnZhYmxlQXJyYXk7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzT2JzZXJ2YWJsZU1hcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGlzT2JzZXJ2YWJsZU1hcDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNPYnNlcnZhYmxlT2JqZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNPYnNlcnZhYmxlT2JqZWN0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc09ic2VydmFibGVQcm9wXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNPYnNlcnZhYmxlUHJvcDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNPYnNlcnZhYmxlU2V0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNPYnNlcnZhYmxlU2V0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJrZXlzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4ga2V5czsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwib2JzZXJ2YWJsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIG9ic2VydmFibGU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm9ic2VydmVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBvYnNlcnZlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJvbkJlY29tZU9ic2VydmVkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gb25CZWNvbWVPYnNlcnZlZDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwib25CZWNvbWVVbm9ic2VydmVkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gb25CZWNvbWVVbm9ic2VydmVkOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJvblJlYWN0aW9uRXJyb3JcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBvblJlYWN0aW9uRXJyb3I7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlYWN0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcmVhY3Rpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbW92ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJlbW92ZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicnVuSW5BY3Rpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBydW5JbkFjdGlvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2V0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2V0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzcHlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBzcHk7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRvSlNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB0b0pTOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ0cmFjZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHRyYWNlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ0cmFuc2FjdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHRyYW5zYWN0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ1bnRyYWNrZWRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB1bnRyYWNrZWQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInZhbHVlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHZhbHVlczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwid2hlblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHdoZW47IH0pO1xuLyoqIE1vYlggLSAoYykgTWljaGVsIFdlc3RzdHJhdGUgMjAxNSAtIDIwMjAgLSBNSVQgTGljZW5zZWQgKi9cblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7XG4gICAgX19wcm90b19fOiBbXVxuICB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBkLl9fcHJvdG9fXyA9IGI7XG4gIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgfTtcblxuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gIGV4dGVuZFN0YXRpY3MoZCwgYik7XG5cbiAgZnVuY3Rpb24gX18oKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gIH1cblxuICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59XG5cbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG5mdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSxcbiAgICAgIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgcmV0dXJuIHtcbiAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IG8gJiYgb1tpKytdLFxuICAgICAgICBkb25lOiAhb1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn1cblxuZnVuY3Rpb24gX19zcHJlYWQoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG5cbiAgcmV0dXJuIGFyO1xufVxuXG52YXIgT0JGVVNDQVRFRF9FUlJPUiA9IFwiQW4gaW52YXJpYW50IGZhaWxlZCwgaG93ZXZlciB0aGUgZXJyb3IgaXMgb2JmdXNjYXRlZCBiZWNhdXNlIHRoaXMgaXMgYSBwcm9kdWN0aW9uIGJ1aWxkLlwiO1xudmFyIEVNUFRZX0FSUkFZID0gW107XG5PYmplY3QuZnJlZXplKEVNUFRZX0FSUkFZKTtcbnZhciBFTVBUWV9PQkpFQ1QgPSB7fTtcbk9iamVjdC5mcmVlemUoRU1QVFlfT0JKRUNUKTtcblxuZnVuY3Rpb24gZ2V0TmV4dElkKCkge1xuICByZXR1cm4gKytnbG9iYWxTdGF0ZS5tb2J4R3VpZDtcbn1cblxuZnVuY3Rpb24gZmFpbChtZXNzYWdlKSB7XG4gIGludmFyaWFudChmYWxzZSwgbWVzc2FnZSk7XG4gIHRocm93IFwiWFwiOyAvLyB1bnJlYWNoYWJsZVxufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgaWYgKCFjaGVjaykgdGhyb3cgbmV3IEVycm9yKFwiW21vYnhdIFwiICsgKG1lc3NhZ2UgfHwgT0JGVVNDQVRFRF9FUlJPUikpO1xufVxuLyoqXHJcbiAqIFByaW50cyBhIGRlcHJlY2F0aW9uIG1lc3NhZ2UsIGJ1dCBvbmx5IG9uZSB0aW1lLlxyXG4gKiBSZXR1cm5zIGZhbHNlIGlmIHRoZSBkZXByZWNhdGVkIG1lc3NhZ2Ugd2FzIGFscmVhZHkgcHJpbnRlZCBiZWZvcmVcclxuICovXG5cblxudmFyIGRlcHJlY2F0ZWRNZXNzYWdlcyA9IFtdO1xuXG5mdW5jdGlvbiBkZXByZWNhdGVkKG1zZywgdGhpbmcpIHtcbiAgaWYgKGZhbHNlKSB7fVxuXG4gIGlmICh0aGluZykge1xuICAgIHJldHVybiBkZXByZWNhdGVkKFwiJ1wiICsgbXNnICsgXCInLCB1c2UgJ1wiICsgdGhpbmcgKyBcIicgaW5zdGVhZC5cIik7XG4gIH1cblxuICBpZiAoZGVwcmVjYXRlZE1lc3NhZ2VzLmluZGV4T2YobXNnKSAhPT0gLTEpIHJldHVybiBmYWxzZTtcbiAgZGVwcmVjYXRlZE1lc3NhZ2VzLnB1c2gobXNnKTtcbiAgY29uc29sZS5lcnJvcihcIlttb2J4XSBEZXByZWNhdGVkOiBcIiArIG1zZyk7XG4gIHJldHVybiB0cnVlO1xufVxuLyoqXHJcbiAqIE1ha2VzIHN1cmUgdGhhdCB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gaXMgaW52b2tlZCBhdCBtb3N0IG9uY2UuXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIG9uY2UoZnVuYykge1xuICB2YXIgaW52b2tlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChpbnZva2VkKSByZXR1cm47XG4gICAgaW52b2tlZCA9IHRydWU7XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxudmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7fTtcblxuZnVuY3Rpb24gdW5pcXVlKGxpc3QpIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAocmVzLmluZGV4T2YoaXRlbSkgPT09IC0xKSByZXMucHVzaChpdGVtKTtcbiAgfSk7XG4gIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCI7XG59XG5cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIGZhbHNlO1xuICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICByZXR1cm4gcHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUgfHwgcHJvdG8gPT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGFkZEhpZGRlblByb3Aob2JqZWN0LCBwcm9wTmFtZSwgdmFsdWUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcE5hbWUsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHZhbHVlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRIaWRkZW5GaW5hbFByb3Aob2JqZWN0LCBwcm9wTmFtZSwgdmFsdWUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcE5hbWUsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaXNQcm9wZXJ0eUNvbmZpZ3VyYWJsZShvYmplY3QsIHByb3ApIHtcbiAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcCk7XG4gIHJldHVybiAhZGVzY3JpcHRvciB8fCBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSAhPT0gZmFsc2UgJiYgZGVzY3JpcHRvci53cml0YWJsZSAhPT0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGFzc2VydFByb3BlcnR5Q29uZmlndXJhYmxlKG9iamVjdCwgcHJvcCkge1xuICBpZiAoIHRydWUgJiYgIWlzUHJvcGVydHlDb25maWd1cmFibGUob2JqZWN0LCBwcm9wKSkgZmFpbChcIkNhbm5vdCBtYWtlIHByb3BlcnR5ICdcIiArIHByb3AudG9TdHJpbmcoKSArIFwiJyBvYnNlcnZhYmxlLCBpdCBpcyBub3QgY29uZmlndXJhYmxlIGFuZCB3cml0YWJsZSBpbiB0aGUgdGFyZ2V0IG9iamVjdFwiKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZShuYW1lLCBjbGF6eikge1xuICB2YXIgcHJvcE5hbWUgPSBcImlzTW9iWFwiICsgbmFtZTtcbiAgY2xhenoucHJvdG90eXBlW3Byb3BOYW1lXSA9IHRydWU7XG4gIHJldHVybiBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBpc09iamVjdCh4KSAmJiB4W3Byb3BOYW1lXSA9PT0gdHJ1ZTtcbiAgfTtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGFyZ3VtZW50IGlzIGFuIGFycmF5LCBkaXNyZWdhcmRpbmcgb2JzZXJ2YWJpbGl0eS5cclxuICovXG5cblxuZnVuY3Rpb24gaXNBcnJheUxpa2UoeCkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh4KSB8fCBpc09ic2VydmFibGVBcnJheSh4KTtcbn1cblxuZnVuY3Rpb24gaXNFUzZNYXAodGhpbmcpIHtcbiAgcmV0dXJuIHRoaW5nIGluc3RhbmNlb2YgTWFwO1xufVxuXG5mdW5jdGlvbiBpc0VTNlNldCh0aGluZykge1xuICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiBTZXQ7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgZm9sbG93aW5nOiBvd24ga2V5cywgcHJvdG90eXBlIGtleXMgJiBvd24gc3ltYm9sIGtleXMsIGlmIHRoZXkgYXJlIGVudW1lcmFibGUuXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFBsYWluT2JqZWN0S2V5cyhvYmplY3QpIHtcbiAgdmFyIGVudW1lcmFibGVzID0gbmV3IFNldCgpO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIGVudW1lcmFibGVzLmFkZChrZXkpOyAvLyAqYWxsKiBlbnVtZXJhYmxlc1xuXG5cbiAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIGspLmVudW1lcmFibGUpIGVudW1lcmFibGVzLmFkZChrKTtcbiAgfSk7IC8vICpvd24qIHN5bWJvbHNcbiAgLy8gTm90ZTogdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBtaXNzaW5nIGVudW1lcmFibGUsIGluaGVyaXRlZCwgc3ltYm9saWMgcHJvcGVydHkgbmFtZXMhIFRoYXQgd291bGQgaG93ZXZlciBwcmV0dHkgZXhwZW5zaXZlIHRvIGFkZCxcbiAgLy8gYXMgdGhlcmUgaXMgbm8gZWZmaWNpZW50IGl0ZXJhdG9yIHRoYXQgcmV0dXJucyAqYWxsKiBwcm9wZXJ0aWVzXG5cbiAgcmV0dXJuIEFycmF5LmZyb20oZW51bWVyYWJsZXMpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnlLZXkoa2V5KSB7XG4gIGlmIChrZXkgJiYga2V5LnRvU3RyaW5nKSByZXR1cm4ga2V5LnRvU3RyaW5nKCk7ZWxzZSByZXR1cm4gbmV3IFN0cmluZyhrZXkpLnRvU3RyaW5nKCk7XG59XG5cbmZ1bmN0aW9uIGdldE1hcExpa2VLZXlzKG1hcCkge1xuICBpZiAoaXNQbGFpbk9iamVjdChtYXApKSByZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkobWFwKSkgcmV0dXJuIG1hcC5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIF9iID0gX19yZWFkKF9hLCAxKSxcbiAgICAgICAga2V5ID0gX2JbMF07XG5cbiAgICByZXR1cm4ga2V5O1xuICB9KTtcbiAgaWYgKGlzRVM2TWFwKG1hcCkgfHwgaXNPYnNlcnZhYmxlTWFwKG1hcCkpIHJldHVybiBBcnJheS5mcm9tKG1hcC5rZXlzKCkpO1xuICByZXR1cm4gZmFpbChcIkNhbm5vdCBnZXQga2V5cyBmcm9tICdcIiArIG1hcCArIFwiJ1wiKTtcbn1cblxuZnVuY3Rpb24gdG9QcmltaXRpdmUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gbnVsbCA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiA/IFwiXCIgKyB2YWx1ZSA6IHZhbHVlO1xufVxuXG52YXIgJG1vYnggPSBTeW1ib2woXCJtb2J4IGFkbWluaXN0cmF0aW9uXCIpO1xuXG52YXIgQXRvbSA9XG4vKiogQGNsYXNzICovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIG5ldyBhdG9tLiBGb3IgZGVidWdnaW5nIHB1cnBvc2VzIGl0IGlzIHJlY29tbWVuZGVkIHRvIGdpdmUgaXQgYSBuYW1lLlxyXG4gICAqIFRoZSBvbkJlY29tZU9ic2VydmVkIGFuZCBvbkJlY29tZVVub2JzZXJ2ZWQgY2FsbGJhY2tzIGNhbiBiZSB1c2VkIGZvciByZXNvdXJjZSBtYW5hZ2VtZW50LlxyXG4gICAqL1xuICBmdW5jdGlvbiBBdG9tKG5hbWUpIHtcbiAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7XG4gICAgICBuYW1lID0gXCJBdG9tQFwiICsgZ2V0TmV4dElkKCk7XG4gICAgfVxuXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmlzUGVuZGluZ1Vub2JzZXJ2YXRpb24gPSBmYWxzZTsgLy8gZm9yIGVmZmVjdGl2ZSB1bm9ic2VydmluZy4gQmFzZUF0b20gaGFzIHRydWUsIGZvciBleHRyYSBvcHRpbWl6YXRpb24sIHNvIGl0cyBvbkJlY29tZVVub2JzZXJ2ZWQgbmV2ZXIgZ2V0cyBjYWxsZWQsIGJlY2F1c2UgaXQncyBub3QgbmVlZGVkXG5cbiAgICB0aGlzLmlzQmVpbmdPYnNlcnZlZCA9IGZhbHNlO1xuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IFNldCgpO1xuICAgIHRoaXMuZGlmZlZhbHVlID0gMDtcbiAgICB0aGlzLmxhc3RBY2Nlc3NlZEJ5ID0gMDtcbiAgICB0aGlzLmxvd2VzdE9ic2VydmVyU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLk5PVF9UUkFDS0lORztcbiAgfVxuXG4gIEF0b20ucHJvdG90eXBlLm9uQmVjb21lT2JzZXJ2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMub25CZWNvbWVPYnNlcnZlZExpc3RlbmVycykge1xuICAgICAgdGhpcy5vbkJlY29tZU9ic2VydmVkTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIEF0b20ucHJvdG90eXBlLm9uQmVjb21lVW5vYnNlcnZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5vbkJlY29tZVVub2JzZXJ2ZWRMaXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMub25CZWNvbWVVbm9ic2VydmVkTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICAvKipcclxuICAgKiBJbnZva2UgdGhpcyBtZXRob2QgdG8gbm90aWZ5IG1vYnggdGhhdCB5b3VyIGF0b20gaGFzIGJlZW4gdXNlZCBzb21laG93LlxyXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBpcyBjdXJyZW50bHkgYSByZWFjdGl2ZSBjb250ZXh0LlxyXG4gICAqL1xuXG5cbiAgQXRvbS5wcm90b3R5cGUucmVwb3J0T2JzZXJ2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlcG9ydE9ic2VydmVkKHRoaXMpO1xuICB9O1xuICAvKipcclxuICAgKiBJbnZva2UgdGhpcyBtZXRob2QgX2FmdGVyXyB0aGlzIG1ldGhvZCBoYXMgY2hhbmdlZCB0byBzaWduYWwgbW9ieCB0aGF0IGFsbCBpdHMgb2JzZXJ2ZXJzIHNob3VsZCBpbnZhbGlkYXRlLlxyXG4gICAqL1xuXG5cbiAgQXRvbS5wcm90b3R5cGUucmVwb3J0Q2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzdGFydEJhdGNoKCk7XG4gICAgcHJvcGFnYXRlQ2hhbmdlZCh0aGlzKTtcbiAgICBlbmRCYXRjaCgpO1xuICB9O1xuXG4gIEF0b20ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH07XG5cbiAgcmV0dXJuIEF0b207XG59KCk7XG5cbnZhciBpc0F0b20gPSBjcmVhdGVJbnN0YW5jZW9mUHJlZGljYXRlKFwiQXRvbVwiLCBBdG9tKTtcblxuZnVuY3Rpb24gY3JlYXRlQXRvbShuYW1lLCBvbkJlY29tZU9ic2VydmVkSGFuZGxlciwgb25CZWNvbWVVbm9ic2VydmVkSGFuZGxlcikge1xuICBpZiAob25CZWNvbWVPYnNlcnZlZEhhbmRsZXIgPT09IHZvaWQgMCkge1xuICAgIG9uQmVjb21lT2JzZXJ2ZWRIYW5kbGVyID0gbm9vcDtcbiAgfVxuXG4gIGlmIChvbkJlY29tZVVub2JzZXJ2ZWRIYW5kbGVyID09PSB2b2lkIDApIHtcbiAgICBvbkJlY29tZVVub2JzZXJ2ZWRIYW5kbGVyID0gbm9vcDtcbiAgfVxuXG4gIHZhciBhdG9tID0gbmV3IEF0b20obmFtZSk7IC8vIGRlZmF1bHQgYG5vb3BgIGxpc3RlbmVyIHdpbGwgbm90IGluaXRpYWxpemUgdGhlIGhvb2sgU2V0XG5cbiAgaWYgKG9uQmVjb21lT2JzZXJ2ZWRIYW5kbGVyICE9PSBub29wKSB7XG4gICAgb25CZWNvbWVPYnNlcnZlZChhdG9tLCBvbkJlY29tZU9ic2VydmVkSGFuZGxlcik7XG4gIH1cblxuICBpZiAob25CZWNvbWVVbm9ic2VydmVkSGFuZGxlciAhPT0gbm9vcCkge1xuICAgIG9uQmVjb21lVW5vYnNlcnZlZChhdG9tLCBvbkJlY29tZVVub2JzZXJ2ZWRIYW5kbGVyKTtcbiAgfVxuXG4gIHJldHVybiBhdG9tO1xufVxuXG5mdW5jdGlvbiBpZGVudGl0eUNvbXBhcmVyKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5cbmZ1bmN0aW9uIHN0cnVjdHVyYWxDb21wYXJlcihhLCBiKSB7XG4gIHJldHVybiBkZWVwRXF1YWwoYSwgYik7XG59XG5cbmZ1bmN0aW9uIHNoYWxsb3dDb21wYXJlcihhLCBiKSB7XG4gIHJldHVybiBkZWVwRXF1YWwoYSwgYiwgMSk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRDb21wYXJlcihhLCBiKSB7XG4gIHJldHVybiBPYmplY3QuaXMoYSwgYik7XG59XG5cbnZhciBjb21wYXJlciA9IHtcbiAgaWRlbnRpdHk6IGlkZW50aXR5Q29tcGFyZXIsXG4gIHN0cnVjdHVyYWw6IHN0cnVjdHVyYWxDb21wYXJlcixcbiAgZGVmYXVsdDogZGVmYXVsdENvbXBhcmVyLFxuICBzaGFsbG93OiBzaGFsbG93Q29tcGFyZXJcbn07XG52YXIgbW9ieERpZFJ1bkxhenlJbml0aWFsaXplcnNTeW1ib2wgPSBTeW1ib2woXCJtb2J4IGRpZCBydW4gbGF6eSBpbml0aWFsaXplcnNcIik7XG52YXIgbW9ieFBlbmRpbmdEZWNvcmF0b3JzID0gU3ltYm9sKFwibW9ieCBwZW5kaW5nIGRlY29yYXRvcnNcIik7XG52YXIgZW51bWVyYWJsZURlc2NyaXB0b3JDYWNoZSA9IHt9O1xudmFyIG5vbkVudW1lcmFibGVEZXNjcmlwdG9yQ2FjaGUgPSB7fTtcblxuZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlJbml0aWFsaXplckRlc2NyaXB0b3IocHJvcCwgZW51bWVyYWJsZSkge1xuICB2YXIgY2FjaGUgPSBlbnVtZXJhYmxlID8gZW51bWVyYWJsZURlc2NyaXB0b3JDYWNoZSA6IG5vbkVudW1lcmFibGVEZXNjcmlwdG9yQ2FjaGU7XG4gIHJldHVybiBjYWNoZVtwcm9wXSB8fCAoY2FjaGVbcHJvcF0gPSB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGVudW1lcmFibGUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpbml0aWFsaXplSW5zdGFuY2UodGhpcyk7XG4gICAgICByZXR1cm4gdGhpc1twcm9wXTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpbml0aWFsaXplSW5zdGFuY2UodGhpcyk7XG4gICAgICB0aGlzW3Byb3BdID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZUluc3RhbmNlKHRhcmdldCkge1xuICB2YXIgZV8xLCBfYTtcblxuICBpZiAodGFyZ2V0W21vYnhEaWRSdW5MYXp5SW5pdGlhbGl6ZXJzU3ltYm9sXSA9PT0gdHJ1ZSkgcmV0dXJuO1xuICB2YXIgZGVjb3JhdG9ycyA9IHRhcmdldFttb2J4UGVuZGluZ0RlY29yYXRvcnNdO1xuXG4gIGlmIChkZWNvcmF0b3JzKSB7XG4gICAgYWRkSGlkZGVuUHJvcCh0YXJnZXQsIG1vYnhEaWRSdW5MYXp5SW5pdGlhbGl6ZXJzU3ltYm9sLCB0cnVlKTsgLy8gQnVpbGQgcHJvcGVydHkga2V5IGFycmF5IGZyb20gYm90aCBzdHJpbmdzIGFuZCBzeW1ib2xzXG5cbiAgICB2YXIga2V5cyA9IF9fc3ByZWFkKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZGVjb3JhdG9ycyksIE9iamVjdC5rZXlzKGRlY29yYXRvcnMpKTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBrZXlzXzEgPSBfX3ZhbHVlcyhrZXlzKSwga2V5c18xXzEgPSBrZXlzXzEubmV4dCgpOyAha2V5c18xXzEuZG9uZTsga2V5c18xXzEgPSBrZXlzXzEubmV4dCgpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzXzFfMS52YWx1ZTtcbiAgICAgICAgdmFyIGQgPSBkZWNvcmF0b3JzW2tleV07XG4gICAgICAgIGQucHJvcGVydHlDcmVhdG9yKHRhcmdldCwgZC5wcm9wLCBkLmRlc2NyaXB0b3IsIGQuZGVjb3JhdG9yVGFyZ2V0LCBkLmRlY29yYXRvckFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZV8xXzEpIHtcbiAgICAgIGVfMSA9IHtcbiAgICAgICAgZXJyb3I6IGVfMV8xXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoa2V5c18xXzEgJiYgIWtleXNfMV8xLmRvbmUgJiYgKF9hID0ga2V5c18xLnJldHVybikpIF9hLmNhbGwoa2V5c18xKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJvcERlY29yYXRvcihwcm9wZXJ0eUluaXRpYWxseUVudW1lcmFibGUsIHByb3BlcnR5Q3JlYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gZGVjb3JhdG9yRmFjdG9yeSgpIHtcbiAgICB2YXIgZGVjb3JhdG9yQXJndW1lbnRzO1xuXG4gICAgdmFyIGRlY29yYXRvciA9IGZ1bmN0aW9uIGRlY29yYXRlKHRhcmdldCwgcHJvcCwgZGVzY3JpcHRvciwgYXBwbHlJbW1lZGlhdGVseSAvLyBUaGlzIGlzIGEgc3BlY2lhbCBwYXJhbWV0ZXIgdG8gc2lnbmFsIHRoZSBkaXJlY3QgYXBwbGljYXRpb24gb2YgYSBkZWNvcmF0b3IsIGFsbG93IGV4dGVuZE9ic2VydmFibGUgdG8gc2tpcCB0aGUgZW50aXJlIHR5cGUgZGVjb3JhdGlvbiBwYXJ0LFxuICAgIC8vIGFzIHRoZSBpbnN0YW5jZSB0byBhcHBseSB0aGUgZGVjb3JhdG9yIHRvIGVxdWFscyB0aGUgdGFyZ2V0XG4gICAgKSB7XG4gICAgICBpZiAoYXBwbHlJbW1lZGlhdGVseSA9PT0gdHJ1ZSkge1xuICAgICAgICBwcm9wZXJ0eUNyZWF0b3IodGFyZ2V0LCBwcm9wLCBkZXNjcmlwdG9yLCB0YXJnZXQsIGRlY29yYXRvckFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoIHRydWUgJiYgIXF1YWNrc0xpa2VBRGVjb3JhdG9yKGFyZ3VtZW50cykpIGZhaWwoXCJUaGlzIGZ1bmN0aW9uIGlzIGEgZGVjb3JhdG9yLCBidXQgaXQgd2Fzbid0IGludm9rZWQgbGlrZSBhIGRlY29yYXRvclwiKTtcblxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBtb2J4UGVuZGluZ0RlY29yYXRvcnMpKSB7XG4gICAgICAgIHZhciBpbmhlcml0ZWREZWNvcmF0b3JzID0gdGFyZ2V0W21vYnhQZW5kaW5nRGVjb3JhdG9yc107XG4gICAgICAgIGFkZEhpZGRlblByb3AodGFyZ2V0LCBtb2J4UGVuZGluZ0RlY29yYXRvcnMsIF9fYXNzaWduKHt9LCBpbmhlcml0ZWREZWNvcmF0b3JzKSk7XG4gICAgICB9XG5cbiAgICAgIHRhcmdldFttb2J4UGVuZGluZ0RlY29yYXRvcnNdW3Byb3BdID0ge1xuICAgICAgICBwcm9wOiBwcm9wLFxuICAgICAgICBwcm9wZXJ0eUNyZWF0b3I6IHByb3BlcnR5Q3JlYXRvcixcbiAgICAgICAgZGVzY3JpcHRvcjogZGVzY3JpcHRvcixcbiAgICAgICAgZGVjb3JhdG9yVGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgIGRlY29yYXRvckFyZ3VtZW50czogZGVjb3JhdG9yQXJndW1lbnRzXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGNyZWF0ZVByb3BlcnR5SW5pdGlhbGl6ZXJEZXNjcmlwdG9yKHByb3AsIHByb3BlcnR5SW5pdGlhbGx5RW51bWVyYWJsZSk7XG4gICAgfTtcblxuICAgIGlmIChxdWFja3NMaWtlQURlY29yYXRvcihhcmd1bWVudHMpKSB7XG4gICAgICAvLyBAZGVjb3JhdG9yXG4gICAgICBkZWNvcmF0b3JBcmd1bWVudHMgPSBFTVBUWV9BUlJBWTtcbiAgICAgIHJldHVybiBkZWNvcmF0b3IuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQGRlY29yYXRvcihhcmdzKVxuICAgICAgZGVjb3JhdG9yQXJndW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBkZWNvcmF0b3I7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBxdWFja3NMaWtlQURlY29yYXRvcihhcmdzKSB7XG4gIHJldHVybiAoYXJncy5sZW5ndGggPT09IDIgfHwgYXJncy5sZW5ndGggPT09IDMpICYmICh0eXBlb2YgYXJnc1sxXSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgYXJnc1sxXSA9PT0gXCJzeW1ib2xcIikgfHwgYXJncy5sZW5ndGggPT09IDQgJiYgYXJnc1szXSA9PT0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGVlcEVuaGFuY2VyKHYsIF8sIG5hbWUpIHtcbiAgLy8gaXQgaXMgYW4gb2JzZXJ2YWJsZSBhbHJlYWR5LCBkb25lXG4gIGlmIChpc09ic2VydmFibGUodikpIHJldHVybiB2OyAvLyBzb21ldGhpbmcgdGhhdCBjYW4gYmUgY29udmVydGVkIGFuZCBtdXRhdGVkP1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHYpKSByZXR1cm4gb2JzZXJ2YWJsZS5hcnJheSh2LCB7XG4gICAgbmFtZTogbmFtZVxuICB9KTtcbiAgaWYgKGlzUGxhaW5PYmplY3QodikpIHJldHVybiBvYnNlcnZhYmxlLm9iamVjdCh2LCB1bmRlZmluZWQsIHtcbiAgICBuYW1lOiBuYW1lXG4gIH0pO1xuICBpZiAoaXNFUzZNYXAodikpIHJldHVybiBvYnNlcnZhYmxlLm1hcCh2LCB7XG4gICAgbmFtZTogbmFtZVxuICB9KTtcbiAgaWYgKGlzRVM2U2V0KHYpKSByZXR1cm4gb2JzZXJ2YWJsZS5zZXQodiwge1xuICAgIG5hbWU6IG5hbWVcbiAgfSk7XG4gIHJldHVybiB2O1xufVxuXG5mdW5jdGlvbiBzaGFsbG93RW5oYW5jZXIodiwgXywgbmFtZSkge1xuICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IG51bGwpIHJldHVybiB2O1xuICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KHYpIHx8IGlzT2JzZXJ2YWJsZUFycmF5KHYpIHx8IGlzT2JzZXJ2YWJsZU1hcCh2KSB8fCBpc09ic2VydmFibGVTZXQodikpIHJldHVybiB2O1xuICBpZiAoQXJyYXkuaXNBcnJheSh2KSkgcmV0dXJuIG9ic2VydmFibGUuYXJyYXkodiwge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgZGVlcDogZmFsc2VcbiAgfSk7XG4gIGlmIChpc1BsYWluT2JqZWN0KHYpKSByZXR1cm4gb2JzZXJ2YWJsZS5vYmplY3QodiwgdW5kZWZpbmVkLCB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBkZWVwOiBmYWxzZVxuICB9KTtcbiAgaWYgKGlzRVM2TWFwKHYpKSByZXR1cm4gb2JzZXJ2YWJsZS5tYXAodiwge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgZGVlcDogZmFsc2VcbiAgfSk7XG4gIGlmIChpc0VTNlNldCh2KSkgcmV0dXJuIG9ic2VydmFibGUuc2V0KHYsIHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIGRlZXA6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gZmFpbCggdHJ1ZSAmJiBcIlRoZSBzaGFsbG93IG1vZGlmaWVyIC8gZGVjb3JhdG9yIGNhbiBvbmx5IHVzZWQgaW4gY29tYmluYXRpb24gd2l0aCBhcnJheXMsIG9iamVjdHMsIG1hcHMgYW5kIHNldHNcIik7XG59XG5cbmZ1bmN0aW9uIHJlZmVyZW5jZUVuaGFuY2VyKG5ld1ZhbHVlKSB7XG4gIC8vIG5ldmVyIHR1cm4gaW50byBhbiBvYnNlcnZhYmxlXG4gIHJldHVybiBuZXdWYWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVmU3RydWN0RW5oYW5jZXIodiwgb2xkVmFsdWUsIG5hbWUpIHtcbiAgaWYgKCB0cnVlICYmIGlzT2JzZXJ2YWJsZSh2KSkgdGhyb3cgXCJvYnNlcnZhYmxlLnN0cnVjdCBzaG91bGQgbm90IGJlIHVzZWQgd2l0aCBvYnNlcnZhYmxlIHZhbHVlc1wiO1xuICBpZiAoZGVlcEVxdWFsKHYsIG9sZFZhbHVlKSkgcmV0dXJuIG9sZFZhbHVlO1xuICByZXR1cm4gdjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGVjb3JhdG9yRm9yRW5oYW5jZXIoZW5oYW5jZXIpIHtcbiAgaW52YXJpYW50KGVuaGFuY2VyKTtcbiAgdmFyIGRlY29yYXRvciA9IGNyZWF0ZVByb3BEZWNvcmF0b3IodHJ1ZSwgZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHlOYW1lLCBkZXNjcmlwdG9yLCBfZGVjb3JhdG9yVGFyZ2V0LCBkZWNvcmF0b3JBcmdzKSB7XG4gICAgaWYgKHRydWUpIHtcbiAgICAgIGludmFyaWFudCghZGVzY3JpcHRvciB8fCAhZGVzY3JpcHRvci5nZXQsIFwiQG9ic2VydmFibGUgY2Fubm90IGJlIHVzZWQgb24gZ2V0dGVyIChwcm9wZXJ0eSBcXFwiXCIgKyBzdHJpbmdpZnlLZXkocHJvcGVydHlOYW1lKSArIFwiXFxcIiksIHVzZSBAY29tcHV0ZWQgaW5zdGVhZC5cIik7XG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxWYWx1ZSA9IGRlc2NyaXB0b3IgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKHRhcmdldCkgOiBkZXNjcmlwdG9yLnZhbHVlIDogdW5kZWZpbmVkO1xuICAgIGFzT2JzZXJ2YWJsZU9iamVjdCh0YXJnZXQpLmFkZE9ic2VydmFibGVQcm9wKHByb3BlcnR5TmFtZSwgaW5pdGlhbFZhbHVlLCBlbmhhbmNlcik7XG4gIH0pO1xuICB2YXIgcmVzID0gLy8gRXh0cmEgcHJvY2VzcyBjaGVja3MsIGFzIHRoaXMgaGFwcGVucyBkdXJpbmcgbW9kdWxlIGluaXRpYWxpemF0aW9uXG4gIHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MuZW52ICYmIFwiZGV2ZWxvcG1lbnRcIiAhPT0gXCJwcm9kdWN0aW9uXCIgPyBmdW5jdGlvbiBvYnNlcnZhYmxlRGVjb3JhdG9yKCkge1xuICAgIC8vIFRoaXMgd3JhcHBlciBmdW5jdGlvbiBpcyBqdXN0IHRvIGRldGVjdCBpbGxlZ2FsIGRlY29yYXRvciBpbnZvY2F0aW9ucywgZGVwcmVjYXRlIGluIGEgbmV4dCB2ZXJzaW9uXG4gICAgLy8gYW5kIHNpbXBseSByZXR1cm4gdGhlIGNyZWF0ZWQgcHJvcCBkZWNvcmF0b3JcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiBmYWlsKFwiSW5jb3JyZWN0IGRlY29yYXRvciBpbnZvY2F0aW9uLiBAb2JzZXJ2YWJsZSBkZWNvcmF0b3IgZG9lc24ndCBleHBlY3QgYW55IGFyZ3VtZW50c1wiKTtcbiAgICByZXR1cm4gZGVjb3JhdG9yLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0gOiBkZWNvcmF0b3I7XG4gIHJlcy5lbmhhbmNlciA9IGVuaGFuY2VyO1xuICByZXR1cm4gcmVzO1xufSAvLyBQcmVkZWZpbmVkIGJhZ3Mgb2YgY3JlYXRlIG9ic2VydmFibGUgb3B0aW9ucywgdG8gYXZvaWQgYWxsb2NhdGluZyB0ZW1wb3JhcmlseSBvcHRpb24gb2JqZWN0c1xuLy8gaW4gdGhlIG1ham9yaXR5IG9mIGNhc2VzXG5cblxudmFyIGRlZmF1bHRDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyA9IHtcbiAgZGVlcDogdHJ1ZSxcbiAgbmFtZTogdW5kZWZpbmVkLFxuICBkZWZhdWx0RGVjb3JhdG9yOiB1bmRlZmluZWQsXG4gIHByb3h5OiB0cnVlXG59O1xuT2JqZWN0LmZyZWV6ZShkZWZhdWx0Q3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMpO1xuXG5mdW5jdGlvbiBhc3NlcnRWYWxpZE9wdGlvbihrZXkpIHtcbiAgaWYgKCEvXihkZWVwfG5hbWV8ZXF1YWxzfGRlZmF1bHREZWNvcmF0b3J8cHJveHkpJC8udGVzdChrZXkpKSBmYWlsKFwiaW52YWxpZCBvcHRpb24gZm9yIChleHRlbmQpb2JzZXJ2YWJsZTogXCIgKyBrZXkpO1xufVxuXG5mdW5jdGlvbiBhc0NyZWF0ZU9ic2VydmFibGVPcHRpb25zKHRoaW5nKSB7XG4gIGlmICh0aGluZyA9PT0gbnVsbCB8fCB0aGluZyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZGVmYXVsdENyZWF0ZU9ic2VydmFibGVPcHRpb25zO1xuICBpZiAodHlwZW9mIHRoaW5nID09PSBcInN0cmluZ1wiKSByZXR1cm4ge1xuICAgIG5hbWU6IHRoaW5nLFxuICAgIGRlZXA6IHRydWUsXG4gICAgcHJveHk6IHRydWVcbiAgfTtcblxuICBpZiAodHJ1ZSkge1xuICAgIGlmICh0eXBlb2YgdGhpbmcgIT09IFwib2JqZWN0XCIpIHJldHVybiBmYWlsKFwiZXhwZWN0ZWQgb3B0aW9ucyBvYmplY3RcIik7XG4gICAgT2JqZWN0LmtleXModGhpbmcpLmZvckVhY2goYXNzZXJ0VmFsaWRPcHRpb24pO1xuICB9XG5cbiAgcmV0dXJuIHRoaW5nO1xufVxuXG52YXIgZGVlcERlY29yYXRvciA9IGNyZWF0ZURlY29yYXRvckZvckVuaGFuY2VyKGRlZXBFbmhhbmNlcik7XG52YXIgc2hhbGxvd0RlY29yYXRvciA9IGNyZWF0ZURlY29yYXRvckZvckVuaGFuY2VyKHNoYWxsb3dFbmhhbmNlcik7XG52YXIgcmVmRGVjb3JhdG9yID0gY3JlYXRlRGVjb3JhdG9yRm9yRW5oYW5jZXIocmVmZXJlbmNlRW5oYW5jZXIpO1xudmFyIHJlZlN0cnVjdERlY29yYXRvciA9IGNyZWF0ZURlY29yYXRvckZvckVuaGFuY2VyKHJlZlN0cnVjdEVuaGFuY2VyKTtcblxuZnVuY3Rpb24gZ2V0RW5oYW5jZXJGcm9tT3B0aW9ucyhvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLmRlZmF1bHREZWNvcmF0b3IgPyBvcHRpb25zLmRlZmF1bHREZWNvcmF0b3IuZW5oYW5jZXIgOiBvcHRpb25zLmRlZXAgPT09IGZhbHNlID8gcmVmZXJlbmNlRW5oYW5jZXIgOiBkZWVwRW5oYW5jZXI7XG59XG4vKipcclxuICogVHVybnMgYW4gb2JqZWN0LCBhcnJheSBvciBmdW5jdGlvbiBpbnRvIGEgcmVhY3RpdmUgc3RydWN0dXJlLlxyXG4gKiBAcGFyYW0gdiB0aGUgdmFsdWUgd2hpY2ggc2hvdWxkIGJlY29tZSBvYnNlcnZhYmxlLlxyXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVPYnNlcnZhYmxlKHYsIGFyZzIsIGFyZzMpIHtcbiAgLy8gQG9ic2VydmFibGUgc29tZVByb3A7XG4gIGlmICh0eXBlb2YgYXJndW1lbnRzWzFdID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBhcmd1bWVudHNbMV0gPT09IFwic3ltYm9sXCIpIHtcbiAgICByZXR1cm4gZGVlcERlY29yYXRvci5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9IC8vIGl0IGlzIGFuIG9ic2VydmFibGUgYWxyZWFkeSwgZG9uZVxuXG5cbiAgaWYgKGlzT2JzZXJ2YWJsZSh2KSkgcmV0dXJuIHY7IC8vIHNvbWV0aGluZyB0aGF0IGNhbiBiZSBjb252ZXJ0ZWQgYW5kIG11dGF0ZWQ/XG5cbiAgdmFyIHJlcyA9IGlzUGxhaW5PYmplY3QodikgPyBvYnNlcnZhYmxlLm9iamVjdCh2LCBhcmcyLCBhcmczKSA6IEFycmF5LmlzQXJyYXkodikgPyBvYnNlcnZhYmxlLmFycmF5KHYsIGFyZzIpIDogaXNFUzZNYXAodikgPyBvYnNlcnZhYmxlLm1hcCh2LCBhcmcyKSA6IGlzRVM2U2V0KHYpID8gb2JzZXJ2YWJsZS5zZXQodiwgYXJnMikgOiB2OyAvLyB0aGlzIHZhbHVlIGNvdWxkIGJlIGNvbnZlcnRlZCB0byBhIG5ldyBvYnNlcnZhYmxlIGRhdGEgc3RydWN0dXJlLCByZXR1cm4gaXRcblxuICBpZiAocmVzICE9PSB2KSByZXR1cm4gcmVzOyAvLyBvdGhlcndpc2UsIGp1c3QgYm94IGl0XG5cbiAgZmFpbCggdHJ1ZSAmJiBcIlRoZSBwcm92aWRlZCB2YWx1ZSBjb3VsZCBub3QgYmUgY29udmVydGVkIGludG8gYW4gb2JzZXJ2YWJsZS4gSWYgeW91IHdhbnQganVzdCBjcmVhdGUgYW4gb2JzZXJ2YWJsZSByZWZlcmVuY2UgdG8gdGhlIG9iamVjdCB1c2UgJ29ic2VydmFibGUuYm94KHZhbHVlKSdcIik7XG59XG5cbnZhciBvYnNlcnZhYmxlRmFjdG9yaWVzID0ge1xuICBib3g6IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikgaW5jb3JyZWN0bHlVc2VkQXNEZWNvcmF0b3IoXCJib3hcIik7XG4gICAgdmFyIG8gPSBhc0NyZWF0ZU9ic2VydmFibGVPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVZhbHVlKHZhbHVlLCBnZXRFbmhhbmNlckZyb21PcHRpb25zKG8pLCBvLm5hbWUsIHRydWUsIG8uZXF1YWxzKTtcbiAgfSxcbiAgYXJyYXk6IGZ1bmN0aW9uIChpbml0aWFsVmFsdWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSBpbmNvcnJlY3RseVVzZWRBc0RlY29yYXRvcihcImFycmF5XCIpO1xuICAgIHZhciBvID0gYXNDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gY3JlYXRlT2JzZXJ2YWJsZUFycmF5KGluaXRpYWxWYWx1ZXMsIGdldEVuaGFuY2VyRnJvbU9wdGlvbnMobyksIG8ubmFtZSk7XG4gIH0sXG4gIG1hcDogZnVuY3Rpb24gKGluaXRpYWxWYWx1ZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIGluY29ycmVjdGx5VXNlZEFzRGVjb3JhdG9yKFwibWFwXCIpO1xuICAgIHZhciBvID0gYXNDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVNYXAoaW5pdGlhbFZhbHVlcywgZ2V0RW5oYW5jZXJGcm9tT3B0aW9ucyhvKSwgby5uYW1lKTtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlcywgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikgaW5jb3JyZWN0bHlVc2VkQXNEZWNvcmF0b3IoXCJzZXRcIik7XG4gICAgdmFyIG8gPSBhc0NyZWF0ZU9ic2VydmFibGVPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVNldChpbml0aWFsVmFsdWVzLCBnZXRFbmhhbmNlckZyb21PcHRpb25zKG8pLCBvLm5hbWUpO1xuICB9LFxuICBvYmplY3Q6IGZ1bmN0aW9uIChwcm9wcywgZGVjb3JhdG9ycywgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzFdID09PSBcInN0cmluZ1wiKSBpbmNvcnJlY3RseVVzZWRBc0RlY29yYXRvcihcIm9iamVjdFwiKTtcbiAgICB2YXIgbyA9IGFzQ3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICBpZiAoby5wcm94eSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBleHRlbmRPYnNlcnZhYmxlKHt9LCBwcm9wcywgZGVjb3JhdG9ycywgbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkZWZhdWx0RGVjb3JhdG9yID0gZ2V0RGVmYXVsdERlY29yYXRvckZyb21PYmplY3RPcHRpb25zKG8pO1xuICAgICAgdmFyIGJhc2UgPSBleHRlbmRPYnNlcnZhYmxlKHt9LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbyk7XG4gICAgICB2YXIgcHJveHkgPSBjcmVhdGVEeW5hbWljT2JzZXJ2YWJsZU9iamVjdChiYXNlKTtcbiAgICAgIGV4dGVuZE9ic2VydmFibGVPYmplY3RXaXRoUHJvcGVydGllcyhwcm94eSwgcHJvcHMsIGRlY29yYXRvcnMsIGRlZmF1bHREZWNvcmF0b3IpO1xuICAgICAgcmV0dXJuIHByb3h5O1xuICAgIH1cbiAgfSxcbiAgcmVmOiByZWZEZWNvcmF0b3IsXG4gIHNoYWxsb3c6IHNoYWxsb3dEZWNvcmF0b3IsXG4gIGRlZXA6IGRlZXBEZWNvcmF0b3IsXG4gIHN0cnVjdDogcmVmU3RydWN0RGVjb3JhdG9yXG59O1xudmFyIG9ic2VydmFibGUgPSBjcmVhdGVPYnNlcnZhYmxlOyAvLyB3ZWlyZCB0cmljayB0byBrZWVwIG91ciB0eXBpbmdzIG5pY2VseSB3aXRoIG91ciBmdW5jcywgYW5kIHN0aWxsIGV4dGVuZCB0aGUgb2JzZXJ2YWJsZSBmdW5jdGlvblxuXG5PYmplY3Qua2V5cyhvYnNlcnZhYmxlRmFjdG9yaWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBvYnNlcnZhYmxlW25hbWVdID0gb2JzZXJ2YWJsZUZhY3Rvcmllc1tuYW1lXTtcbn0pO1xuXG5mdW5jdGlvbiBpbmNvcnJlY3RseVVzZWRBc0RlY29yYXRvcihtZXRob2ROYW1lKSB7XG4gIGZhaWwoIC8vIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICBcIkV4cGVjdGVkIG9uZSBvciB0d28gYXJndW1lbnRzIHRvIG9ic2VydmFibGUuXCIgKyBtZXRob2ROYW1lICsgXCIuIERpZCB5b3UgYWNjaWRlbnRhbGx5IHRyeSB0byB1c2Ugb2JzZXJ2YWJsZS5cIiArIG1ldGhvZE5hbWUgKyBcIiBhcyBkZWNvcmF0b3I/XCIpO1xufVxuXG52YXIgY29tcHV0ZWREZWNvcmF0b3IgPSBjcmVhdGVQcm9wRGVjb3JhdG9yKGZhbHNlLCBmdW5jdGlvbiAoaW5zdGFuY2UsIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvciwgZGVjb3JhdG9yVGFyZ2V0LCBkZWNvcmF0b3JBcmdzKSB7XG4gIHZhciBnZXQgPSBkZXNjcmlwdG9yLmdldCxcbiAgICAgIHNldCA9IGRlc2NyaXB0b3Iuc2V0OyAvLyBpbml0aWFsVmFsdWUgaXMgdGhlIGRlc2NyaXB0b3IgZm9yIGdldCAvIHNldCBwcm9wc1xuICAvLyBPcHRpbWl6YXRpb246IGZhc3RlciBvbiBkZWNvcmF0b3IgdGFyZ2V0IG9yIGluc3RhbmNlPyBBc3N1bWluZyB0YXJnZXRcbiAgLy8gT3B0aW1pemF0aW9uOiBmaW5kIG91dCBpZiBkZWNsYXJpbmcgb24gaW5zdGFuY2UgaXNuJ3QganVzdCBmYXN0ZXIuIChhbHNvIG1ha2VzIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHNpbXBsZXIpLiBCdXQsIG1vcmUgbWVtb3J5IHVzYWdlLi5cbiAgLy8gRm9yY2luZyBpbnN0YW5jZSBub3csIGZpeGVzIGhvdCByZWxvYWRpZyBpc3N1ZXMgb24gUmVhY3QgTmF0aXZlOlxuXG4gIHZhciBvcHRpb25zID0gZGVjb3JhdG9yQXJnc1swXSB8fCB7fTtcbiAgYXNPYnNlcnZhYmxlT2JqZWN0KGluc3RhbmNlKS5hZGRDb21wdXRlZFByb3AoaW5zdGFuY2UsIHByb3BlcnR5TmFtZSwgX19hc3NpZ24oe1xuICAgIGdldDogZ2V0LFxuICAgIHNldDogc2V0LFxuICAgIGNvbnRleHQ6IGluc3RhbmNlXG4gIH0sIG9wdGlvbnMpKTtcbn0pO1xudmFyIGNvbXB1dGVkU3RydWN0RGVjb3JhdG9yID0gY29tcHV0ZWREZWNvcmF0b3Ioe1xuICBlcXVhbHM6IGNvbXBhcmVyLnN0cnVjdHVyYWxcbn0pO1xuLyoqXHJcbiAqIERlY29yYXRvciBmb3IgY2xhc3MgcHJvcGVydGllczogQGNvbXB1dGVkIGdldCB2YWx1ZSgpIHsgcmV0dXJuIGV4cHI7IH0uXHJcbiAqIEZvciBsZWdhY3kgcHVycG9zZXMgYWxzbyBpbnZva2FibGUgYXMgRVM1IG9ic2VydmFibGUgY3JlYXRlZDogYGNvbXB1dGVkKCgpID0+IGV4cHIpYDtcclxuICovXG5cbnZhciBjb21wdXRlZCA9IGZ1bmN0aW9uIGNvbXB1dGVkKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgaWYgKHR5cGVvZiBhcmcyID09PSBcInN0cmluZ1wiKSB7XG4gICAgLy8gQGNvbXB1dGVkXG4gICAgcmV0dXJuIGNvbXB1dGVkRGVjb3JhdG9yLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBpZiAoYXJnMSAhPT0gbnVsbCAmJiB0eXBlb2YgYXJnMSA9PT0gXCJvYmplY3RcIiAmJiBhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gQGNvbXB1dGVkKHsgb3B0aW9ucyB9KVxuICAgIHJldHVybiBjb21wdXRlZERlY29yYXRvci5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9IC8vIGNvbXB1dGVkKGV4cHIsIG9wdGlvbnM/KVxuXG5cbiAgaWYgKHRydWUpIHtcbiAgICBpbnZhcmlhbnQodHlwZW9mIGFyZzEgPT09IFwiZnVuY3Rpb25cIiwgXCJGaXJzdCBhcmd1bWVudCB0byBgY29tcHV0ZWRgIHNob3VsZCBiZSBhbiBleHByZXNzaW9uLlwiKTtcbiAgICBpbnZhcmlhbnQoYXJndW1lbnRzLmxlbmd0aCA8IDMsIFwiQ29tcHV0ZWQgdGFrZXMgb25lIG9yIHR3byBhcmd1bWVudHMgaWYgdXNlZCBhcyBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHZhciBvcHRzID0gdHlwZW9mIGFyZzIgPT09IFwib2JqZWN0XCIgPyBhcmcyIDoge307XG4gIG9wdHMuZ2V0ID0gYXJnMTtcbiAgb3B0cy5zZXQgPSB0eXBlb2YgYXJnMiA9PT0gXCJmdW5jdGlvblwiID8gYXJnMiA6IG9wdHMuc2V0O1xuICBvcHRzLm5hbWUgPSBvcHRzLm5hbWUgfHwgYXJnMS5uYW1lIHx8IFwiXCI7XG4gIC8qIGZvciBnZW5lcmF0ZWQgbmFtZSAqL1xuXG4gIHJldHVybiBuZXcgQ29tcHV0ZWRWYWx1ZShvcHRzKTtcbn07XG5cbmNvbXB1dGVkLnN0cnVjdCA9IGNvbXB1dGVkU3RydWN0RGVjb3JhdG9yO1xudmFyIElEZXJpdmF0aW9uU3RhdGU7XG5cbihmdW5jdGlvbiAoSURlcml2YXRpb25TdGF0ZSkge1xuICAvLyBiZWZvcmUgYmVpbmcgcnVuIG9yIChvdXRzaWRlIGJhdGNoIGFuZCBub3QgYmVpbmcgb2JzZXJ2ZWQpXG4gIC8vIGF0IHRoaXMgcG9pbnQgZGVyaXZhdGlvbiBpcyBub3QgaG9sZGluZyBhbnkgZGF0YSBhYm91dCBkZXBlbmRlbmN5IHRyZWVcbiAgSURlcml2YXRpb25TdGF0ZVtJRGVyaXZhdGlvblN0YXRlW1wiTk9UX1RSQUNLSU5HXCJdID0gLTFdID0gXCJOT1RfVFJBQ0tJTkdcIjsgLy8gbm8gc2hhbGxvdyBkZXBlbmRlbmN5IGNoYW5nZWQgc2luY2UgbGFzdCBjb21wdXRhdGlvblxuICAvLyB3b24ndCByZWNhbGN1bGF0ZSBkZXJpdmF0aW9uXG4gIC8vIHRoaXMgaXMgd2hhdCBtYWtlcyBtb2J4IGZhc3RcblxuICBJRGVyaXZhdGlvblN0YXRlW0lEZXJpdmF0aW9uU3RhdGVbXCJVUF9UT19EQVRFXCJdID0gMF0gPSBcIlVQX1RPX0RBVEVcIjsgLy8gc29tZSBkZWVwIGRlcGVuZGVuY3kgY2hhbmdlZCwgYnV0IGRvbid0IGtub3cgaWYgc2hhbGxvdyBkZXBlbmRlbmN5IGNoYW5nZWRcbiAgLy8gd2lsbCByZXF1aXJlIHRvIGNoZWNrIGZpcnN0IGlmIFVQX1RPX0RBVEUgb3IgUE9TU0lCTFlfU1RBTEVcbiAgLy8gY3VycmVudGx5IG9ubHkgQ29tcHV0ZWRWYWx1ZSB3aWxsIHByb3BhZ2F0ZSBQT1NTSUJMWV9TVEFMRVxuICAvL1xuICAvLyBoYXZpbmcgdGhpcyBzdGF0ZSBpcyBzZWNvbmQgYmlnIG9wdGltaXphdGlvbjpcbiAgLy8gZG9uJ3QgaGF2ZSB0byByZWNvbXB1dGUgb24gZXZlcnkgZGVwZW5kZW5jeSBjaGFuZ2UsIGJ1dCBvbmx5IHdoZW4gaXQncyBuZWVkZWRcblxuICBJRGVyaXZhdGlvblN0YXRlW0lEZXJpdmF0aW9uU3RhdGVbXCJQT1NTSUJMWV9TVEFMRVwiXSA9IDFdID0gXCJQT1NTSUJMWV9TVEFMRVwiOyAvLyBBIHNoYWxsb3cgZGVwZW5kZW5jeSBoYXMgY2hhbmdlZCBzaW5jZSBsYXN0IGNvbXB1dGF0aW9uIGFuZCB0aGUgZGVyaXZhdGlvblxuICAvLyB3aWxsIG5lZWQgdG8gcmVjb21wdXRlIHdoZW4gaXQncyBuZWVkZWQgbmV4dC5cblxuICBJRGVyaXZhdGlvblN0YXRlW0lEZXJpdmF0aW9uU3RhdGVbXCJTVEFMRVwiXSA9IDJdID0gXCJTVEFMRVwiO1xufSkoSURlcml2YXRpb25TdGF0ZSB8fCAoSURlcml2YXRpb25TdGF0ZSA9IHt9KSk7XG5cbnZhciBUcmFjZU1vZGU7XG5cbihmdW5jdGlvbiAoVHJhY2VNb2RlKSB7XG4gIFRyYWNlTW9kZVtUcmFjZU1vZGVbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgVHJhY2VNb2RlW1RyYWNlTW9kZVtcIkxPR1wiXSA9IDFdID0gXCJMT0dcIjtcbiAgVHJhY2VNb2RlW1RyYWNlTW9kZVtcIkJSRUFLXCJdID0gMl0gPSBcIkJSRUFLXCI7XG59KShUcmFjZU1vZGUgfHwgKFRyYWNlTW9kZSA9IHt9KSk7XG5cbnZhciBDYXVnaHRFeGNlcHRpb24gPVxuLyoqIEBjbGFzcyAqL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDYXVnaHRFeGNlcHRpb24oY2F1c2UpIHtcbiAgICB0aGlzLmNhdXNlID0gY2F1c2U7IC8vIEVtcHR5XG4gIH1cblxuICByZXR1cm4gQ2F1Z2h0RXhjZXB0aW9uO1xufSgpO1xuXG5mdW5jdGlvbiBpc0NhdWdodEV4Y2VwdGlvbihlKSB7XG4gIHJldHVybiBlIGluc3RhbmNlb2YgQ2F1Z2h0RXhjZXB0aW9uO1xufVxuLyoqXHJcbiAqIEZpbmRzIG91dCB3aGV0aGVyIGFueSBkZXBlbmRlbmN5IG9mIHRoZSBkZXJpdmF0aW9uIGhhcyBhY3R1YWxseSBjaGFuZ2VkLlxyXG4gKiBJZiBkZXBlbmRlbmNpZXNTdGF0ZSBpcyAxIHRoZW4gaXQgd2lsbCByZWNhbGN1bGF0ZSBkZXBlbmRlbmNpZXMsXHJcbiAqIGlmIGFueSBkZXBlbmRlbmN5IGNoYW5nZWQgaXQgd2lsbCBwcm9wYWdhdGUgaXQgYnkgY2hhbmdpbmcgZGVwZW5kZW5jaWVzU3RhdGUgdG8gMi5cclxuICpcclxuICogQnkgaXRlcmF0aW5nIG92ZXIgdGhlIGRlcGVuZGVuY2llcyBpbiB0aGUgc2FtZSBvcmRlciB0aGF0IHRoZXkgd2VyZSByZXBvcnRlZCBhbmRcclxuICogc3RvcHBpbmcgb24gdGhlIGZpcnN0IGNoYW5nZSwgYWxsIHRoZSByZWNhbGN1bGF0aW9ucyBhcmUgb25seSBjYWxsZWQgZm9yIENvbXB1dGVkVmFsdWVzXHJcbiAqIHRoYXQgd2lsbCBiZSB0cmFja2VkIGJ5IGRlcml2YXRpb24uIFRoYXQgaXMgYmVjYXVzZSB3ZSBhc3N1bWUgdGhhdCBpZiB0aGUgZmlyc3QgeFxyXG4gKiBkZXBlbmRlbmNpZXMgb2YgdGhlIGRlcml2YXRpb24gZG9lc24ndCBjaGFuZ2UgdGhlbiB0aGUgZGVyaXZhdGlvbiBzaG91bGQgcnVuIHRoZSBzYW1lIHdheVxyXG4gKiB1cCB1bnRpbCBhY2Nlc3NpbmcgeC10aCBkZXBlbmRlbmN5LlxyXG4gKi9cblxuXG5mdW5jdGlvbiBzaG91bGRDb21wdXRlKGRlcml2YXRpb24pIHtcbiAgc3dpdGNoIChkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlKSB7XG4gICAgY2FzZSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEU6XG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBjYXNlIElEZXJpdmF0aW9uU3RhdGUuTk9UX1RSQUNLSU5HOlxuICAgIGNhc2UgSURlcml2YXRpb25TdGF0ZS5TVEFMRTpcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSBJRGVyaXZhdGlvblN0YXRlLlBPU1NJQkxZX1NUQUxFOlxuICAgICAge1xuICAgICAgICAvLyBzdGF0ZSBwcm9wYWdhdGlvbiBjYW4gb2NjdXIgb3V0c2lkZSBvZiBhY3Rpb24vcmVhY3RpdmUgY29udGV4dCAjMjE5NVxuICAgICAgICB2YXIgcHJldkFsbG93U3RhdGVSZWFkcyA9IGFsbG93U3RhdGVSZWFkc1N0YXJ0KHRydWUpO1xuICAgICAgICB2YXIgcHJldlVudHJhY2tlZCA9IHVudHJhY2tlZFN0YXJ0KCk7IC8vIG5vIG5lZWQgZm9yIHRob3NlIGNvbXB1dGVkcyB0byBiZSByZXBvcnRlZCwgdGhleSB3aWxsIGJlIHBpY2tlZCB1cCBpbiB0cmFja0Rlcml2ZWRGdW5jdGlvbi5cblxuICAgICAgICB2YXIgb2JzID0gZGVyaXZhdGlvbi5vYnNlcnZpbmcsXG4gICAgICAgICAgICBsID0gb2JzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHZhciBvYmogPSBvYnNbaV07XG5cbiAgICAgICAgICBpZiAoaXNDb21wdXRlZFZhbHVlKG9iaikpIHtcbiAgICAgICAgICAgIGlmIChnbG9iYWxTdGF0ZS5kaXNhYmxlRXJyb3JCb3VuZGFyaWVzKSB7XG4gICAgICAgICAgICAgIG9iai5nZXQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb2JqLmdldCgpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgYXJlIG5vdCBpbnRlcmVzdGVkIGluIHRoZSB2YWx1ZSAqb3IqIGV4Y2VwdGlvbiBhdCB0aGlzIG1vbWVudCwgYnV0IGlmIHRoZXJlIGlzIG9uZSwgbm90aWZ5IGFsbFxuICAgICAgICAgICAgICAgIHVudHJhY2tlZEVuZChwcmV2VW50cmFja2VkKTtcbiAgICAgICAgICAgICAgICBhbGxvd1N0YXRlUmVhZHNFbmQocHJldkFsbG93U3RhdGVSZWFkcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gaWYgQ29tcHV0ZWRWYWx1ZSBgb2JqYCBhY3R1YWxseSBjaGFuZ2VkIGl0IHdpbGwgYmUgY29tcHV0ZWQgYW5kIHByb3BhZ2F0ZWQgdG8gaXRzIG9ic2VydmVycy5cbiAgICAgICAgICAgIC8vIGFuZCBgZGVyaXZhdGlvbmAgaXMgYW4gb2JzZXJ2ZXIgb2YgYG9iamBcbiAgICAgICAgICAgIC8vIGludmFyaWFudFNob3VsZENvbXB1dGUoZGVyaXZhdGlvbilcblxuXG4gICAgICAgICAgICBpZiAoZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZSA9PT0gSURlcml2YXRpb25TdGF0ZS5TVEFMRSkge1xuICAgICAgICAgICAgICB1bnRyYWNrZWRFbmQocHJldlVudHJhY2tlZCk7XG4gICAgICAgICAgICAgIGFsbG93U3RhdGVSZWFkc0VuZChwcmV2QWxsb3dTdGF0ZVJlYWRzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2hhbmdlRGVwZW5kZW5jaWVzU3RhdGVUbzAoZGVyaXZhdGlvbik7XG4gICAgICAgIHVudHJhY2tlZEVuZChwcmV2VW50cmFja2VkKTtcbiAgICAgICAgYWxsb3dTdGF0ZVJlYWRzRW5kKHByZXZBbGxvd1N0YXRlUmVhZHMpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gIH1cbn0gLy8gZnVuY3Rpb24gaW52YXJpYW50U2hvdWxkQ29tcHV0ZShkZXJpdmF0aW9uOiBJRGVyaXZhdGlvbikge1xuLy8gICAgIGNvbnN0IG5ld0RlcFN0YXRlID0gKGRlcml2YXRpb24gYXMgYW55KS5kZXBlbmRlbmNpZXNTdGF0ZVxuLy8gICAgIGlmIChcbi8vICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiICYmXG4vLyAgICAgICAgIChuZXdEZXBTdGF0ZSA9PT0gSURlcml2YXRpb25TdGF0ZS5QT1NTSUJMWV9TVEFMRSB8fFxuLy8gICAgICAgICAgICAgbmV3RGVwU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuTk9UX1RSQUNLSU5HKVxuLy8gICAgIClcbi8vICAgICAgICAgZmFpbChcIklsbGVnYWwgZGVwZW5kZW5jeSBzdGF0ZVwiKVxuLy8gfVxuXG5cbmZ1bmN0aW9uIGlzQ29tcHV0aW5nRGVyaXZhdGlvbigpIHtcbiAgcmV0dXJuIGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbiAhPT0gbnVsbDsgLy8gZmlsdGVyIG91dCBhY3Rpb25zIGluc2lkZSBjb21wdXRhdGlvbnNcbn1cblxuZnVuY3Rpb24gY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQoYXRvbSkge1xuICB2YXIgaGFzT2JzZXJ2ZXJzID0gYXRvbS5vYnNlcnZlcnMuc2l6ZSA+IDA7IC8vIFNob3VsZCBuZXZlciBiZSBwb3NzaWJsZSB0byBjaGFuZ2UgYW4gb2JzZXJ2ZWQgb2JzZXJ2YWJsZSBmcm9tIGluc2lkZSBjb21wdXRlZCwgc2VlICM3OThcblxuICBpZiAoZ2xvYmFsU3RhdGUuY29tcHV0YXRpb25EZXB0aCA+IDAgJiYgaGFzT2JzZXJ2ZXJzKSBmYWlsKCB0cnVlICYmIFwiQ29tcHV0ZWQgdmFsdWVzIGFyZSBub3QgYWxsb3dlZCB0byBjYXVzZSBzaWRlIGVmZmVjdHMgYnkgY2hhbmdpbmcgb2JzZXJ2YWJsZXMgdGhhdCBhcmUgYWxyZWFkeSBiZWluZyBvYnNlcnZlZC4gVHJpZWQgdG8gbW9kaWZ5OiBcIiArIGF0b20ubmFtZSk7IC8vIFNob3VsZCBub3QgYmUgcG9zc2libGUgdG8gY2hhbmdlIG9ic2VydmVkIHN0YXRlIG91dHNpZGUgc3RyaWN0IG1vZGUsIGV4Y2VwdCBkdXJpbmcgaW5pdGlhbGl6YXRpb24sIHNlZSAjNTYzXG5cbiAgaWYgKCFnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlQ2hhbmdlcyAmJiAoaGFzT2JzZXJ2ZXJzIHx8IGdsb2JhbFN0YXRlLmVuZm9yY2VBY3Rpb25zID09PSBcInN0cmljdFwiKSkgZmFpbCggdHJ1ZSAmJiAoZ2xvYmFsU3RhdGUuZW5mb3JjZUFjdGlvbnMgPyBcIlNpbmNlIHN0cmljdC1tb2RlIGlzIGVuYWJsZWQsIGNoYW5naW5nIG9ic2VydmVkIG9ic2VydmFibGUgdmFsdWVzIG91dHNpZGUgYWN0aW9ucyBpcyBub3QgYWxsb3dlZC4gUGxlYXNlIHdyYXAgdGhlIGNvZGUgaW4gYW4gYGFjdGlvbmAgaWYgdGhpcyBjaGFuZ2UgaXMgaW50ZW5kZWQuIFRyaWVkIHRvIG1vZGlmeTogXCIgOiBcIlNpZGUgZWZmZWN0cyBsaWtlIGNoYW5naW5nIHN0YXRlIGFyZSBub3QgYWxsb3dlZCBhdCB0aGlzIHBvaW50LiBBcmUgeW91IHRyeWluZyB0byBtb2RpZnkgc3RhdGUgZnJvbSwgZm9yIGV4YW1wbGUsIHRoZSByZW5kZXIgZnVuY3Rpb24gb2YgYSBSZWFjdCBjb21wb25lbnQ/IFRyaWVkIHRvIG1vZGlmeTogXCIpICsgYXRvbS5uYW1lKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tJZlN0YXRlUmVhZHNBcmVBbGxvd2VkKG9ic2VydmFibGUpIHtcbiAgaWYgKCB0cnVlICYmICFnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlUmVhZHMgJiYgZ2xvYmFsU3RhdGUub2JzZXJ2YWJsZVJlcXVpcmVzUmVhY3Rpb24pIHtcbiAgICBjb25zb2xlLndhcm4oXCJbbW9ieF0gT2JzZXJ2YWJsZSBcIiArIG9ic2VydmFibGUubmFtZSArIFwiIGJlaW5nIHJlYWQgb3V0c2lkZSBhIHJlYWN0aXZlIGNvbnRleHRcIik7XG4gIH1cbn1cbi8qKlxyXG4gKiBFeGVjdXRlcyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gYGZgIGFuZCB0cmFja3Mgd2hpY2ggb2JzZXJ2YWJsZXMgYXJlIGJlaW5nIGFjY2Vzc2VkLlxyXG4gKiBUaGUgdHJhY2tpbmcgaW5mb3JtYXRpb24gaXMgc3RvcmVkIG9uIHRoZSBgZGVyaXZhdGlvbmAgb2JqZWN0IGFuZCB0aGUgZGVyaXZhdGlvbiBpcyByZWdpc3RlcmVkXHJcbiAqIGFzIG9ic2VydmVyIG9mIGFueSBvZiB0aGUgYWNjZXNzZWQgb2JzZXJ2YWJsZXMuXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIHRyYWNrRGVyaXZlZEZ1bmN0aW9uKGRlcml2YXRpb24sIGYsIGNvbnRleHQpIHtcbiAgdmFyIHByZXZBbGxvd1N0YXRlUmVhZHMgPSBhbGxvd1N0YXRlUmVhZHNTdGFydCh0cnVlKTsgLy8gcHJlIGFsbG9jYXRlIGFycmF5IGFsbG9jYXRpb24gKyByb29tIGZvciB2YXJpYXRpb24gaW4gZGVwc1xuICAvLyBhcnJheSB3aWxsIGJlIHRyaW1tZWQgYnkgYmluZERlcGVuZGVuY2llc1xuXG4gIGNoYW5nZURlcGVuZGVuY2llc1N0YXRlVG8wKGRlcml2YXRpb24pO1xuICBkZXJpdmF0aW9uLm5ld09ic2VydmluZyA9IG5ldyBBcnJheShkZXJpdmF0aW9uLm9ic2VydmluZy5sZW5ndGggKyAxMDApO1xuICBkZXJpdmF0aW9uLnVuYm91bmREZXBzQ291bnQgPSAwO1xuICBkZXJpdmF0aW9uLnJ1bklkID0gKytnbG9iYWxTdGF0ZS5ydW5JZDtcbiAgdmFyIHByZXZUcmFja2luZyA9IGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbjtcbiAgZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uID0gZGVyaXZhdGlvbjtcbiAgdmFyIHJlc3VsdDtcblxuICBpZiAoZ2xvYmFsU3RhdGUuZGlzYWJsZUVycm9yQm91bmRhcmllcyA9PT0gdHJ1ZSkge1xuICAgIHJlc3VsdCA9IGYuY2FsbChjb250ZXh0KTtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gZi5jYWxsKGNvbnRleHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlc3VsdCA9IG5ldyBDYXVnaHRFeGNlcHRpb24oZSk7XG4gICAgfVxuICB9XG5cbiAgZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uID0gcHJldlRyYWNraW5nO1xuICBiaW5kRGVwZW5kZW5jaWVzKGRlcml2YXRpb24pO1xuICB3YXJuQWJvdXREZXJpdmF0aW9uV2l0aG91dERlcGVuZGVuY2llcyhkZXJpdmF0aW9uKTtcbiAgYWxsb3dTdGF0ZVJlYWRzRW5kKHByZXZBbGxvd1N0YXRlUmVhZHMpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiB3YXJuQWJvdXREZXJpdmF0aW9uV2l0aG91dERlcGVuZGVuY2llcyhkZXJpdmF0aW9uKSB7XG4gIGlmIChmYWxzZSkge31cbiAgaWYgKGRlcml2YXRpb24ub2JzZXJ2aW5nLmxlbmd0aCAhPT0gMCkgcmV0dXJuO1xuXG4gIGlmIChnbG9iYWxTdGF0ZS5yZWFjdGlvblJlcXVpcmVzT2JzZXJ2YWJsZSB8fCBkZXJpdmF0aW9uLnJlcXVpcmVzT2JzZXJ2YWJsZSkge1xuICAgIGNvbnNvbGUud2FybihcIlttb2J4XSBEZXJpdmF0aW9uIFwiICsgZGVyaXZhdGlvbi5uYW1lICsgXCIgaXMgY3JlYXRlZC91cGRhdGVkIHdpdGhvdXQgcmVhZGluZyBhbnkgb2JzZXJ2YWJsZSB2YWx1ZVwiKTtcbiAgfVxufVxuLyoqXHJcbiAqIGRpZmZzIG5ld09ic2VydmluZyB3aXRoIG9ic2VydmluZy5cclxuICogdXBkYXRlIG9ic2VydmluZyB0byBiZSBuZXdPYnNlcnZpbmcgd2l0aCB1bmlxdWUgb2JzZXJ2YWJsZXNcclxuICogbm90aWZ5IG9ic2VydmVycyB0aGF0IGJlY29tZSBvYnNlcnZlZC91bm9ic2VydmVkXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGJpbmREZXBlbmRlbmNpZXMoZGVyaXZhdGlvbikge1xuICAvLyBpbnZhcmlhbnQoZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZSAhPT0gSURlcml2YXRpb25TdGF0ZS5OT1RfVFJBQ0tJTkcsIFwiSU5URVJOQUwgRVJST1IgYmluZERlcGVuZGVuY2llcyBleHBlY3RzIGRlcml2YXRpb24uZGVwZW5kZW5jaWVzU3RhdGUgIT09IC0xXCIpO1xuICB2YXIgcHJldk9ic2VydmluZyA9IGRlcml2YXRpb24ub2JzZXJ2aW5nO1xuICB2YXIgb2JzZXJ2aW5nID0gZGVyaXZhdGlvbi5vYnNlcnZpbmcgPSBkZXJpdmF0aW9uLm5ld09ic2VydmluZztcbiAgdmFyIGxvd2VzdE5ld09ic2VydmluZ0Rlcml2YXRpb25TdGF0ZSA9IElEZXJpdmF0aW9uU3RhdGUuVVBfVE9fREFURTsgLy8gR28gdGhyb3VnaCBhbGwgbmV3IG9ic2VydmFibGVzIGFuZCBjaGVjayBkaWZmVmFsdWU6ICh0aGlzIGxpc3QgY2FuIGNvbnRhaW4gZHVwbGljYXRlcyk6XG4gIC8vICAgMDogZmlyc3Qgb2NjdXJyZW5jZSwgY2hhbmdlIHRvIDEgYW5kIGtlZXAgaXRcbiAgLy8gICAxOiBleHRyYSBvY2N1cnJlbmNlLCBkcm9wIGl0XG5cbiAgdmFyIGkwID0gMCxcbiAgICAgIGwgPSBkZXJpdmF0aW9uLnVuYm91bmREZXBzQ291bnQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgZGVwID0gb2JzZXJ2aW5nW2ldO1xuXG4gICAgaWYgKGRlcC5kaWZmVmFsdWUgPT09IDApIHtcbiAgICAgIGRlcC5kaWZmVmFsdWUgPSAxO1xuICAgICAgaWYgKGkwICE9PSBpKSBvYnNlcnZpbmdbaTBdID0gZGVwO1xuICAgICAgaTArKztcbiAgICB9IC8vIFVwY2FzdCBpcyAnc2FmZScgaGVyZSwgYmVjYXVzZSBpZiBkZXAgaXMgSU9ic2VydmFibGUsIGBkZXBlbmRlbmNpZXNTdGF0ZWAgd2lsbCBiZSB1bmRlZmluZWQsXG4gICAgLy8gbm90IGhpdHRpbmcgdGhlIGNvbmRpdGlvblxuXG5cbiAgICBpZiAoZGVwLmRlcGVuZGVuY2llc1N0YXRlID4gbG93ZXN0TmV3T2JzZXJ2aW5nRGVyaXZhdGlvblN0YXRlKSB7XG4gICAgICBsb3dlc3ROZXdPYnNlcnZpbmdEZXJpdmF0aW9uU3RhdGUgPSBkZXAuZGVwZW5kZW5jaWVzU3RhdGU7XG4gICAgfVxuICB9XG5cbiAgb2JzZXJ2aW5nLmxlbmd0aCA9IGkwO1xuICBkZXJpdmF0aW9uLm5ld09ic2VydmluZyA9IG51bGw7IC8vIG5ld09ic2VydmluZyBzaG91bGRuJ3QgYmUgbmVlZGVkIG91dHNpZGUgdHJhY2tpbmcgKHN0YXRlbWVudCBtb3ZlZCBkb3duIHRvIHdvcmsgYXJvdW5kIEZGIGJ1Zywgc2VlICM2MTQpXG4gIC8vIEdvIHRocm91Z2ggYWxsIG9sZCBvYnNlcnZhYmxlcyBhbmQgY2hlY2sgZGlmZlZhbHVlOiAoaXQgaXMgdW5pcXVlIGFmdGVyIGxhc3QgYmluZERlcGVuZGVuY2llcylcbiAgLy8gICAwOiBpdCdzIG5vdCBpbiBuZXcgb2JzZXJ2YWJsZXMsIHVub2JzZXJ2ZSBpdFxuICAvLyAgIDE6IGl0IGtlZXBzIGJlaW5nIG9ic2VydmVkLCBkb24ndCB3YW50IHRvIG5vdGlmeSBpdC4gY2hhbmdlIHRvIDBcblxuICBsID0gcHJldk9ic2VydmluZy5sZW5ndGg7XG5cbiAgd2hpbGUgKGwtLSkge1xuICAgIHZhciBkZXAgPSBwcmV2T2JzZXJ2aW5nW2xdO1xuXG4gICAgaWYgKGRlcC5kaWZmVmFsdWUgPT09IDApIHtcbiAgICAgIHJlbW92ZU9ic2VydmVyKGRlcCwgZGVyaXZhdGlvbik7XG4gICAgfVxuXG4gICAgZGVwLmRpZmZWYWx1ZSA9IDA7XG4gIH0gLy8gR28gdGhyb3VnaCBhbGwgbmV3IG9ic2VydmFibGVzIGFuZCBjaGVjayBkaWZmVmFsdWU6IChub3cgaXQgc2hvdWxkIGJlIHVuaXF1ZSlcbiAgLy8gICAwOiBpdCB3YXMgc2V0IHRvIDAgaW4gbGFzdCBsb29wLiBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nLlxuICAvLyAgIDE6IGl0IHdhc24ndCBvYnNlcnZlZCwgbGV0J3Mgb2JzZXJ2ZSBpdC4gc2V0IGJhY2sgdG8gMFxuXG5cbiAgd2hpbGUgKGkwLS0pIHtcbiAgICB2YXIgZGVwID0gb2JzZXJ2aW5nW2kwXTtcblxuICAgIGlmIChkZXAuZGlmZlZhbHVlID09PSAxKSB7XG4gICAgICBkZXAuZGlmZlZhbHVlID0gMDtcbiAgICAgIGFkZE9ic2VydmVyKGRlcCwgZGVyaXZhdGlvbik7XG4gICAgfVxuICB9IC8vIFNvbWUgbmV3IG9ic2VydmVkIGRlcml2YXRpb25zIG1heSBiZWNvbWUgc3RhbGUgZHVyaW5nIHRoaXMgZGVyaXZhdGlvbiBjb21wdXRhdGlvblxuICAvLyBzbyB0aGV5IGhhdmUgaGFkIG5vIGNoYW5jZSB0byBwcm9wYWdhdGUgc3RhbGVuZXNzICgjOTE2KVxuXG5cbiAgaWYgKGxvd2VzdE5ld09ic2VydmluZ0Rlcml2YXRpb25TdGF0ZSAhPT0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFKSB7XG4gICAgZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZSA9IGxvd2VzdE5ld09ic2VydmluZ0Rlcml2YXRpb25TdGF0ZTtcbiAgICBkZXJpdmF0aW9uLm9uQmVjb21lU3RhbGUoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjbGVhck9ic2VydmluZyhkZXJpdmF0aW9uKSB7XG4gIC8vIGludmFyaWFudChnbG9iYWxTdGF0ZS5pbkJhdGNoID4gMCwgXCJJTlRFUk5BTCBFUlJPUiBjbGVhck9ic2VydmluZyBzaG91bGQgYmUgY2FsbGVkIG9ubHkgaW5zaWRlIGJhdGNoXCIpO1xuICB2YXIgb2JzID0gZGVyaXZhdGlvbi5vYnNlcnZpbmc7XG4gIGRlcml2YXRpb24ub2JzZXJ2aW5nID0gW107XG4gIHZhciBpID0gb2JzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSByZW1vdmVPYnNlcnZlcihvYnNbaV0sIGRlcml2YXRpb24pO1xuXG4gIGRlcml2YXRpb24uZGVwZW5kZW5jaWVzU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLk5PVF9UUkFDS0lORztcbn1cblxuZnVuY3Rpb24gdW50cmFja2VkKGFjdGlvbikge1xuICB2YXIgcHJldiA9IHVudHJhY2tlZFN0YXJ0KCk7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gYWN0aW9uKCk7XG4gIH0gZmluYWxseSB7XG4gICAgdW50cmFja2VkRW5kKHByZXYpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVudHJhY2tlZFN0YXJ0KCkge1xuICB2YXIgcHJldiA9IGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbjtcbiAgZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uID0gbnVsbDtcbiAgcmV0dXJuIHByZXY7XG59XG5cbmZ1bmN0aW9uIHVudHJhY2tlZEVuZChwcmV2KSB7XG4gIGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbiA9IHByZXY7XG59XG5cbmZ1bmN0aW9uIGFsbG93U3RhdGVSZWFkc1N0YXJ0KGFsbG93U3RhdGVSZWFkcykge1xuICB2YXIgcHJldiA9IGdsb2JhbFN0YXRlLmFsbG93U3RhdGVSZWFkcztcbiAgZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZVJlYWRzID0gYWxsb3dTdGF0ZVJlYWRzO1xuICByZXR1cm4gcHJldjtcbn1cblxuZnVuY3Rpb24gYWxsb3dTdGF0ZVJlYWRzRW5kKHByZXYpIHtcbiAgZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZVJlYWRzID0gcHJldjtcbn1cbi8qKlxyXG4gKiBuZWVkZWQgdG8ga2VlcCBgbG93ZXN0T2JzZXJ2ZXJTdGF0ZWAgY29ycmVjdC4gd2hlbiBjaGFuZ2luZyBmcm9tICgyIG9yIDEpIHRvIDBcclxuICpcclxuICovXG5cblxuZnVuY3Rpb24gY2hhbmdlRGVwZW5kZW5jaWVzU3RhdGVUbzAoZGVyaXZhdGlvbikge1xuICBpZiAoZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZSA9PT0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFKSByZXR1cm47XG4gIGRlcml2YXRpb24uZGVwZW5kZW5jaWVzU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEU7XG4gIHZhciBvYnMgPSBkZXJpdmF0aW9uLm9ic2VydmluZztcbiAgdmFyIGkgPSBvYnMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIG9ic1tpXS5sb3dlc3RPYnNlcnZlclN0YXRlID0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFO1xufSAvLyB3ZSBkb24ndCB1c2UgZ2xvYmFsU3RhdGUgZm9yIHRoZXNlIGluIG9yZGVyIHRvIGF2b2lkIHBvc3NpYmxlIGlzc3VlcyB3aXRoIG11bHRpcGxlXG4vLyBtb2J4IHZlcnNpb25zXG5cblxudmFyIGN1cnJlbnRBY3Rpb25JZCA9IDA7XG52YXIgbmV4dEFjdGlvbklkID0gMTtcbnZhciBmdW5jdGlvbk5hbWVEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmdW5jdGlvbiAoKSB7fSwgXCJuYW1lXCIpO1xudmFyIGlzRnVuY3Rpb25OYW1lQ29uZmlndXJhYmxlID0gZnVuY3Rpb25OYW1lRGVzY3JpcHRvciAmJiBmdW5jdGlvbk5hbWVEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZTtcblxuZnVuY3Rpb24gY3JlYXRlQWN0aW9uKGFjdGlvbk5hbWUsIGZuLCByZWYpIHtcbiAgaWYgKHRydWUpIHtcbiAgICBpbnZhcmlhbnQodHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIsIFwiYGFjdGlvbmAgY2FuIG9ubHkgYmUgaW52b2tlZCBvbiBmdW5jdGlvbnNcIik7XG4gICAgaWYgKHR5cGVvZiBhY3Rpb25OYW1lICE9PSBcInN0cmluZ1wiIHx8ICFhY3Rpb25OYW1lKSBmYWlsKFwiYWN0aW9ucyBzaG91bGQgaGF2ZSB2YWxpZCBuYW1lcywgZ290OiAnXCIgKyBhY3Rpb25OYW1lICsgXCInXCIpO1xuICB9XG5cbiAgdmFyIHJlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZXhlY3V0ZUFjdGlvbihhY3Rpb25OYW1lLCBmbiwgcmVmIHx8IHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgcmVzLmlzTW9ieEFjdGlvbiA9IHRydWU7XG5cbiAgaWYgKHRydWUpIHtcbiAgICBpZiAoaXNGdW5jdGlvbk5hbWVDb25maWd1cmFibGUpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXMsIFwibmFtZVwiLCB7XG4gICAgICAgIHZhbHVlOiBhY3Rpb25OYW1lXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlQWN0aW9uKGFjdGlvbk5hbWUsIGZuLCBzY29wZSwgYXJncykge1xuICB2YXIgcnVuSW5mbyA9IF9zdGFydEFjdGlvbihhY3Rpb25OYW1lLCBzY29wZSwgYXJncyk7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4uYXBwbHkoc2NvcGUsIGFyZ3MpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBydW5JbmZvLmVycm9yID0gZXJyO1xuICAgIHRocm93IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICBfZW5kQWN0aW9uKHJ1bkluZm8pO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9zdGFydEFjdGlvbihhY3Rpb25OYW1lLCBzY29wZSwgYXJncykge1xuICB2YXIgbm90aWZ5U3B5ID0gaXNTcHlFbmFibGVkKCkgJiYgISFhY3Rpb25OYW1lO1xuICB2YXIgc3RhcnRUaW1lID0gMDtcblxuICBpZiAobm90aWZ5U3B5ICYmIFwiZGV2ZWxvcG1lbnRcIiAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHZhciBsID0gYXJncyAmJiBhcmdzLmxlbmd0aCB8fCAwO1xuICAgIHZhciBmbGF0dGVuZEFyZ3MgPSBuZXcgQXJyYXkobCk7XG4gICAgaWYgKGwgPiAwKSBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykgZmxhdHRlbmRBcmdzW2ldID0gYXJnc1tpXTtcbiAgICBzcHlSZXBvcnRTdGFydCh7XG4gICAgICB0eXBlOiBcImFjdGlvblwiLFxuICAgICAgbmFtZTogYWN0aW9uTmFtZSxcbiAgICAgIG9iamVjdDogc2NvcGUsXG4gICAgICBhcmd1bWVudHM6IGZsYXR0ZW5kQXJnc1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHByZXZEZXJpdmF0aW9uID0gdW50cmFja2VkU3RhcnQoKTtcbiAgc3RhcnRCYXRjaCgpO1xuICB2YXIgcHJldkFsbG93U3RhdGVDaGFuZ2VzID0gYWxsb3dTdGF0ZUNoYW5nZXNTdGFydCh0cnVlKTtcbiAgdmFyIHByZXZBbGxvd1N0YXRlUmVhZHMgPSBhbGxvd1N0YXRlUmVhZHNTdGFydCh0cnVlKTtcbiAgdmFyIHJ1bkluZm8gPSB7XG4gICAgcHJldkRlcml2YXRpb246IHByZXZEZXJpdmF0aW9uLFxuICAgIHByZXZBbGxvd1N0YXRlQ2hhbmdlczogcHJldkFsbG93U3RhdGVDaGFuZ2VzLFxuICAgIHByZXZBbGxvd1N0YXRlUmVhZHM6IHByZXZBbGxvd1N0YXRlUmVhZHMsXG4gICAgbm90aWZ5U3B5OiBub3RpZnlTcHksXG4gICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsXG4gICAgYWN0aW9uSWQ6IG5leHRBY3Rpb25JZCsrLFxuICAgIHBhcmVudEFjdGlvbklkOiBjdXJyZW50QWN0aW9uSWRcbiAgfTtcbiAgY3VycmVudEFjdGlvbklkID0gcnVuSW5mby5hY3Rpb25JZDtcbiAgcmV0dXJuIHJ1bkluZm87XG59XG5cbmZ1bmN0aW9uIF9lbmRBY3Rpb24ocnVuSW5mbykge1xuICBpZiAoY3VycmVudEFjdGlvbklkICE9PSBydW5JbmZvLmFjdGlvbklkKSB7XG4gICAgZmFpbChcImludmFsaWQgYWN0aW9uIHN0YWNrLiBkaWQgeW91IGZvcmdldCB0byBmaW5pc2ggYW4gYWN0aW9uP1wiKTtcbiAgfVxuXG4gIGN1cnJlbnRBY3Rpb25JZCA9IHJ1bkluZm8ucGFyZW50QWN0aW9uSWQ7XG5cbiAgaWYgKHJ1bkluZm8uZXJyb3IgIT09IHVuZGVmaW5lZCkge1xuICAgIGdsb2JhbFN0YXRlLnN1cHByZXNzUmVhY3Rpb25FcnJvcnMgPSB0cnVlO1xuICB9XG5cbiAgYWxsb3dTdGF0ZUNoYW5nZXNFbmQocnVuSW5mby5wcmV2QWxsb3dTdGF0ZUNoYW5nZXMpO1xuICBhbGxvd1N0YXRlUmVhZHNFbmQocnVuSW5mby5wcmV2QWxsb3dTdGF0ZVJlYWRzKTtcbiAgZW5kQmF0Y2goKTtcbiAgdW50cmFja2VkRW5kKHJ1bkluZm8ucHJldkRlcml2YXRpb24pO1xuXG4gIGlmIChydW5JbmZvLm5vdGlmeVNweSAmJiBcImRldmVsb3BtZW50XCIgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgc3B5UmVwb3J0RW5kKHtcbiAgICAgIHRpbWU6IERhdGUubm93KCkgLSBydW5JbmZvLnN0YXJ0VGltZVxuICAgIH0pO1xuICB9XG5cbiAgZ2xvYmFsU3RhdGUuc3VwcHJlc3NSZWFjdGlvbkVycm9ycyA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhbGxvd1N0YXRlQ2hhbmdlcyhhbGxvd1N0YXRlQ2hhbmdlcywgZnVuYykge1xuICB2YXIgcHJldiA9IGFsbG93U3RhdGVDaGFuZ2VzU3RhcnQoYWxsb3dTdGF0ZUNoYW5nZXMpO1xuICB2YXIgcmVzO1xuXG4gIHRyeSB7XG4gICAgcmVzID0gZnVuYygpO1xuICB9IGZpbmFsbHkge1xuICAgIGFsbG93U3RhdGVDaGFuZ2VzRW5kKHByZXYpO1xuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gYWxsb3dTdGF0ZUNoYW5nZXNTdGFydChhbGxvd1N0YXRlQ2hhbmdlcykge1xuICB2YXIgcHJldiA9IGdsb2JhbFN0YXRlLmFsbG93U3RhdGVDaGFuZ2VzO1xuICBnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlQ2hhbmdlcyA9IGFsbG93U3RhdGVDaGFuZ2VzO1xuICByZXR1cm4gcHJldjtcbn1cblxuZnVuY3Rpb24gYWxsb3dTdGF0ZUNoYW5nZXNFbmQocHJldikge1xuICBnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlQ2hhbmdlcyA9IHByZXY7XG59XG5cbmZ1bmN0aW9uIGFsbG93U3RhdGVDaGFuZ2VzSW5zaWRlQ29tcHV0ZWQoZnVuYykge1xuICB2YXIgcHJldiA9IGdsb2JhbFN0YXRlLmNvbXB1dGF0aW9uRGVwdGg7XG4gIGdsb2JhbFN0YXRlLmNvbXB1dGF0aW9uRGVwdGggPSAwO1xuICB2YXIgcmVzO1xuXG4gIHRyeSB7XG4gICAgcmVzID0gZnVuYygpO1xuICB9IGZpbmFsbHkge1xuICAgIGdsb2JhbFN0YXRlLmNvbXB1dGF0aW9uRGVwdGggPSBwcmV2O1xuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIE9ic2VydmFibGVWYWx1ZSA9XG4vKiogQGNsYXNzICovXG5mdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhPYnNlcnZhYmxlVmFsdWUsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gT2JzZXJ2YWJsZVZhbHVlKHZhbHVlLCBlbmhhbmNlciwgbmFtZSwgbm90aWZ5U3B5LCBlcXVhbHMpIHtcbiAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7XG4gICAgICBuYW1lID0gXCJPYnNlcnZhYmxlVmFsdWVAXCIgKyBnZXROZXh0SWQoKTtcbiAgICB9XG5cbiAgICBpZiAobm90aWZ5U3B5ID09PSB2b2lkIDApIHtcbiAgICAgIG5vdGlmeVNweSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGVxdWFscyA9PT0gdm9pZCAwKSB7XG4gICAgICBlcXVhbHMgPSBjb21wYXJlci5kZWZhdWx0O1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG5hbWUpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5lbmhhbmNlciA9IGVuaGFuY2VyO1xuICAgIF90aGlzLm5hbWUgPSBuYW1lO1xuICAgIF90aGlzLmVxdWFscyA9IGVxdWFscztcbiAgICBfdGhpcy5oYXNVbnJlcG9ydGVkQ2hhbmdlID0gZmFsc2U7XG4gICAgX3RoaXMudmFsdWUgPSBlbmhhbmNlcih2YWx1ZSwgdW5kZWZpbmVkLCBuYW1lKTtcblxuICAgIGlmIChub3RpZnlTcHkgJiYgaXNTcHlFbmFibGVkKCkgJiYgXCJkZXZlbG9wbWVudFwiICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgLy8gb25seSBub3RpZnkgc3B5IGlmIHRoaXMgaXMgYSBzdGFuZC1hbG9uZSBvYnNlcnZhYmxlXG4gICAgICBzcHlSZXBvcnQoe1xuICAgICAgICB0eXBlOiBcImNyZWF0ZVwiLFxuICAgICAgICBuYW1lOiBfdGhpcy5uYW1lLFxuICAgICAgICBuZXdWYWx1ZTogXCJcIiArIF90aGlzLnZhbHVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBPYnNlcnZhYmxlVmFsdWUucHJvdG90eXBlLmRlaGFuY2VWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmRlaGFuY2VyICE9PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLmRlaGFuY2VyKHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZVZhbHVlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgIG5ld1ZhbHVlID0gdGhpcy5wcmVwYXJlTmV3VmFsdWUobmV3VmFsdWUpO1xuXG4gICAgaWYgKG5ld1ZhbHVlICE9PSBnbG9iYWxTdGF0ZS5VTkNIQU5HRUQpIHtcbiAgICAgIHZhciBub3RpZnlTcHkgPSBpc1NweUVuYWJsZWQoKTtcblxuICAgICAgaWYgKG5vdGlmeVNweSAmJiBcImRldmVsb3BtZW50XCIgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIHNweVJlcG9ydFN0YXJ0KHtcbiAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWUsXG4gICAgICAgICAgb2xkVmFsdWU6IG9sZFZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldE5ld1ZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgIGlmIChub3RpZnlTcHkgJiYgXCJkZXZlbG9wbWVudFwiICE9PSBcInByb2R1Y3Rpb25cIikgc3B5UmVwb3J0RW5kKCk7XG4gICAgfVxuICB9O1xuXG4gIE9ic2VydmFibGVWYWx1ZS5wcm90b3R5cGUucHJlcGFyZU5ld1ZhbHVlID0gZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQodGhpcyk7XG5cbiAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKHRoaXMpKSB7XG4gICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcbiAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgIH0pO1xuICAgICAgaWYgKCFjaGFuZ2UpIHJldHVybiBnbG9iYWxTdGF0ZS5VTkNIQU5HRUQ7XG4gICAgICBuZXdWYWx1ZSA9IGNoYW5nZS5uZXdWYWx1ZTtcbiAgICB9IC8vIGFwcGx5IG1vZGlmaWVyXG5cblxuICAgIG5ld1ZhbHVlID0gdGhpcy5lbmhhbmNlcihuZXdWYWx1ZSwgdGhpcy52YWx1ZSwgdGhpcy5uYW1lKTtcbiAgICByZXR1cm4gdGhpcy5lcXVhbHModGhpcy52YWx1ZSwgbmV3VmFsdWUpID8gZ2xvYmFsU3RhdGUuVU5DSEFOR0VEIDogbmV3VmFsdWU7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZVZhbHVlLnByb3RvdHlwZS5zZXROZXdWYWx1ZSA9IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIHRoaXMucmVwb3J0Q2hhbmdlZCgpO1xuXG4gICAgaWYgKGhhc0xpc3RlbmVycyh0aGlzKSkge1xuICAgICAgbm90aWZ5TGlzdGVuZXJzKHRoaXMsIHtcbiAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcbiAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWUsXG4gICAgICAgIG9sZFZhbHVlOiBvbGRWYWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIE9ic2VydmFibGVWYWx1ZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5kZWhhbmNlVmFsdWUodGhpcy52YWx1ZSk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZVZhbHVlLnByb3RvdHlwZS5pbnRlcmNlcHQgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgIHJldHVybiByZWdpc3RlckludGVyY2VwdG9yKHRoaXMsIGhhbmRsZXIpO1xuICB9O1xuXG4gIE9ic2VydmFibGVWYWx1ZS5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgaWYgKGZpcmVJbW1lZGlhdGVseSkgbGlzdGVuZXIoe1xuICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgdHlwZTogXCJ1cGRhdGVcIixcbiAgICAgIG5ld1ZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgb2xkVmFsdWU6IHVuZGVmaW5lZFxuICAgIH0pO1xuICAgIHJldHVybiByZWdpc3Rlckxpc3RlbmVyKHRoaXMsIGxpc3RlbmVyKTtcbiAgfTtcblxuICBPYnNlcnZhYmxlVmFsdWUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoKTtcbiAgfTtcblxuICBPYnNlcnZhYmxlVmFsdWUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWUgKyBcIltcIiArIHRoaXMudmFsdWUgKyBcIl1cIjtcbiAgfTtcblxuICBPYnNlcnZhYmxlVmFsdWUucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvUHJpbWl0aXZlKHRoaXMuZ2V0KCkpO1xuICB9O1xuXG4gIE9ic2VydmFibGVWYWx1ZS5wcm90b3R5cGVbU3ltYm9sLnRvUHJpbWl0aXZlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCk7XG4gIH07XG5cbiAgcmV0dXJuIE9ic2VydmFibGVWYWx1ZTtcbn0oQXRvbSk7XG5cbnZhciBpc09ic2VydmFibGVWYWx1ZSA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUoXCJPYnNlcnZhYmxlVmFsdWVcIiwgT2JzZXJ2YWJsZVZhbHVlKTtcbi8qKlxyXG4gKiBBIG5vZGUgaW4gdGhlIHN0YXRlIGRlcGVuZGVuY3kgcm9vdCB0aGF0IG9ic2VydmVzIG90aGVyIG5vZGVzLCBhbmQgY2FuIGJlIG9ic2VydmVkIGl0c2VsZi5cclxuICpcclxuICogQ29tcHV0ZWRWYWx1ZSB3aWxsIHJlbWVtYmVyIHRoZSByZXN1bHQgb2YgdGhlIGNvbXB1dGF0aW9uIGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGJhdGNoLCBvclxyXG4gKiB3aGlsZSBiZWluZyBvYnNlcnZlZC5cclxuICpcclxuICogRHVyaW5nIHRoaXMgdGltZSBpdCB3aWxsIHJlY29tcHV0ZSBvbmx5IHdoZW4gb25lIG9mIGl0cyBkaXJlY3QgZGVwZW5kZW5jaWVzIGNoYW5nZWQsXHJcbiAqIGJ1dCBvbmx5IHdoZW4gaXQgaXMgYmVpbmcgYWNjZXNzZWQgd2l0aCBgQ29tcHV0ZWRWYWx1ZS5nZXQoKWAuXHJcbiAqXHJcbiAqIEltcGxlbWVudGF0aW9uIGRlc2NyaXB0aW9uOlxyXG4gKiAxLiBGaXJzdCB0aW1lIGl0J3MgYmVpbmcgYWNjZXNzZWQgaXQgd2lsbCBjb21wdXRlIGFuZCByZW1lbWJlciByZXN1bHRcclxuICogICAgZ2l2ZSBiYWNrIHJlbWVtYmVyZWQgcmVzdWx0IHVudGlsIDIuIGhhcHBlbnNcclxuICogMi4gRmlyc3QgdGltZSBhbnkgZGVlcCBkZXBlbmRlbmN5IGNoYW5nZSwgcHJvcGFnYXRlIFBPU1NJQkxZX1NUQUxFIHRvIGFsbCBvYnNlcnZlcnMsIHdhaXQgZm9yIDMuXHJcbiAqIDMuIFdoZW4gaXQncyBiZWluZyBhY2Nlc3NlZCwgcmVjb21wdXRlIGlmIGFueSBzaGFsbG93IGRlcGVuZGVuY3kgY2hhbmdlZC5cclxuICogICAgaWYgcmVzdWx0IGNoYW5nZWQ6IHByb3BhZ2F0ZSBTVEFMRSB0byBhbGwgb2JzZXJ2ZXJzLCB0aGF0IHdlcmUgUE9TU0lCTFlfU1RBTEUgZnJvbSB0aGUgbGFzdCBzdGVwLlxyXG4gKiAgICBnbyB0byBzdGVwIDIuIGVpdGhlciB3YXlcclxuICpcclxuICogSWYgYXQgYW55IHBvaW50IGl0J3Mgb3V0c2lkZSBiYXRjaCBhbmQgaXQgaXNuJ3Qgb2JzZXJ2ZWQ6IHJlc2V0IGV2ZXJ5dGhpbmcgYW5kIGdvIHRvIDEuXHJcbiAqL1xuXG52YXIgQ29tcHV0ZWRWYWx1ZSA9XG4vKiogQGNsYXNzICovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIG5ldyBjb21wdXRlZCB2YWx1ZSBiYXNlZCBvbiBhIGZ1bmN0aW9uIGV4cHJlc3Npb24uXHJcbiAgICpcclxuICAgKiBUaGUgYG5hbWVgIHByb3BlcnR5IGlzIGZvciBkZWJ1ZyBwdXJwb3NlcyBvbmx5LlxyXG4gICAqXHJcbiAgICogVGhlIGBlcXVhbHNgIHByb3BlcnR5IHNwZWNpZmllcyB0aGUgY29tcGFyZXIgZnVuY3Rpb24gdG8gdXNlIHRvIGRldGVybWluZSBpZiBhIG5ld2x5IHByb2R1Y2VkXHJcbiAgICogdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBwcmV2aW91cyB2YWx1ZS4gVHdvIGNvbXBhcmVycyBhcmUgcHJvdmlkZWQgaW4gdGhlIGxpYnJhcnk7IGBkZWZhdWx0Q29tcGFyZXJgXHJcbiAgICogY29tcGFyZXMgYmFzZWQgb24gaWRlbnRpdHkgY29tcGFyaXNvbiAoPT09KSwgYW5kIGBzdHJ1Y3R1YWxDb21wYXJlcmAgZGVlcGx5IGNvbXBhcmVzIHRoZSBzdHJ1Y3R1cmUuXHJcbiAgICogU3RydWN0dXJhbCBjb21wYXJpc29uIGNhbiBiZSBjb252ZW5pZW50IGlmIHlvdSBhbHdheXMgcHJvZHVjZSBhIG5ldyBhZ2dyZWdhdGVkIG9iamVjdCBhbmRcclxuICAgKiBkb24ndCB3YW50IHRvIG5vdGlmeSBvYnNlcnZlcnMgaWYgaXQgaXMgc3RydWN0dXJhbGx5IHRoZSBzYW1lLlxyXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciB3b3JraW5nIHdpdGggdmVjdG9ycywgbW91c2UgY29vcmRpbmF0ZXMgZXRjLlxyXG4gICAqL1xuICBmdW5jdGlvbiBDb21wdXRlZFZhbHVlKG9wdGlvbnMpIHtcbiAgICB0aGlzLmRlcGVuZGVuY2llc1N0YXRlID0gSURlcml2YXRpb25TdGF0ZS5OT1RfVFJBQ0tJTkc7XG4gICAgdGhpcy5vYnNlcnZpbmcgPSBbXTsgLy8gbm9kZXMgd2UgYXJlIGxvb2tpbmcgYXQuIE91ciB2YWx1ZSBkZXBlbmRzIG9uIHRoZXNlIG5vZGVzXG5cbiAgICB0aGlzLm5ld09ic2VydmluZyA9IG51bGw7IC8vIGR1cmluZyB0cmFja2luZyBpdCdzIGFuIGFycmF5IHdpdGggbmV3IG9ic2VydmVkIG9ic2VydmVyc1xuXG4gICAgdGhpcy5pc0JlaW5nT2JzZXJ2ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmlzUGVuZGluZ1Vub2JzZXJ2YXRpb24gPSBmYWxzZTtcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLmRpZmZWYWx1ZSA9IDA7XG4gICAgdGhpcy5ydW5JZCA9IDA7XG4gICAgdGhpcy5sYXN0QWNjZXNzZWRCeSA9IDA7XG4gICAgdGhpcy5sb3dlc3RPYnNlcnZlclN0YXRlID0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFO1xuICAgIHRoaXMudW5ib3VuZERlcHNDb3VudCA9IDA7XG4gICAgdGhpcy5fX21hcGlkID0gXCIjXCIgKyBnZXROZXh0SWQoKTtcbiAgICB0aGlzLnZhbHVlID0gbmV3IENhdWdodEV4Y2VwdGlvbihudWxsKTtcbiAgICB0aGlzLmlzQ29tcHV0aW5nID0gZmFsc2U7IC8vIHRvIGNoZWNrIGZvciBjeWNsZXNcblxuICAgIHRoaXMuaXNSdW5uaW5nU2V0dGVyID0gZmFsc2U7XG4gICAgdGhpcy5pc1RyYWNpbmcgPSBUcmFjZU1vZGUuTk9ORTtcbiAgICBpbnZhcmlhbnQob3B0aW9ucy5nZXQsIFwibWlzc2luZyBvcHRpb24gZm9yIGNvbXB1dGVkOiBnZXRcIik7XG4gICAgdGhpcy5kZXJpdmF0aW9uID0gb3B0aW9ucy5nZXQ7XG4gICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lIHx8IFwiQ29tcHV0ZWRWYWx1ZUBcIiArIGdldE5leHRJZCgpO1xuICAgIGlmIChvcHRpb25zLnNldCkgdGhpcy5zZXR0ZXIgPSBjcmVhdGVBY3Rpb24odGhpcy5uYW1lICsgXCItc2V0dGVyXCIsIG9wdGlvbnMuc2V0KTtcbiAgICB0aGlzLmVxdWFscyA9IG9wdGlvbnMuZXF1YWxzIHx8IChvcHRpb25zLmNvbXBhcmVTdHJ1Y3R1cmFsIHx8IG9wdGlvbnMuc3RydWN0ID8gY29tcGFyZXIuc3RydWN0dXJhbCA6IGNvbXBhcmVyLmRlZmF1bHQpO1xuICAgIHRoaXMuc2NvcGUgPSBvcHRpb25zLmNvbnRleHQ7XG4gICAgdGhpcy5yZXF1aXJlc1JlYWN0aW9uID0gISFvcHRpb25zLnJlcXVpcmVzUmVhY3Rpb247XG4gICAgdGhpcy5rZWVwQWxpdmUgPSAhIW9wdGlvbnMua2VlcEFsaXZlO1xuICB9XG5cbiAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUub25CZWNvbWVTdGFsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcm9wYWdhdGVNYXliZUNoYW5nZWQodGhpcyk7XG4gIH07XG5cbiAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUub25CZWNvbWVPYnNlcnZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5vbkJlY29tZU9ic2VydmVkTGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLm9uQmVjb21lT2JzZXJ2ZWRMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUub25CZWNvbWVVbm9ic2VydmVkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm9uQmVjb21lVW5vYnNlcnZlZExpc3RlbmVycykge1xuICAgICAgdGhpcy5vbkJlY29tZVVub2JzZXJ2ZWRMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhpcyBjb21wdXRlZCB2YWx1ZS5cclxuICAgKiBXaWxsIGV2YWx1YXRlIGl0cyBjb21wdXRhdGlvbiBmaXJzdCBpZiBuZWVkZWQuXHJcbiAgICovXG5cblxuICBDb21wdXRlZFZhbHVlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNDb21wdXRpbmcpIGZhaWwoXCJDeWNsZSBkZXRlY3RlZCBpbiBjb21wdXRhdGlvbiBcIiArIHRoaXMubmFtZSArIFwiOiBcIiArIHRoaXMuZGVyaXZhdGlvbik7XG5cbiAgICBpZiAoZ2xvYmFsU3RhdGUuaW5CYXRjaCA9PT0gMCAmJiB0aGlzLm9ic2VydmVycy5zaXplID09PSAwICYmICF0aGlzLmtlZXBBbGl2ZSkge1xuICAgICAgaWYgKHNob3VsZENvbXB1dGUodGhpcykpIHtcbiAgICAgICAgdGhpcy53YXJuQWJvdXRVbnRyYWNrZWRSZWFkKCk7XG4gICAgICAgIHN0YXJ0QmF0Y2goKTsgLy8gU2VlIHBlcmYgdGVzdCAnY29tcHV0ZWQgbWVtb2l6YXRpb24nXG5cbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuY29tcHV0ZVZhbHVlKGZhbHNlKTtcbiAgICAgICAgZW5kQmF0Y2goKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVwb3J0T2JzZXJ2ZWQodGhpcyk7XG4gICAgICBpZiAoc2hvdWxkQ29tcHV0ZSh0aGlzKSkgaWYgKHRoaXMudHJhY2tBbmRDb21wdXRlKCkpIHByb3BhZ2F0ZUNoYW5nZUNvbmZpcm1lZCh0aGlzKTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gdGhpcy52YWx1ZTtcbiAgICBpZiAoaXNDYXVnaHRFeGNlcHRpb24ocmVzdWx0KSkgdGhyb3cgcmVzdWx0LmNhdXNlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzID0gdGhpcy5jb21wdXRlVmFsdWUoZmFsc2UpO1xuICAgIGlmIChpc0NhdWdodEV4Y2VwdGlvbihyZXMpKSB0aHJvdyByZXMuY2F1c2U7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICBDb21wdXRlZFZhbHVlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodGhpcy5zZXR0ZXIpIHtcbiAgICAgIGludmFyaWFudCghdGhpcy5pc1J1bm5pbmdTZXR0ZXIsIFwiVGhlIHNldHRlciBvZiBjb21wdXRlZCB2YWx1ZSAnXCIgKyB0aGlzLm5hbWUgKyBcIicgaXMgdHJ5aW5nIHRvIHVwZGF0ZSBpdHNlbGYuIERpZCB5b3UgaW50ZW5kIHRvIHVwZGF0ZSBhbiBfb2JzZXJ2YWJsZV8gdmFsdWUsIGluc3RlYWQgb2YgdGhlIGNvbXB1dGVkIHByb3BlcnR5P1wiKTtcbiAgICAgIHRoaXMuaXNSdW5uaW5nU2V0dGVyID0gdHJ1ZTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5zZXR0ZXIuY2FsbCh0aGlzLnNjb3BlLCB2YWx1ZSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aGlzLmlzUnVubmluZ1NldHRlciA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpbnZhcmlhbnQoZmFsc2UsICB0cnVlICYmIFwiW0NvbXB1dGVkVmFsdWUgJ1wiICsgdGhpcy5uYW1lICsgXCInXSBJdCBpcyBub3QgcG9zc2libGUgdG8gYXNzaWduIGEgbmV3IHZhbHVlIHRvIGEgY29tcHV0ZWQgdmFsdWUuXCIpO1xuICB9O1xuXG4gIENvbXB1dGVkVmFsdWUucHJvdG90eXBlLnRyYWNrQW5kQ29tcHV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaXNTcHlFbmFibGVkKCkgJiYgXCJkZXZlbG9wbWVudFwiICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgc3B5UmVwb3J0KHtcbiAgICAgICAgb2JqZWN0OiB0aGlzLnNjb3BlLFxuICAgICAgICB0eXBlOiBcImNvbXB1dGVcIixcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgIHZhciB3YXNTdXNwZW5kZWQgPVxuICAgIC8qIHNlZSAjMTIwOCAqL1xuICAgIHRoaXMuZGVwZW5kZW5jaWVzU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuTk9UX1RSQUNLSU5HO1xuICAgIHZhciBuZXdWYWx1ZSA9IHRoaXMuY29tcHV0ZVZhbHVlKHRydWUpO1xuICAgIHZhciBjaGFuZ2VkID0gd2FzU3VzcGVuZGVkIHx8IGlzQ2F1Z2h0RXhjZXB0aW9uKG9sZFZhbHVlKSB8fCBpc0NhdWdodEV4Y2VwdGlvbihuZXdWYWx1ZSkgfHwgIXRoaXMuZXF1YWxzKG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG5cbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBjaGFuZ2VkO1xuICB9O1xuXG4gIENvbXB1dGVkVmFsdWUucHJvdG90eXBlLmNvbXB1dGVWYWx1ZSA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgIHRoaXMuaXNDb21wdXRpbmcgPSB0cnVlO1xuICAgIGdsb2JhbFN0YXRlLmNvbXB1dGF0aW9uRGVwdGgrKztcbiAgICB2YXIgcmVzO1xuXG4gICAgaWYgKHRyYWNrKSB7XG4gICAgICByZXMgPSB0cmFja0Rlcml2ZWRGdW5jdGlvbih0aGlzLCB0aGlzLmRlcml2YXRpb24sIHRoaXMuc2NvcGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZ2xvYmFsU3RhdGUuZGlzYWJsZUVycm9yQm91bmRhcmllcyA9PT0gdHJ1ZSkge1xuICAgICAgICByZXMgPSB0aGlzLmRlcml2YXRpb24uY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzID0gdGhpcy5kZXJpdmF0aW9uLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXMgPSBuZXcgQ2F1Z2h0RXhjZXB0aW9uKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2xvYmFsU3RhdGUuY29tcHV0YXRpb25EZXB0aC0tO1xuICAgIHRoaXMuaXNDb21wdXRpbmcgPSBmYWxzZTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIENvbXB1dGVkVmFsdWUucHJvdG90eXBlLnN1c3BlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmtlZXBBbGl2ZSkge1xuICAgICAgY2xlYXJPYnNlcnZpbmcodGhpcyk7XG4gICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkOyAvLyBkb24ndCBob2xkIG9uIHRvIGNvbXB1dGVkIHZhbHVlIVxuICAgIH1cbiAgfTtcblxuICBDb21wdXRlZFZhbHVlLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGZpcnN0VGltZSA9IHRydWU7XG4gICAgdmFyIHByZXZWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gYXV0b3J1bihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbmV3VmFsdWUgPSBfdGhpcy5nZXQoKTtcblxuICAgICAgaWYgKCFmaXJzdFRpbWUgfHwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgICAgIHZhciBwcmV2VSA9IHVudHJhY2tlZFN0YXJ0KCk7XG4gICAgICAgIGxpc3RlbmVyKHtcbiAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICAgIG9iamVjdDogX3RoaXMsXG4gICAgICAgICAgbmV3VmFsdWU6IG5ld1ZhbHVlLFxuICAgICAgICAgIG9sZFZhbHVlOiBwcmV2VmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIHVudHJhY2tlZEVuZChwcmV2VSk7XG4gICAgICB9XG5cbiAgICAgIGZpcnN0VGltZSA9IGZhbHNlO1xuICAgICAgcHJldlZhbHVlID0gbmV3VmFsdWU7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUud2FybkFib3V0VW50cmFja2VkUmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZmFsc2UpIHt9XG5cbiAgICBpZiAodGhpcy5yZXF1aXJlc1JlYWN0aW9uID09PSB0cnVlKSB7XG4gICAgICBmYWlsKFwiW21vYnhdIENvbXB1dGVkIHZhbHVlIFwiICsgdGhpcy5uYW1lICsgXCIgaXMgcmVhZCBvdXRzaWRlIGEgcmVhY3RpdmUgY29udGV4dFwiKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1RyYWNpbmcgIT09IFRyYWNlTW9kZS5OT05FKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlttb2J4LnRyYWNlXSAnXCIgKyB0aGlzLm5hbWUgKyBcIicgaXMgYmVpbmcgcmVhZCBvdXRzaWRlIGEgcmVhY3RpdmUgY29udGV4dC4gRG9pbmcgYSBmdWxsIHJlY29tcHV0ZVwiKTtcbiAgICB9XG5cbiAgICBpZiAoZ2xvYmFsU3RhdGUuY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJbbW9ieF0gQ29tcHV0ZWQgdmFsdWUgXCIgKyB0aGlzLm5hbWUgKyBcIiBpcyBiZWluZyByZWFkIG91dHNpZGUgYSByZWFjdGl2ZSBjb250ZXh0LiBEb2luZyBhIGZ1bGwgcmVjb21wdXRlXCIpO1xuICAgIH1cbiAgfTtcblxuICBDb21wdXRlZFZhbHVlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KCk7XG4gIH07XG5cbiAgQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZSArIFwiW1wiICsgdGhpcy5kZXJpdmF0aW9uLnRvU3RyaW5nKCkgKyBcIl1cIjtcbiAgfTtcblxuICBDb21wdXRlZFZhbHVlLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b1ByaW1pdGl2ZSh0aGlzLmdldCgpKTtcbiAgfTtcblxuICBDb21wdXRlZFZhbHVlLnByb3RvdHlwZVtTeW1ib2wudG9QcmltaXRpdmVdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKTtcbiAgfTtcblxuICByZXR1cm4gQ29tcHV0ZWRWYWx1ZTtcbn0oKTtcblxudmFyIGlzQ29tcHV0ZWRWYWx1ZSA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUoXCJDb21wdXRlZFZhbHVlXCIsIENvbXB1dGVkVmFsdWUpO1xuLyoqXHJcbiAqIFRoZXNlIHZhbHVlcyB3aWxsIHBlcnNpc3QgaWYgZ2xvYmFsIHN0YXRlIGlzIHJlc2V0XHJcbiAqL1xuXG52YXIgcGVyc2lzdGVudEtleXMgPSBbXCJtb2J4R3VpZFwiLCBcInNweUxpc3RlbmVyc1wiLCBcImVuZm9yY2VBY3Rpb25zXCIsIFwiY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uXCIsIFwicmVhY3Rpb25SZXF1aXJlc09ic2VydmFibGVcIiwgXCJvYnNlcnZhYmxlUmVxdWlyZXNSZWFjdGlvblwiLCBcImFsbG93U3RhdGVSZWFkc1wiLCBcImRpc2FibGVFcnJvckJvdW5kYXJpZXNcIiwgXCJydW5JZFwiLCBcIlVOQ0hBTkdFRFwiXTtcblxudmFyIE1vYlhHbG9iYWxzID1cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTW9iWEdsb2JhbHMoKSB7XG4gICAgLyoqXHJcbiAgICAgKiBNb2JYR2xvYmFscyB2ZXJzaW9uLlxyXG4gICAgICogTW9iWCBjb21wYXRpYmxpdHkgd2l0aCBvdGhlciB2ZXJzaW9ucyBsb2FkZWQgaW4gbWVtb3J5IGFzIGxvbmcgYXMgdGhpcyB2ZXJzaW9uIG1hdGNoZXMuXHJcbiAgICAgKiBJdCBpbmRpY2F0ZXMgdGhhdCB0aGUgZ2xvYmFsIHN0YXRlIHN0aWxsIHN0b3JlcyBzaW1pbGFyIGluZm9ybWF0aW9uXHJcbiAgICAgKlxyXG4gICAgICogTi5COiB0aGlzIHZlcnNpb24gaXMgdW5yZWxhdGVkIHRvIHRoZSBwYWNrYWdlIHZlcnNpb24gb2YgTW9iWCwgYW5kIGlzIG9ubHkgdGhlIHZlcnNpb24gb2YgdGhlXHJcbiAgICAgKiBpbnRlcm5hbCBzdGF0ZSBzdG9yYWdlIG9mIE1vYlgsIGFuZCBjYW4gYmUgdGhlIHNhbWUgYWNyb3NzIG1hbnkgZGlmZmVyZW50IHBhY2thZ2UgdmVyc2lvbnNcclxuICAgICAqL1xuICAgIHRoaXMudmVyc2lvbiA9IDU7XG4gICAgLyoqXHJcbiAgICAgKiBnbG9iYWxseSB1bmlxdWUgdG9rZW4gdG8gc2lnbmFsIHVuY2hhbmdlZFxyXG4gICAgICovXG5cbiAgICB0aGlzLlVOQ0hBTkdFRCA9IHt9O1xuICAgIC8qKlxyXG4gICAgICogQ3VycmVudGx5IHJ1bm5pbmcgZGVyaXZhdGlvblxyXG4gICAgICovXG5cbiAgICB0aGlzLnRyYWNraW5nRGVyaXZhdGlvbiA9IG51bGw7XG4gICAgLyoqXHJcbiAgICAgKiBBcmUgd2UgcnVubmluZyBhIGNvbXB1dGF0aW9uIGN1cnJlbnRseT8gKG5vdCBhIHJlYWN0aW9uKVxyXG4gICAgICovXG5cbiAgICB0aGlzLmNvbXB1dGF0aW9uRGVwdGggPSAwO1xuICAgIC8qKlxyXG4gICAgICogRWFjaCB0aW1lIGEgZGVyaXZhdGlvbiBpcyB0cmFja2VkLCBpdCBpcyBhc3NpZ25lZCBhIHVuaXF1ZSBydW4taWRcclxuICAgICAqL1xuXG4gICAgdGhpcy5ydW5JZCA9IDA7XG4gICAgLyoqXHJcbiAgICAgKiAnZ3VpZCcgZm9yIGdlbmVyYWwgcHVycG9zZS4gV2lsbCBiZSBwZXJzaXN0ZWQgYW1vbmdzdCByZXNldHMuXHJcbiAgICAgKi9cblxuICAgIHRoaXMubW9ieEd1aWQgPSAwO1xuICAgIC8qKlxyXG4gICAgICogQXJlIHdlIGluIGEgYmF0Y2ggYmxvY2s/IChhbmQgaG93IG1hbnkgb2YgdGhlbSlcclxuICAgICAqL1xuXG4gICAgdGhpcy5pbkJhdGNoID0gMDtcbiAgICAvKipcclxuICAgICAqIE9ic2VydmFibGVzIHRoYXQgZG9uJ3QgaGF2ZSBvYnNlcnZlcnMgYW55bW9yZSwgYW5kIGFyZSBhYm91dCB0byBiZVxyXG4gICAgICogc3VzcGVuZGVkLCB1bmxlc3Mgc29tZWJvZHkgZWxzZSBhY2Nlc3NlcyBpdCBpbiB0aGUgc2FtZSBiYXRjaFxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtJT2JzZXJ2YWJsZVtdfVxyXG4gICAgICovXG5cbiAgICB0aGlzLnBlbmRpbmdVbm9ic2VydmF0aW9ucyA9IFtdO1xuICAgIC8qKlxyXG4gICAgICogTGlzdCBvZiBzY2hlZHVsZWQsIG5vdCB5ZXQgZXhlY3V0ZWQsIHJlYWN0aW9ucy5cclxuICAgICAqL1xuXG4gICAgdGhpcy5wZW5kaW5nUmVhY3Rpb25zID0gW107XG4gICAgLyoqXHJcbiAgICAgKiBBcmUgd2UgY3VycmVudGx5IHByb2Nlc3NpbmcgcmVhY3Rpb25zP1xyXG4gICAgICovXG5cbiAgICB0aGlzLmlzUnVubmluZ1JlYWN0aW9ucyA9IGZhbHNlO1xuICAgIC8qKlxyXG4gICAgICogSXMgaXQgYWxsb3dlZCB0byBjaGFuZ2Ugb2JzZXJ2YWJsZXMgYXQgdGhpcyBwb2ludD9cclxuICAgICAqIEluIGdlbmVyYWwsIE1vYlggZG9lc24ndCBhbGxvdyB0aGF0IHdoZW4gcnVubmluZyBjb21wdXRhdGlvbnMgYW5kIFJlYWN0LnJlbmRlci5cclxuICAgICAqIFRvIGVuc3VyZSB0aGF0IHRob3NlIGZ1bmN0aW9ucyBzdGF5IHB1cmUuXHJcbiAgICAgKi9cblxuICAgIHRoaXMuYWxsb3dTdGF0ZUNoYW5nZXMgPSB0cnVlO1xuICAgIC8qKlxyXG4gICAgICogSXMgaXQgYWxsb3dlZCB0byByZWFkIG9ic2VydmFibGVzIGF0IHRoaXMgcG9pbnQ/XHJcbiAgICAgKiBVc2VkIHRvIGhvbGQgdGhlIHN0YXRlIG5lZWRlZCBmb3IgYG9ic2VydmFibGVSZXF1aXJlc1JlYWN0aW9uYFxyXG4gICAgICovXG5cbiAgICB0aGlzLmFsbG93U3RhdGVSZWFkcyA9IHRydWU7XG4gICAgLyoqXHJcbiAgICAgKiBJZiBzdHJpY3QgbW9kZSBpcyBlbmFibGVkLCBzdGF0ZSBjaGFuZ2VzIGFyZSBieSBkZWZhdWx0IG5vdCBhbGxvd2VkXHJcbiAgICAgKi9cblxuICAgIHRoaXMuZW5mb3JjZUFjdGlvbnMgPSBmYWxzZTtcbiAgICAvKipcclxuICAgICAqIFNweSBjYWxsYmFja3NcclxuICAgICAqL1xuXG4gICAgdGhpcy5zcHlMaXN0ZW5lcnMgPSBbXTtcbiAgICAvKipcclxuICAgICAqIEdsb2JhbGx5IGF0dGFjaGVkIGVycm9yIGhhbmRsZXJzIHRoYXQgcmVhY3Qgc3BlY2lmaWNhbGx5IHRvIGVycm9ycyBpbiByZWFjdGlvbnNcclxuICAgICAqL1xuXG4gICAgdGhpcy5nbG9iYWxSZWFjdGlvbkVycm9ySGFuZGxlcnMgPSBbXTtcbiAgICAvKipcclxuICAgICAqIFdhcm4gaWYgY29tcHV0ZWQgdmFsdWVzIGFyZSBhY2Nlc3NlZCBvdXRzaWRlIGEgcmVhY3RpdmUgY29udGV4dFxyXG4gICAgICovXG5cbiAgICB0aGlzLmNvbXB1dGVkUmVxdWlyZXNSZWFjdGlvbiA9IGZhbHNlO1xuICAgIC8qKlxyXG4gICAgICogKEV4cGVyaW1lbnRhbClcclxuICAgICAqIFdhcm4gaWYgeW91IHRyeSB0byBjcmVhdGUgdG8gZGVyaXZhdGlvbiAvIHJlYWN0aXZlIGNvbnRleHQgd2l0aG91dCBhY2Nlc3NpbmcgYW55IG9ic2VydmFibGUuXHJcbiAgICAgKi9cblxuICAgIHRoaXMucmVhY3Rpb25SZXF1aXJlc09ic2VydmFibGUgPSBmYWxzZTtcbiAgICAvKipcclxuICAgICAqIChFeHBlcmltZW50YWwpXHJcbiAgICAgKiBXYXJuIGlmIG9ic2VydmFibGVzIGFyZSBhY2Nlc3NlZCBvdXRzaWRlIGEgcmVhY3RpdmUgY29udGV4dFxyXG4gICAgICovXG5cbiAgICB0aGlzLm9ic2VydmFibGVSZXF1aXJlc1JlYWN0aW9uID0gZmFsc2U7XG4gICAgLyoqXHJcbiAgICAgKiBBbGxvd3Mgb3ZlcndyaXRpbmcgb2YgY29tcHV0ZWQgcHJvcGVydGllcywgdXNlZnVsIGluIHRlc3RzIGJ1dCBub3QgcHJvZCBhcyBpdCBjYW4gY2F1c2VcclxuICAgICAqIG1lbW9yeSBsZWFrcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb2J4anMvbW9ieC9pc3N1ZXMvMTg2N1xyXG4gICAgICovXG5cbiAgICB0aGlzLmNvbXB1dGVkQ29uZmlndXJhYmxlID0gZmFsc2U7XG4gICAgLypcclxuICAgICAqIERvbid0IGNhdGNoIGFuZCByZXRocm93IGV4Y2VwdGlvbnMuIFRoaXMgaXMgdXNlZnVsIGZvciBpbnNwZWN0aW5nIHRoZSBzdGF0ZSBvZlxyXG4gICAgICogdGhlIHN0YWNrIHdoZW4gYW4gZXhjZXB0aW9uIG9jY3VycyB3aGlsZSBkZWJ1Z2dpbmcuXHJcbiAgICAgKi9cblxuICAgIHRoaXMuZGlzYWJsZUVycm9yQm91bmRhcmllcyA9IGZhbHNlO1xuICAgIC8qXHJcbiAgICAgKiBJZiB0cnVlLCB3ZSBhcmUgYWxyZWFkeSBoYW5kbGluZyBhbiBleGNlcHRpb24gaW4gYW4gYWN0aW9uLiBBbnkgZXJyb3JzIGluIHJlYWN0aW9ucyBzaG91bGQgYmUgc3VwcHJlc3NlZCwgYXNcclxuICAgICAqIHRoZXkgYXJlIG5vdCB0aGUgY2F1c2UsIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL21vYnhqcy9tb2J4L2lzc3Vlcy8xODM2XHJcbiAgICAgKi9cblxuICAgIHRoaXMuc3VwcHJlc3NSZWFjdGlvbkVycm9ycyA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIE1vYlhHbG9iYWxzO1xufSgpO1xuXG52YXIgbW9ja0dsb2JhbCA9IHt9O1xuXG5mdW5jdGlvbiBnZXRHbG9iYWwoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuXG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIGdsb2JhbDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgcmV0dXJuIG1vY2tHbG9iYWw7XG59XG5cbnZhciBjYW5NZXJnZUdsb2JhbFN0YXRlID0gdHJ1ZTtcbnZhciBpc29sYXRlQ2FsbGVkID0gZmFsc2U7XG5cbnZhciBnbG9iYWxTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGdsb2JhbCA9IGdldEdsb2JhbCgpO1xuICBpZiAoZ2xvYmFsLl9fbW9ieEluc3RhbmNlQ291bnQgPiAwICYmICFnbG9iYWwuX19tb2J4R2xvYmFscykgY2FuTWVyZ2VHbG9iYWxTdGF0ZSA9IGZhbHNlO1xuICBpZiAoZ2xvYmFsLl9fbW9ieEdsb2JhbHMgJiYgZ2xvYmFsLl9fbW9ieEdsb2JhbHMudmVyc2lvbiAhPT0gbmV3IE1vYlhHbG9iYWxzKCkudmVyc2lvbikgY2FuTWVyZ2VHbG9iYWxTdGF0ZSA9IGZhbHNlO1xuXG4gIGlmICghY2FuTWVyZ2VHbG9iYWxTdGF0ZSkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFpc29sYXRlQ2FsbGVkKSB7XG4gICAgICAgIGZhaWwoXCJUaGVyZSBhcmUgbXVsdGlwbGUsIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiBNb2JYIGFjdGl2ZS4gTWFrZSBzdXJlIE1vYlggaXMgbG9hZGVkIG9ubHkgb25jZSBvciB1c2UgYGNvbmZpZ3VyZSh7IGlzb2xhdGVHbG9iYWxTdGF0ZTogdHJ1ZSB9KWBcIik7XG4gICAgICB9XG4gICAgfSwgMSk7XG4gICAgcmV0dXJuIG5ldyBNb2JYR2xvYmFscygpO1xuICB9IGVsc2UgaWYgKGdsb2JhbC5fX21vYnhHbG9iYWxzKSB7XG4gICAgZ2xvYmFsLl9fbW9ieEluc3RhbmNlQ291bnQgKz0gMTtcbiAgICBpZiAoIWdsb2JhbC5fX21vYnhHbG9iYWxzLlVOQ0hBTkdFRCkgZ2xvYmFsLl9fbW9ieEdsb2JhbHMuVU5DSEFOR0VEID0ge307IC8vIG1ha2UgbWVyZ2UgYmFja3dhcmQgY29tcGF0aWJsZVxuXG4gICAgcmV0dXJuIGdsb2JhbC5fX21vYnhHbG9iYWxzO1xuICB9IGVsc2Uge1xuICAgIGdsb2JhbC5fX21vYnhJbnN0YW5jZUNvdW50ID0gMTtcbiAgICByZXR1cm4gZ2xvYmFsLl9fbW9ieEdsb2JhbHMgPSBuZXcgTW9iWEdsb2JhbHMoKTtcbiAgfVxufSgpO1xuXG5mdW5jdGlvbiBpc29sYXRlR2xvYmFsU3RhdGUoKSB7XG4gIGlmIChnbG9iYWxTdGF0ZS5wZW5kaW5nUmVhY3Rpb25zLmxlbmd0aCB8fCBnbG9iYWxTdGF0ZS5pbkJhdGNoIHx8IGdsb2JhbFN0YXRlLmlzUnVubmluZ1JlYWN0aW9ucykgZmFpbChcImlzb2xhdGVHbG9iYWxTdGF0ZSBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBNb2JYIGlzIHJ1bm5pbmcgYW55IHJlYWN0aW9uc1wiKTtcbiAgaXNvbGF0ZUNhbGxlZCA9IHRydWU7XG5cbiAgaWYgKGNhbk1lcmdlR2xvYmFsU3RhdGUpIHtcbiAgICBpZiAoLS1nZXRHbG9iYWwoKS5fX21vYnhJbnN0YW5jZUNvdW50ID09PSAwKSBnZXRHbG9iYWwoKS5fX21vYnhHbG9iYWxzID0gdW5kZWZpbmVkO1xuICAgIGdsb2JhbFN0YXRlID0gbmV3IE1vYlhHbG9iYWxzKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0R2xvYmFsU3RhdGUoKSB7XG4gIHJldHVybiBnbG9iYWxTdGF0ZTtcbn1cbi8qKlxyXG4gKiBGb3IgdGVzdGluZyBwdXJwb3NlcyBvbmx5OyB0aGlzIHdpbGwgYnJlYWsgdGhlIGludGVybmFsIHN0YXRlIG9mIGV4aXN0aW5nIG9ic2VydmFibGVzLFxyXG4gKiBidXQgY2FuIGJlIHVzZWQgdG8gZ2V0IGJhY2sgYXQgYSBzdGFibGUgc3RhdGUgYWZ0ZXIgdGhyb3dpbmcgZXJyb3JzXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIHJlc2V0R2xvYmFsU3RhdGUoKSB7XG4gIHZhciBkZWZhdWx0R2xvYmFscyA9IG5ldyBNb2JYR2xvYmFscygpO1xuXG4gIGZvciAodmFyIGtleSBpbiBkZWZhdWx0R2xvYmFscykgaWYgKHBlcnNpc3RlbnRLZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIGdsb2JhbFN0YXRlW2tleV0gPSBkZWZhdWx0R2xvYmFsc1trZXldO1xuXG4gIGdsb2JhbFN0YXRlLmFsbG93U3RhdGVDaGFuZ2VzID0gIWdsb2JhbFN0YXRlLmVuZm9yY2VBY3Rpb25zO1xufVxuXG5mdW5jdGlvbiBoYXNPYnNlcnZlcnMob2JzZXJ2YWJsZSkge1xuICByZXR1cm4gb2JzZXJ2YWJsZS5vYnNlcnZlcnMgJiYgb2JzZXJ2YWJsZS5vYnNlcnZlcnMuc2l6ZSA+IDA7XG59XG5cbmZ1bmN0aW9uIGdldE9ic2VydmVycyhvYnNlcnZhYmxlKSB7XG4gIHJldHVybiBvYnNlcnZhYmxlLm9ic2VydmVycztcbn0gLy8gZnVuY3Rpb24gaW52YXJpYW50T2JzZXJ2ZXJzKG9ic2VydmFibGU6IElPYnNlcnZhYmxlKSB7XG4vLyAgICAgY29uc3QgbGlzdCA9IG9ic2VydmFibGUub2JzZXJ2ZXJzXG4vLyAgICAgY29uc3QgbWFwID0gb2JzZXJ2YWJsZS5vYnNlcnZlcnNJbmRleGVzXG4vLyAgICAgY29uc3QgbCA9IGxpc3QubGVuZ3RoXG4vLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbi8vICAgICAgICAgY29uc3QgaWQgPSBsaXN0W2ldLl9fbWFwaWRcbi8vICAgICAgICAgaWYgKGkpIHtcbi8vICAgICAgICAgICAgIGludmFyaWFudChtYXBbaWRdID09PSBpLCBcIklOVEVSTkFMIEVSUk9SIG1hcHMgZGVyaXZhdGlvbi5fX21hcGlkIHRvIGluZGV4IGluIGxpc3RcIikgLy8gZm9yIHBlcmZvcm1hbmNlXG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICBpbnZhcmlhbnQoIShpZCBpbiBtYXApLCBcIklOVEVSTkFMIEVSUk9SIG9ic2VydmVyIG9uIGluZGV4IDAgc2hvdWxkbid0IGJlIGhlbGQgaW4gbWFwLlwiKSAvLyBmb3IgcGVyZm9ybWFuY2Vcbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vICAgICBpbnZhcmlhbnQoXG4vLyAgICAgICAgIGxpc3QubGVuZ3RoID09PSAwIHx8IE9iamVjdC5rZXlzKG1hcCkubGVuZ3RoID09PSBsaXN0Lmxlbmd0aCAtIDEsXG4vLyAgICAgICAgIFwiSU5URVJOQUwgRVJST1IgdGhlcmUgaXMgbm8ganVuayBpbiBtYXBcIlxuLy8gICAgIClcbi8vIH1cblxuXG5mdW5jdGlvbiBhZGRPYnNlcnZlcihvYnNlcnZhYmxlLCBub2RlKSB7XG4gIC8vIGludmFyaWFudChub2RlLmRlcGVuZGVuY2llc1N0YXRlICE9PSAtMSwgXCJJTlRFUk5BTCBFUlJPUiwgY2FuIGFkZCBvbmx5IGRlcGVuZGVuY2llc1N0YXRlICE9PSAtMVwiKTtcbiAgLy8gaW52YXJpYW50KG9ic2VydmFibGUuX29ic2VydmVycy5pbmRleE9mKG5vZGUpID09PSAtMSwgXCJJTlRFUk5BTCBFUlJPUiBhZGQgYWxyZWFkeSBhZGRlZCBub2RlXCIpO1xuICAvLyBpbnZhcmlhbnRPYnNlcnZlcnMob2JzZXJ2YWJsZSk7XG4gIG9ic2VydmFibGUub2JzZXJ2ZXJzLmFkZChub2RlKTtcbiAgaWYgKG9ic2VydmFibGUubG93ZXN0T2JzZXJ2ZXJTdGF0ZSA+IG5vZGUuZGVwZW5kZW5jaWVzU3RhdGUpIG9ic2VydmFibGUubG93ZXN0T2JzZXJ2ZXJTdGF0ZSA9IG5vZGUuZGVwZW5kZW5jaWVzU3RhdGU7IC8vIGludmFyaWFudE9ic2VydmVycyhvYnNlcnZhYmxlKTtcbiAgLy8gaW52YXJpYW50KG9ic2VydmFibGUuX29ic2VydmVycy5pbmRleE9mKG5vZGUpICE9PSAtMSwgXCJJTlRFUk5BTCBFUlJPUiBkaWRuJ3QgYWRkIG5vZGVcIik7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU9ic2VydmVyKG9ic2VydmFibGUsIG5vZGUpIHtcbiAgLy8gaW52YXJpYW50KGdsb2JhbFN0YXRlLmluQmF0Y2ggPiAwLCBcIklOVEVSTkFMIEVSUk9SLCByZW1vdmUgc2hvdWxkIGJlIGNhbGxlZCBvbmx5IGluc2lkZSBiYXRjaFwiKTtcbiAgLy8gaW52YXJpYW50KG9ic2VydmFibGUuX29ic2VydmVycy5pbmRleE9mKG5vZGUpICE9PSAtMSwgXCJJTlRFUk5BTCBFUlJPUiByZW1vdmUgYWxyZWFkeSByZW1vdmVkIG5vZGVcIik7XG4gIC8vIGludmFyaWFudE9ic2VydmVycyhvYnNlcnZhYmxlKTtcbiAgb2JzZXJ2YWJsZS5vYnNlcnZlcnMuZGVsZXRlKG5vZGUpO1xuXG4gIGlmIChvYnNlcnZhYmxlLm9ic2VydmVycy5zaXplID09PSAwKSB7XG4gICAgLy8gZGVsZXRpbmcgbGFzdCBvYnNlcnZlclxuICAgIHF1ZXVlRm9yVW5vYnNlcnZhdGlvbihvYnNlcnZhYmxlKTtcbiAgfSAvLyBpbnZhcmlhbnRPYnNlcnZlcnMob2JzZXJ2YWJsZSk7XG4gIC8vIGludmFyaWFudChvYnNlcnZhYmxlLl9vYnNlcnZlcnMuaW5kZXhPZihub2RlKSA9PT0gLTEsIFwiSU5URVJOQUwgRVJST1IgcmVtb3ZlIGFscmVhZHkgcmVtb3ZlZCBub2RlMlwiKTtcblxufVxuXG5mdW5jdGlvbiBxdWV1ZUZvclVub2JzZXJ2YXRpb24ob2JzZXJ2YWJsZSkge1xuICBpZiAob2JzZXJ2YWJsZS5pc1BlbmRpbmdVbm9ic2VydmF0aW9uID09PSBmYWxzZSkge1xuICAgIC8vIGludmFyaWFudChvYnNlcnZhYmxlLl9vYnNlcnZlcnMubGVuZ3RoID09PSAwLCBcIklOVEVSTkFMIEVSUk9SLCBzaG91bGQgb25seSBxdWV1ZSBmb3IgdW5vYnNlcnZhdGlvbiB1bm9ic2VydmVkIG9ic2VydmFibGVzXCIpO1xuICAgIG9ic2VydmFibGUuaXNQZW5kaW5nVW5vYnNlcnZhdGlvbiA9IHRydWU7XG4gICAgZ2xvYmFsU3RhdGUucGVuZGluZ1Vub2JzZXJ2YXRpb25zLnB1c2gob2JzZXJ2YWJsZSk7XG4gIH1cbn1cbi8qKlxyXG4gKiBCYXRjaCBzdGFydHMgYSB0cmFuc2FjdGlvbiwgYXQgbGVhc3QgZm9yIHB1cnBvc2VzIG9mIG1lbW9pemluZyBDb21wdXRlZFZhbHVlcyB3aGVuIG5vdGhpbmcgZWxzZSBkb2VzLlxyXG4gKiBEdXJpbmcgYSBiYXRjaCBgb25CZWNvbWVVbm9ic2VydmVkYCB3aWxsIGJlIGNhbGxlZCBhdCBtb3N0IG9uY2UgcGVyIG9ic2VydmFibGUuXHJcbiAqIEF2b2lkcyB1bm5lY2Vzc2FyeSByZWNhbGN1bGF0aW9ucy5cclxuICovXG5cblxuZnVuY3Rpb24gc3RhcnRCYXRjaCgpIHtcbiAgZ2xvYmFsU3RhdGUuaW5CYXRjaCsrO1xufVxuXG5mdW5jdGlvbiBlbmRCYXRjaCgpIHtcbiAgaWYgKC0tZ2xvYmFsU3RhdGUuaW5CYXRjaCA9PT0gMCkge1xuICAgIHJ1blJlYWN0aW9ucygpOyAvLyB0aGUgYmF0Y2ggaXMgYWN0dWFsbHkgYWJvdXQgdG8gZmluaXNoLCBhbGwgdW5vYnNlcnZpbmcgc2hvdWxkIGhhcHBlbiBoZXJlLlxuXG4gICAgdmFyIGxpc3QgPSBnbG9iYWxTdGF0ZS5wZW5kaW5nVW5vYnNlcnZhdGlvbnM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBvYnNlcnZhYmxlID0gbGlzdFtpXTtcbiAgICAgIG9ic2VydmFibGUuaXNQZW5kaW5nVW5vYnNlcnZhdGlvbiA9IGZhbHNlO1xuXG4gICAgICBpZiAob2JzZXJ2YWJsZS5vYnNlcnZlcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBpZiAob2JzZXJ2YWJsZS5pc0JlaW5nT2JzZXJ2ZWQpIHtcbiAgICAgICAgICAvLyBpZiB0aGlzIG9ic2VydmFibGUgaGFkIHJlYWN0aXZlIG9ic2VydmVycywgdHJpZ2dlciB0aGUgaG9va3NcbiAgICAgICAgICBvYnNlcnZhYmxlLmlzQmVpbmdPYnNlcnZlZCA9IGZhbHNlO1xuICAgICAgICAgIG9ic2VydmFibGUub25CZWNvbWVVbm9ic2VydmVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob2JzZXJ2YWJsZSBpbnN0YW5jZW9mIENvbXB1dGVkVmFsdWUpIHtcbiAgICAgICAgICAvLyBjb21wdXRlZCB2YWx1ZXMgYXJlIGF1dG9tYXRpY2FsbHkgdGVhcmVkIGRvd24gd2hlbiB0aGUgbGFzdCBvYnNlcnZlciBsZWF2ZXNcbiAgICAgICAgICAvLyB0aGlzIHByb2Nlc3MgaGFwcGVucyByZWN1cnNpdmVseSwgdGhpcyBjb21wdXRlZCBtaWdodCBiZSB0aGUgbGFzdCBvYnNlcnZhYmUgb2YgYW5vdGhlciwgZXRjLi5cbiAgICAgICAgICBvYnNlcnZhYmxlLnN1c3BlbmQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGdsb2JhbFN0YXRlLnBlbmRpbmdVbm9ic2VydmF0aW9ucyA9IFtdO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlcG9ydE9ic2VydmVkKG9ic2VydmFibGUpIHtcbiAgY2hlY2tJZlN0YXRlUmVhZHNBcmVBbGxvd2VkKG9ic2VydmFibGUpO1xuICB2YXIgZGVyaXZhdGlvbiA9IGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbjtcblxuICBpZiAoZGVyaXZhdGlvbiAhPT0gbnVsbCkge1xuICAgIC8qKlxyXG4gICAgICogU2ltcGxlIG9wdGltaXphdGlvbiwgZ2l2ZSBlYWNoIGRlcml2YXRpb24gcnVuIGFuIHVuaXF1ZSBpZCAocnVuSWQpXHJcbiAgICAgKiBDaGVjayBpZiBsYXN0IHRpbWUgdGhpcyBvYnNlcnZhYmxlIHdhcyBhY2Nlc3NlZCB0aGUgc2FtZSBydW5JZCBpcyB1c2VkXHJcbiAgICAgKiBpZiB0aGlzIGlzIHRoZSBjYXNlLCB0aGUgcmVsYXRpb24gaXMgYWxyZWFkeSBrbm93blxyXG4gICAgICovXG4gICAgaWYgKGRlcml2YXRpb24ucnVuSWQgIT09IG9ic2VydmFibGUubGFzdEFjY2Vzc2VkQnkpIHtcbiAgICAgIG9ic2VydmFibGUubGFzdEFjY2Vzc2VkQnkgPSBkZXJpdmF0aW9uLnJ1bklkOyAvLyBUcmllZCBzdG9yaW5nIG5ld09ic2VydmluZywgb3Igb2JzZXJ2aW5nLCBvciBib3RoIGFzIFNldCwgYnV0IHBlcmZvcm1hbmNlIGRpZG4ndCBjb21lIGNsb3NlLi4uXG5cbiAgICAgIGRlcml2YXRpb24ubmV3T2JzZXJ2aW5nW2Rlcml2YXRpb24udW5ib3VuZERlcHNDb3VudCsrXSA9IG9ic2VydmFibGU7XG5cbiAgICAgIGlmICghb2JzZXJ2YWJsZS5pc0JlaW5nT2JzZXJ2ZWQpIHtcbiAgICAgICAgb2JzZXJ2YWJsZS5pc0JlaW5nT2JzZXJ2ZWQgPSB0cnVlO1xuICAgICAgICBvYnNlcnZhYmxlLm9uQmVjb21lT2JzZXJ2ZWQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChvYnNlcnZhYmxlLm9ic2VydmVycy5zaXplID09PSAwICYmIGdsb2JhbFN0YXRlLmluQmF0Y2ggPiAwKSB7XG4gICAgcXVldWVGb3JVbm9ic2VydmF0aW9uKG9ic2VydmFibGUpO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufSAvLyBmdW5jdGlvbiBpbnZhcmlhbnRMT1Mob2JzZXJ2YWJsZTogSU9ic2VydmFibGUsIG1zZzogc3RyaW5nKSB7XG4vLyAgICAgLy8gaXQncyBleHBlbnNpdmUgc28gYmV0dGVyIG5vdCBydW4gaXQgaW4gcHJvZHVjaXRvbi4gYnV0IHRlbXBvcmFyaWx5IGhlbHBmdWwgZm9yIHRlc3Rpbmdcbi8vICAgICBjb25zdCBtaW4gPSBnZXRPYnNlcnZlcnMob2JzZXJ2YWJsZSkucmVkdWNlKChhLCBiKSA9PiBNYXRoLm1pbihhLCBiLmRlcGVuZGVuY2llc1N0YXRlKSwgMilcbi8vICAgICBpZiAobWluID49IG9ic2VydmFibGUubG93ZXN0T2JzZXJ2ZXJTdGF0ZSkgcmV0dXJuIC8vIDwtIHRoZSBvbmx5IGFzc3VtcHRpb24gYWJvdXQgYGxvd2VzdE9ic2VydmVyU3RhdGVgXG4vLyAgICAgdGhyb3cgbmV3IEVycm9yKFxuLy8gICAgICAgICBcImxvd2VzdE9ic2VydmVyU3RhdGUgaXMgd3JvbmcgZm9yIFwiICtcbi8vICAgICAgICAgICAgIG1zZyArXG4vLyAgICAgICAgICAgICBcIiBiZWNhdXNlIFwiICtcbi8vICAgICAgICAgICAgIG1pbiArXG4vLyAgICAgICAgICAgICBcIiA8IFwiICtcbi8vICAgICAgICAgICAgIG9ic2VydmFibGUubG93ZXN0T2JzZXJ2ZXJTdGF0ZVxuLy8gICAgIClcbi8vIH1cblxuLyoqXHJcbiAqIE5PVEU6IGN1cnJlbnQgcHJvcGFnYXRpb24gbWVjaGFuaXNtIHdpbGwgaW4gY2FzZSBvZiBzZWxmIHJlcnVuaW5nIGF1dG9ydW5zIGJlaGF2ZSB1bmV4cGVjdGVkbHlcclxuICogSXQgd2lsbCBwcm9wYWdhdGUgY2hhbmdlcyB0byBvYnNlcnZlcnMgZnJvbSBwcmV2aW91cyBydW5cclxuICogSXQncyBoYXJkIG9yIG1heWJlIGltcG9zc2libGUgKHdpdGggcmVhc29uYWJsZSBwZXJmKSB0byBnZXQgaXQgcmlnaHQgd2l0aCBjdXJyZW50IGFwcHJvYWNoXHJcbiAqIEhvcGVmdWxseSBzZWxmIHJlcnVuaW5nIGF1dG9ydW5zIGFyZW4ndCBhIGZlYXR1cmUgcGVvcGxlIHNob3VsZCBkZXBlbmQgb25cclxuICogQWxzbyBtb3N0IGJhc2ljIHVzZSBjYXNlcyBzaG91bGQgYmUgb2tcclxuICovXG4vLyBDYWxsZWQgYnkgQXRvbSB3aGVuIGl0cyB2YWx1ZSBjaGFuZ2VzXG5cblxuZnVuY3Rpb24gcHJvcGFnYXRlQ2hhbmdlZChvYnNlcnZhYmxlKSB7XG4gIC8vIGludmFyaWFudExPUyhvYnNlcnZhYmxlLCBcImNoYW5nZWQgc3RhcnRcIik7XG4gIGlmIChvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuU1RBTEUpIHJldHVybjtcbiAgb2JzZXJ2YWJsZS5sb3dlc3RPYnNlcnZlclN0YXRlID0gSURlcml2YXRpb25TdGF0ZS5TVEFMRTsgLy8gSWRlYWxseSB3ZSB1c2UgZm9yLi5vZiBoZXJlLCBidXQgdGhlIGRvd25jb21waWxlZCB2ZXJzaW9uIGlzIHJlYWxseSBzbG93Li4uXG5cbiAgb2JzZXJ2YWJsZS5vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgIGlmIChkLmRlcGVuZGVuY2llc1N0YXRlID09PSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEUpIHtcbiAgICAgIGlmIChkLmlzVHJhY2luZyAhPT0gVHJhY2VNb2RlLk5PTkUpIHtcbiAgICAgICAgbG9nVHJhY2VJbmZvKGQsIG9ic2VydmFibGUpO1xuICAgICAgfVxuXG4gICAgICBkLm9uQmVjb21lU3RhbGUoKTtcbiAgICB9XG5cbiAgICBkLmRlcGVuZGVuY2llc1N0YXRlID0gSURlcml2YXRpb25TdGF0ZS5TVEFMRTtcbiAgfSk7IC8vIGludmFyaWFudExPUyhvYnNlcnZhYmxlLCBcImNoYW5nZWQgZW5kXCIpO1xufSAvLyBDYWxsZWQgYnkgQ29tcHV0ZWRWYWx1ZSB3aGVuIGl0IHJlY2FsY3VsYXRlIGFuZCBpdHMgdmFsdWUgY2hhbmdlZFxuXG5cbmZ1bmN0aW9uIHByb3BhZ2F0ZUNoYW5nZUNvbmZpcm1lZChvYnNlcnZhYmxlKSB7XG4gIC8vIGludmFyaWFudExPUyhvYnNlcnZhYmxlLCBcImNvbmZpcm1lZCBzdGFydFwiKTtcbiAgaWYgKG9ic2VydmFibGUubG93ZXN0T2JzZXJ2ZXJTdGF0ZSA9PT0gSURlcml2YXRpb25TdGF0ZS5TVEFMRSkgcmV0dXJuO1xuICBvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlNUQUxFO1xuICBvYnNlcnZhYmxlLm9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgaWYgKGQuZGVwZW5kZW5jaWVzU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuUE9TU0lCTFlfU1RBTEUpIGQuZGVwZW5kZW5jaWVzU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlNUQUxFO2Vsc2UgaWYgKGQuZGVwZW5kZW5jaWVzU3RhdGUgPT09IElEZXJpdmF0aW9uU3RhdGUuVVBfVE9fREFURSAvLyB0aGlzIGhhcHBlbnMgZHVyaW5nIGNvbXB1dGluZyBvZiBgZGAsIGp1c3Qga2VlcCBsb3dlc3RPYnNlcnZlclN0YXRlIHVwIHRvIGRhdGUuXG4gICAgKSBvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLlVQX1RPX0RBVEU7XG4gIH0pOyAvLyBpbnZhcmlhbnRMT1Mob2JzZXJ2YWJsZSwgXCJjb25maXJtZWQgZW5kXCIpO1xufSAvLyBVc2VkIGJ5IGNvbXB1dGVkIHdoZW4gaXRzIGRlcGVuZGVuY3kgY2hhbmdlZCwgYnV0IHdlIGRvbid0IHdhbid0IHRvIGltbWVkaWF0ZWx5IHJlY29tcHV0ZS5cblxuXG5mdW5jdGlvbiBwcm9wYWdhdGVNYXliZUNoYW5nZWQob2JzZXJ2YWJsZSkge1xuICAvLyBpbnZhcmlhbnRMT1Mob2JzZXJ2YWJsZSwgXCJtYXliZSBzdGFydFwiKTtcbiAgaWYgKG9ic2VydmFibGUubG93ZXN0T2JzZXJ2ZXJTdGF0ZSAhPT0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFKSByZXR1cm47XG4gIG9ic2VydmFibGUubG93ZXN0T2JzZXJ2ZXJTdGF0ZSA9IElEZXJpdmF0aW9uU3RhdGUuUE9TU0lCTFlfU1RBTEU7XG4gIG9ic2VydmFibGUub2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICBpZiAoZC5kZXBlbmRlbmNpZXNTdGF0ZSA9PT0gSURlcml2YXRpb25TdGF0ZS5VUF9UT19EQVRFKSB7XG4gICAgICBkLmRlcGVuZGVuY2llc1N0YXRlID0gSURlcml2YXRpb25TdGF0ZS5QT1NTSUJMWV9TVEFMRTtcblxuICAgICAgaWYgKGQuaXNUcmFjaW5nICE9PSBUcmFjZU1vZGUuTk9ORSkge1xuICAgICAgICBsb2dUcmFjZUluZm8oZCwgb2JzZXJ2YWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGQub25CZWNvbWVTdGFsZSgpO1xuICAgIH1cbiAgfSk7IC8vIGludmFyaWFudExPUyhvYnNlcnZhYmxlLCBcIm1heWJlIGVuZFwiKTtcbn1cblxuZnVuY3Rpb24gbG9nVHJhY2VJbmZvKGRlcml2YXRpb24sIG9ic2VydmFibGUpIHtcbiAgY29uc29sZS5sb2coXCJbbW9ieC50cmFjZV0gJ1wiICsgZGVyaXZhdGlvbi5uYW1lICsgXCInIGlzIGludmFsaWRhdGVkIGR1ZSB0byBhIGNoYW5nZSBpbjogJ1wiICsgb2JzZXJ2YWJsZS5uYW1lICsgXCInXCIpO1xuXG4gIGlmIChkZXJpdmF0aW9uLmlzVHJhY2luZyA9PT0gVHJhY2VNb2RlLkJSRUFLKSB7XG4gICAgdmFyIGxpbmVzID0gW107XG4gICAgcHJpbnREZXBUcmVlKGdldERlcGVuZGVuY3lUcmVlKGRlcml2YXRpb24pLCBsaW5lcywgMSk7IC8vIHByZXR0aWVyLWlnbm9yZVxuXG4gICAgbmV3IEZ1bmN0aW9uKFwiZGVidWdnZXI7XFxuLypcXG5UcmFjaW5nICdcIiArIGRlcml2YXRpb24ubmFtZSArIFwiJ1xcblxcbllvdSBhcmUgZW50ZXJpbmcgdGhpcyBicmVhayBwb2ludCBiZWNhdXNlIGRlcml2YXRpb24gJ1wiICsgZGVyaXZhdGlvbi5uYW1lICsgXCInIGlzIGJlaW5nIHRyYWNlZCBhbmQgJ1wiICsgb2JzZXJ2YWJsZS5uYW1lICsgXCInIGlzIG5vdyBmb3JjaW5nIGl0IHRvIHVwZGF0ZS5cXG5KdXN0IGZvbGxvdyB0aGUgc3RhY2t0cmFjZSB5b3Ugc2hvdWxkIG5vdyBzZWUgaW4gdGhlIGRldnRvb2xzIHRvIHNlZSBwcmVjaXNlbHkgd2hhdCBwaWVjZSBvZiB5b3VyIGNvZGUgaXMgY2F1c2luZyB0aGlzIHVwZGF0ZVxcblRoZSBzdGFja2ZyYW1lIHlvdSBhcmUgbG9va2luZyBmb3IgaXMgYXQgbGVhc3QgfjYtOCBzdGFjay1mcmFtZXMgdXAuXFxuXFxuXCIgKyAoZGVyaXZhdGlvbiBpbnN0YW5jZW9mIENvbXB1dGVkVmFsdWUgPyBkZXJpdmF0aW9uLmRlcml2YXRpb24udG9TdHJpbmcoKS5yZXBsYWNlKC9bKl1cXC8vZywgXCIvXCIpIDogXCJcIikgKyBcIlxcblxcblRoZSBkZXBlbmRlbmNpZXMgZm9yIHRoaXMgZGVyaXZhdGlvbiBhcmU6XFxuXFxuXCIgKyBsaW5lcy5qb2luKFwiXFxuXCIpICsgXCJcXG4qL1xcbiAgICBcIikoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmludERlcFRyZWUodHJlZSwgbGluZXMsIGRlcHRoKSB7XG4gIGlmIChsaW5lcy5sZW5ndGggPj0gMTAwMCkge1xuICAgIGxpbmVzLnB1c2goXCIoYW5kIG1hbnkgbW9yZSlcIik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGluZXMucHVzaChcIlwiICsgbmV3IEFycmF5KGRlcHRoKS5qb2luKFwiXFx0XCIpICsgdHJlZS5uYW1lKTsgLy8gTVdFOiBub3QgdGhlIGZhc3Rlc3QsIGJ1dCB0aGUgZWFzaWVzdCB3YXkgOilcblxuICBpZiAodHJlZS5kZXBlbmRlbmNpZXMpIHRyZWUuZGVwZW5kZW5jaWVzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgcmV0dXJuIHByaW50RGVwVHJlZShjaGlsZCwgbGluZXMsIGRlcHRoICsgMSk7XG4gIH0pO1xufVxuXG52YXIgUmVhY3Rpb24gPVxuLyoqIEBjbGFzcyAqL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSZWFjdGlvbihuYW1lLCBvbkludmFsaWRhdGUsIGVycm9ySGFuZGxlciwgcmVxdWlyZXNPYnNlcnZhYmxlKSB7XG4gICAgaWYgKG5hbWUgPT09IHZvaWQgMCkge1xuICAgICAgbmFtZSA9IFwiUmVhY3Rpb25AXCIgKyBnZXROZXh0SWQoKTtcbiAgICB9XG5cbiAgICBpZiAocmVxdWlyZXNPYnNlcnZhYmxlID09PSB2b2lkIDApIHtcbiAgICAgIHJlcXVpcmVzT2JzZXJ2YWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5vbkludmFsaWRhdGUgPSBvbkludmFsaWRhdGU7XG4gICAgdGhpcy5lcnJvckhhbmRsZXIgPSBlcnJvckhhbmRsZXI7XG4gICAgdGhpcy5yZXF1aXJlc09ic2VydmFibGUgPSByZXF1aXJlc09ic2VydmFibGU7XG4gICAgdGhpcy5vYnNlcnZpbmcgPSBbXTsgLy8gbm9kZXMgd2UgYXJlIGxvb2tpbmcgYXQuIE91ciB2YWx1ZSBkZXBlbmRzIG9uIHRoZXNlIG5vZGVzXG5cbiAgICB0aGlzLm5ld09ic2VydmluZyA9IFtdO1xuICAgIHRoaXMuZGVwZW5kZW5jaWVzU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlLk5PVF9UUkFDS0lORztcbiAgICB0aGlzLmRpZmZWYWx1ZSA9IDA7XG4gICAgdGhpcy5ydW5JZCA9IDA7XG4gICAgdGhpcy51bmJvdW5kRGVwc0NvdW50ID0gMDtcbiAgICB0aGlzLl9fbWFwaWQgPSBcIiNcIiArIGdldE5leHRJZCgpO1xuICAgIHRoaXMuaXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2lzU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgdGhpcy5faXNUcmFja1BlbmRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICB0aGlzLmlzVHJhY2luZyA9IFRyYWNlTW9kZS5OT05FO1xuICB9XG5cbiAgUmVhY3Rpb24ucHJvdG90eXBlLm9uQmVjb21lU3RhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zY2hlZHVsZSgpO1xuICB9O1xuXG4gIFJlYWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuX2lzU2NoZWR1bGVkKSB7XG4gICAgICB0aGlzLl9pc1NjaGVkdWxlZCA9IHRydWU7XG4gICAgICBnbG9iYWxTdGF0ZS5wZW5kaW5nUmVhY3Rpb25zLnB1c2godGhpcyk7XG4gICAgICBydW5SZWFjdGlvbnMoKTtcbiAgICB9XG4gIH07XG5cbiAgUmVhY3Rpb24ucHJvdG90eXBlLmlzU2NoZWR1bGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1NjaGVkdWxlZDtcbiAgfTtcbiAgLyoqXHJcbiAgICogaW50ZXJuYWwsIHVzZSBzY2hlZHVsZSgpIGlmIHlvdSBpbnRlbmQgdG8ga2ljayBvZmYgYSByZWFjdGlvblxyXG4gICAqL1xuXG5cbiAgUmVhY3Rpb24ucHJvdG90eXBlLnJ1blJlYWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICBzdGFydEJhdGNoKCk7XG4gICAgICB0aGlzLl9pc1NjaGVkdWxlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAoc2hvdWxkQ29tcHV0ZSh0aGlzKSkge1xuICAgICAgICB0aGlzLl9pc1RyYWNrUGVuZGluZyA9IHRydWU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLm9uSW52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgaWYgKHRoaXMuX2lzVHJhY2tQZW5kaW5nICYmIGlzU3B5RW5hYmxlZCgpICYmIFwiZGV2ZWxvcG1lbnRcIiAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgIC8vIG9uSW52YWxpZGF0ZSBkaWRuJ3QgdHJpZ2dlciB0cmFjayByaWdodCBhd2F5Li5cbiAgICAgICAgICAgIHNweVJlcG9ydCh7XG4gICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgdHlwZTogXCJzY2hlZHVsZWQtcmVhY3Rpb25cIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhpcy5yZXBvcnRFeGNlcHRpb25JbkRlcml2YXRpb24oZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZW5kQmF0Y2goKTtcbiAgICB9XG4gIH07XG5cbiAgUmVhY3Rpb24ucHJvdG90eXBlLnRyYWNrID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgcmV0dXJuOyAvLyBjb25zb2xlLndhcm4oXCJSZWFjdGlvbiBhbHJlYWR5IGRpc3Bvc2VkXCIpIC8vIE5vdGU6IE5vdCBhIHdhcm5pbmcgLyBlcnJvciBpbiBtb2J4IDQgZWl0aGVyXG4gICAgfVxuXG4gICAgc3RhcnRCYXRjaCgpO1xuICAgIHZhciBub3RpZnkgPSBpc1NweUVuYWJsZWQoKTtcbiAgICB2YXIgc3RhcnRUaW1lO1xuXG4gICAgaWYgKG5vdGlmeSAmJiBcImRldmVsb3BtZW50XCIgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgc3B5UmVwb3J0U3RhcnQoe1xuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIHR5cGU6IFwicmVhY3Rpb25cIlxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5faXNSdW5uaW5nID0gdHJ1ZTtcbiAgICB2YXIgcmVzdWx0ID0gdHJhY2tEZXJpdmVkRnVuY3Rpb24odGhpcywgZm4sIHVuZGVmaW5lZCk7XG4gICAgdGhpcy5faXNSdW5uaW5nID0gZmFsc2U7XG4gICAgdGhpcy5faXNUcmFja1BlbmRpbmcgPSBmYWxzZTtcblxuICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgIC8vIGRpc3Bvc2VkIGR1cmluZyBsYXN0IHJ1bi4gQ2xlYW4gdXAgZXZlcnl0aGluZyB0aGF0IHdhcyBib3VuZCBhZnRlciB0aGUgZGlzcG9zZSBjYWxsLlxuICAgICAgY2xlYXJPYnNlcnZpbmcodGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKGlzQ2F1Z2h0RXhjZXB0aW9uKHJlc3VsdCkpIHRoaXMucmVwb3J0RXhjZXB0aW9uSW5EZXJpdmF0aW9uKHJlc3VsdC5jYXVzZSk7XG5cbiAgICBpZiAobm90aWZ5ICYmIFwiZGV2ZWxvcG1lbnRcIiAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIHNweVJlcG9ydEVuZCh7XG4gICAgICAgIHRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGVuZEJhdGNoKCk7XG4gIH07XG5cbiAgUmVhY3Rpb24ucHJvdG90eXBlLnJlcG9ydEV4Y2VwdGlvbkluRGVyaXZhdGlvbiA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5lcnJvckhhbmRsZXIpIHtcbiAgICAgIHRoaXMuZXJyb3JIYW5kbGVyKGVycm9yLCB0aGlzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZ2xvYmFsU3RhdGUuZGlzYWJsZUVycm9yQm91bmRhcmllcykgdGhyb3cgZXJyb3I7XG4gICAgdmFyIG1lc3NhZ2UgPSBcIlttb2J4XSBFbmNvdW50ZXJlZCBhbiB1bmNhdWdodCBleGNlcHRpb24gdGhhdCB3YXMgdGhyb3duIGJ5IGEgcmVhY3Rpb24gb3Igb2JzZXJ2ZXIgY29tcG9uZW50LCBpbjogJ1wiICsgdGhpcyArIFwiJ1wiO1xuXG4gICAgaWYgKGdsb2JhbFN0YXRlLnN1cHByZXNzUmVhY3Rpb25FcnJvcnMpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlttb2J4XSAoZXJyb3IgaW4gcmVhY3Rpb24gJ1wiICsgdGhpcy5uYW1lICsgXCInIHN1cHByZXNzZWQsIGZpeCBlcnJvciBvZiBjYXVzaW5nIGFjdGlvbiBiZWxvdylcIik7IC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UsIGVycm9yKTtcbiAgICAgIC8qKiBJZiBkZWJ1Z2dpbmcgYnJvdWdodCB5b3UgaGVyZSwgcGxlYXNlLCByZWFkIHRoZSBhYm92ZSBtZXNzYWdlIDotKS4gVG54ISAqL1xuICAgIH1cblxuICAgIGlmIChpc1NweUVuYWJsZWQoKSkge1xuICAgICAgc3B5UmVwb3J0KHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgIGVycm9yOiBcIlwiICsgZXJyb3JcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGdsb2JhbFN0YXRlLmdsb2JhbFJlYWN0aW9uRXJyb3JIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICByZXR1cm4gZihlcnJvciwgX3RoaXMpO1xuICAgIH0pO1xuICB9O1xuXG4gIFJlYWN0aW9uLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICB0aGlzLmlzRGlzcG9zZWQgPSB0cnVlO1xuXG4gICAgICBpZiAoIXRoaXMuX2lzUnVubmluZykge1xuICAgICAgICAvLyBpZiBkaXNwb3NlZCB3aGlsZSBydW5uaW5nLCBjbGVhbiB1cCBsYXRlci4gTWF5YmUgbm90IG9wdGltYWwsIGJ1dCByYXJlIGNhc2VcbiAgICAgICAgc3RhcnRCYXRjaCgpO1xuICAgICAgICBjbGVhck9ic2VydmluZyh0aGlzKTtcbiAgICAgICAgZW5kQmF0Y2goKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgUmVhY3Rpb24ucHJvdG90eXBlLmdldERpc3Bvc2VyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByID0gdGhpcy5kaXNwb3NlLmJpbmQodGhpcyk7XG4gICAgclskbW9ieF0gPSB0aGlzO1xuICAgIHJldHVybiByO1xuICB9O1xuXG4gIFJlYWN0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJSZWFjdGlvbltcIiArIHRoaXMubmFtZSArIFwiXVwiO1xuICB9O1xuXG4gIFJlYWN0aW9uLnByb3RvdHlwZS50cmFjZSA9IGZ1bmN0aW9uIChlbnRlckJyZWFrUG9pbnQpIHtcbiAgICBpZiAoZW50ZXJCcmVha1BvaW50ID09PSB2b2lkIDApIHtcbiAgICAgIGVudGVyQnJlYWtQb2ludCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRyYWNlKHRoaXMsIGVudGVyQnJlYWtQb2ludCk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0aW9uO1xufSgpO1xuXG5mdW5jdGlvbiBvblJlYWN0aW9uRXJyb3IoaGFuZGxlcikge1xuICBnbG9iYWxTdGF0ZS5nbG9iYWxSZWFjdGlvbkVycm9ySGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaWR4ID0gZ2xvYmFsU3RhdGUuZ2xvYmFsUmVhY3Rpb25FcnJvckhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGlkeCA+PSAwKSBnbG9iYWxTdGF0ZS5nbG9iYWxSZWFjdGlvbkVycm9ySGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gIH07XG59XG4vKipcclxuICogTWFnaWMgbnVtYmVyIGFsZXJ0IVxyXG4gKiBEZWZpbmVzIHdpdGhpbiBob3cgbWFueSB0aW1lcyBhIHJlYWN0aW9uIGlzIGFsbG93ZWQgdG8gcmUtdHJpZ2dlciBpdHNlbGZcclxuICogdW50aWwgaXQgaXMgYXNzdW1lZCB0aGF0IHRoaXMgaXMgZ29ubmEgYmUgYSBuZXZlciBlbmRpbmcgbG9vcC4uLlxyXG4gKi9cblxuXG52YXIgTUFYX1JFQUNUSU9OX0lURVJBVElPTlMgPSAxMDA7XG5cbnZhciByZWFjdGlvblNjaGVkdWxlciA9IGZ1bmN0aW9uIChmKSB7XG4gIHJldHVybiBmKCk7XG59O1xuXG5mdW5jdGlvbiBydW5SZWFjdGlvbnMoKSB7XG4gIC8vIFRyYW1wb2xpbmluZywgaWYgcnVuUmVhY3Rpb25zIGFyZSBhbHJlYWR5IHJ1bm5pbmcsIG5ldyByZWFjdGlvbnMgd2lsbCBiZSBwaWNrZWQgdXBcbiAgaWYgKGdsb2JhbFN0YXRlLmluQmF0Y2ggPiAwIHx8IGdsb2JhbFN0YXRlLmlzUnVubmluZ1JlYWN0aW9ucykgcmV0dXJuO1xuICByZWFjdGlvblNjaGVkdWxlcihydW5SZWFjdGlvbnNIZWxwZXIpO1xufVxuXG5mdW5jdGlvbiBydW5SZWFjdGlvbnNIZWxwZXIoKSB7XG4gIGdsb2JhbFN0YXRlLmlzUnVubmluZ1JlYWN0aW9ucyA9IHRydWU7XG4gIHZhciBhbGxSZWFjdGlvbnMgPSBnbG9iYWxTdGF0ZS5wZW5kaW5nUmVhY3Rpb25zO1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7IC8vIFdoaWxlIHJ1bm5pbmcgcmVhY3Rpb25zLCBuZXcgcmVhY3Rpb25zIG1pZ2h0IGJlIHRyaWdnZXJlZC5cbiAgLy8gSGVuY2Ugd2Ugd29yayB3aXRoIHR3byB2YXJpYWJsZXMgYW5kIGNoZWNrIHdoZXRoZXJcbiAgLy8gd2UgY29udmVyZ2UgdG8gbm8gcmVtYWluaW5nIHJlYWN0aW9ucyBhZnRlciBhIHdoaWxlLlxuXG4gIHdoaWxlIChhbGxSZWFjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIGlmICgrK2l0ZXJhdGlvbnMgPT09IE1BWF9SRUFDVElPTl9JVEVSQVRJT05TKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUmVhY3Rpb24gZG9lc24ndCBjb252ZXJnZSB0byBhIHN0YWJsZSBzdGF0ZSBhZnRlciBcIiArIE1BWF9SRUFDVElPTl9JVEVSQVRJT05TICsgXCIgaXRlcmF0aW9ucy5cIiArIChcIiBQcm9iYWJseSB0aGVyZSBpcyBhIGN5Y2xlIGluIHRoZSByZWFjdGl2ZSBmdW5jdGlvbjogXCIgKyBhbGxSZWFjdGlvbnNbMF0pKTtcbiAgICAgIGFsbFJlYWN0aW9ucy5zcGxpY2UoMCk7IC8vIGNsZWFyIHJlYWN0aW9uc1xuICAgIH1cblxuICAgIHZhciByZW1haW5pbmdSZWFjdGlvbnMgPSBhbGxSZWFjdGlvbnMuc3BsaWNlKDApO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZW1haW5pbmdSZWFjdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSByZW1haW5pbmdSZWFjdGlvbnNbaV0ucnVuUmVhY3Rpb24oKTtcbiAgfVxuXG4gIGdsb2JhbFN0YXRlLmlzUnVubmluZ1JlYWN0aW9ucyA9IGZhbHNlO1xufVxuXG52YXIgaXNSZWFjdGlvbiA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUoXCJSZWFjdGlvblwiLCBSZWFjdGlvbik7XG5cbmZ1bmN0aW9uIHNldFJlYWN0aW9uU2NoZWR1bGVyKGZuKSB7XG4gIHZhciBiYXNlU2NoZWR1bGVyID0gcmVhY3Rpb25TY2hlZHVsZXI7XG5cbiAgcmVhY3Rpb25TY2hlZHVsZXIgPSBmdW5jdGlvbiAoZikge1xuICAgIHJldHVybiBmbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYmFzZVNjaGVkdWxlcihmKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNTcHlFbmFibGVkKCkge1xuICByZXR1cm4gIHRydWUgJiYgISFnbG9iYWxTdGF0ZS5zcHlMaXN0ZW5lcnMubGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBzcHlSZXBvcnQoZXZlbnQpIHtcbiAgaWYgKGZhbHNlKSB7fSAvLyBkZWFkIGNvZGUgZWxpbWluYXRpb24gY2FuIGRvIHRoZSByZXN0XG5cbiAgaWYgKCFnbG9iYWxTdGF0ZS5zcHlMaXN0ZW5lcnMubGVuZ3RoKSByZXR1cm47XG4gIHZhciBsaXN0ZW5lcnMgPSBnbG9iYWxTdGF0ZS5zcHlMaXN0ZW5lcnM7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSBsaXN0ZW5lcnNbaV0oZXZlbnQpO1xufVxuXG5mdW5jdGlvbiBzcHlSZXBvcnRTdGFydChldmVudCkge1xuICBpZiAoZmFsc2UpIHt9XG5cbiAgdmFyIGNoYW5nZSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBldmVudCksIHtcbiAgICBzcHlSZXBvcnRTdGFydDogdHJ1ZVxuICB9KTtcblxuICBzcHlSZXBvcnQoY2hhbmdlKTtcbn1cblxudmFyIEVORF9FVkVOVCA9IHtcbiAgc3B5UmVwb3J0RW5kOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBzcHlSZXBvcnRFbmQoY2hhbmdlKSB7XG4gIGlmIChmYWxzZSkge31cbiAgaWYgKGNoYW5nZSkgc3B5UmVwb3J0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBjaGFuZ2UpLCB7XG4gICAgc3B5UmVwb3J0RW5kOiB0cnVlXG4gIH0pKTtlbHNlIHNweVJlcG9ydChFTkRfRVZFTlQpO1xufVxuXG5mdW5jdGlvbiBzcHkobGlzdGVuZXIpIHtcbiAgaWYgKGZhbHNlKSB7fSBlbHNlIHtcbiAgICBnbG9iYWxTdGF0ZS5zcHlMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIG9uY2UoZnVuY3Rpb24gKCkge1xuICAgICAgZ2xvYmFsU3RhdGUuc3B5TGlzdGVuZXJzID0gZ2xvYmFsU3RhdGUuc3B5TGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAobCkge1xuICAgICAgICByZXR1cm4gbCAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkb250UmVhc3NpZ25GaWVsZHMoKSB7XG4gIGZhaWwoIHRydWUgJiYgXCJAYWN0aW9uIGZpZWxkcyBhcmUgbm90IHJlYXNzaWduYWJsZVwiKTtcbn1cblxuZnVuY3Rpb24gbmFtZWRBY3Rpb25EZWNvcmF0b3IobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcCwgZGVzY3JpcHRvcikge1xuICAgIGlmIChkZXNjcmlwdG9yKSB7XG4gICAgICBpZiAoIHRydWUgJiYgZGVzY3JpcHRvci5nZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFpbChcIkBhY3Rpb24gY2Fubm90IGJlIHVzZWQgd2l0aCBnZXR0ZXJzXCIpO1xuICAgICAgfSAvLyBiYWJlbCAvIHR5cGVzY3JpcHRcbiAgICAgIC8vIEBhY3Rpb24gbWV0aG9kKCkgeyB9XG5cblxuICAgICAgaWYgKGRlc2NyaXB0b3IudmFsdWUpIHtcbiAgICAgICAgLy8gdHlwZXNjcmlwdFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZhbHVlOiBjcmVhdGVBY3Rpb24obmFtZSwgZGVzY3JpcHRvci52YWx1ZSksXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlIC8vIGZvciB0eXBlc2NyaXB0LCB0aGlzIG11c3QgYmUgd3JpdGFibGUsIG90aGVyd2lzZSBpdCBjYW5ub3QgaW5oZXJpdCA6LyAoc2VlIGluaGVyaXRhYmxlIGFjdGlvbnMgdGVzdClcblxuICAgICAgICB9O1xuICAgICAgfSAvLyBiYWJlbCBvbmx5OiBAYWN0aW9uIG1ldGhvZCA9ICgpID0+IHt9XG5cblxuICAgICAgdmFyIGluaXRpYWxpemVyXzEgPSBkZXNjcmlwdG9yLmluaXRpYWxpemVyO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGluaXRpYWxpemVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gTi5COiB3ZSBjYW4ndCBpbW1lZGlhdGVseSBpbnZva2UgaW5pdGlhbGl6ZXI7IHRoaXMgd291bGQgYmUgd3JvbmdcbiAgICAgICAgICByZXR1cm4gY3JlYXRlQWN0aW9uKG5hbWUsIGluaXRpYWxpemVyXzEuY2FsbCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSAvLyBib3VuZCBpbnN0YW5jZSBtZXRob2RzXG5cblxuICAgIHJldHVybiBhY3Rpb25GaWVsZERlY29yYXRvcihuYW1lKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhY3Rpb25GaWVsZERlY29yYXRvcihuYW1lKSB7XG4gIC8vIFNpbXBsZSBwcm9wZXJ0eSB0aGF0IHdyaXRlcyBvbiBmaXJzdCBpbnZvY2F0aW9uIHRvIHRoZSBjdXJyZW50IGluc3RhbmNlXG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wLCBkZXNjcmlwdG9yKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcCwge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBhZGRIaWRkZW5Qcm9wKHRoaXMsIHByb3AsIGFjdGlvbihuYW1lLCB2YWx1ZSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBib3VuZEFjdGlvbkRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvciwgYXBwbHlUb0luc3RhbmNlKSB7XG4gIGlmIChhcHBseVRvSW5zdGFuY2UgPT09IHRydWUpIHtcbiAgICBkZWZpbmVCb3VuZEFjdGlvbih0YXJnZXQsIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvci52YWx1ZSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoZGVzY3JpcHRvcikge1xuICAgIC8vIGlmIChkZXNjcmlwdG9yLnZhbHVlKVxuICAgIC8vIFR5cGVzY3JpcHQgLyBCYWJlbDogQGFjdGlvbi5ib3VuZCBtZXRob2QoKSB7IH1cbiAgICAvLyBhbHNvOiBiYWJlbCBAYWN0aW9uLmJvdW5kIG1ldGhvZCA9ICgpID0+IHt9XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlZmluZUJvdW5kQWN0aW9uKHRoaXMsIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvci52YWx1ZSB8fCBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwodGhpcykpO1xuICAgICAgICByZXR1cm4gdGhpc1twcm9wZXJ0eU5hbWVdO1xuICAgICAgfSxcbiAgICAgIHNldDogZG9udFJlYXNzaWduRmllbGRzXG4gICAgfTtcbiAgfSAvLyBmaWVsZCBkZWNvcmF0b3IgVHlwZXNjcmlwdCBAYWN0aW9uLmJvdW5kIG1ldGhvZCA9ICgpID0+IHt9XG5cblxuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICBkZWZpbmVCb3VuZEFjdGlvbih0aGlzLCBwcm9wZXJ0eU5hbWUsIHYpO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGFjdGlvbiA9IGZ1bmN0aW9uIGFjdGlvbihhcmcxLCBhcmcyLCBhcmczLCBhcmc0KSB7XG4gIC8vIGFjdGlvbihmbigpIHt9KVxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJnMSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gY3JlYXRlQWN0aW9uKGFyZzEubmFtZSB8fCBcIjx1bm5hbWVkIGFjdGlvbj5cIiwgYXJnMSk7IC8vIGFjdGlvbihcIm5hbWVcIiwgZm4oKSB7fSlcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgYXJnMiA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gY3JlYXRlQWN0aW9uKGFyZzEsIGFyZzIpOyAvLyBAYWN0aW9uKFwibmFtZVwiKSBmbigpIHt9XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIGFyZzEgPT09IFwic3RyaW5nXCIpIHJldHVybiBuYW1lZEFjdGlvbkRlY29yYXRvcihhcmcxKTsgLy8gQGFjdGlvbiBmbigpIHt9XG5cbiAgaWYgKGFyZzQgPT09IHRydWUpIHtcbiAgICAvLyBhcHBseSB0byBpbnN0YW5jZSBpbW1lZGlhdGVseVxuICAgIGFkZEhpZGRlblByb3AoYXJnMSwgYXJnMiwgY3JlYXRlQWN0aW9uKGFyZzEubmFtZSB8fCBhcmcyLCBhcmczLnZhbHVlLCB0aGlzKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5hbWVkQWN0aW9uRGVjb3JhdG9yKGFyZzIpLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH1cbn07XG5cbmFjdGlvbi5ib3VuZCA9IGJvdW5kQWN0aW9uRGVjb3JhdG9yO1xuXG5mdW5jdGlvbiBydW5JbkFjdGlvbihhcmcxLCBhcmcyKSB7XG4gIHZhciBhY3Rpb25OYW1lID0gdHlwZW9mIGFyZzEgPT09IFwic3RyaW5nXCIgPyBhcmcxIDogYXJnMS5uYW1lIHx8IFwiPHVubmFtZWQgYWN0aW9uPlwiO1xuICB2YXIgZm4gPSB0eXBlb2YgYXJnMSA9PT0gXCJmdW5jdGlvblwiID8gYXJnMSA6IGFyZzI7XG5cbiAgaWYgKHRydWUpIHtcbiAgICBpbnZhcmlhbnQodHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIgJiYgZm4ubGVuZ3RoID09PSAwLCBcImBydW5JbkFjdGlvbmAgZXhwZWN0cyBhIGZ1bmN0aW9uIHdpdGhvdXQgYXJndW1lbnRzXCIpO1xuICAgIGlmICh0eXBlb2YgYWN0aW9uTmFtZSAhPT0gXCJzdHJpbmdcIiB8fCAhYWN0aW9uTmFtZSkgZmFpbChcImFjdGlvbnMgc2hvdWxkIGhhdmUgdmFsaWQgbmFtZXMsIGdvdDogJ1wiICsgYWN0aW9uTmFtZSArIFwiJ1wiKTtcbiAgfVxuXG4gIHJldHVybiBleGVjdXRlQWN0aW9uKGFjdGlvbk5hbWUsIGZuLCB0aGlzLCB1bmRlZmluZWQpO1xufVxuXG5mdW5jdGlvbiBpc0FjdGlvbih0aGluZykge1xuICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSBcImZ1bmN0aW9uXCIgJiYgdGhpbmcuaXNNb2J4QWN0aW9uID09PSB0cnVlO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVCb3VuZEFjdGlvbih0YXJnZXQsIHByb3BlcnR5TmFtZSwgZm4pIHtcbiAgYWRkSGlkZGVuUHJvcCh0YXJnZXQsIHByb3BlcnR5TmFtZSwgY3JlYXRlQWN0aW9uKHByb3BlcnR5TmFtZSwgZm4uYmluZCh0YXJnZXQpKSk7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5hbWVkIHJlYWN0aXZlIHZpZXcgYW5kIGtlZXBzIGl0IGFsaXZlLCBzbyB0aGF0IHRoZSB2aWV3IGlzIGFsd2F5c1xyXG4gKiB1cGRhdGVkIGlmIG9uZSBvZiB0aGUgZGVwZW5kZW5jaWVzIGNoYW5nZXMsIGV2ZW4gd2hlbiB0aGUgdmlldyBpcyBub3QgZnVydGhlciB1c2VkIGJ5IHNvbWV0aGluZyBlbHNlLlxyXG4gKiBAcGFyYW0gdmlldyBUaGUgcmVhY3RpdmUgdmlld1xyXG4gKiBAcmV0dXJucyBkaXNwb3NlciBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gc3RvcCB0aGUgdmlldyBmcm9tIGJlaW5nIHVwZGF0ZWQgaW4gdGhlIGZ1dHVyZS5cclxuICovXG5cblxuZnVuY3Rpb24gYXV0b3J1bih2aWV3LCBvcHRzKSB7XG4gIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICBvcHRzID0gRU1QVFlfT0JKRUNUO1xuICB9XG5cbiAgaWYgKHRydWUpIHtcbiAgICBpbnZhcmlhbnQodHlwZW9mIHZpZXcgPT09IFwiZnVuY3Rpb25cIiwgXCJBdXRvcnVuIGV4cGVjdHMgYSBmdW5jdGlvbiBhcyBmaXJzdCBhcmd1bWVudFwiKTtcbiAgICBpbnZhcmlhbnQoaXNBY3Rpb24odmlldykgPT09IGZhbHNlLCBcIkF1dG9ydW4gZG9lcyBub3QgYWNjZXB0IGFjdGlvbnMgc2luY2UgYWN0aW9ucyBhcmUgdW50cmFja2FibGVcIik7XG4gIH1cblxuICB2YXIgbmFtZSA9IG9wdHMgJiYgb3B0cy5uYW1lIHx8IHZpZXcubmFtZSB8fCBcIkF1dG9ydW5AXCIgKyBnZXROZXh0SWQoKTtcbiAgdmFyIHJ1blN5bmMgPSAhb3B0cy5zY2hlZHVsZXIgJiYgIW9wdHMuZGVsYXk7XG4gIHZhciByZWFjdGlvbjtcblxuICBpZiAocnVuU3luYykge1xuICAgIC8vIG5vcm1hbCBhdXRvcnVuXG4gICAgcmVhY3Rpb24gPSBuZXcgUmVhY3Rpb24obmFtZSwgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50cmFjayhyZWFjdGlvblJ1bm5lcik7XG4gICAgfSwgb3B0cy5vbkVycm9yLCBvcHRzLnJlcXVpcmVzT2JzZXJ2YWJsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNjaGVkdWxlcl8xID0gY3JlYXRlU2NoZWR1bGVyRnJvbU9wdGlvbnMob3B0cyk7IC8vIGRlYm91bmNlZCBhdXRvcnVuXG5cbiAgICB2YXIgaXNTY2hlZHVsZWRfMSA9IGZhbHNlO1xuICAgIHJlYWN0aW9uID0gbmV3IFJlYWN0aW9uKG5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghaXNTY2hlZHVsZWRfMSkge1xuICAgICAgICBpc1NjaGVkdWxlZF8xID0gdHJ1ZTtcbiAgICAgICAgc2NoZWR1bGVyXzEoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlzU2NoZWR1bGVkXzEgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoIXJlYWN0aW9uLmlzRGlzcG9zZWQpIHJlYWN0aW9uLnRyYWNrKHJlYWN0aW9uUnVubmVyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgb3B0cy5vbkVycm9yLCBvcHRzLnJlcXVpcmVzT2JzZXJ2YWJsZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWFjdGlvblJ1bm5lcigpIHtcbiAgICB2aWV3KHJlYWN0aW9uKTtcbiAgfVxuXG4gIHJlYWN0aW9uLnNjaGVkdWxlKCk7XG4gIHJldHVybiByZWFjdGlvbi5nZXREaXNwb3NlcigpO1xufVxuXG52YXIgcnVuID0gZnVuY3Rpb24gKGYpIHtcbiAgcmV0dXJuIGYoKTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVNjaGVkdWxlckZyb21PcHRpb25zKG9wdHMpIHtcbiAgcmV0dXJuIG9wdHMuc2NoZWR1bGVyID8gb3B0cy5zY2hlZHVsZXIgOiBvcHRzLmRlbGF5ID8gZnVuY3Rpb24gKGYpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChmLCBvcHRzLmRlbGF5KTtcbiAgfSA6IHJ1bjtcbn1cblxuZnVuY3Rpb24gcmVhY3Rpb24oZXhwcmVzc2lvbiwgZWZmZWN0LCBvcHRzKSB7XG4gIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICBvcHRzID0gRU1QVFlfT0JKRUNUO1xuICB9XG5cbiAgaWYgKHRydWUpIHtcbiAgICBpbnZhcmlhbnQodHlwZW9mIGV4cHJlc3Npb24gPT09IFwiZnVuY3Rpb25cIiwgXCJGaXJzdCBhcmd1bWVudCB0byByZWFjdGlvbiBzaG91bGQgYmUgYSBmdW5jdGlvblwiKTtcbiAgICBpbnZhcmlhbnQodHlwZW9mIG9wdHMgPT09IFwib2JqZWN0XCIsIFwiVGhpcmQgYXJndW1lbnQgb2YgcmVhY3Rpb25zIHNob3VsZCBiZSBhbiBvYmplY3RcIik7XG4gIH1cblxuICB2YXIgbmFtZSA9IG9wdHMubmFtZSB8fCBcIlJlYWN0aW9uQFwiICsgZ2V0TmV4dElkKCk7XG4gIHZhciBlZmZlY3RBY3Rpb24gPSBhY3Rpb24obmFtZSwgb3B0cy5vbkVycm9yID8gd3JhcEVycm9ySGFuZGxlcihvcHRzLm9uRXJyb3IsIGVmZmVjdCkgOiBlZmZlY3QpO1xuICB2YXIgcnVuU3luYyA9ICFvcHRzLnNjaGVkdWxlciAmJiAhb3B0cy5kZWxheTtcbiAgdmFyIHNjaGVkdWxlciA9IGNyZWF0ZVNjaGVkdWxlckZyb21PcHRpb25zKG9wdHMpO1xuICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcbiAgdmFyIGlzU2NoZWR1bGVkID0gZmFsc2U7XG4gIHZhciB2YWx1ZTtcbiAgdmFyIGVxdWFscyA9IG9wdHMuY29tcGFyZVN0cnVjdHVyYWwgPyBjb21wYXJlci5zdHJ1Y3R1cmFsIDogb3B0cy5lcXVhbHMgfHwgY29tcGFyZXIuZGVmYXVsdDtcbiAgdmFyIHIgPSBuZXcgUmVhY3Rpb24obmFtZSwgZnVuY3Rpb24gKCkge1xuICAgIGlmIChmaXJzdFRpbWUgfHwgcnVuU3luYykge1xuICAgICAgcmVhY3Rpb25SdW5uZXIoKTtcbiAgICB9IGVsc2UgaWYgKCFpc1NjaGVkdWxlZCkge1xuICAgICAgaXNTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgc2NoZWR1bGVyKHJlYWN0aW9uUnVubmVyKTtcbiAgICB9XG4gIH0sIG9wdHMub25FcnJvciwgb3B0cy5yZXF1aXJlc09ic2VydmFibGUpO1xuXG4gIGZ1bmN0aW9uIHJlYWN0aW9uUnVubmVyKCkge1xuICAgIGlzU2NoZWR1bGVkID0gZmFsc2U7IC8vIFE6IG1vdmUgaW50byByZWFjdGlvbiBydW5uZXI/XG5cbiAgICBpZiAoci5pc0Rpc3Bvc2VkKSByZXR1cm47XG4gICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICByLnRyYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBuZXh0VmFsdWUgPSBleHByZXNzaW9uKHIpO1xuICAgICAgY2hhbmdlZCA9IGZpcnN0VGltZSB8fCAhZXF1YWxzKHZhbHVlLCBuZXh0VmFsdWUpO1xuICAgICAgdmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgfSk7XG4gICAgaWYgKGZpcnN0VGltZSAmJiBvcHRzLmZpcmVJbW1lZGlhdGVseSkgZWZmZWN0QWN0aW9uKHZhbHVlLCByKTtcbiAgICBpZiAoIWZpcnN0VGltZSAmJiBjaGFuZ2VkID09PSB0cnVlKSBlZmZlY3RBY3Rpb24odmFsdWUsIHIpO1xuICAgIGlmIChmaXJzdFRpbWUpIGZpcnN0VGltZSA9IGZhbHNlO1xuICB9XG5cbiAgci5zY2hlZHVsZSgpO1xuICByZXR1cm4gci5nZXREaXNwb3NlcigpO1xufVxuXG5mdW5jdGlvbiB3cmFwRXJyb3JIYW5kbGVyKGVycm9ySGFuZGxlciwgYmFzZUZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBiYXNlRm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvckhhbmRsZXIuY2FsbCh0aGlzLCBlKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uQmVjb21lT2JzZXJ2ZWQodGhpbmcsIGFyZzIsIGFyZzMpIHtcbiAgcmV0dXJuIGludGVyY2VwdEhvb2soXCJvbkJlY29tZU9ic2VydmVkXCIsIHRoaW5nLCBhcmcyLCBhcmczKTtcbn1cblxuZnVuY3Rpb24gb25CZWNvbWVVbm9ic2VydmVkKHRoaW5nLCBhcmcyLCBhcmczKSB7XG4gIHJldHVybiBpbnRlcmNlcHRIb29rKFwib25CZWNvbWVVbm9ic2VydmVkXCIsIHRoaW5nLCBhcmcyLCBhcmczKTtcbn1cblxuZnVuY3Rpb24gaW50ZXJjZXB0SG9vayhob29rLCB0aGluZywgYXJnMiwgYXJnMykge1xuICB2YXIgYXRvbSA9IHR5cGVvZiBhcmczID09PSBcImZ1bmN0aW9uXCIgPyBnZXRBdG9tKHRoaW5nLCBhcmcyKSA6IGdldEF0b20odGhpbmcpO1xuICB2YXIgY2IgPSB0eXBlb2YgYXJnMyA9PT0gXCJmdW5jdGlvblwiID8gYXJnMyA6IGFyZzI7XG4gIHZhciBsaXN0ZW5lcnNLZXkgPSBob29rICsgXCJMaXN0ZW5lcnNcIjtcblxuICBpZiAoYXRvbVtsaXN0ZW5lcnNLZXldKSB7XG4gICAgYXRvbVtsaXN0ZW5lcnNLZXldLmFkZChjYik7XG4gIH0gZWxzZSB7XG4gICAgYXRvbVtsaXN0ZW5lcnNLZXldID0gbmV3IFNldChbY2JdKTtcbiAgfVxuXG4gIHZhciBvcmlnID0gYXRvbVtob29rXTtcbiAgaWYgKHR5cGVvZiBvcmlnICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBmYWlsKCB0cnVlICYmIFwiTm90IGFuIGF0b20gdGhhdCBjYW4gYmUgKHVuKW9ic2VydmVkXCIpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBob29rTGlzdGVuZXJzID0gYXRvbVtsaXN0ZW5lcnNLZXldO1xuXG4gICAgaWYgKGhvb2tMaXN0ZW5lcnMpIHtcbiAgICAgIGhvb2tMaXN0ZW5lcnMuZGVsZXRlKGNiKTtcblxuICAgICAgaWYgKGhvb2tMaXN0ZW5lcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBkZWxldGUgYXRvbVtsaXN0ZW5lcnNLZXldO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlKG9wdGlvbnMpIHtcbiAgdmFyIGVuZm9yY2VBY3Rpb25zID0gb3B0aW9ucy5lbmZvcmNlQWN0aW9ucyxcbiAgICAgIGNvbXB1dGVkUmVxdWlyZXNSZWFjdGlvbiA9IG9wdGlvbnMuY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uLFxuICAgICAgY29tcHV0ZWRDb25maWd1cmFibGUgPSBvcHRpb25zLmNvbXB1dGVkQ29uZmlndXJhYmxlLFxuICAgICAgZGlzYWJsZUVycm9yQm91bmRhcmllcyA9IG9wdGlvbnMuZGlzYWJsZUVycm9yQm91bmRhcmllcyxcbiAgICAgIHJlYWN0aW9uU2NoZWR1bGVyID0gb3B0aW9ucy5yZWFjdGlvblNjaGVkdWxlcixcbiAgICAgIHJlYWN0aW9uUmVxdWlyZXNPYnNlcnZhYmxlID0gb3B0aW9ucy5yZWFjdGlvblJlcXVpcmVzT2JzZXJ2YWJsZSxcbiAgICAgIG9ic2VydmFibGVSZXF1aXJlc1JlYWN0aW9uID0gb3B0aW9ucy5vYnNlcnZhYmxlUmVxdWlyZXNSZWFjdGlvbjtcblxuICBpZiAob3B0aW9ucy5pc29sYXRlR2xvYmFsU3RhdGUgPT09IHRydWUpIHtcbiAgICBpc29sYXRlR2xvYmFsU3RhdGUoKTtcbiAgfVxuXG4gIGlmIChlbmZvcmNlQWN0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBlbmZvcmNlQWN0aW9ucyA9PT0gXCJib29sZWFuXCIgfHwgZW5mb3JjZUFjdGlvbnMgPT09IFwic3RyaWN0XCIpIGRlcHJlY2F0ZWQoXCJEZXByZWNhdGVkIHZhbHVlIGZvciAnZW5mb3JjZUFjdGlvbnMnLCB1c2UgJ2ZhbHNlJyA9PiAnXFxcIm5ldmVyXFxcIicsICd0cnVlJyA9PiAnXFxcIm9ic2VydmVkXFxcIicsICdcXFwic3RyaWN0XFxcIicgPT4gXFxcIidhbHdheXMnXFxcIiBpbnN0ZWFkXCIpO1xuICAgIHZhciBlYSA9IHZvaWQgMDtcblxuICAgIHN3aXRjaCAoZW5mb3JjZUFjdGlvbnMpIHtcbiAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgIGNhc2UgXCJvYnNlcnZlZFwiOlxuICAgICAgICBlYSA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIGZhbHNlOlxuICAgICAgY2FzZSBcIm5ldmVyXCI6XG4gICAgICAgIGVhID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwic3RyaWN0XCI6XG4gICAgICBjYXNlIFwiYWx3YXlzXCI6XG4gICAgICAgIGVhID0gXCJzdHJpY3RcIjtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGZhaWwoXCJJbnZhbGlkIHZhbHVlIGZvciAnZW5mb3JjZUFjdGlvbnMnOiAnXCIgKyBlbmZvcmNlQWN0aW9ucyArIFwiJywgZXhwZWN0ZWQgJ25ldmVyJywgJ2Fsd2F5cycgb3IgJ29ic2VydmVkJ1wiKTtcbiAgICB9XG5cbiAgICBnbG9iYWxTdGF0ZS5lbmZvcmNlQWN0aW9ucyA9IGVhO1xuICAgIGdsb2JhbFN0YXRlLmFsbG93U3RhdGVDaGFuZ2VzID0gZWEgPT09IHRydWUgfHwgZWEgPT09IFwic3RyaWN0XCIgPyBmYWxzZSA6IHRydWU7XG4gIH1cblxuICBpZiAoY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICBnbG9iYWxTdGF0ZS5jb21wdXRlZFJlcXVpcmVzUmVhY3Rpb24gPSAhIWNvbXB1dGVkUmVxdWlyZXNSZWFjdGlvbjtcbiAgfVxuXG4gIGlmIChyZWFjdGlvblJlcXVpcmVzT2JzZXJ2YWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZ2xvYmFsU3RhdGUucmVhY3Rpb25SZXF1aXJlc09ic2VydmFibGUgPSAhIXJlYWN0aW9uUmVxdWlyZXNPYnNlcnZhYmxlO1xuICB9XG5cbiAgaWYgKG9ic2VydmFibGVSZXF1aXJlc1JlYWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICBnbG9iYWxTdGF0ZS5vYnNlcnZhYmxlUmVxdWlyZXNSZWFjdGlvbiA9ICEhb2JzZXJ2YWJsZVJlcXVpcmVzUmVhY3Rpb247XG4gICAgZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZVJlYWRzID0gIWdsb2JhbFN0YXRlLm9ic2VydmFibGVSZXF1aXJlc1JlYWN0aW9uO1xuICB9XG5cbiAgaWYgKGNvbXB1dGVkQ29uZmlndXJhYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICBnbG9iYWxTdGF0ZS5jb21wdXRlZENvbmZpZ3VyYWJsZSA9ICEhY29tcHV0ZWRDb25maWd1cmFibGU7XG4gIH1cblxuICBpZiAoZGlzYWJsZUVycm9yQm91bmRhcmllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGRpc2FibGVFcnJvckJvdW5kYXJpZXMgPT09IHRydWUpIGNvbnNvbGUud2FybihcIldBUk5JTkc6IERlYnVnIGZlYXR1cmUgb25seS4gTW9iWCB3aWxsIE5PVCByZWNvdmVyIGZyb20gZXJyb3JzIHdoZW4gYGRpc2FibGVFcnJvckJvdW5kYXJpZXNgIGlzIGVuYWJsZWQuXCIpO1xuICAgIGdsb2JhbFN0YXRlLmRpc2FibGVFcnJvckJvdW5kYXJpZXMgPSAhIWRpc2FibGVFcnJvckJvdW5kYXJpZXM7XG4gIH1cblxuICBpZiAocmVhY3Rpb25TY2hlZHVsZXIpIHtcbiAgICBzZXRSZWFjdGlvblNjaGVkdWxlcihyZWFjdGlvblNjaGVkdWxlcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVjb3JhdGUodGhpbmcsIGRlY29yYXRvcnMpIHtcbiAgIHRydWUgJiYgaW52YXJpYW50KGlzUGxhaW5PYmplY3QoZGVjb3JhdG9ycyksIFwiRGVjb3JhdG9ycyBzaG91bGQgYmUgYSBrZXkgdmFsdWUgbWFwXCIpO1xuICB2YXIgdGFyZ2V0ID0gdHlwZW9mIHRoaW5nID09PSBcImZ1bmN0aW9uXCIgPyB0aGluZy5wcm90b3R5cGUgOiB0aGluZztcblxuICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgdmFyIHByb3BlcnR5RGVjb3JhdG9ycyA9IGRlY29yYXRvcnNbcHJvcF07XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcGVydHlEZWNvcmF0b3JzKSkge1xuICAgICAgcHJvcGVydHlEZWNvcmF0b3JzID0gW3Byb3BlcnR5RGVjb3JhdG9yc107XG4gICAgfVxuXG4gICAgIHRydWUgJiYgaW52YXJpYW50KHByb3BlcnR5RGVjb3JhdG9ycy5ldmVyeShmdW5jdGlvbiAoZGVjb3JhdG9yKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGRlY29yYXRvciA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH0pLCBcIkRlY29yYXRlOiBleHBlY3RlZCBhIGRlY29yYXRvciBmdW5jdGlvbiBvciBhcnJheSBvZiBkZWNvcmF0b3IgZnVuY3Rpb25zIGZvciAnXCIgKyBwcm9wICsgXCInXCIpO1xuICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3ApO1xuICAgIHZhciBuZXdEZXNjcmlwdG9yID0gcHJvcGVydHlEZWNvcmF0b3JzLnJlZHVjZShmdW5jdGlvbiAoYWNjRGVzY3JpcHRvciwgZGVjb3JhdG9yKSB7XG4gICAgICByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcCwgYWNjRGVzY3JpcHRvcik7XG4gICAgfSwgZGVzY3JpcHRvcik7XG4gICAgaWYgKG5ld0Rlc2NyaXB0b3IpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIG5ld0Rlc2NyaXB0b3IpO1xuICB9O1xuXG4gIGZvciAodmFyIHByb3AgaW4gZGVjb3JhdG9ycykge1xuICAgIF9sb29wXzEocHJvcCk7XG4gIH1cblxuICByZXR1cm4gdGhpbmc7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZE9ic2VydmFibGUodGFyZ2V0LCBwcm9wZXJ0aWVzLCBkZWNvcmF0b3JzLCBvcHRpb25zKSB7XG4gIGlmICh0cnVlKSB7XG4gICAgaW52YXJpYW50KGFyZ3VtZW50cy5sZW5ndGggPj0gMiAmJiBhcmd1bWVudHMubGVuZ3RoIDw9IDQsIFwiJ2V4dGVuZE9ic2VydmFibGUnIGV4cGVjdGVkIDItNCBhcmd1bWVudHNcIik7XG4gICAgaW52YXJpYW50KHR5cGVvZiB0YXJnZXQgPT09IFwib2JqZWN0XCIsIFwiJ2V4dGVuZE9ic2VydmFibGUnIGV4cGVjdHMgYW4gb2JqZWN0IGFzIGZpcnN0IGFyZ3VtZW50XCIpO1xuICAgIGludmFyaWFudCghaXNPYnNlcnZhYmxlTWFwKHRhcmdldCksIFwiJ2V4dGVuZE9ic2VydmFibGUnIHNob3VsZCBub3QgYmUgdXNlZCBvbiBtYXBzLCB1c2UgbWFwLm1lcmdlIGluc3RlYWRcIik7XG4gIH1cblxuICBvcHRpb25zID0gYXNDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyhvcHRpb25zKTtcbiAgdmFyIGRlZmF1bHREZWNvcmF0b3IgPSBnZXREZWZhdWx0RGVjb3JhdG9yRnJvbU9iamVjdE9wdGlvbnMob3B0aW9ucyk7XG4gIGluaXRpYWxpemVJbnN0YW5jZSh0YXJnZXQpOyAvLyBGaXhlcyAjMTc0MFxuXG4gIGFzT2JzZXJ2YWJsZU9iamVjdCh0YXJnZXQsIG9wdGlvbnMubmFtZSwgZGVmYXVsdERlY29yYXRvci5lbmhhbmNlcik7IC8vIG1ha2Ugc3VyZSBvYmplY3QgaXMgb2JzZXJ2YWJsZSwgZXZlbiB3aXRob3V0IGluaXRpYWwgcHJvcHNcblxuICBpZiAocHJvcGVydGllcykgZXh0ZW5kT2JzZXJ2YWJsZU9iamVjdFdpdGhQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcGVydGllcywgZGVjb3JhdG9ycywgZGVmYXVsdERlY29yYXRvcik7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHREZWNvcmF0b3JGcm9tT2JqZWN0T3B0aW9ucyhvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLmRlZmF1bHREZWNvcmF0b3IgfHwgKG9wdGlvbnMuZGVlcCA9PT0gZmFsc2UgPyByZWZEZWNvcmF0b3IgOiBkZWVwRGVjb3JhdG9yKTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kT2JzZXJ2YWJsZU9iamVjdFdpdGhQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcGVydGllcywgZGVjb3JhdG9ycywgZGVmYXVsdERlY29yYXRvcikge1xuICB2YXIgZV8xLCBfYSwgZV8yLCBfYjtcblxuICBpZiAodHJ1ZSkge1xuICAgIGludmFyaWFudCghaXNPYnNlcnZhYmxlKHByb3BlcnRpZXMpLCBcIkV4dGVuZGluZyBhbiBvYmplY3Qgd2l0aCBhbm90aGVyIG9ic2VydmFibGUgKG9iamVjdCkgaXMgbm90IHN1cHBvcnRlZC4gUGxlYXNlIGNvbnN0cnVjdCBhbiBleHBsaWNpdCBwcm9wZXJ0eW1hcCwgdXNpbmcgYHRvSlNgIGlmIG5lZWQuIFNlZSBpc3N1ZSAjNTQwXCIpO1xuXG4gICAgaWYgKGRlY29yYXRvcnMpIHtcbiAgICAgIHZhciBrZXlzID0gZ2V0UGxhaW5PYmplY3RLZXlzKGRlY29yYXRvcnMpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBrZXlzXzEgPSBfX3ZhbHVlcyhrZXlzKSwga2V5c18xXzEgPSBrZXlzXzEubmV4dCgpOyAha2V5c18xXzEuZG9uZTsga2V5c18xXzEgPSBrZXlzXzEubmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGtleXNfMV8xLnZhbHVlO1xuICAgICAgICAgIGlmICghKGtleSBpbiBwcm9wZXJ0aWVzKSkgZmFpbChcIlRyeWluZyB0byBkZWNsYXJlIGEgZGVjb3JhdG9yIGZvciB1bnNwZWNpZmllZCBwcm9wZXJ0eSAnXCIgKyBzdHJpbmdpZnlLZXkoa2V5KSArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZV8xXzEpIHtcbiAgICAgICAgZV8xID0ge1xuICAgICAgICAgIGVycm9yOiBlXzFfMVxuICAgICAgICB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoa2V5c18xXzEgJiYgIWtleXNfMV8xLmRvbmUgJiYgKF9hID0ga2V5c18xLnJldHVybikpIF9hLmNhbGwoa2V5c18xKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGFydEJhdGNoKCk7XG5cbiAgdHJ5IHtcbiAgICB2YXIga2V5cyA9IGdldFBsYWluT2JqZWN0S2V5cyhwcm9wZXJ0aWVzKTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBrZXlzXzIgPSBfX3ZhbHVlcyhrZXlzKSwga2V5c18yXzEgPSBrZXlzXzIubmV4dCgpOyAha2V5c18yXzEuZG9uZTsga2V5c18yXzEgPSBrZXlzXzIubmV4dCgpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzXzJfMS52YWx1ZTtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3BlcnRpZXMsIGtleSk7XG5cbiAgICAgICAgaWYgKHRydWUpIHtcbiAgICAgICAgICBpZiAoIWlzUGxhaW5PYmplY3QocHJvcGVydGllcykpIGZhaWwoXCInZXh0ZW5kT2JzZXJ2YWJlJyBvbmx5IGFjY2VwdHMgcGxhaW4gb2JqZWN0cyBhcyBzZWNvbmQgYXJndW1lbnRcIik7XG4gICAgICAgICAgaWYgKGlzQ29tcHV0ZWQoZGVzY3JpcHRvci52YWx1ZSkpIGZhaWwoXCJQYXNzaW5nIGEgJ2NvbXB1dGVkJyBhcyBpbml0aWFsIHByb3BlcnR5IHZhbHVlIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgYnkgZXh0ZW5kT2JzZXJ2YWJsZS4gVXNlIGEgZ2V0dGVyIG9yIGRlY29yYXRvciBpbnN0ZWFkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlY29yYXRvciA9IGRlY29yYXRvcnMgJiYga2V5IGluIGRlY29yYXRvcnMgPyBkZWNvcmF0b3JzW2tleV0gOiBkZXNjcmlwdG9yLmdldCA/IGNvbXB1dGVkRGVjb3JhdG9yIDogZGVmYXVsdERlY29yYXRvcjtcbiAgICAgICAgaWYgKCB0cnVlICYmIHR5cGVvZiBkZWNvcmF0b3IgIT09IFwiZnVuY3Rpb25cIikgZmFpbChcIk5vdCBhIHZhbGlkIGRlY29yYXRvciBmb3IgJ1wiICsgc3RyaW5naWZ5S2V5KGtleSkgKyBcIicsIGdvdDogXCIgKyBkZWNvcmF0b3IpO1xuICAgICAgICB2YXIgcmVzdWx0RGVzY3JpcHRvciA9IGRlY29yYXRvcih0YXJnZXQsIGtleSwgZGVzY3JpcHRvciwgdHJ1ZSk7XG4gICAgICAgIGlmIChyZXN1bHREZXNjcmlwdG9yIC8vIG90aGVyd2lzZSwgYXNzdW1lIGFscmVhZHkgYXBwbGllZCwgZHVlIHRvIGBhcHBseVRvSW5zdGFuY2VgXG4gICAgICAgICkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByZXN1bHREZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlXzJfMSkge1xuICAgICAgZV8yID0ge1xuICAgICAgICBlcnJvcjogZV8yXzFcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChrZXlzXzJfMSAmJiAha2V5c18yXzEuZG9uZSAmJiAoX2IgPSBrZXlzXzIucmV0dXJuKSkgX2IuY2FsbChrZXlzXzIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBlbmRCYXRjaCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlcGVuZGVuY3lUcmVlKHRoaW5nLCBwcm9wZXJ0eSkge1xuICByZXR1cm4gbm9kZVRvRGVwZW5kZW5jeVRyZWUoZ2V0QXRvbSh0aGluZywgcHJvcGVydHkpKTtcbn1cblxuZnVuY3Rpb24gbm9kZVRvRGVwZW5kZW5jeVRyZWUobm9kZSkge1xuICB2YXIgcmVzdWx0ID0ge1xuICAgIG5hbWU6IG5vZGUubmFtZVxuICB9O1xuICBpZiAobm9kZS5vYnNlcnZpbmcgJiYgbm9kZS5vYnNlcnZpbmcubGVuZ3RoID4gMCkgcmVzdWx0LmRlcGVuZGVuY2llcyA9IHVuaXF1ZShub2RlLm9ic2VydmluZykubWFwKG5vZGVUb0RlcGVuZGVuY3lUcmVlKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZ2V0T2JzZXJ2ZXJUcmVlKHRoaW5nLCBwcm9wZXJ0eSkge1xuICByZXR1cm4gbm9kZVRvT2JzZXJ2ZXJUcmVlKGdldEF0b20odGhpbmcsIHByb3BlcnR5KSk7XG59XG5cbmZ1bmN0aW9uIG5vZGVUb09ic2VydmVyVHJlZShub2RlKSB7XG4gIHZhciByZXN1bHQgPSB7XG4gICAgbmFtZTogbm9kZS5uYW1lXG4gIH07XG4gIGlmIChoYXNPYnNlcnZlcnMobm9kZSkpIHJlc3VsdC5vYnNlcnZlcnMgPSBBcnJheS5mcm9tKGdldE9ic2VydmVycyhub2RlKSkubWFwKG5vZGVUb09ic2VydmVyVHJlZSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbnZhciBnZW5lcmF0b3JJZCA9IDA7XG5cbmZ1bmN0aW9uIEZsb3dDYW5jZWxsYXRpb25FcnJvcigpIHtcbiAgdGhpcy5tZXNzYWdlID0gXCJGTE9XX0NBTkNFTExFRFwiO1xufVxuXG5GbG93Q2FuY2VsbGF0aW9uRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuXG5mdW5jdGlvbiBpc0Zsb3dDYW5jZWxsYXRpb25FcnJvcihlcnJvcikge1xuICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBGbG93Q2FuY2VsbGF0aW9uRXJyb3I7XG59XG5cbmZ1bmN0aW9uIGZsb3coZ2VuZXJhdG9yKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAxKSBmYWlsKCB0cnVlICYmIFwiRmxvdyBleHBlY3RzIDEgYXJndW1lbnQgYW5kIGNhbm5vdCBiZSB1c2VkIGFzIGRlY29yYXRvclwiKTtcbiAgdmFyIG5hbWUgPSBnZW5lcmF0b3IubmFtZSB8fCBcIjx1bm5hbWVkIGZsb3c+XCI7IC8vIEltcGxlbWVudGF0aW9uIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS90ai9jby9ibG9iL21hc3Rlci9pbmRleC5qc1xuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGN0eCA9IHRoaXM7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHJ1bklkID0gKytnZW5lcmF0b3JJZDtcbiAgICB2YXIgZ2VuID0gYWN0aW9uKG5hbWUgKyBcIiAtIHJ1bmlkOiBcIiArIHJ1bklkICsgXCIgLSBpbml0XCIsIGdlbmVyYXRvcikuYXBwbHkoY3R4LCBhcmdzKTtcbiAgICB2YXIgcmVqZWN0b3I7XG4gICAgdmFyIHBlbmRpbmdQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHN0ZXBJZCA9IDA7XG4gICAgICByZWplY3RvciA9IHJlamVjdDtcblxuICAgICAgZnVuY3Rpb24gb25GdWxmaWxsZWQocmVzKSB7XG4gICAgICAgIHBlbmRpbmdQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgcmV0O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0ID0gYWN0aW9uKG5hbWUgKyBcIiAtIHJ1bmlkOiBcIiArIHJ1bklkICsgXCIgLSB5aWVsZCBcIiArIHN0ZXBJZCsrLCBnZW4ubmV4dCkuY2FsbChnZW4sIHJlcyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV4dChyZXQpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvblJlamVjdGVkKGVycikge1xuICAgICAgICBwZW5kaW5nUHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHJldDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldCA9IGFjdGlvbihuYW1lICsgXCIgLSBydW5pZDogXCIgKyBydW5JZCArIFwiIC0geWllbGQgXCIgKyBzdGVwSWQrKywgZ2VuLnRocm93KS5jYWxsKGdlbiwgZXJyKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZSk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0KHJldCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG5leHQocmV0KSB7XG4gICAgICAgIGlmIChyZXQgJiYgdHlwZW9mIHJldC50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAvLyBhbiBhc3luYyBpdGVyYXRvclxuICAgICAgICAgIHJldC50aGVuKG5leHQsIHJlamVjdCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJldC5kb25lKSByZXR1cm4gcmVzb2x2ZShyZXQudmFsdWUpO1xuICAgICAgICBwZW5kaW5nUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShyZXQudmFsdWUpO1xuICAgICAgICByZXR1cm4gcGVuZGluZ1Byb21pc2UudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gICAgICB9XG5cbiAgICAgIG9uRnVsZmlsbGVkKHVuZGVmaW5lZCk7IC8vIGtpY2sgb2ZmIHRoZSBwcm9jZXNzXG4gICAgfSk7XG4gICAgcHJvbWlzZS5jYW5jZWwgPSBhY3Rpb24obmFtZSArIFwiIC0gcnVuaWQ6IFwiICsgcnVuSWQgKyBcIiAtIGNhbmNlbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAocGVuZGluZ1Byb21pc2UpIGNhbmNlbFByb21pc2UocGVuZGluZ1Byb21pc2UpOyAvLyBGaW5hbGx5IGJsb2NrIGNhbiByZXR1cm4gKG9yIHlpZWxkKSBzdHVmZi4uXG5cbiAgICAgICAgdmFyIHJlcyA9IGdlbi5yZXR1cm4odW5kZWZpbmVkKTsgLy8gZWF0IGFueXRoaW5nIHRoYXQgcHJvbWlzZSB3b3VsZCBkbywgaXQncyBjYW5jZWxsZWQhXG5cbiAgICAgICAgdmFyIHlpZWxkZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHJlcy52YWx1ZSk7XG4gICAgICAgIHlpZWxkZWRQcm9taXNlLnRoZW4obm9vcCwgbm9vcCk7XG4gICAgICAgIGNhbmNlbFByb21pc2UoeWllbGRlZFByb21pc2UpOyAvLyBtYXliZSBpdCBjYW4gYmUgY2FuY2VsbGVkIDopXG4gICAgICAgIC8vIHJlamVjdCBvdXIgb3JpZ2luYWwgcHJvbWlzZVxuXG4gICAgICAgIHJlamVjdG9yKG5ldyBGbG93Q2FuY2VsbGF0aW9uRXJyb3IoKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdG9yKGUpOyAvLyB0aGVyZSBjb3VsZCBiZSBhIHRocm93aW5nIGZpbmFsbHkgYmxvY2tcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2FuY2VsUHJvbWlzZShwcm9taXNlKSB7XG4gIGlmICh0eXBlb2YgcHJvbWlzZS5jYW5jZWwgPT09IFwiZnVuY3Rpb25cIikgcHJvbWlzZS5jYW5jZWwoKTtcbn1cblxuZnVuY3Rpb24gaW50ZXJjZXB0UmVhZHModGhpbmcsIHByb3BPckhhbmRsZXIsIGhhbmRsZXIpIHtcbiAgdmFyIHRhcmdldDtcblxuICBpZiAoaXNPYnNlcnZhYmxlTWFwKHRoaW5nKSB8fCBpc09ic2VydmFibGVBcnJheSh0aGluZykgfHwgaXNPYnNlcnZhYmxlVmFsdWUodGhpbmcpKSB7XG4gICAgdGFyZ2V0ID0gZ2V0QWRtaW5pc3RyYXRpb24odGhpbmcpO1xuICB9IGVsc2UgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdCh0aGluZykpIHtcbiAgICBpZiAodHlwZW9mIHByb3BPckhhbmRsZXIgIT09IFwic3RyaW5nXCIpIHJldHVybiBmYWlsKCB0cnVlICYmIFwiSW50ZXJjZXB0UmVhZHMgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIGEgc3BlY2lmaWMgcHJvcGVydHksIG5vdCB3aXRoIGFuIG9iamVjdCBpbiBnZW5lcmFsXCIpO1xuICAgIHRhcmdldCA9IGdldEFkbWluaXN0cmF0aW9uKHRoaW5nLCBwcm9wT3JIYW5kbGVyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFpbCggdHJ1ZSAmJiBcIkV4cGVjdGVkIG9ic2VydmFibGUgbWFwLCBvYmplY3Qgb3IgYXJyYXkgYXMgZmlyc3QgYXJyYXlcIik7XG4gIH1cblxuICBpZiAodGFyZ2V0LmRlaGFuY2VyICE9PSB1bmRlZmluZWQpIHJldHVybiBmYWlsKCB0cnVlICYmIFwiQW4gaW50ZXJjZXB0IHJlYWRlciB3YXMgYWxyZWFkeSBlc3RhYmxpc2hlZFwiKTtcbiAgdGFyZ2V0LmRlaGFuY2VyID0gdHlwZW9mIHByb3BPckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIiA/IHByb3BPckhhbmRsZXIgOiBoYW5kbGVyO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHRhcmdldC5kZWhhbmNlciA9IHVuZGVmaW5lZDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaW50ZXJjZXB0KHRoaW5nLCBwcm9wT3JIYW5kbGVyLCBoYW5kbGVyKSB7XG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gaW50ZXJjZXB0UHJvcGVydHkodGhpbmcsIHByb3BPckhhbmRsZXIsIGhhbmRsZXIpO2Vsc2UgcmV0dXJuIGludGVyY2VwdEludGVyY2VwdGFibGUodGhpbmcsIHByb3BPckhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBpbnRlcmNlcHRJbnRlcmNlcHRhYmxlKHRoaW5nLCBoYW5kbGVyKSB7XG4gIHJldHVybiBnZXRBZG1pbmlzdHJhdGlvbih0aGluZykuaW50ZXJjZXB0KGhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBpbnRlcmNlcHRQcm9wZXJ0eSh0aGluZywgcHJvcGVydHksIGhhbmRsZXIpIHtcbiAgcmV0dXJuIGdldEFkbWluaXN0cmF0aW9uKHRoaW5nLCBwcm9wZXJ0eSkuaW50ZXJjZXB0KGhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBfaXNDb21wdXRlZCh2YWx1ZSwgcHJvcGVydHkpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICBpZiAocHJvcGVydHkgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChpc09ic2VydmFibGVPYmplY3QodmFsdWUpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghdmFsdWVbJG1vYnhdLnZhbHVlcy5oYXMocHJvcGVydHkpKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIGF0b20gPSBnZXRBdG9tKHZhbHVlLCBwcm9wZXJ0eSk7XG4gICAgcmV0dXJuIGlzQ29tcHV0ZWRWYWx1ZShhdG9tKTtcbiAgfVxuXG4gIHJldHVybiBpc0NvbXB1dGVkVmFsdWUodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBpc0NvbXB1dGVkKHZhbHVlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgcmV0dXJuIGZhaWwoIHRydWUgJiYgXCJpc0NvbXB1dGVkIGV4cGVjdHMgb25seSAxIGFyZ3VtZW50LiBVc2UgaXNPYnNlcnZhYmxlUHJvcCB0byBpbnNwZWN0IHRoZSBvYnNlcnZhYmlsaXR5IG9mIGEgcHJvcGVydHlcIik7XG4gIHJldHVybiBfaXNDb21wdXRlZCh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGlzQ29tcHV0ZWRQcm9wKHZhbHVlLCBwcm9wTmFtZSkge1xuICBpZiAodHlwZW9mIHByb3BOYW1lICE9PSBcInN0cmluZ1wiKSByZXR1cm4gZmFpbCggdHJ1ZSAmJiBcImlzQ29tcHV0ZWQgZXhwZWN0ZWQgYSBwcm9wZXJ0eSBuYW1lIGFzIHNlY29uZCBhcmd1bWVudFwiKTtcbiAgcmV0dXJuIF9pc0NvbXB1dGVkKHZhbHVlLCBwcm9wTmFtZSk7XG59XG5cbmZ1bmN0aW9uIF9pc09ic2VydmFibGUodmFsdWUsIHByb3BlcnR5KSB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHByb3BlcnR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIHRydWUgJiYgKGlzT2JzZXJ2YWJsZU1hcCh2YWx1ZSkgfHwgaXNPYnNlcnZhYmxlQXJyYXkodmFsdWUpKSkgcmV0dXJuIGZhaWwoXCJpc09ic2VydmFibGUob2JqZWN0LCBwcm9wZXJ0eU5hbWUpIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIGFycmF5cyBhbmQgbWFwcy4gVXNlIG1hcC5oYXMgb3IgYXJyYXkubGVuZ3RoIGluc3RlYWQuXCIpO1xuXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZVskbW9ieF0udmFsdWVzLmhhcyhwcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIEZvciBmaXJzdCBjaGVjaywgc2VlICM3MDFcblxuXG4gIHJldHVybiBpc09ic2VydmFibGVPYmplY3QodmFsdWUpIHx8ICEhdmFsdWVbJG1vYnhdIHx8IGlzQXRvbSh2YWx1ZSkgfHwgaXNSZWFjdGlvbih2YWx1ZSkgfHwgaXNDb21wdXRlZFZhbHVlKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gaXNPYnNlcnZhYmxlKHZhbHVlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAxKSBmYWlsKCB0cnVlICYmIFwiaXNPYnNlcnZhYmxlIGV4cGVjdHMgb25seSAxIGFyZ3VtZW50LiBVc2UgaXNPYnNlcnZhYmxlUHJvcCB0byBpbnNwZWN0IHRoZSBvYnNlcnZhYmlsaXR5IG9mIGEgcHJvcGVydHlcIik7XG4gIHJldHVybiBfaXNPYnNlcnZhYmxlKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gaXNPYnNlcnZhYmxlUHJvcCh2YWx1ZSwgcHJvcE5hbWUpIHtcbiAgaWYgKHR5cGVvZiBwcm9wTmFtZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIGZhaWwoIHRydWUgJiYgXCJleHBlY3RlZCBhIHByb3BlcnR5IG5hbWUgYXMgc2Vjb25kIGFyZ3VtZW50XCIpO1xuICByZXR1cm4gX2lzT2JzZXJ2YWJsZSh2YWx1ZSwgcHJvcE5hbWUpO1xufVxuXG5mdW5jdGlvbiBrZXlzKG9iaikge1xuICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KG9iaikpIHtcbiAgICByZXR1cm4gb2JqWyRtb2J4XS5nZXRLZXlzKCk7XG4gIH1cblxuICBpZiAoaXNPYnNlcnZhYmxlTWFwKG9iaikpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShvYmoua2V5cygpKTtcbiAgfVxuXG4gIGlmIChpc09ic2VydmFibGVTZXQob2JqKSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKG9iai5rZXlzKCkpO1xuICB9XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZUFycmF5KG9iaikpIHtcbiAgICByZXR1cm4gb2JqLm1hcChmdW5jdGlvbiAoXywgaW5kZXgpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmYWlsKCB0cnVlICYmIFwiJ2tleXMoKScgY2FuIG9ubHkgYmUgdXNlZCBvbiBvYnNlcnZhYmxlIG9iamVjdHMsIGFycmF5cywgc2V0cyBhbmQgbWFwc1wiKTtcbn1cblxuZnVuY3Rpb24gdmFsdWVzKG9iaikge1xuICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KG9iaikpIHtcbiAgICByZXR1cm4ga2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXNPYnNlcnZhYmxlTWFwKG9iaikpIHtcbiAgICByZXR1cm4ga2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gb2JqLmdldChrZXkpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZVNldChvYmopKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20ob2JqLnZhbHVlcygpKTtcbiAgfVxuXG4gIGlmIChpc09ic2VydmFibGVBcnJheShvYmopKSB7XG4gICAgcmV0dXJuIG9iai5zbGljZSgpO1xuICB9XG5cbiAgcmV0dXJuIGZhaWwoIHRydWUgJiYgXCIndmFsdWVzKCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMsIHNldHMgYW5kIG1hcHNcIik7XG59XG5cbmZ1bmN0aW9uIGVudHJpZXMob2JqKSB7XG4gIGlmIChpc09ic2VydmFibGVPYmplY3Qob2JqKSkge1xuICAgIHJldHVybiBrZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmpba2V5XV07XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXNPYnNlcnZhYmxlTWFwKG9iaikpIHtcbiAgICByZXR1cm4ga2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gW2tleSwgb2JqLmdldChrZXkpXTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpc09ic2VydmFibGVTZXQob2JqKSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKG9iai5lbnRyaWVzKCkpO1xuICB9XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZUFycmF5KG9iaikpIHtcbiAgICByZXR1cm4gb2JqLm1hcChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgICAgcmV0dXJuIFtpbmRleCwga2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmYWlsKCB0cnVlICYmIFwiJ2VudHJpZXMoKScgY2FuIG9ubHkgYmUgdXNlZCBvbiBvYnNlcnZhYmxlIG9iamVjdHMsIGFycmF5cyBhbmQgbWFwc1wiKTtcbn1cblxuZnVuY3Rpb24gc2V0KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMiAmJiAhaXNPYnNlcnZhYmxlU2V0KG9iaikpIHtcbiAgICBzdGFydEJhdGNoKCk7XG4gICAgdmFyIHZhbHVlc18xID0ga2V5O1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIGtleV8xIGluIHZhbHVlc18xKSBzZXQob2JqLCBrZXlfMSwgdmFsdWVzXzFba2V5XzFdKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZW5kQmF0Y2goKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KG9iaikpIHtcbiAgICB2YXIgYWRtID0gb2JqWyRtb2J4XTtcbiAgICB2YXIgZXhpc3RpbmdPYnNlcnZhYmxlID0gYWRtLnZhbHVlcy5nZXQoa2V5KTtcblxuICAgIGlmIChleGlzdGluZ09ic2VydmFibGUpIHtcbiAgICAgIGFkbS53cml0ZShrZXksIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRtLmFkZE9ic2VydmFibGVQcm9wKGtleSwgdmFsdWUsIGFkbS5kZWZhdWx0RW5oYW5jZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09ic2VydmFibGVNYXAob2JqKSkge1xuICAgIG9iai5zZXQoa2V5LCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlU2V0KG9iaikpIHtcbiAgICBvYmouYWRkKGtleSk7XG4gIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkge1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSBcIm51bWJlclwiKSBrZXkgPSBwYXJzZUludChrZXksIDEwKTtcbiAgICBpbnZhcmlhbnQoa2V5ID49IDAsIFwiTm90IGEgdmFsaWQgaW5kZXg6ICdcIiArIGtleSArIFwiJ1wiKTtcbiAgICBzdGFydEJhdGNoKCk7XG4gICAgaWYgKGtleSA+PSBvYmoubGVuZ3RoKSBvYmoubGVuZ3RoID0ga2V5ICsgMTtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIGVuZEJhdGNoKCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhaWwoIHRydWUgJiYgXCInc2V0KCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMgYW5kIG1hcHNcIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlKG9iaiwga2V5KSB7XG4gIGlmIChpc09ic2VydmFibGVPYmplY3Qob2JqKSkge1xuICAgIG9ialskbW9ieF0ucmVtb3ZlKGtleSk7XG4gIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlTWFwKG9iaikpIHtcbiAgICBvYmouZGVsZXRlKGtleSk7XG4gIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlU2V0KG9iaikpIHtcbiAgICBvYmouZGVsZXRlKGtleSk7XG4gIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkge1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSBcIm51bWJlclwiKSBrZXkgPSBwYXJzZUludChrZXksIDEwKTtcbiAgICBpbnZhcmlhbnQoa2V5ID49IDAsIFwiTm90IGEgdmFsaWQgaW5kZXg6ICdcIiArIGtleSArIFwiJ1wiKTtcbiAgICBvYmouc3BsaWNlKGtleSwgMSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhaWwoIHRydWUgJiYgXCIncmVtb3ZlKCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMgYW5kIG1hcHNcIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFzKG9iaiwga2V5KSB7XG4gIGlmIChpc09ic2VydmFibGVPYmplY3Qob2JqKSkge1xuICAgIC8vIHJldHVybiBrZXlzKG9iaikuaW5kZXhPZihrZXkpID49IDBcbiAgICB2YXIgYWRtID0gZ2V0QWRtaW5pc3RyYXRpb24ob2JqKTtcbiAgICByZXR1cm4gYWRtLmhhcyhrZXkpO1xuICB9IGVsc2UgaWYgKGlzT2JzZXJ2YWJsZU1hcChvYmopKSB7XG4gICAgcmV0dXJuIG9iai5oYXMoa2V5KTtcbiAgfSBlbHNlIGlmIChpc09ic2VydmFibGVTZXQob2JqKSkge1xuICAgIHJldHVybiBvYmouaGFzKGtleSk7XG4gIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBrZXkgPj0gMCAmJiBrZXkgPCBvYmoubGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWlsKCB0cnVlICYmIFwiJ2hhcygpJyBjYW4gb25seSBiZSB1c2VkIG9uIG9ic2VydmFibGUgb2JqZWN0cywgYXJyYXlzIGFuZCBtYXBzXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldChvYmosIGtleSkge1xuICBpZiAoIWhhcyhvYmosIGtleSkpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdChvYmopKSB7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9IGVsc2UgaWYgKGlzT2JzZXJ2YWJsZU1hcChvYmopKSB7XG4gICAgcmV0dXJuIG9iai5nZXQoa2V5KTtcbiAgfSBlbHNlIGlmIChpc09ic2VydmFibGVBcnJheShvYmopKSB7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWlsKCB0cnVlICYmIFwiJ2dldCgpJyBjYW4gb25seSBiZSB1c2VkIG9uIG9ic2VydmFibGUgb2JqZWN0cywgYXJyYXlzIGFuZCBtYXBzXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9ic2VydmUodGhpbmcsIHByb3BPckNiLCBjYk9yRmlyZSwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gIGlmICh0eXBlb2YgY2JPckZpcmUgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG9ic2VydmVPYnNlcnZhYmxlUHJvcGVydHkodGhpbmcsIHByb3BPckNiLCBjYk9yRmlyZSwgZmlyZUltbWVkaWF0ZWx5KTtlbHNlIHJldHVybiBvYnNlcnZlT2JzZXJ2YWJsZSh0aGluZywgcHJvcE9yQ2IsIGNiT3JGaXJlKTtcbn1cblxuZnVuY3Rpb24gb2JzZXJ2ZU9ic2VydmFibGUodGhpbmcsIGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcbiAgcmV0dXJuIGdldEFkbWluaXN0cmF0aW9uKHRoaW5nKS5vYnNlcnZlKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpO1xufVxuXG5mdW5jdGlvbiBvYnNlcnZlT2JzZXJ2YWJsZVByb3BlcnR5KHRoaW5nLCBwcm9wZXJ0eSwgbGlzdGVuZXIsIGZpcmVJbW1lZGlhdGVseSkge1xuICByZXR1cm4gZ2V0QWRtaW5pc3RyYXRpb24odGhpbmcsIHByb3BlcnR5KS5vYnNlcnZlKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpO1xufVxuXG52YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGRldGVjdEN5Y2xlczogdHJ1ZSxcbiAgZXhwb3J0TWFwc0FzT2JqZWN0czogdHJ1ZSxcbiAgcmVjdXJzZUV2ZXJ5dGhpbmc6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBjYWNoZShtYXAsIGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuZGV0ZWN0Q3ljbGVzKSBtYXAuc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHRvSlNIZWxwZXIoc291cmNlLCBvcHRpb25zLCBfX2FscmVhZHlTZWVuKSB7XG4gIGlmICghb3B0aW9ucy5yZWN1cnNlRXZlcnl0aGluZyAmJiAhaXNPYnNlcnZhYmxlKHNvdXJjZSkpIHJldHVybiBzb3VyY2U7XG4gIGlmICh0eXBlb2Ygc291cmNlICE9PSBcIm9iamVjdFwiKSByZXR1cm4gc291cmNlOyAvLyBEaXJlY3RseSByZXR1cm4gbnVsbCBpZiBzb3VyY2UgaXMgbnVsbFxuXG4gIGlmIChzb3VyY2UgPT09IG51bGwpIHJldHVybiBudWxsOyAvLyBEaXJlY3RseSByZXR1cm4gdGhlIERhdGUgb2JqZWN0IGl0c2VsZiBpZiBjb250YWluZWQgaW4gdGhlIG9ic2VydmFibGVcblxuICBpZiAoc291cmNlIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHNvdXJjZTtcbiAgaWYgKGlzT2JzZXJ2YWJsZVZhbHVlKHNvdXJjZSkpIHJldHVybiB0b0pTSGVscGVyKHNvdXJjZS5nZXQoKSwgb3B0aW9ucywgX19hbHJlYWR5U2Vlbik7IC8vIG1ha2Ugc3VyZSB3ZSB0cmFjayB0aGUga2V5cyBvZiB0aGUgb2JqZWN0XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZShzb3VyY2UpKSBrZXlzKHNvdXJjZSk7XG4gIHZhciBkZXRlY3RDeWNsZXMgPSBvcHRpb25zLmRldGVjdEN5Y2xlcyA9PT0gdHJ1ZTtcblxuICBpZiAoZGV0ZWN0Q3ljbGVzICYmIHNvdXJjZSAhPT0gbnVsbCAmJiBfX2FscmVhZHlTZWVuLmhhcyhzb3VyY2UpKSB7XG4gICAgcmV0dXJuIF9fYWxyZWFkeVNlZW4uZ2V0KHNvdXJjZSk7XG4gIH1cblxuICBpZiAoaXNPYnNlcnZhYmxlQXJyYXkoc291cmNlKSB8fCBBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICB2YXIgcmVzXzEgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIFtdLCBvcHRpb25zKTtcbiAgICB2YXIgdG9BZGQgPSBzb3VyY2UubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvSlNIZWxwZXIodmFsdWUsIG9wdGlvbnMsIF9fYWxyZWFkeVNlZW4pO1xuICAgIH0pO1xuICAgIHJlc18xLmxlbmd0aCA9IHRvQWRkLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdG9BZGQubGVuZ3RoOyBpIDwgbDsgaSsrKSByZXNfMVtpXSA9IHRvQWRkW2ldO1xuXG4gICAgcmV0dXJuIHJlc18xO1xuICB9XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZVNldChzb3VyY2UpIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihzb3VyY2UpID09PSBTZXQucHJvdG90eXBlKSB7XG4gICAgaWYgKG9wdGlvbnMuZXhwb3J0TWFwc0FzT2JqZWN0cyA9PT0gZmFsc2UpIHtcbiAgICAgIHZhciByZXNfMiA9IGNhY2hlKF9fYWxyZWFkeVNlZW4sIHNvdXJjZSwgbmV3IFNldCgpLCBvcHRpb25zKTtcbiAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXNfMi5hZGQodG9KU0hlbHBlcih2YWx1ZSwgb3B0aW9ucywgX19hbHJlYWR5U2VlbikpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzXzI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXNfMyA9IGNhY2hlKF9fYWxyZWFkeVNlZW4sIHNvdXJjZSwgW10sIG9wdGlvbnMpO1xuICAgICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJlc18zLnB1c2godG9KU0hlbHBlcih2YWx1ZSwgb3B0aW9ucywgX19hbHJlYWR5U2VlbikpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzXzM7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZU1hcChzb3VyY2UpIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihzb3VyY2UpID09PSBNYXAucHJvdG90eXBlKSB7XG4gICAgaWYgKG9wdGlvbnMuZXhwb3J0TWFwc0FzT2JqZWN0cyA9PT0gZmFsc2UpIHtcbiAgICAgIHZhciByZXNfNCA9IGNhY2hlKF9fYWxyZWFkeVNlZW4sIHNvdXJjZSwgbmV3IE1hcCgpLCBvcHRpb25zKTtcbiAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIHJlc180LnNldChrZXksIHRvSlNIZWxwZXIodmFsdWUsIG9wdGlvbnMsIF9fYWxyZWFkeVNlZW4pKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc180O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcmVzXzUgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIHt9LCBvcHRpb25zKTtcbiAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIHJlc181W2tleV0gPSB0b0pTSGVscGVyKHZhbHVlLCBvcHRpb25zLCBfX2FscmVhZHlTZWVuKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc181O1xuICAgIH1cbiAgfSAvLyBGYWxsYmFjayB0byB0aGUgc2l0dWF0aW9uIHRoYXQgc291cmNlIGlzIGFuIE9ic2VydmFibGVPYmplY3Qgb3IgYSBwbGFpbiBvYmplY3RcblxuXG4gIHZhciByZXMgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIHt9LCBvcHRpb25zKTtcbiAgZ2V0UGxhaW5PYmplY3RLZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmVzW2tleV0gPSB0b0pTSGVscGVyKHNvdXJjZVtrZXldLCBvcHRpb25zLCBfX2FscmVhZHlTZWVuKTtcbiAgfSk7XG4gIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIHRvSlMoc291cmNlLCBvcHRpb25zKSB7XG4gIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIikgb3B0aW9ucyA9IHtcbiAgICBkZXRlY3RDeWNsZXM6IG9wdGlvbnNcbiAgfTtcbiAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0gZGVmYXVsdE9wdGlvbnM7XG4gIG9wdGlvbnMuZGV0ZWN0Q3ljbGVzID0gb3B0aW9ucy5kZXRlY3RDeWNsZXMgPT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmVjdXJzZUV2ZXJ5dGhpbmcgPT09IHRydWUgOiBvcHRpb25zLmRldGVjdEN5Y2xlcyA9PT0gdHJ1ZTtcblxuICB2YXIgX19hbHJlYWR5U2VlbjtcblxuICBpZiAob3B0aW9ucy5kZXRlY3RDeWNsZXMpIF9fYWxyZWFkeVNlZW4gPSBuZXcgTWFwKCk7XG4gIHJldHVybiB0b0pTSGVscGVyKHNvdXJjZSwgb3B0aW9ucywgX19hbHJlYWR5U2Vlbik7XG59XG5cbmZ1bmN0aW9uIHRyYWNlKCkge1xuICB2YXIgYXJncyA9IFtdO1xuXG4gIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICB9XG5cbiAgdmFyIGVudGVyQnJlYWtQb2ludCA9IGZhbHNlO1xuICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gXCJib29sZWFuXCIpIGVudGVyQnJlYWtQb2ludCA9IGFyZ3MucG9wKCk7XG4gIHZhciBkZXJpdmF0aW9uID0gZ2V0QXRvbUZyb21BcmdzKGFyZ3MpO1xuXG4gIGlmICghZGVyaXZhdGlvbikge1xuICAgIHJldHVybiBmYWlsKCB0cnVlICYmIFwiJ3RyYWNlKGJyZWFrPyknIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIGEgdHJhY2tlZCBjb21wdXRlZCB2YWx1ZSBvciBhIFJlYWN0aW9uLiBDb25zaWRlciBwYXNzaW5nIGluIHRoZSBjb21wdXRlZCB2YWx1ZSBvciByZWFjdGlvbiBleHBsaWNpdGx5XCIpO1xuICB9XG5cbiAgaWYgKGRlcml2YXRpb24uaXNUcmFjaW5nID09PSBUcmFjZU1vZGUuTk9ORSkge1xuICAgIGNvbnNvbGUubG9nKFwiW21vYngudHJhY2VdICdcIiArIGRlcml2YXRpb24ubmFtZSArIFwiJyB0cmFjaW5nIGVuYWJsZWRcIik7XG4gIH1cblxuICBkZXJpdmF0aW9uLmlzVHJhY2luZyA9IGVudGVyQnJlYWtQb2ludCA/IFRyYWNlTW9kZS5CUkVBSyA6IFRyYWNlTW9kZS5MT0c7XG59XG5cbmZ1bmN0aW9uIGdldEF0b21Gcm9tQXJncyhhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4gZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uO1xuXG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIGdldEF0b20oYXJnc1swXSk7XG5cbiAgICBjYXNlIDI6XG4gICAgICByZXR1cm4gZ2V0QXRvbShhcmdzWzBdLCBhcmdzWzFdKTtcbiAgfVxufVxuLyoqXHJcbiAqIER1cmluZyBhIHRyYW5zYWN0aW9uIG5vIHZpZXdzIGFyZSB1cGRhdGVkIHVudGlsIHRoZSBlbmQgb2YgdGhlIHRyYW5zYWN0aW9uLlxyXG4gKiBUaGUgdHJhbnNhY3Rpb24gd2lsbCBiZSBydW4gc3luY2hyb25vdXNseSBub25ldGhlbGVzcy5cclxuICpcclxuICogQHBhcmFtIGFjdGlvbiBhIGZ1bmN0aW9uIHRoYXQgdXBkYXRlcyBzb21lIHJlYWN0aXZlIHN0YXRlXHJcbiAqIEByZXR1cm5zIGFueSB2YWx1ZSB0aGF0IHdhcyByZXR1cm5lZCBieSB0aGUgJ2FjdGlvbicgcGFyYW1ldGVyLlxyXG4gKi9cblxuXG5mdW5jdGlvbiB0cmFuc2FjdGlvbihhY3Rpb24sIHRoaXNBcmcpIHtcbiAgaWYgKHRoaXNBcmcgPT09IHZvaWQgMCkge1xuICAgIHRoaXNBcmcgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBzdGFydEJhdGNoKCk7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gYWN0aW9uLmFwcGx5KHRoaXNBcmcpO1xuICB9IGZpbmFsbHkge1xuICAgIGVuZEJhdGNoKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2hlbihwcmVkaWNhdGUsIGFyZzEsIGFyZzIpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgfHwgYXJnMSAmJiB0eXBlb2YgYXJnMSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIHdoZW5Qcm9taXNlKHByZWRpY2F0ZSwgYXJnMSk7XG4gIHJldHVybiBfd2hlbihwcmVkaWNhdGUsIGFyZzEsIGFyZzIgfHwge30pO1xufVxuXG5mdW5jdGlvbiBfd2hlbihwcmVkaWNhdGUsIGVmZmVjdCwgb3B0cykge1xuICB2YXIgdGltZW91dEhhbmRsZTtcblxuICBpZiAodHlwZW9mIG9wdHMudGltZW91dCA9PT0gXCJudW1iZXJcIikge1xuICAgIHRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghZGlzcG9zZXJbJG1vYnhdLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgZGlzcG9zZXIoKTtcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiV0hFTl9USU1FT1VUXCIpO1xuICAgICAgICBpZiAob3B0cy5vbkVycm9yKSBvcHRzLm9uRXJyb3IoZXJyb3IpO2Vsc2UgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfSwgb3B0cy50aW1lb3V0KTtcbiAgfVxuXG4gIG9wdHMubmFtZSA9IG9wdHMubmFtZSB8fCBcIldoZW5AXCIgKyBnZXROZXh0SWQoKTtcbiAgdmFyIGVmZmVjdEFjdGlvbiA9IGNyZWF0ZUFjdGlvbihvcHRzLm5hbWUgKyBcIi1lZmZlY3RcIiwgZWZmZWN0KTtcbiAgdmFyIGRpc3Bvc2VyID0gYXV0b3J1bihmdW5jdGlvbiAocikge1xuICAgIGlmIChwcmVkaWNhdGUoKSkge1xuICAgICAgci5kaXNwb3NlKCk7XG4gICAgICBpZiAodGltZW91dEhhbmRsZSkgY2xlYXJUaW1lb3V0KHRpbWVvdXRIYW5kbGUpO1xuICAgICAgZWZmZWN0QWN0aW9uKCk7XG4gICAgfVxuICB9LCBvcHRzKTtcbiAgcmV0dXJuIGRpc3Bvc2VyO1xufVxuXG5mdW5jdGlvbiB3aGVuUHJvbWlzZShwcmVkaWNhdGUsIG9wdHMpIHtcbiAgaWYgKCB0cnVlICYmIG9wdHMgJiYgb3B0cy5vbkVycm9yKSByZXR1cm4gZmFpbChcInRoZSBvcHRpb25zICdvbkVycm9yJyBhbmQgJ3Byb21pc2UnIGNhbm5vdCBiZSBjb21iaW5lZFwiKTtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHJlcyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgZGlzcG9zZXIgPSBfd2hlbihwcmVkaWNhdGUsIHJlc29sdmUsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRzKSwge1xuICAgICAgb25FcnJvcjogcmVqZWN0XG4gICAgfSkpO1xuXG4gICAgY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgZGlzcG9zZXIoKTtcbiAgICAgIHJlamVjdChcIldIRU5fQ0FOQ0VMTEVEXCIpO1xuICAgIH07XG4gIH0pO1xuICByZXMuY2FuY2VsID0gY2FuY2VsO1xuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBnZXRBZG0odGFyZ2V0KSB7XG4gIHJldHVybiB0YXJnZXRbJG1vYnhdO1xufVxuXG5mdW5jdGlvbiBpc1Byb3BlcnR5S2V5KHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiB2YWwgPT09IFwic3ltYm9sXCI7XG59IC8vIE9wdGltaXphdGlvbjogd2UgZG9uJ3QgbmVlZCB0aGUgaW50ZXJtZWRpYXRlIG9iamVjdHMgYW5kIGNvdWxkIGhhdmUgYSBjb21wbGV0ZWx5IGN1c3RvbSBhZG1pbmlzdHJhdGlvbiBmb3IgRHluYW1pY09iamVjdHMsXG4vLyBhbmQgc2tpcCBlaXRoZXIgdGhlIGludGVybmFsIHZhbHVlcyBtYXAsIG9yIHRoZSBiYXNlIG9iamVjdCB3aXRoIGl0cyBwcm9wZXJ0eSBkZXNjcmlwdG9ycyFcblxuXG52YXIgb2JqZWN0UHJveHlUcmFwcyA9IHtcbiAgaGFzOiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lKSB7XG4gICAgaWYgKG5hbWUgPT09ICRtb2J4IHx8IG5hbWUgPT09IFwiY29uc3RydWN0b3JcIiB8fCBuYW1lID09PSBtb2J4RGlkUnVuTGF6eUluaXRpYWxpemVyc1N5bWJvbCkgcmV0dXJuIHRydWU7XG4gICAgdmFyIGFkbSA9IGdldEFkbSh0YXJnZXQpOyAvLyBNV0U6IHNob3VsZCBgaW5gIG9wZXJhdG9yIGJlIHJlYWN0aXZlPyBJZiBub3QsIGJlbG93IGNvZGUgcGF0aCB3aWxsIGJlIGZhc3RlciAvIG1vcmUgbWVtb3J5IGVmZmljaWVudFxuICAgIC8vIFRPRE86IGNoZWNrIHBlcmZvcm1hbmNlIHN0YXRzIVxuICAgIC8vIGlmIChhZG0udmFsdWVzLmdldChuYW1lIGFzIHN0cmluZykpIHJldHVybiB0cnVlXG5cbiAgICBpZiAoaXNQcm9wZXJ0eUtleShuYW1lKSkgcmV0dXJuIGFkbS5oYXMobmFtZSk7XG4gICAgcmV0dXJuIG5hbWUgaW4gdGFyZ2V0O1xuICB9LFxuICBnZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUpIHtcbiAgICBpZiAobmFtZSA9PT0gJG1vYnggfHwgbmFtZSA9PT0gXCJjb25zdHJ1Y3RvclwiIHx8IG5hbWUgPT09IG1vYnhEaWRSdW5MYXp5SW5pdGlhbGl6ZXJzU3ltYm9sKSByZXR1cm4gdGFyZ2V0W25hbWVdO1xuICAgIHZhciBhZG0gPSBnZXRBZG0odGFyZ2V0KTtcbiAgICB2YXIgb2JzZXJ2YWJsZSA9IGFkbS52YWx1ZXMuZ2V0KG5hbWUpO1xuXG4gICAgaWYgKG9ic2VydmFibGUgaW5zdGFuY2VvZiBBdG9tKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gb2JzZXJ2YWJsZS5nZXQoKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFRoaXMgZml4ZXMgIzE3OTYsIGJlY2F1c2UgZGVsZXRpbmcgYSBwcm9wIHRoYXQgaGFzIGFuXG4gICAgICAgIC8vIHVuZGVmaW5lZCB2YWx1ZSB3b24ndCByZXRyaWdnZXIgYSBvYnNlcnZlciAobm8gdmlzaWJsZSBlZmZlY3QpLFxuICAgICAgICAvLyB0aGUgYXV0b3J1biB3b3VsZG4ndCBzdWJzY3JpYmUgdG8gZnV0dXJlIGtleSBjaGFuZ2VzIChzZWUgYWxzbyBuZXh0IGNvbW1lbnQpXG4gICAgICAgIGFkbS5oYXMobmFtZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSAvLyBtYWtlIHN1cmUgd2Ugc3RhcnQgbGlzdGVuaW5nIHRvIGZ1dHVyZSBrZXlzXG4gICAgLy8gbm90ZSB0aGF0IHdlIG9ubHkgZG8gdGhpcyBoZXJlIGZvciBvcHRpbWl6YXRpb25cblxuXG4gICAgaWYgKGlzUHJvcGVydHlLZXkobmFtZSkpIGFkbS5oYXMobmFtZSk7XG4gICAgcmV0dXJuIHRhcmdldFtuYW1lXTtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCB2YWx1ZSkge1xuICAgIGlmICghaXNQcm9wZXJ0eUtleShuYW1lKSkgcmV0dXJuIGZhbHNlO1xuICAgIHNldCh0YXJnZXQsIG5hbWUsIHZhbHVlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgZGVsZXRlUHJvcGVydHk6IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUpIHtcbiAgICBpZiAoIWlzUHJvcGVydHlLZXkobmFtZSkpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgYWRtID0gZ2V0QWRtKHRhcmdldCk7XG4gICAgYWRtLnJlbW92ZShuYW1lKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgb3duS2V5czogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHZhciBhZG0gPSBnZXRBZG0odGFyZ2V0KTtcbiAgICBhZG0ua2V5c0F0b20ucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XG4gIH0sXG4gIHByZXZlbnRFeHRlbnNpb25zOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZmFpbChcIkR5bmFtaWMgb2JzZXJ2YWJsZSBvYmplY3RzIGNhbm5vdCBiZSBmcm96ZW5cIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVEeW5hbWljT2JzZXJ2YWJsZU9iamVjdChiYXNlKSB7XG4gIHZhciBwcm94eSA9IG5ldyBQcm94eShiYXNlLCBvYmplY3RQcm94eVRyYXBzKTtcbiAgYmFzZVskbW9ieF0ucHJveHkgPSBwcm94eTtcbiAgcmV0dXJuIHByb3h5O1xufVxuXG5mdW5jdGlvbiBoYXNJbnRlcmNlcHRvcnMoaW50ZXJjZXB0YWJsZSkge1xuICByZXR1cm4gaW50ZXJjZXB0YWJsZS5pbnRlcmNlcHRvcnMgIT09IHVuZGVmaW5lZCAmJiBpbnRlcmNlcHRhYmxlLmludGVyY2VwdG9ycy5sZW5ndGggPiAwO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckludGVyY2VwdG9yKGludGVyY2VwdGFibGUsIGhhbmRsZXIpIHtcbiAgdmFyIGludGVyY2VwdG9ycyA9IGludGVyY2VwdGFibGUuaW50ZXJjZXB0b3JzIHx8IChpbnRlcmNlcHRhYmxlLmludGVyY2VwdG9ycyA9IFtdKTtcbiAgaW50ZXJjZXB0b3JzLnB1c2goaGFuZGxlcik7XG4gIHJldHVybiBvbmNlKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaWR4ID0gaW50ZXJjZXB0b3JzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGlkeCAhPT0gLTEpIGludGVyY2VwdG9ycy5zcGxpY2UoaWR4LCAxKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGludGVyY2VwdENoYW5nZShpbnRlcmNlcHRhYmxlLCBjaGFuZ2UpIHtcbiAgdmFyIHByZXZVID0gdW50cmFja2VkU3RhcnQoKTtcblxuICB0cnkge1xuICAgIC8vIEludGVyY2VwdG9yIGNhbiBtb2RpZnkgdGhlIGFycmF5LCBjb3B5IGl0IHRvIGF2b2lkIGNvbmN1cnJlbnQgbW9kaWZpY2F0aW9uLCBzZWUgIzE5NTBcbiAgICB2YXIgaW50ZXJjZXB0b3JzID0gX19zcHJlYWQoaW50ZXJjZXB0YWJsZS5pbnRlcmNlcHRvcnMgfHwgW10pO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBpbnRlcmNlcHRvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjaGFuZ2UgPSBpbnRlcmNlcHRvcnNbaV0oY2hhbmdlKTtcbiAgICAgIGludmFyaWFudCghY2hhbmdlIHx8IGNoYW5nZS50eXBlLCBcIkludGVyY2VwdCBoYW5kbGVycyBzaG91bGQgcmV0dXJuIG5vdGhpbmcgb3IgYSBjaGFuZ2Ugb2JqZWN0XCIpO1xuICAgICAgaWYgKCFjaGFuZ2UpIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBjaGFuZ2U7XG4gIH0gZmluYWxseSB7XG4gICAgdW50cmFja2VkRW5kKHByZXZVKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYXNMaXN0ZW5lcnMobGlzdGVuYWJsZSkge1xuICByZXR1cm4gbGlzdGVuYWJsZS5jaGFuZ2VMaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCAmJiBsaXN0ZW5hYmxlLmNoYW5nZUxpc3RlbmVycy5sZW5ndGggPiAwO1xufVxuXG5mdW5jdGlvbiByZWdpc3Rlckxpc3RlbmVyKGxpc3RlbmFibGUsIGhhbmRsZXIpIHtcbiAgdmFyIGxpc3RlbmVycyA9IGxpc3RlbmFibGUuY2hhbmdlTGlzdGVuZXJzIHx8IChsaXN0ZW5hYmxlLmNoYW5nZUxpc3RlbmVycyA9IFtdKTtcbiAgbGlzdGVuZXJzLnB1c2goaGFuZGxlcik7XG4gIHJldHVybiBvbmNlKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaWR4ID0gbGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGlkeCAhPT0gLTEpIGxpc3RlbmVycy5zcGxpY2UoaWR4LCAxKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG5vdGlmeUxpc3RlbmVycyhsaXN0ZW5hYmxlLCBjaGFuZ2UpIHtcbiAgdmFyIHByZXZVID0gdW50cmFja2VkU3RhcnQoKTtcbiAgdmFyIGxpc3RlbmVycyA9IGxpc3RlbmFibGUuY2hhbmdlTGlzdGVuZXJzO1xuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuO1xuICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBsaXN0ZW5lcnNbaV0oY2hhbmdlKTtcbiAgfVxuXG4gIHVudHJhY2tlZEVuZChwcmV2VSk7XG59XG5cbnZhciBNQVhfU1BMSUNFX1NJWkUgPSAxMDAwMDsgLy8gU2VlIGUuZy4gaHR0cHM6Ly9naXRodWIuY29tL21vYnhqcy9tb2J4L2lzc3Vlcy84NTlcblxudmFyIGFycmF5VHJhcHMgPSB7XG4gIGdldDogZnVuY3Rpb24gKHRhcmdldCwgbmFtZSkge1xuICAgIGlmIChuYW1lID09PSAkbW9ieCkgcmV0dXJuIHRhcmdldFskbW9ieF07XG4gICAgaWYgKG5hbWUgPT09IFwibGVuZ3RoXCIpIHJldHVybiB0YXJnZXRbJG1vYnhdLmdldEFycmF5TGVuZ3RoKCk7XG5cbiAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBhcnJheUV4dGVuc2lvbnMuZ2V0LmNhbGwodGFyZ2V0LCBuYW1lKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgJiYgIWlzTmFOKG5hbWUpKSB7XG4gICAgICByZXR1cm4gYXJyYXlFeHRlbnNpb25zLmdldC5jYWxsKHRhcmdldCwgcGFyc2VJbnQobmFtZSkpO1xuICAgIH1cblxuICAgIGlmIChhcnJheUV4dGVuc2lvbnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHJldHVybiBhcnJheUV4dGVuc2lvbnNbbmFtZV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldFtuYW1lXTtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCB2YWx1ZSkge1xuICAgIGlmIChuYW1lID09PSBcImxlbmd0aFwiKSB7XG4gICAgICB0YXJnZXRbJG1vYnhdLnNldEFycmF5TGVuZ3RoKHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGFycmF5RXh0ZW5zaW9ucy5zZXQuY2FsbCh0YXJnZXQsIG5hbWUsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIgfHwgaXNOYU4obmFtZSkpIHtcbiAgICAgIHRhcmdldFtuYW1lXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBudW1lcmljIHN0cmluZ1xuICAgICAgYXJyYXlFeHRlbnNpb25zLnNldC5jYWxsKHRhcmdldCwgcGFyc2VJbnQobmFtZSksIHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgcHJldmVudEV4dGVuc2lvbnM6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmYWlsKFwiT2JzZXJ2YWJsZSBhcnJheXMgY2Fubm90IGJlIGZyb3plblwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZU9ic2VydmFibGVBcnJheShpbml0aWFsVmFsdWVzLCBlbmhhbmNlciwgbmFtZSwgb3duZWQpIHtcbiAgaWYgKG5hbWUgPT09IHZvaWQgMCkge1xuICAgIG5hbWUgPSBcIk9ic2VydmFibGVBcnJheUBcIiArIGdldE5leHRJZCgpO1xuICB9XG5cbiAgaWYgKG93bmVkID09PSB2b2lkIDApIHtcbiAgICBvd25lZCA9IGZhbHNlO1xuICB9XG5cbiAgdmFyIGFkbSA9IG5ldyBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbihuYW1lLCBlbmhhbmNlciwgb3duZWQpO1xuICBhZGRIaWRkZW5GaW5hbFByb3AoYWRtLnZhbHVlcywgJG1vYngsIGFkbSk7XG4gIHZhciBwcm94eSA9IG5ldyBQcm94eShhZG0udmFsdWVzLCBhcnJheVRyYXBzKTtcbiAgYWRtLnByb3h5ID0gcHJveHk7XG5cbiAgaWYgKGluaXRpYWxWYWx1ZXMgJiYgaW5pdGlhbFZhbHVlcy5sZW5ndGgpIHtcbiAgICB2YXIgcHJldiA9IGFsbG93U3RhdGVDaGFuZ2VzU3RhcnQodHJ1ZSk7XG4gICAgYWRtLnNwbGljZVdpdGhBcnJheSgwLCAwLCBpbml0aWFsVmFsdWVzKTtcbiAgICBhbGxvd1N0YXRlQ2hhbmdlc0VuZChwcmV2KTtcbiAgfVxuXG4gIHJldHVybiBwcm94eTtcbn1cblxudmFyIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uID1cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24obmFtZSwgZW5oYW5jZXIsIG93bmVkKSB7XG4gICAgdGhpcy5vd25lZCA9IG93bmVkO1xuICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgdGhpcy5wcm94eSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxhc3RLbm93bkxlbmd0aCA9IDA7XG4gICAgdGhpcy5hdG9tID0gbmV3IEF0b20obmFtZSB8fCBcIk9ic2VydmFibGVBcnJheUBcIiArIGdldE5leHRJZCgpKTtcblxuICAgIHRoaXMuZW5oYW5jZXIgPSBmdW5jdGlvbiAobmV3Viwgb2xkVikge1xuICAgICAgcmV0dXJuIGVuaGFuY2VyKG5ld1YsIG9sZFYsIG5hbWUgKyBcIlsuLl1cIik7XG4gICAgfTtcbiAgfVxuXG4gIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5kZWhhbmNlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodGhpcy5kZWhhbmNlciAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5kZWhhbmNlcih2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5kZWhhbmNlVmFsdWVzID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgIGlmICh0aGlzLmRlaGFuY2VyICE9PSB1bmRlZmluZWQgJiYgdmFsdWVzLmxlbmd0aCA+IDApIHJldHVybiB2YWx1ZXMubWFwKHRoaXMuZGVoYW5jZXIpO1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLmludGVyY2VwdCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHJlZ2lzdGVySW50ZXJjZXB0b3IodGhpcywgaGFuZGxlcik7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAobGlzdGVuZXIsIGZpcmVJbW1lZGlhdGVseSkge1xuICAgIGlmIChmaXJlSW1tZWRpYXRlbHkgPT09IHZvaWQgMCkge1xuICAgICAgZmlyZUltbWVkaWF0ZWx5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGZpcmVJbW1lZGlhdGVseSkge1xuICAgICAgbGlzdGVuZXIoe1xuICAgICAgICBvYmplY3Q6IHRoaXMucHJveHksXG4gICAgICAgIHR5cGU6IFwic3BsaWNlXCIsXG4gICAgICAgIGluZGV4OiAwLFxuICAgICAgICBhZGRlZDogdGhpcy52YWx1ZXMuc2xpY2UoKSxcbiAgICAgICAgYWRkZWRDb3VudDogdGhpcy52YWx1ZXMubGVuZ3RoLFxuICAgICAgICByZW1vdmVkOiBbXSxcbiAgICAgICAgcmVtb3ZlZENvdW50OiAwXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVnaXN0ZXJMaXN0ZW5lcih0aGlzLCBsaXN0ZW5lcik7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLmdldEFycmF5TGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xuICAgIHJldHVybiB0aGlzLnZhbHVlcy5sZW5ndGg7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLnNldEFycmF5TGVuZ3RoID0gZnVuY3Rpb24gKG5ld0xlbmd0aCkge1xuICAgIGlmICh0eXBlb2YgbmV3TGVuZ3RoICE9PSBcIm51bWJlclwiIHx8IG5ld0xlbmd0aCA8IDApIHRocm93IG5ldyBFcnJvcihcIlttb2J4LmFycmF5XSBPdXQgb2YgcmFuZ2U6IFwiICsgbmV3TGVuZ3RoKTtcbiAgICB2YXIgY3VycmVudExlbmd0aCA9IHRoaXMudmFsdWVzLmxlbmd0aDtcbiAgICBpZiAobmV3TGVuZ3RoID09PSBjdXJyZW50TGVuZ3RoKSByZXR1cm47ZWxzZSBpZiAobmV3TGVuZ3RoID4gY3VycmVudExlbmd0aCkge1xuICAgICAgdmFyIG5ld0l0ZW1zID0gbmV3IEFycmF5KG5ld0xlbmd0aCAtIGN1cnJlbnRMZW5ndGgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0xlbmd0aCAtIGN1cnJlbnRMZW5ndGg7IGkrKykgbmV3SXRlbXNbaV0gPSB1bmRlZmluZWQ7IC8vIE5vIEFycmF5LmZpbGwgZXZlcnl3aGVyZS4uLlxuXG5cbiAgICAgIHRoaXMuc3BsaWNlV2l0aEFycmF5KGN1cnJlbnRMZW5ndGgsIDAsIG5ld0l0ZW1zKTtcbiAgICB9IGVsc2UgdGhpcy5zcGxpY2VXaXRoQXJyYXkobmV3TGVuZ3RoLCBjdXJyZW50TGVuZ3RoIC0gbmV3TGVuZ3RoKTtcbiAgfTtcblxuICBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUudXBkYXRlQXJyYXlMZW5ndGggPSBmdW5jdGlvbiAob2xkTGVuZ3RoLCBkZWx0YSkge1xuICAgIGlmIChvbGRMZW5ndGggIT09IHRoaXMubGFzdEtub3duTGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJbbW9ieF0gTW9kaWZpY2F0aW9uIGV4Y2VwdGlvbjogdGhlIGludGVybmFsIHN0cnVjdHVyZSBvZiBhbiBvYnNlcnZhYmxlIGFycmF5IHdhcyBjaGFuZ2VkLlwiKTtcbiAgICB0aGlzLmxhc3RLbm93bkxlbmd0aCArPSBkZWx0YTtcbiAgfTtcblxuICBPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUuc3BsaWNlV2l0aEFycmF5ID0gZnVuY3Rpb24gKGluZGV4LCBkZWxldGVDb3VudCwgbmV3SXRlbXMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQodGhpcy5hdG9tKTtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy52YWx1ZXMubGVuZ3RoO1xuICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSBpbmRleCA9IDA7ZWxzZSBpZiAoaW5kZXggPiBsZW5ndGgpIGluZGV4ID0gbGVuZ3RoO2Vsc2UgaWYgKGluZGV4IDwgMCkgaW5kZXggPSBNYXRoLm1heCgwLCBsZW5ndGggKyBpbmRleCk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIGRlbGV0ZUNvdW50ID0gbGVuZ3RoIC0gaW5kZXg7ZWxzZSBpZiAoZGVsZXRlQ291bnQgPT09IHVuZGVmaW5lZCB8fCBkZWxldGVDb3VudCA9PT0gbnVsbCkgZGVsZXRlQ291bnQgPSAwO2Vsc2UgZGVsZXRlQ291bnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkZWxldGVDb3VudCwgbGVuZ3RoIC0gaW5kZXgpKTtcbiAgICBpZiAobmV3SXRlbXMgPT09IHVuZGVmaW5lZCkgbmV3SXRlbXMgPSBFTVBUWV9BUlJBWTtcblxuICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UodGhpcywge1xuICAgICAgICBvYmplY3Q6IHRoaXMucHJveHksXG4gICAgICAgIHR5cGU6IFwic3BsaWNlXCIsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgcmVtb3ZlZENvdW50OiBkZWxldGVDb3VudCxcbiAgICAgICAgYWRkZWQ6IG5ld0l0ZW1zXG4gICAgICB9KTtcbiAgICAgIGlmICghY2hhbmdlKSByZXR1cm4gRU1QVFlfQVJSQVk7XG4gICAgICBkZWxldGVDb3VudCA9IGNoYW5nZS5yZW1vdmVkQ291bnQ7XG4gICAgICBuZXdJdGVtcyA9IGNoYW5nZS5hZGRlZDtcbiAgICB9XG5cbiAgICBuZXdJdGVtcyA9IG5ld0l0ZW1zLmxlbmd0aCA9PT0gMCA/IG5ld0l0ZW1zIDogbmV3SXRlbXMubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gX3RoaXMuZW5oYW5jZXIodiwgdW5kZWZpbmVkKTtcbiAgICB9KTtcblxuICAgIGlmICh0cnVlKSB7XG4gICAgICB2YXIgbGVuZ3RoRGVsdGEgPSBuZXdJdGVtcy5sZW5ndGggLSBkZWxldGVDb3VudDtcbiAgICAgIHRoaXMudXBkYXRlQXJyYXlMZW5ndGgobGVuZ3RoLCBsZW5ndGhEZWx0YSk7IC8vIGNoZWNrcyBpZiBpbnRlcm5hbCBhcnJheSB3YXNuJ3QgbW9kaWZpZWRcbiAgICB9XG5cbiAgICB2YXIgcmVzID0gdGhpcy5zcGxpY2VJdGVtc0ludG9WYWx1ZXMoaW5kZXgsIGRlbGV0ZUNvdW50LCBuZXdJdGVtcyk7XG4gICAgaWYgKGRlbGV0ZUNvdW50ICE9PSAwIHx8IG5ld0l0ZW1zLmxlbmd0aCAhPT0gMCkgdGhpcy5ub3RpZnlBcnJheVNwbGljZShpbmRleCwgbmV3SXRlbXMsIHJlcyk7XG4gICAgcmV0dXJuIHRoaXMuZGVoYW5jZVZhbHVlcyhyZXMpO1xuICB9O1xuXG4gIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5zcGxpY2VJdGVtc0ludG9WYWx1ZXMgPSBmdW5jdGlvbiAoaW5kZXgsIGRlbGV0ZUNvdW50LCBuZXdJdGVtcykge1xuICAgIHZhciBfYTtcblxuICAgIGlmIChuZXdJdGVtcy5sZW5ndGggPCBNQVhfU1BMSUNFX1NJWkUpIHtcbiAgICAgIHJldHVybiAoX2EgPSB0aGlzLnZhbHVlcykuc3BsaWNlLmFwcGx5KF9hLCBfX3NwcmVhZChbaW5kZXgsIGRlbGV0ZUNvdW50XSwgbmV3SXRlbXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlcyA9IHRoaXMudmFsdWVzLnNsaWNlKGluZGV4LCBpbmRleCArIGRlbGV0ZUNvdW50KTtcbiAgICAgIHRoaXMudmFsdWVzID0gdGhpcy52YWx1ZXMuc2xpY2UoMCwgaW5kZXgpLmNvbmNhdChuZXdJdGVtcywgdGhpcy52YWx1ZXMuc2xpY2UoaW5kZXggKyBkZWxldGVDb3VudCkpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gIH07XG5cbiAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLm5vdGlmeUFycmF5Q2hpbGRVcGRhdGUgPSBmdW5jdGlvbiAoaW5kZXgsIG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgIHZhciBub3RpZnlTcHkgPSAhdGhpcy5vd25lZCAmJiBpc1NweUVuYWJsZWQoKTtcbiAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzKHRoaXMpO1xuICAgIHZhciBjaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5ID8ge1xuICAgICAgb2JqZWN0OiB0aGlzLnByb3h5LFxuICAgICAgdHlwZTogXCJ1cGRhdGVcIixcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZSxcbiAgICAgIG9sZFZhbHVlOiBvbGRWYWx1ZVxuICAgIH0gOiBudWxsOyAvLyBUaGUgcmVhc29uIHdoeSB0aGlzIGlzIG9uIHJpZ2h0IGhhbmQgc2lkZSBoZXJlIChhbmQgbm90IGFib3ZlKSwgaXMgdGhpcyB3YXkgdGhlIHVnbGlmaWVyIHdpbGwgZHJvcCBpdCwgYnV0IGl0IHdvbid0XG4gICAgLy8gY2F1c2UgYW55IHJ1bnRpbWUgb3ZlcmhlYWQgaW4gZGV2ZWxvcG1lbnQgbW9kZSB3aXRob3V0IE5PREVfRU5WIHNldCwgdW5sZXNzIHNweWluZyBpcyBlbmFibGVkXG5cbiAgICBpZiAobm90aWZ5U3B5ICYmIFwiZGV2ZWxvcG1lbnRcIiAhPT0gXCJwcm9kdWN0aW9uXCIpIHNweVJlcG9ydFN0YXJ0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBjaGFuZ2UpLCB7XG4gICAgICBuYW1lOiB0aGlzLmF0b20ubmFtZVxuICAgIH0pKTtcbiAgICB0aGlzLmF0b20ucmVwb3J0Q2hhbmdlZCgpO1xuICAgIGlmIChub3RpZnkpIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xuICAgIGlmIChub3RpZnlTcHkgJiYgXCJkZXZlbG9wbWVudFwiICE9PSBcInByb2R1Y3Rpb25cIikgc3B5UmVwb3J0RW5kKCk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLm5vdGlmeUFycmF5U3BsaWNlID0gZnVuY3Rpb24gKGluZGV4LCBhZGRlZCwgcmVtb3ZlZCkge1xuICAgIHZhciBub3RpZnlTcHkgPSAhdGhpcy5vd25lZCAmJiBpc1NweUVuYWJsZWQoKTtcbiAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzKHRoaXMpO1xuICAgIHZhciBjaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5ID8ge1xuICAgICAgb2JqZWN0OiB0aGlzLnByb3h5LFxuICAgICAgdHlwZTogXCJzcGxpY2VcIixcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIHJlbW92ZWQ6IHJlbW92ZWQsXG4gICAgICBhZGRlZDogYWRkZWQsXG4gICAgICByZW1vdmVkQ291bnQ6IHJlbW92ZWQubGVuZ3RoLFxuICAgICAgYWRkZWRDb3VudDogYWRkZWQubGVuZ3RoXG4gICAgfSA6IG51bGw7XG4gICAgaWYgKG5vdGlmeVNweSAmJiBcImRldmVsb3BtZW50XCIgIT09IFwicHJvZHVjdGlvblwiKSBzcHlSZXBvcnRTdGFydChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY2hhbmdlKSwge1xuICAgICAgbmFtZTogdGhpcy5hdG9tLm5hbWVcbiAgICB9KSk7XG4gICAgdGhpcy5hdG9tLnJlcG9ydENoYW5nZWQoKTsgLy8gY29uZm9ybTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvb2JzZXJ2ZVxuXG4gICAgaWYgKG5vdGlmeSkgbm90aWZ5TGlzdGVuZXJzKHRoaXMsIGNoYW5nZSk7XG4gICAgaWYgKG5vdGlmeVNweSAmJiBcImRldmVsb3BtZW50XCIgIT09IFwicHJvZHVjdGlvblwiKSBzcHlSZXBvcnRFbmQoKTtcbiAgfTtcblxuICByZXR1cm4gT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb247XG59KCk7XG5cbnZhciBhcnJheUV4dGVuc2lvbnMgPSB7XG4gIGludGVyY2VwdDogZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICByZXR1cm4gdGhpc1skbW9ieF0uaW50ZXJjZXB0KGhhbmRsZXIpO1xuICB9LFxuICBvYnNlcnZlOiBmdW5jdGlvbiAobGlzdGVuZXIsIGZpcmVJbW1lZGlhdGVseSkge1xuICAgIGlmIChmaXJlSW1tZWRpYXRlbHkgPT09IHZvaWQgMCkge1xuICAgICAgZmlyZUltbWVkaWF0ZWx5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGFkbSA9IHRoaXNbJG1vYnhdO1xuICAgIHJldHVybiBhZG0ub2JzZXJ2ZShsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KTtcbiAgfSxcbiAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zcGxpY2UoMCk7XG4gIH0sXG4gIHJlcGxhY2U6IGZ1bmN0aW9uIChuZXdJdGVtcykge1xuICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcbiAgICByZXR1cm4gYWRtLnNwbGljZVdpdGhBcnJheSgwLCBhZG0udmFsdWVzLmxlbmd0aCwgbmV3SXRlbXMpO1xuICB9LFxuXG4gIC8qKlxyXG4gICAqIENvbnZlcnRzIHRoaXMgYXJyYXkgYmFjayB0byBhIChzaGFsbG93KSBqYXZhc2NyaXB0IHN0cnVjdHVyZS5cclxuICAgKiBGb3IgYSBkZWVwIGNsb25lIHVzZSBtb2J4LnRvSlNcclxuICAgKi9cbiAgdG9KUzogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnNsaWNlKCk7XG4gIH0sXG4gIHRvSlNPTjogZnVuY3Rpb24gKCkge1xuICAgIC8vIFVzZWQgYnkgSlNPTi5zdHJpbmdpZnlcbiAgICByZXR1cm4gdGhpcy50b0pTKCk7XG4gIH0sXG5cbiAgLypcclxuICAgKiBmdW5jdGlvbnMgdGhhdCBkbyBhbHRlciB0aGUgaW50ZXJuYWwgc3RydWN0dXJlIG9mIHRoZSBhcnJheSwgKGJhc2VkIG9uIGxpYi5lczYuZC50cylcclxuICAgKiBzaW5jZSB0aGVzZSBmdW5jdGlvbnMgYWx0ZXIgdGhlIGlubmVyIHN0cnVjdHVyZSBvZiB0aGUgYXJyYXksIHRoZSBoYXZlIHNpZGUgZWZmZWN0cy5cclxuICAgKiBCZWNhdXNlIHRoZSBoYXZlIHNpZGUgZWZmZWN0cywgdGhleSBzaG91bGQgbm90IGJlIHVzZWQgaW4gY29tcHV0ZWQgZnVuY3Rpb24sXHJcbiAgICogYW5kIGZvciB0aGF0IHJlYXNvbiB0aGUgZG8gbm90IGNhbGwgZGVwZW5kZW5jeVN0YXRlLm5vdGlmeU9ic2VydmVkXHJcbiAgICovXG4gIHNwbGljZTogZnVuY3Rpb24gKGluZGV4LCBkZWxldGVDb3VudCkge1xuICAgIHZhciBuZXdJdGVtcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIG5ld0l0ZW1zW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cblxuICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcblxuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gW107XG5cbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIGFkbS5zcGxpY2VXaXRoQXJyYXkoaW5kZXgpO1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBhZG0uc3BsaWNlV2l0aEFycmF5KGluZGV4LCBkZWxldGVDb3VudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkbS5zcGxpY2VXaXRoQXJyYXkoaW5kZXgsIGRlbGV0ZUNvdW50LCBuZXdJdGVtcyk7XG4gIH0sXG4gIHNwbGljZVdpdGhBcnJheTogZnVuY3Rpb24gKGluZGV4LCBkZWxldGVDb3VudCwgbmV3SXRlbXMpIHtcbiAgICB2YXIgYWRtID0gdGhpc1skbW9ieF07XG4gICAgcmV0dXJuIGFkbS5zcGxpY2VXaXRoQXJyYXkoaW5kZXgsIGRlbGV0ZUNvdW50LCBuZXdJdGVtcyk7XG4gIH0sXG4gIHB1c2g6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBpdGVtc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cblxuICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcbiAgICBhZG0uc3BsaWNlV2l0aEFycmF5KGFkbS52YWx1ZXMubGVuZ3RoLCAwLCBpdGVtcyk7XG4gICAgcmV0dXJuIGFkbS52YWx1ZXMubGVuZ3RoO1xuICB9LFxuICBwb3A6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zcGxpY2UoTWF0aC5tYXgodGhpc1skbW9ieF0udmFsdWVzLmxlbmd0aCAtIDEsIDApLCAxKVswXTtcbiAgfSxcbiAgc2hpZnQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zcGxpY2UoMCwgMSlbMF07XG4gIH0sXG4gIHVuc2hpZnQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBpdGVtc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cblxuICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcbiAgICBhZG0uc3BsaWNlV2l0aEFycmF5KDAsIDAsIGl0ZW1zKTtcbiAgICByZXR1cm4gYWRtLnZhbHVlcy5sZW5ndGg7XG4gIH0sXG4gIHJldmVyc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAvLyByZXZlcnNlIGJ5IGRlZmF1bHQgbXV0YXRlcyBpbiBwbGFjZSBiZWZvcmUgcmV0dXJuaW5nIHRoZSByZXN1bHRcbiAgICAvLyB3aGljaCBtYWtlcyBpdCBib3RoIGEgJ2Rlcml2YXRpb24nIGFuZCBhICdtdXRhdGlvbicuXG4gICAgLy8gc28gd2UgZGV2aWF0ZSBmcm9tIHRoZSBkZWZhdWx0IGFuZCBqdXN0IG1ha2UgaXQgYW4gZGVydml0YXRpb25cbiAgICBpZiAodHJ1ZSkge1xuICAgICAgY29uc29sZS53YXJuKFwiW21vYnhdIGBvYnNlcnZhYmxlQXJyYXkucmV2ZXJzZSgpYCB3aWxsIG5vdCB1cGRhdGUgdGhlIGFycmF5IGluIHBsYWNlLiBVc2UgYG9ic2VydmFibGVBcnJheS5zbGljZSgpLnJldmVyc2UoKWAgdG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nIGFuZCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gb24gYSBjb3B5LCBvciBgb2JzZXJ2YWJsZUFycmF5LnJlcGxhY2Uob2JzZXJ2YWJsZUFycmF5LnNsaWNlKCkucmV2ZXJzZSgpKWAgdG8gcmV2ZXJzZSAmIHVwZGF0ZSBpbiBwbGFjZVwiKTtcbiAgICB9XG5cbiAgICB2YXIgY2xvbmUgPSB0aGlzLnNsaWNlKCk7XG4gICAgcmV0dXJuIGNsb25lLnJldmVyc2UuYXBwbHkoY2xvbmUsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIHNvcnQ6IGZ1bmN0aW9uIChjb21wYXJlRm4pIHtcbiAgICAvLyBzb3J0IGJ5IGRlZmF1bHQgbXV0YXRlcyBpbiBwbGFjZSBiZWZvcmUgcmV0dXJuaW5nIHRoZSByZXN1bHRcbiAgICAvLyB3aGljaCBnb2VzIGFnYWluc3QgYWxsIGdvb2QgcHJhY3RpY2VzLiBMZXQncyBub3QgY2hhbmdlIHRoZSBhcnJheSBpbiBwbGFjZSFcbiAgICBpZiAodHJ1ZSkge1xuICAgICAgY29uc29sZS53YXJuKFwiW21vYnhdIGBvYnNlcnZhYmxlQXJyYXkuc29ydCgpYCB3aWxsIG5vdCB1cGRhdGUgdGhlIGFycmF5IGluIHBsYWNlLiBVc2UgYG9ic2VydmFibGVBcnJheS5zbGljZSgpLnNvcnQoKWAgdG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nIGFuZCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gb24gYSBjb3B5LCBvciBgb2JzZXJ2YWJsZUFycmF5LnJlcGxhY2Uob2JzZXJ2YWJsZUFycmF5LnNsaWNlKCkuc29ydCgpKWAgdG8gc29ydCAmIHVwZGF0ZSBpbiBwbGFjZVwiKTtcbiAgICB9XG5cbiAgICB2YXIgY2xvbmUgPSB0aGlzLnNsaWNlKCk7XG4gICAgcmV0dXJuIGNsb25lLnNvcnQuYXBwbHkoY2xvbmUsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIGFkbSA9IHRoaXNbJG1vYnhdO1xuICAgIHZhciBpZHggPSBhZG0uZGVoYW5jZVZhbHVlcyhhZG0udmFsdWVzKS5pbmRleE9mKHZhbHVlKTtcblxuICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgdGhpcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZ2V0OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICB2YXIgYWRtID0gdGhpc1skbW9ieF07XG5cbiAgICBpZiAoYWRtKSB7XG4gICAgICBpZiAoaW5kZXggPCBhZG0udmFsdWVzLmxlbmd0aCkge1xuICAgICAgICBhZG0uYXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xuICAgICAgICByZXR1cm4gYWRtLmRlaGFuY2VWYWx1ZShhZG0udmFsdWVzW2luZGV4XSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUud2FybihcIlttb2J4LmFycmF5XSBBdHRlbXB0IHRvIHJlYWQgYW4gYXJyYXkgaW5kZXggKFwiICsgaW5kZXggKyBcIikgdGhhdCBpcyBvdXQgb2YgYm91bmRzIChcIiArIGFkbS52YWx1ZXMubGVuZ3RoICsgXCIpLiBQbGVhc2UgY2hlY2sgbGVuZ3RoIGZpcnN0LiBPdXQgb2YgYm91bmQgaW5kaWNlcyB3aWxsIG5vdCBiZSB0cmFja2VkIGJ5IE1vYlhcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiAoaW5kZXgsIG5ld1ZhbHVlKSB7XG4gICAgdmFyIGFkbSA9IHRoaXNbJG1vYnhdO1xuICAgIHZhciB2YWx1ZXMgPSBhZG0udmFsdWVzO1xuXG4gICAgaWYgKGluZGV4IDwgdmFsdWVzLmxlbmd0aCkge1xuICAgICAgLy8gdXBkYXRlIGF0IGluZGV4IGluIHJhbmdlXG4gICAgICBjaGVja0lmU3RhdGVNb2RpZmljYXRpb25zQXJlQWxsb3dlZChhZG0uYXRvbSk7XG4gICAgICB2YXIgb2xkVmFsdWUgPSB2YWx1ZXNbaW5kZXhdO1xuXG4gICAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKGFkbSkpIHtcbiAgICAgICAgdmFyIGNoYW5nZSA9IGludGVyY2VwdENoYW5nZShhZG0sIHtcbiAgICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICAgIG9iamVjdDogYWRtLnByb3h5LFxuICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghY2hhbmdlKSByZXR1cm47XG4gICAgICAgIG5ld1ZhbHVlID0gY2hhbmdlLm5ld1ZhbHVlO1xuICAgICAgfVxuXG4gICAgICBuZXdWYWx1ZSA9IGFkbS5lbmhhbmNlcihuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgdmFyIGNoYW5nZWQgPSBuZXdWYWx1ZSAhPT0gb2xkVmFsdWU7XG5cbiAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIHZhbHVlc1tpbmRleF0gPSBuZXdWYWx1ZTtcbiAgICAgICAgYWRtLm5vdGlmeUFycmF5Q2hpbGRVcGRhdGUoaW5kZXgsIG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbmRleCA9PT0gdmFsdWVzLmxlbmd0aCkge1xuICAgICAgLy8gYWRkIGEgbmV3IGl0ZW1cbiAgICAgIGFkbS5zcGxpY2VXaXRoQXJyYXkoaW5kZXgsIDAsIFtuZXdWYWx1ZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvdXQgb2YgYm91bmRzXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbbW9ieC5hcnJheV0gSW5kZXggb3V0IG9mIGJvdW5kcywgXCIgKyBpbmRleCArIFwiIGlzIGxhcmdlciB0aGFuIFwiICsgdmFsdWVzLmxlbmd0aCk7XG4gICAgfVxuICB9XG59O1xuW1wiY29uY2F0XCIsIFwiZXZlcnlcIiwgXCJmaWx0ZXJcIiwgXCJmb3JFYWNoXCIsIFwiaW5kZXhPZlwiLCBcImpvaW5cIiwgXCJsYXN0SW5kZXhPZlwiLCBcIm1hcFwiLCBcInJlZHVjZVwiLCBcInJlZHVjZVJpZ2h0XCIsIFwic2xpY2VcIiwgXCJzb21lXCIsIFwidG9TdHJpbmdcIiwgXCJ0b0xvY2FsZVN0cmluZ1wiXS5mb3JFYWNoKGZ1bmN0aW9uIChmdW5jTmFtZSkge1xuICBhcnJheUV4dGVuc2lvbnNbZnVuY05hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcbiAgICBhZG0uYXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xuICAgIHZhciByZXMgPSBhZG0uZGVoYW5jZVZhbHVlcyhhZG0udmFsdWVzKTtcbiAgICByZXR1cm4gcmVzW2Z1bmNOYW1lXS5hcHBseShyZXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KTtcbnZhciBpc09ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uID0gY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZShcIk9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uXCIsIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uKTtcblxuZnVuY3Rpb24gaXNPYnNlcnZhYmxlQXJyYXkodGhpbmcpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHRoaW5nKSAmJiBpc09ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uKHRoaW5nWyRtb2J4XSk7XG59XG5cbnZhciBfYTtcblxudmFyIE9ic2VydmFibGVNYXBNYXJrZXIgPSB7fTsgLy8ganVzdCBleHRlbmQgTWFwPyBTZWUgYWxzbyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9uZXN0aGFydXMvMTNiNGQ3NGYyZWY0YTJmNDM1N2RiZDNmYzIzYzFlNTRcbi8vIEJ1dDogaHR0cHM6Ly9naXRodWIuY29tL21vYnhqcy9tb2J4L2lzc3Vlcy8xNTU2XG5cbnZhciBPYnNlcnZhYmxlTWFwID1cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gT2JzZXJ2YWJsZU1hcChpbml0aWFsRGF0YSwgZW5oYW5jZXIsIG5hbWUpIHtcbiAgICBpZiAoZW5oYW5jZXIgPT09IHZvaWQgMCkge1xuICAgICAgZW5oYW5jZXIgPSBkZWVwRW5oYW5jZXI7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgPT09IHZvaWQgMCkge1xuICAgICAgbmFtZSA9IFwiT2JzZXJ2YWJsZU1hcEBcIiArIGdldE5leHRJZCgpO1xuICAgIH1cblxuICAgIHRoaXMuZW5oYW5jZXIgPSBlbmhhbmNlcjtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXNbX2FdID0gT2JzZXJ2YWJsZU1hcE1hcmtlcjtcbiAgICB0aGlzLl9rZXlzQXRvbSA9IGNyZWF0ZUF0b20odGhpcy5uYW1lICsgXCIua2V5cygpXCIpO1xuICAgIHRoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXSA9IFwiTWFwXCI7XG5cbiAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtb2J4Lm1hcCByZXF1aXJlcyBNYXAgcG9seWZpbGwgZm9yIHRoZSBjdXJyZW50IGJyb3dzZXIuIENoZWNrIGJhYmVsLXBvbHlmaWxsIG9yIGNvcmUtanMvZXM2L21hcC5qc1wiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kYXRhID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX2hhc01hcCA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLm1lcmdlKGluaXRpYWxEYXRhKTtcbiAgfVxuXG4gIE9ic2VydmFibGVNYXAucHJvdG90eXBlLl9oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuaGFzKGtleSk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoIWdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbikgcmV0dXJuIHRoaXMuX2hhcyhrZXkpO1xuXG4gICAgdmFyIGVudHJ5ID0gdGhpcy5faGFzTWFwLmdldChrZXkpO1xuXG4gICAgaWYgKCFlbnRyeSkge1xuICAgICAgLy8gdG9kbzogcmVwbGFjZSB3aXRoIGF0b20gKGJyZWFraW5nIGNoYW5nZSlcbiAgICAgIHZhciBuZXdFbnRyeSA9IGVudHJ5ID0gbmV3IE9ic2VydmFibGVWYWx1ZSh0aGlzLl9oYXMoa2V5KSwgcmVmZXJlbmNlRW5oYW5jZXIsIHRoaXMubmFtZSArIFwiLlwiICsgc3RyaW5naWZ5S2V5KGtleSkgKyBcIj9cIiwgZmFsc2UpO1xuXG4gICAgICB0aGlzLl9oYXNNYXAuc2V0KGtleSwgbmV3RW50cnkpO1xuXG4gICAgICBvbkJlY29tZVVub2JzZXJ2ZWQobmV3RW50cnksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9oYXNNYXAuZGVsZXRlKGtleSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW50cnkuZ2V0KCk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgaGFzS2V5ID0gdGhpcy5faGFzKGtleSk7XG5cbiAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKHRoaXMpKSB7XG4gICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcbiAgICAgICAgdHlwZTogaGFzS2V5ID8gXCJ1cGRhdGVcIiA6IFwiYWRkXCIsXG4gICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgbmV3VmFsdWU6IHZhbHVlLFxuICAgICAgICBuYW1lOiBrZXlcbiAgICAgIH0pO1xuICAgICAgaWYgKCFjaGFuZ2UpIHJldHVybiB0aGlzO1xuICAgICAgdmFsdWUgPSBjaGFuZ2UubmV3VmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKGhhc0tleSkge1xuICAgICAgdGhpcy5fdXBkYXRlVmFsdWUoa2V5LCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2FkZFZhbHVlKGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIE9ic2VydmFibGVNYXAucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKGhhc0ludGVyY2VwdG9ycyh0aGlzKSkge1xuICAgICAgdmFyIGNoYW5nZSA9IGludGVyY2VwdENoYW5nZSh0aGlzLCB7XG4gICAgICAgIHR5cGU6IFwiZGVsZXRlXCIsXG4gICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgbmFtZToga2V5XG4gICAgICB9KTtcbiAgICAgIGlmICghY2hhbmdlKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2hhcyhrZXkpKSB7XG4gICAgICB2YXIgbm90aWZ5U3B5ID0gaXNTcHlFbmFibGVkKCk7XG4gICAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzKHRoaXMpO1xuICAgICAgdmFyIGNoYW5nZSA9IG5vdGlmeSB8fCBub3RpZnlTcHkgPyB7XG4gICAgICAgIHR5cGU6IFwiZGVsZXRlXCIsXG4gICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgb2xkVmFsdWU6IHRoaXMuX2RhdGEuZ2V0KGtleSkudmFsdWUsXG4gICAgICAgIG5hbWU6IGtleVxuICAgICAgfSA6IG51bGw7XG4gICAgICBpZiAobm90aWZ5U3B5ICYmIFwiZGV2ZWxvcG1lbnRcIiAhPT0gXCJwcm9kdWN0aW9uXCIpIHNweVJlcG9ydFN0YXJ0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBjaGFuZ2UpLCB7XG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAga2V5OiBrZXlcbiAgICAgIH0pKTtcbiAgICAgIHRyYW5zYWN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuX2tleXNBdG9tLnJlcG9ydENoYW5nZWQoKTtcblxuICAgICAgICBfdGhpcy5fdXBkYXRlSGFzTWFwRW50cnkoa2V5LCBmYWxzZSk7XG5cbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBfdGhpcy5fZGF0YS5nZXQoa2V5KTtcblxuICAgICAgICBvYnNlcnZhYmxlLnNldE5ld1ZhbHVlKHVuZGVmaW5lZCk7XG5cbiAgICAgICAgX3RoaXMuX2RhdGEuZGVsZXRlKGtleSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChub3RpZnkpIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xuICAgICAgaWYgKG5vdGlmeVNweSAmJiBcImRldmVsb3BtZW50XCIgIT09IFwicHJvZHVjdGlvblwiKSBzcHlSZXBvcnRFbmQoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS5fdXBkYXRlSGFzTWFwRW50cnkgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuX2hhc01hcC5nZXQoa2V5KTtcblxuICAgIGlmIChlbnRyeSkge1xuICAgICAgZW50cnkuc2V0TmV3VmFsdWUodmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS5fdXBkYXRlVmFsdWUgPSBmdW5jdGlvbiAoa2V5LCBuZXdWYWx1ZSkge1xuICAgIHZhciBvYnNlcnZhYmxlID0gdGhpcy5fZGF0YS5nZXQoa2V5KTtcblxuICAgIG5ld1ZhbHVlID0gb2JzZXJ2YWJsZS5wcmVwYXJlTmV3VmFsdWUobmV3VmFsdWUpO1xuXG4gICAgaWYgKG5ld1ZhbHVlICE9PSBnbG9iYWxTdGF0ZS5VTkNIQU5HRUQpIHtcbiAgICAgIHZhciBub3RpZnlTcHkgPSBpc1NweUVuYWJsZWQoKTtcbiAgICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnModGhpcyk7XG4gICAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweSA/IHtcbiAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcbiAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICBvbGRWYWx1ZTogb2JzZXJ2YWJsZS52YWx1ZSxcbiAgICAgICAgbmFtZToga2V5LFxuICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgIH0gOiBudWxsO1xuICAgICAgaWYgKG5vdGlmeVNweSAmJiBcImRldmVsb3BtZW50XCIgIT09IFwicHJvZHVjdGlvblwiKSBzcHlSZXBvcnRTdGFydChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY2hhbmdlKSwge1xuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIGtleToga2V5XG4gICAgICB9KSk7XG4gICAgICBvYnNlcnZhYmxlLnNldE5ld1ZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgIGlmIChub3RpZnkpIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xuICAgICAgaWYgKG5vdGlmeVNweSAmJiBcImRldmVsb3BtZW50XCIgIT09IFwicHJvZHVjdGlvblwiKSBzcHlSZXBvcnRFbmQoKTtcbiAgICB9XG4gIH07XG5cbiAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuX2FkZFZhbHVlID0gZnVuY3Rpb24gKGtleSwgbmV3VmFsdWUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQodGhpcy5fa2V5c0F0b20pO1xuICAgIHRyYW5zYWN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGVWYWx1ZShuZXdWYWx1ZSwgX3RoaXMuZW5oYW5jZXIsIF90aGlzLm5hbWUgKyBcIi5cIiArIHN0cmluZ2lmeUtleShrZXkpLCBmYWxzZSk7XG5cbiAgICAgIF90aGlzLl9kYXRhLnNldChrZXksIG9ic2VydmFibGUpO1xuXG4gICAgICBuZXdWYWx1ZSA9IG9ic2VydmFibGUudmFsdWU7IC8vIHZhbHVlIG1pZ2h0IGhhdmUgYmVlbiBjaGFuZ2VkXG5cbiAgICAgIF90aGlzLl91cGRhdGVIYXNNYXBFbnRyeShrZXksIHRydWUpO1xuXG4gICAgICBfdGhpcy5fa2V5c0F0b20ucmVwb3J0Q2hhbmdlZCgpO1xuICAgIH0pO1xuICAgIHZhciBub3RpZnlTcHkgPSBpc1NweUVuYWJsZWQoKTtcbiAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzKHRoaXMpO1xuICAgIHZhciBjaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5ID8ge1xuICAgICAgdHlwZTogXCJhZGRcIixcbiAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgIG5hbWU6IGtleSxcbiAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxuICAgIH0gOiBudWxsO1xuICAgIGlmIChub3RpZnlTcHkgJiYgXCJkZXZlbG9wbWVudFwiICE9PSBcInByb2R1Y3Rpb25cIikgc3B5UmVwb3J0U3RhcnQoX19hc3NpZ24oX19hc3NpZ24oe30sIGNoYW5nZSksIHtcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIGtleToga2V5XG4gICAgfSkpO1xuICAgIGlmIChub3RpZnkpIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xuICAgIGlmIChub3RpZnlTcHkgJiYgXCJkZXZlbG9wbWVudFwiICE9PSBcInByb2R1Y3Rpb25cIikgc3B5UmVwb3J0RW5kKCk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSByZXR1cm4gdGhpcy5kZWhhbmNlVmFsdWUodGhpcy5fZGF0YS5nZXQoa2V5KS5nZXQoKSk7XG4gICAgcmV0dXJuIHRoaXMuZGVoYW5jZVZhbHVlKHVuZGVmaW5lZCk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuZGVoYW5jZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZGVoYW5jZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVoYW5jZXIodmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2tleXNBdG9tLnJlcG9ydE9ic2VydmVkKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZGF0YS5rZXlzKCk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgbmV4dEluZGV4ID0gMDtcbiAgICB2YXIga2V5cyA9IEFycmF5LmZyb20odGhpcy5rZXlzKCkpO1xuICAgIHJldHVybiBtYWtlSXRlcmFibGUoe1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV4dEluZGV4IDwga2V5cy5sZW5ndGggPyB7XG4gICAgICAgICAgdmFsdWU6IHNlbGYuZ2V0KGtleXNbbmV4dEluZGV4KytdKSxcbiAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICB9IDoge1xuICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgbmV4dEluZGV4ID0gMDtcbiAgICB2YXIga2V5cyA9IEFycmF5LmZyb20odGhpcy5rZXlzKCkpO1xuICAgIHJldHVybiBtYWtlSXRlcmFibGUoe1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobmV4dEluZGV4IDwga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5c1tuZXh0SW5kZXgrK107XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBba2V5LCBzZWxmLmdldChrZXkpXSxcbiAgICAgICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIE9ic2VydmFibGVNYXAucHJvdG90eXBlWyhfYSA9ICRtb2J4LCBTeW1ib2wuaXRlcmF0b3IpXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lbnRyaWVzKCk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIHZhciBlXzEsIF9iO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgdmFyIF9lID0gX19yZWFkKF9kLnZhbHVlLCAyKSxcbiAgICAgICAgICAgIGtleSA9IF9lWzBdLFxuICAgICAgICAgICAgdmFsdWUgPSBfZVsxXTtcblxuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbHVlLCBrZXksIHRoaXMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfMV8xKSB7XG4gICAgICBlXzEgPSB7XG4gICAgICAgIGVycm9yOiBlXzFfMVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYiA9IF9jLnJldHVybikpIF9iLmNhbGwoX2MpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqIE1lcmdlIGFub3RoZXIgb2JqZWN0IGludG8gdGhpcyBvYmplY3QsIHJldHVybnMgdGhpcy4gKi9cblxuXG4gIE9ic2VydmFibGVNYXAucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChpc09ic2VydmFibGVNYXAob3RoZXIpKSB7XG4gICAgICBvdGhlciA9IG90aGVyLnRvSlMoKTtcbiAgICB9XG5cbiAgICB0cmFuc2FjdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNQbGFpbk9iamVjdChvdGhlcikpIGdldFBsYWluT2JqZWN0S2V5cyhvdGhlcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zZXQoa2V5LCBvdGhlcltrZXldKTtcbiAgICAgIH0pO2Vsc2UgaWYgKEFycmF5LmlzQXJyYXkob3RoZXIpKSBvdGhlci5mb3JFYWNoKGZ1bmN0aW9uIChfYikge1xuICAgICAgICB2YXIgX2MgPSBfX3JlYWQoX2IsIDIpLFxuICAgICAgICAgICAga2V5ID0gX2NbMF0sXG4gICAgICAgICAgICB2YWx1ZSA9IF9jWzFdO1xuXG4gICAgICAgIHJldHVybiBfdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB9KTtlbHNlIGlmIChpc0VTNk1hcChvdGhlcikpIHtcbiAgICAgICAgaWYgKG90aGVyLmNvbnN0cnVjdG9yICE9PSBNYXApIGZhaWwoXCJDYW5ub3QgaW5pdGlhbGl6ZSBmcm9tIGNsYXNzZXMgdGhhdCBpbmhlcml0IGZyb20gTWFwOiBcIiArIG90aGVyLmNvbnN0cnVjdG9yLm5hbWUpOyAvLyBwcmV0dGllci1pZ25vcmVcblxuICAgICAgICBvdGhlci5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKG90aGVyICE9PSBudWxsICYmIG90aGVyICE9PSB1bmRlZmluZWQpIGZhaWwoXCJDYW5ub3QgaW5pdGlhbGl6ZSBtYXAgZnJvbSBcIiArIG90aGVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgdW50cmFja2VkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMiwgX2I7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKF90aGlzLmtleXMoKSksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBfZC52YWx1ZTtcblxuICAgICAgICAgICAgX3RoaXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlXzJfMSkge1xuICAgICAgICAgIGVfMiA9IHtcbiAgICAgICAgICAgIGVycm9yOiBlXzJfMVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2IgPSBfYy5yZXR1cm4pKSBfYi5jYWxsKF9jKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgLy8gZ3JhYiBhbGwgdGhlIGtleXMgdGhhdCBhcmUgcHJlc2VudCBpbiB0aGUgbmV3IG1hcCBidXQgbm90IHByZXNlbnQgaW4gdGhlIGN1cnJlbnQgbWFwXG4gICAgICAvLyBhbmQgZGVsZXRlIHRoZW0gZnJvbSB0aGUgbWFwLCB0aGVuIG1lcmdlIHRoZSBuZXcgbWFwXG4gICAgICAvLyB0aGlzIHdpbGwgY2F1c2UgcmVhY3Rpb25zIG9ubHkgb24gY2hhbmdlZCB2YWx1ZXNcbiAgICAgIHZhciBuZXdLZXlzID0gZ2V0TWFwTGlrZUtleXModmFsdWVzKTtcbiAgICAgIHZhciBvbGRLZXlzID0gQXJyYXkuZnJvbShfdGhpcy5rZXlzKCkpO1xuICAgICAgdmFyIG1pc3NpbmdLZXlzID0gb2xkS2V5cy5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgcmV0dXJuIG5ld0tleXMuaW5kZXhPZihrKSA9PT0gLTE7XG4gICAgICB9KTtcbiAgICAgIG1pc3NpbmdLZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmRlbGV0ZShrKTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5tZXJnZSh2YWx1ZXMpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYnNlcnZhYmxlTWFwLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuX2tleXNBdG9tLnJlcG9ydE9ic2VydmVkKCk7XG5cbiAgICAgIHJldHVybiB0aGlzLl9kYXRhLnNpemU7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIHBsYWluIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhpcyBtYXAuXHJcbiAgICogTm90ZSB0aGF0IGFsbCB0aGUga2V5cyBiZWluZyBzdHJpbmdpZmllZC5cclxuICAgKiBJZiB0aGVyZSBhcmUgZHVwbGljYXRpbmcga2V5cyBhZnRlciBjb252ZXJ0aW5nIHRoZW0gdG8gc3RyaW5ncywgYmVoYXZpb3VyIGlzIHVuZGV0ZXJtaW5lZC5cclxuICAgKi9cblxuICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS50b1BPSk8gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVfMywgX2I7XG5cbiAgICB2YXIgcmVzID0ge307XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICB2YXIgX2UgPSBfX3JlYWQoX2QudmFsdWUsIDIpLFxuICAgICAgICAgICAga2V5ID0gX2VbMF0sXG4gICAgICAgICAgICB2YWx1ZSA9IF9lWzFdOyAvLyBXZSBsaWUgYWJvdXQgc3ltYm9sIGtleSB0eXBlcyBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xODYzXG5cblxuICAgICAgICByZXNbdHlwZW9mIGtleSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IHN0cmluZ2lmeUtleShrZXkpXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfM18xKSB7XG4gICAgICBlXzMgPSB7XG4gICAgICAgIGVycm9yOiBlXzNfMVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYiA9IF9jLnJldHVybikpIF9iLmNhbGwoX2MpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH07XG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBzaGFsbG93IG5vbiBvYnNlcnZhYmxlIG9iamVjdCBjbG9uZSBvZiB0aGlzIG1hcC5cclxuICAgKiBOb3RlIHRoYXQgdGhlIHZhbHVlcyBtaWd0aCBzdGlsbCBiZSBvYnNlcnZhYmxlLiBGb3IgYSBkZWVwIGNsb25lIHVzZSBtb2J4LnRvSlMuXHJcbiAgICovXG5cblxuICBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZS50b0pTID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgTWFwKHRoaXMpO1xuICB9O1xuXG4gIE9ic2VydmFibGVNYXAucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBVc2VkIGJ5IEpTT04uc3RyaW5naWZ5XG4gICAgcmV0dXJuIHRoaXMudG9QT0pPKCk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLm5hbWUgKyBcIlt7IFwiICsgQXJyYXkuZnJvbSh0aGlzLmtleXMoKSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBzdHJpbmdpZnlLZXkoa2V5KSArIFwiOiBcIiArIChcIlwiICsgX3RoaXMuZ2V0KGtleSkpO1xuICAgIH0pLmpvaW4oXCIsIFwiKSArIFwiIH1dXCI7XG4gIH07XG4gIC8qKlxyXG4gICAqIE9ic2VydmVzIHRoaXMgb2JqZWN0LiBUcmlnZ2VycyBmb3IgdGhlIGV2ZW50cyAnYWRkJywgJ3VwZGF0ZScgYW5kICdkZWxldGUnLlxyXG4gICAqIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L29ic2VydmVcclxuICAgKiBmb3IgY2FsbGJhY2sgZGV0YWlsc1xyXG4gICAqL1xuXG5cbiAgT2JzZXJ2YWJsZU1hcC5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgIHRydWUgJiYgaW52YXJpYW50KGZpcmVJbW1lZGlhdGVseSAhPT0gdHJ1ZSwgXCJgb2JzZXJ2ZWAgZG9lc24ndCBzdXBwb3J0IGZpcmVJbW1lZGlhdGVseT10cnVlIGluIGNvbWJpbmF0aW9uIHdpdGggbWFwcy5cIik7XG4gICAgcmV0dXJuIHJlZ2lzdGVyTGlzdGVuZXIodGhpcywgbGlzdGVuZXIpO1xuICB9O1xuXG4gIE9ic2VydmFibGVNYXAucHJvdG90eXBlLmludGVyY2VwdCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHJlZ2lzdGVySW50ZXJjZXB0b3IodGhpcywgaGFuZGxlcik7XG4gIH07XG5cbiAgcmV0dXJuIE9ic2VydmFibGVNYXA7XG59KCk7XG4vKiAndmFyJyBmaXhlcyBzbWFsbC1idWlsZCBpc3N1ZSAqL1xuXG5cbnZhciBpc09ic2VydmFibGVNYXAgPSBjcmVhdGVJbnN0YW5jZW9mUHJlZGljYXRlKFwiT2JzZXJ2YWJsZU1hcFwiLCBPYnNlcnZhYmxlTWFwKTtcblxudmFyIF9hJDE7XG5cbnZhciBPYnNlcnZhYmxlU2V0TWFya2VyID0ge307XG5cbnZhciBPYnNlcnZhYmxlU2V0ID1cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gT2JzZXJ2YWJsZVNldChpbml0aWFsRGF0YSwgZW5oYW5jZXIsIG5hbWUpIHtcbiAgICBpZiAoZW5oYW5jZXIgPT09IHZvaWQgMCkge1xuICAgICAgZW5oYW5jZXIgPSBkZWVwRW5oYW5jZXI7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgPT09IHZvaWQgMCkge1xuICAgICAgbmFtZSA9IFwiT2JzZXJ2YWJsZVNldEBcIiArIGdldE5leHRJZCgpO1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpc1tfYSQxXSA9IE9ic2VydmFibGVTZXRNYXJrZXI7XG4gICAgdGhpcy5fZGF0YSA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLl9hdG9tID0gY3JlYXRlQXRvbSh0aGlzLm5hbWUpO1xuICAgIHRoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXSA9IFwiU2V0XCI7XG5cbiAgICBpZiAodHlwZW9mIFNldCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtb2J4LnNldCByZXF1aXJlcyBTZXQgcG9seWZpbGwgZm9yIHRoZSBjdXJyZW50IGJyb3dzZXIuIENoZWNrIGJhYmVsLXBvbHlmaWxsIG9yIGNvcmUtanMvZXM2L3NldC5qc1wiKTtcbiAgICB9XG5cbiAgICB0aGlzLmVuaGFuY2VyID0gZnVuY3Rpb24gKG5ld1YsIG9sZFYpIHtcbiAgICAgIHJldHVybiBlbmhhbmNlcihuZXdWLCBvbGRWLCBuYW1lKTtcbiAgICB9O1xuXG4gICAgaWYgKGluaXRpYWxEYXRhKSB7XG4gICAgICB0aGlzLnJlcGxhY2UoaW5pdGlhbERhdGEpO1xuICAgIH1cbiAgfVxuXG4gIE9ic2VydmFibGVTZXQucHJvdG90eXBlLmRlaGFuY2VWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmRlaGFuY2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlaGFuY2VyKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZVNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRyYW5zYWN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHVudHJhY2tlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzEsIF9iO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyhfdGhpcy5fZGF0YS52YWx1ZXMoKSksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9kLnZhbHVlO1xuXG4gICAgICAgICAgICBfdGhpcy5kZWxldGUodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZV8xXzEpIHtcbiAgICAgICAgICBlXzEgPSB7XG4gICAgICAgICAgICBlcnJvcjogZV8xXzFcbiAgICAgICAgICB9O1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9iID0gX2MucmV0dXJuKSkgX2IuY2FsbChfYyk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIE9ic2VydmFibGVTZXQucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2tGbiwgdGhpc0FyZykge1xuICAgIHZhciBlXzIsIF9iO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gX2QudmFsdWU7XG4gICAgICAgIGNhbGxiYWNrRm4uY2FsbCh0aGlzQXJnLCB2YWx1ZSwgdmFsdWUsIHRoaXMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfMl8xKSB7XG4gICAgICBlXzIgPSB7XG4gICAgICAgIGVycm9yOiBlXzJfMVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYiA9IF9jLnJldHVybikpIF9iLmNhbGwoX2MpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2YWJsZVNldC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLl9hdG9tLnJlcG9ydE9ic2VydmVkKCk7XG5cbiAgICAgIHJldHVybiB0aGlzLl9kYXRhLnNpemU7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcblxuICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQodGhpcy5fYXRvbSk7XG5cbiAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKHRoaXMpKSB7XG4gICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcbiAgICAgICAgdHlwZTogXCJhZGRcIixcbiAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICBuZXdWYWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgICAgaWYgKCFjaGFuZ2UpIHJldHVybiB0aGlzOyAvLyBUT0RPOiBpZGVhbGx5LCB2YWx1ZSA9IGNoYW5nZS52YWx1ZSB3b3VsZCBiZSBkb25lIGhlcmUsIHNvIHRoYXQgdmFsdWVzIGNhbiBiZVxuICAgICAgLy8gY2hhbmdlZCBieSBpbnRlcmNlcHRvci4gU2FtZSBhcHBsaWVzIGZvciBvdGhlciBTZXQgYW5kIE1hcCBhcGkncy5cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaGFzKHZhbHVlKSkge1xuICAgICAgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5fZGF0YS5hZGQoX3RoaXMuZW5oYW5jZXIodmFsdWUsIHVuZGVmaW5lZCkpO1xuXG4gICAgICAgIF90aGlzLl9hdG9tLnJlcG9ydENoYW5nZWQoKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCgpO1xuICAgICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyh0aGlzKTtcbiAgICAgIHZhciBjaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5ID8ge1xuICAgICAgICB0eXBlOiBcImFkZFwiLFxuICAgICAgICBvYmplY3Q6IHRoaXMsXG4gICAgICAgIG5ld1ZhbHVlOiB2YWx1ZVxuICAgICAgfSA6IG51bGw7XG4gICAgICBpZiAobm90aWZ5U3B5ICYmIFwiZGV2ZWxvcG1lbnRcIiAhPT0gXCJwcm9kdWN0aW9uXCIpIHNweVJlcG9ydFN0YXJ0KGNoYW5nZSk7XG4gICAgICBpZiAobm90aWZ5KSBub3RpZnlMaXN0ZW5lcnModGhpcywgY2hhbmdlKTtcbiAgICAgIGlmIChub3RpZnlTcHkgJiYgXCJkZXZlbG9wbWVudFwiICE9PSBcInByb2R1Y3Rpb25cIikgc3B5UmVwb3J0RW5kKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZVNldC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UodGhpcywge1xuICAgICAgICB0eXBlOiBcImRlbGV0ZVwiLFxuICAgICAgICBvYmplY3Q6IHRoaXMsXG4gICAgICAgIG9sZFZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgICBpZiAoIWNoYW5nZSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmhhcyh2YWx1ZSkpIHtcbiAgICAgIHZhciBub3RpZnlTcHkgPSBpc1NweUVuYWJsZWQoKTtcbiAgICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnModGhpcyk7XG4gICAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweSA/IHtcbiAgICAgICAgdHlwZTogXCJkZWxldGVcIixcbiAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICBvbGRWYWx1ZTogdmFsdWVcbiAgICAgIH0gOiBudWxsO1xuICAgICAgaWYgKG5vdGlmeVNweSAmJiBcImRldmVsb3BtZW50XCIgIT09IFwicHJvZHVjdGlvblwiKSBzcHlSZXBvcnRTdGFydChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY2hhbmdlKSwge1xuICAgICAgICBuYW1lOiB0aGlzLm5hbWVcbiAgICAgIH0pKTtcbiAgICAgIHRyYW5zYWN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuX2F0b20ucmVwb3J0Q2hhbmdlZCgpO1xuXG4gICAgICAgIF90aGlzLl9kYXRhLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChub3RpZnkpIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xuICAgICAgaWYgKG5vdGlmeVNweSAmJiBcImRldmVsb3BtZW50XCIgIT09IFwicHJvZHVjdGlvblwiKSBzcHlSZXBvcnRFbmQoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLl9hdG9tLnJlcG9ydE9ic2VydmVkKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZGF0YS5oYXModGhpcy5kZWhhbmNlVmFsdWUodmFsdWUpKTtcbiAgfTtcblxuICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXh0SW5kZXggPSAwO1xuICAgIHZhciBrZXlzID0gQXJyYXkuZnJvbSh0aGlzLmtleXMoKSk7XG4gICAgdmFyIHZhbHVlcyA9IEFycmF5LmZyb20odGhpcy52YWx1ZXMoKSk7XG4gICAgcmV0dXJuIG1ha2VJdGVyYWJsZSh7XG4gICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IG5leHRJbmRleDtcbiAgICAgICAgbmV4dEluZGV4ICs9IDE7XG4gICAgICAgIHJldHVybiBpbmRleCA8IHZhbHVlcy5sZW5ndGggPyB7XG4gICAgICAgICAgdmFsdWU6IFtrZXlzW2luZGV4XSwgdmFsdWVzW2luZGV4XV0sXG4gICAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZVNldC5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZXMoKTtcbiAgfTtcblxuICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fYXRvbS5yZXBvcnRPYnNlcnZlZCgpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBuZXh0SW5kZXggPSAwO1xuICAgIHZhciBvYnNlcnZhYmxlVmFsdWVzID0gQXJyYXkuZnJvbSh0aGlzLl9kYXRhLnZhbHVlcygpKTtcbiAgICByZXR1cm4gbWFrZUl0ZXJhYmxlKHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5leHRJbmRleCA8IG9ic2VydmFibGVWYWx1ZXMubGVuZ3RoID8ge1xuICAgICAgICAgIHZhbHVlOiBzZWxmLmRlaGFuY2VWYWx1ZShvYnNlcnZhYmxlVmFsdWVzW25leHRJbmRleCsrXSksXG4gICAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZVNldC5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoaXNPYnNlcnZhYmxlU2V0KG90aGVyKSkge1xuICAgICAgb3RoZXIgPSBvdGhlci50b0pTKCk7XG4gICAgfVxuXG4gICAgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3RoZXIpKSB7XG4gICAgICAgIF90aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgb3RoZXIuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuYWRkKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRVM2U2V0KG90aGVyKSkge1xuICAgICAgICBfdGhpcy5jbGVhcigpO1xuXG4gICAgICAgIG90aGVyLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmFkZCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChvdGhlciAhPT0gbnVsbCAmJiBvdGhlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZhaWwoXCJDYW5ub3QgaW5pdGlhbGl6ZSBzZXQgZnJvbSBcIiArIG90aGVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcbiAgICAvLyBUT0RPICdmaXJlSW1tZWRpYXRlbHknIGNhbiBiZSB0cnVlP1xuICAgICB0cnVlICYmIGludmFyaWFudChmaXJlSW1tZWRpYXRlbHkgIT09IHRydWUsIFwiYG9ic2VydmVgIGRvZXNuJ3Qgc3VwcG9ydCBmaXJlSW1tZWRpYXRlbHk9dHJ1ZSBpbiBjb21iaW5hdGlvbiB3aXRoIHNldHMuXCIpO1xuICAgIHJldHVybiByZWdpc3Rlckxpc3RlbmVyKHRoaXMsIGxpc3RlbmVyKTtcbiAgfTtcblxuICBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZS5pbnRlcmNlcHQgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgIHJldHVybiByZWdpc3RlckludGVyY2VwdG9yKHRoaXMsIGhhbmRsZXIpO1xuICB9O1xuXG4gIE9ic2VydmFibGVTZXQucHJvdG90eXBlLnRvSlMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBTZXQodGhpcyk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZVNldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZSArIFwiWyBcIiArIEFycmF5LmZyb20odGhpcykuam9pbihcIiwgXCIpICsgXCIgXVwiO1xuICB9O1xuXG4gIE9ic2VydmFibGVTZXQucHJvdG90eXBlWyhfYSQxID0gJG1vYngsIFN5bWJvbC5pdGVyYXRvcildID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlcygpO1xuICB9O1xuXG4gIHJldHVybiBPYnNlcnZhYmxlU2V0O1xufSgpO1xuXG52YXIgaXNPYnNlcnZhYmxlU2V0ID0gY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZShcIk9ic2VydmFibGVTZXRcIiwgT2JzZXJ2YWJsZVNldCk7XG5cbnZhciBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24gPVxuLyoqIEBjbGFzcyAqL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24odGFyZ2V0LCB2YWx1ZXMsIG5hbWUsIGRlZmF1bHRFbmhhbmNlcikge1xuICAgIGlmICh2YWx1ZXMgPT09IHZvaWQgMCkge1xuICAgICAgdmFsdWVzID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5kZWZhdWx0RW5oYW5jZXIgPSBkZWZhdWx0RW5oYW5jZXI7XG4gICAgdGhpcy5rZXlzQXRvbSA9IG5ldyBBdG9tKG5hbWUgKyBcIi5rZXlzXCIpO1xuICB9XG5cbiAgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlcy5nZXQoa2V5KS5nZXQoKTtcbiAgfTtcblxuICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGtleSwgbmV3VmFsdWUpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLnRhcmdldDtcbiAgICB2YXIgb2JzZXJ2YWJsZSA9IHRoaXMudmFsdWVzLmdldChrZXkpO1xuXG4gICAgaWYgKG9ic2VydmFibGUgaW5zdGFuY2VvZiBDb21wdXRlZFZhbHVlKSB7XG4gICAgICBvYnNlcnZhYmxlLnNldChuZXdWYWx1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBpbnRlcmNlcHRcblxuXG4gICAgaWYgKGhhc0ludGVyY2VwdG9ycyh0aGlzKSkge1xuICAgICAgdmFyIGNoYW5nZSA9IGludGVyY2VwdENoYW5nZSh0aGlzLCB7XG4gICAgICAgIHR5cGU6IFwidXBkYXRlXCIsXG4gICAgICAgIG9iamVjdDogdGhpcy5wcm94eSB8fCBpbnN0YW5jZSxcbiAgICAgICAgbmFtZToga2V5LFxuICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgIH0pO1xuICAgICAgaWYgKCFjaGFuZ2UpIHJldHVybjtcbiAgICAgIG5ld1ZhbHVlID0gY2hhbmdlLm5ld1ZhbHVlO1xuICAgIH1cblxuICAgIG5ld1ZhbHVlID0gb2JzZXJ2YWJsZS5wcmVwYXJlTmV3VmFsdWUobmV3VmFsdWUpOyAvLyBub3RpZnkgc3B5ICYgb2JzZXJ2ZXJzXG5cbiAgICBpZiAobmV3VmFsdWUgIT09IGdsb2JhbFN0YXRlLlVOQ0hBTkdFRCkge1xuICAgICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyh0aGlzKTtcbiAgICAgIHZhciBub3RpZnlTcHkgPSBpc1NweUVuYWJsZWQoKTtcbiAgICAgIHZhciBjaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5ID8ge1xuICAgICAgICB0eXBlOiBcInVwZGF0ZVwiLFxuICAgICAgICBvYmplY3Q6IHRoaXMucHJveHkgfHwgaW5zdGFuY2UsXG4gICAgICAgIG9sZFZhbHVlOiBvYnNlcnZhYmxlLnZhbHVlLFxuICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxuICAgICAgfSA6IG51bGw7XG4gICAgICBpZiAobm90aWZ5U3B5ICYmIFwiZGV2ZWxvcG1lbnRcIiAhPT0gXCJwcm9kdWN0aW9uXCIpIHNweVJlcG9ydFN0YXJ0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBjaGFuZ2UpLCB7XG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAga2V5OiBrZXlcbiAgICAgIH0pKTtcbiAgICAgIG9ic2VydmFibGUuc2V0TmV3VmFsdWUobmV3VmFsdWUpO1xuICAgICAgaWYgKG5vdGlmeSkgbm90aWZ5TGlzdGVuZXJzKHRoaXMsIGNoYW5nZSk7XG4gICAgICBpZiAobm90aWZ5U3B5ICYmIFwiZGV2ZWxvcG1lbnRcIiAhPT0gXCJwcm9kdWN0aW9uXCIpIHNweVJlcG9ydEVuZCgpO1xuICAgIH1cbiAgfTtcblxuICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgbWFwID0gdGhpcy5wZW5kaW5nS2V5cyB8fCAodGhpcy5wZW5kaW5nS2V5cyA9IG5ldyBNYXAoKSk7XG4gICAgdmFyIGVudHJ5ID0gbWFwLmdldChrZXkpO1xuICAgIGlmIChlbnRyeSkgcmV0dXJuIGVudHJ5LmdldCgpO2Vsc2Uge1xuICAgICAgdmFyIGV4aXN0cyA9ICEhdGhpcy52YWx1ZXMuZ2V0KGtleSk7IC8vIFBvc3NpYmxlIG9wdGltaXphdGlvbjogRG9uJ3QgaGF2ZSBhIHNlcGFyYXRlIG1hcCBmb3Igbm9uIGV4aXN0aW5nIGtleXMsXG4gICAgICAvLyBidXQgc3RvcmUgdGhlbSBpbiB0aGUgdmFsdWVzIG1hcCBpbnN0ZWFkLCB1c2luZyBhIHNwZWNpYWwgc3ltYm9sIHRvIGRlbm90ZSBcIm5vdCBleGlzdGluZ1wiXG5cbiAgICAgIGVudHJ5ID0gbmV3IE9ic2VydmFibGVWYWx1ZShleGlzdHMsIHJlZmVyZW5jZUVuaGFuY2VyLCB0aGlzLm5hbWUgKyBcIi5cIiArIHN0cmluZ2lmeUtleShrZXkpICsgXCI/XCIsIGZhbHNlKTtcbiAgICAgIG1hcC5zZXQoa2V5LCBlbnRyeSk7XG4gICAgICByZXR1cm4gZW50cnkuZ2V0KCk7IC8vIHJlYWQgdG8gc3Vic2NyaWJlXG4gICAgfVxuICB9O1xuXG4gIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUuYWRkT2JzZXJ2YWJsZVByb3AgPSBmdW5jdGlvbiAocHJvcE5hbWUsIG5ld1ZhbHVlLCBlbmhhbmNlcikge1xuICAgIGlmIChlbmhhbmNlciA9PT0gdm9pZCAwKSB7XG4gICAgICBlbmhhbmNlciA9IHRoaXMuZGVmYXVsdEVuaGFuY2VyO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXQgPSB0aGlzLnRhcmdldDtcbiAgICBhc3NlcnRQcm9wZXJ0eUNvbmZpZ3VyYWJsZSh0YXJnZXQsIHByb3BOYW1lKTtcblxuICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UodGhpcywge1xuICAgICAgICBvYmplY3Q6IHRoaXMucHJveHkgfHwgdGFyZ2V0LFxuICAgICAgICBuYW1lOiBwcm9wTmFtZSxcbiAgICAgICAgdHlwZTogXCJhZGRcIixcbiAgICAgICAgbmV3VmFsdWU6IG5ld1ZhbHVlXG4gICAgICB9KTtcbiAgICAgIGlmICghY2hhbmdlKSByZXR1cm47XG4gICAgICBuZXdWYWx1ZSA9IGNoYW5nZS5uZXdWYWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlVmFsdWUobmV3VmFsdWUsIGVuaGFuY2VyLCB0aGlzLm5hbWUgKyBcIi5cIiArIHN0cmluZ2lmeUtleShwcm9wTmFtZSksIGZhbHNlKTtcbiAgICB0aGlzLnZhbHVlcy5zZXQocHJvcE5hbWUsIG9ic2VydmFibGUpO1xuICAgIG5ld1ZhbHVlID0gb2JzZXJ2YWJsZS52YWx1ZTsgLy8gb2JzZXJ2YWJsZVZhbHVlIG1pZ2h0IGhhdmUgY2hhbmdlZCBpdFxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUsIGdlbmVyYXRlT2JzZXJ2YWJsZVByb3BDb25maWcocHJvcE5hbWUpKTtcbiAgICB0aGlzLm5vdGlmeVByb3BlcnR5QWRkaXRpb24ocHJvcE5hbWUsIG5ld1ZhbHVlKTtcbiAgfTtcblxuICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLmFkZENvbXB1dGVkUHJvcCA9IGZ1bmN0aW9uIChwcm9wZXJ0eU93bmVyLCAvLyB3aGVyZSBpcyB0aGUgcHJvcGVydHkgZGVjbGFyZWQ/XG4gIHByb3BOYW1lLCBvcHRpb25zKSB7XG4gICAgdmFyIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuICAgIG9wdGlvbnMubmFtZSA9IG9wdGlvbnMubmFtZSB8fCB0aGlzLm5hbWUgKyBcIi5cIiArIHN0cmluZ2lmeUtleShwcm9wTmFtZSk7XG4gICAgdGhpcy52YWx1ZXMuc2V0KHByb3BOYW1lLCBuZXcgQ29tcHV0ZWRWYWx1ZShvcHRpb25zKSk7XG4gICAgaWYgKHByb3BlcnR5T3duZXIgPT09IHRhcmdldCB8fCBpc1Byb3BlcnR5Q29uZmlndXJhYmxlKHByb3BlcnR5T3duZXIsIHByb3BOYW1lKSkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BlcnR5T3duZXIsIHByb3BOYW1lLCBnZW5lcmF0ZUNvbXB1dGVkUHJvcENvbmZpZyhwcm9wTmFtZSkpO1xuICB9O1xuXG4gIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghdGhpcy52YWx1ZXMuaGFzKGtleSkpIHJldHVybjtcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG5cbiAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKHRoaXMpKSB7XG4gICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcbiAgICAgICAgb2JqZWN0OiB0aGlzLnByb3h5IHx8IHRhcmdldCxcbiAgICAgICAgbmFtZToga2V5LFxuICAgICAgICB0eXBlOiBcInJlbW92ZVwiXG4gICAgICB9KTtcbiAgICAgIGlmICghY2hhbmdlKSByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHN0YXJ0QmF0Y2goKTtcbiAgICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnModGhpcyk7XG4gICAgICB2YXIgbm90aWZ5U3B5ID0gaXNTcHlFbmFibGVkKCk7XG4gICAgICB2YXIgb2xkT2JzZXJ2YWJsZSA9IHRoaXMudmFsdWVzLmdldChrZXkpO1xuICAgICAgdmFyIG9sZFZhbHVlID0gb2xkT2JzZXJ2YWJsZSAmJiBvbGRPYnNlcnZhYmxlLmdldCgpO1xuICAgICAgb2xkT2JzZXJ2YWJsZSAmJiBvbGRPYnNlcnZhYmxlLnNldCh1bmRlZmluZWQpOyAvLyBub3RpZnkga2V5IGFuZCBrZXlzZXQgbGlzdGVuZXJzXG5cbiAgICAgIHRoaXMua2V5c0F0b20ucmVwb3J0Q2hhbmdlZCgpO1xuICAgICAgdGhpcy52YWx1ZXMuZGVsZXRlKGtleSk7XG5cbiAgICAgIGlmICh0aGlzLnBlbmRpbmdLZXlzKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMucGVuZGluZ0tleXMuZ2V0KGtleSk7XG4gICAgICAgIGlmIChlbnRyeSkgZW50cnkuc2V0KGZhbHNlKTtcbiAgICAgIH0gLy8gZGVsZXRlIHRoZSBwcm9wXG5cblxuICAgICAgZGVsZXRlIHRoaXMudGFyZ2V0W2tleV07XG4gICAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweSA/IHtcbiAgICAgICAgdHlwZTogXCJyZW1vdmVcIixcbiAgICAgICAgb2JqZWN0OiB0aGlzLnByb3h5IHx8IHRhcmdldCxcbiAgICAgICAgb2xkVmFsdWU6IG9sZFZhbHVlLFxuICAgICAgICBuYW1lOiBrZXlcbiAgICAgIH0gOiBudWxsO1xuICAgICAgaWYgKG5vdGlmeVNweSAmJiBcImRldmVsb3BtZW50XCIgIT09IFwicHJvZHVjdGlvblwiKSBzcHlSZXBvcnRTdGFydChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY2hhbmdlKSwge1xuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIGtleToga2V5XG4gICAgICB9KSk7XG4gICAgICBpZiAobm90aWZ5KSBub3RpZnlMaXN0ZW5lcnModGhpcywgY2hhbmdlKTtcbiAgICAgIGlmIChub3RpZnlTcHkgJiYgXCJkZXZlbG9wbWVudFwiICE9PSBcInByb2R1Y3Rpb25cIikgc3B5UmVwb3J0RW5kKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGVuZEJhdGNoKCk7XG4gICAgfVxuICB9O1xuXG4gIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUuaWxsZWdhbEFjY2VzcyA9IGZ1bmN0aW9uIChvd25lciwgcHJvcE5hbWUpIHtcbiAgICAvKipcclxuICAgICAqIFRoaXMgaGFwcGVucyBpZiBhIHByb3BlcnR5IGlzIGFjY2Vzc2VkIHRocm91Z2ggdGhlIHByb3RvdHlwZSBjaGFpbiwgYnV0IHRoZSBwcm9wZXJ0eSB3YXNcclxuICAgICAqIGRlY2xhcmVkIGRpcmVjdGx5IGFzIG93biBwcm9wZXJ0eSBvbiB0aGUgcHJvdG90eXBlLlxyXG4gICAgICpcclxuICAgICAqIEUuZy46XHJcbiAgICAgKiBjbGFzcyBBIHtcclxuICAgICAqIH1cclxuICAgICAqIGV4dGVuZE9ic2VydmFibGUoQS5wcm90b3R5cGUsIHsgeDogMSB9KVxyXG4gICAgICpcclxuICAgICAqIGNsYXNzQiBleHRlbnMgQSB7XHJcbiAgICAgKiB9XHJcbiAgICAgKiBjb25zb2xlLmxvZyhuZXcgQigpLngpXHJcbiAgICAgKlxyXG4gICAgICogSXQgaXMgdW5jbGVhciB3aGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCAnc3RhdGljJyBvciBpbmhlcml0ZWQuXHJcbiAgICAgKiBFaXRoZXIgdXNlIGBjb25zb2xlLmxvZyhBLngpYFxyXG4gICAgICogb3I6IGRlY29yYXRlKEEsIHsgeDogb2JzZXJ2YWJsZSB9KVxyXG4gICAgICpcclxuICAgICAqIFdoZW4gdXNpbmcgZGVjb3JhdGUsIHRoZSBwcm9wZXJ0eSB3aWxsIGFsd2F5cyBiZSByZWRlY2xhcmVkIGFzIG93biBwcm9wZXJ0eSBvbiB0aGUgYWN0dWFsIGluc3RhbmNlXHJcbiAgICAgKi9cbiAgICBjb25zb2xlLndhcm4oXCJQcm9wZXJ0eSAnXCIgKyBwcm9wTmFtZSArIFwiJyBvZiAnXCIgKyBvd25lciArIFwiJyB3YXMgYWNjZXNzZWQgdGhyb3VnaCB0aGUgcHJvdG90eXBlIGNoYWluLiBVc2UgJ2RlY29yYXRlJyBpbnN0ZWFkIHRvIGRlY2xhcmUgdGhlIHByb3Agb3IgYWNjZXNzIGl0IHN0YXRpY2FsbHkgdGhyb3VnaCBpdCdzIG93bmVyXCIpO1xuICB9O1xuICAvKipcclxuICAgKiBPYnNlcnZlcyB0aGlzIG9iamVjdC4gVHJpZ2dlcnMgZm9yIHRoZSBldmVudHMgJ2FkZCcsICd1cGRhdGUnIGFuZCAnZGVsZXRlJy5cclxuICAgKiBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9vYnNlcnZlXHJcbiAgICogZm9yIGNhbGxiYWNrIGRldGFpbHNcclxuICAgKi9cblxuXG4gIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgIHRydWUgJiYgaW52YXJpYW50KGZpcmVJbW1lZGlhdGVseSAhPT0gdHJ1ZSwgXCJgb2JzZXJ2ZWAgZG9lc24ndCBzdXBwb3J0IHRoZSBmaXJlIGltbWVkaWF0ZWx5IHByb3BlcnR5IGZvciBvYnNlcnZhYmxlIG9iamVjdHMuXCIpO1xuICAgIHJldHVybiByZWdpc3Rlckxpc3RlbmVyKHRoaXMsIGNhbGxiYWNrKTtcbiAgfTtcblxuICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLmludGVyY2VwdCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHJlZ2lzdGVySW50ZXJjZXB0b3IodGhpcywgaGFuZGxlcik7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uLnByb3RvdHlwZS5ub3RpZnlQcm9wZXJ0eUFkZGl0aW9uID0gZnVuY3Rpb24gKGtleSwgbmV3VmFsdWUpIHtcbiAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzKHRoaXMpO1xuICAgIHZhciBub3RpZnlTcHkgPSBpc1NweUVuYWJsZWQoKTtcbiAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweSA/IHtcbiAgICAgIHR5cGU6IFwiYWRkXCIsXG4gICAgICBvYmplY3Q6IHRoaXMucHJveHkgfHwgdGhpcy50YXJnZXQsXG4gICAgICBuYW1lOiBrZXksXG4gICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICB9IDogbnVsbDtcbiAgICBpZiAobm90aWZ5U3B5ICYmIFwiZGV2ZWxvcG1lbnRcIiAhPT0gXCJwcm9kdWN0aW9uXCIpIHNweVJlcG9ydFN0YXJ0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBjaGFuZ2UpLCB7XG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBrZXk6IGtleVxuICAgIH0pKTtcbiAgICBpZiAobm90aWZ5KSBub3RpZnlMaXN0ZW5lcnModGhpcywgY2hhbmdlKTtcbiAgICBpZiAobm90aWZ5U3B5ICYmIFwiZGV2ZWxvcG1lbnRcIiAhPT0gXCJwcm9kdWN0aW9uXCIpIHNweVJlcG9ydEVuZCgpO1xuXG4gICAgaWYgKHRoaXMucGVuZGluZ0tleXMpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMucGVuZGluZ0tleXMuZ2V0KGtleSk7XG4gICAgICBpZiAoZW50cnkpIGVudHJ5LnNldCh0cnVlKTtcbiAgICB9XG5cbiAgICB0aGlzLmtleXNBdG9tLnJlcG9ydENoYW5nZWQoKTtcbiAgfTtcblxuICBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlLmdldEtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVfMSwgX2E7XG5cbiAgICB0aGlzLmtleXNBdG9tLnJlcG9ydE9ic2VydmVkKCk7IC8vIHJldHVybiBSZWZsZWN0Lm93bktleXModGhpcy52YWx1ZXMpIGFzIGFueVxuXG4gICAgdmFyIHJlcyA9IFtdO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy52YWx1ZXMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgIHZhciBfZCA9IF9fcmVhZChfYy52YWx1ZSwgMiksXG4gICAgICAgICAgICBrZXkgPSBfZFswXSxcbiAgICAgICAgICAgIHZhbHVlID0gX2RbMV07XG5cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVZhbHVlKSByZXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVfMV8xKSB7XG4gICAgICBlXzEgPSB7XG4gICAgICAgIGVycm9yOiBlXzFfMVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgcmV0dXJuIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbjtcbn0oKTtcblxuZnVuY3Rpb24gYXNPYnNlcnZhYmxlT2JqZWN0KHRhcmdldCwgbmFtZSwgZGVmYXVsdEVuaGFuY2VyKSB7XG4gIGlmIChuYW1lID09PSB2b2lkIDApIHtcbiAgICBuYW1lID0gXCJcIjtcbiAgfVxuXG4gIGlmIChkZWZhdWx0RW5oYW5jZXIgPT09IHZvaWQgMCkge1xuICAgIGRlZmF1bHRFbmhhbmNlciA9IGRlZXBFbmhhbmNlcjtcbiAgfVxuXG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCAkbW9ieCkpIHJldHVybiB0YXJnZXRbJG1vYnhdO1xuICAgdHJ1ZSAmJiBpbnZhcmlhbnQoT2JqZWN0LmlzRXh0ZW5zaWJsZSh0YXJnZXQpLCBcIkNhbm5vdCBtYWtlIHRoZSBkZXNpZ25hdGVkIG9iamVjdCBvYnNlcnZhYmxlOyBpdCBpcyBub3QgZXh0ZW5zaWJsZVwiKTtcbiAgaWYgKCFpc1BsYWluT2JqZWN0KHRhcmdldCkpIG5hbWUgPSAodGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWUgfHwgXCJPYnNlcnZhYmxlT2JqZWN0XCIpICsgXCJAXCIgKyBnZXROZXh0SWQoKTtcbiAgaWYgKCFuYW1lKSBuYW1lID0gXCJPYnNlcnZhYmxlT2JqZWN0QFwiICsgZ2V0TmV4dElkKCk7XG4gIHZhciBhZG0gPSBuZXcgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uKHRhcmdldCwgbmV3IE1hcCgpLCBzdHJpbmdpZnlLZXkobmFtZSksIGRlZmF1bHRFbmhhbmNlcik7XG4gIGFkZEhpZGRlblByb3AodGFyZ2V0LCAkbW9ieCwgYWRtKTtcbiAgcmV0dXJuIGFkbTtcbn1cblxudmFyIG9ic2VydmFibGVQcm9wZXJ0eUNvbmZpZ3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xudmFyIGNvbXB1dGVkUHJvcGVydHlDb25maWdzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVPYnNlcnZhYmxlUHJvcENvbmZpZyhwcm9wTmFtZSkge1xuICByZXR1cm4gb2JzZXJ2YWJsZVByb3BlcnR5Q29uZmlnc1twcm9wTmFtZV0gfHwgKG9ic2VydmFibGVQcm9wZXJ0eUNvbmZpZ3NbcHJvcE5hbWVdID0ge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXNbJG1vYnhdLnJlYWQocHJvcE5hbWUpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgdGhpc1skbW9ieF0ud3JpdGUocHJvcE5hbWUsIHYpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEFkbWluaXN0cmF0aW9uRm9yQ29tcHV0ZWRQcm9wT3duZXIob3duZXIpIHtcbiAgdmFyIGFkbSA9IG93bmVyWyRtb2J4XTtcblxuICBpZiAoIWFkbSkge1xuICAgIC8vIGJlY2F1c2UgY29tcHV0ZWQgcHJvcHMgYXJlIGRlY2xhcmVkIG9uIHByb3R5LFxuICAgIC8vIHRoZSBjdXJyZW50IGluc3RhbmNlIG1pZ2h0IG5vdCBoYXZlIGJlZW4gaW5pdGlhbGl6ZWQgeWV0XG4gICAgaW5pdGlhbGl6ZUluc3RhbmNlKG93bmVyKTtcbiAgICByZXR1cm4gb3duZXJbJG1vYnhdO1xuICB9XG5cbiAgcmV0dXJuIGFkbTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVDb21wdXRlZFByb3BDb25maWcocHJvcE5hbWUpIHtcbiAgcmV0dXJuIGNvbXB1dGVkUHJvcGVydHlDb25maWdzW3Byb3BOYW1lXSB8fCAoY29tcHV0ZWRQcm9wZXJ0eUNvbmZpZ3NbcHJvcE5hbWVdID0ge1xuICAgIGNvbmZpZ3VyYWJsZTogZ2xvYmFsU3RhdGUuY29tcHV0ZWRDb25maWd1cmFibGUsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0QWRtaW5pc3RyYXRpb25Gb3JDb21wdXRlZFByb3BPd25lcih0aGlzKS5yZWFkKHByb3BOYW1lKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgIGdldEFkbWluaXN0cmF0aW9uRm9yQ29tcHV0ZWRQcm9wT3duZXIodGhpcykud3JpdGUocHJvcE5hbWUsIHYpO1xuICAgIH1cbiAgfSk7XG59XG5cbnZhciBpc09ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbiA9IGNyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUoXCJPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb25cIiwgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uKTtcblxuZnVuY3Rpb24gaXNPYnNlcnZhYmxlT2JqZWN0KHRoaW5nKSB7XG4gIGlmIChpc09iamVjdCh0aGluZykpIHtcbiAgICAvLyBJbml0aWFsaXplcnMgcnVuIGxhemlseSB3aGVuIHRyYW5zcGlsaW5nIHRvIGJhYmVsLCBzbyBtYWtlIHN1cmUgdGhleSBhcmUgcnVuLi4uXG4gICAgaW5pdGlhbGl6ZUluc3RhbmNlKHRoaW5nKTtcbiAgICByZXR1cm4gaXNPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24odGhpbmdbJG1vYnhdKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0QXRvbSh0aGluZywgcHJvcGVydHkpIHtcbiAgaWYgKHR5cGVvZiB0aGluZyA9PT0gXCJvYmplY3RcIiAmJiB0aGluZyAhPT0gbnVsbCkge1xuICAgIGlmIChpc09ic2VydmFibGVBcnJheSh0aGluZykpIHtcbiAgICAgIGlmIChwcm9wZXJ0eSAhPT0gdW5kZWZpbmVkKSBmYWlsKCB0cnVlICYmIFwiSXQgaXMgbm90IHBvc3NpYmxlIHRvIGdldCBpbmRleCBhdG9tcyBmcm9tIGFycmF5c1wiKTtcbiAgICAgIHJldHVybiB0aGluZ1skbW9ieF0uYXRvbTtcbiAgICB9XG5cbiAgICBpZiAoaXNPYnNlcnZhYmxlU2V0KHRoaW5nKSkge1xuICAgICAgcmV0dXJuIHRoaW5nWyRtb2J4XTtcbiAgICB9XG5cbiAgICBpZiAoaXNPYnNlcnZhYmxlTWFwKHRoaW5nKSkge1xuICAgICAgdmFyIGFueVRoaW5nID0gdGhpbmc7XG4gICAgICBpZiAocHJvcGVydHkgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGFueVRoaW5nLl9rZXlzQXRvbTtcblxuICAgICAgdmFyIG9ic2VydmFibGUgPSBhbnlUaGluZy5fZGF0YS5nZXQocHJvcGVydHkpIHx8IGFueVRoaW5nLl9oYXNNYXAuZ2V0KHByb3BlcnR5KTtcblxuICAgICAgaWYgKCFvYnNlcnZhYmxlKSBmYWlsKCB0cnVlICYmIFwidGhlIGVudHJ5ICdcIiArIHByb3BlcnR5ICsgXCInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBvYnNlcnZhYmxlIG1hcCAnXCIgKyBnZXREZWJ1Z05hbWUodGhpbmcpICsgXCInXCIpO1xuICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfSAvLyBJbml0aWFsaXplcnMgcnVuIGxhemlseSB3aGVuIHRyYW5zcGlsaW5nIHRvIGJhYmVsLCBzbyBtYWtlIHN1cmUgdGhleSBhcmUgcnVuLi4uXG5cblxuICAgIGluaXRpYWxpemVJbnN0YW5jZSh0aGluZyk7XG4gICAgaWYgKHByb3BlcnR5ICYmICF0aGluZ1skbW9ieF0pIHRoaW5nW3Byb3BlcnR5XTsgLy8gU2VlICMxMDcyXG5cbiAgICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KHRoaW5nKSkge1xuICAgICAgaWYgKCFwcm9wZXJ0eSkgcmV0dXJuIGZhaWwoIHRydWUgJiYgXCJwbGVhc2Ugc3BlY2lmeSBhIHByb3BlcnR5XCIpO1xuICAgICAgdmFyIG9ic2VydmFibGUgPSB0aGluZ1skbW9ieF0udmFsdWVzLmdldChwcm9wZXJ0eSk7XG4gICAgICBpZiAoIW9ic2VydmFibGUpIGZhaWwoIHRydWUgJiYgXCJubyBvYnNlcnZhYmxlIHByb3BlcnR5ICdcIiArIHByb3BlcnR5ICsgXCInIGZvdW5kIG9uIHRoZSBvYnNlcnZhYmxlIG9iamVjdCAnXCIgKyBnZXREZWJ1Z05hbWUodGhpbmcpICsgXCInXCIpO1xuICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfVxuXG4gICAgaWYgKGlzQXRvbSh0aGluZykgfHwgaXNDb21wdXRlZFZhbHVlKHRoaW5nKSB8fCBpc1JlYWN0aW9uKHRoaW5nKSkge1xuICAgICAgcmV0dXJuIHRoaW5nO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdGhpbmcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGlmIChpc1JlYWN0aW9uKHRoaW5nWyRtb2J4XSkpIHtcbiAgICAgIC8vIGRpc3Bvc2VyIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gdGhpbmdbJG1vYnhdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWlsKCB0cnVlICYmIFwiQ2Fubm90IG9idGFpbiBhdG9tIGZyb20gXCIgKyB0aGluZyk7XG59XG5cbmZ1bmN0aW9uIGdldEFkbWluaXN0cmF0aW9uKHRoaW5nLCBwcm9wZXJ0eSkge1xuICBpZiAoIXRoaW5nKSBmYWlsKFwiRXhwZWN0aW5nIHNvbWUgb2JqZWN0XCIpO1xuICBpZiAocHJvcGVydHkgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGdldEFkbWluaXN0cmF0aW9uKGdldEF0b20odGhpbmcsIHByb3BlcnR5KSk7XG4gIGlmIChpc0F0b20odGhpbmcpIHx8IGlzQ29tcHV0ZWRWYWx1ZSh0aGluZykgfHwgaXNSZWFjdGlvbih0aGluZykpIHJldHVybiB0aGluZztcbiAgaWYgKGlzT2JzZXJ2YWJsZU1hcCh0aGluZykgfHwgaXNPYnNlcnZhYmxlU2V0KHRoaW5nKSkgcmV0dXJuIHRoaW5nOyAvLyBJbml0aWFsaXplcnMgcnVuIGxhemlseSB3aGVuIHRyYW5zcGlsaW5nIHRvIGJhYmVsLCBzbyBtYWtlIHN1cmUgdGhleSBhcmUgcnVuLi4uXG5cbiAgaW5pdGlhbGl6ZUluc3RhbmNlKHRoaW5nKTtcbiAgaWYgKHRoaW5nWyRtb2J4XSkgcmV0dXJuIHRoaW5nWyRtb2J4XTtcbiAgZmFpbCggdHJ1ZSAmJiBcIkNhbm5vdCBvYnRhaW4gYWRtaW5pc3RyYXRpb24gZnJvbSBcIiArIHRoaW5nKTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVidWdOYW1lKHRoaW5nLCBwcm9wZXJ0eSkge1xuICB2YXIgbmFtZWQ7XG4gIGlmIChwcm9wZXJ0eSAhPT0gdW5kZWZpbmVkKSBuYW1lZCA9IGdldEF0b20odGhpbmcsIHByb3BlcnR5KTtlbHNlIGlmIChpc09ic2VydmFibGVPYmplY3QodGhpbmcpIHx8IGlzT2JzZXJ2YWJsZU1hcCh0aGluZykgfHwgaXNPYnNlcnZhYmxlU2V0KHRoaW5nKSkgbmFtZWQgPSBnZXRBZG1pbmlzdHJhdGlvbih0aGluZyk7ZWxzZSBuYW1lZCA9IGdldEF0b20odGhpbmcpOyAvLyB2YWxpZCBmb3IgYXJyYXlzIGFzIHdlbGxcblxuICByZXR1cm4gbmFtZWQubmFtZTtcbn1cblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIsIGRlcHRoKSB7XG4gIGlmIChkZXB0aCA9PT0gdm9pZCAwKSB7XG4gICAgZGVwdGggPSAtMTtcbiAgfVxuXG4gIHJldHVybiBlcShhLCBiLCBkZXB0aCk7XG59IC8vIENvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9ibG9iLzVjMjM3YTdjNjgyZmI2OGZkNTM3ODIwM2YwYmYyMmRjZTE2MjQ4NTQvdW5kZXJzY29yZS5qcyNMMTE4Ni1MMTI4OVxuLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBpc0VxdWFsYC5cblxuXG5mdW5jdGlvbiBlcShhLCBiLCBkZXB0aCwgYVN0YWNrLCBiU3RhY2spIHtcbiAgLy8gSWRlbnRpY2FsIG9iamVjdHMgYXJlIGVxdWFsLiBgMCA9PT0gLTBgLCBidXQgdGhleSBhcmVuJ3QgaWRlbnRpY2FsLlxuICAvLyBTZWUgdGhlIFtIYXJtb255IGBlZ2FsYCBwcm9wb3NhbF0oaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9aGFybW9ueTplZ2FsKS5cbiAgaWYgKGEgPT09IGIpIHJldHVybiBhICE9PSAwIHx8IDEgLyBhID09PSAxIC8gYjsgLy8gYG51bGxgIG9yIGB1bmRlZmluZWRgIG9ubHkgZXF1YWwgdG8gaXRzZWxmIChzdHJpY3QgY29tcGFyaXNvbikuXG5cbiAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTsgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cblxuICBpZiAoYSAhPT0gYSkgcmV0dXJuIGIgIT09IGI7IC8vIEV4aGF1c3QgcHJpbWl0aXZlIGNoZWNrc1xuXG4gIHZhciB0eXBlID0gdHlwZW9mIGE7XG4gIGlmICh0eXBlICE9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgYiAhPSBcIm9iamVjdFwiKSByZXR1cm4gZmFsc2U7IC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG5cbiAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSk7XG4gIGlmIChjbGFzc05hbWUgIT09IHRvU3RyaW5nLmNhbGwoYikpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgIC8vIFN0cmluZ3MsIG51bWJlcnMsIHJlZ3VsYXIgZXhwcmVzc2lvbnMsIGRhdGVzLCBhbmQgYm9vbGVhbnMgYXJlIGNvbXBhcmVkIGJ5IHZhbHVlLlxuICAgIGNhc2UgXCJbb2JqZWN0IFJlZ0V4cF1cIjogLy8gUmVnRXhwcyBhcmUgY29lcmNlZCB0byBzdHJpbmdzIGZvciBjb21wYXJpc29uIChOb3RlOiAnJyArIC9hL2kgPT09ICcvYS9pJylcblxuICAgIGNhc2UgXCJbb2JqZWN0IFN0cmluZ11cIjpcbiAgICAgIC8vIFByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHdyYXBwZXJzIGFyZSBlcXVpdmFsZW50OyB0aHVzLCBgXCI1XCJgIGlzXG4gICAgICAvLyBlcXVpdmFsZW50IHRvIGBuZXcgU3RyaW5nKFwiNVwiKWAuXG4gICAgICByZXR1cm4gXCJcIiArIGEgPT09IFwiXCIgKyBiO1xuXG4gICAgY2FzZSBcIltvYmplY3QgTnVtYmVyXVwiOlxuICAgICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICAgIC8vIE9iamVjdChOYU4pIGlzIGVxdWl2YWxlbnQgdG8gTmFOLlxuICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjsgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cblxuICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcblxuICAgIGNhc2UgXCJbb2JqZWN0IERhdGVdXCI6XG4gICAgY2FzZSBcIltvYmplY3QgQm9vbGVhbl1cIjpcbiAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgIC8vIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9ucy4gTm90ZSB0aGF0IGludmFsaWQgZGF0ZXMgd2l0aCBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnNcbiAgICAgIC8vIG9mIGBOYU5gIGFyZSBub3QgZXF1aXZhbGVudC5cbiAgICAgIHJldHVybiArYSA9PT0gK2I7XG5cbiAgICBjYXNlIFwiW29iamVjdCBTeW1ib2xdXCI6XG4gICAgICByZXR1cm4gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wudmFsdWVPZi5jYWxsKGEpID09PSBTeW1ib2wudmFsdWVPZi5jYWxsKGIpO1xuXG4gICAgY2FzZSBcIltvYmplY3QgTWFwXVwiOlxuICAgIGNhc2UgXCJbb2JqZWN0IFNldF1cIjpcbiAgICAgIC8vIE1hcHMgYW5kIFNldHMgYXJlIHVud3JhcHBlZCB0byBhcnJheXMgb2YgZW50cnktcGFpcnMsIGFkZGluZyBhbiBpbmNpZGVudGFsIGxldmVsLlxuICAgICAgLy8gSGlkZSB0aGlzIGV4dHJhIGxldmVsIGJ5IGluY3JlYXNpbmcgdGhlIGRlcHRoLlxuICAgICAgaWYgKGRlcHRoID49IDApIHtcbiAgICAgICAgZGVwdGgrKztcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG4gIH0gLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG5cblxuICBhID0gdW53cmFwKGEpO1xuICBiID0gdW53cmFwKGIpO1xuICB2YXIgYXJlQXJyYXlzID0gY2xhc3NOYW1lID09PSBcIltvYmplY3QgQXJyYXldXCI7XG5cbiAgaWYgKCFhcmVBcnJheXMpIHtcbiAgICBpZiAodHlwZW9mIGEgIT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgYiAhPSBcIm9iamVjdFwiKSByZXR1cm4gZmFsc2U7IC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgIC8vIGZyb20gZGlmZmVyZW50IGZyYW1lcyBhcmUuXG5cbiAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLFxuICAgICAgICBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG5cbiAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmICEodHlwZW9mIGFDdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgYUN0b3IgaW5zdGFuY2VvZiBhQ3RvciAmJiB0eXBlb2YgYkN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBiQ3RvciBpbnN0YW5jZW9mIGJDdG9yKSAmJiBcImNvbnN0cnVjdG9yXCIgaW4gYSAmJiBcImNvbnN0cnVjdG9yXCIgaW4gYikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkZXB0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChkZXB0aCA8IDApIHtcbiAgICBkZXB0aCA9IC0xO1xuICB9IC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgLy8gc3RydWN0dXJlcyBpcyBhZGFwdGVkIGZyb20gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AuXG4gIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgLy8gSXQncyBkb25lIGhlcmUgc2luY2Ugd2Ugb25seSBuZWVkIHRoZW0gZm9yIG9iamVjdHMgYW5kIGFycmF5cyBjb21wYXJpc29uLlxuXG5cbiAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICBiU3RhY2sgPSBiU3RhY2sgfHwgW107XG4gIHZhciBsZW5ndGggPSBhU3RhY2subGVuZ3RoO1xuXG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICBpZiAoYVN0YWNrW2xlbmd0aF0gPT09IGEpIHJldHVybiBiU3RhY2tbbGVuZ3RoXSA9PT0gYjtcbiAgfSAvLyBBZGQgdGhlIGZpcnN0IG9iamVjdCB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG5cblxuICBhU3RhY2sucHVzaChhKTtcbiAgYlN0YWNrLnB1c2goYik7IC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuXG4gIGlmIChhcmVBcnJheXMpIHtcbiAgICAvLyBDb21wYXJlIGFycmF5IGxlbmd0aHMgdG8gZGV0ZXJtaW5lIGlmIGEgZGVlcCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeS5cbiAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlOyAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoIWVxKGFbbGVuZ3RoXSwgYltsZW5ndGhdLCBkZXB0aCAtIDEsIGFTdGFjaywgYlN0YWNrKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIHZhciBrZXkgPSB2b2lkIDA7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzIGJlZm9yZSBjb21wYXJpbmcgZGVlcCBlcXVhbGl0eS5cblxuICAgIGlmIChPYmplY3Qua2V5cyhiKS5sZW5ndGggIT09IGxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgIGtleSA9IGtleXNbbGVuZ3RoXTtcbiAgICAgIGlmICghKGhhcyQxKGIsIGtleSkgJiYgZXEoYVtrZXldLCBiW2tleV0sIGRlcHRoIC0gMSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cblxuXG4gIGFTdGFjay5wb3AoKTtcbiAgYlN0YWNrLnBvcCgpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdW53cmFwKGEpIHtcbiAgaWYgKGlzT2JzZXJ2YWJsZUFycmF5KGEpKSByZXR1cm4gYS5zbGljZSgpO1xuICBpZiAoaXNFUzZNYXAoYSkgfHwgaXNPYnNlcnZhYmxlTWFwKGEpKSByZXR1cm4gQXJyYXkuZnJvbShhLmVudHJpZXMoKSk7XG4gIGlmIChpc0VTNlNldChhKSB8fCBpc09ic2VydmFibGVTZXQoYSkpIHJldHVybiBBcnJheS5mcm9tKGEuZW50cmllcygpKTtcbiAgcmV0dXJuIGE7XG59XG5cbmZ1bmN0aW9uIGhhcyQxKGEsIGtleSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGtleSk7XG59XG5cbmZ1bmN0aW9uIG1ha2VJdGVyYWJsZShpdGVyYXRvcikge1xuICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZ2V0U2VsZjtcbiAgcmV0dXJuIGl0ZXJhdG9yO1xufVxuXG5mdW5jdGlvbiBnZXRTZWxmKCkge1xuICByZXR1cm4gdGhpcztcbn1cbi8qXHJcblRoZSBvbmx5IHJlYXNvbiBmb3IgdGhpcyBmaWxlIHRvIGV4aXN0IGlzIHB1cmUgaG9ycm9yOlxyXG5XaXRob3V0IGl0IHJvbGx1cCBjYW4gbWFrZSB0aGUgYnVuZGxpbmcgZmFpbCBhdCBhbnkgcG9pbnQgaW4gdGltZTsgd2hlbiBpdCByb2xscyB1cCB0aGUgZmlsZXMgaW4gdGhlIHdyb25nIG9yZGVyXHJcbml0IHdpbGwgY2F1c2UgdW5kZWZpbmVkIGVycm9ycyAoZm9yIGV4YW1wbGUgYmVjYXVzZSBzdXBlciBjbGFzc2VzIG9yIGxvY2FsIHZhcmlhYmxlcyBub3QgYmVpbmcgaG9pc3RlZCkuXHJcbldpdGggdGhpcyBmaWxlIHRoYXQgd2lsbCBzdGlsbCBoYXBwZW4sXHJcbmJ1dCBhdCBsZWFzdCBpbiB0aGlzIGZpbGUgd2UgY2FuIG1hZ2ljYWxseSByZW9yZGVyIHRoZSBpbXBvcnRzIHdpdGggdHJpYWwgYW5kIGVycm9yIHVudGlsIHRoZSBidWlsZCBzdWNjZWVkcyBhZ2Fpbi5cclxuKi9cblxuLyoqXHJcbiAqIChjKSBNaWNoZWwgV2VzdHN0cmF0ZSAyMDE1IC0gMjAxOFxyXG4gKiBNSVQgTGljZW5zZWRcclxuICpcclxuICogV2VsY29tZSB0byB0aGUgbW9ieCBzb3VyY2VzISBUbyBnZXQgYW4gZ2xvYmFsIG92ZXJ2aWV3IG9mIGhvdyBNb2JYIGludGVybmFsbHkgd29ya3MsXHJcbiAqIHRoaXMgaXMgYSBnb29kIHBsYWNlIHRvIHN0YXJ0OlxyXG4gKiBodHRwczovL21lZGl1bS5jb20vQG13ZXN0c3RyYXRlL2JlY29taW5nLWZ1bGx5LXJlYWN0aXZlLWFuLWluLWRlcHRoLWV4cGxhbmF0aW9uLW9mLW1vYnNlcnZhYmxlLTU1OTk1MjYyYTI1NCMueHZiaDZxZDc0XHJcbiAqXHJcbiAqIFNvdXJjZSBmb2xkZXJzOlxyXG4gKiA9PT09PT09PT09PT09PT1cclxuICpcclxuICogLSBhcGkvICAgICBNb3N0IG9mIHRoZSBwdWJsaWMgc3RhdGljIG1ldGhvZHMgZXhwb3NlZCBieSB0aGUgbW9kdWxlIGNhbiBiZSBmb3VuZCBoZXJlLlxyXG4gKiAtIGNvcmUvICAgIEltcGxlbWVudGF0aW9uIG9mIHRoZSBNb2JYIGFsZ29yaXRobTsgYXRvbXMsIGRlcml2YXRpb25zLCByZWFjdGlvbnMsIGRlcGVuZGVuY3kgdHJlZXMsIG9wdGltaXphdGlvbnMuIENvb2wgc3R1ZmYgY2FuIGJlIGZvdW5kIGhlcmUuXHJcbiAqIC0gdHlwZXMvICAgQWxsIHRoZSBtYWdpYyB0aGF0IGlzIG5lZWQgdG8gaGF2ZSBvYnNlcnZhYmxlIG9iamVjdHMsIGFycmF5cyBhbmQgdmFsdWVzIGlzIGluIHRoaXMgZm9sZGVyLiBJbmNsdWRpbmcgdGhlIG1vZGlmaWVycyBsaWtlIGBhc0ZsYXRgLlxyXG4gKiAtIHV0aWxzLyAgIFV0aWxpdHkgc3R1ZmYuXHJcbiAqXHJcbiAqL1xuXG5cbmlmICh0eXBlb2YgUHJveHkgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJbbW9ieF0gTW9iWCA1KyByZXF1aXJlcyBQcm94eSBhbmQgU3ltYm9sIG9iamVjdHMuIElmIHlvdXIgZW52aXJvbm1lbnQgZG9lc24ndCBzdXBwb3J0IFN5bWJvbCBvciBQcm94eSBvYmplY3RzLCBwbGVhc2UgZG93bmdyYWRlIHRvIE1vYlggNC4gRm9yIFJlYWN0IE5hdGl2ZSBBbmRyb2lkLCBjb25zaWRlciB1cGdyYWRpbmcgSlNDb3JlLlwiKTtcbn1cblxudHJ5IHtcbiAgLy8gZGVmaW5lIHByb2Nlc3MuZW52IGlmIG5lZWRlZFxuICAvLyBpZiB0aGlzIGlzIG5vdCBhIHByb2R1Y3Rpb24gYnVpbGQgaW4gdGhlIGZpcnN0IHBsYWNlXG4gIC8vIChpbiB3aGljaCBjYXNlIHRoZSBleHByZXNzaW9uIGJlbG93IHdvdWxkIGJlIHN1YnN0aXR1dGVkIHdpdGggJ3Byb2R1Y3Rpb24nKVxuICBcImRldmVsb3BtZW50XCI7XG59IGNhdGNoIChlKSB7XG4gIHZhciBnID0gZ2V0R2xvYmFsKCk7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJ1bmRlZmluZWRcIikgZy5wcm9jZXNzID0ge307XG4gIGcucHJvY2Vzcy5lbnYgPSB7fTtcbn1cblxuKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gdGVzdENvZGVNaW5pZmljYXRpb24oKSB7fVxuXG4gIGlmICh0ZXN0Q29kZU1pbmlmaWNhdGlvbi5uYW1lICE9PSBcInRlc3RDb2RlTWluaWZpY2F0aW9uXCIgJiYgXCJkZXZlbG9wbWVudFwiICE9PSBcInByb2R1Y3Rpb25cIiAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYuSUdOT1JFX01PQlhfTUlOSUZZX1dBUk5JTkcgIT09IFwidHJ1ZVwiKSB7XG4gICAgLy8gdHJpY2sgc28gaXQgZG9lc24ndCBnZXQgcmVwbGFjZWRcbiAgICB2YXIgdmFyTmFtZSA9IFtcInByb2Nlc3NcIiwgXCJlbnZcIiwgXCJOT0RFX0VOVlwiXS5qb2luKFwiLlwiKTtcbiAgICBjb25zb2xlLndhcm4oXCJbbW9ieF0geW91IGFyZSBydW5uaW5nIGEgbWluaWZpZWQgYnVpbGQsIGJ1dCAnXCIgKyB2YXJOYW1lICsgXCInIHdhcyBub3Qgc2V0IHRvICdwcm9kdWN0aW9uJyBpbiB5b3VyIGJ1bmRsZXIuIFRoaXMgcmVzdWx0cyBpbiBhbiB1bm5lY2Vzc2FyaWx5IGxhcmdlIGFuZCBzbG93IGJ1bmRsZVwiKTtcbiAgfVxufSkoKTtcblxuaWYgKHR5cGVvZiBfX01PQlhfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gXCJvYmplY3RcIikge1xuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmR5a29nL21vYngtZGV2dG9vbHMvXG4gIF9fTU9CWF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmluamVjdE1vYngoe1xuICAgIHNweTogc3B5LFxuICAgIGV4dHJhczoge1xuICAgICAgZ2V0RGVidWdOYW1lOiBnZXREZWJ1Z05hbWVcbiAgICB9LFxuICAgICRtb2J4OiAkbW9ieFxuICB9KTtcbn1cblxuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi8uLi9wcm9jZXNzL2Jyb3dzZXIuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcIiksIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vLi4vd2VicGFjay9idWlsZGluL2dsb2JhbC5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanNcIikpKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG4gIGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG4gIHRyeSB7XG4gICAgaWYgKCFPYmplY3QuYXNzaWduKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG4gICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXG5cbiAgICB2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblxuICAgIHRlc3QxWzVdID0gJ2RlJztcblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXG5cbiAgICB2YXIgdGVzdDIgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgdGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuICAgIH1cblxuICAgIHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gdGVzdDJbbl07XG4gICAgfSk7XG5cbiAgICBpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblxuXG4gICAgdmFyIHRlc3QzID0ge307XG4gICAgJ2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG4gICAgICB0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuICAgIH0pO1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcbiAgdmFyIGZyb207XG4gIHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG4gIHZhciBzeW1ib2xzO1xuXG4gIGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG4gICAgZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG4gICAgZm9yICh2YXIga2V5IGluIGZyb20pIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcbiAgICAgICAgdG9ba2V5XSA9IGZyb21ba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICBzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuICAgICAgICAgIHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0bztcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTsgLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQoKSB7XG4gIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5cbihmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gIH1cblxuICB0cnkge1xuICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgfVxufSkoKTtcblxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICB9IC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cblxuICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRyeSB7XG4gICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgfSAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cblxuICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgfVxuICB9XG59XG5cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBkcmFpbmluZyA9IGZhbHNlO1xuXG4gIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gIH1cblxuICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgZHJhaW5RdWV1ZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gIGlmIChkcmFpbmluZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICBkcmFpbmluZyA9IHRydWU7XG4gIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cbiAgd2hpbGUgKGxlbikge1xuICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgIHF1ZXVlID0gW107XG5cbiAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICB9XG5cbiAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgfVxuXG4gIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cbiAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICB9XG59OyAvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cblxuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gIHRoaXMuZnVuID0gZnVuO1xuICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xuXG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIFtdO1xufTtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAnLyc7XG59O1xuXG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIDA7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9jaGVja1Byb3BUeXBlcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7fTtcblxuaWYgKHRydWUpIHtcbiAgdmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQgKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qc1wiKTtcblxuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIHZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgdGV4dDtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXModHlwZVNwZWNzLCB2YWx1ZXMsIGxvY2F0aW9uLCBjb21wb25lbnROYW1lLCBnZXRTdGFjaykge1xuICBpZiAodHJ1ZSkge1xuICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcbiAgICAgIGlmIChoYXModHlwZVNwZWNzLCB0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjsgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFyIGVyciA9IEVycm9yKChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogJyArIGxvY2F0aW9uICsgJyB0eXBlIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgJyArICdpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJyArIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSArICdgLicpO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXJyb3IgPSB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSh2YWx1ZXMsIHR5cGVTcGVjTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIG51bGwsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yICYmICEoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoKGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJykgKyAnOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJyArIGxvY2F0aW9uICsgJyBgJyArIHR5cGVTcGVjTmFtZSArICdgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAnICsgdHlwZW9mIGVycm9yICsgJy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuICAgICAgICAgIC8vIE9ubHkgbW9uaXRvciB0aGlzIGZhaWx1cmUgb25jZSBiZWNhdXNlIHRoZXJlIHRlbmRzIHRvIGJlIGEgbG90IG9mIHRoZVxuICAgICAgICAgIC8vIHNhbWUgZXJyb3IuXG4gICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcbiAgICAgICAgICBwcmludFdhcm5pbmcoJ0ZhaWxlZCAnICsgbG9jYXRpb24gKyAnIHR5cGU6ICcgKyBlcnJvci5tZXNzYWdlICsgKHN0YWNrICE9IG51bGwgPyBzdGFjayA6ICcnKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogUmVzZXRzIHdhcm5pbmcgY2FjaGUgd2hlbiB0ZXN0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5jaGVja1Byb3BUeXBlcy5yZXNldFdhcm5pbmdDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRydWUpIHtcbiAgICBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXG52YXIgUmVhY3RJcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LWlzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanNcIik7XG5cbnZhciBhc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBvYmplY3QtYXNzaWduICovIFwiLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qc1wiKTtcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQgKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qc1wiKTtcblxudmFyIGNoZWNrUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jaGVja1Byb3BUeXBlcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMuanNcIik7XG5cbnZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7fTtcblxuaWYgKHRydWUpIHtcbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgdGV4dDtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcbn1cblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbCgpIHtcbiAgcmV0dXJuIG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG4gIC8qIGdsb2JhbCBTeW1ib2wgKi9cbiAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaXRlcmF0b3IgbWV0aG9kIGZ1bmN0aW9uIGNvbnRhaW5lZCBvbiB0aGUgaXRlcmFibGUgb2JqZWN0LlxuICAgKlxuICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcbiAgICpcbiAgICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAqICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChteUl0ZXJhYmxlKTtcbiAgICogICAgICAgLi4uXG4gICAqICAgICB9XG4gICAqXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICAgIHZhciBpdGVyYXRvckZuID0gbWF5YmVJdGVyYWJsZSAmJiAoSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXSk7XG5cbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcbiAgICogc3VwcGxpZWQgdG8gUmVhY3QgY29tcG9uZW50cy4gRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xuICAgKiAgIHZhciBNeUFydGljbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxuICAgKiAgICAgICBkZXNjcmlwdGlvbjogUHJvcHMuc3RyaW5nLFxuICAgKlxuICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXG4gICAqICAgICAgIGNhdGVnb3J5OiBQcm9wcy5vbmVPZihbJ05ld3MnLCdQaG90b3MnXSkuaXNSZXF1aXJlZCxcbiAgICpcbiAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXG4gICAqICAgICAgIGRpYWxvZzogUHJvcHMuaW5zdGFuY2VPZihEaWFsb2cpLmlzUmVxdWlyZWRcbiAgICogICAgIH0sXG4gICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxuICAgKiAgIH0pO1xuICAgKlxuICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XG4gICAqXG4gICAqICAgdHlwZSA6PSBhcnJheXxib29sfGZ1bmN8b2JqZWN0fG51bWJlcnxzdHJpbmd8b25lT2YoWy4uLl0pfGluc3RhbmNlT2YoLi4uKVxuICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cbiAgICpcbiAgICogRWFjaCBhbmQgZXZlcnkgZGVjbGFyYXRpb24gcHJvZHVjZXMgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZS4gVGhpc1xuICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICB2YXIgTXlMaW5rID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgb3IgVVJJIHByb3AgbmFtZWQgXCJocmVmXCIuXG4gICAqICAgICAgaHJlZjogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgKiAgICAgICAgaWYgKHByb3BWYWx1ZSAhPSBudWxsICYmIHR5cGVvZiBwcm9wVmFsdWUgIT09ICdzdHJpbmcnICYmXG4gICAqICAgICAgICAgICAgIShwcm9wVmFsdWUgaW5zdGFuY2VvZiBVUkkpKSB7XG4gICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAqICAgICAgICAgICAgJ0V4cGVjdGVkIGEgc3RyaW5nIG9yIGFuIFVSSSBmb3IgJyArIHByb3BOYW1lICsgJyBpbiAnICtcbiAgICogICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAqICAgICAgICAgICk7XG4gICAqICAgICAgICB9XG4gICAqICAgICAgfVxuICAgKiAgICB9LFxuICAgKiAgICByZW5kZXI6IGZ1bmN0aW9uKCkgey4uLn1cbiAgICogIH0pO1xuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG5cblxuICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nOyAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzYC5cblxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gICAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG4gICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG4gICAgc3ltYm9sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3ltYm9sJyksXG4gICAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcbiAgICBlbGVtZW50VHlwZTogY3JlYXRlRWxlbWVudFR5cGVUeXBlQ2hlY2tlcigpLFxuICAgIGluc3RhbmNlT2Y6IGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIsXG4gICAgbm9kZTogY3JlYXRlTm9kZUNoZWNrZXIoKSxcbiAgICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcbiAgICBvbmVPZjogY3JlYXRlRW51bVR5cGVDaGVja2VyLFxuICAgIG9uZU9mVHlwZTogY3JlYXRlVW5pb25UeXBlQ2hlY2tlcixcbiAgICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcixcbiAgICBleGFjdDogY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlclxuICB9O1xuICAvKipcbiAgICogaW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwgdG8gYXZvaWQgcmVxdWlyaW5nIGNvbnN1bWVycyBzaGlwIHRoZWlyIG93blxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAgICovXG5cbiAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXG4gIGZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgICAvLyBTYW1lVmFsdWUgYWxnb3JpdGhtXG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuICAgICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cbiAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxuICB9XG4gIC8qZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXG4gIC8qKlxuICAgKiBXZSB1c2UgYW4gRXJyb3ItbGlrZSBvYmplY3QgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYXMgcGVvcGxlIG1heSBjYWxsXG4gICAqIFByb3BUeXBlcyBkaXJlY3RseSBhbmQgaW5zcGVjdCB0aGVpciBvdXRwdXQuIEhvd2V2ZXIsIHdlIGRvbid0IHVzZSByZWFsXG4gICAqIEVycm9ycyBhbnltb3JlLiBXZSBkb24ndCBpbnNwZWN0IHRoZWlyIHN0YWNrIGFueXdheSwgYW5kIGNyZWF0aW5nIHRoZW1cbiAgICogaXMgcHJvaGliaXRpdmVseSBleHBlbnNpdmUgaWYgdGhleSBhcmUgY3JlYXRlZCB0b28gb2Z0ZW4sIHN1Y2ggYXMgd2hhdFxuICAgKiBoYXBwZW5zIGluIG9uZU9mVHlwZSgpIGZvciBhbnkgdHlwZSBiZWZvcmUgdGhlIG9uZSB0aGF0IG1hdGNoZWQuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gUHJvcFR5cGVFcnJvcihtZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrID0gJyc7XG4gIH0gLy8gTWFrZSBgaW5zdGFuY2VvZiBFcnJvcmAgc3RpbGwgd29yayBmb3IgcmV0dXJuZWQgZXJyb3JzLlxuXG5cbiAgUHJvcFR5cGVFcnJvci5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpIHtcbiAgICBpZiAodHJ1ZSkge1xuICAgICAgdmFyIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlID0ge307XG4gICAgICB2YXIgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXG4gICAgICBpZiAoc2VjcmV0ICE9PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgICBpZiAodGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuICAgICAgICAgIC8vIE5ldyBiZWhhdmlvciBvbmx5IGZvciB1c2VycyBvZiBgcHJvcC10eXBlc2AgcGFja2FnZVxuICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgKyAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICsgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnKTtcbiAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0gZWxzZSBpZiAoIHRydWUgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG4gICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY29tcG9uZW50TmFtZSArICc6JyArIHByb3BOYW1lO1xuXG4gICAgICAgICAgaWYgKCFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiYgLy8gQXZvaWQgc3BhbW1pbmcgdGhlIGNvbnNvbGUgYmVjYXVzZSB0aGV5IGFyZSBvZnRlbiBub3QgYWN0aW9uYWJsZSBleGNlcHQgZm9yIGxpYiBhdXRob3JzXG4gICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPCAzKSB7XG4gICAgICAgICAgICBwcmludFdhcm5pbmcoJ1lvdSBhcmUgbWFudWFsbHkgY2FsbGluZyBhIFJlYWN0LlByb3BUeXBlcyB2YWxpZGF0aW9uICcgKyAnZnVuY3Rpb24gZm9yIHRoZSBgJyArIHByb3BGdWxsTmFtZSArICdgIHByb3Agb24gYCcgKyBjb21wb25lbnROYW1lICsgJ2AuIFRoaXMgaXMgZGVwcmVjYXRlZCAnICsgJ2FuZCB3aWxsIHRocm93IGluIHRoZSBzdGFuZGFsb25lIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICsgJ1lvdSBtYXkgYmUgc2VlaW5nIHRoaXMgd2FybmluZyBkdWUgdG8gYSB0aGlyZC1wYXJ0eSBQcm9wVHlwZXMgJyArICdsaWJyYXJ5LiBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWRvbnQtY2FsbC1wcm9wdHlwZXMgJyArICdmb3IgZGV0YWlscy4nKTtcbiAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSA9IHRydWU7XG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkICcgKyAoJ2luIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGBudWxsYC4nKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgdW5kZWZpbmVkYC4nKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaGFpbmVkQ2hlY2tUeXBlID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgZmFsc2UpO1xuICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuICAgIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXG4gICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcbiAgICAgICAgLy8gY2hlY2ssIGJ1dCB3ZSBjYW4gb2ZmZXIgYSBtb3JlIHByZWNpc2UgZXJyb3IgbWVzc2FnZSBoZXJlIHJhdGhlciB0aGFuXG4gICAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cbiAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIGFycmF5T2YuJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wVmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBpLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJ1snICsgaSArICddJywgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50LicpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRUeXBlVHlwZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICBpZiAoIVJlYWN0SXMuaXNWYWxpZEVsZW1lbnRUeXBlKHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50IHR5cGUuJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcihleHBlY3RlZENsYXNzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIShwcm9wc1twcm9wTmFtZV0gaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSkge1xuICAgICAgICB2YXIgZXhwZWN0ZWRDbGFzc05hbWUgPSBleHBlY3RlZENsYXNzLm5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgICB2YXIgYWN0dWFsQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKHByb3BzW3Byb3BOYW1lXSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIGFjdHVhbENsYXNzTmFtZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnaW5zdGFuY2Ugb2YgYCcgKyBleHBlY3RlZENsYXNzTmFtZSArICdgLicpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVudW1UeXBlQ2hlY2tlcihleHBlY3RlZFZhbHVlcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFZhbHVlcykpIHtcbiAgICAgIGlmICh0cnVlKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudHMgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGFycmF5LCBnb3QgJyArIGFyZ3VtZW50cy5sZW5ndGggKyAnIGFyZ3VtZW50cy4gJyArICdBIGNvbW1vbiBtaXN0YWtlIGlzIHRvIHdyaXRlIG9uZU9mKHgsIHksIHopIGluc3RlYWQgb2Ygb25lT2YoW3gsIHksIHpdKS4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGFycmF5LicpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXMocHJvcFZhbHVlLCBleHBlY3RlZFZhbHVlc1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWVzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRWYWx1ZXMsIGZ1bmN0aW9uIHJlcGxhY2VyKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdmFsdWUgYCcgKyBTdHJpbmcocHJvcFZhbHVlKSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBvbmUgb2YgJyArIHZhbHVlc1N0cmluZyArICcuJykpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBvYmplY3QuJykpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcFZhbHVlKSB7XG4gICAgICAgIGlmIChoYXMocHJvcFZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVVbmlvblR5cGVDaGVja2VyKGFycmF5T2ZUeXBlQ2hlY2tlcnMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcbiAgICAgICB0cnVlID8gcHJpbnRXYXJuaW5nKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcblxuICAgICAgaWYgKHR5cGVvZiBjaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUuIEV4cGVjdGVkIGFuIGFycmF5IG9mIGNoZWNrIGZ1bmN0aW9ucywgYnV0ICcgKyAncmVjZWl2ZWQgJyArIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyhjaGVja2VyKSArICcgYXQgaW5kZXggJyArIGkgKyAnLicpO1xuICAgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG5cbiAgICAgICAgaWYgKGNoZWNrZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBSZWFjdFByb3BUeXBlc1NlY3JldCkgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVOb2RlQ2hlY2tlcigpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghaXNOb2RlKHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBSZWFjdE5vZGUuJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzaGFwZVR5cGVzKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuXG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9IC8vIFdlIG5lZWQgdG8gY2hlY2sgYWxsIGtleXMgaW4gY2FzZSBzb21lIGFyZSByZXF1aXJlZCBidXQgbWlzc2luZyBmcm9tXG4gICAgICAvLyBwcm9wcy5cblxuXG4gICAgICB2YXIgYWxsS2V5cyA9IGFzc2lnbih7fSwgcHJvcHNbcHJvcE5hbWVdLCBzaGFwZVR5cGVzKTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cbiAgICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICsgJ1xcbkJhZCBvYmplY3Q6ICcgKyBKU09OLnN0cmluZ2lmeShwcm9wc1twcm9wTmFtZV0sIG51bGwsICcgICcpICsgJ1xcblZhbGlkIGtleXM6ICcgKyBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhzaGFwZVR5cGVzKSwgbnVsbCwgJyAgJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiAhcHJvcFZhbHVlO1xuXG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcblxuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IHByb3BWYWx1ZS5lbnRyaWVzKSB7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpIHtcbiAgICAvLyBOYXRpdmUgU3ltYm9sLlxuICAgIGlmIChwcm9wVHlwZSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gZmFsc3kgdmFsdWUgY2FuJ3QgYmUgYSBTeW1ib2xcblxuXG4gICAgaWYgKCFwcm9wVmFsdWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG5cblxuICAgIGlmIChwcm9wVmFsdWVbJ0BAdG9TdHJpbmdUYWcnXSA9PT0gJ1N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gRmFsbGJhY2sgZm9yIG5vbi1zcGVjIGNvbXBsaWFudCBTeW1ib2xzIHdoaWNoIGFyZSBwb2x5ZmlsbGVkLlxuXG5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wVmFsdWUgaW5zdGFuY2VvZiBTeW1ib2wpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBFcXVpdmFsZW50IG9mIGB0eXBlb2ZgIGJ1dCB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGFycmF5IGFuZCByZWdleHAuXG5cblxuICBmdW5jdGlvbiBnZXRQcm9wVHlwZShwcm9wVmFsdWUpIHtcbiAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgfVxuXG4gICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxuICAgICAgLy8gJ29iamVjdCcgZm9yIHR5cGVvZiBhIFJlZ0V4cC4gV2UnbGwgbm9ybWFsaXplIHRoaXMgaGVyZSBzbyB0aGF0IC9ibGEvXG4gICAgICAvLyBwYXNzZXMgUHJvcFR5cGVzLm9iamVjdC5cbiAgICAgIHJldHVybiAnb2JqZWN0JztcbiAgICB9XG5cbiAgICBpZiAoaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnc3ltYm9sJztcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcFR5cGU7XG4gIH0gLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICAvLyBTZWUgYGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyYC5cblxuXG4gIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuICAgIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAndW5kZWZpbmVkJyB8fCBwcm9wVmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAnJyArIHByb3BWYWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXG4gICAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuICdkYXRlJztcbiAgICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHJldHVybiAncmVnZXhwJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcFR5cGU7XG4gIH0gLy8gUmV0dXJucyBhIHN0cmluZyB0aGF0IGlzIHBvc3RmaXhlZCB0byBhIHdhcm5pbmcgYWJvdXQgYW4gaW52YWxpZCB0eXBlLlxuICAvLyBGb3IgZXhhbXBsZSwgXCJ1bmRlZmluZWRcIiBvciBcIm9mIHR5cGUgYXJyYXlcIlxuXG5cbiAgZnVuY3Rpb24gZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHJldHVybiAnYW4gJyArIHR5cGU7XG5cbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICBjYXNlICdyZWdleHAnOlxuICAgICAgICByZXR1cm4gJ2EgJyArIHR5cGU7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgfSAvLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxuXG5cbiAgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKHByb3BWYWx1ZSkge1xuICAgIGlmICghcHJvcFZhbHVlLmNvbnN0cnVjdG9yIHx8ICFwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZSkge1xuICAgICAgcmV0dXJuIEFOT05ZTU9VUztcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG4gIH1cblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGNoZWNrUHJvcFR5cGVzO1xuICBSZWFjdFByb3BUeXBlcy5yZXNldFdhcm5pbmdDYWNoZSA9IGNoZWNrUHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5pZiAodHJ1ZSkge1xuICB2YXIgUmVhY3RJcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LWlzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanNcIik7IC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG5cblxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycyAqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNcIikoUmVhY3RJcy5pc0VsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHt9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2Nqcy9yZWFjdC1pcy5kZXZlbG9wbWVudC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiogQGxpY2Vuc2UgUmVhY3QgdjE2LjEzLjFcbiAqIHJlYWN0LWlzLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXG5pZiAodHJ1ZSkge1xuICAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JzsgLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBTeW1ib2xcbiAgICAvLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXG5cbiAgICB2YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuZm9yO1xuICAgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgOiAweGVhYzc7XG4gICAgdmFyIFJFQUNUX1BPUlRBTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucG9ydGFsJykgOiAweGVhY2E7XG4gICAgdmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mcmFnbWVudCcpIDogMHhlYWNiO1xuICAgIHZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKSA6IDB4ZWFjYztcbiAgICB2YXIgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb2ZpbGVyJykgOiAweGVhZDI7XG4gICAgdmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wcm92aWRlcicpIDogMHhlYWNkO1xuICAgIHZhciBSRUFDVF9DT05URVhUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5jb250ZXh0JykgOiAweGVhY2U7IC8vIFRPRE86IFdlIGRvbid0IHVzZSBBc3luY01vZGUgb3IgQ29uY3VycmVudE1vZGUgYW55bW9yZS4gVGhleSB3ZXJlIHRlbXBvcmFyeVxuICAgIC8vICh1bnN0YWJsZSkgQVBJcyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkLiBDYW4gd2UgcmVtb3ZlIHRoZSBzeW1ib2xzP1xuXG4gICAgdmFyIFJFQUNUX0FTWU5DX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmFzeW5jX21vZGUnKSA6IDB4ZWFjZjtcbiAgICB2YXIgUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5jb25jdXJyZW50X21vZGUnKSA6IDB4ZWFjZjtcbiAgICB2YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZvcndhcmRfcmVmJykgOiAweGVhZDA7XG4gICAgdmFyIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZScpIDogMHhlYWQxO1xuICAgIHZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0JykgOiAweGVhZDg7XG4gICAgdmFyIFJFQUNUX01FTU9fVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0Lm1lbW8nKSA6IDB4ZWFkMztcbiAgICB2YXIgUkVBQ1RfTEFaWV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QubGF6eScpIDogMHhlYWQ0O1xuICAgIHZhciBSRUFDVF9CTE9DS19UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuYmxvY2snKSA6IDB4ZWFkOTtcbiAgICB2YXIgUkVBQ1RfRlVOREFNRU5UQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZ1bmRhbWVudGFsJykgOiAweGVhZDU7XG4gICAgdmFyIFJFQUNUX1JFU1BPTkRFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucmVzcG9uZGVyJykgOiAweGVhZDY7XG4gICAgdmFyIFJFQUNUX1NDT1BFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zY29wZScpIDogMHhlYWQ3O1xuXG4gICAgZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgLy8gTm90ZTogaXRzIHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIGlmIGl0J3MgYSBwb2x5ZmlsbC5cbiAgICAgIHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRlVOREFNRU5UQUxfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9SRVNQT05ERVJfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9TQ09QRV9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0JMT0NLX1RZUEUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHR5cGVPZihvYmplY3QpIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwpIHtcbiAgICAgICAgdmFyICQkdHlwZW9mID0gb2JqZWN0LiQkdHlwZW9mO1xuXG4gICAgICAgIHN3aXRjaCAoJCR0eXBlb2YpIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgIHZhciB0eXBlID0gb2JqZWN0LnR5cGU7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0FTWU5DX01PREVfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdmFyICQkdHlwZW9mVHlwZSA9IHR5cGUgJiYgdHlwZS4kJHR5cGVvZjtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAoJCR0eXBlb2ZUeXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkJHR5cGVvZlR5cGU7XG5cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkJHR5cGVvZjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gJCR0eXBlb2Y7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IC8vIEFzeW5jTW9kZSBpcyBkZXByZWNhdGVkIGFsb25nIHdpdGggaXNBc3luY01vZGVcblxuXG4gICAgdmFyIEFzeW5jTW9kZSA9IFJFQUNUX0FTWU5DX01PREVfVFlQRTtcbiAgICB2YXIgQ29uY3VycmVudE1vZGUgPSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTtcbiAgICB2YXIgQ29udGV4dENvbnN1bWVyID0gUkVBQ1RfQ09OVEVYVF9UWVBFO1xuICAgIHZhciBDb250ZXh0UHJvdmlkZXIgPSBSRUFDVF9QUk9WSURFUl9UWVBFO1xuICAgIHZhciBFbGVtZW50ID0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICAgIHZhciBGb3J3YXJkUmVmID0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTtcbiAgICB2YXIgRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuICAgIHZhciBMYXp5ID0gUkVBQ1RfTEFaWV9UWVBFO1xuICAgIHZhciBNZW1vID0gUkVBQ1RfTUVNT19UWVBFO1xuICAgIHZhciBQb3J0YWwgPSBSRUFDVF9QT1JUQUxfVFlQRTtcbiAgICB2YXIgUHJvZmlsZXIgPSBSRUFDVF9QUk9GSUxFUl9UWVBFO1xuICAgIHZhciBTdHJpY3RNb2RlID0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbiAgICB2YXIgU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuICAgIHZhciBoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRJc0FzeW5jTW9kZSA9IGZhbHNlOyAvLyBBc3luY01vZGUgc2hvdWxkIGJlIGRlcHJlY2F0ZWRcblxuICAgIGZ1bmN0aW9uIGlzQXN5bmNNb2RlKG9iamVjdCkge1xuICAgICAge1xuICAgICAgICBpZiAoIWhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlKSB7XG4gICAgICAgICAgaGFzV2FybmVkQWJvdXREZXByZWNhdGVkSXNBc3luY01vZGUgPSB0cnVlOyAvLyBVc2luZyBjb25zb2xlWyd3YXJuJ10gdG8gZXZhZGUgQmFiZWwgYW5kIEVTTGludFxuXG4gICAgICAgICAgY29uc29sZVsnd2FybiddKCdUaGUgUmVhY3RJcy5pc0FzeW5jTW9kZSgpIGFsaWFzIGhhcyBiZWVuIGRlcHJlY2F0ZWQsICcgKyAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBSZWFjdCAxNysuIFVwZGF0ZSB5b3VyIGNvZGUgdG8gdXNlICcgKyAnUmVhY3RJcy5pc0NvbmN1cnJlbnRNb2RlKCkgaW5zdGVhZC4gSXQgaGFzIHRoZSBleGFjdCBzYW1lIEFQSS4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQ29uY3VycmVudE1vZGUob2JqZWN0KSB8fCB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQVNZTkNfTU9ERV9UWVBFO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQ29uY3VycmVudE1vZGUob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQ29udGV4dENvbnN1bWVyKG9iamVjdCkge1xuICAgICAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9DT05URVhUX1RZUEU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNDb250ZXh0UHJvdmlkZXIob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1BST1ZJREVSX1RZUEU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KG9iamVjdCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0ZvcndhcmRSZWYob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNGcmFnbWVudChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xhenkob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0xBWllfVFlQRTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc01lbW8ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX01FTU9fVFlQRTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BvcnRhbChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUE9SVEFMX1RZUEU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNQcm9maWxlcihvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1N0cmljdE1vZGUob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTdXNwZW5zZShvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbiAgICB9XG5cbiAgICBleHBvcnRzLkFzeW5jTW9kZSA9IEFzeW5jTW9kZTtcbiAgICBleHBvcnRzLkNvbmN1cnJlbnRNb2RlID0gQ29uY3VycmVudE1vZGU7XG4gICAgZXhwb3J0cy5Db250ZXh0Q29uc3VtZXIgPSBDb250ZXh0Q29uc3VtZXI7XG4gICAgZXhwb3J0cy5Db250ZXh0UHJvdmlkZXIgPSBDb250ZXh0UHJvdmlkZXI7XG4gICAgZXhwb3J0cy5FbGVtZW50ID0gRWxlbWVudDtcbiAgICBleHBvcnRzLkZvcndhcmRSZWYgPSBGb3J3YXJkUmVmO1xuICAgIGV4cG9ydHMuRnJhZ21lbnQgPSBGcmFnbWVudDtcbiAgICBleHBvcnRzLkxhenkgPSBMYXp5O1xuICAgIGV4cG9ydHMuTWVtbyA9IE1lbW87XG4gICAgZXhwb3J0cy5Qb3J0YWwgPSBQb3J0YWw7XG4gICAgZXhwb3J0cy5Qcm9maWxlciA9IFByb2ZpbGVyO1xuICAgIGV4cG9ydHMuU3RyaWN0TW9kZSA9IFN0cmljdE1vZGU7XG4gICAgZXhwb3J0cy5TdXNwZW5zZSA9IFN1c3BlbnNlO1xuICAgIGV4cG9ydHMuaXNBc3luY01vZGUgPSBpc0FzeW5jTW9kZTtcbiAgICBleHBvcnRzLmlzQ29uY3VycmVudE1vZGUgPSBpc0NvbmN1cnJlbnRNb2RlO1xuICAgIGV4cG9ydHMuaXNDb250ZXh0Q29uc3VtZXIgPSBpc0NvbnRleHRDb25zdW1lcjtcbiAgICBleHBvcnRzLmlzQ29udGV4dFByb3ZpZGVyID0gaXNDb250ZXh0UHJvdmlkZXI7XG4gICAgZXhwb3J0cy5pc0VsZW1lbnQgPSBpc0VsZW1lbnQ7XG4gICAgZXhwb3J0cy5pc0ZvcndhcmRSZWYgPSBpc0ZvcndhcmRSZWY7XG4gICAgZXhwb3J0cy5pc0ZyYWdtZW50ID0gaXNGcmFnbWVudDtcbiAgICBleHBvcnRzLmlzTGF6eSA9IGlzTGF6eTtcbiAgICBleHBvcnRzLmlzTWVtbyA9IGlzTWVtbztcbiAgICBleHBvcnRzLmlzUG9ydGFsID0gaXNQb3J0YWw7XG4gICAgZXhwb3J0cy5pc1Byb2ZpbGVyID0gaXNQcm9maWxlcjtcbiAgICBleHBvcnRzLmlzU3RyaWN0TW9kZSA9IGlzU3RyaWN0TW9kZTtcbiAgICBleHBvcnRzLmlzU3VzcGVuc2UgPSBpc1N1c3BlbnNlO1xuICAgIGV4cG9ydHMuaXNWYWxpZEVsZW1lbnRUeXBlID0gaXNWYWxpZEVsZW1lbnRUeXBlO1xuICAgIGV4cG9ydHMudHlwZU9mID0gdHlwZU9mO1xuICB9KSgpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5pZiAoZmFsc2UpIHt9IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY2pzL3JlYWN0LWlzLmRldmVsb3BtZW50LmpzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvY2pzL3JlYWN0LWlzLmRldmVsb3BtZW50LmpzXCIpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9jb21wb25lbnRzL1RhYi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9jb21wb25lbnRzL1RhYi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUYWI7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHByb3AtdHlwZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xzeCAqLyBcIi4vbm9kZV9tb2R1bGVzL2Nsc3gvZGlzdC9jbHN4Lm0uanNcIik7XG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG5cblxuXG52YXIgREVGQVVMVF9DTEFTUyA9ICdyZWFjdC10YWJzX190YWInO1xuXG52YXIgVGFiID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFRhYiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGFiKCkge1xuICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBUYWIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuY2hlY2tGb2N1cygpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5jaGVja0ZvY3VzKCk7XG4gIH07XG5cbiAgX3Byb3RvLmNoZWNrRm9jdXMgPSBmdW5jdGlvbiBjaGVja0ZvY3VzKCkge1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHNlbGVjdGVkID0gX3RoaXMkcHJvcHMuc2VsZWN0ZWQsXG4gICAgICAgIGZvY3VzID0gX3RoaXMkcHJvcHMuZm9jdXM7XG5cbiAgICBpZiAoc2VsZWN0ZWQgJiYgZm9jdXMpIHtcbiAgICAgIHRoaXMubm9kZS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfY3gsXG4gICAgICAgIF90aGlzID0gdGhpcztcblxuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzMi5jaGlsZHJlbixcbiAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLmNsYXNzTmFtZSxcbiAgICAgICAgZGlzYWJsZWQgPSBfdGhpcyRwcm9wczIuZGlzYWJsZWQsXG4gICAgICAgIGRpc2FibGVkQ2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLmRpc2FibGVkQ2xhc3NOYW1lLFxuICAgICAgICBmb2N1cyA9IF90aGlzJHByb3BzMi5mb2N1cyxcbiAgICAgICAgaWQgPSBfdGhpcyRwcm9wczIuaWQsXG4gICAgICAgIHBhbmVsSWQgPSBfdGhpcyRwcm9wczIucGFuZWxJZCxcbiAgICAgICAgc2VsZWN0ZWQgPSBfdGhpcyRwcm9wczIuc2VsZWN0ZWQsXG4gICAgICAgIHNlbGVjdGVkQ2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLnNlbGVjdGVkQ2xhc3NOYW1lLFxuICAgICAgICB0YWJJbmRleCA9IF90aGlzJHByb3BzMi50YWJJbmRleCxcbiAgICAgICAgdGFiUmVmID0gX3RoaXMkcHJvcHMyLnRhYlJlZixcbiAgICAgICAgYXR0cmlidXRlcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzMiwgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkQ2xhc3NOYW1lXCIsIFwiZm9jdXNcIiwgXCJpZFwiLCBcInBhbmVsSWRcIiwgXCJzZWxlY3RlZFwiLCBcInNlbGVjdGVkQ2xhc3NOYW1lXCIsIFwidGFiSW5kZXhcIiwgXCJ0YWJSZWZcIl0pO1xuXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwibGlcIiwgX2V4dGVuZHMoe30sIGF0dHJpYnV0ZXMsIHtcbiAgICAgIGNsYXNzTmFtZTogT2JqZWN0KGNsc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKGNsYXNzTmFtZSwgKF9jeCA9IHt9LCBfY3hbc2VsZWN0ZWRDbGFzc05hbWVdID0gc2VsZWN0ZWQsIF9jeFtkaXNhYmxlZENsYXNzTmFtZV0gPSBkaXNhYmxlZCwgX2N4KSksXG4gICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgIF90aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICBpZiAodGFiUmVmKSB0YWJSZWYobm9kZSk7XG4gICAgICB9LFxuICAgICAgcm9sZTogXCJ0YWJcIixcbiAgICAgIGlkOiBpZCxcbiAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBzZWxlY3RlZCA/ICd0cnVlJyA6ICdmYWxzZScsXG4gICAgICBcImFyaWEtZGlzYWJsZWRcIjogZGlzYWJsZWQgPyAndHJ1ZScgOiAnZmFsc2UnLFxuICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IHBhbmVsSWQsXG4gICAgICB0YWJJbmRleDogdGFiSW5kZXggfHwgKHNlbGVjdGVkID8gJzAnIDogbnVsbClcbiAgICB9KSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gIHJldHVybiBUYWI7XG59KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJDb21wb25lbnRcIl0pO1xuXG5UYWIuZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6IERFRkFVTFRfQ0xBU1MsXG4gIGRpc2FibGVkQ2xhc3NOYW1lOiBERUZBVUxUX0NMQVNTICsgXCItLWRpc2FibGVkXCIsXG4gIGZvY3VzOiBmYWxzZSxcbiAgaWQ6IG51bGwsXG4gIHBhbmVsSWQ6IG51bGwsXG4gIHNlbGVjdGVkOiBmYWxzZSxcbiAgc2VsZWN0ZWRDbGFzc05hbWU6IERFRkFVTFRfQ0xBU1MgKyBcIi0tc2VsZWN0ZWRcIlxufTtcblxuVGFiLnByb3BUeXBlcyA9ICB0cnVlID8ge1xuICBjaGlsZHJlbjogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5vbmVPZlR5cGUoW3Byb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuYXJyYXksIHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEub2JqZWN0LCBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnN0cmluZ10pLFxuICBjbGFzc05hbWU6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEub25lT2ZUeXBlKFtwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnN0cmluZywgcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5hcnJheSwgcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5vYmplY3RdKSxcbiAgZGlzYWJsZWQ6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuYm9vbCxcbiAgdGFiSW5kZXg6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuc3RyaW5nLFxuICBkaXNhYmxlZENsYXNzTmFtZTogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5zdHJpbmcsXG4gIGZvY3VzOiBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmJvb2wsXG4gIC8vIHByaXZhdGVcbiAgaWQ6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuc3RyaW5nLFxuICAvLyBwcml2YXRlXG4gIHBhbmVsSWQ6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuc3RyaW5nLFxuICAvLyBwcml2YXRlXG4gIHNlbGVjdGVkOiBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmJvb2wsXG4gIC8vIHByaXZhdGVcbiAgc2VsZWN0ZWRDbGFzc05hbWU6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuc3RyaW5nLFxuICB0YWJSZWY6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZnVuYyAvLyBwcml2YXRlXG5cbn0gOiB1bmRlZmluZWQ7XG5UYWIudGFic1JvbGUgPSAnVGFiJztcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vY29tcG9uZW50cy9UYWJMaXN0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9jb21wb25lbnRzL1RhYkxpc3QuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRhYkxpc3Q7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHByb3AtdHlwZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xzeCAqLyBcIi4vbm9kZV9tb2R1bGVzL2Nsc3gvZGlzdC9jbHN4Lm0uanNcIik7XG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG5cblxuXG5cbnZhciBUYWJMaXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFRhYkxpc3QsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRhYkxpc3QoKSB7XG4gICAgcmV0dXJuIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFRhYkxpc3QucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICBhdHRyaWJ1dGVzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCJdKTtcblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInVsXCIsIF9leHRlbmRzKHt9LCBhdHRyaWJ1dGVzLCB7XG4gICAgICBjbGFzc05hbWU6IE9iamVjdChjbHN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKShjbGFzc05hbWUpLFxuICAgICAgcm9sZTogXCJ0YWJsaXN0XCJcbiAgICB9KSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gIHJldHVybiBUYWJMaXN0O1xufShyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQ29tcG9uZW50XCJdKTtcblxuVGFiTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJ3JlYWN0LXRhYnNfX3RhYi1saXN0J1xufTtcblxuVGFiTGlzdC5wcm9wVHlwZXMgPSAgdHJ1ZSA/IHtcbiAgY2hpbGRyZW46IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEub25lT2ZUeXBlKFtwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLm9iamVjdCwgcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5hcnJheV0pLFxuICBjbGFzc05hbWU6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEub25lT2ZUeXBlKFtwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnN0cmluZywgcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5hcnJheSwgcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5vYmplY3RdKVxufSA6IHVuZGVmaW5lZDtcblRhYkxpc3QudGFic1JvbGUgPSAnVGFiTGlzdCc7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2NvbXBvbmVudHMvVGFiUGFuZWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9jb21wb25lbnRzL1RhYlBhbmVsLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVGFiUGFuZWw7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHByb3AtdHlwZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xzeCAqLyBcIi4vbm9kZV9tb2R1bGVzL2Nsc3gvZGlzdC9jbHN4Lm0uanNcIik7XG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG5cblxuXG52YXIgREVGQVVMVF9DTEFTUyA9ICdyZWFjdC10YWJzX190YWItcGFuZWwnO1xuXG52YXIgVGFiUGFuZWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoVGFiUGFuZWwsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRhYlBhbmVsKCkge1xuICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBUYWJQYW5lbC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX2N4O1xuXG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICBmb3JjZVJlbmRlciA9IF90aGlzJHByb3BzLmZvcmNlUmVuZGVyLFxuICAgICAgICBpZCA9IF90aGlzJHByb3BzLmlkLFxuICAgICAgICBzZWxlY3RlZCA9IF90aGlzJHByb3BzLnNlbGVjdGVkLFxuICAgICAgICBzZWxlY3RlZENsYXNzTmFtZSA9IF90aGlzJHByb3BzLnNlbGVjdGVkQ2xhc3NOYW1lLFxuICAgICAgICB0YWJJZCA9IF90aGlzJHByb3BzLnRhYklkLFxuICAgICAgICBhdHRyaWJ1dGVzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwiZm9yY2VSZW5kZXJcIiwgXCJpZFwiLCBcInNlbGVjdGVkXCIsIFwic2VsZWN0ZWRDbGFzc05hbWVcIiwgXCJ0YWJJZFwiXSk7XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe30sIGF0dHJpYnV0ZXMsIHtcbiAgICAgIGNsYXNzTmFtZTogT2JqZWN0KGNsc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKGNsYXNzTmFtZSwgKF9jeCA9IHt9LCBfY3hbc2VsZWN0ZWRDbGFzc05hbWVdID0gc2VsZWN0ZWQsIF9jeCkpLFxuICAgICAgcm9sZTogXCJ0YWJwYW5lbFwiLFxuICAgICAgaWQ6IGlkLFxuICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogdGFiSWRcbiAgICB9KSwgZm9yY2VSZW5kZXIgfHwgc2VsZWN0ZWQgPyBjaGlsZHJlbiA6IG51bGwpO1xuICB9O1xuXG4gIHJldHVybiBUYWJQYW5lbDtcbn0ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkNvbXBvbmVudFwiXSk7XG5cblRhYlBhbmVsLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiBERUZBVUxUX0NMQVNTLFxuICBmb3JjZVJlbmRlcjogZmFsc2UsXG4gIHNlbGVjdGVkQ2xhc3NOYW1lOiBERUZBVUxUX0NMQVNTICsgXCItLXNlbGVjdGVkXCJcbn07XG5cblRhYlBhbmVsLnByb3BUeXBlcyA9ICB0cnVlID8ge1xuICBjaGlsZHJlbjogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5ub2RlLFxuICBjbGFzc05hbWU6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEub25lT2ZUeXBlKFtwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnN0cmluZywgcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5hcnJheSwgcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5vYmplY3RdKSxcbiAgZm9yY2VSZW5kZXI6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuYm9vbCxcbiAgaWQ6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuc3RyaW5nLFxuICAvLyBwcml2YXRlXG4gIHNlbGVjdGVkOiBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmJvb2wsXG4gIC8vIHByaXZhdGVcbiAgc2VsZWN0ZWRDbGFzc05hbWU6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuc3RyaW5nLFxuICB0YWJJZDogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5zdHJpbmcgLy8gcHJpdmF0ZVxuXG59IDogdW5kZWZpbmVkO1xuVGFiUGFuZWwudGFic1JvbGUgPSAnVGFiUGFuZWwnO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9jb21wb25lbnRzL1RhYnMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2NvbXBvbmVudHMvVGFicy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVGFiczsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcHJvcC10eXBlcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaGVscGVyc19wcm9wVHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlcnMvcHJvcFR5cGVzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vaGVscGVycy9wcm9wVHlwZXMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1VuY29udHJvbGxlZFRhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVW5jb250cm9sbGVkVGFicyAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2NvbXBvbmVudHMvVW5jb250cm9sbGVkVGFicy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaGVscGVyc19jb3VudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGVscGVycy9jb3VudCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2hlbHBlcnMvY291bnQuanNcIik7XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG5cblxuXG5cblxudmFyIE1PREVfQ09OVFJPTExFRCA9IDA7XG52YXIgTU9ERV9VTkNPTlRST0xMRUQgPSAxO1xuXG52YXIgVGFicyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShUYWJzLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUYWJzKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5oYW5kbGVTZWxlY3RlZCA9IGZ1bmN0aW9uIChpbmRleCwgbGFzdCwgZXZlbnQpIHtcbiAgICAgIHZhciBvblNlbGVjdCA9IF90aGlzLnByb3BzLm9uU2VsZWN0O1xuICAgICAgdmFyIG1vZGUgPSBfdGhpcy5zdGF0ZS5tb2RlOyAvLyBDYWxsIGNoYW5nZSBldmVudCBoYW5kbGVyXG5cbiAgICAgIGlmICh0eXBlb2Ygb25TZWxlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNoYW5nZSBldmVudCBoYW5kbGVyIGNhbmNlbHMgdGhlIHRhYiBjaGFuZ2VcbiAgICAgICAgaWYgKG9uU2VsZWN0KGluZGV4LCBsYXN0LCBldmVudCkgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgLy8gU2V0IGZvY3VzIGlmIHRoZSBjaGFuZ2Ugd2FzIHRyaWdnZXJlZCBmcm9tIHRoZSBrZXlib2FyZFxuICAgICAgICBmb2N1czogZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nXG4gICAgICB9O1xuXG4gICAgICBpZiAobW9kZSA9PT0gTU9ERV9VTkNPTlRST0xMRUQpIHtcbiAgICAgICAgLy8gVXBkYXRlIHNlbGVjdGVkIGluZGV4XG4gICAgICAgIHN0YXRlLnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zdGF0ZSA9IFRhYnMuY29weVByb3BzVG9TdGF0ZShfdGhpcy5wcm9wcywge30sIHByb3BzLmRlZmF1bHRGb2N1cyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVGFicy5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMsIHN0YXRlKSB7XG4gICAgcmV0dXJuIFRhYnMuY29weVByb3BzVG9TdGF0ZShwcm9wcywgc3RhdGUpO1xuICB9O1xuXG4gIFRhYnMuZ2V0TW9kZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldE1vZGVGcm9tUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4gcHJvcHMuc2VsZWN0ZWRJbmRleCA9PT0gbnVsbCA/IE1PREVfVU5DT05UUk9MTEVEIDogTU9ERV9DT05UUk9MTEVEO1xuICB9OyAvLyBwcmVzZXJ2ZSB0aGUgZXhpc3Rpbmcgc2VsZWN0ZWRJbmRleCBmcm9tIHN0YXRlLlxuICAvLyBJZiB0aGUgc3RhdGUgaGFzIG5vdCBzZWxlY3RlZEluZGV4LCBkZWZhdWx0IHRvIHRoZSBkZWZhdWx0SW5kZXggb3IgMFxuXG5cbiAgVGFicy5jb3B5UHJvcHNUb1N0YXRlID0gZnVuY3Rpb24gY29weVByb3BzVG9TdGF0ZShwcm9wcywgc3RhdGUsIGZvY3VzKSB7XG4gICAgaWYgKGZvY3VzID09PSB2b2lkIDApIHtcbiAgICAgIGZvY3VzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCB0cnVlICYmIHN0YXRlLm1vZGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZS5tb2RlICE9PSBUYWJzLmdldE1vZGVGcm9tUHJvcHMocHJvcHMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTd2l0Y2hpbmcgYmV0d2VlbiBjb250cm9sbGVkIG1vZGUgKGJ5IHVzaW5nIGBzZWxlY3RlZEluZGV4YCkgYW5kIHVuY29udHJvbGxlZCBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYFRhYnNgLlxcbkZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNvbnRyb2xsZWQgYW5kIHVuY29udHJvbGxlZCBtb2RlIG9mIHJlYWN0LXRhYnMgc2VlIHRoZSBSRUFETUUuXCIpO1xuICAgIH1cblxuICAgIHZhciBuZXdTdGF0ZSA9IHtcbiAgICAgIGZvY3VzOiBmb2N1cyxcbiAgICAgIG1vZGU6IFRhYnMuZ2V0TW9kZUZyb21Qcm9wcyhwcm9wcylcbiAgICB9O1xuXG4gICAgaWYgKG5ld1N0YXRlLm1vZGUgPT09IE1PREVfVU5DT05UUk9MTEVEKSB7XG4gICAgICB2YXIgbWF4VGFiSW5kZXggPSBPYmplY3QoX2hlbHBlcnNfY291bnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImdldFRhYnNDb3VudFwiXSkocHJvcHMuY2hpbGRyZW4pIC0gMTtcbiAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gbnVsbDtcblxuICAgICAgaWYgKHN0YXRlLnNlbGVjdGVkSW5kZXggIT0gbnVsbCkge1xuICAgICAgICBzZWxlY3RlZEluZGV4ID0gTWF0aC5taW4oc3RhdGUuc2VsZWN0ZWRJbmRleCwgbWF4VGFiSW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0ZWRJbmRleCA9IHByb3BzLmRlZmF1bHRJbmRleCB8fCAwO1xuICAgICAgfVxuXG4gICAgICBuZXdTdGF0ZS5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWRJbmRleDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3U3RhdGU7XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IFRhYnMucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgZGVmYXVsdEluZGV4ID0gX3RoaXMkcHJvcHMuZGVmYXVsdEluZGV4LFxuICAgICAgICBkZWZhdWx0Rm9jdXMgPSBfdGhpcyRwcm9wcy5kZWZhdWx0Rm9jdXMsXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiZGVmYXVsdEluZGV4XCIsIFwiZGVmYXVsdEZvY3VzXCJdKTtcblxuICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGZvY3VzID0gX3RoaXMkc3RhdGUuZm9jdXMsXG4gICAgICAgIHNlbGVjdGVkSW5kZXggPSBfdGhpcyRzdGF0ZS5zZWxlY3RlZEluZGV4O1xuICAgIHByb3BzLmZvY3VzID0gZm9jdXM7XG4gICAgcHJvcHMub25TZWxlY3QgPSB0aGlzLmhhbmRsZVNlbGVjdGVkO1xuXG4gICAgaWYgKHNlbGVjdGVkSW5kZXggIT0gbnVsbCkge1xuICAgICAgcHJvcHMuc2VsZWN0ZWRJbmRleCA9IHNlbGVjdGVkSW5kZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9VbmNvbnRyb2xsZWRUYWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBwcm9wcywgY2hpbGRyZW4pO1xuICB9O1xuXG4gIHJldHVybiBUYWJzO1xufShyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQ29tcG9uZW50XCJdKTtcblxuVGFicy5kZWZhdWx0UHJvcHMgPSB7XG4gIGRlZmF1bHRGb2N1czogZmFsc2UsXG4gIGZvcmNlUmVuZGVyVGFiUGFuZWw6IGZhbHNlLFxuICBzZWxlY3RlZEluZGV4OiBudWxsLFxuICBkZWZhdWx0SW5kZXg6IG51bGxcbn07XG5cblRhYnMucHJvcFR5cGVzID0gIHRydWUgPyB7XG4gIGNoaWxkcmVuOiBfaGVscGVyc19wcm9wVHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNoaWxkcmVuUHJvcFR5cGVcIl0sXG4gIGRpcmVjdGlvbjogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5vbmVPZihbJ3J0bCcsICdsdHInXSksXG4gIGNsYXNzTmFtZTogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5vbmVPZlR5cGUoW3Byb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuc3RyaW5nLCBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmFycmF5LCBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLm9iamVjdF0pLFxuICBkZWZhdWx0Rm9jdXM6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuYm9vbCxcbiAgZGVmYXVsdEluZGV4OiBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLm51bWJlcixcbiAgZGlzYWJsZWRUYWJDbGFzc05hbWU6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuc3RyaW5nLFxuICBkb21SZWY6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZnVuYyxcbiAgZm9yY2VSZW5kZXJUYWJQYW5lbDogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5ib29sLFxuICBvblNlbGVjdDogX2hlbHBlcnNfcHJvcFR5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJvblNlbGVjdFByb3BUeXBlXCJdLFxuICBzZWxlY3RlZEluZGV4OiBfaGVscGVyc19wcm9wVHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcInNlbGVjdGVkSW5kZXhQcm9wVHlwZVwiXSxcbiAgc2VsZWN0ZWRUYWJDbGFzc05hbWU6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuc3RyaW5nLFxuICBzZWxlY3RlZFRhYlBhbmVsQ2xhc3NOYW1lOiBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnN0cmluZ1xufSA6IHVuZGVmaW5lZDtcblRhYnMudGFic1JvbGUgPSAnVGFicyc7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2NvbXBvbmVudHMvVW5jb250cm9sbGVkVGFicy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vY29tcG9uZW50cy9VbmNvbnRyb2xsZWRUYWJzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBVbmNvbnRyb2xsZWRUYWJzOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBwcm9wLXR5cGVzICovIFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNsc3ggKi8gXCIuL25vZGVfbW9kdWxlcy9jbHN4L2Rpc3QvY2xzeC5tLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9oZWxwZXJzX3V1aWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlcnMvdXVpZCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2hlbHBlcnMvdXVpZC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaGVscGVyc19wcm9wVHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlcnMvcHJvcFR5cGVzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vaGVscGVycy9wcm9wVHlwZXMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2hlbHBlcnNfY291bnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlcnMvY291bnQgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9oZWxwZXJzL2NvdW50LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9oZWxwZXJzX2NoaWxkcmVuRGVlcE1hcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGVscGVycy9jaGlsZHJlbkRlZXBNYXAgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9oZWxwZXJzL2NoaWxkcmVuRGVlcE1hcC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaGVscGVyc19lbGVtZW50VHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlcnMvZWxlbWVudFR5cGVzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vaGVscGVycy9lbGVtZW50VHlwZXMuanNcIik7XG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG5cblxuXG5cblxuXG5cblxuXG5mdW5jdGlvbiBpc05vZGUobm9kZSkge1xuICByZXR1cm4gbm9kZSAmJiAnZ2V0QXR0cmlidXRlJyBpbiBub2RlO1xufSAvLyBEZXRlcm1pbmUgaWYgYSBub2RlIGZyb20gZXZlbnQudGFyZ2V0IGlzIGEgVGFiIGVsZW1lbnRcblxuXG5mdW5jdGlvbiBpc1RhYk5vZGUobm9kZSkge1xuICByZXR1cm4gaXNOb2RlKG5vZGUpICYmIG5vZGUuZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICd0YWInO1xufSAvLyBEZXRlcm1pbmUgaWYgYSB0YWIgbm9kZSBpcyBkaXNhYmxlZFxuXG5cbmZ1bmN0aW9uIGlzVGFiRGlzYWJsZWQobm9kZSkge1xuICByZXR1cm4gaXNOb2RlKG5vZGUpICYmIG5vZGUuZ2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJykgPT09ICd0cnVlJztcbn1cblxudmFyIGNhblVzZUFjdGl2ZUVsZW1lbnQ7XG5cbnRyeSB7XG4gIGNhblVzZUFjdGl2ZUVsZW1lbnQgPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xufSBjYXRjaCAoZSkge1xuICAvLyBXb3JrIGFyb3VuZCBmb3IgSUUgYnVnIHdoZW4gYWNjZXNzaW5nIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW4gYW4gaWZyYW1lXG4gIC8vIFJlZmVyIHRvIHRoZSBmb2xsb3dpbmcgcmVzb3VyY2VzOlxuICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMDk4Mjk2MC8zNjk2ODdcbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvMTI3MzM1OTlcbiAgY2FuVXNlQWN0aXZlRWxlbWVudCA9IGZhbHNlO1xufVxuXG52YXIgVW5jb250cm9sbGVkVGFicyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShVbmNvbnRyb2xsZWRUYWJzLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBVbmNvbnRyb2xsZWRUYWJzKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgIF90aGlzLnRhYk5vZGVzID0gW107XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBfdGhpcy5wcm9wcy5kaXJlY3Rpb247XG5cbiAgICAgIGlmIChfdGhpcy5pc1RhYkZyb21Db250YWluZXIoZS50YXJnZXQpKSB7XG4gICAgICAgIHZhciBpbmRleCA9IF90aGlzLnByb3BzLnNlbGVjdGVkSW5kZXg7XG4gICAgICAgIHZhciBwcmV2ZW50RGVmYXVsdCA9IGZhbHNlO1xuICAgICAgICB2YXIgdXNlU2VsZWN0ZWRJbmRleCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDMyIHx8IGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICBwcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgdXNlU2VsZWN0ZWRJbmRleCA9IGZhbHNlO1xuXG4gICAgICAgICAgX3RoaXMuaGFuZGxlQ2xpY2soZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzNyB8fCBlLmtleUNvZGUgPT09IDM4KSB7XG4gICAgICAgICAgLy8gU2VsZWN0IG5leHQgdGFiIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICAgICAgICAgIGluZGV4ID0gX3RoaXMuZ2V0TmV4dFRhYihpbmRleCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4ID0gX3RoaXMuZ2V0UHJldlRhYihpbmRleCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHJldmVudERlZmF1bHQgPSB0cnVlO1xuICAgICAgICAgIHVzZVNlbGVjdGVkSW5kZXggPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzkgfHwgZS5rZXlDb2RlID09PSA0MCkge1xuICAgICAgICAgIC8vIFNlbGVjdCBuZXh0IHRhYiB0byB0aGUgcmlnaHRcbiAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgICAgICAgICAgaW5kZXggPSBfdGhpcy5nZXRQcmV2VGFiKGluZGV4KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5kZXggPSBfdGhpcy5nZXROZXh0VGFiKGluZGV4KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgdXNlU2VsZWN0ZWRJbmRleCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzNSkge1xuICAgICAgICAgIC8vIFNlbGVjdCBsYXN0IHRhYiAoRW5kIGtleSlcbiAgICAgICAgICBpbmRleCA9IF90aGlzLmdldExhc3RUYWIoKTtcbiAgICAgICAgICBwcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgdXNlU2VsZWN0ZWRJbmRleCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzNikge1xuICAgICAgICAgIC8vIFNlbGVjdCBmaXJzdCB0YWIgKEhvbWUga2V5KVxuICAgICAgICAgIGluZGV4ID0gX3RoaXMuZ2V0Rmlyc3RUYWIoKTtcbiAgICAgICAgICBwcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgdXNlU2VsZWN0ZWRJbmRleCA9IHRydWU7XG4gICAgICAgIH0gLy8gVGhpcyBwcmV2ZW50cyBzY3JvbGxiYXJzIGZyb20gbW92aW5nIGFyb3VuZFxuXG5cbiAgICAgICAgaWYgKHByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IC8vIE9ubHkgdXNlIHRoZSBzZWxlY3RlZCBpbmRleCBpbiB0aGUgc3RhdGUgaWYgd2UncmUgbm90IHVzaW5nIHRoZSB0YWJiZWQgaW5kZXhcblxuXG4gICAgICAgIGlmICh1c2VTZWxlY3RlZEluZGV4KSB7XG4gICAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWQoaW5kZXgsIGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBub2RlID0gZS50YXJnZXQ7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKF90aGlzLmlzVGFiRnJvbUNvbnRhaW5lcihub2RlKSkge1xuICAgICAgICAgIGlmIChpc1RhYkRpc2FibGVkKG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGluZGV4ID0gW10uc2xpY2UuY2FsbChub2RlLnBhcmVudE5vZGUuY2hpbGRyZW4pLmZpbHRlcihpc1RhYk5vZGUpLmluZGV4T2Yobm9kZSk7XG5cbiAgICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZChpbmRleCwgZSk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbmQtYXNzaWduXG5cbiAgICAgIH0gd2hpbGUgKChub2RlID0gbm9kZS5wYXJlbnROb2RlKSAhPSBudWxsKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFVuY29udHJvbGxlZFRhYnMucHJvdG90eXBlO1xuXG4gIF9wcm90by5zZXRTZWxlY3RlZCA9IGZ1bmN0aW9uIHNldFNlbGVjdGVkKGluZGV4LCBldmVudCkge1xuICAgIC8vIENoZWNrIGluZGV4IGJvdW5kYXJ5XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmdldFRhYnNDb3VudCgpKSByZXR1cm47XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgb25TZWxlY3QgPSBfdGhpcyRwcm9wcy5vblNlbGVjdCxcbiAgICAgICAgc2VsZWN0ZWRJbmRleCA9IF90aGlzJHByb3BzLnNlbGVjdGVkSW5kZXg7IC8vIENhbGwgY2hhbmdlIGV2ZW50IGhhbmRsZXJcblxuICAgIG9uU2VsZWN0KGluZGV4LCBzZWxlY3RlZEluZGV4LCBldmVudCk7XG4gIH07XG5cbiAgX3Byb3RvLmdldE5leHRUYWIgPSBmdW5jdGlvbiBnZXROZXh0VGFiKGluZGV4KSB7XG4gICAgdmFyIGNvdW50ID0gdGhpcy5nZXRUYWJzQ291bnQoKTsgLy8gTG9vayBmb3Igbm9uLWRpc2FibGVkIHRhYiBmcm9tIGluZGV4IHRvIHRoZSBsYXN0IHRhYiBvbiB0aGUgcmlnaHRcblxuICAgIGZvciAodmFyIGkgPSBpbmRleCArIDE7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICBpZiAoIWlzVGFiRGlzYWJsZWQodGhpcy5nZXRUYWIoaSkpKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH0gLy8gSWYgbm8gdGFiIGZvdW5kLCBjb250aW51ZSBzZWFyY2hpbmcgZnJvbSBmaXJzdCBvbiBsZWZ0IHRvIGluZGV4XG5cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBpbmRleDsgX2krKykge1xuICAgICAgaWYgKCFpc1RhYkRpc2FibGVkKHRoaXMuZ2V0VGFiKF9pKSkpIHtcbiAgICAgICAgcmV0dXJuIF9pO1xuICAgICAgfVxuICAgIH0gLy8gTm8gdGFicyBhcmUgZGlzYWJsZWQsIHJldHVybiBpbmRleFxuXG5cbiAgICByZXR1cm4gaW5kZXg7XG4gIH07XG5cbiAgX3Byb3RvLmdldFByZXZUYWIgPSBmdW5jdGlvbiBnZXRQcmV2VGFiKGluZGV4KSB7XG4gICAgdmFyIGkgPSBpbmRleDsgLy8gTG9vayBmb3Igbm9uLWRpc2FibGVkIHRhYiBmcm9tIGluZGV4IHRvIGZpcnN0IHRhYiBvbiB0aGUgbGVmdFxuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgaWYgKCFpc1RhYkRpc2FibGVkKHRoaXMuZ2V0VGFiKGkpKSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9IC8vIElmIG5vIHRhYiBmb3VuZCwgY29udGludWUgc2VhcmNoaW5nIGZyb20gbGFzdCB0YWIgb24gcmlnaHQgdG8gaW5kZXhcblxuXG4gICAgaSA9IHRoaXMuZ2V0VGFic0NvdW50KCk7XG5cbiAgICB3aGlsZSAoaS0tID4gaW5kZXgpIHtcbiAgICAgIGlmICghaXNUYWJEaXNhYmxlZCh0aGlzLmdldFRhYihpKSkpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfSAvLyBObyB0YWJzIGFyZSBkaXNhYmxlZCwgcmV0dXJuIGluZGV4XG5cblxuICAgIHJldHVybiBpbmRleDtcbiAgfTtcblxuICBfcHJvdG8uZ2V0Rmlyc3RUYWIgPSBmdW5jdGlvbiBnZXRGaXJzdFRhYigpIHtcbiAgICB2YXIgY291bnQgPSB0aGlzLmdldFRhYnNDb3VudCgpOyAvLyBMb29rIGZvciBub24gZGlzYWJsZWQgdGFiIGZyb20gdGhlIGZpcnN0IHRhYlxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICBpZiAoIWlzVGFiRGlzYWJsZWQodGhpcy5nZXRUYWIoaSkpKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIF9wcm90by5nZXRMYXN0VGFiID0gZnVuY3Rpb24gZ2V0TGFzdFRhYigpIHtcbiAgICB2YXIgaSA9IHRoaXMuZ2V0VGFic0NvdW50KCk7IC8vIExvb2sgZm9yIG5vbiBkaXNhYmxlZCB0YWIgZnJvbSB0aGUgbGFzdCB0YWJcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGlmICghaXNUYWJEaXNhYmxlZCh0aGlzLmdldFRhYihpKSkpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgX3Byb3RvLmdldFRhYnNDb3VudCA9IGZ1bmN0aW9uIGdldFRhYnNDb3VudCgpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIHJldHVybiBPYmplY3QoX2hlbHBlcnNfY291bnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImdldFRhYnNDb3VudFwiXSkoY2hpbGRyZW4pO1xuICB9O1xuXG4gIF9wcm90by5nZXRQYW5lbHNDb3VudCA9IGZ1bmN0aW9uIGdldFBhbmVsc0NvdW50KCkge1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgcmV0dXJuIE9iamVjdChfaGVscGVyc19jb3VudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZ2V0UGFuZWxzQ291bnRcIl0pKGNoaWxkcmVuKTtcbiAgfTtcblxuICBfcHJvdG8uZ2V0VGFiID0gZnVuY3Rpb24gZ2V0VGFiKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMudGFiTm9kZXNbXCJ0YWJzLVwiICsgaW5kZXhdO1xuICB9O1xuXG4gIF9wcm90by5nZXRDaGlsZHJlbiA9IGZ1bmN0aW9uIGdldENoaWxkcmVuKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczIuY2hpbGRyZW4sXG4gICAgICAgIGRpc2FibGVkVGFiQ2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLmRpc2FibGVkVGFiQ2xhc3NOYW1lLFxuICAgICAgICBmb2N1cyA9IF90aGlzJHByb3BzMi5mb2N1cyxcbiAgICAgICAgZm9yY2VSZW5kZXJUYWJQYW5lbCA9IF90aGlzJHByb3BzMi5mb3JjZVJlbmRlclRhYlBhbmVsLFxuICAgICAgICBzZWxlY3RlZEluZGV4ID0gX3RoaXMkcHJvcHMyLnNlbGVjdGVkSW5kZXgsXG4gICAgICAgIHNlbGVjdGVkVGFiQ2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLnNlbGVjdGVkVGFiQ2xhc3NOYW1lLFxuICAgICAgICBzZWxlY3RlZFRhYlBhbmVsQ2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLnNlbGVjdGVkVGFiUGFuZWxDbGFzc05hbWU7XG4gICAgdGhpcy50YWJJZHMgPSB0aGlzLnRhYklkcyB8fCBbXTtcbiAgICB0aGlzLnBhbmVsSWRzID0gdGhpcy5wYW5lbElkcyB8fCBbXTtcbiAgICB2YXIgZGlmZiA9IHRoaXMudGFiSWRzLmxlbmd0aCAtIHRoaXMuZ2V0VGFic0NvdW50KCk7IC8vIEFkZCBpZHMgaWYgbmV3IHRhYnMgaGF2ZSBiZWVuIGFkZGVkXG4gICAgLy8gRG9uJ3QgYm90aGVyIHJlbW92aW5nIGlkcywganVzdCBrZWVwIHRoZW0gaW4gY2FzZSB0aGV5IGFyZSBhZGRlZCBhZ2FpblxuICAgIC8vIFRoaXMgaXMgbW9yZSBlZmZpY2llbnQsIGFuZCBrZWVwcyB0aGUgdXVpZCBjb3VudGVyIHVuZGVyIGNvbnRyb2xcblxuICAgIHdoaWxlIChkaWZmKysgPCAwKSB7XG4gICAgICB0aGlzLnRhYklkcy5wdXNoKE9iamVjdChfaGVscGVyc191dWlkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKSgpKTtcbiAgICAgIHRoaXMucGFuZWxJZHMucHVzaChPYmplY3QoX2hlbHBlcnNfdXVpZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoKSk7XG4gICAgfSAvLyBNYXAgY2hpbGRyZW4gdG8gZHluYW1pY2FsbHkgc2V0dXAgcmVmc1xuXG5cbiAgICByZXR1cm4gT2JqZWN0KF9oZWxwZXJzX2NoaWxkcmVuRGVlcE1hcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVlcE1hcFwiXSkoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGNoaWxkOyAvLyBDbG9uZSBUYWJMaXN0IGFuZCBUYWIgY29tcG9uZW50cyB0byBoYXZlIHJlZnNcblxuICAgICAgaWYgKE9iamVjdChfaGVscGVyc19lbGVtZW50VHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImlzVGFiTGlzdFwiXSkoY2hpbGQpKSB7XG4gICAgICAgIHZhciBsaXN0SW5kZXggPSAwOyAvLyBGaWd1cmUgb3V0IGlmIHRoZSBjdXJyZW50IGZvY3VzIGluIHRoZSBET00gaXMgc2V0IG9uIGEgVGFiXG4gICAgICAgIC8vIElmIGl0IGlzIHdlIHNob3VsZCBrZWVwIHRoZSBmb2N1cyBvbiB0aGUgbmV4dCBzZWxlY3RlZCB0YWJcblxuICAgICAgICB2YXIgd2FzVGFiRm9jdXNlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChjYW5Vc2VBY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgd2FzVGFiRm9jdXNlZCA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdC5hLkNoaWxkcmVuLnRvQXJyYXkoY2hpbGQucHJvcHMuY2hpbGRyZW4pLmZpbHRlcihfaGVscGVyc19lbGVtZW50VHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImlzVGFiXCJdKS5zb21lKGZ1bmN0aW9uICh0YWIsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBfdGhpczIuZ2V0VGFiKGkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0ID0gT2JqZWN0KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjbG9uZUVsZW1lbnRcIl0pKGNoaWxkLCB7XG4gICAgICAgICAgY2hpbGRyZW46IE9iamVjdChfaGVscGVyc19jaGlsZHJlbkRlZXBNYXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZXBNYXBcIl0pKGNoaWxkLnByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAodGFiKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gXCJ0YWJzLVwiICsgbGlzdEluZGV4O1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gc2VsZWN0ZWRJbmRleCA9PT0gbGlzdEluZGV4O1xuICAgICAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgICAgICB0YWJSZWY6IGZ1bmN0aW9uIHRhYlJlZihub2RlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnRhYk5vZGVzW2tleV0gPSBub2RlO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBpZDogX3RoaXMyLnRhYklkc1tsaXN0SW5kZXhdLFxuICAgICAgICAgICAgICBwYW5lbElkOiBfdGhpczIucGFuZWxJZHNbbGlzdEluZGV4XSxcbiAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICAgICAgICBmb2N1czogc2VsZWN0ZWQgJiYgKGZvY3VzIHx8IHdhc1RhYkZvY3VzZWQpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVGFiQ2xhc3NOYW1lKSBwcm9wcy5zZWxlY3RlZENsYXNzTmFtZSA9IHNlbGVjdGVkVGFiQ2xhc3NOYW1lO1xuICAgICAgICAgICAgaWYgKGRpc2FibGVkVGFiQ2xhc3NOYW1lKSBwcm9wcy5kaXNhYmxlZENsYXNzTmFtZSA9IGRpc2FibGVkVGFiQ2xhc3NOYW1lO1xuICAgICAgICAgICAgbGlzdEluZGV4Kys7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjbG9uZUVsZW1lbnRcIl0pKHRhYiwgcHJvcHMpO1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChPYmplY3QoX2hlbHBlcnNfZWxlbWVudFR5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJpc1RhYlBhbmVsXCJdKShjaGlsZCkpIHtcbiAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgIGlkOiBfdGhpczIucGFuZWxJZHNbaW5kZXhdLFxuICAgICAgICAgIHRhYklkOiBfdGhpczIudGFiSWRzW2luZGV4XSxcbiAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWRJbmRleCA9PT0gaW5kZXhcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGZvcmNlUmVuZGVyVGFiUGFuZWwpIHByb3BzLmZvcmNlUmVuZGVyID0gZm9yY2VSZW5kZXJUYWJQYW5lbDtcbiAgICAgICAgaWYgKHNlbGVjdGVkVGFiUGFuZWxDbGFzc05hbWUpIHByb3BzLnNlbGVjdGVkQ2xhc3NOYW1lID0gc2VsZWN0ZWRUYWJQYW5lbENsYXNzTmFtZTtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgcmVzdWx0ID0gT2JqZWN0KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjbG9uZUVsZW1lbnRcIl0pKGNoaWxkLCBwcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgaWYgYSBub2RlIGZyb20gZXZlbnQudGFyZ2V0IGlzIGEgVGFiIGVsZW1lbnQgZm9yIHRoZSBjdXJyZW50IFRhYnMgY29udGFpbmVyLlxuICAgKiBJZiB0aGUgY2xpY2tlZCBlbGVtZW50IGlzIG5vdCBhIFRhYiwgaXQgcmV0dXJucyBmYWxzZS5cbiAgICogSWYgaXQgZmluZHMgYW5vdGhlciBUYWJzIGNvbnRhaW5lciBiZXR3ZWVuIHRoZSBUYWIgYW5kIGB0aGlzYCwgaXQgcmV0dXJucyBmYWxzZS5cbiAgICovXG5cblxuICBfcHJvdG8uaXNUYWJGcm9tQ29udGFpbmVyID0gZnVuY3Rpb24gaXNUYWJGcm9tQ29udGFpbmVyKG5vZGUpIHtcbiAgICAvLyByZXR1cm4gaW1tZWRpYXRlbHkgaWYgdGhlIGNsaWNrZWQgZWxlbWVudCBpcyBub3QgYSBUYWIuXG4gICAgaWYgKCFpc1RhYk5vZGUobm9kZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIENoZWNrIGlmIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGEgVGFicyBjb250YWluZXIgaXMgYHRoaXNgIG9uZS5cblxuXG4gICAgdmFyIG5vZGVBbmNlc3RvciA9IG5vZGUucGFyZW50RWxlbWVudDtcblxuICAgIGRvIHtcbiAgICAgIGlmIChub2RlQW5jZXN0b3IgPT09IHRoaXMubm9kZSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAobm9kZUFuY2VzdG9yLmdldEF0dHJpYnV0ZSgnZGF0YS10YWJzJykpIGJyZWFrO1xuICAgICAgbm9kZUFuY2VzdG9yID0gbm9kZUFuY2VzdG9yLnBhcmVudEVsZW1lbnQ7XG4gICAgfSB3aGlsZSAobm9kZUFuY2VzdG9yKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzOyAvLyBEZWxldGUgYWxsIGtub3duIHByb3BzLCBzbyB0aGV5IGRvbid0IGdldCBhZGRlZCB0byBET01cblxuXG4gICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMzLmNoaWxkcmVuLFxuICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczMuY2xhc3NOYW1lLFxuICAgICAgICBkaXNhYmxlZFRhYkNsYXNzTmFtZSA9IF90aGlzJHByb3BzMy5kaXNhYmxlZFRhYkNsYXNzTmFtZSxcbiAgICAgICAgZG9tUmVmID0gX3RoaXMkcHJvcHMzLmRvbVJlZixcbiAgICAgICAgZm9jdXMgPSBfdGhpcyRwcm9wczMuZm9jdXMsXG4gICAgICAgIGZvcmNlUmVuZGVyVGFiUGFuZWwgPSBfdGhpcyRwcm9wczMuZm9yY2VSZW5kZXJUYWJQYW5lbCxcbiAgICAgICAgb25TZWxlY3QgPSBfdGhpcyRwcm9wczMub25TZWxlY3QsXG4gICAgICAgIHNlbGVjdGVkSW5kZXggPSBfdGhpcyRwcm9wczMuc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgc2VsZWN0ZWRUYWJDbGFzc05hbWUgPSBfdGhpcyRwcm9wczMuc2VsZWN0ZWRUYWJDbGFzc05hbWUsXG4gICAgICAgIHNlbGVjdGVkVGFiUGFuZWxDbGFzc05hbWUgPSBfdGhpcyRwcm9wczMuc2VsZWN0ZWRUYWJQYW5lbENsYXNzTmFtZSxcbiAgICAgICAgYXR0cmlidXRlcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzMywgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJkaXNhYmxlZFRhYkNsYXNzTmFtZVwiLCBcImRvbVJlZlwiLCBcImZvY3VzXCIsIFwiZm9yY2VSZW5kZXJUYWJQYW5lbFwiLCBcIm9uU2VsZWN0XCIsIFwic2VsZWN0ZWRJbmRleFwiLCBcInNlbGVjdGVkVGFiQ2xhc3NOYW1lXCIsIFwic2VsZWN0ZWRUYWJQYW5lbENsYXNzTmFtZVwiXSk7XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe30sIGF0dHJpYnV0ZXMsIHtcbiAgICAgIGNsYXNzTmFtZTogT2JqZWN0KGNsc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKGNsYXNzTmFtZSksXG4gICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrLFxuICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sXG4gICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgIF90aGlzMy5ub2RlID0gbm9kZTtcbiAgICAgICAgaWYgKGRvbVJlZikgZG9tUmVmKG5vZGUpO1xuICAgICAgfSxcbiAgICAgIFwiZGF0YS10YWJzXCI6IHRydWVcbiAgICB9KSwgdGhpcy5nZXRDaGlsZHJlbigpKTtcbiAgfTtcblxuICByZXR1cm4gVW5jb250cm9sbGVkVGFicztcbn0ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkNvbXBvbmVudFwiXSk7XG5cblVuY29udHJvbGxlZFRhYnMuZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICdyZWFjdC10YWJzJyxcbiAgZm9jdXM6IGZhbHNlXG59O1xuXG5VbmNvbnRyb2xsZWRUYWJzLnByb3BUeXBlcyA9ICB0cnVlID8ge1xuICBjaGlsZHJlbjogX2hlbHBlcnNfcHJvcFR5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJjaGlsZHJlblByb3BUeXBlXCJdLFxuICBkaXJlY3Rpb246IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEub25lT2YoWydydGwnLCAnbHRyJ10pLFxuICBjbGFzc05hbWU6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEub25lT2ZUeXBlKFtwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnN0cmluZywgcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5hcnJheSwgcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5vYmplY3RdKSxcbiAgZGlzYWJsZWRUYWJDbGFzc05hbWU6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuc3RyaW5nLFxuICBkb21SZWY6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuZnVuYyxcbiAgZm9jdXM6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuYm9vbCxcbiAgZm9yY2VSZW5kZXJUYWJQYW5lbDogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5ib29sLFxuICBvblNlbGVjdDogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5mdW5jLmlzUmVxdWlyZWQsXG4gIHNlbGVjdGVkSW5kZXg6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEubnVtYmVyLmlzUmVxdWlyZWQsXG4gIHNlbGVjdGVkVGFiQ2xhc3NOYW1lOiBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnN0cmluZyxcbiAgc2VsZWN0ZWRUYWJQYW5lbENsYXNzTmFtZTogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5zdHJpbmdcbn0gOiB1bmRlZmluZWQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2hlbHBlcnMvY2hpbGRyZW5EZWVwTWFwLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2hlbHBlcnMvY2hpbGRyZW5EZWVwTWFwLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZXBNYXAsIGRlZXBGb3JFYWNoICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZXBNYXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBkZWVwTWFwOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWVwRm9yRWFjaFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGRlZXBGb3JFYWNoOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9lbGVtZW50VHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZWxlbWVudFR5cGVzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vaGVscGVycy9lbGVtZW50VHlwZXMuanNcIik7XG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG4gICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgfSk7XG4gICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICB9XG5cbiAgcmV0dXJuIGtleXM7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG5cbiAgICBpZiAoaSAlIDIpIHtcbiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5cblxuXG5mdW5jdGlvbiBpc1RhYkNoaWxkKGNoaWxkKSB7XG4gIHJldHVybiBPYmplY3QoX2VsZW1lbnRUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiaXNUYWJcIl0pKGNoaWxkKSB8fCBPYmplY3QoX2VsZW1lbnRUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiaXNUYWJMaXN0XCJdKShjaGlsZCkgfHwgT2JqZWN0KF9lbGVtZW50VHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImlzVGFiUGFuZWxcIl0pKGNoaWxkKTtcbn1cblxuZnVuY3Rpb24gZGVlcE1hcChjaGlsZHJlbiwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJDaGlsZHJlblwiXS5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIC8vIG51bGwgaGFwcGVucyB3aGVuIGNvbmRpdGlvbmFsbHkgcmVuZGVyaW5nIFRhYlBhbmVsL1RhYlxuICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC10YWJzL2lzc3Vlcy8zN1xuICAgIGlmIChjaGlsZCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoaXNUYWJDaGlsZChjaGlsZCkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhjaGlsZCk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkLnByb3BzICYmIGNoaWxkLnByb3BzLmNoaWxkcmVuICYmIHR5cGVvZiBjaGlsZC5wcm9wcy5jaGlsZHJlbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8vIENsb25lIHRoZSBjaGlsZCB0aGF0IGhhcyBjaGlsZHJlbiBhbmQgbWFwIHRoZW0gdG9vXG4gICAgICByZXR1cm4gT2JqZWN0KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjbG9uZUVsZW1lbnRcIl0pKGNoaWxkLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNoaWxkLnByb3BzKSwge30sIHtcbiAgICAgICAgY2hpbGRyZW46IGRlZXBNYXAoY2hpbGQucHJvcHMuY2hpbGRyZW4sIGNhbGxiYWNrKVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZDtcbiAgfSk7XG59XG5mdW5jdGlvbiBkZWVwRm9yRWFjaChjaGlsZHJlbiwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJDaGlsZHJlblwiXS5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAvLyBudWxsIGhhcHBlbnMgd2hlbiBjb25kaXRpb25hbGx5IHJlbmRlcmluZyBUYWJQYW5lbC9UYWJcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3QtdGFicy9pc3N1ZXMvMzdcbiAgICBpZiAoY2hpbGQgPT09IG51bGwpIHJldHVybjtcblxuICAgIGlmIChPYmplY3QoX2VsZW1lbnRUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiaXNUYWJcIl0pKGNoaWxkKSB8fCBPYmplY3QoX2VsZW1lbnRUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiaXNUYWJQYW5lbFwiXSkoY2hpbGQpKSB7XG4gICAgICBjYWxsYmFjayhjaGlsZCk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC5wcm9wcyAmJiBjaGlsZC5wcm9wcy5jaGlsZHJlbiAmJiB0eXBlb2YgY2hpbGQucHJvcHMuY2hpbGRyZW4gPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoT2JqZWN0KF9lbGVtZW50VHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImlzVGFiTGlzdFwiXSkoY2hpbGQpKSBjYWxsYmFjayhjaGlsZCk7XG4gICAgICBkZWVwRm9yRWFjaChjaGlsZC5wcm9wcy5jaGlsZHJlbiwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2hlbHBlcnMvY291bnQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9oZWxwZXJzL2NvdW50LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZ2V0VGFic0NvdW50LCBnZXRQYW5lbHNDb3VudCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRUYWJzQ291bnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRUYWJzQ291bnQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldFBhbmVsc0NvdW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0UGFuZWxzQ291bnQ7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jaGlsZHJlbkRlZXBNYXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY2hpbGRyZW5EZWVwTWFwICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vaGVscGVycy9jaGlsZHJlbkRlZXBNYXAuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2VsZW1lbnRUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9lbGVtZW50VHlwZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9oZWxwZXJzL2VsZW1lbnRUeXBlcy5qc1wiKTtcblxuXG5mdW5jdGlvbiBnZXRUYWJzQ291bnQoY2hpbGRyZW4pIHtcbiAgdmFyIHRhYkNvdW50ID0gMDtcbiAgT2JqZWN0KF9jaGlsZHJlbkRlZXBNYXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZXBGb3JFYWNoXCJdKShjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgaWYgKE9iamVjdChfZWxlbWVudFR5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJpc1RhYlwiXSkoY2hpbGQpKSB0YWJDb3VudCsrO1xuICB9KTtcbiAgcmV0dXJuIHRhYkNvdW50O1xufVxuZnVuY3Rpb24gZ2V0UGFuZWxzQ291bnQoY2hpbGRyZW4pIHtcbiAgdmFyIHBhbmVsQ291bnQgPSAwO1xuICBPYmplY3QoX2NoaWxkcmVuRGVlcE1hcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVlcEZvckVhY2hcIl0pKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICBpZiAoT2JqZWN0KF9lbGVtZW50VHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImlzVGFiUGFuZWxcIl0pKGNoaWxkKSkgcGFuZWxDb3VudCsrO1xuICB9KTtcbiAgcmV0dXJuIHBhbmVsQ291bnQ7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2hlbHBlcnMvZWxlbWVudFR5cGVzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2hlbHBlcnMvZWxlbWVudFR5cGVzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGlzVGFiLCBpc1RhYkxpc3QsIGlzVGFiUGFuZWwgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNUYWJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBpc1RhYjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNUYWJMaXN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNUYWJMaXN0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc1RhYlBhbmVsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNUYWJQYW5lbDsgfSk7XG5mdW5jdGlvbiBtYWtlVHlwZUNoZWNrZXIodGFic1JvbGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuICEhZWxlbWVudC50eXBlICYmIGVsZW1lbnQudHlwZS50YWJzUm9sZSA9PT0gdGFic1JvbGU7XG4gIH07XG59XG5cbnZhciBpc1RhYiA9IG1ha2VUeXBlQ2hlY2tlcignVGFiJyk7XG52YXIgaXNUYWJMaXN0ID0gbWFrZVR5cGVDaGVja2VyKCdUYWJMaXN0Jyk7XG52YXIgaXNUYWJQYW5lbCA9IG1ha2VUeXBlQ2hlY2tlcignVGFiUGFuZWwnKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vaGVscGVycy9wcm9wVHlwZXMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vaGVscGVycy9wcm9wVHlwZXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogY2hpbGRyZW5Qcm9wVHlwZSwgb25TZWxlY3RQcm9wVHlwZSwgc2VsZWN0ZWRJbmRleFByb3BUeXBlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNoaWxkcmVuUHJvcFR5cGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjaGlsZHJlblByb3BUeXBlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJvblNlbGVjdFByb3BUeXBlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gb25TZWxlY3RQcm9wVHlwZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2VsZWN0ZWRJbmRleFByb3BUeXBlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZWN0ZWRJbmRleFByb3BUeXBlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY2hpbGRyZW5EZWVwTWFwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NoaWxkcmVuRGVlcE1hcCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2hlbHBlcnMvY2hpbGRyZW5EZWVwTWFwLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9lbGVtZW50VHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZWxlbWVudFR5cGVzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vaGVscGVycy9lbGVtZW50VHlwZXMuanNcIik7XG5cblxuZnVuY3Rpb24gY2hpbGRyZW5Qcm9wVHlwZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgdmFyIGVycm9yO1xuICB2YXIgdGFic0NvdW50ID0gMDtcbiAgdmFyIHBhbmVsc0NvdW50ID0gMDtcbiAgdmFyIHRhYkxpc3RGb3VuZCA9IGZhbHNlO1xuICB2YXIgbGlzdFRhYnMgPSBbXTtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHNbcHJvcE5hbWVdO1xuICBPYmplY3QoX2NoaWxkcmVuRGVlcE1hcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVlcEZvckVhY2hcIl0pKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICBpZiAoT2JqZWN0KF9lbGVtZW50VHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImlzVGFiTGlzdFwiXSkoY2hpbGQpKSB7XG4gICAgICBpZiAoY2hpbGQucHJvcHMgJiYgY2hpbGQucHJvcHMuY2hpbGRyZW4gJiYgdHlwZW9mIGNoaWxkLnByb3BzLmNoaWxkcmVuID09PSAnb2JqZWN0Jykge1xuICAgICAgICBPYmplY3QoX2NoaWxkcmVuRGVlcE1hcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVlcEZvckVhY2hcIl0pKGNoaWxkLnByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAobGlzdENoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGxpc3RUYWJzLnB1c2gobGlzdENoaWxkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0YWJMaXN0Rm91bmQpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXCJGb3VuZCBtdWx0aXBsZSAnVGFiTGlzdCcgY29tcG9uZW50cyBpbnNpZGUgJ1RhYnMnLiBPbmx5IG9uZSBpcyBhbGxvd2VkLlwiKTtcbiAgICAgIH1cblxuICAgICAgdGFiTGlzdEZvdW5kID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0KF9lbGVtZW50VHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImlzVGFiXCJdKShjaGlsZCkpIHtcbiAgICAgIGlmICghdGFiTGlzdEZvdW5kIHx8IGxpc3RUYWJzLmluZGV4T2YoY2hpbGQpID09PSAtMSkge1xuICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihcIkZvdW5kIGEgJ1RhYicgY29tcG9uZW50IG91dHNpZGUgb2YgdGhlICdUYWJMaXN0JyBjb21wb25lbnQuICdUYWInIGNvbXBvbmVudHMgXCIgKyBcImhhdmUgdG8gYmUgaW5zaWRlIHRoZSAnVGFiTGlzdCcgY29tcG9uZW50LlwiKTtcbiAgICAgIH1cblxuICAgICAgdGFic0NvdW50Kys7XG4gICAgfSBlbHNlIGlmIChPYmplY3QoX2VsZW1lbnRUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiaXNUYWJQYW5lbFwiXSkoY2hpbGQpKSB7XG4gICAgICBwYW5lbHNDb3VudCsrO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKCFlcnJvciAmJiB0YWJzQ291bnQgIT09IHBhbmVsc0NvdW50KSB7XG4gICAgZXJyb3IgPSBuZXcgRXJyb3IoXCJUaGVyZSBzaG91bGQgYmUgYW4gZXF1YWwgbnVtYmVyIG9mICdUYWInIGFuZCAnVGFiUGFuZWwnIGluIGBcIiArIGNvbXBvbmVudE5hbWUgKyBcImAuIFwiICsgKFwiUmVjZWl2ZWQgXCIgKyB0YWJzQ291bnQgKyBcIiAnVGFiJyBhbmQgXCIgKyBwYW5lbHNDb3VudCArIFwiICdUYWJQYW5lbCcuXCIpKTtcbiAgfVxuXG4gIHJldHVybiBlcnJvcjtcbn1cbmZ1bmN0aW9uIG9uU2VsZWN0UHJvcFR5cGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gIHZhciBwcm9wID0gcHJvcHNbcHJvcE5hbWVdO1xuICB2YXIgbmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcbiAgdmFyIGVycm9yID0gbnVsbDtcblxuICBpZiAocHJvcCAmJiB0eXBlb2YgcHJvcCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGVycm9yID0gbmV3IEVycm9yKFwiSW52YWxpZCBcIiArIGxvY2F0aW9uICsgXCIgYFwiICsgbmFtZSArIFwiYCBvZiB0eXBlIGBcIiArIHR5cGVvZiBwcm9wICsgXCJgIHN1cHBsaWVkIFwiICsgKFwidG8gYFwiICsgY29tcG9uZW50TmFtZSArIFwiYCwgZXhwZWN0ZWQgYGZ1bmN0aW9uYC5cIikpO1xuICB9IGVsc2UgaWYgKHByb3BzLnNlbGVjdGVkSW5kZXggIT0gbnVsbCAmJiBwcm9wID09IG51bGwpIHtcbiAgICBlcnJvciA9IG5ldyBFcnJvcihcIlRoZSBcIiArIGxvY2F0aW9uICsgXCIgYFwiICsgbmFtZSArIFwiYCBpcyBtYXJrZWQgYXMgcmVxdWlyZWQgaW4gYFwiICsgY29tcG9uZW50TmFtZSArIFwiYCwgYnV0IFwiICsgXCJpdHMgdmFsdWUgaXMgYHVuZGVmaW5lZGAgb3IgYG51bGxgLlxcblwiICsgXCJgb25TZWxlY3RgIGlzIHJlcXVpcmVkIHdoZW4gYHNlbGVjdGVkSW5kZXhgIGlzIGFsc28gc2V0LiBOb3QgZG9pbmcgc28gd2lsbCBcIiArIFwibWFrZSB0aGUgdGFicyBub3QgZG8gYW55dGhpbmcsIGFzIGBzZWxlY3RlZEluZGV4YCBpbmRpY2F0ZXMgdGhhdCB5b3Ugd2FudCB0byBcIiArIFwiaGFuZGxlIHRoZSBzZWxlY3RlZCB0YWIgeW91cnNlbGYuXFxuXCIgKyBcIklmIHlvdSBvbmx5IHdhbnQgdG8gc2V0IHRoZSBpbml0YWwgdGFiIHJlcGxhY2UgYHNlbGVjdGVkSW5kZXhgIHdpdGggYGRlZmF1bHRJbmRleGAuXCIpO1xuICB9XG5cbiAgcmV0dXJuIGVycm9yO1xufVxuZnVuY3Rpb24gc2VsZWN0ZWRJbmRleFByb3BUeXBlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICB2YXIgcHJvcCA9IHByb3BzW3Byb3BOYW1lXTtcbiAgdmFyIG5hbWUgPSBwcm9wRnVsbE5hbWUgfHwgcHJvcE5hbWU7XG4gIHZhciBlcnJvciA9IG51bGw7XG5cbiAgaWYgKHByb3AgIT0gbnVsbCAmJiB0eXBlb2YgcHJvcCAhPT0gJ251bWJlcicpIHtcbiAgICBlcnJvciA9IG5ldyBFcnJvcihcIkludmFsaWQgXCIgKyBsb2NhdGlvbiArIFwiIGBcIiArIG5hbWUgKyBcImAgb2YgdHlwZSBgXCIgKyB0eXBlb2YgcHJvcCArIFwiYCBzdXBwbGllZCB0byBcIiArIChcImBcIiArIGNvbXBvbmVudE5hbWUgKyBcImAsIGV4cGVjdGVkIGBudW1iZXJgLlwiKSk7XG4gIH0gZWxzZSBpZiAocHJvcHMuZGVmYXVsdEluZGV4ICE9IG51bGwgJiYgcHJvcCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihcIlRoZSBcIiArIGxvY2F0aW9uICsgXCIgYFwiICsgbmFtZSArIFwiYCBjYW5ub3QgYmUgdXNlZCB0b2dldGhlciB3aXRoIGBkZWZhdWx0SW5kZXhgIFwiICsgKFwiaW4gYFwiICsgY29tcG9uZW50TmFtZSArIFwiYC5cXG5cIikgKyAoXCJFaXRoZXIgcmVtb3ZlIGBcIiArIG5hbWUgKyBcImAgdG8gbGV0IGBcIiArIGNvbXBvbmVudE5hbWUgKyBcImAgaGFuZGxlIHRoZSBzZWxlY3RlZCBcIikgKyBcInRhYiBpbnRlcm5hbGx5IG9yIHJlbW92ZSBgZGVmYXVsdEluZGV4YCB0byBoYW5kbGUgaXQgeW91cnNlbGYuXCIpO1xuICB9XG5cbiAgcmV0dXJuIGVycm9yO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9oZWxwZXJzL3V1aWQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2hlbHBlcnMvdXVpZC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCwgcmVzZXQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHV1aWQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlc2V0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcmVzZXQ7IH0pO1xuLy8gR2V0IGEgdW5pdmVyc2FsbHkgdW5pcXVlIGlkZW50aWZpZXJcbnZhciBjb3VudCA9IDA7XG5mdW5jdGlvbiB1dWlkKCkge1xuICByZXR1cm4gXCJyZWFjdC10YWJzLVwiICsgY291bnQrKztcbn1cbmZ1bmN0aW9uIHJlc2V0KCkge1xuICBjb3VudCA9IDA7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFRhYnMsIFRhYkxpc3QsIFRhYiwgVGFiUGFuZWwsIHJlc2V0SWRDb3VudGVyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX1RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9UYWJzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vY29tcG9uZW50cy9UYWJzLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVGFic1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX1RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfVGFiTGlzdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb25lbnRzL1RhYkxpc3QgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9jb21wb25lbnRzL1RhYkxpc3QuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUYWJMaXN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfVGFiTGlzdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19UYWJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9UYWIgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9jb21wb25lbnRzL1RhYi5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRhYlwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX1RhYl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19UYWJQYW5lbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb25lbnRzL1RhYlBhbmVsICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vY29tcG9uZW50cy9UYWJQYW5lbC5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRhYlBhbmVsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfVGFiUGFuZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2hlbHBlcnNfdXVpZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXJzL3V1aWQgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9oZWxwZXJzL3V1aWQuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZXNldElkQ291bnRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9oZWxwZXJzX3V1aWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcInJlc2V0XCJdOyB9KTtcblxuXG5cblxuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9zdHlsZS9yZWFjdC10YWJzLmNzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvc3R5bGUvcmVhY3QtdGFicy5jc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wicmVkXCI6XCIjZmY0NDRmXCIsXCJsaWdodF9jaGFydF90ZXh0XCI6XCIjNTU1OTc1XCIsXCJkYXJrX2NoYXJ0X3RleHRcIjpcIiM5OTk5OTlcIixcImxpZ2h0X2NoYXJ0X2dyaWRcIjpcIiNmMmYzZjRcIixcImRhcmtfY2hhcnRfZ3JpZFwiOlwiIzFkMWYyMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCIjODVhY2IwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjE2KVwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMClcIixcImxpZ2h0X2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCJ3aGl0ZVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjM2KVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgxNiwgMTksIDMyLCAwKVwiLFwiZGFya19jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX3VwXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2Rvd25cIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2JvcmRlclwiOlwicmdiYSg1MSwgNTEsIDUxLCAwLjMyKVwiLFwiY2hhcnRfY3VycmVudF9oclwiOlwiI2ZmNDQ0ZlwiLFwiY2hhcnRfY2xvc2VkX2N1cnJlbnRfaHJcIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJsaWdodF9jaGFydF9iZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya19jaGFydF9iZ1wiOlwiIzBlMGUwZVwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX2JnXCI6XCIjZDZkYWRiXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc19iZ1wiOlwiIzMyMzczOFwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiMzMzMzMzNcIixcImRhcmtfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiNmZmZmZmZcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgZzsgLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcblxuZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXM7XG59KCk7XG5cbnRyeSB7XG4gIC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuICBnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuICAvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn0gLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9fdGhlbWVzLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvX3RoZW1lcy5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInJlZFwiOlwiI2ZmNDQ0ZlwiLFwibGlnaHRfY2hhcnRfdGV4dFwiOlwiIzU1NTk3NVwiLFwiZGFya19jaGFydF90ZXh0XCI6XCIjOTk5OTk5XCIsXCJsaWdodF9jaGFydF9ncmlkXCI6XCIjZjJmM2Y0XCIsXCJkYXJrX2NoYXJ0X2dyaWRcIjpcIiMxZDFmMjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwiIzg1YWNiMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4xNilcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXCJsaWdodF9jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwid2hpdGVcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zNilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMTYsIDE5LCAzMiwgMClcIixcImRhcmtfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV91cFwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9kb3duXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9ib3JkZXJcIjpcInJnYmEoNTEsIDUxLCA1MSwgMC4zMilcIixcImNoYXJ0X2N1cnJlbnRfaHJcIjpcIiNmZjQ0NGZcIixcImNoYXJ0X2Nsb3NlZF9jdXJyZW50X2hyXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwibGlnaHRfY2hhcnRfYmdcIjpcIiNmZmZmZmZcIixcImRhcmtfY2hhcnRfYmdcIjpcIiMwZTBlMGVcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc19iZ1wiOlwiI2Q2ZGFkYlwiLFwiZGFya19mbG9hdF9sYWJlbHNfYmdcIjpcIiMzMjM3MzhcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjMzMzMzMzXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjZmZmZmZmXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19ib3R0b20td2lkZ2V0LWNvbnRhaW5lci5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19ib3R0b20td2lkZ2V0LWNvbnRhaW5lci5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2F0ZWdvcmljYWwtZGlzcGxheS5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2NhdGVnb3JpY2FsLWRpc3BsYXkuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtY29udHJvbHMuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtY29udHJvbHMuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wicmVkXCI6XCIjZmY0NDRmXCIsXCJsaWdodF9jaGFydF90ZXh0XCI6XCIjNTU1OTc1XCIsXCJkYXJrX2NoYXJ0X3RleHRcIjpcIiM5OTk5OTlcIixcImxpZ2h0X2NoYXJ0X2dyaWRcIjpcIiNmMmYzZjRcIixcImRhcmtfY2hhcnRfZ3JpZFwiOlwiIzFkMWYyMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCIjODVhY2IwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjE2KVwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMClcIixcImxpZ2h0X2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCJ3aGl0ZVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjM2KVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgxNiwgMTksIDMyLCAwKVwiLFwiZGFya19jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX3VwXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2Rvd25cIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2JvcmRlclwiOlwicmdiYSg1MSwgNTEsIDUxLCAwLjMyKVwiLFwiY2hhcnRfY3VycmVudF9oclwiOlwiI2ZmNDQ0ZlwiLFwiY2hhcnRfY2xvc2VkX2N1cnJlbnRfaHJcIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJsaWdodF9jaGFydF9iZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya19jaGFydF9iZ1wiOlwiIzBlMGUwZVwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX2JnXCI6XCIjZDZkYWRiXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc19iZ1wiOlwiIzMyMzczOFwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiMzMzMzMzNcIixcImRhcmtfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiNmZmZmZmZcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LWZvb3Rlci5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtZm9vdGVyLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtbW9kZS5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LW1vZGUuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtc2V0dGluZy5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LXNldHRpbmcuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtc2l6ZS5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LXNpemUuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtdGl0bGUuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtdGl0bGUuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wicmVkXCI6XCIjZmY0NDRmXCIsXCJsaWdodF9jaGFydF90ZXh0XCI6XCIjNTU1OTc1XCIsXCJkYXJrX2NoYXJ0X3RleHRcIjpcIiM5OTk5OTlcIixcImxpZ2h0X2NoYXJ0X2dyaWRcIjpcIiNmMmYzZjRcIixcImRhcmtfY2hhcnRfZ3JpZFwiOlwiIzFkMWYyMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCIjODVhY2IwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjE2KVwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMClcIixcImxpZ2h0X2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCJ3aGl0ZVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjM2KVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgxNiwgMTksIDMyLCAwKVwiLFwiZGFya19jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX3VwXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2Rvd25cIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2JvcmRlclwiOlwicmdiYSg1MSwgNTEsIDUxLCAwLjMyKVwiLFwiY2hhcnRfY3VycmVudF9oclwiOlwiI2ZmNDQ0ZlwiLFwiY2hhcnRfY2xvc2VkX2N1cnJlbnRfaHJcIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJsaWdodF9jaGFydF9iZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya19jaGFydF9iZ1wiOlwiIzBlMGUwZVwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX2JnXCI6XCIjZDZkYWRiXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc19iZ1wiOlwiIzMyMzczOFwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiMzMzMzMzNcIixcImRhcmtfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiNmZmZmZmZcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LXR5cGVzLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LXR5cGVzLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInJlZFwiOlwiI2ZmNDQ0ZlwiLFwibGlnaHRfY2hhcnRfdGV4dFwiOlwiIzU1NTk3NVwiLFwiZGFya19jaGFydF90ZXh0XCI6XCIjOTk5OTk5XCIsXCJsaWdodF9jaGFydF9ncmlkXCI6XCIjZjJmM2Y0XCIsXCJkYXJrX2NoYXJ0X2dyaWRcIjpcIiMxZDFmMjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwiIzg1YWNiMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4xNilcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXCJsaWdodF9jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwid2hpdGVcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zNilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMTYsIDE5LCAzMiwgMClcIixcImRhcmtfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV91cFwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9kb3duXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9ib3JkZXJcIjpcInJnYmEoNTEsIDUxLCA1MSwgMC4zMilcIixcImNoYXJ0X2N1cnJlbnRfaHJcIjpcIiNmZjQ0NGZcIixcImNoYXJ0X2Nsb3NlZF9jdXJyZW50X2hyXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwibGlnaHRfY2hhcnRfYmdcIjpcIiNmZmZmZmZcIixcImRhcmtfY2hhcnRfYmdcIjpcIiMwZTBlMGVcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc19iZ1wiOlwiI2Q2ZGFkYlwiLFwiZGFya19mbG9hdF9sYWJlbHNfYmdcIjpcIiMzMjM3MzhcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjMzMzMzMzXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjZmZmZmZmXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaXEtbGlzdC5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19jaXEtbGlzdC5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY3Jvc3NoYWlyLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19jcm9zc2hhaXIuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInJlZFwiOlwiI2ZmNDQ0ZlwiLFwibGlnaHRfY2hhcnRfdGV4dFwiOlwiIzU1NTk3NVwiLFwiZGFya19jaGFydF90ZXh0XCI6XCIjOTk5OTk5XCIsXCJsaWdodF9jaGFydF9ncmlkXCI6XCIjZjJmM2Y0XCIsXCJkYXJrX2NoYXJ0X2dyaWRcIjpcIiMxZDFmMjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwiIzg1YWNiMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4xNilcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXCJsaWdodF9jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwid2hpdGVcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zNilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMTYsIDE5LCAzMiwgMClcIixcImRhcmtfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV91cFwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9kb3duXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9ib3JkZXJcIjpcInJnYmEoNTEsIDUxLCA1MSwgMC4zMilcIixcImNoYXJ0X2N1cnJlbnRfaHJcIjpcIiNmZjQ0NGZcIixcImNoYXJ0X2Nsb3NlZF9jdXJyZW50X2hyXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwibGlnaHRfY2hhcnRfYmdcIjpcIiNmZmZmZmZcIixcImRhcmtfY2hhcnRfYmdcIjpcIiMwZTBlMGVcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc19iZ1wiOlwiI2Q2ZGFkYlwiLFwiZGFya19mbG9hdF9sYWJlbHNfYmdcIjpcIiMzMjM3MzhcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjMzMzMzMzXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjZmZmZmZmXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19kaWFsb2cuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2RpYWxvZy5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wicmVkXCI6XCIjZmY0NDRmXCIsXCJsaWdodF9jaGFydF90ZXh0XCI6XCIjNTU1OTc1XCIsXCJkYXJrX2NoYXJ0X3RleHRcIjpcIiM5OTk5OTlcIixcImxpZ2h0X2NoYXJ0X2dyaWRcIjpcIiNmMmYzZjRcIixcImRhcmtfY2hhcnRfZ3JpZFwiOlwiIzFkMWYyMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCIjODVhY2IwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjE2KVwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMClcIixcImxpZ2h0X2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCJ3aGl0ZVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjM2KVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgxNiwgMTksIDMyLCAwKVwiLFwiZGFya19jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX3VwXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2Rvd25cIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2JvcmRlclwiOlwicmdiYSg1MSwgNTEsIDUxLCAwLjMyKVwiLFwiY2hhcnRfY3VycmVudF9oclwiOlwiI2ZmNDQ0ZlwiLFwiY2hhcnRfY2xvc2VkX2N1cnJlbnRfaHJcIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJsaWdodF9jaGFydF9iZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya19jaGFydF9iZ1wiOlwiIzBlMGUwZVwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX2JnXCI6XCIjZDZkYWRiXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc19iZ1wiOlwiIzMyMzczOFwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiMzMzMzMzNcIixcImRhcmtfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiNmZmZmZmZcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2Rvd25sb2FkLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2Rvd25sb2FkLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInJlZFwiOlwiI2ZmNDQ0ZlwiLFwibGlnaHRfY2hhcnRfdGV4dFwiOlwiIzU1NTk3NVwiLFwiZGFya19jaGFydF90ZXh0XCI6XCIjOTk5OTk5XCIsXCJsaWdodF9jaGFydF9ncmlkXCI6XCIjZjJmM2Y0XCIsXCJkYXJrX2NoYXJ0X2dyaWRcIjpcIiMxZDFmMjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwiIzg1YWNiMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4xNilcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXCJsaWdodF9jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwid2hpdGVcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zNilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMTYsIDE5LCAzMiwgMClcIixcImRhcmtfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV91cFwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9kb3duXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9ib3JkZXJcIjpcInJnYmEoNTEsIDUxLCA1MSwgMC4zMilcIixcImNoYXJ0X2N1cnJlbnRfaHJcIjpcIiNmZjQ0NGZcIixcImNoYXJ0X2Nsb3NlZF9jdXJyZW50X2hyXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwibGlnaHRfY2hhcnRfYmdcIjpcIiNmZmZmZmZcIixcImRhcmtfY2hhcnRfYmdcIjpcIiMwZTBlMGVcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc19iZ1wiOlwiI2Q2ZGFkYlwiLFwiZGFya19mbG9hdF9sYWJlbHNfYmdcIjpcIiMzMjM3MzhcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjMzMzMzMzXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjZmZmZmZmXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19kcmF3X3Rvb2xzLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fZHJhd190b29scy5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInJlZFwiOlwiI2ZmNDQ0ZlwiLFwibGlnaHRfY2hhcnRfdGV4dFwiOlwiIzU1NTk3NVwiLFwiZGFya19jaGFydF90ZXh0XCI6XCIjOTk5OTk5XCIsXCJsaWdodF9jaGFydF9ncmlkXCI6XCIjZjJmM2Y0XCIsXCJkYXJrX2NoYXJ0X2dyaWRcIjpcIiMxZDFmMjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwiIzg1YWNiMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4xNilcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXCJsaWdodF9jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwid2hpdGVcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zNilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMTYsIDE5LCAzMiwgMClcIixcImRhcmtfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV91cFwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9kb3duXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9ib3JkZXJcIjpcInJnYmEoNTEsIDUxLCA1MSwgMC4zMilcIixcImNoYXJ0X2N1cnJlbnRfaHJcIjpcIiNmZjQ0NGZcIixcImNoYXJ0X2Nsb3NlZF9jdXJyZW50X2hyXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwibGlnaHRfY2hhcnRfYmdcIjpcIiNmZmZmZmZcIixcImRhcmtfY2hhcnRfYmdcIjpcIiMwZTBlMGVcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc19iZ1wiOlwiI2Q2ZGFkYlwiLFwiZGFya19mbG9hdF9sYWJlbHNfYmdcIjpcIiMzMjM3MzhcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjMzMzMzMzXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjZmZmZmZmXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19mb3JtLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fZm9ybS5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInJlZFwiOlwiI2ZmNDQ0ZlwiLFwibGlnaHRfY2hhcnRfdGV4dFwiOlwiIzU1NTk3NVwiLFwiZGFya19jaGFydF90ZXh0XCI6XCIjOTk5OTk5XCIsXCJsaWdodF9jaGFydF9ncmlkXCI6XCIjZjJmM2Y0XCIsXCJkYXJrX2NoYXJ0X2dyaWRcIjpcIiMxZDFmMjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwiIzg1YWNiMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4xNilcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXCJsaWdodF9jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwid2hpdGVcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zNilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMTYsIDE5LCAzMiwgMClcIixcImRhcmtfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV91cFwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9kb3duXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9ib3JkZXJcIjpcInJnYmEoNTEsIDUxLCA1MSwgMC4zMilcIixcImNoYXJ0X2N1cnJlbnRfaHJcIjpcIiNmZjQ0NGZcIixcImNoYXJ0X2Nsb3NlZF9jdXJyZW50X2hyXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwibGlnaHRfY2hhcnRfYmdcIjpcIiNmZmZmZmZcIixcImRhcmtfY2hhcnRfYmdcIjpcIiMwZTBlMGVcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc19iZ1wiOlwiI2Q2ZGFkYlwiLFwiZGFya19mbG9hdF9sYWJlbHNfYmdcIjpcIiMzMjM3MzhcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjMzMzMzMzXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjZmZmZmZmXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19oaWdoZXN0LWxvd2VzdC1tYXJrZXIuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2hpZ2hlc3QtbG93ZXN0LW1hcmtlci5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wicmVkXCI6XCIjZmY0NDRmXCIsXCJsaWdodF9jaGFydF90ZXh0XCI6XCIjNTU1OTc1XCIsXCJkYXJrX2NoYXJ0X3RleHRcIjpcIiM5OTk5OTlcIixcImxpZ2h0X2NoYXJ0X2dyaWRcIjpcIiNmMmYzZjRcIixcImRhcmtfY2hhcnRfZ3JpZFwiOlwiIzFkMWYyMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCIjODVhY2IwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjE2KVwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMClcIixcImxpZ2h0X2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCJ3aGl0ZVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjM2KVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgxNiwgMTksIDMyLCAwKVwiLFwiZGFya19jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX3VwXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2Rvd25cIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2JvcmRlclwiOlwicmdiYSg1MSwgNTEsIDUxLCAwLjMyKVwiLFwiY2hhcnRfY3VycmVudF9oclwiOlwiI2ZmNDQ0ZlwiLFwiY2hhcnRfY2xvc2VkX2N1cnJlbnRfaHJcIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJsaWdodF9jaGFydF9iZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya19jaGFydF9iZ1wiOlwiIzBlMGUwZVwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX2JnXCI6XCIjZDZkYWRiXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc19iZ1wiOlwiIzMyMzczOFwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiMzMzMzMzNcIixcImRhcmtfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiNmZmZmZmZcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2ljb25zLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2ljb25zLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInJlZFwiOlwiI2ZmNDQ0ZlwiLFwibGlnaHRfY2hhcnRfdGV4dFwiOlwiIzU1NTk3NVwiLFwiZGFya19jaGFydF90ZXh0XCI6XCIjOTk5OTk5XCIsXCJsaWdodF9jaGFydF9ncmlkXCI6XCIjZjJmM2Y0XCIsXCJkYXJrX2NoYXJ0X2dyaWRcIjpcIiMxZDFmMjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwiIzg1YWNiMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4xNilcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXCJsaWdodF9jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwid2hpdGVcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zNilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMTYsIDE5LCAzMiwgMClcIixcImRhcmtfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV91cFwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9kb3duXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9ib3JkZXJcIjpcInJnYmEoNTEsIDUxLCA1MSwgMC4zMilcIixcImNoYXJ0X2N1cnJlbnRfaHJcIjpcIiNmZjQ0NGZcIixcImNoYXJ0X2Nsb3NlZF9jdXJyZW50X2hyXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwibGlnaHRfY2hhcnRfYmdcIjpcIiNmZmZmZmZcIixcImRhcmtfY2hhcnRfYmdcIjpcIiMwZTBlMGVcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc19iZ1wiOlwiI2Q2ZGFkYlwiLFwiZGFya19mbG9hdF9sYWJlbHNfYmdcIjpcIiMzMjM3MzhcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjMzMzMzMzXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjZmZmZmZmXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19sYXN0LWRpZ2l0cy5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19sYXN0LWRpZ2l0cy5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fbWVudS1kcm9wZG93bi5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX21lbnUtZHJvcGRvd24uc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fbmF2aWdhdGlvbi13aWRnZXQuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fbmF2aWdhdGlvbi13aWRnZXQuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wicmVkXCI6XCIjZmY0NDRmXCIsXCJsaWdodF9jaGFydF90ZXh0XCI6XCIjNTU1OTc1XCIsXCJkYXJrX2NoYXJ0X3RleHRcIjpcIiM5OTk5OTlcIixcImxpZ2h0X2NoYXJ0X2dyaWRcIjpcIiNmMmYzZjRcIixcImRhcmtfY2hhcnRfZ3JpZFwiOlwiIzFkMWYyMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCIjODVhY2IwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjE2KVwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMClcIixcImxpZ2h0X2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCJ3aGl0ZVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjM2KVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgxNiwgMTksIDMyLCAwKVwiLFwiZGFya19jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX3VwXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2Rvd25cIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2JvcmRlclwiOlwicmdiYSg1MSwgNTEsIDUxLCAwLjMyKVwiLFwiY2hhcnRfY3VycmVudF9oclwiOlwiI2ZmNDQ0ZlwiLFwiY2hhcnRfY2xvc2VkX2N1cnJlbnRfaHJcIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJsaWdodF9jaGFydF9iZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya19jaGFydF9iZ1wiOlwiIzBlMGUwZVwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX2JnXCI6XCIjZDZkYWRiXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc19iZ1wiOlwiIzMyMzczOFwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiMzMzMzMzNcIixcImRhcmtfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiNmZmZmZmZcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX3BhZ2luYXRpb24tbG9hZGVyLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX3BhZ2luYXRpb24tbG9hZGVyLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInJlZFwiOlwiI2ZmNDQ0ZlwiLFwibGlnaHRfY2hhcnRfdGV4dFwiOlwiIzU1NTk3NVwiLFwiZGFya19jaGFydF90ZXh0XCI6XCIjOTk5OTk5XCIsXCJsaWdodF9jaGFydF9ncmlkXCI6XCIjZjJmM2Y0XCIsXCJkYXJrX2NoYXJ0X2dyaWRcIjpcIiMxZDFmMjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwiIzg1YWNiMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4xNilcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXCJsaWdodF9jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwid2hpdGVcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zNilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMTYsIDE5LCAzMiwgMClcIixcImRhcmtfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV91cFwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9kb3duXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9ib3JkZXJcIjpcInJnYmEoNTEsIDUxLCA1MSwgMC4zMilcIixcImNoYXJ0X2N1cnJlbnRfaHJcIjpcIiNmZjQ0NGZcIixcImNoYXJ0X2Nsb3NlZF9jdXJyZW50X2hyXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwibGlnaHRfY2hhcnRfYmdcIjpcIiNmZmZmZmZcIixcImRhcmtfY2hhcnRfYmdcIjpcIiMwZTBlMGVcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc19iZ1wiOlwiI2Q2ZGFkYlwiLFwiZGFya19mbG9hdF9sYWJlbHNfYmdcIjpcIiMzMjM3MzhcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjMzMzMzMzXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjZmZmZmZmXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19zY3JvbGwuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX3Njcm9sbC5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wicmVkXCI6XCIjZmY0NDRmXCIsXCJsaWdodF9jaGFydF90ZXh0XCI6XCIjNTU1OTc1XCIsXCJkYXJrX2NoYXJ0X3RleHRcIjpcIiM5OTk5OTlcIixcImxpZ2h0X2NoYXJ0X2dyaWRcIjpcIiNmMmYzZjRcIixcImRhcmtfY2hhcnRfZ3JpZFwiOlwiIzFkMWYyMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCIjODVhY2IwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjE2KVwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMClcIixcImxpZ2h0X2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCJ3aGl0ZVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjM2KVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgxNiwgMTksIDMyLCAwKVwiLFwiZGFya19jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX3VwXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2Rvd25cIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2JvcmRlclwiOlwicmdiYSg1MSwgNTEsIDUxLCAwLjMyKVwiLFwiY2hhcnRfY3VycmVudF9oclwiOlwiI2ZmNDQ0ZlwiLFwiY2hhcnRfY2xvc2VkX2N1cnJlbnRfaHJcIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJsaWdodF9jaGFydF9iZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya19jaGFydF9iZ1wiOlwiIzBlMGUwZVwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX2JnXCI6XCIjZDZkYWRiXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc19iZ1wiOlwiIzMyMzczOFwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiMzMzMzMzNcIixcImRhcmtfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiNmZmZmZmZcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX3NlYXJjaC5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fc2VhcmNoLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fc2V0dGluZ3MtZGlhbG9nLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19zZXR0aW5ncy1kaWFsb2cuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInJlZFwiOlwiI2ZmNDQ0ZlwiLFwibGlnaHRfY2hhcnRfdGV4dFwiOlwiIzU1NTk3NVwiLFwiZGFya19jaGFydF90ZXh0XCI6XCIjOTk5OTk5XCIsXCJsaWdodF9jaGFydF9ncmlkXCI6XCIjZjJmM2Y0XCIsXCJkYXJrX2NoYXJ0X2dyaWRcIjpcIiMxZDFmMjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwiIzg1YWNiMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4xNilcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXCJsaWdodF9jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JvcmRlclwiOlwid2hpdGVcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zNilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMTYsIDE5LCAzMiwgMClcIixcImRhcmtfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV91cFwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9kb3duXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwiY2hhcnRfY2xvc2VkX2NhbmRsZV9ib3JkZXJcIjpcInJnYmEoNTEsIDUxLCA1MSwgMC4zMilcIixcImNoYXJ0X2N1cnJlbnRfaHJcIjpcIiNmZjQ0NGZcIixcImNoYXJ0X2Nsb3NlZF9jdXJyZW50X2hyXCI6XCJyZ2JhKDI1NSwgNjgsIDc5LCAwLjMyKVwiLFwibGlnaHRfY2hhcnRfYmdcIjpcIiNmZmZmZmZcIixcImRhcmtfY2hhcnRfYmdcIjpcIiMwZTBlMGVcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc19iZ1wiOlwiI2Q2ZGFkYlwiLFwiZGFya19mbG9hdF9sYWJlbHNfYmdcIjpcIiMzMjM3MzhcIixcImxpZ2h0X2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjMzMzMzMzXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc190ZXh0XCI6XCIjZmZmZmZmXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19zdHVkeWxlZ2VuZC5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19zdHVkeWxlZ2VuZC5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fdGltZXBlcmlvZC5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX3RpbWVwZXJpb2Quc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fdG9vbGJhci13aWRnZXQuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fdG9vbGJhci13aWRnZXQuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wicmVkXCI6XCIjZmY0NDRmXCIsXCJsaWdodF9jaGFydF90ZXh0XCI6XCIjNTU1OTc1XCIsXCJkYXJrX2NoYXJ0X3RleHRcIjpcIiM5OTk5OTlcIixcImxpZ2h0X2NoYXJ0X2dyaWRcIjpcIiNmMmYzZjRcIixcImRhcmtfY2hhcnRfZ3JpZFwiOlwiIzFkMWYyMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCIjODVhY2IwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjE2KVwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMClcIixcImxpZ2h0X2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCJ3aGl0ZVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjM2KVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgxNiwgMTksIDMyLCAwKVwiLFwiZGFya19jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX3VwXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2Rvd25cIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2JvcmRlclwiOlwicmdiYSg1MSwgNTEsIDUxLCAwLjMyKVwiLFwiY2hhcnRfY3VycmVudF9oclwiOlwiI2ZmNDQ0ZlwiLFwiY2hhcnRfY2xvc2VkX2N1cnJlbnRfaHJcIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJsaWdodF9jaGFydF9iZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya19jaGFydF9iZ1wiOlwiIzBlMGUwZVwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX2JnXCI6XCIjZDZkYWRiXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc19iZ1wiOlwiIzMyMzczOFwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiMzMzMzMzNcIixcImRhcmtfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiNmZmZmZmZcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX3ZpZXcuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL192aWV3LnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wicmVkXCI6XCIjZmY0NDRmXCIsXCJsaWdodF9jaGFydF90ZXh0XCI6XCIjNTU1OTc1XCIsXCJkYXJrX2NoYXJ0X3RleHRcIjpcIiM5OTk5OTlcIixcImxpZ2h0X2NoYXJ0X2dyaWRcIjpcIiNmMmYzZjRcIixcImRhcmtfY2hhcnRfZ3JpZFwiOlwiIzFkMWYyMFwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCIjODVhY2IwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjE2KVwiLFwibGlnaHRfY2hhcnRfbW91bnRhaW5fYmdfc2hhZGVcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMClcIixcImxpZ2h0X2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImRhcmtfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCI6XCJ3aGl0ZVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ1wiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjM2KVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgxNiwgMTksIDMyLCAwKVwiLFwiZGFya19jaGFydF9jbG9zZWRfbW91bnRhaW5fYm9yZGVyXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX3VwXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2Rvd25cIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJjaGFydF9jbG9zZWRfY2FuZGxlX2JvcmRlclwiOlwicmdiYSg1MSwgNTEsIDUxLCAwLjMyKVwiLFwiY2hhcnRfY3VycmVudF9oclwiOlwiI2ZmNDQ0ZlwiLFwiY2hhcnRfY2xvc2VkX2N1cnJlbnRfaHJcIjpcInJnYmEoMjU1LCA2OCwgNzksIDAuMzIpXCIsXCJsaWdodF9jaGFydF9iZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya19jaGFydF9iZ1wiOlwiIzBlMGUwZVwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX2JnXCI6XCIjZDZkYWRiXCIsXCJkYXJrX2Zsb2F0X2xhYmVsc19iZ1wiOlwiIzMyMzczOFwiLFwibGlnaHRfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiMzMzMzMzNcIixcImRhcmtfZmxvYXRfbGFiZWxzX3RleHRcIjpcIiNmZmZmZmZcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL2VuZXJneS9vaWwgdXNkL2ljLW9pbHVzZC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL2VuZXJneS9vaWwgdXNkL2ljLW9pbHVzZC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1vaWx1c2QtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtb2lsdXNkLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvaWMtb3RjYmFkZ2Uuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL2ljLW90Y2JhZGdlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtb3RjYmFkZ2UtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEzIDlcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1vdGNiYWRnZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL2ljLXNtYXJ0ZngtcGxhY2Vob2xkZXIuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvaWMtc21hcnRmeC1wbGFjZWhvbGRlci5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtc21hcnRmeC1wbGFjZWhvbGRlci11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1zbWFydGZ4LXBsYWNlaG9sZGVyLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvbWV0YWxzL2ljLW1ldGFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvbWV0YWxzL2ljLW1ldGFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLW1ldGFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLW1ldGFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xMCBpbmRleC9pYy0xMC1pbmRleC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzEwIGluZGV4L2ljLTEwLWluZGV4LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy0xMC1pbmRleC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy0xMC1pbmRleC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMTAwIGluZGV4L2ljLTEwMC1pbmRleC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMTAwIGluZGV4L2ljLTEwMC1pbmRleC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy0xMDAtaW5kZXgtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtMTAwLWluZGV4LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xczEwIGluZGV4L2ljLTEwLTFzLWluZGV4LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xczEwIGluZGV4L2ljLTEwLTFzLWluZGV4LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLTEwLTFzLWluZGV4LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLTEwLTFzLWluZGV4LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xczEwMCBpbmRleC9pYy0xMDAtMXMtaW5kZXguc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMXMxMDAgaW5kZXgvaWMtMTAwLTFzLWluZGV4LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtMTAwLTFzLWluZGV4LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLTEwMC0xcy1pbmRleC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMXMyNSBpbmRleC9saWdodC0yNSgxcylpbmRleC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMXMyNSBpbmRleC9saWdodC0yNSgxcylpbmRleC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJsaWdodC0yNSgxcylpbmRleC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNsaWdodC0yNSgxcylpbmRleC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMXM1MCBpbmRleC9saWdodC01MCgxcykgaW5kZXguc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xczUwIGluZGV4L2xpZ2h0LTUwKDFzKSBpbmRleC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwibGlnaHQtNTAoMXMpIGluZGV4LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2xpZ2h0LTUwKDFzKSBpbmRleC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMXM3NSBpbmRleC9saWdodC03NSgxcykgaW5kZXguc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xczc1IGluZGV4L2xpZ2h0LTc1KDFzKSBpbmRleC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwibGlnaHQtNzUoMXMpIGluZGV4LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2xpZ2h0LTc1KDFzKSBpbmRleC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMjUgaW5kZXgvaWMtMjUtaW5kZXguc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8yNSBpbmRleC9pYy0yNS1pbmRleC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtMjUtaW5kZXgtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtMjUtaW5kZXgtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzUwIGluZGV4L2ljLTUwLWluZGV4LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvNTAgaW5kZXgvaWMtNTAtaW5kZXguc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLTUwLWluZGV4LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLTUwLWluZGV4LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS83NSBpbmRleC9pYy03NS1pbmRleC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5Lzc1IGluZGV4L2ljLTc1LWluZGV4LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy03NS1pbmRleC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy03NS1pbmRleC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvYmVhciBtYXJrZXQvaWMtbWFya2V0YmVhci5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvYmVhciBtYXJrZXQvaWMtbWFya2V0YmVhci5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1tYXJrZXRiZWFyLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLW1hcmtldGJlYXItdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5L2Jvb20xMDAwIGluZGV4L2Jvb20xMDAwIGluZGV4LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvYm9vbTEwMDAgaW5kZXgvYm9vbTEwMDAgaW5kZXguc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImJvb20xMDAwIGluZGV4LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2Jvb20xMDAwIGluZGV4LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9ib29tNTAwIGluZGV4L2Jvb201MDAgaW5kZXguc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvYm9vbTUwMCBpbmRleC9ib29tNTAwIGluZGV4LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiYm9vbTUwMCBpbmRleC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNib29tNTAwIGluZGV4LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9idWxsIG1hcmtldC9pYy1tYXJrZXRidWxsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9idWxsIG1hcmtldC9pYy1tYXJrZXRidWxsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLW1hcmtldGJ1bGwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtbWFya2V0YnVsbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvY3Jhc2gxMDAwIGluZGV4L2NyYXNoMTAwMCBpbmRleC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvY3Jhc2gxMDAwIGluZGV4L2NyYXNoMTAwMCBpbmRleC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJjcmFzaDEwMDAgaW5kZXgtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjY3Jhc2gxMDAwIGluZGV4LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9jcmFzaDUwMCBpbmRleC9jcmFzaDUwMCBpbmRleC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5L2NyYXNoNTAwIGluZGV4L2NyYXNoNTAwIGluZGV4LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJjcmFzaDUwMCBpbmRleC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNjcmFzaDUwMCBpbmRleC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvc3RlcCBpbmRleC9zdGVwIGluZGV4LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5L3N0ZXAgaW5kZXgvc3RlcCBpbmRleC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcInN0ZXAgaW5kZXgtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjc3RlcCBpbmRleC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2UvZXJyb3Iuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWxlcnQgbWVzc2FnZS9lcnJvci5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiZXJyb3ItdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjZXJyb3ItdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9hbGVydCBtZXNzYWdlL2luZm8uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9hbGVydCBtZXNzYWdlL2luZm8uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaW5mby11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpbmZvLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWxlcnQgbWVzc2FnZS9zdWNjZXNzLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWxlcnQgbWVzc2FnZS9zdWNjZXNzLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcInN1Y2Nlc3MtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjc3VjY2Vzcy11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2Uvd2FybmluZy5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2Uvd2FybmluZy5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJ3YXJuaW5nLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI3dhcm5pbmctdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9hcnJvd3MvaWMtYXJyb3ctZ3JlZW4uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9hcnJvd3MvaWMtYXJyb3ctZ3JlZW4uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtYXJyb3ctZ3JlZW4tdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDIyIDMxXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtYXJyb3ctZ3JlZW4tdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9hcnJvd3MvaWMtYXJyb3ctb3JhbmdlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2Fycm93cy9pYy1hcnJvdy1vcmFuZ2Uuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWFycm93LW9yYW5nZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjIgMzFcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1hcnJvdy1vcmFuZ2UtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9iYWNrL2ljLWJhY2suc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9iYWNrL2ljLWJhY2suc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtYmFjay11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1iYWNrLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvYmFzZWxpbmUvaWMtYmFzZWxpbmUtbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvYmFzZWxpbmUvaWMtYmFzZWxpbmUtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWJhc2VsaW5lLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1iYXNlbGluZS1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9jYW5kbGUvaWMtY2FuZGxlLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvY2FuZGxlL2ljLWNhbmRsZS1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1jYW5kbGUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWNhbmRsZS1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9kb3QvaWMtZG90LW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvZG90L2ljLWRvdC1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1kb3Qtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWRvdC1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9ob2xsb3cgY2FuZGxlL2ljLWhvbGxvd2NhbmRsZS1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9ob2xsb3cgY2FuZGxlL2ljLWhvbGxvd2NhbmRsZS1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtaG9sbG93Y2FuZGxlLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1ob2xsb3djYW5kbGUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtaGVpa2luLWFzaGktbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtaGVpa2luLWFzaGktbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWhlaWtpbi1hc2hpLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1oZWlraW4tYXNoaS1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1rYWdpLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMta2FnaS1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1rYWdpLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1rYWdpLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLWxpbmVicmVhay1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtbGluZWJyZWFrLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtbGluZWJyZWFrLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1saW5lYnJlYWstbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtcG9pbnRmaWd1cmUtbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtcG9pbnRmaWd1cmUtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXBvaW50ZmlndXJlLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1wb2ludGZpZ3VyZS1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1yYW5nZWJhcnMtbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLXJhbmdlYmFycy1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXJhbmdlYmFycy1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtcmFuZ2ViYXJzLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLXJlbmtvLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLXJlbmtvLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1yZW5rby1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtcmVua28tbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvbGluZSBkb3QvaWMtbGluZWRvdC1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2xpbmUgZG90L2ljLWxpbmVkb3Qtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtbGluZWRvdC1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtbGluZWRvdC1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9saW5lL2ljLWxpbmUtbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2xpbmUvaWMtbGluZS1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWxpbmUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWxpbmUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvb2hsYy9pYy1vaGxjLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9vaGxjL2ljLW9obGMtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1vaGxjLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1vaGxjLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL3NwbGluZS9pYy1zcGxpbmUtbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9zcGxpbmUvaWMtc3BsaW5lLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXNwbGluZS1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtc3BsaW5lLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL3RhYmxlL3RhYmxlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy90YWJsZS90YWJsZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcInRhYmxlLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI3RhYmxlLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY29tcGFyaXNvbi9pYy1jb21wYXJpc29uLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jb21wYXJpc29uL2ljLWNvbXBhcmlzb24tbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1jb21wYXJpc29uLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jb21wYXJpc29uLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItb2ZmLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jcm9zc2hhaXIvaWMtY3Jvc3NoYWlyLW9mZi5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWNyb3NzaGFpci1vZmYtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtY3Jvc3NoYWlyLW9mZi11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItb24uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY3Jvc3NoYWlyL2ljLWNyb3NzaGFpci1vbi5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtY3Jvc3NoYWlyLW9uLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWNyb3NzaGFpci1vbi11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItdG9vbHRpcC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItdG9vbHRpcC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1jcm9zc2hhaXItdG9vbHRpcC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jcm9zc2hhaXItdG9vbHRpcC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2RyYXdpbmcgdG9vbHMvaWMtZHJhd2luZ3Rvb2xzLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2RyYXdpbmcgdG9vbHMvaWMtZHJhd2luZ3Rvb2xzLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1kcmF3aW5ndG9vbHMtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWRyYXdpbmd0b29scy1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9zZXR0aW5nL2ljLXBvc2l0aW9uLWJvdHRvbS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvc2V0dGluZy9pYy1wb3NpdGlvbi1ib3R0b20uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1wb3NpdGlvbi1ib3R0b20tdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtcG9zaXRpb24tYm90dG9tLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvc2V0dGluZy9pYy1wb3NpdGlvbi1sZWZ0LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvc2V0dGluZy9pYy1wb3NpdGlvbi1sZWZ0LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXBvc2l0aW9uLWxlZnQtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtcG9zaXRpb24tbGVmdC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL3pvb20taW4vaWMtem9vbWluLWxpZ2h0LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy96b29tLWluL2ljLXpvb21pbi1saWdodC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXpvb21pbi1saWdodC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy16b29taW4tbGlnaHQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy96b29tLW91dC9pYy16b29tb3V0LWxpZ2h0LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL3pvb20tb3V0L2ljLXpvb21vdXQtbGlnaHQuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXpvb21vdXQtbGlnaHQtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtem9vbW91dC1saWdodC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0LXR5cGUvaWMtYXJlYS1ncmF5c2NhbGUuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQtdHlwZS9pYy1hcmVhLWdyYXlzY2FsZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtYXJlYS1ncmF5c2NhbGUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtYXJlYS1ncmF5c2NhbGUtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydC10eXBlL2ljLWFyZWEuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydC10eXBlL2ljLWFyZWEuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtYXJlYS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1hcmVhLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQtdHlwZS9pYy1jYW5kbGUtZ3JheXNjYWxlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQtdHlwZS9pYy1jYW5kbGUtZ3JheXNjYWxlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWNhbmRsZS1ncmF5c2NhbGUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtY2FuZGxlLWdyYXlzY2FsZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0LXR5cGUvaWMtY2FuZGxlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydC10eXBlL2ljLWNhbmRsZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWNhbmRsZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jYW5kbGUtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydC10eXBlL2ljLWhvbGxvdy1ncmF5c2NhbGUuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydC10eXBlL2ljLWhvbGxvdy1ncmF5c2NhbGUuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtaG9sbG93LWdyYXlzY2FsZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1ob2xsb3ctZ3JheXNjYWxlLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQtdHlwZS9pYy1ob2xsb3cuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0LXR5cGUvaWMtaG9sbG93LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtaG9sbG93LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWhvbGxvdy11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0LXR5cGUvaWMtb2hsYy1ncmF5c2NhbGUuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQtdHlwZS9pYy1vaGxjLWdyYXlzY2FsZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtb2hsYy1ncmF5c2NhbGUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtb2hsYy1ncmF5c2NhbGUtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydC10eXBlL2ljLW9obGMuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydC10eXBlL2ljLW9obGMuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtb2hsYy11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1vaGxjLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQvaWMtZG93bi5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydC9pYy1kb3duLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1kb3duLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWRvd24tdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydC9pYy1tYXhpbWl6ZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQvaWMtbWF4aW1pemUuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1tYXhpbWl6ZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1tYXhpbWl6ZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0L3Jlc2l6ZS1pY29uLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydC9yZXNpemUtaWNvbi5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcInJlc2l6ZS1pY29uLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCA2IDE0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjcmVzaXplLWljb24tdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jbGVhci9pYy1jbGVhci5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2xlYXIvaWMtY2xlYXIuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1jbGVhci11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jbGVhci11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2Nsb3NlL2ljLWNsb3NlLWJvbGQuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2xvc2UvaWMtY2xvc2UtYm9sZC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtY2xvc2UtYm9sZC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jbG9zZS1ib2xkLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2xvc2UvaWMtY2xvc2UtY2lyY2xlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2xvc2UvaWMtY2xvc2UtY2lyY2xlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWNsb3NlLWNpcmNsZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jbG9zZS1jaXJjbGUtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vZnVsbC1zY3JlZW4uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jb21tb24vZnVsbC1zY3JlZW4uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiZnVsbC1zY3JlZW4tdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjZnVsbC1zY3JlZW4tdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtYWN0aXZlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1hY3RpdmUuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWFjdGl2ZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTcgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1hY3RpdmUtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtYWRkLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1hZGQuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWFkZC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1hZGQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtY2hhcnRzLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1jaGFydHMuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWNoYXJ0cy11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jaGFydHMtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtY2hlY2tib3gtYWN0aXZlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1jaGVja2JveC1hY3RpdmUuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWNoZWNrYm94LWFjdGl2ZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jaGVja2JveC1hY3RpdmUtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtY2hlY2tib3guc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jb21tb24vaWMtY2hlY2tib3guc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtY2hlY2tib3gtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtY2hlY2tib3gtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtY2xvc2Uuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jb21tb24vaWMtY2xvc2Uuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtY2xvc2UtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtY2xvc2UtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtZG93bmxvYWQuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jb21tb24vaWMtZG93bmxvYWQuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtZG93bmxvYWQtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtZG93bmxvYWQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtZHJhd2luZy10b29sLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1kcmF3aW5nLXRvb2wuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWRyYXdpbmctdG9vbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1kcmF3aW5nLXRvb2wtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtaGVscC1jZW50ZXIuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jb21tb24vaWMtaGVscC1jZW50ZXIuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtaGVscC1jZW50ZXItdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtaGVscC1jZW50ZXItdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtaW5kaWNhdG9ycy5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWluZGljYXRvcnMuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1pbmRpY2F0b3JzLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWluZGljYXRvcnMtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtaW5mby5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWluZm8uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1pbmZvLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWluZm8tdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtaW5wdXQtbnVtYmVyLW1pbnVzLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1pbnB1dC1udW1iZXItbWludXMuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWlucHV0LW51bWJlci1taW51cy11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgOCA4XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtaW5wdXQtbnVtYmVyLW1pbnVzLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWlucHV0LW51bWJlci1wbHVzLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWlucHV0LW51bWJlci1wbHVzLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWlucHV0LW51bWJlci1wbHVzLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCA4IDhcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1pbnB1dC1udW1iZXItcGx1cy11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1sYW5ndWFnZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1sYW5ndWFnZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1sYW5ndWFnZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1sYW5ndWFnZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1taW5pbWl6ZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1taW5pbWl6ZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1taW5pbWl6ZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1taW5pbWl6ZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NvbW1vbi9pYy10ZW1wbGF0ZXMuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY29tbW9uL2ljLXRlbXBsYXRlcy5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtdGVtcGxhdGVzLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLXRlbXBsYXRlcy11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NvbW1vbi9pYy10aGVtZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NvbW1vbi9pYy10aGVtZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy10aGVtZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy10aGVtZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2RlbGV0ZS9pYy1kZWxldGUuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZGVsZXRlL2ljLWRlbGV0ZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtZGVsZXRlLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWRlbGV0ZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2Rvd25sb2FkL2ljLWNzdi5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2Rvd25sb2FkL2ljLWNzdi5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1jc3YtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtY3N2LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZG93bmxvYWQvaWMtcG5nLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZG93bmxvYWQvaWMtcG5nLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXBuZy11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1wbmctdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9kcmF3LXRvb2xzL2ljLWNoYW5uZWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9kcmF3LXRvb2xzL2ljLWNoYW5uZWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtY2hhbm5lbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jaGFubmVsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy1jb250aW51b3VzLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy1jb250aW51b3VzLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWNvbnRpbnVvdXMtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtY29udGludW91cy11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtZmlib25hY2NpLWZhbi5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtZmlib25hY2NpLWZhbi5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1maWJvbmFjY2ktZmFuLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWZpYm9uYWNjaS1mYW4tdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9kcmF3LXRvb2xzL2ljLWhvcml6b250YWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9kcmF3LXRvb2xzL2ljLWhvcml6b250YWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtaG9yaXpvbnRhbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1ob3Jpem9udGFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy1saW5lLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy1saW5lLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWxpbmUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtbGluZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtcmF5LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9kcmF3LXRvb2xzL2ljLXJheS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXJheS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1yYXktdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9kcmF3LXRvb2xzL2ljLXJlY3RhbmdsZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy1yZWN0YW5nbGUuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1yZWN0YW5nbGUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtcmVjdGFuZ2xlLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy10cmVuZC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9kcmF3LXRvb2xzL2ljLXRyZW5kLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy10cmVuZC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy10cmVuZC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtdmVydGljYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy12ZXJ0aWNhbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtdmVydGljYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtdmVydGljYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9kcm9wZG93bi9pYy1kcm9wZG93bi5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZHJvcGRvd24vaWMtZHJvcGRvd24uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1kcm9wZG93bi11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1kcm9wZG93bi11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2VkaXQvaWMtZWRpdC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2VkaXQvaWMtZWRpdC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1lZGl0LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWVkaXQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mYXZvcml0ZS9pYy1mYXZvcml0ZS1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mYXZvcml0ZS9pYy1mYXZvcml0ZS1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtZmF2b3JpdGUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWZhdm9yaXRlLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2F1ZC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL2F1ZC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJhdWQtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjYXVkLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvY2FkLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvY2FkLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImNhZC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNjYWQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9jaGYuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9jaGYuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiY2hmLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2NoZi11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2NoaW5lc2UtdHJhZGl0aW9uYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvY2hpbmVzZS10cmFkaXRpb25hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiY2hpbmVzZS10cmFkaXRpb25hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNjaGluZXNlLXRyYWRpdGlvbmFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvY2hpbmVzZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9jaGluZXNlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJjaGluZXNlLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2NoaW5lc2UtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9kdXRjaC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvZHV0Y2guc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJkdXRjaC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNkdXRjaC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2V1ci5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL2V1ci5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJldXItdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjZXVyLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvZnJlbmNoLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvZnJlbmNoLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImZyZW5jaC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNmcmVuY2gtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9nYnAuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9nYnAuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiZ2JwLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2dicC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2dlcm1hbi5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL2dlcm1hbi5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJnZXJtYW4tdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjZ2VybWFuLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvaG9uZyBrb25nLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvaG9uZyBrb25nLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImhvbmcga29uZy11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNob25nIGtvbmctdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9pbmRvbmVzaWEuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9pbmRvbmVzaWEuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaW5kb25lc2lhLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2luZG9uZXNpYS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2l0YWx5LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9pdGFseS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcIml0YWx5LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2l0YWx5LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvanB5LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvanB5LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImpweS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNqcHktdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9teG4uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9teG4uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwibXhuLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI214bi11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL25vay5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL25vay5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJub2stdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjbm9rLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvbnpkLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvbnpkLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcIm56ZC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNuemQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9wbG4uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9wbG4uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwicGxuLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI3Bsbi11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3BvcnR1Z2FsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9wb3J0dWdhbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcInBvcnR1Z2FsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI3BvcnR1Z2FsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvcnVzc2lhLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvcnVzc2lhLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcInJ1c3NpYS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNydXNzaWEtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9zZWsuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9zZWsuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwic2VrLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI3Nlay11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3NwYW5pc2guc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3Mvc3BhbmlzaC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwic3BhbmlzaC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNzcGFuaXNoLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvdGhhaWxhbmQuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL3RoYWlsYW5kLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwidGhhaWxhbmQtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjdGhhaWxhbmQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy91c2Quc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy91c2Quc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwidXNkLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI3VzZC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3ZpZXRuYW0uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvdmlldG5hbS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwidmlldG5hbS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyN2aWV0bmFtLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3Mvd2FsbHN0cmVldC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy93YWxsc3RyZWV0LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJ3YWxsc3RyZWV0LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI3dhbGxzdHJlZXQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWFkeC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1hZHguc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1hZHgtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtYWR4LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1hbGxpZ2F0b3Iuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtYWxsaWdhdG9yLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtYWxsaWdhdG9yLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWFsbGlnYXRvci11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtYXJvb24uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1hcm9vbi5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtYXJvb24tdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtYXJvb24tdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWF2ZXJhZ2VzLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtYXZlcmFnZXMuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWF2ZXJhZ2VzLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWF2ZXJhZ2VzLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1hd2Vzb21lLW9zY2lsbGF0b3Iuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtYXdlc29tZS1vc2NpbGxhdG9yLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtYXdlc29tZS1vc2NpbGxhdG9yLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWF3ZXNvbWUtb3NjaWxsYXRvci11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtYm9sbGluZ2VyLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWJvbGxpbmdlci5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWJvbGxpbmdlci11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1ib2xsaW5nZXItdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWNhdC1hdmVyYWdlcy5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1jYXQtYXZlcmFnZXMuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1jYXQtYXZlcmFnZXMtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE3IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtY2F0LWF2ZXJhZ2VzLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1jb21tb2RpdHktY2hhbm5lbC1pbmRleC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWNvbW1vZGl0eS1jaGFubmVsLWluZGV4LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1jb21tb2RpdHktY2hhbm5lbC1pbmRleC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jb21tb2RpdHktY2hhbm5lbC1pbmRleC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtZG9uY2hpYW4uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1kb25jaGlhbi5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtZG9uY2hpYW4tdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI0XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtZG9uY2hpYW4tdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWR0cmVuZGVkLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtZHRyZW5kZWQuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWR0cmVuZGVkLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWR0cmVuZGVkLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1lbnZlbG9wZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWVudmVsb3BlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1lbnZlbG9wZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1lbnZlbG9wZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtZnJhY3RhbC1jaGFvcy5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtZnJhY3RhbC1jaGFvcy5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1mcmFjdGFsLWNoYW9zLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWZyYWN0YWwtY2hhb3MtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWdhdG9yLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtZ2F0b3Iuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWdhdG9yLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWdhdG9yLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1pY2hpbW9rdS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWljaGltb2t1LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1pY2hpbW9rdS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1pY2hpbW9rdS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtbWFjZC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtbWFjZC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1tYWNkLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLW1hY2QtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLW1vbWVudHVtLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtbW9tZW50dW0uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLW1vbWVudHVtLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNyAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLW1vbWVudHVtLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1vdGhlci5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLW90aGVyLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1vdGhlci11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTcgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1vdGhlci11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtcGFyYWJvbGljLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXBhcmFib2xpYy5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXBhcmFib2xpYy11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1wYXJhYm9saWMtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXJhaW5ib3cuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXJhaW5ib3cuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtcmFpbmJvdy11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1yYWluYm93LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1yYXRlLW9mLWNoYW5nZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXJhdGUtb2YtY2hhbmdlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1yYXRlLW9mLWNoYW5nZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1yYXRlLW9mLWNoYW5nZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtcnNpLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXJzaS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXJzaS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1yc2ktdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXN0b2NoYXN0aWMtbW9tZW50dW0uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXN0b2NoYXN0aWMtbW9tZW50dW0uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtc3RvY2hhc3RpYy1tb21lbnR1bS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1zdG9jaGFzdGljLW1vbWVudHVtLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1zdG9jaGFzdGljLW9zY2lsbGF0b3Iuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtc3RvY2hhc3RpYy1vc2NpbGxhdG9yLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtc3RvY2hhc3RpYy1vc2NpbGxhdG9yLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLXN0b2NoYXN0aWMtb3NjaWxsYXRvci11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtdHJlbmQtZGFyay5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtdHJlbmQtZGFyay5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy10cmVuZC1kYXJrLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNyAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLXRyZW5kLWRhcmstdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXRyZW5kLWxpZ2h0LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtdHJlbmQtbGlnaHQuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXRyZW5kLWxpZ2h0LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNyAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLXRyZW5kLWxpZ2h0LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy12b2xhdGlsaXR5LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy12b2xhdGlsaXR5LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXZvbGF0aWxpdHktdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE3IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtdm9sYXRpbGl0eS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtd2lsbGlhbS1wZXJjZW50LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXdpbGxpYW0tcGVyY2VudC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXdpbGxpYW0tcGVyY2VudC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy13aWxsaWFtLXBlcmNlbnQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXppZy16YWcuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXppZy16YWcuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtemlnLXphZy11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjUgMjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy16aWctemFnLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvbWVhc3VyZS9pYy1tZWFzdXJlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvbWVhc3VyZS9pYy1tZWFzdXJlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLW1lYXN1cmUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtbWVhc3VyZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL25hdmlnYXRpb24td2lkZ2V0cy9pYy1ob21lLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9uYXZpZ2F0aW9uLXdpZGdldHMvaWMtaG9tZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWhvbWUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtaG9tZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL25hdmlnYXRpb24td2lkZ2V0cy9pYy1zY2FsZS1mdWxsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9uYXZpZ2F0aW9uLXdpZGdldHMvaWMtc2NhbGUtZnVsbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXNjYWxlLWZ1bGwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtc2NhbGUtZnVsbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL25hdmlnYXRpb24td2lkZ2V0cy9pYy16b29taW4uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvbmF2aWdhdGlvbi13aWRnZXRzL2ljLXpvb21pbi5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtem9vbWluLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLXpvb21pbi11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL25hdmlnYXRpb24td2lkZ2V0cy9pYy16b29tb3V0LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9uYXZpZ2F0aW9uLXdpZGdldHMvaWMtem9vbW91dC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXpvb21vdXQtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtem9vbW91dC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3BlbmNpbC9pYy1wZW5jaWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvcGVuY2lsL2ljLXBlbmNpbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtcGVuY2lsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLXBlbmNpbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3BsYWNlaG9sZGVyL2ljLXBsYWNlaG9sZGVyLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9wbGFjZWhvbGRlci9pYy1wbGFjZWhvbGRlci5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXBsYWNlaG9sZGVyLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLXBsYWNlaG9sZGVyLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2VhcmNoL2ljLXNlYXJjaC1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NlYXJjaC9pYy1zZWFyY2gtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtc2VhcmNoLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1zZWFyY2gtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2V0dGluZy9jb3VudGRvd24vaWMtY291bnRkb3duLWRhcmstYWN0aXZlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvc2V0dGluZy9jb3VudGRvd24vaWMtY291bnRkb3duLWRhcmstYWN0aXZlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWNvdW50ZG93bi1kYXJrLWFjdGl2ZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYwIDEyMFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWNvdW50ZG93bi1kYXJrLWFjdGl2ZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvY291bnRkb3duL2ljLWNvdW50ZG93bi1kYXJrLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NldHRpbmcvY291bnRkb3duL2ljLWNvdW50ZG93bi1kYXJrLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1jb3VudGRvd24tZGFyay1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2MCAxMjBcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jb3VudGRvd24tZGFyay1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9zZXR0aW5nL2NvdW50ZG93bi9pYy1jb3VudGRvd24tbGlnaHQtYWN0aXZlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NldHRpbmcvY291bnRkb3duL2ljLWNvdW50ZG93bi1saWdodC1hY3RpdmUuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWNvdW50ZG93bi1saWdodC1hY3RpdmUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2MCAxMjBcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jb3VudGRvd24tbGlnaHQtYWN0aXZlLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2V0dGluZy9jb3VudGRvd24vaWMtY291bnRkb3duLWxpZ2h0LW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9zZXR0aW5nL2NvdW50ZG93bi9pYy1jb3VudGRvd24tbGlnaHQtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1jb3VudGRvd24tbGlnaHQtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNjAgMTIwXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtY291bnRkb3duLWxpZ2h0LW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvaGlnaGVzdC1sb3dlc3QvaWMtaGlnaGVzdC1sb3dlc3QtZGFyay1hY3RpdmUuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvc2V0dGluZy9oaWdoZXN0LWxvd2VzdC9pYy1oaWdoZXN0LWxvd2VzdC1kYXJrLWFjdGl2ZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtaGlnaGVzdC1sb3dlc3QtZGFyay1hY3RpdmUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2MCAxMjBcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1oaWdoZXN0LWxvd2VzdC1kYXJrLWFjdGl2ZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvaGlnaGVzdC1sb3dlc3QvaWMtaGlnaGVzdC1sb3dlc3QtZGFyay1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvc2V0dGluZy9oaWdoZXN0LWxvd2VzdC9pYy1oaWdoZXN0LWxvd2VzdC1kYXJrLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtaGlnaGVzdC1sb3dlc3QtZGFyay1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2MCAxMjBcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1oaWdoZXN0LWxvd2VzdC1kYXJrLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvaGlnaGVzdC1sb3dlc3QvaWMtaGlnaGVzdC1sb3dlc3QtbGlnaHQtYWN0aXZlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9zZXR0aW5nL2hpZ2hlc3QtbG93ZXN0L2ljLWhpZ2hlc3QtbG93ZXN0LWxpZ2h0LWFjdGl2ZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWhpZ2hlc3QtbG93ZXN0LWxpZ2h0LWFjdGl2ZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYwIDEyMFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWhpZ2hlc3QtbG93ZXN0LWxpZ2h0LWFjdGl2ZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvaGlnaGVzdC1sb3dlc3QvaWMtaGlnaGVzdC1sb3dlc3QtbGlnaHQtbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9zZXR0aW5nL2hpZ2hlc3QtbG93ZXN0L2ljLWhpZ2hlc3QtbG93ZXN0LWxpZ2h0LW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWhpZ2hlc3QtbG93ZXN0LWxpZ2h0LW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYwIDEyMFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWhpZ2hlc3QtbG93ZXN0LWxpZ2h0LW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvaGlzdG9yaWNhbC9pYy1oaXN0b3JpY2FsLWRhcmstYWN0aXZlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9zZXR0aW5nL2hpc3RvcmljYWwvaWMtaGlzdG9yaWNhbC1kYXJrLWFjdGl2ZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLWhpc3RvcmljYWwtZGFyay1hY3RpdmUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2MCAxMjBcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1oaXN0b3JpY2FsLWRhcmstYWN0aXZlLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2V0dGluZy9oaXN0b3JpY2FsL2ljLWhpc3RvcmljYWwtZGFyay1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NldHRpbmcvaGlzdG9yaWNhbC9pYy1oaXN0b3JpY2FsLWRhcmstbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtaGlzdG9yaWNhbC1kYXJrLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYwIDEyMFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWhpc3RvcmljYWwtZGFyay1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9zZXR0aW5nL2hpc3RvcmljYWwvaWMtaGlzdG9yaWNhbC1saWdodC1hY3RpdmUuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9zZXR0aW5nL2hpc3RvcmljYWwvaWMtaGlzdG9yaWNhbC1saWdodC1hY3RpdmUuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtaGlzdG9yaWNhbC1saWdodC1hY3RpdmUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2MCAxMjBcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1oaXN0b3JpY2FsLWxpZ2h0LWFjdGl2ZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvaGlzdG9yaWNhbC9pYy1oaXN0b3JpY2FsLWxpZ2h0LW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NldHRpbmcvaGlzdG9yaWNhbC9pYy1oaXN0b3JpY2FsLWxpZ2h0LW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1oaXN0b3JpY2FsLWxpZ2h0LW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYwIDEyMFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWhpc3RvcmljYWwtbGlnaHQtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2V0dGluZy9pYy10aGVtZS1kYXJrLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvc2V0dGluZy9pYy10aGVtZS1kYXJrLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlkOiBcImljLXRoZW1lLWRhcmstdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDIzNiAxODBcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy10aGVtZS1kYXJrLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2V0dGluZy9pYy10aGVtZS1saWdodC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9zZXR0aW5nL2ljLXRoZW1lLWxpZ2h0LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy10aGVtZS1saWdodC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjM2IDE4MFwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLXRoZW1lLWxpZ2h0LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2hhcGUvaWMtZW1wdHktc3RhdGUuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NoYXBlL2ljLWVtcHR5LXN0YXRlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtZW1wdHktc3RhdGUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEyOCAxMThcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1lbXB0eS1zdGF0ZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NoYXBlL2ljLW92ZXJ3cml0ZS1zdGF0ZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NoYXBlL2ljLW92ZXJ3cml0ZS1zdGF0ZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1vdmVyd3JpdGUtc3RhdGUtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEyOCAxMjhcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1vdmVyd3JpdGUtc3RhdGUtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9zaWRlYmFyL2NvbW1vZGl0aWVzL2ljLWNvbW1vZGl0aWVzLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvc2lkZWJhci9jb21tb2RpdGllcy9pYy1jb21tb2RpdGllcy1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1jb21tb2RpdGllcy1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTdlMzQyMi5zbWFydGNoYXJ0cy5zdmcjaWMtY29tbW9kaXRpZXMtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2lkZWJhci9mb3JleC9pYy1mb3JleC1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NpZGViYXIvZm9yZXgvaWMtZm9yZXgtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtZm9yZXgtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLWZvcmV4LW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvaW5kaWNlcy9pYy1pbmRpY2VzLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NpZGViYXIvaW5kaWNlcy9pYy1pbmRpY2VzLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy1pbmRpY2VzLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1pbmRpY2VzLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvb3RjL2ljLW90Yy1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvc2lkZWJhci9vdGMvaWMtb3RjLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtb3RjLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1vdGMtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2lkZWJhci9zeW50aF9pbmRleC9pYy1zeW50aC1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NpZGViYXIvc3ludGhfaW5kZXgvaWMtc3ludGgtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtc3ludGgtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLXN5bnRoLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvdm9sYXRpbGl0eS9pYy12b2xhdGlsaXR5LW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NpZGViYXIvdm9sYXRpbGl0eS9pYy12b2xhdGlsaXR5LW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy12b2xhdGlsaXR5LW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy12b2xhdGlsaXR5LW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3RpY2svaWMtdGljay5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3RpY2svaWMtdGljay5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpZDogXCJpYy10aWNrLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS03ZTM0MjIuc21hcnRjaGFydHMuc3ZnI2ljLXRpY2stdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy90aW1lL2ljLXRpbWUuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy90aW1lL2ljLXRpbWUuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgaWQ6IFwiaWMtdGltZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTIgMTJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtN2UzNDIyLnNtYXJ0Y2hhcnRzLnN2ZyNpYy10aW1lLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvbWFpbi5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL21haW4uc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWRcIjpcIiNmZjQ0NGZcIixcImxpZ2h0X2NoYXJ0X3RleHRcIjpcIiM1NTU5NzVcIixcImRhcmtfY2hhcnRfdGV4dFwiOlwiIzk5OTk5OVwiLFwibGlnaHRfY2hhcnRfZ3JpZFwiOlwiI2YyZjNmNFwiLFwiZGFya19jaGFydF9ncmlkXCI6XCIjMWQxZjIwXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIiM4NWFjYjBcIixcImxpZ2h0X2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDEzMywgMTcyLCAxNzYsIDAuMTYpXCIsXCJsaWdodF9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFwibGlnaHRfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiOlwicmdiYSgxMzMsIDE3MiwgMTc2LCAwLjMyKVwiLFwiZGFya19jaGFydF9tb3VudGFpbl9ib3JkZXJcIjpcIndoaXRlXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzYpXCIsXCJkYXJrX2NoYXJ0X21vdW50YWluX2JnX3NoYWRlXCI6XCJyZ2JhKDE2LCAxOSwgMzIsIDApXCIsXCJkYXJrX2NoYXJ0X2Nsb3NlZF9tb3VudGFpbl9ib3JkZXJcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXBcIjpcInJnYmEoMTMzLCAxNzIsIDE3NiwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93blwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyXCI6XCJyZ2JhKDUxLCA1MSwgNTEsIDAuMzIpXCIsXCJjaGFydF9jdXJyZW50X2hyXCI6XCIjZmY0NDRmXCIsXCJjaGFydF9jbG9zZWRfY3VycmVudF9oclwiOlwicmdiYSgyNTUsIDY4LCA3OSwgMC4zMilcIixcImxpZ2h0X2NoYXJ0X2JnXCI6XCIjZmZmZmZmXCIsXCJkYXJrX2NoYXJ0X2JnXCI6XCIjMGUwZTBlXCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfYmdcIjpcIiNkNmRhZGJcIixcImRhcmtfZmxvYXRfbGFiZWxzX2JnXCI6XCIjMzIzNzM4XCIsXCJsaWdodF9mbG9hdF9sYWJlbHNfdGV4dFwiOlwiIzMzMzMzM1wiLFwiZGFya19mbG9hdF9sYWJlbHNfdGV4dFwiOlwiI2ZmZmZmZlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9Db25zdGFudC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9Db25zdGFudC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkcmF3VG9vbHMsIGdldEluZGljYXRvcnNUcmVlLCBFeGNsdWRlZFN0dWRpZXMsIENoYXJ0VHlwZXMsIEludGVydmFscywgTGFuZ3VhZ2VzLCBTVEFURSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRyYXdUb29sc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGRyYXdUb29sczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0SW5kaWNhdG9yc1RyZWVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRJbmRpY2F0b3JzVHJlZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRXhjbHVkZWRTdHVkaWVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRXhjbHVkZWRTdHVkaWVzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDaGFydFR5cGVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2hhcnRUeXBlczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW50ZXJ2YWxzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW50ZXJ2YWxzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJMYW5ndWFnZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBMYW5ndWFnZXM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlNUQVRFXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU1RBVEU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG5cblxudmFyIGRyYXdUb29scyA9IHtcbiAgY2hhbm5lbDoge1xuICAgIGlkOiAnY2hhbm5lbCcsXG4gICAgdGV4dDogdC50cmFuc2xhdGUoJ0NoYW5uZWwgW251bV0nKSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkRyYXdUb29sc0NoYW5uZWxJY29uXCJdXG4gIH0sXG4gIHNlZ21lbnQ6IHtcbiAgICBpZDogJ2NvbnRpbnVvdXMnLFxuICAgIHRleHQ6IHQudHJhbnNsYXRlKCdDb250aW51b3VzIFtudW1dJyksXG4gICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJEcmF3VG9vbHNDb250aW51b3VzSWNvblwiXVxuICB9LFxuICBmaWJmYW46IHtcbiAgICBpZDogJ2ZpYmZhbicsXG4gICAgdGV4dDogdC50cmFuc2xhdGUoJ0ZpYiBGYW4gW251bV0nKSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkRyYXdUb29sc0ZpYm9uYWNjaWZhbkljb25cIl1cbiAgfSxcbiAgaG9yaXpvbnRhbDoge1xuICAgIGlkOiAnaG9yaXpvbnRhbCcsXG4gICAgdGV4dDogdC50cmFuc2xhdGUoJ0hvcml6b250YWwgW251bV0nKSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkRyYXdUb29sc0hvcml6b250YWxJY29uXCJdXG4gIH0sXG4gIGxpbmU6IHtcbiAgICBpZDogJ2xpbmUnLFxuICAgIHRleHQ6IHQudHJhbnNsYXRlKCdMaW5lIFtudW1dJyksXG4gICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJEcmF3VG9vbHNMaW5lSWNvblwiXVxuICB9LFxuICByYXk6IHtcbiAgICBpZDogJ3JheScsXG4gICAgdGV4dDogdC50cmFuc2xhdGUoJ1JheSBbbnVtXScpLFxuICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiRHJhd1Rvb2xzUmF5SWNvblwiXVxuICB9LFxuICByZWN0YW5nbGU6IHtcbiAgICBpZDogJ3JlY3RhbmdsZScsXG4gICAgdGV4dDogdC50cmFuc2xhdGUoJ1JlY3RhbmdsZSBbbnVtXScpLFxuICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiRHJhd1Rvb2xzUmVjdGFuZ2xlSWNvblwiXVxuICB9LFxuICB0aXJvbmU6IHtcbiAgICBpZDogJ3Rpcm9uZScsXG4gICAgdGV4dDogdC50cmFuc2xhdGUoJ1RyZW5kIFtudW1dJyksXG4gICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJEcmF3VG9vbHNUcmVuZEljb25cIl1cbiAgfSxcbiAgdmVydGljYWw6IHtcbiAgICBpZDogJ3ZlcnRpY2FsJyxcbiAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnVmVydGljYWwgW251bV0nKSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkRyYXdUb29sc1ZlcnRpY2FsSWNvblwiXVxuICB9XG59O1xudmFyIGdldEluZGljYXRvcnNUcmVlID0gZnVuY3Rpb24gZ2V0SW5kaWNhdG9yc1RyZWUoKSB7XG4gIHJldHVybiBbe1xuICAgIGlkOiAnbW9tZW50dW0nLFxuICAgIG5hbWU6ICdNb21lbnR1bScsXG4gICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJbmRpY2F0b3JDYXRNb21lbnR1bUljb25cIl0sXG4gICAgaXRlbXM6IFt7XG4gICAgICBpZDogJ0F3ZXNvbWUnLFxuICAgICAgbmFtZTogJ0F3ZXNvbWUgT3NjaWxsYXRvcicsXG4gICAgICBkZXNjcmlwdGlvbjogdC50cmFuc2xhdGUoXCJUaGUgQXdlc29tZSBPc2NpbGxhdG9yIGlzIGFuIGluZGljYXRvciB1c2VkIHRvIG1lYXN1cmUgbWFya2V0IG1vbWVudHVtLiBBTyBjYWxjdWxhdGVzIHRoZSBkaWZmZXJlbmNlIG9mIGEgMzQgUGVyaW9kIGFuZCA1IFBlcmlvZCBTaW1wbGUgTW92aW5nIEF2ZXJhZ2VzLiBUaGUgU2ltcGxlIE1vdmluZyBBdmVyYWdlcyB0aGF0IGFyZSB1c2VkIGFyZSBub3QgY2FsY3VsYXRlZCB1c2luZyBjbG9zaW5nIHByaWNlIGJ1dCByYXRoZXIgZWFjaCBiYXIncyBtaWRwb2ludHMuIEFPIGlzIGdlbmVyYWxseSB1c2VkIHRvIGFmZmlybSB0cmVuZHMgb3IgdG8gYW50aWNpcGF0ZSBwb3NzaWJsZSByZXZlcnNhbHMuXCIpLFxuICAgICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJbmRpY2F0b3JBd2Vzb21lT3NjaWxsYXRvckljb25cIl1cbiAgICB9LCB7XG4gICAgICBpZDogJ0RldHJlbmRlZCcsXG4gICAgICBuYW1lOiAnRGV0cmVuZGVkIFByaWNlIE9zY2lsbGF0b3InLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdUaGUgRGV0cmVuZGVkIFByaWNlIE9zY2lsbGF0b3IgKERQTykgaGVscHMgdG8gaWRlbnRpZnkgcHJpY2UgY3ljbGVzIHdpdGhvdXQgdGhlIGluZmx1ZW5jZSBvZiBzaG9ydC0gYW5kIGxvbmctdGVybSB0cmVuZHMuIFRoZSBEUE8gY29tcGFyZXMgYSBzaW1wbGUgbW92aW5nIGF2ZXJhZ2UgdG8gYSBoaXN0b3JpY2FsIHByaWNlbmVhciB0aGUgbWlkZGxlIG9mIGEgc3BlY2lmaWVkIHBlcmlvZC4gSXQgYWxzbyBzaG93cyB0aGUgcGVha3MgYW5kIGRyb3BzIG92ZXIgdGhhdCBwYXJ0aWN1bGFyIHBlcmlvZCwgbWFraW5nIGl0IGVhc2llciB0byBwcmVkaWN0IGJ1eSBwb2ludHMuJyksXG4gICAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkluZGljYXRvckRUcmVuZGVkSWNvblwiXVxuICAgIH0sIHtcbiAgICAgIGlkOiAnR2F0b3InLFxuICAgICAgbmFtZTogJ0dhdG9yIE9zY2lsbGF0b3InLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdUaGUgR2F0b3IgT3NjaWxsYXRvciBoZWxwcyB0byBkZXRlY3QgdHJlbmQgY2hhbmdlcyBpbiB0aGUgbWFya2V0IHByaWNlLiBCYXNlZCBvbiB0aGUgQWxsaWdhdG9yIGluZGljYXRvciwgdGhlIEdhdG9yIHBsb3RzIDIgaGlzdG9ncmFtcyBvbiBlaXRoZXIgc2lkZSBvZiB0aGUgemVybyBsaW5lLiBUaGUgc2xlZXBpbmcgcGhhc2UgKGFic2VuY2Ugb2YgYSB0cmVuZCkgaXMgd2hlbiB0aGUgYmFycyBvbiBib3RoIHNpZGVzIGFyZSByZWQuIFRoZSBhd2FrZW5pbmcgcGhhc2UgKGZvcm1hdGlvbiBvZiBhIHRyZW5kKSBpcyB3aGVuIHRoZXJlIGFyZSByZWQgYW5kIGdyZWVuIGJhcnMgb24gYm90aCBzaWRlcy4gV2hlbiB0aGVyZSBhcmUgZ3JlZW4gYmFycyBvbiBib3RoIHNpZGVzLCBpdCBpbmRpY2F0ZXMgdGhlIGVhdGluZyBwaGFzZSAodHJlbmQgc3RyZW5ndGhlbmluZykuIEEgc29saXRhcnkgcmVkIGJhciBhcHBlYXJpbmcgYWZ0ZXIgdGhlIGVhdGluZyBwaGFzZSBpbmRpY2F0ZXMgdGhlIGJlZ2lubmluZyBvZiB0aGUgc2F0ZWQgcGhhc2UgKHRyZW5kIGFwcHJvYWNoaW5nIGl0cyBlbmQpLicpLFxuICAgICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJbmRpY2F0b3JHYXRvckljb25cIl1cbiAgICB9LCB7XG4gICAgICBpZDogJ21hY2QnLFxuICAgICAgbmFtZTogJ01BQ0QnLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKFwiTUFDRCBpcyBhIHRyYWRpbmcgaW5kaWNhdG9yIHVzZWQgaW4gdGVjaG5pY2FsIGFuYWx5c2lzIG9mIHN0b2NrIHByaWNlcy4gSXQgaXMgc3VwcG9zZWQgdG8gcmV2ZWFsIGNoYW5nZXMgaW4gdGhlIHN0cmVuZ3RoLCBkaXJlY3Rpb24sIG1vbWVudHVtLCBhbmQgZHVyYXRpb24gb2YgYSB0cmVuZCBpbiBhIHN0b2NrJ3MgcHJpY2UuXCIpLFxuICAgICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJbmRpY2F0b3JNYWNkSWNvblwiXVxuICAgIH0sIHtcbiAgICAgIGlkOiAnUHJpY2UgUk9DJyxcbiAgICAgIG5hbWU6ICdQcmljZSBSYXRlIG9mIENoYW5nZScsXG4gICAgICBkZXNjcmlwdGlvbjogdC50cmFuc2xhdGUoJ1RoZSBQcmljZSBSYXRlLW9mLUNoYW5nZSAoUk9DKSBpbmRpY2F0b3IgZGlzcGxheXMgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgY3VycmVudCBwcmljZSBhbmQgdGhlIHByaWNlIHgtdGltZSBwZXJpb2RzIGFnby4gVGhlIGRpZmZlcmVuY2UgY2FuIGJlIGRpc3BsYXllZCBpbiBlaXRoZXIgcG9pbnRzIG9yIGFzIGEgcGVyY2VudGFnZS4nKSxcbiAgICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSW5kaWNhdG9yUmF0ZUNoYW5nZUljb25cIl1cbiAgICB9LCB7XG4gICAgICBpZDogJ3JzaScsXG4gICAgICBuYW1lOiAnUmVsYXRpdmUgU3RyZW5ndGggSW5kZXggKFJTSSknLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdUaGUgUmVsYXRpdmUgU3RyZW5ndGggSW5kZXggKFJTSSkgd2FzIHB1Ymxpc2hlZCBieSBKLiBXZWxsZXMgV2lsZGVyLiBUaGUgY3VycmVudCBwcmljZSBpcyBub3JtYWxpemVkIGFzIGEgcGVyY2VudGFnZSBiZXR3ZWVuIDAgYW5kIDEwMC4gVGhlIG5hbWUgb2YgdGhpcyBvc2NpbGxhdG9yIGlzIG1pc2xlYWRpbmcgYmVjYXVzZSBpdCBkb2VzIG5vdCBjb21wYXJlIHRoZSBpbnN0cnVtZW50IHJlbGF0aXZlIHRvIGFub3RoZXIgaW5zdHJ1bWVudCBvciBzZXQgb2YgaW5zdHJ1bWVudHMsIGJ1dCByYXRoZXIgcmVwcmVzZW50cyB0aGUgY3VycmVudCBwcmljZSByZWxhdGl2ZSB0byBvdGhlciByZWNlbnQgcGllY2VzIHdpdGhpbiB0aGUgc2VsZWN0ZWQgbG9va2JhY2sgd2luZG93IGxlbmd0aC4nKSxcbiAgICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSW5kaWNhdG9yUlNJSWNvblwiXVxuICAgIH0sIHtcbiAgICAgIGlkOiAnc3RvY2hhc3RpY3MnLFxuICAgICAgbmFtZTogJ1N0b2NoYXN0aWMgT3NjaWxsYXRvcicsXG4gICAgICBkZXNjcmlwdGlvbjogdC50cmFuc2xhdGUoXCJBIHRlY2huaWNhbCBtb21lbnR1bSBpbmRpY2F0b3IgdGhhdCBjb21wYXJlcyBhIHNlY3VyaXR5J3MgY2xvc2luZyBwcmljZSB0byBpdHMgcHJpY2UgcmFuZ2Ugb3ZlciBhIGdpdmVuIHRpbWUgcGVyaW9kLiBUaGUgb3NjaWxsYXRvcidzIHNlbnNpdGl2aXR5IHRvIG1hcmtldCBtb3ZlbWVudHMgY2FuIGJlIHJlZHVjZWQgYnkgYWRqdXN0aW5nIHRoZSB0aW1lIHBlcmlvZCBvciBieSB0YWtpbmcgYSBtb3ZpbmcgYXZlcmFnZSBvZiB0aGUgcmVzdWx0LlwiKSxcbiAgICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSW5kaWNhdG9yU3RvY2hhc3RpY09zY2lsbGF0b3JJY29uXCJdXG4gICAgfSwge1xuICAgICAgaWQ6ICdTdGNoIE10bScsXG4gICAgICBuYW1lOiAnU3RvY2hhc3RpYyBNb21lbnR1bSBJbmRleCcsXG4gICAgICBkZXNjcmlwdGlvbjogdC50cmFuc2xhdGUoJ1RoZSBTdG9jaGFzdGljIE1vbWVudHVtIEluZGV4IChTTUkpIGhlbHBzIHRvIGlkZW50aWZ5IG92ZXJib3VnaHQgb3Igb3ZlcnNvbGQgY29uZGl0aW9ucyBpbiB0aGUgbWFya2V0IGFuZCB0byBwcmVkaWN0IGJlYXJpc2ggb3IgYnVsbGlzaCB0cmVuZHMuIEl0IGNhbGN1bGF0ZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGN1cnJlbnQgY2xvc2luZyBwcmljZSBhbmQgdGhlIG1lZGlhbiBvZiB0aGUgaGlnaC9sb3cgcmFuZ2UsIGFuZCBkaXNwbGF5cyAyIGxpbmVzIG9uIHRoZSBjaGFydDogdGhlIGZpcnN0IChrbm93biBhcyAlSykgcmVwcmVzZW50cyB0aGUgcHJpY2UgbW92ZW1lbnQgd2hpbGUgdGhlIHNlY29uZCAoa25vd24gYXMgJUQpIGlzIGEgbW92aW5nIGF2ZXJhZ2Ugb2YgdGhlIGZpcnN0IGxpbmUuIElmIHRoZSBjbG9zaW5nIHByaWNlIGlzIGhpZ2hlciB0aGFuIHRoZSBtZWRpYW4gb2YgdGhlIGhpZ2gvbG93IHJhbmdlLCB0aGUgU01JIHJldHVybnMgYSBwb3NpdGl2ZSB2YWx1ZS4gSWYgdGhlIGNsb3NpbmcgcHJpY2UgaXMgbG93ZXIgdGhhbiB0aGUgYXZlcmFnZSBwcmljZSwgYSBuZWdhdGl2ZSB2YWx1ZSBpcyByZXR1cm5lZC4gVmFsdWVzIGFib3ZlIDQwIGluZGljYXRlIGEgYnVsbGlzaCB0cmVuZCB3aGlsZSB2YWx1ZXMgYmVsb3cgLTQwIGluZGljYXRlIGEgYmVhcmlzaCB0cmVuZC4nKSxcbiAgICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSW5kaWNhdG9yU3RvY2hhc3RpY01vbWVudHVtSWNvblwiXVxuICAgIH0sIHtcbiAgICAgIGlkOiAnV2lsbGlhbXMgJVInLFxuICAgICAgbmFtZTogXCJXaWxsaWFtJ3MgUGVyY2VudCBSYW5nZVwiLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdEZXZlbG9wZWQgYnkgTGFycnkgV2lsbGlhbXMsIFdpbGxpYW1zICVSIGlzIGEgbW9tZW50dW0gaW5kaWNhdG9yIHRoYXQgaXMgdGhlIGludmVyc2Ugb2YgdGhlIEZhc3QgU3RvY2hhc3RpYyBPc2NpbGxhdG9yLiBBbHNvIHJlZmVycmVkIHRvIGFzICVSLCBXaWxsaWFtcyAlUiByZWZsZWN0cyB0aGUgbGV2ZWwgb2YgdGhlIGNsb3NlIHJlbGF0aXZlIHRvIHRoZSBoaWdoZXN0IGhpZ2ggZm9yIHRoZSBsb29rLWJhY2sgcGVyaW9kLicpLFxuICAgICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJbmRpY2F0b3JXaWxsaWFtUGVyY2VudEljb25cIl1cbiAgICB9XVxuICB9LCB7XG4gICAgaWQ6ICd0cmVuZCcsXG4gICAgbmFtZTogJ1RyZW5kJyxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkluZGljYXRvckNhdFRyZW5kTGlnaHRJY29uXCJdLFxuICAgIGl0ZW1zOiBbe1xuICAgICAgaWQ6ICdBcm9vbicsXG4gICAgICBuYW1lOiAnQXJvb24nLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdEZXZlbG9wZWQgYnkgVHVzaGFyIENoYW5kZSBpbiAxOTk1LCBBcm9vbiBpcyBhbiBpbmRpY2F0b3Igc3lzdGVtIHRoYXQgZGV0ZXJtaW5lcyB3aGV0aGVyIGEgc3RvY2sgaXMgdHJlbmRpbmcgb3Igbm90IGFuZCBob3cgc3Ryb25nIHRoZSB0cmVuZCBpcy4gVGhlcmUgYXJlIHR3byBzZXBhcmF0ZSBpbmRpY2F0b3JzOiBBcm9vbi1VcCBhbmQgQXJvb24tRG93bi4gQSAyNS1kYXkgQXJvb24tVXAgbWVhc3VyZXMgdGhlIG51bWJlciBvZiBkYXlzIHNpbmNlIGEgMjUtZGF5IGhpZ2guIEEgMjUtZGF5IEFyb29uLURvd24gbWVhc3VyZXMgdGhlIG51bWJlciBvZiBkYXlzIHNpbmNlIGEgMjUtZGF5IGxvdy4nKSxcbiAgICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSW5kaWNhdG9yQXJvb25JY29uXCJdXG4gICAgfSwge1xuICAgICAgaWQ6ICdBRFgnLFxuICAgICAgbmFtZTogJ0FEWC9ETVMnLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdUaGUgQXZlcmFnZSBEaXJlY3Rpb25hbCBNb3ZlbWVudCBJbmRleCBpbmRleCAoQURYKSB3YXMgZGV2ZWxvcGVkIGluIDE5NzggYnkgSi4gV2VsbGVzIFdpbGRlciBhcyBhbiBpbmRpY2F0b3Igb2YgdHJlbmQgc3RyZW5ndGggaW4gYSBzZXJpZXMgb2YgcHJpY2VzIG9mIGEgZmluYW5jaWFsIGluc3RydW1lbnQgQURYIHdpbGwgcmFuZ2UgYmV0d2VlbiAwIGFuZCAxMDAuIEdlbmVyYWxseSwgQURYIHJlYWRpbmdzIGJlbG93IDIwIGluZGljYXRlIHRyZW5kIHdlYWtuZXNzLCBhbmQgcmVhZGluZ3MgYWJvdmUgNDAgaW5kaWNhdGUgdHJlbmQgc3RyZW5ndGguJyksXG4gICAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkluZGljYXRvckFkeEljb25cIl1cbiAgICB9LCB7XG4gICAgICBpZDogJ0NDSScsXG4gICAgICBuYW1lOiAnQ29tbW9kaXR5IENoYW5uZWwgSW5kZXgnLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdUaGUgQ29tbW9kaXR5IENoYW5uZWwgSW5kZXggKENDSSkgaXMgYSB2ZXJzYXRpbGUgaW5kaWNhdG9yIHRoYXQgY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgYSBuZXcgdHJlbmQgb3Igd2FybiBvZiBleHRyZW1lIGNvbmRpdGlvbnMuJyksXG4gICAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkluZGljYXRvckNvbW1vZGl0eUNoYW5uZWxJbmRleEljb25cIl1cbiAgICB9LCB7XG4gICAgICBpZDogJ0ljaGltb2t1IENsb3VkcycsXG4gICAgICBuYW1lOiAnSWNoaW1va3UgQ2xvdWRzJyxcbiAgICAgIGRlc2NyaXB0aW9uOiB0LnRyYW5zbGF0ZSgnVGhlIEljaGltb2t1IENsb3VkLCBhbHNvIGtub3duIGFzIEljaGltb2t1IEtpbmtvIEh5bywgaXMgYSB2ZXJzYXRpbGUgaW5kaWNhdG9yIHRoYXQgZGVmaW5lcyBzdXBwb3J0IGFuZCByZXNpc3RhbmNlLCBpZGVudGlmaWVzIHRyZW5kIGRpcmVjdGlvbiwgZ2F1Z2VzIG1vbWVudHVtIGFuZCBwcm92aWRlcyB0cmFkaW5nIHNpZ25hbHMuIEljaGltb2t1IEtpbmtvIEh5byB0cmFuc2xhdGVzIGludG8g4oCcb25lIGxvb2sgZXF1aWxpYnJpdW0gY2hhcnTigJ0uJyksXG4gICAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkluZGljYXRvckljaGltb2t1SWNvblwiXVxuICAgIH0sIHtcbiAgICAgIGlkOiAnUFNBUicsXG4gICAgICBuYW1lOiAnUGFyYWJvbGljIFNBUicsXG4gICAgICBkZXNjcmlwdGlvbjogdC50cmFuc2xhdGUoJ1RoZSBwYXJhYm9saWMgU0FSIGlzIGNhbGN1bGF0ZWQgYWxtb3N0IGluZGVwZW5kZW50bHkgZm9yIGVhY2ggdHJlbmQgaW4gdGhlIHByaWNlLiBXaGVuIHRoZSBwcmljZSBpcyBpbiBhbiB1cHRyZW5kLCB0aGUgU0FSIGVtZXJnZXMgYmVsb3cgdGhlIHByaWNlIGFuZCBjb252ZXJnZXMgdXB3YXJkcyB0b3dhcmRzIGl0LiBTaW1pbGFybHksIG9uIGEgZG93bnRyZW5kLCB0aGUgU0FSIGVtZXJnZXMgYWJvdmUgdGhlIHByaWNlIGFuZCBjb252ZXJnZXMgZG93bndhcmRzLiBBdCBlYWNoIHN0ZXAgd2l0aGluIGEgdHJlbmQsIHRoZSBTQVIgaXMgY2FsY3VsYXRlZCBvbmUgcGVyaW9kIGluIGFkdmFuY2UuJyksXG4gICAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkluZGljYXRvclBhcmFib2xpY0ljb25cIl1cbiAgICB9LCB7XG4gICAgICBpZDogJ1ppZ1phZycsXG4gICAgICBuYW1lOiAnWmlnIFphZycsXG4gICAgICBkZXNjcmlwdGlvbjogdC50cmFuc2xhdGUoJ1ppZyBaYWcgaGVscHMgdG8gaWRlbnRpZnkgdHJlbmQgcmV2ZXJzYWxzIGFuZCBmaWx0ZXJzIG91dCByZWxhdGl2ZWx5IHNtYWxsIHByaWNlIG1vdmVtZW50cyBieSBkZXRlcm1pbmluZyB0aGUgc3VwcG9ydCBhbmQgcmVzaXN0YW5jZSBsZXZlbHMgb2YgdGhlIG1hcmtldC4gSXQgYWNjZXB0cyBhIHBlcmNlbnRhZ2Ugb2YgZGV2aWF0aW9uIGFzIHRoZSBpbnB1dCBhbmQgZGlzcGxheXMgYSBsaW5lIGlmIHRoZSBwcmljZSBjaGFuZ2UgaXMgbGFyZ2VyIHRoYW4gdGhlIHBlcmNlbnRhZ2Ugb2YgZGV2aWF0aW9uLiBaaWcgWmFnIGlnbm9yZXMgYW55IHNpZGV3YXlzIG1vdmVtZW50IGFuZCBpcyB1c2VmdWwgdG8gZmlsdGVyIG91dCDigJxtYXJrZXQgbm9pc2XigJ0uJyksXG4gICAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkluZGljYXRvclppZ1phZ0ljb25cIl1cbiAgICB9XVxuICB9LCB7XG4gICAgaWQ6ICd2b2xhdGlsaXR5JyxcbiAgICBuYW1lOiAnVm9sYXRpbGl0eScsXG4gICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJbmRpY2F0b3JDYXRWb2xhdGlsaXR5SWNvblwiXSxcbiAgICBpdGVtczogW3tcbiAgICAgIGlkOiAnQm9sbGluZ2VyIEJhbmRzJyxcbiAgICAgIG5hbWU6ICdCb2xsaW5nZXIgQmFuZHMnLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdCb2xsaW5nZXIgQmFuZHMgY2FuIGJlIHVzZWQgdG8gbWVhc3VyZSB0aGUgaGlnaG5lc3Mgb3IgbG93bmVzcyBvZiB0aGUgcHJpY2UgcmVsYXRpdmUgdG8gcHJldmlvdXMgdHJhZGVzLicpLFxuICAgICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJbmRpY2F0b3JCb2xsaW5nZXJJY29uXCJdXG4gICAgfSwge1xuICAgICAgaWQ6ICdEb25jaGlhbiBDaGFubmVsJyxcbiAgICAgIG5hbWU6ICdEb25jaGlhbiBDaGFubmVsJyxcbiAgICAgIGRlc2NyaXB0aW9uOiB0LnRyYW5zbGF0ZSgnVGhlIERvbmNoaWFuIENoYW5uZWwgaXMgYW4gaW5kaWNhdG9yIHVzZWQgaW4gbWFya2V0IHRyYWRpbmcgZGV2ZWxvcGVkIGJ5IFJpY2hhcmQgRG9uY2hpYW4uIEl0IGlzIGZvcm1lZCBieSB0YWtpbmcgdGhlIGhpZ2hlc3QgaGlnaCBhbmQgdGhlIGxvd2VzdCBsb3cgb2YgdGhlIGxhc3QgbiBwZXJpb2RzLiBUaGUgYXJlYSBiZXR3ZWVuIHRoZSBoaWdoIGFuZCB0aGUgbG93IGlzIHRoZSBjaGFubmVsIGZvciB0aGUgcGVyaW9kIGNob3Nlbi4nKSxcbiAgICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSW5kaWNhdG9yRG9uY2hpYW5JY29uXCJdXG4gICAgfV1cbiAgfSwge1xuICAgIGlkOiAnbW92aW5nLWF2ZXJhZ2VzJyxcbiAgICBuYW1lOiAnTW92aW5nIGF2ZXJhZ2VzJyxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkluZGljYXRvckNhdEF2ZXJhZ2VzSWNvblwiXSxcbiAgICBpdGVtczogW3tcbiAgICAgIGlkOiAnbWEnLFxuICAgICAgbmFtZTogJ01vdmluZyBBdmVyYWdlIChNQSknLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdUaGUgTW92aW5nIEF2ZXJhZ2UgKE1BKSBoZWxwcyB0byBpZGVudGlmeSB0aGUgb3ZlcmFsbCBtYXJrZXQgdHJlbmQgYnkgZmlsdGVyaW5nIG91dCBzaG9ydC10ZXJtIHByaWNlIGZsdWN0dWF0aW9ucy4gVXNpbmcgaGlzdG9yaWNhbCBkYXRhLCBpdCBjYWxjdWxhdGVzIHRoZSBhdmVyYWdlIHByaWNlIG92ZXIgYSBzcGVjaWZpYyBwZXJpb2QgYW5kIHBsb3RzIGEgbGluZSBvbiB0aGUgY2hhcnQuIElmIHRoZSBNQSBsaW5lIG1vdmVzIHVwd2FyZHMsIGl04oCZcyBhbiBpbmRpY2F0b3Igb2YgYW4gdXB0cmVuZCwgYSBkb3dudHJlbmQgaWYgaXQgbW92ZXMgZG93bndhcmRzLiBBIGJ1eSBzaWduYWwgb2NjdXJzIHdoZW4gdGhlIHByaWNlIG1vdmVzIGFib3ZlIHRoZSBNQSBsaW5lLicpLFxuICAgICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJbmRpY2F0b3JBdmVyYWdlc0ljb25cIl1cbiAgICB9LCB7XG4gICAgICBpZDogJ01BIEVudicsXG4gICAgICBuYW1lOiAnTW92aW5nIEF2ZXJhZ2UgRW52ZWxvcGUnLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdUaGUgTW92aW5nIEF2ZXJhZ2UgRW52ZWxvcGUgKE1BRSkgaGVscHMgdG8gaWRlbnRpZnkgc3Ryb25nIHByaWNlIG1vdmVtZW50IHRoYXQgaW5kaWNhdGVzIHRoZSBzdGFydCBvZiBhIHRyZW5kLiBUaGUgTUFFIGNyZWF0ZXMgYSBtb3ZpbmcgYXZlcmFnZSBsaW5lIGFzIHdlbGwgYXMgMiBiYW5kcyBhcm91bmQgaXQuIEluIHRoZW9yeSwgd2hlbiB0aGUgbWFya2V0IHByaWNlIHRvdWNoZXMgdGhlIHVwcGVyIG9yIGxvd2VyIGJhbmRzLCBhIHRyZW5kIHJldmVyc2FsIHdpbGwgb2NjdXIsIGluZGljYXRpbmcgYSBidXkgc2lnbmFsLicpLFxuICAgICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJbmRpY2F0b3JFbnZlbG9wZUljb25cIl1cbiAgICB9LCB7XG4gICAgICBpZDogJ1JhaW5ib3cgTUEnLFxuICAgICAgbmFtZTogJ1JhaW5ib3cgTW92aW5nIEF2ZXJhZ2UnLFxuICAgICAgZGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdUaGUgUmFpbmJvdyBNb3ZpbmcgQXZlcmFnZSAoUk1BKSBkaXNwbGF5cyBzZXZlcmFsIG1vdmluZyBhdmVyYWdlIGxpbmVzIHNpbXVsdGFuZW91c2x5LiBXaGVuIHRoZSBsaW5lcyBpbnRlcnNlY3QsIGl04oCZcyBhbiBpbmRpY2F0b3Igb2YgcHJpY2UgcmV2ZXJzYWwgYW5kIHRoZSBhbmdsZSBvZiB0aGUgbGluZXMgYXJlIGhlbHBmdWwgdG8gcHJlZGljdCB0aGUgdHJlbmQgc3RyZW5ndGguIFRoZSBzdGVlcGVyIHRoZSBjdXJ2ZSwgdGhlIHN0cm9uZ2VyIHRoZSB0cmVuZC4gV2hlbiB0aGUgcHJpY2UgY3Jvc3NlcyB0aGUgbW92aW5nIGF2ZXJhZ2UgbGluZXMgZnJvbSBiZWxvdywgaXQgc2lnbmFscyBhbiB1cHdhcmQgdHJlbmQuIFdoZW4gdGhlIHByaWNlIGNyb3NzZXMgdGhlIG1vdmluZyBhdmVyYWdlIGxpbmVzIGZyb20gYWJvdmUsIGl0IHNpZ25hbHMgYSBkb3dud2FyZCB0cmVuZC4gVGhlIFJNQSBpcyBlYXNpZXIgdG8gdXNlIGNvbXBhcmVkIHRvIHVzaW5nIHNldmVyYWwgZGlmZmVyZW50IG1vdmluZyBhdmVyYWdlIGluZGljYXRvcnMgYXQgb25jZS4nKSxcbiAgICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSW5kaWNhdG9yUmFpbmJvd0ljb25cIl1cbiAgICB9XVxuICB9LCB7XG4gICAgaWQ6ICdvdGhlcnMnLFxuICAgIG5hbWU6ICdPdGhlcnMnLFxuICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSW5kaWNhdG9yQ2F0T3RoZXJJY29uXCJdLFxuICAgIGl0ZW1zOiBbe1xuICAgICAgaWQ6ICdBbGxpZ2F0b3InLFxuICAgICAgbmFtZTogJ0FsbGlnYXRvcicsXG4gICAgICBkZXNjcmlwdGlvbjogdC50cmFuc2xhdGUoJ0JpbGwgV2lsbGlhbXMgaW50cm9kdWNlZCB0aGUgQWxsaWdhdG9yIGluZGljYXRvciBpbiAxOTk1LiBUaGUgQWxsaWdhdG9yIGlzIGFzIG11Y2ggYSBtZXRhcGhvciBhcyBpdCBpcyBhbiBpbmRpY2F0b3IuIEl0IGNvbnNpc3RzIG9mIHRocmVlIGxpbmVzLCBvdmVybGFpZCBvbiBhIHByaWNpbmcgY2hhcnQsIHRoYXQgcmVwcmVzZW50IHRoZSBqYXcsIHRoZSB0ZWV0aCBhbmQgdGhlIGxpcHMgb2YgdGhlIGJlYXN0LCBhbmQgd2FzIGNyZWF0ZWQgdG8gaGVscCB0aGUgdHJhZGVyIGNvbmZpcm0gdGhlIHByZXNlbmNlIG9mIGEgdHJlbmQgYW5kIGl0cyBkaXJlY3Rpb24uIFRoZSBBbGxpZ2F0b3IgaW5kaWNhdG9yIGNhbiBhbHNvIGhlbHAgdHJhZGVycyBkZXNpZ25hdGUgaW1wdWxzZSBhbmQgY29ycmVjdGl2ZSB3YXZlIGZvcm1hdGlvbnMsIGJ1dCB0aGUgdG9vbCB3b3JrcyBiZXN0IHdoZW4gY29tYmluZWQgd2l0aCBhIG1vbWVudHVtIGluZGljYXRvci4nKSxcbiAgICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSW5kaWNhdG9yQWxsaWdhdG9ySWNvblwiXVxuICAgIH0sIHtcbiAgICAgIGlkOiAnRnJhY3RhbCBDaGFvcyBCYW5kcycsXG4gICAgICBuYW1lOiAnRnJhY3RhbCBDaGFvcyBCYW5kJyxcbiAgICAgIGRlc2NyaXB0aW9uOiB0LnRyYW5zbGF0ZSgnRnJhY3RhbHMgYXJlIGluZGljYXRvcnMgb24gY2FuZGxlc3RpY2sgY2hhcnRzIHRoYXQgaWRlbnRpZnkgcmV2ZXJzYWwgcG9pbnRzIGluIHRoZSBtYXJrZXQuIFRyYWRlcnMgb2Z0ZW4gdXNlIGZyYWN0YWxzIHRvIGdldCBhbiBpZGVhIGFib3V0IHRoZSBkaXJlY3Rpb24gaW4gd2hpY2ggdGhlIHByaWNlIHdpbGwgZGV2ZWxvcC4gQSBmcmFjdGFsIHdpbGwgZm9ybSB3aGVuIGEgcGFydGljdWxhciBwcmljZSBwYXR0ZXJuIGhhcHBlbnMgb24gYSBjaGFydC4nKSxcbiAgICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSW5kaWNhdG9yRnJhY3RhbENoYW9zSWNvblwiXVxuICAgIH1dXG4gIH1dO1xufTtcbnZhciBFeGNsdWRlZFN0dWRpZXMgPSB7XG4gIEJldGE6IHRydWUsXG4gIC8vIHZvbHVtZSBpcyBub3Qgc3VwcG9ydGVkIGluIGNoYXJ0XG4gIEtsaW5nZXI6IHRydWUsXG4gICdUcmFkZSBWb2wnOiB0cnVlLFxuICAnVm9sIFJPQyc6IHRydWUsXG4gICdQcmljZSBWb2wnOiB0cnVlLFxuICAnUG9zIFZvbCc6IHRydWUsXG4gICdOZWcgVm9sJzogdHJ1ZSxcbiAgJ09uIEJhbCBWb2wnOiB0cnVlLFxuICAnVm9sIE9zYyc6IHRydWUsXG4gIHZvbHVtZTogdHJ1ZSxcbiAgJ3ZvbCB1bmRyJzogdHJ1ZSxcbiAgJ3ZvbCBwcm9maWxlJzogdHJ1ZSxcbiAgJ1cgTUZJJzogdHJ1ZSxcbiAgRU9NOiB0cnVlLFxuICAnQ2hhaWtpbiBNRic6IHRydWUsXG4gIFR3aWdnczogdHJ1ZSxcbiAgLy8gZW5kIHZvbHVtZVxuICAnQXJvb24gT3NjJzogdHJ1ZSxcbiAgJ0xpbiBSMic6IHRydWUsXG4gICdMaW4gRmNzdCc6IHRydWUsXG4gICdMaW4gSW5jcHQnOiB0cnVlLFxuICAnVGltZSBGY3N0JzogdHJ1ZSxcbiAgJ1ZUIEZpbHRlcic6IHRydWUsXG4gIFRSSVg6IHRydWUsXG4gICdTVEQgRGV2JzogdHJ1ZSxcbiAgU3dpbmc6IHRydWUsXG4gICdBY2MgU3dpbmcnOiB0cnVlLFxuICAnUHJpY2UgUk9DJzogZmFsc2UsXG4gIE1vbWVudHVtOiB0cnVlLFxuICAnSGlzdCBWb2wnOiB0cnVlLFxuICAnUHJldHR5IEdvb2QnOiB0cnVlLFxuICBVbHRpbWF0ZTogdHJ1ZSxcbiAgJ0NoYWlraW4gVm9sJzogdHJ1ZSxcbiAgJ1ByaWNlIE9zYyc6IHRydWUsXG4gICdUcnVlIFJhbmdlJzogdHJ1ZSxcbiAgQVRSOiB0cnVlLFxuICAnRWhsZXIgRmlzaGVyJzogdHJ1ZSxcbiAgU2NoYWZmOiB0cnVlLFxuICBRU3RpY2s6IHRydWUsXG4gIENvcHBvY2s6IHRydWUsXG4gICdDaGFuZGUgTXRtJzogdHJ1ZSxcbiAgJ0NoYW5kZSBGY3N0JzogdHJ1ZSxcbiAgJ0ludHJhZGF5IE10bSc6IHRydWUsXG4gIFJBVkk6IHRydWUsXG4gICdSYW5kb20gV2Fsayc6IHRydWUsXG4gICdIaWdoIExvdyc6IHRydWUsXG4gICdIaWdoLUxvdyc6IHRydWUsXG4gICdNZWQgUHJpY2UnOiB0cnVlLFxuICAnRnJhY3RhbCBDaGFvcyc6IHRydWUsXG4gIEdBUE86IHRydWUsXG4gICdQcmltZSBOdW1iZXIgQmFuZHMnOiB0cnVlLFxuICAnUHJpbWUgTnVtYmVyJzogdHJ1ZSxcbiAgSEhWOiB0cnVlLFxuICBMTFY6IHRydWUsXG4gICdNYXNzIElkeCc6IHRydWUsXG4gIEtlbHRuZXI6IHRydWUsXG4gICdFbGRlciBSYXknOiB0cnVlLFxuICAnRWxkZXIgRm9yY2UnOiB0cnVlLFxuICAnTFIgU2xvcGUnOiB0cnVlLFxuICBDT0c6IHRydWUsXG4gICdUeXBpY2FsIFByaWNlJzogdHJ1ZSxcbiAgJ1dlaWdodGVkIENsb3NlJzogdHJ1ZSxcbiAgJ00gRmxvdyc6IHRydWUsXG4gICdXIEFjYyBEaXN0JzogdHJ1ZSxcbiAgJ3ZhbCBsaW5lcyc6IHRydWUsXG4gIGNvcnJlbDogdHJ1ZSxcbiAgUE1POiB0cnVlLFxuICAnUmVsIFZvbCc6IHRydWUsXG4gICdBVFIgQmFuZHMnOiB0cnVlLFxuICAnU1RBUkMgQmFuZHMnOiB0cnVlLFxuICAnQVRSIFRyYWlsaW5nIFN0b3AnOiB0cnVlLFxuICAnQm9sbCBCVyc6IHRydWUsXG4gICdCb2xsICViJzogdHJ1ZSxcbiAgJ1JlbCBWaWcnOiB0cnVlLFxuICAnRWxkZXIgSW1wdWxzZSc6IHRydWUsXG4gICdQaXZvdCBQb2ludHMnOiB0cnVlLFxuICBWV0FQOiB0cnVlLFxuICBBVldBUDogdHJ1ZSxcbiAgJ1AgUmVsJzogdHJ1ZSxcbiAgJ1BlcmYgSWR4JzogdHJ1ZSxcbiAgVWxjZXI6IHRydWUsXG4gICdCYWwgUHdyJzogdHJ1ZSxcbiAgJ1RyZW5kIEludCc6IHRydWUsXG4gIENob3BwaW5lc3M6IHRydWUsXG4gIERpc3Bhcml0eTogdHJ1ZSxcbiAgJ1JhaW5ib3cgT3NjJzogdHJ1ZSxcbiAgJ1ByaW5nIEtTVCc6IHRydWUsXG4gICdQcmluZyBTcC1LJzogdHJ1ZSxcbiAgRGFydmFzOiB0cnVlLFxuICBTdXBlcnRyZW5kOiB0cnVlLFxuICBWb3J0ZXg6IHRydWUsXG4gIFBTWTogdHJ1ZSxcbiAgJ01BIERldic6IHRydWUsXG4gIFNoaW5vaGFyYTogdHJ1ZSxcbiAgJ1ZUIEhaIEZpbHRlcic6IHRydWVcbn07XG52YXIgQ2hhcnRUeXBlcyA9IFt7XG4gIGlkOiAnbW91bnRhaW4nLFxuICB0ZXh0OiB0LnRyYW5zbGF0ZSgnQXJlYScpLFxuICBjYW5kbGVPbmx5OiBmYWxzZSxcbiAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUeXBlQXJlYUljb25cIl1cbn0sIHtcbiAgaWQ6ICdjYW5kbGUnLFxuICB0ZXh0OiB0LnRyYW5zbGF0ZSgnQ2FuZGxlJyksXG4gIGNhbmRsZU9ubHk6IHRydWUsXG4gIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVHlwZUNhbmRsZUljb25cIl1cbn0sIHtcbiAgaWQ6ICdob2xsb3dfY2FuZGxlJyxcbiAgdGV4dDogdC50cmFuc2xhdGUoJ0hvbGxvdycpLFxuICBjYW5kbGVPbmx5OiB0cnVlLFxuICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlR5cGVIb2xsb3dJY29uXCJdXG59LCB7XG4gIGlkOiAnY29sb3JlZF9iYXInLFxuICB0ZXh0OiB0LnRyYW5zbGF0ZSgnT0hMQycpLFxuICBjYW5kbGVPbmx5OiB0cnVlLFxuICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlR5cGVPaGxjSWNvblwiXVxufV07XG52YXIgSW50ZXJ2YWxzID0gW3tcbiAga2V5OiAndGljaycsXG4gIHNpbmdsZTogdC50cmFuc2xhdGUoJ3RpY2snKSxcbiAgaXRlbXM6IFt7XG4gICAgaW50ZXJ2YWw6IDAsXG4gICAgbnVtOiAxXG4gIH1dXG59LCB7XG4gIGtleTogJ21pbnV0ZScsXG4gIHNpbmdsZTogdC50cmFuc2xhdGUoJ21pbnV0ZScpLFxuICBwbHVyYWw6IHQudHJhbnNsYXRlKCdtaW51dGVzJyksXG4gIGl0ZW1zOiBbe1xuICAgIGludGVydmFsOiA2MCxcbiAgICBudW06IDFcbiAgfSwge1xuICAgIGludGVydmFsOiAxMjAsXG4gICAgbnVtOiAyXG4gIH0sIHtcbiAgICBpbnRlcnZhbDogMTgwLFxuICAgIG51bTogM1xuICB9LCB7XG4gICAgaW50ZXJ2YWw6IDMwMCxcbiAgICBudW06IDVcbiAgfSwge1xuICAgIGludGVydmFsOiA2MDAsXG4gICAgbnVtOiAxMFxuICB9LCB7XG4gICAgaW50ZXJ2YWw6IDkwMCxcbiAgICBudW06IDE1XG4gIH0sIHtcbiAgICBpbnRlcnZhbDogMTgwMCxcbiAgICBudW06IDMwXG4gIH1dXG59LCB7XG4gIGtleTogJ2hvdXInLFxuICBzaW5nbGU6IHQudHJhbnNsYXRlKCdob3VyJyksXG4gIHBsdXJhbDogdC50cmFuc2xhdGUoJ2hvdXJzJyksXG4gIGl0ZW1zOiBbe1xuICAgIGludGVydmFsOiAzNjAwLFxuICAgIG51bTogMVxuICB9LCB7XG4gICAgaW50ZXJ2YWw6IDcyMDAsXG4gICAgbnVtOiAyXG4gIH0sIHtcbiAgICBpbnRlcnZhbDogMTQ0MDAsXG4gICAgbnVtOiA0XG4gIH0sIHtcbiAgICBpbnRlcnZhbDogMjg4MDAsXG4gICAgbnVtOiA4XG4gIH1dXG59LCB7XG4gIGtleTogJ2RheScsXG4gIHNpbmdsZTogdC50cmFuc2xhdGUoJ2RheScpLFxuICBwbHVyYWw6IHQudHJhbnNsYXRlKCdkYXlzJyksXG4gIGl0ZW1zOiBbe1xuICAgIGludGVydmFsOiA4NjQwMCxcbiAgICBudW06IDFcbiAgfV1cbn1dO1xudmFyIExhbmd1YWdlcyA9IFt7XG4gIGtleTogJ2VuJyxcbiAgbmFtZTogJ0VuZ2xpc2gnLFxuICBpY29uOiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkZsYWdJY29uc1wiXS5HQlAsIG51bGwpXG59LCB7XG4gIGtleTogJ3B0JyxcbiAgbmFtZTogJ1BvcnR1Z3XDqnMnLFxuICBpY29uOiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkZsYWdJY29uc1wiXS5Qb3J0dWdhbCwgbnVsbClcbn0sIHtcbiAga2V5OiAnZnInLFxuICBuYW1lOiAnRnJlbmNoJyxcbiAgaWNvbjogLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJGbGFnSWNvbnNcIl0uRnJlbmNoLCBudWxsKVxufSwge1xuICBrZXk6ICdydScsXG4gIG5hbWU6ICfQoNGD0YHRgdC60LjQuScsXG4gIGljb246IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiRmxhZ0ljb25zXCJdLlJ1c3NpYSwgbnVsbClcbn0sIHtcbiAga2V5OiAndGgnLFxuICBuYW1lOiAnVGhhaScsXG4gIGljb246IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiRmxhZ0ljb25zXCJdLlRoYWlsYW5kLCBudWxsKVxufSwge1xuICBrZXk6ICdpZCcsXG4gIG5hbWU6ICdJbmRvbmVzaWEnLFxuICBpY29uOiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkZsYWdJY29uc1wiXS5JbmRvbmVzaWEsIG51bGwpXG59LCB7XG4gIGtleTogJ3ZpJyxcbiAgbmFtZTogJ1Rp4bq/bmcgVmnhu4d0JyxcbiAgaWNvbjogLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJGbGFnSWNvbnNcIl0uVmlldG5hbSwgbnVsbClcbn0sIHtcbiAga2V5OiAnaXQnLFxuICBuYW1lOiAnSXRhbGlhbm8nLFxuICBpY29uOiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkZsYWdJY29uc1wiXS5JdGFseSwgbnVsbClcbn0sIHtcbiAga2V5OiAnemhfY24nLFxuICBuYW1lOiAn566A5L2T5Lit5paHJyxcbiAgaWNvbjogLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJGbGFnSWNvbnNcIl0uQ2hpbmVzZSwgbnVsbClcbn0sIHtcbiAga2V5OiAncGwnLFxuICBuYW1lOiAnUG9saXNoJyxcbiAgaWNvbjogLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJGbGFnSWNvbnNcIl0uUG9sYW5kLCBudWxsKVxufSwge1xuICBrZXk6ICd6aF90dycsXG4gIG5hbWU6ICfnuYHpq5TkuK3mlocnLFxuICBpY29uOiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkZsYWdJY29uc1wiXS5DaGluZXNlVHJhZGl0aW9uYWwsIG51bGwpXG59LCB7XG4gIGtleTogJ2VzJyxcbiAgbmFtZTogJ2VzcGFueW9sJyxcbiAgaWNvbjogLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJGbGFnSWNvbnNcIl0uU3BhbmlzaCwgbnVsbClcbn1dO1xudmFyIFNUQVRFID0ge1xuICBJTklUSUFMOiAnSU5JVElBTCcsXG4gIFJFQURZOiAnUkVBRFknLFxuICBTQ1JPTExfVE9fTEVGVDogJ1NDUk9MTF9UT19MRUZUJ1xufTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL1NwbGluZVBsb3R0ZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9TcGxpbmVQbG90dGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcGxvdFNwbGluZTsgfSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMsbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzICovXG5mdW5jdGlvbiBwbG90U3BsaW5lKHBvaW50cywgdGVuc2lvbiwgY29udGV4dCwgY29sb3JQYXR0ZXJuQ2hhbmdlcykge1xuICBmdW5jdGlvbiBnZXRDb250cm9sUG9pbnRzKGkpIHtcbiAgICB2YXIgeDAgPSBwb2ludHNbaV07XG4gICAgdmFyIHkwID0gcG9pbnRzW2kgKyAxXTtcbiAgICB2YXIgeDEgPSBwb2ludHNbaSArIDJdO1xuICAgIHZhciB5MSA9IHBvaW50c1tpICsgM107XG4gICAgdmFyIHgyID0gcG9pbnRzW2kgKyA0XTtcbiAgICB2YXIgeTIgPSBwb2ludHNbaSArIDVdO1xuXG4gICAgaWYgKGlzTmFOKHgwKSB8fCBpc05hTih4MSkgfHwgaXNOYU4oeDIpIHx8IGlzTmFOKHkwKSB8fCBpc05hTih5MSkgfHwgaXNOYU4oeTIpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IC8vIHgwLHkwLHgxLHkxIGFyZSB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGVuZCAoa25vdCkgcG9pbnRzIG9mIHRoaXMgc2VnbWVudFxuICAgIC8vIHgyLHkyIGlzIHRoZSBuZXh0IGtub3QgLS0gbm90IGNvbm5lY3RlZCBoZXJlIGJ1dCBuZWVkZWQgdG8gY2FsY3VsYXRlIHAyXG4gICAgLy8gcDEgaXMgdGhlIGNvbnRyb2wgcG9pbnQgY2FsY3VsYXRlZCBoZXJlLCBmcm9tIHgxIGJhY2sgdG93YXJkIHgwLlxuICAgIC8vIHAyIGlzIHRoZSBuZXh0IGNvbnRyb2wgcG9pbnQsIGNhbGN1bGF0ZWQgaGVyZSBhbmQgcmV0dXJuZWQgdG8gYmVjb21lIHRoZVxuICAgIC8vIG5leHQgc2VnbWVudCdzIHAxLlxuICAgIC8vIHRlbnNpb24gY29udHJvbHMgaG93IGZhciB0aGUgY29udHJvbCBwb2ludHMgc3ByZWFkLlxuICAgIC8vIFNjYWxpbmcgZmFjdG9yczogZGlzdGFuY2VzIGZyb20gdGhpcyBrbm90IHRvIHRoZSBwcmV2aW91cyBhbmQgZm9sbG93aW5nIGtub3RzLlxuXG5cbiAgICB2YXIgZDAxID0gTWF0aC5zcXJ0KE1hdGgucG93KHgxIC0geDAsIDIpICsgTWF0aC5wb3coeTEgLSB5MCwgMikpO1xuICAgIHZhciBkMTIgPSBNYXRoLnNxcnQoTWF0aC5wb3coeDIgLSB4MSwgMikgKyBNYXRoLnBvdyh5MiAtIHkxLCAyKSk7XG4gICAgdmFyIGZhID0gdGVuc2lvbiAqIGQwMSAvIChkMDEgKyBkMTIpO1xuICAgIHZhciBmYiA9IHRlbnNpb24gLSBmYTtcbiAgICB2YXIgcDF4ID0geDEgKyBmYSAqICh4MCAtIHgyKTtcbiAgICB2YXIgcDF5ID0geTEgKyBmYSAqICh5MCAtIHkyKTtcbiAgICB2YXIgcDJ4ID0geDEgLSBmYiAqICh4MCAtIHgyKTtcbiAgICB2YXIgcDJ5ID0geTEgLSBmYiAqICh5MCAtIHkyKTtcbiAgICByZXR1cm4gW3AxeCwgcDF5LCBwMngsIHAyeV07XG4gIH1cblxuICBpZiAoIXRlbnNpb24gfHwgdGVuc2lvbiA8IDApIHtcbiAgICB0ZW5zaW9uID0gMDtcbiAgfVxuXG4gIHZhciBjcCA9IFtdOyAvLyBhcnJheSBvZiBjb250cm9sIHBvaW50cywgYXMgeDAseTAseDEseTEsLi4uXG5cbiAgdmFyIG4gPSBwb2ludHMubGVuZ3RoOyAvLyBEcmF3IGFuIG9wZW4gY3VydmUsIG5vdCBjb25uZWN0ZWQgYXQgdGhlIGVuZHNcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG4gLSA0OyBpICs9IDIpIHtcbiAgICBjcCA9IGNwLmNvbmNhdChnZXRDb250cm9sUG9pbnRzKGkpKTtcbiAgfVxuXG4gIGlmIChjcCA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghY29sb3JQYXR0ZXJuQ2hhbmdlcykge1xuICAgIGNvbG9yUGF0dGVybkNoYW5nZXMgPSBbXTtcbiAgfVxuXG4gIHZhciBjb2xvclBhdHRlcm5JbmRleCA9IDA7XG5cbiAgZnVuY3Rpb24gc2VlSWZTdHJva2VOZWVkZWQoaSkge1xuICAgIGlmIChjb2xvclBhdHRlcm5JbmRleCA9PT0gY29sb3JQYXR0ZXJuQ2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY29sb3JQYXR0ZXJuQ2hhbmdlID0gY29sb3JQYXR0ZXJuQ2hhbmdlc1tjb2xvclBhdHRlcm5JbmRleF07XG5cbiAgICBpZiAoY29sb3JQYXR0ZXJuQ2hhbmdlLmNvb3JkWzBdID09PSBwb2ludHNbaV0gJiYgY29sb3JQYXR0ZXJuQ2hhbmdlLmNvb3JkWzFdID09PSBwb2ludHNbaSArIDFdKSB7XG4gICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yUGF0dGVybkNoYW5nZS5jb2xvcjtcbiAgICAgIGNvbnRleHQuc2V0TGluZURhc2goY29sb3JQYXR0ZXJuQ2hhbmdlLnBhdHRlcm4pO1xuICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IDA7XG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IGNvbG9yUGF0dGVybkNoYW5nZS53aWR0aDtcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBjb250ZXh0Lm1vdmVUbyhwb2ludHNbaV0sIHBvaW50c1tpICsgMV0pOyAvLyByZXNldCBiYWNrIHRvIGxhc3QgcG9pbnRcblxuICAgICAgY29sb3JQYXR0ZXJuSW5kZXgrKztcbiAgICB9XG4gIH0gLy8gcGxvdCB0aGUgZmlyc3Qgc2VnbWVudFxuXG5cbiAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICBzZWVJZlN0cm9rZU5lZWRlZCgwKTtcbiAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKGNwWzBdLCBjcFsxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10pO1xuXG4gIGZvciAodmFyIF9pID0gMjsgX2kgPCBuIC0gNTsgX2kgKz0gMikge1xuICAgIHNlZUlmU3Ryb2tlTmVlZGVkKF9pKTtcbiAgICBjb250ZXh0LmJlemllckN1cnZlVG8oY3BbMiAqIF9pIC0gMl0sIGNwWzIgKiBfaSAtIDFdLCBjcFsyICogX2ldLCBjcFsyICogX2kgKyAxXSwgcG9pbnRzW19pICsgMl0sIHBvaW50c1tfaSArIDNdKTtcbiAgfSAvLyBwbG90IHRoZSBsYXN0IHNlZ21lbnRcblxuXG4gIHNlZUlmU3Ryb2tlTmVlZGVkKG4gLSA0KTtcbiAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKGNwWzIgKiBuIC0gMTBdLCBjcFsyICogbiAtIDldLCBwb2ludHNbbiAtIDJdLCBwb2ludHNbbiAtIDFdKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvVHJhbnNsYXRpb24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogVHJhbnNsYXRpb24sIHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVHJhbnNsYXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUcmFuc2xhdGlvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHQ7IH0pO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgbGFuZ19tYXAgPSB7fTtcbnZhciBUcmFuc2xhdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRyYW5zbGF0aW9uKCkge1xuICAgIHZhciBsYW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnZW4nO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zbGF0aW9uKTtcblxuICAgIHRoaXMubGFuZyA9IGxhbmc7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNsYXRpb24sIFt7XG4gICAga2V5OiBcInNldExhbmd1YWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldExhbmd1YWdlKGxhbmcpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChsYW5nX21hcFtsYW5nXSB8fCBsYW5nID09PSAnZW4nKSB7XG4gICAgICAgIHRoaXMubGFuZyA9IGxhbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi90cmFuc2xhdGlvbiBsYXp5IHJlY3Vyc2l2ZSBeXFxcXC5cXFxcLy4qXFxcXC5qc29uJFwiKShcIi4vXCIuY29uY2F0KGxhbmcsIFwiLmpzb25cIikpLnRoZW4oZnVuY3Rpb24gKGltcG9ydGVkX2xhbmcpIHtcbiAgICAgICAgICBpZiAoaW1wb3J0ZWRfbGFuZykge1xuICAgICAgICAgICAgbGFuZ19tYXBbbGFuZ10gPSBpbXBvcnRlZF9sYW5nW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgICAgIF90aGlzLmxhbmcgPSBsYW5nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbnN1cHBvcnRlZCBsYW5ndWFnZTonLCBsYW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gYXJncyBpbmNsdWRlIHN0cmluZyB0byBiZSB0cmFuc2xhdGVkLCBpdHMgcGx1cmFsIGZvcm0sXG4gICAgICogYW5kIG9iamVjdCBjb250YWluaW5nIGtleSB2YWx1ZSBwYWlyIGZvciByZXBsYWNlbWVudCBpbiB0cmFuc2xhdGVkIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEZvciBlZzogdHJhbnNsYXRlKCdfbiBIb3VyJywnX24gSG91cnMnLHsnX24nOjJ9KVxuICAgICAqIE5vdGU6IFRoZSBmaXJzdCBrZXktdmFsdWUgcGFpciB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBwbHVyYWwgZm9ybS5cbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidHJhbnNsYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zbGF0ZSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3Vycl9sYW5nID0gbGFuZ19tYXBbdGhpcy5sYW5nXTtcbiAgICAgIHZhciBrZXkgPSBhcmdzWzBdLnRyaW0oKTtcbiAgICAgIHZhciBrZXlfd2l0aF9xdW90YXRpb24gPSBrZXkucmVwbGFjZSgvXCIvZ2ksICdcXFxcXCInKTtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlLWxpbmUgKi9cblxuICAgICAgdmFyIHRyYW5zbGF0ZWQgPSBrZXk7XG4gICAgICB2YXIgaGFzX3F1b3RhdGlvbiA9IGZhbHNlO1xuXG4gICAgICBpZiAoY3Vycl9sYW5nICYmIGN1cnJfbGFuZ1trZXldKSB7XG4gICAgICAgIHRyYW5zbGF0ZWQgPSBjdXJyX2xhbmdba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoY3Vycl9sYW5nICYmIGN1cnJfbGFuZ1trZXlfd2l0aF9xdW90YXRpb25dKSB7XG4gICAgICAgIHRyYW5zbGF0ZWQgPSBjdXJyX2xhbmdba2V5X3dpdGhfcXVvdGF0aW9uXTtcbiAgICAgICAgaGFzX3F1b3RhdGlvbiA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChhcmdzWzFdKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGFyZ3NbMV0pLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICB0cmFuc2xhdGVkID0gdHJhbnNsYXRlZC5yZXBsYWNlKFwiW1wiLmNvbmNhdChwcm9wLCBcIl1cIiksIGFyZ3NbMV1bcHJvcF0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhhc19xdW90YXRpb24gPyB0cmFuc2xhdGVkLnJlcGxhY2UoL1xcXFxcXFwiL2dpLCAnXCInKSA6IHRyYW5zbGF0ZWQ7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZS1saW5lICovXG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYW5zbGF0aW9uO1xufSgpO1xudmFyIHRyYW5zID0gbmV3IFRyYW5zbGF0aW9uKCk7XG52YXIgdCA9IHRyYW5zO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9iaW5hcnlhcGkvQWN0aXZlU3ltYm9scy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9iaW5hcnlhcGkvQWN0aXZlU3ltYm9scy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBBY3RpdmVTeW1ib2xzOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19QZW5kaW5nUHJvbWlzZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvUGVuZGluZ1Byb21pc2UgKi8gXCIuL3NyYy91dGlscy9QZW5kaW5nUHJvbWlzZS5qc1wiKTtcbnZhciBfZGVjLCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF90ZW1wO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cblxuXG5cbnZhciBEZWZhdWx0U3ltYm9scyA9IFsnZm9yZXgnLCAnaW5kaWNlcycsICdzdG9ja3MnLCAnY29tbW9kaXRpZXMnLCAnc3ludGhldGljX2luZGV4J107XG52YXIgQWN0aXZlU3ltYm9scyA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQWN0aXZlU3ltYm9scyhhcGksIHRyYWRpbmdUaW1lcywgcGFyYW1zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjdGl2ZVN5bWJvbHMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjaGFuZ2VzXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2F0ZWdvcml6ZWRTeW1ib2xzXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICB0aGlzLnN5bWJvbE1hcCA9IHt9O1xuICAgIHRoaXMuc3ltYm9sc1Byb21pc2UgPSBuZXcgX3V0aWxzX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKCk7XG4gICAgdGhpcy5pc1JldHJpZXZpbmdTeW1ib2xzID0gZmFsc2U7XG4gICAgdGhpcy5fYXBpID0gYXBpO1xuICAgIHRoaXMuX3RyYWRpbmdUaW1lcyA9IHRyYWRpbmdUaW1lcztcbiAgICB0aGlzLl9wYXJhbXMgPSBwYXJhbXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQWN0aXZlU3ltYm9scywgW3tcbiAgICBrZXk6IFwicmV0cmlldmVBY3RpdmVTeW1ib2xzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmV0cmlldmVBY3RpdmVTeW1ib2xzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciByZXRyaWV2ZU5ld0FjdGl2ZVN5bWJvbHMsXG4gICAgICAgICAgICBhY3RpdmVfc3ltYm9scyxcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgX2l0ZXJhdG9yLFxuICAgICAgICAgICAgX3N0ZXAsXG4gICAgICAgICAgICBzeW1ib2xPYmosXG4gICAgICAgICAgICBfYXJncyA9IGFyZ3VtZW50cztcblxuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0cmlldmVOZXdBY3RpdmVTeW1ib2xzID0gX2FyZ3MubGVuZ3RoID4gMCAmJiBfYXJnc1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbMF0gOiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICghKHRoaXMuaXNSZXRyaWV2aW5nU3ltYm9scyAmJiAhcmV0cmlldmVOZXdBY3RpdmVTeW1ib2xzKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zeW1ib2xzUHJvbWlzZTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCB0aGlzLmFjdGl2ZVN5bWJvbHMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmV0cmlldmluZ1N5bWJvbHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFjdGl2ZV9zeW1ib2xzID0gW107XG5cbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLl9wYXJhbXMuaW5pdGlhbERhdGEgJiYgIXRoaXMucHJvY2Vzc2VkU3ltYm9scykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFjdGl2ZV9zeW1ib2xzID0gdGhpcy5fcGFyYW1zLmluaXRpYWxEYXRhO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIGlmICghKHRoaXMuX3BhcmFtcy5lbmFibGUgIT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hcGkuZ2V0QWN0aXZlU3ltYm9scygpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgICAgIGFjdGl2ZV9zeW1ib2xzID0gcmVzcG9uc2UuYWN0aXZlX3N5bWJvbHM7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQWN0aXZlU3ltYm9scyBmZWVkIGlzIG5vdCBlbmFibGUgbm9yIGhhcyBpbml0aWFsIGRhdGEhJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJydW5JbkFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgX3RoaXMucHJvY2Vzc2VkU3ltYm9scyA9IF90aGlzLl9wcm9jZXNzU3ltYm9scyhhY3RpdmVfc3ltYm9scyk7XG4gICAgICAgICAgICAgICAgICBfdGhpcy5jYXRlZ29yaXplZFN5bWJvbHMgPSBfdGhpcy5fY2F0ZWdvcml6ZUFjdGl2ZVN5bWJvbHMoX3RoaXMucHJvY2Vzc2VkU3ltYm9scyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5wcm9jZXNzZWRTeW1ib2xzKTtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgICAgICAgICAgICBzeW1ib2xPYmogPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW1ib2xNYXBbc3ltYm9sT2JqLnN5bWJvbF0gPSBzeW1ib2xPYmo7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyYWRpbmdUaW1lcy5vbk1hcmtldE9wZW5DbG9zZUNoYW5nZWQoT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXSkoZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIHN5bWJvbCBpbiBjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzeW1PYmogPSBfdGhpcy5zeW1ib2xNYXBbc3ltYm9sXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ltT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3ltT2JqLmV4Y2hhbmdlX2lzX29wZW4gPSBjaGFuZ2VzW3N5bWJvbF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgX3RoaXMuY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zeW1ib2xzUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCB0aGlzLmFjdGl2ZVN5bWJvbHMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJldHJpZXZlQWN0aXZlU3ltYm9scygpIHtcbiAgICAgICAgcmV0dXJuIF9yZXRyaWV2ZUFjdGl2ZVN5bWJvbHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldHJpZXZlQWN0aXZlU3ltYm9scztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJnZXRTeW1ib2xPYmpcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3ltYm9sT2JqKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3ltYm9sTWFwW3N5bWJvbF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9wcm9jZXNzU3ltYm9sc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJvY2Vzc1N5bWJvbHMoc3ltYm9scykge1xuICAgICAgdmFyIHByb2Nlc3NlZFN5bWJvbHMgPSBbXTsgLy8gU3RhYmxlIHNvcnQgaXMgcmVxdWlyZWQgdG8gcmV0YWluIHRoZSBvcmRlciBvZiB0aGUgc3ltYm9sIG5hbWVcblxuICAgICAgT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wic3RhYmxlU29ydFwiXSkoc3ltYm9scywgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEuc3VibWFya2V0X2Rpc3BsYXlfbmFtZS5sb2NhbGVDb21wYXJlKGIuc3VibWFya2V0X2Rpc3BsYXlfbmFtZSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzeW1ib2xzKSxcbiAgICAgICAgICBfc3RlcDI7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIHMgPSBfc3RlcDIudmFsdWU7XG4gICAgICAgICAgcHJvY2Vzc2VkU3ltYm9scy5wdXNoKHtcbiAgICAgICAgICAgIHN5bWJvbDogcy5zeW1ib2wsXG4gICAgICAgICAgICBuYW1lOiBzLmRpc3BsYXlfbmFtZSxcbiAgICAgICAgICAgIG1hcmtldDogcy5tYXJrZXQsXG4gICAgICAgICAgICBtYXJrZXRfZGlzcGxheV9uYW1lOiBzLm1hcmtldF9kaXNwbGF5X25hbWUsXG4gICAgICAgICAgICBzdWJtYXJrZXRfZGlzcGxheV9uYW1lOiBzLnN1Ym1hcmtldF9kaXNwbGF5X25hbWUsXG4gICAgICAgICAgICBleGNoYW5nZV9pc19vcGVuOiAhIXMuZXhjaGFuZ2VfaXNfb3BlbixcbiAgICAgICAgICAgIGRlY2ltYWxfcGxhY2VzOiBzLnBpcC50b1N0cmluZygpLmxlbmd0aCAtIDJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSAvLyBDYXRlZ29yaXplIHN5bWJvbHMgaW4gb3JkZXIgZGVmaW5lZCBieSBhbm90aGVyIGFycmF5OyB0aGVyZSdzIHByb2JhYmx5IGEgbW9yZVxuICAgICAgICAvLyBlZmZpY2llbnQgYWxnbyBmb3IgdGhpcywgYnV0IGZvciBqdXN0IH4xMDAgaXRlbXMgaXQncyBub3Qgd29ydGggdGhlIGVmZm9ydFxuXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IyLmYoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9yZGVyZWRNYXJrZXRzID0gdHlwZW9mIHRoaXMuX3BhcmFtcy5nZXRNYXJrZXRzT3JkZXIgPT09ICdmdW5jdGlvbicgPyB0aGlzLl9wYXJhbXMuZ2V0TWFya2V0c09yZGVyKHN5bWJvbHMpIDogRGVmYXVsdFN5bWJvbHM7XG4gICAgICB2YXIgb3JkZXJlZFN5bWJvbHMgPSBbXTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvcmRlcmVkTWFya2V0cyksXG4gICAgICAgICAgX3N0ZXAzO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBvID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwcm9jZXNzZWRTeW1ib2xzKSxcbiAgICAgICAgICAgICAgX3N0ZXA0O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICAgIHZhciBwID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgICAgICAgIGlmIChvID09PSBwLm1hcmtldCkge1xuICAgICAgICAgICAgICAgIG9yZGVyZWRTeW1ib2xzLnB1c2gocCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBfaXRlcmF0b3I0LmYoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3JkZXJlZFN5bWJvbHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jYXRlZ29yaXplQWN0aXZlU3ltYm9sc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2F0ZWdvcml6ZUFjdGl2ZVN5bWJvbHMoYWN0aXZlU3ltYm9scykge1xuICAgICAgdmFyIGNhdGVnb3JpemVkU3ltYm9scyA9IFtdO1xuICAgICAgdmFyIGZpcnN0ID0gYWN0aXZlU3ltYm9sc1swXTtcblxuICAgICAgdmFyIGdldFN1YmNhdGVnb3J5ID0gZnVuY3Rpb24gZ2V0U3ViY2F0ZWdvcnkoZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1YmNhdGVnb3J5TmFtZTogZC5zdWJtYXJrZXRfZGlzcGxheV9uYW1lLFxuICAgICAgICAgIGRhdGE6IFtdXG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICB2YXIgZ2V0Q2F0ZWdvcnkgPSBmdW5jdGlvbiBnZXRDYXRlZ29yeShkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY2F0ZWdvcnlOYW1lOiBkLm1hcmtldF9kaXNwbGF5X25hbWUsXG4gICAgICAgICAgY2F0ZWdvcnlJZDogZC5tYXJrZXQsXG4gICAgICAgICAgaGFzU3ViY2F0ZWdvcnk6IHRydWUsXG4gICAgICAgICAgZGF0YTogW11cbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBzdWJjYXRlZ29yeSA9IGdldFN1YmNhdGVnb3J5KGZpcnN0KTtcbiAgICAgIHZhciBjYXRlZ29yeSA9IGdldENhdGVnb3J5KGZpcnN0KTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhY3RpdmVTeW1ib2xzKSxcbiAgICAgICAgICBfc3RlcDU7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIHN5bWJvbCA9IF9zdGVwNS52YWx1ZTtcblxuICAgICAgICAgIGlmIChjYXRlZ29yeS5jYXRlZ29yeU5hbWUgIT09IHN5bWJvbC5tYXJrZXRfZGlzcGxheV9uYW1lKSB7XG4gICAgICAgICAgICBjYXRlZ29yeS5kYXRhLnB1c2goc3ViY2F0ZWdvcnkpO1xuICAgICAgICAgICAgY2F0ZWdvcml6ZWRTeW1ib2xzLnB1c2goY2F0ZWdvcnkpO1xuICAgICAgICAgICAgc3ViY2F0ZWdvcnkgPSBnZXRTdWJjYXRlZ29yeShzeW1ib2wpO1xuICAgICAgICAgICAgY2F0ZWdvcnkgPSBnZXRDYXRlZ29yeShzeW1ib2wpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdWJjYXRlZ29yeS5zdWJjYXRlZ29yeU5hbWUgIT09IHN5bWJvbC5zdWJtYXJrZXRfZGlzcGxheV9uYW1lKSB7XG4gICAgICAgICAgICBjYXRlZ29yeS5kYXRhLnB1c2goc3ViY2F0ZWdvcnkpO1xuICAgICAgICAgICAgc3ViY2F0ZWdvcnkgPSBnZXRTdWJjYXRlZ29yeShzeW1ib2wpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN1YmNhdGVnb3J5LmRhdGEucHVzaCh7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgaXRlbUlkOiBzeW1ib2wuc3ltYm9sLFxuICAgICAgICAgICAgZGlzcGxheTogc3ltYm9sLm5hbWUsXG4gICAgICAgICAgICBkYXRhT2JqZWN0OiBzeW1ib2xcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvcjUuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yNS5mKCk7XG4gICAgICB9XG5cbiAgICAgIGNhdGVnb3J5LmRhdGEucHVzaChzdWJjYXRlZ29yeSk7XG4gICAgICBjYXRlZ29yaXplZFN5bWJvbHMucHVzaChjYXRlZ29yeSk7XG4gICAgICByZXR1cm4gY2F0ZWdvcml6ZWRTeW1ib2xzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhY3RpdmVTeW1ib2xzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGNhdGVnb3JpemVkID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY2xvbmVDYXRlZ29yaWVzXCJdKSh0aGlzLmNhdGVnb3JpemVkU3ltYm9scywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIHN5bWJvbCA9IGl0ZW0uZGF0YU9iamVjdC5zeW1ib2w7XG5cbiAgICAgICAgaWYgKHN5bWJvbCBpbiBfdGhpczIuY2hhbmdlcykge1xuICAgICAgICAgIGl0ZW0uZGF0YU9iamVjdC5leGNoYW5nZV9pc19vcGVuID0gX3RoaXMyLmNoYW5nZXNbc3ltYm9sXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNhdGVnb3JpemVkO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBY3RpdmVTeW1ib2xzO1xufSgpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjaGFuZ2VzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNhdGVnb3JpemVkU3ltYm9sc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZXRyaWV2ZUFjdGl2ZVN5bWJvbHNcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmV0cmlldmVBY3RpdmVTeW1ib2xzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFjdGl2ZVN5bWJvbHNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFjdGl2ZVN5bWJvbHNcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvYmluYXJ5YXBpL0JpbmFyeUFQSS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2JpbmFyeWFwaS9CaW5hcnlBUEkuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBCaW5hcnlBUEk7IH0pO1xuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIEJpbmFyeUFQSSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhCaW5hcnlBUEksIG51bGwsIFt7XG4gICAga2V5OiBcIkRFRkFVTFRfQ09VTlRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAxMDAwO1xuICAgIH1cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIEJpbmFyeUFQSShyZXF1ZXN0QVBJLCByZXF1ZXN0U3Vic2NyaWJlLCByZXF1ZXN0Rm9yZ2V0LCByZXF1ZXN0Rm9yZ2V0U3RyZWFtKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJpbmFyeUFQSSk7XG5cbiAgICB0aGlzLnN0cmVhbVJlcXVlc3RzID0ge307XG4gICAgdGhpcy50cmFkaW5nVGltZXNDYWNoZSA9IG51bGw7XG4gICAgdGhpcy5yZXF1ZXN0QVBJID0gcmVxdWVzdEFQSTtcbiAgICB0aGlzLnJlcXVlc3RTdWJzY3JpYmUgPSByZXF1ZXN0U3Vic2NyaWJlO1xuICAgIHRoaXMucmVxdWVzdEZvcmdldCA9IHJlcXVlc3RGb3JnZXQ7XG4gICAgdGhpcy5yZXF1ZXN0Rm9yZ2V0U3RyZWFtID0gcmVxdWVzdEZvcmdldFN0cmVhbTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhCaW5hcnlBUEksIFt7XG4gICAga2V5OiBcImdldEFjdGl2ZVN5bWJvbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWN0aXZlU3ltYm9scygpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RBUEkoe1xuICAgICAgICBhY3RpdmVfc3ltYm9sczogJ2JyaWVmJ1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFNlcnZlclRpbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VydmVyVGltZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RBUEkoe1xuICAgICAgICB0aW1lOiAxXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VHJhZGluZ1RpbWVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0VHJhZGluZ1RpbWVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICB2YXIgdHJhZGluZ190aW1lcyxcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0cmFkaW5nX3RpbWVzID0gX2FyZ3MubGVuZ3RoID4gMCAmJiBfYXJnc1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbMF0gOiAndG9kYXknO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy50cmFkaW5nVGltZXNDYWNoZSAmJiB0aGlzLnRyYWRpbmdUaW1lc0NhY2hlLnRyYWRpbmdfdGltZXMgPT09IHRyYWRpbmdfdGltZXMpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgX29iamVjdFNwcmVhZCh7fSwgdGhpcy50cmFkaW5nVGltZXNDYWNoZSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QVBJKHtcbiAgICAgICAgICAgICAgICAgIHRyYWRpbmdfdGltZXM6IHRyYWRpbmdfdGltZXNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRyYWRpbmdfdGltZXMgIT09ICd0b2RheScpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ1RpbWVzQ2FjaGUgPSBfb2JqZWN0U3ByZWFkKHt9LCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCByZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRUcmFkaW5nVGltZXMoKSB7XG4gICAgICAgIHJldHVybiBfZ2V0VHJhZGluZ1RpbWVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRUcmFkaW5nVGltZXM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VGlja0hpc3RvcnlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGlja0hpc3RvcnkocGFyYW1zKSB7XG4gICAgICB2YXIgcmVxdWVzdCA9IEJpbmFyeUFQSS5jcmVhdGVUaWNrSGlzdG9yeVJlcXVlc3QocGFyYW1zKTtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RBUEkocmVxdWVzdCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN1YnNjcmliZVRpY2tIaXN0b3J5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YnNjcmliZVRpY2tIaXN0b3J5KHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICAgIHZhciBrZXkgPSB0aGlzLl9nZXRLZXkocGFyYW1zKTtcblxuICAgICAgdmFyIHJlcXVlc3QgPSBCaW5hcnlBUEkuY3JlYXRlVGlja0hpc3RvcnlSZXF1ZXN0KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFyYW1zKSwge30sIHtcbiAgICAgICAgc3Vic2NyaWJlOiAxXG4gICAgICB9KSk7XG4gICAgICB0aGlzLnN0cmVhbVJlcXVlc3RzW2tleV0gPSB7XG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3QsXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgfTsgLy8gU2VuZCBhIGNvcHkgb2YgdGhlIHJlcXVlc3QsIGluIGNhc2UgaXQgZ2V0cyBtdXRhdGVkIG91dHNpZGVcblxuICAgICAgdGhpcy5yZXF1ZXN0U3Vic2NyaWJlKF9vYmplY3RTcHJlYWQoe30sIHJlcXVlc3QpLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcmdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JnZXQocGFyYW1zKSB7XG4gICAgICB2YXIga2V5ID0gdGhpcy5fZ2V0S2V5KHBhcmFtcyk7XG5cbiAgICAgIGlmICghdGhpcy5zdHJlYW1SZXF1ZXN0c1trZXldKSByZXR1cm47XG4gICAgICB2YXIgX3RoaXMkc3RyZWFtUmVxdWVzdHMkID0gdGhpcy5zdHJlYW1SZXF1ZXN0c1trZXldLFxuICAgICAgICAgIHJlcXVlc3QgPSBfdGhpcyRzdHJlYW1SZXF1ZXN0cyQucmVxdWVzdCxcbiAgICAgICAgICBjYWxsYmFjayA9IF90aGlzJHN0cmVhbVJlcXVlc3RzJC5jYWxsYmFjaztcbiAgICAgIGRlbGV0ZSB0aGlzLnN0cmVhbVJlcXVlc3RzW2tleV07XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Rm9yZ2V0KHJlcXVlc3QsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yZ2V0U3RyZWFtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcmdldFN0cmVhbShzdWJzY3JpcHRpb25faWQpIHtcbiAgICAgIGlmICh0aGlzLnJlcXVlc3RGb3JnZXRTdHJlYW0gJiYgdHlwZW9mIHRoaXMucmVxdWVzdEZvcmdldFN0cmVhbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Rm9yZ2V0U3RyZWFtKHN1YnNjcmlwdGlvbl9pZCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRLZXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEtleShfcmVmKSB7XG4gICAgICB2YXIgc3ltYm9sID0gX3JlZi5zeW1ib2wsXG4gICAgICAgICAgZ3JhbnVsYXJpdHkgPSBfcmVmLmdyYW51bGFyaXR5O1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHN5bWJvbCwgXCItXCIpLmNvbmNhdChncmFudWxhcml0eSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlVGlja0hpc3RvcnlSZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVRpY2tIaXN0b3J5UmVxdWVzdChfcmVmMikge1xuICAgICAgdmFyIHN5bWJvbCA9IF9yZWYyLnN5bWJvbCxcbiAgICAgICAgICBncmFudWxhcml0eSA9IF9yZWYyLmdyYW51bGFyaXR5LFxuICAgICAgICAgIHN0YXJ0ID0gX3JlZjIuc3RhcnQsXG4gICAgICAgICAgZW5kID0gX3JlZjIuZW5kLFxuICAgICAgICAgIHN1YnNjcmliZSA9IF9yZWYyLnN1YnNjcmliZSxcbiAgICAgICAgICBfcmVmMiRhZGp1c3Rfc3RhcnRfdGkgPSBfcmVmMi5hZGp1c3Rfc3RhcnRfdGltZSxcbiAgICAgICAgICBhZGp1c3Rfc3RhcnRfdGltZSA9IF9yZWYyJGFkanVzdF9zdGFydF90aSA9PT0gdm9pZCAwID8gMSA6IF9yZWYyJGFkanVzdF9zdGFydF90aSxcbiAgICAgICAgICBjb3VudCA9IF9yZWYyLmNvdW50O1xuICAgICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICAgIHRpY2tzX2hpc3Rvcnk6IHN5bWJvbCxcbiAgICAgICAgc3R5bGU6ICtncmFudWxhcml0eSA/ICdjYW5kbGVzJyA6ICd0aWNrcycsXG4gICAgICAgIGVuZDogJ2xhdGVzdCcsXG4gICAgICAgIGNvdW50OiBjb3VudCB8fCBCaW5hcnlBUEkuREVGQVVMVF9DT1VOVFxuICAgICAgfTtcblxuICAgICAgaWYgKGdyYW51bGFyaXR5KSB7XG4gICAgICAgIC8vIGdyYW51bGFyaXR5IHdpbGwgb25seSBiZSBzZXQgaWYgc3R5bGU9Y2FuZGxlc1xuICAgICAgICByZXF1ZXN0LmdyYW51bGFyaXR5ID0gK2dyYW51bGFyaXR5O1xuICAgICAgfVxuXG4gICAgICBpZiAoYWRqdXN0X3N0YXJ0X3RpbWUpIHtcbiAgICAgICAgcmVxdWVzdC5hZGp1c3Rfc3RhcnRfdGltZSA9IGFkanVzdF9zdGFydF90aW1lO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJlcXVlc3Quc3Vic2NyaWJlID0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXJ0KSB7XG4gICAgICAgIGRlbGV0ZSByZXF1ZXN0LmNvdW50O1xuICAgICAgICByZXF1ZXN0LnN0YXJ0ID0gc3RhcnQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbmQpIHtcbiAgICAgICAgcmVxdWVzdC5lbmQgPSBlbmQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCaW5hcnlBUEk7XG59KCk7XG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9iaW5hcnlhcGkvVHJhZGluZ1RpbWVzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvYmluYXJ5YXBpL1RyYWRpbmdUaW1lcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGV2ZW50LWVtaXR0ZXItZXM2ICovIFwiLi9ub2RlX21vZHVsZXMvZXZlbnQtZW1pdHRlci1lczYvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfU2VydmVyVGltZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvU2VydmVyVGltZSAqLyBcIi4vc3JjL3V0aWxzL1NlcnZlclRpbWUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9QZW5kaW5nUHJvbWlzZSAqLyBcIi4vc3JjL3V0aWxzL1BlbmRpbmdQcm9taXNlLmpzXCIpO1xuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5cblxuXG52YXIgRGF5c09mV2VlayA9IFsnU3VuZGF5cycsICdNb25kYXlzJywgJ1R1ZXNkYXlzJywgJ1dlZG5lc2RheXMnLCAnVGh1cnNkYXlzJywgJ0ZyaWRheXMnLCAnU2F0dXJkYXlzJ107XG5cbnZhciBUcmFkaW5nVGltZXMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoVHJhZGluZ1RpbWVzLCBudWxsLCBbe1xuICAgIGtleTogXCJFVkVOVF9NQVJLRVRfT1BFTl9DTE9TRV9DSEFOR0VcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnRVZFTlRfTUFSS0VUX09QRU5fQ0xPU0VfQ0hBTkdFJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiRkVFRF9VTkFWQUlMQUJMRVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdjaGFydG9ubHknO1xuICAgIH1cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIFRyYWRpbmdUaW1lcyhhcGksIHBhcmFtcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFkaW5nVGltZXMpO1xuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgdGhpcy50cmFkaW5nVGltZXNQcm9taXNlID0gbmV3IF91dGlsc19QZW5kaW5nUHJvbWlzZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSgpO1xuICAgIHRoaXMudGltZVVwZGF0ZUNhbGxiYWNrID0gdm9pZCAwO1xuICAgIHRoaXMuX3BhcmFtcyA9IHBhcmFtcyB8fCB7fTtcbiAgICB0aGlzLl9zaG91bGRGZXRjaFRyYWRpbmdUaW1lcyA9IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuc2hvdWxkRmV0Y2hUcmFkaW5nVGltZXMpIHx8IHRydWU7XG4gICAgdGhpcy5fYXBpID0gYXBpO1xuICAgIHRoaXMuX3NlcnZlclRpbWUgPSBfdXRpbHNfU2VydmVyVGltZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5nZXRJbnN0YW5jZSgpO1xuICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEoe1xuICAgICAgZW1pdERlbGF5OiAwXG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVHJhZGluZ1RpbWVzLCBbe1xuICAgIGtleTogXCJkZXN0cnVjdG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3RydWN0b3IoKSB7XG4gICAgICBpZiAodGhpcy5fdXBkYXRlVGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0ZVRpbWVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5pdGlhbGl6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2luaXRpYWxpemUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBwZXJpb2RpY1VwZGF0ZTtcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZlclRpbWUuaW5pdCh0aGlzLl9hcGksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMudGltZVVwZGF0ZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBfdGhpcy50aW1lVXBkYXRlQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMudHJhZGluZ1RpbWVzUHJvbWlzZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VXBkYXRlRGF0ZSA9IHRoaXMuX3NlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEoIXRoaXMuX3RyYWRpbmdUaW1lc01hcCAmJiB0aGlzLl9zaG91bGRGZXRjaFRyYWRpbmdUaW1lcykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZVRyYWRlVGltZXMoKTtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nVGltZXNQcm9taXNlLnJlc29sdmUoKTtcblxuICAgICAgICAgICAgICAgIHBlcmlvZGljVXBkYXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhbmdlZCwgbmV4dFVwZGF0ZSwgbm93LCBuZXh0VXBkYXRlRGF0ZSwgaXNPcGVuTWFwLCBrZXksIF9rZXksIHdhaXRQZXJpb2Q7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSBfdGhpcy5fdXBkYXRlTWFya2V0T3BlbkNsb3NlZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNoYW5nZWQpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9lbWl0dGVyLmVtaXQoVHJhZGluZ1RpbWVzLkVWRU5UX01BUktFVF9PUEVOX0NMT1NFX0NIQU5HRSwgY2hhbmdlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFVwZGF0ZSA9IF90aGlzLl9uZXh0VXBkYXRlRGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IF90aGlzLl9zZXJ2ZXJUaW1lLmdldExvY2FsRGF0ZSgpOyAvLyBHZXQgdG9tb3Jyb3cncyBkYXRlIChVVEMpIGFuZCBzZXQgaXQgYXMgbmV4dCB1cGRhdGUgaWYgbm8gbmV4dERhdGUgYXZhaWxhYmxlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VXBkYXRlRGF0ZSA9IG5ldyBEYXRlKFwiXCIuY29uY2F0KF90aGlzLmxhc3RVcGRhdGVEYXRlLCBcIlQwMDowMDowMFpcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRVcGRhdGVEYXRlLnNldERhdGUobmV4dFVwZGF0ZURhdGUuZ2V0RGF0ZSgpICsgMSk7IC8vIGlmIHNvbWVob3cgdGhlIG5leHQgdXBkYXRlIGRhdGUgaXMgaW4gdGhlIHBhc3QsIHVzZSB0aGUgY3VycmVudCBkYXRlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sYXN0VXBkYXRlRGF0ZSA9IChub3cgPiBuZXh0VXBkYXRlRGF0ZSA/IG5vdyA6IG5leHRVcGRhdGVEYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7IC8vIFJldGFpbiB0aGUgY3VycmVudCBtYXJrZXQgb3BlbiBjbG9zZSBzdGF0dXMsIGJlY2F1c2UgdGhlIHRyYWRlIHRpbWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2lsbCBub3cgYmUgdGhlIGZvbGxvd2luZyBkYXk6XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW5NYXAgPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIF90aGlzLl90cmFkaW5nVGltZXNNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbk1hcFtrZXldID0gX3RoaXMuX3RyYWRpbmdUaW1lc01hcFtrZXldLmlzT3BlbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3VwZGF0ZVRyYWRlVGltZXMoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2tleSBpbiBfdGhpcy5fdHJhZGluZ1RpbWVzTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJhZGluZ1RpbWVzTWFwW19rZXldLmlzT3BlbmVkID0gaXNPcGVuTWFwW19rZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gbmV4dCB1cGRhdGUgZGF0ZSB3aWxsIGJlIDAwOjAwIGhvdXJzIChVVEMpIG9mIHRoZSBmb2xsb3dpbmcgZGF5OlxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VXBkYXRlID0gbmV4dFVwZGF0ZURhdGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0UGVyaW9kID0gbmV4dFVwZGF0ZSAtIF90aGlzLl9zZXJ2ZXJUaW1lLmdldExvY2FsRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91cGRhdGVUaW1lciA9IHNldFRpbWVvdXQocGVyaW9kaWNVcGRhdGUsIHdhaXRQZXJpb2QpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7XG4gICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBwZXJpb2RpY1VwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSgpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMztcbiAgICAgICAgICAgICAgICByZXR1cm4gcGVyaW9kaWNVcGRhdGUoKTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBfaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5pdGlhbGl6ZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJfdXBkYXRlTWFya2V0T3BlbkNsb3NlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlTWFya2V0T3BlbkNsb3NlZCgpIHtcbiAgICAgIHZhciBjaGFuZ2VkID0ge307XG5cbiAgICAgIGZvciAodmFyIHN5bWJvbCBpbiB0aGlzLl90cmFkaW5nVGltZXNNYXApIHtcbiAgICAgICAgdmFyIGlzT3BlbmVkID0gdGhpcy5fY2FsY0lzTWFya2V0T3BlbmVkKHN5bWJvbCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RyYWRpbmdUaW1lc01hcFtzeW1ib2xdLmlzT3BlbmVkICE9PSBpc09wZW5lZCkge1xuICAgICAgICAgIHRoaXMuX3RyYWRpbmdUaW1lc01hcFtzeW1ib2xdLmlzT3BlbmVkID0gaXNPcGVuZWQ7XG4gICAgICAgICAgY2hhbmdlZFtzeW1ib2xdID0gaXNPcGVuZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl91cGRhdGVUcmFkZVRpbWVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBkYXRlVHJhZGVUaW1lczIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgcmVzcG9uc2UsIF9yZXNwb25zZSwgZXJyb3IsIG5vdywgZGF0ZVN0ciwgZ2V0VVRDRGF0ZSwgbWFya2V0cywgX2l0ZXJhdG9yLCBfc3RlcCwgbWFya2V0LCBzdWJtYXJrZXRzLCBfaXRlcmF0b3IyLCBfc3RlcDIsIHN1Ym1hcmtldCwgc3ltYm9scywgX2l0ZXJhdG9yMywgX3N0ZXAzLCBfbG9vcDtcblxuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0ge307XG5cbiAgICAgICAgICAgICAgICBpZiAoISghdGhpcy5fdHJhZGluZ1RpbWVzTWFwICYmIHRoaXMuX3BhcmFtcy5pbml0aWFsRGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5fcGFyYW1zLmluaXRpYWxEYXRhO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIGlmICghKHRoaXMuX3BhcmFtcy5lbmFibGUgIT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYXBpLmdldFRyYWRpbmdUaW1lcyh0aGlzLmxhc3RVcGRhdGVEYXRlKTtcblxuICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVHJhZGluZ1RpbWVzIGZlZWQgaXMgbm90IGVuYWJsZSBub3IgaGFzIGluaXRpYWwgZGF0YSEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfcmVzcG9uc2UgPSByZXNwb25zZSwgZXJyb3IgPSBfcmVzcG9uc2UuZXJyb3I7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgdHJhZGluZyB0aW1lcyBvbiBcIi5jb25jYXQodGhpcy5sYXN0VXBkYXRlRGF0ZSwgXCI6IFtcIikuY29uY2F0KGVycm9yLmNvZGUsIFwiXSBcXFwiXCIpLmNvbmNhdChlcnJvci5tZXNzYWdlLCBcIlxcXCJcIikpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhZGluZ1RpbWVzTWFwID0ge307XG4gICAgICAgICAgICAgICAgbm93ID0gdGhpcy5fc2VydmVyVGltZS5nZXRMb2NhbERhdGUoKTtcbiAgICAgICAgICAgICAgICBkYXRlU3RyID0gbm93LnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDExKTtcblxuICAgICAgICAgICAgICAgIGdldFVUQ0RhdGUgPSBmdW5jdGlvbiBnZXRVVENEYXRlKGhvdXIpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShcIlwiLmNvbmNhdChkYXRlU3RyKS5jb25jYXQoaG91ciwgXCJaXCIpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbWFya2V0cyA9IHJlc3BvbnNlLnRyYWRpbmdfdGltZXMubWFya2V0cztcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtYXJrZXRzKTtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXQgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3VibWFya2V0cyA9IG1hcmtldC5zdWJtYXJrZXRzO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc3VibWFya2V0cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWFya2V0ID0gX3N0ZXAyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9scyA9IHN1Ym1hcmtldC5zeW1ib2xzO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHN5bWJvbHMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzeW1ib2xPYmogPSBfc3RlcDMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50cyA9IHN5bWJvbE9iai5ldmVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzID0gc3ltYm9sT2JqLnRpbWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2wgPSBzeW1ib2xPYmouc3ltYm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWVkX2xpY2Vuc2UgPSBzeW1ib2xPYmouZmVlZF9saWNlbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxheV9hbW91bnQgPSBzeW1ib2xPYmouZGVsYXlfYW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcGVuID0gdGltZXMub3BlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2UgPSB0aW1lcy5jbG9zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNDbG9zZWRUb2RheSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBob2xpZGF5cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbG9zZXNfZWFybHkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3BlbnNfbGF0ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuZGF0ZXMuaW5jbHVkZXMoJywnKSA/IGV2ZW50LmRhdGVzLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogZGF0ZS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGV2ZW50LmRlc2NyaXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogZXZlbnQuZGF0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBldmVudC5kZXNjcmlwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKGFyeSwgaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyeS5jb25jYXQoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgW10pLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG93ZXJfZGVzY3JpcHRpb24gPSBldmVudC5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpOyAvLyBPcGVuIExhdGVcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eb3BlbnMgbGF0ZSBcXChhdCAoXFxkezEsMn06XFxkezEsMn0pXFwpJC9nbS50ZXN0KGV2ZW50LmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudF9ob3VyID0gXCJcIi5jb25jYXQobG93ZXJfZGVzY3JpcHRpb24ucmVwbGFjZSgnb3BlbnMgbGF0ZSAoYXQgJywgJycpLnJlcGxhY2UoJyknLCAnJyksIFwiOjAwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRfZGF0ZSA9IGV2ZW50LmRhdGUgPT09ICd0b2RheScgfHwgZXZlbnQuZGF0ZSA9PT0gRGF5c09mV2Vla1tub3cuZ2V0RGF5KCldID8gZGF0ZVN0ci5zdWJzdHJpbmcoMCwgMTApIDogZXZlbnQuZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbnNfbGF0ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBldmVudF9kYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IG5ldyBEYXRlKFwiXCIuY29uY2F0KGV2ZW50X2RhdGUsIFwiVFwiKS5jb25jYXQoZXZlbnRfaG91ciwgXCJaXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZTogbmV3IERhdGUoXCJcIi5jb25jYXQoZXZlbnRfZGF0ZSwgXCJUXCIpLmNvbmNhdChjbG9zZVswXSwgXCJaXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gQ2xvc2UgZWFybHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL15jbG9zZXMgZWFybHkgXFwoYXQgKFxcZHsxLDJ9OlxcZHsxLDJ9KVxcKSQvZ20udGVzdChsb3dlcl9kZXNjcmlwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9ldmVudF9ob3VyID0gXCJcIi5jb25jYXQobG93ZXJfZGVzY3JpcHRpb24ucmVwbGFjZSgnY2xvc2VzIGVhcmx5IChhdCAnLCAnJykucmVwbGFjZSgnKScsICcnKSwgXCI6MDBcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9ldmVudF9kYXRlID0gZXZlbnQuZGF0ZSA9PT0gJ3RvZGF5JyB8fCBldmVudC5kYXRlID09PSBEYXlzT2ZXZWVrW25vdy5nZXREYXkoKV0gPyBkYXRlU3RyLnN1YnN0cmluZygwLCAxMCkgOiBldmVudC5kYXRlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc19lYXJseS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBfZXZlbnRfZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiBuZXcgRGF0ZShcIlwiLmNvbmNhdChfZXZlbnRfZGF0ZSwgXCJUXCIpLmNvbmNhdChvcGVuWzBdLCBcIlpcIikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlOiBuZXcgRGF0ZShcIlwiLmNvbmNhdChfZXZlbnRfZGF0ZSwgXCJUXCIpLmNvbmNhdChfZXZlbnRfaG91ciwgXCJaXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gU3BlY2lhbCBkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0kLy50ZXN0KGV2ZW50LmRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGlkYXlzLnB1c2goZXZlbnQuZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGUgPT09ICd0b2RheScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDbG9zZWRUb2RheSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3RpbWVzID0gdm9pZCAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzT3BlbkFsbERheSA9IG9wZW4ubGVuZ3RoID09PSAxICYmIG9wZW5bMF0gPT09ICcwMDowMDowMCcgJiYgY2xvc2VbMF0gPT09ICcyMzo1OTo1OSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzQ2xvc2VkQWxsRGF5ID0gb3Blbi5sZW5ndGggPT09IDEgJiYgb3BlblswXSA9PT0gJy0tJyAmJiBjbG9zZVswXSA9PT0gJy0tJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNPcGVuQWxsRGF5ICYmICFpc0Nsb3NlZEFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RpbWVzID0gb3Blbi5tYXAoZnVuY3Rpb24gKG9wZW5UaW1lLCBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiBnZXRVVENEYXRlKG9wZW5UaW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZTogZ2V0VVRDRGF0ZShjbG9zZVtpZHhdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLl90cmFkaW5nVGltZXNNYXBbc3ltYm9sXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlZWRfbGljZW5zZTogZmVlZF9saWNlbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDbG9zZWRUb2RheTogaXNDbG9zZWRUb2RheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGlkYXlzOiBob2xpZGF5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc19lYXJseTogY2xvc2VzX2Vhcmx5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbnNfbGF0ZTogb3BlbnNfbGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5X2Ftb3VudDogZGVsYXlfYW1vdW50IHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lczogX3RpbWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuQWxsRGF5OiBpc09wZW5BbGxEYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Nsb3NlZEFsbERheTogaXNDbG9zZWRBbGxEYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfdXBkYXRlVHJhZGVUaW1lcygpIHtcbiAgICAgICAgcmV0dXJuIF91cGRhdGVUcmFkZVRpbWVzMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3VwZGF0ZVRyYWRlVGltZXM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNGZWVkVW5hdmFpbGFibGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNGZWVkVW5hdmFpbGFibGUoc3ltYm9sKSB7XG4gICAgICBpZiAoIXRoaXMuX3RyYWRpbmdUaW1lc01hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghKHN5bWJvbCBpbiB0aGlzLl90cmFkaW5nVGltZXNNYXApKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N5bWJvbCBub3QgaW4gX3RyYWRpbmdUaW1lc01hcDonLCBzeW1ib2wsICcgdHJhZGluZyBtYXA6JywgdGhpcy5fdHJhZGluZ1RpbWVzTWFwKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fdHJhZGluZ1RpbWVzTWFwW3N5bWJvbF0uZmVlZF9saWNlbnNlID09PSBUcmFkaW5nVGltZXMuRkVFRF9VTkFWQUlMQUJMRTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RGVsYXllZE1pbnV0ZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVsYXllZE1pbnV0ZXMoc3ltYm9sKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdHJhZGluZ1RpbWVzTWFwW3N5bWJvbF0uZGVsYXlfYW1vdW50O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc01hcmtldE9wZW5lZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc01hcmtldE9wZW5lZChzeW1ib2wpIHtcbiAgICAgIGlmICghdGhpcy5fdHJhZGluZ1RpbWVzTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCEoc3ltYm9sIGluIHRoaXMuX3RyYWRpbmdUaW1lc01hcCkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignU3ltYm9sIG5vdCBpbiBfdHJhZGluZ1RpbWVzTWFwOicsIHN5bWJvbCwgJyB0cmFkaW5nIG1hcDonLCB0aGlzLl90cmFkaW5nVGltZXNNYXApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl90cmFkaW5nVGltZXNNYXBbc3ltYm9sXS5pc09wZW5lZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2NhbGNJc01hcmtldE9wZW5lZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsY0lzTWFya2V0T3BlbmVkKHN5bWJvbCkge1xuICAgICAgdmFyIG5vdyA9IHRoaXMuX3NlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCk7XG5cbiAgICAgIHZhciBkYXRlU3RyID0gbm93LnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTtcbiAgICAgIHZhciBfdGhpcyRfdHJhZGluZ1RpbWVzTWEgPSB0aGlzLl90cmFkaW5nVGltZXNNYXBbc3ltYm9sXSxcbiAgICAgICAgICB0aW1lcyA9IF90aGlzJF90cmFkaW5nVGltZXNNYS50aW1lcyxcbiAgICAgICAgICBmZWVkX2xpY2Vuc2UgPSBfdGhpcyRfdHJhZGluZ1RpbWVzTWEuZmVlZF9saWNlbnNlLFxuICAgICAgICAgIGlzT3BlbkFsbERheSA9IF90aGlzJF90cmFkaW5nVGltZXNNYS5pc09wZW5BbGxEYXksXG4gICAgICAgICAgaXNDbG9zZWRBbGxEYXkgPSBfdGhpcyRfdHJhZGluZ1RpbWVzTWEuaXNDbG9zZWRBbGxEYXksXG4gICAgICAgICAgaG9saWRheXMgPSBfdGhpcyRfdHJhZGluZ1RpbWVzTWEuaG9saWRheXMsXG4gICAgICAgICAgY2xvc2VzX2Vhcmx5ID0gX3RoaXMkX3RyYWRpbmdUaW1lc01hLmNsb3Nlc19lYXJseSxcbiAgICAgICAgICBvcGVuc19sYXRlID0gX3RoaXMkX3RyYWRpbmdUaW1lc01hLm9wZW5zX2xhdGUsXG4gICAgICAgICAgaXNDbG9zZWRUb2RheSA9IF90aGlzJF90cmFkaW5nVGltZXNNYS5pc0Nsb3NlZFRvZGF5O1xuXG4gICAgICBpZiAoaXNDbG9zZWRBbGxEYXkgfHwgZmVlZF9saWNlbnNlID09PSBUcmFkaW5nVGltZXMuRkVFRF9VTkFWQUlMQUJMRSB8fCBpc0Nsb3NlZFRvZGF5IHx8IGhvbGlkYXlzLmluY2x1ZGVzKGRhdGVTdHIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9wZW5zX2xhdGVfZGF0ZSA9IG9wZW5zX2xhdGUuZmluZChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGUgPT09IGRhdGVTdHI7XG4gICAgICB9KTtcblxuICAgICAgaWYgKG9wZW5zX2xhdGVfZGF0ZSkge1xuICAgICAgICB2YXIgb3BlbiA9IG9wZW5zX2xhdGVfZGF0ZS5vcGVuLFxuICAgICAgICAgICAgY2xvc2UgPSBvcGVuc19sYXRlX2RhdGUuY2xvc2U7XG4gICAgICAgIHJldHVybiAhIShub3cgPj0gb3BlbiAmJiBub3cgPCBjbG9zZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjbG9zZXNfZWFybHlfZGF0ZSA9IGNsb3Nlc19lYXJseS5maW5kKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gZXZlbnQuZGF0ZSA9PT0gZGF0ZVN0cjtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoY2xvc2VzX2Vhcmx5X2RhdGUpIHtcbiAgICAgICAgdmFyIF9vcGVuID0gY2xvc2VzX2Vhcmx5X2RhdGUub3BlbixcbiAgICAgICAgICAgIF9jbG9zZSA9IGNsb3Nlc19lYXJseV9kYXRlLmNsb3NlO1xuICAgICAgICByZXR1cm4gISEobm93ID49IF9vcGVuICYmIG5vdyA8IF9jbG9zZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc09wZW5BbGxEYXkpIHJldHVybiB0cnVlO1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRpbWVzKSxcbiAgICAgICAgICBfc3RlcDQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIHNlc3Npb24gPSBfc3RlcDQudmFsdWU7XG4gICAgICAgICAgdmFyIF9vcGVuMiA9IHNlc3Npb24ub3BlbixcbiAgICAgICAgICAgICAgX2Nsb3NlMiA9IHNlc3Npb24uY2xvc2U7XG5cbiAgICAgICAgICBpZiAobm93ID49IF9vcGVuMiAmJiBub3cgPCBfY2xvc2UyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjQuZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9uZXh0VXBkYXRlRGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbmV4dFVwZGF0ZURhdGUoKSB7XG4gICAgICB2YXIgbm93ID0gdGhpcy5fc2VydmVyVGltZS5nZXRMb2NhbERhdGUoKTtcblxuICAgICAgdmFyIG5leHREYXRlO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5fdHJhZGluZ1RpbWVzTWFwKSB7XG4gICAgICAgIHZhciBfdGhpcyRfdHJhZGluZ1RpbWVzTWEyID0gdGhpcy5fdHJhZGluZ1RpbWVzTWFwW2tleV0sXG4gICAgICAgICAgICB0aW1lcyA9IF90aGlzJF90cmFkaW5nVGltZXNNYTIudGltZXMsXG4gICAgICAgICAgICBmZWVkX2xpY2Vuc2UgPSBfdGhpcyRfdHJhZGluZ1RpbWVzTWEyLmZlZWRfbGljZW5zZSxcbiAgICAgICAgICAgIGlzT3BlbkFsbERheSA9IF90aGlzJF90cmFkaW5nVGltZXNNYTIuaXNPcGVuQWxsRGF5LFxuICAgICAgICAgICAgaXNDbG9zZWRBbGxEYXkgPSBfdGhpcyRfdHJhZGluZ1RpbWVzTWEyLmlzQ2xvc2VkQWxsRGF5O1xuICAgICAgICBpZiAoaXNPcGVuQWxsRGF5IHx8IGlzQ2xvc2VkQWxsRGF5IHx8IGZlZWRfbGljZW5zZSA9PT0gVHJhZGluZ1RpbWVzLkZFRURfVU5BVkFJTEFCTEUpIGNvbnRpbnVlO1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGltZXMpLFxuICAgICAgICAgICAgX3N0ZXA1O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gX3N0ZXA1LnZhbHVlO1xuICAgICAgICAgICAgdmFyIG9wZW4gPSBzZXNzaW9uLm9wZW4sXG4gICAgICAgICAgICAgICAgY2xvc2UgPSBzZXNzaW9uLmNsb3NlO1xuXG4gICAgICAgICAgICBpZiAob3BlbiA+IG5vdyAmJiAoIW5leHREYXRlIHx8IG9wZW4gPCBuZXh0RGF0ZSkpIHtcbiAgICAgICAgICAgICAgbmV4dERhdGUgPSBvcGVuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2xvc2UgPiBub3cgJiYgKCFuZXh0RGF0ZSB8fCBjbG9zZSA8IG5leHREYXRlKSkge1xuICAgICAgICAgICAgICBuZXh0RGF0ZSA9IGNsb3NlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yNS5mKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5leHREYXRlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbk1hcmtldE9wZW5DbG9zZUNoYW5nZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25NYXJrZXRPcGVuQ2xvc2VDaGFuZ2VkKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9lbWl0dGVyLm9uKFRyYWRpbmdUaW1lcy5FVkVOVF9NQVJLRVRfT1BFTl9DTE9TRV9DSEFOR0UsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25UaW1lQ2hhbmdlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblRpbWVDaGFuZ2VkKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnRpbWVVcGRhdGVDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUcmFkaW5nVGltZXM7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoVHJhZGluZ1RpbWVzKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvYmluYXJ5YXBpL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9iaW5hcnlhcGkvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IEFjdGl2ZVN5bWJvbHMsIFRyYWRpbmdUaW1lcywgQmluYXJ5QVBJICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9BY3RpdmVTeW1ib2xzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0FjdGl2ZVN5bWJvbHMgKi8gXCIuL3NyYy9iaW5hcnlhcGkvQWN0aXZlU3ltYm9scy5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkFjdGl2ZVN5bWJvbHNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfQWN0aXZlU3ltYm9sc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVHJhZGluZ1RpbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1RyYWRpbmdUaW1lcyAqLyBcIi4vc3JjL2JpbmFyeWFwaS9UcmFkaW5nVGltZXMuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUcmFkaW5nVGltZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfVHJhZGluZ1RpbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9CaW5hcnlBUElfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQmluYXJ5QVBJICovIFwiLi9zcmMvYmluYXJ5YXBpL0JpbmFyeUFQSS5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkJpbmFyeUFQSVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9CaW5hcnlBUElfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL2JhY2tpbmdTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9iYWNraW5nU3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBCYWNraW5nU3RvcmUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQmFja2luZ1N0b3JlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQmFja2luZ1N0b3JlOyB9KTtcbnZhciBCYWNraW5nU3RvcmUgPSBmdW5jdGlvbiBCYWNraW5nU3RvcmUoKSB7XG4gIENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUuZGlzYWJsZUJhY2tpbmdTdG9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMudXNlQmFja2luZ1N0b3JlKSByZXR1cm47XG4gICAgdmFyIGNhbnZhc2VzID0gW3RoaXMuY2hhcnQuY2FudmFzXTtcbiAgICBpZiAodGhpcy51c2VCYWNrZ3JvdW5kQ2FudmFzKSBjYW52YXNlcy5wdXNoKHRoaXMuY2hhcnQuYmFja2dyb3VuZENhbnZhcyk7XG4gICAgdmFyIGJhY2tpbmcgPSB0aGlzLmJhY2tpbmc7XG4gICAgY2FudmFzZXMuZm9yRWFjaChmdW5jdGlvbiAoY2FudmFzKSB7XG4gICAgICBpZiAoYmFja2luZykge1xuICAgICAgICBpZiAoY2FudmFzLndpZHRoID09PSBiYWNraW5nLnN0eWxlV2lkdGgpIHJldHVybjtcbiAgICAgICAgY2FudmFzLndpZHRoID0gYmFja2luZy5zdHlsZVdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gYmFja2luZy5zdHlsZUhlaWdodDtcbiAgICAgIH1cblxuICAgICAgY2FudmFzLmNvbnRleHQuc2NhbGUoMSwgMSk7XG4gICAgfSk7XG4gICAgdGhpcy5hZGp1c3RlZERpc3BsYXlQaXhlbFJhdGlvID0gMTtcbiAgICB0aGlzLmRyYXcoKTtcbiAgfTtcblxuICBDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLnJlY29uc3RpdHV0ZUJhY2tpbmdTdG9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBBZGRlZCBjaGVjayBmb3IgYmFja2luZ1xuICAgIGlmICghdGhpcy51c2VCYWNraW5nU3RvcmUgfHwgIXRoaXMuYmFja2luZykgcmV0dXJuO1xuICAgIHZhciBjYW52YXNlcyA9IFt0aGlzLmNoYXJ0LmNhbnZhc107XG4gICAgaWYgKHRoaXMudXNlQmFja2dyb3VuZENhbnZhcykgY2FudmFzZXMucHVzaCh0aGlzLmNoYXJ0LmJhY2tncm91bmRDYW52YXMpO1xuICAgIHZhciBiYWNraW5nID0gdGhpcy5iYWNraW5nO1xuICAgIGNhbnZhc2VzLmZvckVhY2goZnVuY3Rpb24gKGNhbnZhcykge1xuICAgICAgaWYgKGNhbnZhcy53aWR0aCA9PT0gYmFja2luZy53aWR0aCkgcmV0dXJuO1xuICAgICAgY2FudmFzLndpZHRoID0gYmFja2luZy53aWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBiYWNraW5nLmhlaWdodDtcbiAgICAgIGNhbnZhcy5jb250ZXh0LnNjYWxlKGJhY2tpbmcucmF0aW8sIGJhY2tpbmcucmF0aW8pO1xuICAgIH0pO1xuICAgIHRoaXMuYWRqdXN0ZWREaXNwbGF5UGl4ZWxSYXRpbyA9IGJhY2tpbmcucmF0aW87XG4gICAgdGhpcy5kcmF3KCk7XG4gIH07XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvY3JlYXRlWEF4aXMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9jcmVhdGVYQXhpcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogY3JlYXRlWEF4aXMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY3JlYXRlWEF4aXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVYQXhpczsgfSk7XG52YXIgY3JlYXRlWEF4aXMgPSBmdW5jdGlvbiBjcmVhdGVYQXhpcygpIHtcbiAgQ0lRLkNoYXJ0RW5naW5lLnByb3RvdHlwZS5hcHBlbmQoJ2NyZWF0ZVhBeGlzJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmNoYXJ0LnhheGlzICYmIHRoaXMuY2hhcnQueGF4aXMubGVuZ3RoICYmIHRoaXMuY2hhcnQueGF4aXNbMF0uRFQpIHtcbiAgICAgIHZhciBmaXJzdCA9IHRoaXMuY2hhcnQueGF4aXNbMF0uRFQudmFsdWVPZigpO1xuICAgICAgdmFyIGxhc3QgPSB0aGlzLmNoYXJ0LnhheGlzLnNsaWNlKC0xKVswXS5EVC52YWx1ZU9mKCk7XG4gICAgICB2YXIgeEF4aXNJbnRlcnZhbCA9IE1hdGguZmxvb3IoKGxhc3QgLSBmaXJzdCkgLyA1MDAwKTtcbiAgICAgIHhBeGlzSW50ZXJ2YWwgPSB4QXhpc0ludGVydmFsID4gNSA/IHhBeGlzSW50ZXJ2YWwgLSB4QXhpc0ludGVydmFsICUgNSA6IHhBeGlzSW50ZXJ2YWw7XG4gICAgICB0aGlzLmNoYXJ0LnhBeGlzLnRpbWVVbml0TXVsdGlwbGllciA9IHhBeGlzSW50ZXJ2YWwgPCAxMDAgPyB4QXhpc0ludGVydmFsIDogMTtcbiAgICAgIHRoaXMuY2hhcnQueEF4aXMudGltZVVuaXQgPSB4QXhpc0ludGVydmFsIDwgMTAwID8gQ0lRLlNFQ09ORCA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL2N1cnJlbnRIUi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9jdXJyZW50SFIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkcmF3Q3VycmVudFByaWNlTGluZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkcmF3Q3VycmVudFByaWNlTGluZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGRyYXdDdXJyZW50UHJpY2VMaW5lOyB9KTtcbi8qIGVzbGludC1kaXNhYmxlICovXG52YXIgZHJhd0N1cnJlbnRQcmljZUxpbmUgPSBmdW5jdGlvbiBkcmF3Q3VycmVudFByaWNlTGluZSgpIHtcbiAgQ0lRLkNoYXJ0RW5naW5lLnByb3RvdHlwZS5kcmF3Q3VycmVudEhSID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnJ1blByZXBlbmQoJ2RyYXdDdXJyZW50SFInLCBhcmd1bWVudHMpKSByZXR1cm47XG4gICAgdGhpcy5sYWJlbFR5cGUgPSAnY3VycmVudFNwb3QnO1xuICAgIHRoaXMueWF4aXNMYWJlbFN0eWxlID0gJ3JvdW5kUmVjdEFycm93JztcbiAgICB2YXIgYmFja2dyb3VuZENvbG9yLCBjb2xvcjtcbiAgICB2YXIgbWFpblNlcmllc1JlbmRlcmVyID0gdGhpcy5tYWluU2VyaWVzUmVuZGVyZXIgfHwge307XG4gICAgaWYgKG1haW5TZXJpZXNSZW5kZXJlci5ub0N1cnJlbnRIUikgcmV0dXJuO1xuICAgIHZhciBoaWdoTG93QmFycyA9IG1haW5TZXJpZXNSZW5kZXJlci5oaWdoTG93QmFycztcblxuICAgIGZvciAodmFyIGNoYXJ0TmFtZSBpbiB0aGlzLmNoYXJ0cykge1xuICAgICAgdmFyIGNoYXJ0ID0gdGhpcy5jaGFydHNbY2hhcnROYW1lXTtcbiAgICAgIHZhciBwYW5lbCA9IGNoYXJ0LnBhbmVsO1xuICAgICAgdmFyIHlBeGlzID0gcGFuZWwueUF4aXM7XG4gICAgICBpZiAocGFuZWwuaGlkZGVuKSBjb250aW51ZTtcbiAgICAgIGlmICh5QXhpcy5kcmF3Q3VycmVudFByaWNlTGFiZWwgPT09IGZhbHNlIHx8IHlBeGlzLm5vRHJhdykgY29udGludWU7XG4gICAgICBpZiAoIW1haW5TZXJpZXNSZW5kZXJlci5wYXJhbXMpIGNvbnRpbnVlO1xuICAgICAgdmFyIHdoaWNoU2V0ID0geUF4aXMud2hpY2hTZXQ7XG4gICAgICBpZiAoIXdoaWNoU2V0KSB3aGljaFNldCA9ICdkYXRhU2V0JztcbiAgICAgIGlmICh0aGlzLmlzSGlzdG9yaWNhbE1vZGVTZXQgJiYgd2hpY2hTZXQgIT09ICdkYXRhU2VnbWVudCcpIGNvbnRpbnVlO1xuICAgICAgdmFyIGwgPSBjaGFydFt3aGljaFNldF0ubGVuZ3RoLFxuICAgICAgICAgIGN3ID0gdGhpcy5sYXlvdXQuY2FuZGxlV2lkdGg7XG5cbiAgICAgIGlmICh3aGljaFNldCA9PSAnZGF0YVNlZ21lbnQnKSB7XG4gICAgICAgIC8vdGhpcyBjcmF6eSBlcXVhdGlvbiBqdXN0IHRvIGZpbmQgdGhlIGxhc3QgYmFyIGRpc3BsYXlpbmcgYXQgbGVhc3QgNTAlIG9uIHRoZSBzY3JlZW5cbiAgICAgICAgd2hpbGUgKGwgPiAoY2hhcnQud2lkdGggLSB0aGlzLm1pY3JvcGl4ZWxzICsgY3cgLyAyICsgMSkgLyBjdykge1xuICAgICAgICAgIGwtLTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobCAmJiBjaGFydFt3aGljaFNldF1bbCAtIDFdKSB7XG4gICAgICAgIHZhciBmaWVsZCA9IGNoYXJ0LmRlZmF1bHRQbG90RmllbGQ7XG4gICAgICAgIGlmICghZmllbGQgfHwgaGlnaExvd0JhcnMpIGZpZWxkID0gJ0Nsb3NlJztcbiAgICAgICAgdmFyIHByZXZDbG9zZSwgY3VycmVudENsb3NlO1xuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBwcmV2Q2xvc2UgPSBjaGFydFt3aGljaFNldF1bLS1sXVtmaWVsZF07XG4gICAgICAgICAgY3VycmVudENsb3NlID0gcHJldkNsb3NlO1xuICAgICAgICAgIGlmIChsID09PSAwKSBicmVhaztcbiAgICAgICAgfSB3aGlsZSAoY3VycmVudENsb3NlID09PSBudWxsIHx8IGN1cnJlbnRDbG9zZSA9PT0gdW5kZWZpbmVkKTtcblxuICAgICAgICBpZiAod2hpY2hTZXQgPT0gJ2RhdGFTZXQnICYmIGNoYXJ0LmN1cnJlbnRRdW90ZSkge1xuICAgICAgICAgIGN1cnJlbnRDbG9zZSA9IGNoYXJ0LmN1cnJlbnRRdW90ZVtmaWVsZF07XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnRbd2hpY2hTZXRdLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgdmFyIHBxdW90ZSA9IGNoYXJ0W3doaWNoU2V0XVtsIC0gMV07XG4gICAgICAgICAgaWYgKHBxdW90ZSkgcHJldkNsb3NlID0gcHF1b3RlW2ZpZWxkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50UXVvdGUgPSB0aGlzLmdldE5lYXJlc3RDbG9zZVF1b3RlKCk7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50Q2xvc2UpIHtcbiAgICAgICAgICBjdXJyZW50Q2xvc2UgPSBjdXJyZW50UXVvdGVbZmllbGRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRDbG9zZSA8IHByZXZDbG9zZSkge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IHRoaXMuY2FudmFzU3R5bGUoJ3N0eF9jdXJyZW50X2hyX2Rvd24nKS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgY29sb3IgPSB0aGlzLmNhbnZhc1N0eWxlKCdzdHhfY3VycmVudF9ocl9kb3duJykuY29sb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gdGhpcy5jYW52YXNTdHlsZSgnc3R4X2N1cnJlbnRfaHJfdXAnKS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgY29sb3IgPSB0aGlzLmNhbnZhc1N0eWxlKCdzdHhfY3VycmVudF9ocl91cCcpLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYXJ0LnRyYW5zZm9ybUZ1bmMpIGN1cnJlbnRDbG9zZSA9IGNoYXJ0LnRyYW5zZm9ybUZ1bmModGhpcywgY2hhcnQsIGN1cnJlbnRDbG9zZSk7XG4gICAgICAgIHZhciB0eHQ7IC8vIElmIGEgY2hhcnQgcGFuZWwsIHRoZW4gYWx3YXlzIGRpc3BsYXkgYXQgbGVhc3QgdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBhcyBjYWxjdWxhdGVkIGJ5IG1hc3RlckRhdGEgKHBhbmVsLmNoYXJ0LmRlY2ltYWxQbGFjZXMpXG4gICAgICAgIC8vIGJ1dCBpZiB3ZSBhcmUgem9vbWVkIHRvIGhpZ2ggZ3JhbnVsYXJpdHkgdGhlbiBleHBhbmQgYWxsIHRoZSB3YXkgb3V0IHRvIHRoZSB5LWF4aXMgc2lnbmlmaWNhbnQgZGlnaXRzIChwYW5lbC55QXhpcy5wcmludERlY2ltYWxQbGFjZXMpXG5cbiAgICAgICAgdmFyIGxhYmVsRGVjaW1hbFBsYWNlcyA9IE1hdGgubWF4KHBhbmVsLnlBeGlzLnByaW50RGVjaW1hbFBsYWNlcywgcGFuZWwuY2hhcnQuZGVjaW1hbFBsYWNlcyk7IC8vICAuLi4gYW5kIG5ldmVyIGRpc3BsYXkgbW9yZSBkZWNpbWFsIHBsYWNlcyB0aGFuIHRoZSBzeW1ib2wgaXMgc3VwcG9zZWQgdG8gYmUgcXVvdGluZyBhdFxuXG4gICAgICAgIGlmICh5QXhpcy5tYXhEZWNpbWFsUGxhY2VzIHx8IHlBeGlzLm1heERlY2ltYWxQbGFjZXMgPT09IDApIGxhYmVsRGVjaW1hbFBsYWNlcyA9IE1hdGgubWluKGxhYmVsRGVjaW1hbFBsYWNlcywgeUF4aXMubWF4RGVjaW1hbFBsYWNlcyk7XG5cbiAgICAgICAgaWYgKHlBeGlzLnByaWNlRm9ybWF0dGVyKSB7XG4gICAgICAgICAgdHh0ID0geUF4aXMucHJpY2VGb3JtYXR0ZXIodGhpcywgcGFuZWwsIGN1cnJlbnRDbG9zZSwgbGFiZWxEZWNpbWFsUGxhY2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0eHQgPSB0aGlzLmZvcm1hdFlBeGlzUHJpY2UoY3VycmVudENsb3NlLCBwYW5lbCwgbGFiZWxEZWNpbWFsUGxhY2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB5ID0gdGhpcy5waXhlbEZyb21UcmFuc2Zvcm1lZFZhbHVlKGN1cnJlbnRDbG9zZSwgcGFuZWwpOyAvLyBLZWVwIGN1cnJlbnQgcHJpY2UgbGFiZWwgcG9zaXRpb24gZm90IGxhdGVyIHdoZW4gd2Ugd2FudCB0byBzaG93IGNvdW50ZG93blxuXG4gICAgICAgIGNoYXJ0LmN1cnJlbnRQcmljZUxhYmVsWSA9IHk7XG4gICAgICAgIHRoaXMuY3JlYXRlWUF4aXNMYWJlbChwYW5lbCwgdHh0LCB5LCBiYWNrZ3JvdW5kQ29sb3IsIGNvbG9yKTtcbiAgICAgICAgdmFyIHggPSBwYW5lbC5sZWZ0O1xuICAgICAgICB2YXIgZW5kT2ZMaW5lID0gcGFuZWwucmlnaHQ7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRRdW90ZSkge1xuICAgICAgICAgIHZhciB0aWNrID0gY3VycmVudFF1b3RlLkNsb3NlID8gY3VycmVudFF1b3RlLnRpY2sgOiBjdXJyZW50UXVvdGUudGljayAtIDE7IC8vIENoYW5nZSB0aGUgcGFuZWwgcG9zaXRpb24gdG8gY3VycmVudCBzcG90IHBvc2l0aW9uIGZvciBkcmF3aW5nIGN1cnJlbnQgcHJpY2UgbGluZVxuXG4gICAgICAgICAgeCA9IHRoaXMucGl4ZWxGcm9tVGljayh0aWNrLCBjaGFydCkgKyAoY2hhcnQubGFzdFRpY2tPZmZzZXQgfHwgMCk7XG4gICAgICAgICAgZW5kT2ZMaW5lIC09IHRoaXMuY2hhcnQuY29udGV4dC5tZWFzdXJlVGV4dCh0eHQpLndpZHRoICogMC40OyAvLyBEcmF3IHRoZSBjaGFydCBmcm9tIHRoZSBjdXJyZW50IHNwb3QgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgcHJpY2UgbGFiZWxcbiAgICAgICAgfVxuXG4gICAgICAgIGVuZE9mTGluZSArPSAyNDsgLy8gd2UgbW92ZSB0aGUgXCJ4XCIgcHNvaXRpb24gZm9yd2FyZCBieSAyNCBvbiBjcmVhdGVZQXhpc0xhYmVsIGluIGNoYXJ0U3RvcmUuanNcblxuICAgICAgICBpZiAodGhpcy5wcmVmZXJlbmNlcy5jdXJyZW50UHJpY2VMaW5lID09PSB0cnVlICYmIHRoaXMuaXNIb21lKCkpIHtcbiAgICAgICAgICB0aGlzLnBsb3RMaW5lKHgsIGVuZE9mTGluZSwgeSwgeSwgYmFja2dyb3VuZENvbG9yLCAnc2VnbWVudCcsIHBhbmVsLmNoYXJ0LmNvbnRleHQsIHBhbmVsLCB7XG4gICAgICAgICAgICBwYXR0ZXJuOiAnZGFzaGVkJyxcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuOCxcbiAgICAgICAgICAgIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjogJ2Rlc3RpbmF0aW9uLW92ZXInXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnlheGlzTGFiZWxTdHlsZSA9ICdyb3VuZFJlY3QnO1xuICAgIHRoaXMubGFiZWxUeXBlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucnVuQXBwZW5kKCdkcmF3Q3VycmVudEhSJywgYXJndW1lbnRzKTtcbiAgfTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9oZWFkc1VwSFIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvaGVhZHNVcEhSLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogbWFpbnRhaW5IZWFkc1VwSFIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibWFpbnRhaW5IZWFkc1VwSFJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBtYWludGFpbkhlYWRzVXBIUjsgfSk7XG52YXIgbWFpbnRhaW5IZWFkc1VwSFIgPSBmdW5jdGlvbiBtYWludGFpbkhlYWRzVXBIUigpIHtcbiAgQ0lRLkNoYXJ0RW5naW5lLnByb3RvdHlwZS5wcmVwZW5kKCdoZWFkc1VwSFInLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFBhbmVsKSB7XG4gICAgICB0aGlzLmxhYmVsVHlwZSA9ICdjcm9zc2hhaXInO1xuICAgIH1cbiAgfSk7XG4gIENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUuYXBwZW5kKCdoZWFkc1VwSFInLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5sYWJlbFR5cGUgPSB1bmRlZmluZWQ7XG4gIH0pO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NyZWF0ZVhBeGlzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NyZWF0ZVhBeGlzICovIFwiLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL2NyZWF0ZVhBeGlzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jdXJyZW50SFJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY3VycmVudEhSICovIFwiLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL2N1cnJlbnRIUi5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaGVhZHNVcEhSX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlYWRzVXBIUiAqLyBcIi4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9oZWFkc1VwSFIuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Bsb3R0ZXJEcmF3VGV4dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9wbG90dGVyRHJhd1RleHQgKi8gXCIuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvcGxvdHRlckRyYXdUZXh0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zZXRNZWFzdXJlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NldE1lYXN1cmUgKi8gXCIuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvc2V0TWVhc3VyZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfYmFja2luZ1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2JhY2tpbmdTdG9yZSAqLyBcIi4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9iYWNraW5nU3RvcmUuanNcIik7XG5cblxuIC8vIGltcG9ydCB7IG1hbmFnZU1hc3RlckRhdGFMZW5ndGggfSBmcm9tICcuL21hbmFnZU1hc3RlckRhdGFMZW5ndGgnO1xuXG5cblxuXG5cbnZhciBpbmplY3QgPSBmdW5jdGlvbiBpbmplY3Qob3B0aW9uKSB7XG4gIE9iamVjdChfY3JlYXRlWEF4aXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNyZWF0ZVhBeGlzXCJdKSgpO1xuICBPYmplY3QoX2N1cnJlbnRIUl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZHJhd0N1cnJlbnRQcmljZUxpbmVcIl0pKCk7XG4gIE9iamVjdChfaGVhZHNVcEhSX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJtYWludGFpbkhlYWRzVXBIUlwiXSkoKTsgLy8gbWFuYWdlTWFzdGVyRGF0YUxlbmd0aCgpO1xuXG4gIE9iamVjdChfcGxvdHRlckRyYXdUZXh0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJwbG90dGVyRHJhd1RleHRcIl0pKCk7XG4gIE9iamVjdChfc2V0TWVhc3VyZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wib3ZlcmlkZU1lYXN1cmVcIl0pKG9wdGlvbik7XG4gIE9iamVjdChfYmFja2luZ1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJCYWNraW5nU3RvcmVcIl0pKCk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGluamVjdCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9wbG90dGVyRHJhd1RleHQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvcGxvdHRlckRyYXdUZXh0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogcGxvdHRlckRyYXdUZXh0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInBsb3R0ZXJEcmF3VGV4dFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBsb3R0ZXJEcmF3VGV4dDsgfSk7XG52YXIgcGxvdHRlckRyYXdUZXh0ID0gZnVuY3Rpb24gcGxvdHRlckRyYXdUZXh0KCkge1xuICAvLyBQbG90dGVyLmRyYXdUZXggZHV0eSBpcyB0byB3cml0ZSB5LWF4aXMgbGFiZWxzLHdoaWNoIGxvY2F0ZWQgaW4gdGhlIFBsb3R0ZXJcbiAgLy8gYXMgdGhlcmUgaXNuJ3QgYW55IG9wdGlvbiB0byBtYWtlIHktYXhpcyB0ZXh0IGFsaWduIGNlbnRlciwgYW5kIGFsc28gdGhlcmVcbiAgLy8gaXNuJ3QgYW55IGluamVjdGlvbiBmb3IgZHJhd1RleHQsIHdlIGhhdmUgdG8gZG8gYSBtb25rZXkgcGF0Y2hpbmcgZm9yIGhhbmRsaW5nXG4gIC8vIHRoaXMgaXNzdWVcbiAgQ0lRLlBsb3R0ZXIucHJvdG90eXBlLmRyYXdUZXh0ID0gZnVuY3Rpb24gKGNvbnRleHQsIHNlcmllcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VyaWVzLnRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0ZXh0T2JqID0gc2VyaWVzLnRleHRbaV07XG4gICAgICB2YXIgdyA9IHRleHRPYmoud2lkdGggPyB0ZXh0T2JqLndpZHRoIDogY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0T2JqLnRleHQpLndpZHRoO1xuICAgICAgdmFyIG9mZnNldCA9IHRoaXMuZ2V0WUF4aXNXaWR0aCgpID8gKHRoaXMuZ2V0WUF4aXNXaWR0aCgpIC0gdykgLyAyIDogMDtcblxuICAgICAgaWYgKHRleHRPYmouYmcpIHtcbiAgICAgICAgdmFyIGggPSB0ZXh0T2JqLmhlaWdodCA/IHRleHRPYmouaGVpZ2h0IDogMTI7XG4gICAgICAgIHZhciBwcmV2ID0gY29udGV4dC5maWxsU3R5bGU7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGV4dE9iai5iZztcblxuICAgICAgICBpZiAoY29udGV4dC50ZXh0QWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KHRleHRPYmoueCwgdGV4dE9iai55IC0gaCAvIDIsIC13LCAtaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGV4dC5maWxsUmVjdCh0ZXh0T2JqLngsIHRleHRPYmoueSAtIGggLyAyLCB3LCBoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gcHJldjtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5maWxsVGV4dCh0ZXh0T2JqLnRleHQsIHRleHRPYmoueCArIG9mZnNldCwgdGV4dE9iai55KTtcbiAgICB9XG4gIH07XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvc2V0TWVhc3VyZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvc2V0TWVhc3VyZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBvdmVyaWRlTWVhc3VyZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm92ZXJpZGVNZWFzdXJlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gb3ZlcmlkZU1lYXN1cmU7IH0pO1xudmFyIG92ZXJpZGVNZWFzdXJlID0gZnVuY3Rpb24gb3ZlcmlkZU1lYXN1cmUob3B0aW9uKSB7XG4gIENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUuYXBwZW5kKCdzZXRNZWFzdXJlJywgZnVuY3Rpb24gKHByaWNlMSwgcHJpY2UyLCB0aWNrMSwgdGljazIsIGhvdmVyKSB7XG4gICAgdmFyIG0gPSAodGhpcy5kcmF3aW5nQ29udGFpbmVyIHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yKCcubU1lYXN1cmUnKTtcbiAgICB2YXIgbWVzc2FnZSA9ICcnO1xuXG4gICAgaWYgKCFwcmljZTEgJiYgcHJpY2UxICE9PSAwKSB7XG4gICAgICBpZiAoIXRoaXMuYW55SGlnaGxpZ2h0ZWQgJiYgdGhpcy5jdXJyZW50VmVjdG9yUGFyYW1ldGVycy52ZWN0b3JUeXBlID09PSAnJykgdGhpcy5jbGVhck1lYXN1cmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByaWNlMiAhPT0gZmFsc2UpIHtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5yb3VuZChNYXRoLmFicyhwcmljZTEgLSBwcmljZTIpICogdGhpcy5jaGFydC5yb3VuZGl0KSAvIHRoaXMuY2hhcnQucm91bmRpdDtcbiAgICAgICAgZGlzdGFuY2UgPSBkaXN0YW5jZS50b0ZpeGVkKHRoaXMuY2hhcnQueUF4aXMucHJpbnREZWNpbWFsUGxhY2VzKTtcblxuICAgICAgICBpZiAodGhpcy5pbnRlcm5hdGlvbmFsaXplcikge1xuICAgICAgICAgIG1lc3NhZ2UgKz0gdGhpcy5pbnRlcm5hdGlvbmFsaXplci5udW1iZXJzLmZvcm1hdChkaXN0YW5jZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVzc2FnZSArPSBkaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwY3Q7XG5cbiAgICAgICAgaWYgKHByaWNlMSA+IDAgJiYgcHJpY2UyID4gMCkge1xuICAgICAgICAgIHBjdCA9IChwcmljZTIgLSBwcmljZTEpIC8gcHJpY2UxO1xuXG4gICAgICAgICAgaWYgKE1hdGguYWJzKHBjdCkgPiAwLjEpIHtcbiAgICAgICAgICAgIHBjdCA9IE1hdGgucm91bmQocGN0ICogMTAwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKHBjdCkgPiAwLjAxKSB7XG4gICAgICAgICAgICBwY3QgPSBNYXRoLnJvdW5kKHBjdCAqIDEwMDApIC8gMTA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBjdCA9IE1hdGgucm91bmQocGN0ICogMTAwMDApIC8gMTAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLmludGVybmF0aW9uYWxpemVyKSB7XG4gICAgICAgICAgICBwY3QgPSB0aGlzLmludGVybmF0aW9uYWxpemVyLnBlcmNlbnQuZm9ybWF0KHBjdCAvIDEwMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBjdCArPSAnJSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWVzc2FnZSArPSBcIiAoXCIuY29uY2F0KHBjdCwgXCIpXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aWNrMiAhPT0gZmFsc2UpIHtcbiAgICAgICAgdmFyIHRpY2tzID0gTWF0aC5hYnModGljazIgLSB0aWNrMSk7XG4gICAgICAgIHRpY2tzID0gTWF0aC5yb3VuZCh0aWNrcykgKyAxO1xuICAgICAgICB2YXIgYmFyc1N0ciA9IHRoaXMudHJhbnNsYXRlSWYoJ0JhcnMnKTtcbiAgICAgICAgbWVzc2FnZSArPSBcIiAoXCIuY29uY2F0KHRpY2tzLCBcIiBcIikuY29uY2F0KGJhcnNTdHIsIFwiKVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG0pIG0uaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY3RpdmVEcmF3aW5nKSByZXR1cm47IC8vIERvbid0IHNob3cgbWVhc3VyZW1lbnQgU3RpY2t5IHdoZW4gaW4gdGhlIHByb2Nlc3Mgb2YgZHJhd2luZ1xuXG4gICAgbSA9IHRoaXMuY29udHJvbHMubVN0aWNreTtcblxuICAgIGlmIChtKSB7XG4gICAgICB2YXIgbVN0aWNreUludGVyaW9yID0gbS5xdWVyeVNlbGVjdG9yKCcubVN0aWNreUludGVyaW9yJyk7XG5cbiAgICAgIGlmIChob3Zlcikge1xuICAgICAgICBtLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgbVN0aWNreUludGVyaW9yLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblxuICAgICAgICBpZiAocHJpY2UxIHx8IHByaWNlMSA9PT0gMCkge1xuICAgICAgICAgIG1TdGlja3lJbnRlcmlvci5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgbS5jbGFzc0xpc3RbbWVzc2FnZSA9PT0gJycgPyAnYWRkJyA6ICdyZW1vdmUnXSgnaGlkZScpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uU3RpY2t5KG0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBtU3RpY2t5SW50ZXJpb3IuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBDSVEuRHJhd2luZy5CYXNlVHdvUG9pbnQucHJvdG90eXBlLm1lYXN1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucDAgJiYgdGhpcy5wMSkge1xuICAgICAgdGhpcy5zdHguc2V0TWVhc3VyZSh0aGlzLnAwWzFdLCB0aGlzLnAxWzFdLCB0aGlzLnAwWzBdLCB0aGlzLnAxWzBdLCB0cnVlLCB0aGlzLm5hbWUpO1xuICAgICAgdmFyIG1TdGlja3kgPSB0aGlzLnN0eC5jb250cm9scy5tU3RpY2t5O1xuICAgICAgdmFyIG1TdGlja3lJbnRlcmlvciA9IG1TdGlja3kgJiYgbVN0aWNreS5xdWVyeVNlbGVjdG9yKCcubVN0aWNreUludGVyaW9yJyk7XG5cbiAgICAgIGlmIChtU3RpY2t5SW50ZXJpb3IpIHtcbiAgICAgICAgdmFyIGxpbmVzID0gW107XG4gICAgICAgIHZhciB0aXRsZSA9IENJUS5jYXBpdGFsaXplKHRoaXMubmFtZSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbi5kcmF3VG9vbHNTdG9yZSkge1xuICAgICAgICAgIHZhciBkcmF3aW5nSXRlbSA9IG9wdGlvbi5kcmF3VG9vbHNTdG9yZS5maW5kQ29tcHV0ZWREcmF3aW5nKHRoaXMpO1xuXG4gICAgICAgICAgaWYgKGRyYXdpbmdJdGVtKSB7XG4gICAgICAgICAgICB0aXRsZSA9IFwiXCIuY29uY2F0KGRyYXdpbmdJdGVtLnByZWZpeCA/IFwiXCIuY29uY2F0KGRyYXdpbmdJdGVtLnByZWZpeCwgXCIgLSBcIikgOiAnJywgXCIgXCIpLmNvbmNhdCh0LnRyYW5zbGF0ZShkcmF3aW5nSXRlbS50ZXh0LCB7XG4gICAgICAgICAgICAgIG51bTogZHJhd2luZ0l0ZW0ubnVtIHx8ICcgJ1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxpbmVzLnB1c2godGl0bGUpO1xuICAgICAgICBpZiAodGhpcy5nZXRZVmFsdWUpIGxpbmVzLnB1c2godGhpcy5maWVsZCB8fCB0aGlzLnN0eC5kZWZhdWx0UGxvdEZpZWxkIHx8ICdDbG9zZScpO1xuICAgICAgICBsaW5lcy5wdXNoKG1TdGlja3lJbnRlcmlvci5pbm5lckhUTUwpO1xuICAgICAgICBtU3RpY2t5SW50ZXJpb3IuaW5uZXJIVE1MID0gbGluZXMuam9pbignICcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0FuaW1hdGVkUHJpY2UuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9BbmltYXRlZFByaWNlLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjbGFzc25hbWVzICovIFwiLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcblxuXG5cbnZhciBBbmltYXRlZFByaWNlID0gZnVuY3Rpb24gQW5pbWF0ZWRQcmljZShfcmVmKSB7XG4gIHZhciBpc0luY3JlYXNlID0gX3JlZi5pc0luY3JlYXNlLFxuICAgICAgcHJpY2UgPSBfcmVmLnByaWNlLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWU7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5GcmFnbWVudCwgbnVsbCwgIXByaWNlICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWNvbXBhcmlzb24tbG9hZGVyIHN0eC1zaG93XCJcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0KCkoJ2NxLWFuaW1hdGVkLXByaWNlJywgY2xhc3NOYW1lLCB7XG4gICAgICAnY3EtdXAnOiBpc0luY3JlYXNlLFxuICAgICAgJ2NxLWRvd24nOiAhaXNJbmNyZWFzZVxuICAgIH0pXG4gIH0sIHByaWNlKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKEFuaW1hdGVkUHJpY2UpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0JhcnJpZXIuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9CYXJyaWVyLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjbGFzc25hbWVzICovIFwiLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0JhcnJpZXJTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQmFycmllclN0b3JlICovIFwiLi9zcmMvc3RvcmUvQmFycmllclN0b3JlLmpzXCIpO1xuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuXG5cblxuXG52YXIgQmFycmllciA9IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5tZW1vKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBfcmVmJHNoYWRlQ29sb3IgPSBfcmVmLnNoYWRlQ29sb3IsXG4gICAgICBzaGFkZUNvbG9yID0gX3JlZiRzaGFkZUNvbG9yID09PSB2b2lkIDAgPyAnIzM5YjE5ZCcgOiBfcmVmJHNoYWRlQ29sb3IsXG4gICAgICBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGNvbG9yID0gX3JlZiRjb2xvciA9PT0gdm9pZCAwID8gJyMzOWIxOWQnIDogX3JlZiRjb2xvcixcbiAgICAgIF9yZWYkZm9yZWdyb3VuZENvbG9yID0gX3JlZi5mb3JlZ3JvdW5kQ29sb3IsXG4gICAgICBmb3JlZ3JvdW5kQ29sb3IgPSBfcmVmJGZvcmVncm91bmRDb2xvciA9PT0gdm9pZCAwID8gJyNmZmZmZmYnIDogX3JlZiRmb3JlZ3JvdW5kQ29sb3IsXG4gICAgICBIaWdoUHJpY2VMaW5lID0gX3JlZi5IaWdoUHJpY2VMaW5lLFxuICAgICAgTG93UHJpY2VMaW5lID0gX3JlZi5Mb3dQcmljZUxpbmUsXG4gICAgICBBYm92ZVNoYWRlID0gX3JlZi5BYm92ZVNoYWRlLFxuICAgICAgQmV0d2VlblNoYWRlID0gX3JlZi5CZXR3ZWVuU2hhZGUsXG4gICAgICBCZWxvd1NoYWRlID0gX3JlZi5CZWxvd1NoYWRlLFxuICAgICAgaGlkZVByaWNlTGluZXMgPSBfcmVmLmhpZGVQcmljZUxpbmVzLFxuICAgICAgbGluZVN0eWxlID0gX3JlZi5saW5lU3R5bGUsXG4gICAgICBpc0luaXRpYWxpemVkID0gX3JlZi5pc0luaXRpYWxpemVkLFxuICAgICAgcHJpY2VMYWJlbFdpZHRoID0gX3JlZi5wcmljZUxhYmVsV2lkdGgsXG4gICAgICBpc1NpbmdsZUJhcnJpZXIgPSBfcmVmLmlzU2luZ2xlQmFycmllcixcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcInNoYWRlQ29sb3JcIiwgXCJjb2xvclwiLCBcImZvcmVncm91bmRDb2xvclwiLCBcIkhpZ2hQcmljZUxpbmVcIiwgXCJMb3dQcmljZUxpbmVcIiwgXCJBYm92ZVNoYWRlXCIsIFwiQmV0d2VlblNoYWRlXCIsIFwiQmVsb3dTaGFkZVwiLCBcImhpZGVQcmljZUxpbmVzXCIsIFwibGluZVN0eWxlXCIsIFwiaXNJbml0aWFsaXplZFwiLCBcInByaWNlTGFiZWxXaWR0aFwiLCBcImlzU2luZ2xlQmFycmllclwiXSk7XG5cbiAgcmV0dXJuIGlzSW5pdGlhbGl6ZWQgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgnYmFycmllcicsIHtcbiAgICAgICdoaWRlLXByaWNlbGluZXMnOiBoaWRlUHJpY2VMaW5lc1xuICAgIH0pLFxuICAgIHN0eWxlOiB7XG4gICAgICAnLS1zaGFkZS1jb2xvcic6IHNoYWRlQ29sb3JcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEhpZ2hQcmljZUxpbmUsIF9leHRlbmRzKHtcbiAgICB3aWR0aDogcHJpY2VMYWJlbFdpZHRoLFxuICAgIGxpbmVTdHlsZTogbGluZVN0eWxlLFxuICAgIGNvbG9yOiBjb2xvcixcbiAgICBmb3JlZ3JvdW5kQ29sb3I6IGZvcmVncm91bmRDb2xvclxuICB9LCBwcm9wcykpLCAhaXNTaW5nbGVCYXJyaWVyICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChMb3dQcmljZUxpbmUsIF9leHRlbmRzKHtcbiAgICB3aWR0aDogcHJpY2VMYWJlbFdpZHRoLFxuICAgIGxpbmVTdHlsZTogbGluZVN0eWxlLFxuICAgIGNvbG9yOiBjb2xvcixcbiAgICBmb3JlZ3JvdW5kQ29sb3I6IGZvcmVncm91bmRDb2xvclxuICB9LCBwcm9wcykpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChBYm92ZVNoYWRlLCBudWxsKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQmV0d2VlblNoYWRlLCBudWxsKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQmVsb3dTaGFkZSwgbnVsbCkpKTtcbn0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIEhpZ2hQcmljZUxpbmU6IHN0b3JlLkhpZ2hQcmljZUxpbmUsXG4gICAgTG93UHJpY2VMaW5lOiBzdG9yZS5Mb3dQcmljZUxpbmUsXG4gICAgQWJvdmVTaGFkZTogc3RvcmUuQWJvdmVTaGFkZSxcbiAgICBCZXR3ZWVuU2hhZGU6IHN0b3JlLkJldHdlZW5TaGFkZSxcbiAgICBCZWxvd1NoYWRlOiBzdG9yZS5CZWxvd1NoYWRlLFxuICAgIHNoYWRlQ29sb3I6IHN0b3JlLnNoYWRlQ29sb3IsXG4gICAgY29sb3I6IHN0b3JlLmNvbG9yLFxuICAgIGZvcmVncm91bmRDb2xvcjogc3RvcmUuZm9yZWdyb3VuZENvbG9yLFxuICAgIGhpZGVCYXJyaWVyTGluZTogc3RvcmUuaGlkZUJhcnJpZXJMaW5lLFxuICAgIGhpZGVPZmZzY3JlZW5CYXJyaWVyOiBzdG9yZS5oaWRlT2Zmc2NyZWVuQmFycmllcixcbiAgICBoaWRlT2Zmc2NyZWVuTGluZTogc3RvcmUuaGlkZU9mZnNjcmVlbkxpbmUsXG4gICAgaGlkZVByaWNlTGluZXM6IHN0b3JlLmhpZGVQcmljZUxpbmVzLFxuICAgIGxpbmVTdHlsZTogc3RvcmUubGluZVN0eWxlLFxuICAgIGlzSW5pdGlhbGl6ZWQ6IHN0b3JlLmlzSW5pdGlhbGl6ZWQsXG4gICAgZGVzdHJ1Y3Rvcjogc3RvcmUuZGVzdHJ1Y3RvcixcbiAgICBwcmljZUxhYmVsV2lkdGg6IHN0b3JlLnByaWNlTGFiZWxXaWR0aCxcbiAgICB0aXRsZTogc3RvcmUudGl0bGUsXG4gICAgaXNTaW5nbGVCYXJyaWVyOiBzdG9yZS5pc1NpbmdsZUJhcnJpZXIsXG4gICAgb3BhY2l0eU9uT3ZlcmxhcDogc3RvcmUub3BhY2l0eU9uT3ZlcmxhcFxuICB9O1xufSwgX3N0b3JlX0JhcnJpZXJTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoQmFycmllcikpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0JvdHRvbVdpZGdldC5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvQm90dG9tV2lkZ2V0LmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0xhc3REaWdpdFN0YXRzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9MYXN0RGlnaXRTdGF0cy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0xhc3REaWdpdFN0YXRzLmpzeFwiKTtcblxuXG5cblxuXG52YXIgQm90dG9tV2lkZ2V0ID0gZnVuY3Rpb24gQm90dG9tV2lkZ2V0KF9yZWYpIHtcbiAgdmFyIGJvdHRvbVdpZGdldHMgPSBfcmVmLmJvdHRvbVdpZGdldHMsXG4gICAgICBzaG93TGFzdERpZ2l0U3RhdHMgPSBfcmVmLnNob3dMYXN0RGlnaXRTdGF0cyxcbiAgICAgIGRpZ2l0cyA9IF9yZWYuZGlnaXRzLFxuICAgICAgbGFzdFRpY2sgPSBfcmVmLmxhc3RUaWNrO1xuICB2YXIgV2lkZ2V0ID0gIWJvdHRvbVdpZGdldHMgJiYgc2hvd0xhc3REaWdpdFN0YXRzID8gX0xhc3REaWdpdFN0YXRzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSA6IGJvdHRvbVdpZGdldHM7XG4gIHJldHVybiBXaWRnZXQgPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChXaWRnZXQsIHtcbiAgICBkaWdpdHM6IGRpZ2l0cyxcbiAgICB0aWNrOiBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1widG9KU1wiXSkobGFzdFRpY2spXG4gIH0pIDogbnVsbDtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGUsXG4gICAgICBsYXN0RGlnaXRTdGF0cyA9IF9yZWYyLmxhc3REaWdpdFN0YXRzO1xuICByZXR1cm4ge1xuICAgIHNob3dMYXN0RGlnaXRTdGF0czogc3RhdGUuc2hvd0xhc3REaWdpdFN0YXRzLFxuICAgIGRpZ2l0czogbGFzdERpZ2l0U3RhdHMuZGlnaXRzLFxuICAgIGxhc3RUaWNrOiBsYXN0RGlnaXRTdGF0cy5sYXN0VGlja1xuICB9O1xufSkoQm90dG9tV2lkZ2V0KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQm90dG9tV2lkZ2V0c0NvbnRhaW5lci5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0JvdHRvbVdpZGdldHNDb250YWluZXIuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHByb3AtdHlwZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2JvdHRvbV93aWRnZXRfY29udGFpbmVyX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fYm90dG9tLXdpZGdldC1jb250YWluZXIuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19ib3R0b20td2lkZ2V0LWNvbnRhaW5lci5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfYm90dG9tX3dpZGdldF9jb250YWluZXJfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfYm90dG9tX3dpZGdldF9jb250YWluZXJfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcblxuXG5cblxuXG52YXIgQm90dG9tV2lkZ2V0c0NvbnRhaW5lciA9IGZ1bmN0aW9uIEJvdHRvbVdpZGdldHNDb250YWluZXIoX3JlZikge1xuICB2YXIgYm90dG9tID0gX3JlZi5ib3R0b20sXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBpc1JlYWR5VG9TaG93ID0gX3JlZi5pc1JlYWR5VG9TaG93LFxuICAgICAgdG9wID0gX3JlZi50b3AsXG4gICAgICB1cGRhdGVDaGFydE1hcmdpbiA9IF9yZWYudXBkYXRlQ2hhcnRNYXJnaW47XG4gIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbXBvbmVudCA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pO1xuICAgIHVwZGF0ZUNoYXJ0TWFyZ2luKCEhKGNvbXBvbmVudCAmJiBjb21wb25lbnQucHJvcHMuYm90dG9tV2lkZ2V0cykpO1xuICB9LCBbY2hpbGRyZW4sIHVwZGF0ZUNoYXJ0TWFyZ2luXSk7XG5cbiAgaWYgKCFpc1JlYWR5VG9TaG93KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgc3R5bGVzID0ge1xuICAgIHRvcDogdG9wLFxuICAgIGJvdHRvbTogYm90dG9tXG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWJvdHRvbS11aS13aWRnZXRzXCIsXG4gICAgc3R5bGU6IHN0eWxlc1xuICB9LCBjaGlsZHJlbik7XG59O1xuXG5Cb3R0b21XaWRnZXRzQ29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgYm90dG9tOiBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdC5hLm51bWJlcixcbiAgaXNSZWFkeVRvU2hvdzogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5ib29sLFxuICB0b3A6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0LmEubnVtYmVyLFxuICB1cGRhdGVDaGFydE1hcmdpbjogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5mdW5jLmlzUmVxdWlyZWRcbn07XG5Cb3R0b21XaWRnZXRzQ29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYm90dG9tOiAwLFxuICBpc1JlYWR5VG9TaG93OiBmYWxzZSxcbiAgdG9wOiAwXG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgc3RvcmUgPSBfcmVmMi5ib3R0b21XaWRnZXRzQ29udGFpbmVyO1xuICByZXR1cm4ge1xuICAgIGJvdHRvbTogc3RvcmUuYm90dG9tLFxuICAgIGlzUmVhZHlUb1Nob3c6IHN0b3JlLmlzUmVhZHlUb1Nob3csXG4gICAgdG9wOiBzdG9yZS50b3AsXG4gICAgdXBkYXRlQ2hhcnRNYXJnaW46IHN0b3JlLnVwZGF0ZUNoYXJ0TWFyZ2luXG4gIH07XG59KShCb3R0b21XaWRnZXRzQ29udGFpbmVyKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnQuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvQ2hhcnQuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNsYXNzbmFtZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9SZW5kZXJJbnNpZGVDaGFydF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vUmVuZGVySW5zaWRlQ2hhcnQuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9SZW5kZXJJbnNpZGVDaGFydC5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NoYXJ0VGl0bGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0NoYXJ0VGl0bGUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9DaGFydFRpdGxlLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTG9hZGVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Mb2FkZXIuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9Mb2FkZXIuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9CYXJyaWVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9CYXJyaWVyLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQmFycmllci5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0JvdHRvbVdpZGdldF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQm90dG9tV2lkZ2V0LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQm90dG9tV2lkZ2V0LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQm90dG9tV2lkZ2V0c0NvbnRhaW5lcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQm90dG9tV2lkZ2V0c0NvbnRhaW5lci5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0JvdHRvbVdpZGdldHNDb250YWluZXIuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9OYXZpZ2F0aW9uV2lkZ2V0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9OYXZpZ2F0aW9uV2lkZ2V0LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTmF2aWdhdGlvbldpZGdldC5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0hpZ2hlc3RMb3dlc3RNYXJrZXJfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0hpZ2hlc3RMb3dlc3RNYXJrZXIuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9IaWdoZXN0TG93ZXN0TWFya2VyLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19tYWluX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL21haW4uc2NzcyAqLyBcIi4vc2Fzcy9tYWluLnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfbWFpbl9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX21haW5fc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfdGFic19zdHlsZV9yZWFjdF90YWJzX2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LXRhYnMvc3R5bGUvcmVhY3QtdGFicy5jc3MgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL3N0eWxlL3JlYWN0LXRhYnMuY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X3RhYnNfc3R5bGVfcmVhY3RfdGFic19jc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfdGFic19zdHlsZV9yZWFjdF90YWJzX2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3VpX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91aSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NoYXJ0Q29udHJvbHNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9DaGFydENvbnRyb2xzLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRDb250cm9scy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NoYXJ0Rm9vdGVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRGb290ZXIuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9DaGFydEZvb3Rlci5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Nyb3NzaGFpcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0Nyb3NzaGFpci5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0Nyb3NzaGFpci5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nYSAqLyBcIi4vc3JjL3V0aWxzL2dhLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9QYWdpbmF0aW9uTG9hZGVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vUGFnaW5hdGlvbkxvYWRlci5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1BhZ2luYXRpb25Mb2FkZXIuanN4XCIpO1xuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKiBjc3MgKyBzY3NzICovXG5cblxuXG5cblxuXG5cblxuXG5cblxudmFyIENoYXJ0ID0gZnVuY3Rpb24gQ2hhcnQocHJvcHMpIHtcbiAgdmFyIF9jbGFzc05hbWVzMjtcblxuICB2YXIgcm9vdFJlZiA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVJlZigpO1xuICByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciB1cGRhdGVQcm9wcyA9IHByb3BzLnVwZGF0ZVByb3BzLFxuICAgICAgICBpbml0ID0gcHJvcHMuaW5pdCxcbiAgICAgICAgb3RoZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1widXBkYXRlUHJvcHNcIiwgXCJpbml0XCJdKTtcblxuICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19bXCJpbml0R0FcIl0pKCk7XG4gICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX1tcImxvZ1BhZ2VWaWV3XCJdKSgpO1xuICAgIHVwZGF0ZVByb3BzKG90aGVyUHJvcHMpO1xuICAgIGluaXQocm9vdFJlZi5jdXJyZW50LCBvdGhlclByb3BzKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcHJvcHMuZGVzdHJveSgpO1xuICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuICByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciB1cGRhdGVQcm9wcyA9IHByb3BzLnVwZGF0ZVByb3BzLFxuICAgICAgICBpbml0ID0gcHJvcHMuaW5pdCxcbiAgICAgICAgb3RoZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1widXBkYXRlUHJvcHNcIiwgXCJpbml0XCJdKTtcblxuICAgIHVwZGF0ZVByb3BzKG90aGVyUHJvcHMpO1xuICB9KTtcblxuICB2YXIgZGVmYXVsdFRvcFdpZGdldHMgPSBmdW5jdGlvbiBkZWZhdWx0VG9wV2lkZ2V0cygpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0NoYXJ0VGl0bGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBudWxsKTtcbiAgfTtcblxuICB2YXIgaWQgPSBwcm9wcy5pZCxcbiAgICAgIGNoYXJ0SWQgPSBwcm9wcy5jaGFydElkLFxuICAgICAgRHJhd1Rvb2xzU2V0dGluZ3NEaWFsb2cgPSBwcm9wcy5EcmF3VG9vbHNTZXR0aW5nc0RpYWxvZyxcbiAgICAgIFN0dWR5U2V0dGluZ3NEaWFsb2cgPSBwcm9wcy5TdHVkeVNldHRpbmdzRGlhbG9nLFxuICAgICAgaXNDYW5kbGUgPSBwcm9wcy5pc0NhbmRsZSxcbiAgICAgIGlzU3BsaW5lID0gcHJvcHMuaXNTcGxpbmUsXG4gICAgICBfcHJvcHMkaXNNb2JpbGUgPSBwcm9wcy5pc01vYmlsZSxcbiAgICAgIGlzTW9iaWxlID0gX3Byb3BzJGlzTW9iaWxlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRpc01vYmlsZSxcbiAgICAgIGlzQ2hhcnRBdmFpbGFibGUgPSBwcm9wcy5pc0NoYXJ0QXZhaWxhYmxlLFxuICAgICAgaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCA9IHByb3BzLmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQsXG4gICAgICBfcHJvcHMkYmFycmllcnMgPSBwcm9wcy5iYXJyaWVycyxcbiAgICAgIGJhcnJpZXJzID0gX3Byb3BzJGJhcnJpZXJzID09PSB2b2lkIDAgPyBbXSA6IF9wcm9wcyRiYXJyaWVycyxcbiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBjaGFydENvbnRyb2xzV2lkZ2V0cyA9IHByb3BzLmNoYXJ0Q29udHJvbHNXaWRnZXRzLFxuICAgICAgQWdncmVnYXRlQ2hhcnRTZXR0aW5nc0RpYWxvZyA9IHByb3BzLkFnZ3JlZ2F0ZUNoYXJ0U2V0dGluZ3NEaWFsb2csXG4gICAgICB0b3BXaWRnZXRzID0gcHJvcHMudG9wV2lkZ2V0cyxcbiAgICAgIGNoYXJ0Q29udGFpbmVySGVpZ2h0ID0gcHJvcHMuY2hhcnRDb250YWluZXJIZWlnaHQsXG4gICAgICBjb250YWluZXJXaWR0aCA9IHByb3BzLmNvbnRhaW5lcldpZHRoLFxuICAgICAgaXNDaGFydENsb3NlZCA9IHByb3BzLmlzQ2hhcnRDbG9zZWQsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lLFxuICAgICAgcG9zaXRpb24gPSBwcm9wcy5wb3NpdGlvbixcbiAgICAgIGJvdHRvbVdpZGdldHMgPSBwcm9wcy5ib3R0b21XaWRnZXRzLFxuICAgICAgX3Byb3BzJGVuYWJsZWRDaGFydEZvID0gcHJvcHMuZW5hYmxlZENoYXJ0Rm9vdGVyLFxuICAgICAgZW5hYmxlZENoYXJ0Rm9vdGVyID0gX3Byb3BzJGVuYWJsZWRDaGFydEZvID09PSB2b2lkIDAgPyB0cnVlIDogX3Byb3BzJGVuYWJsZWRDaGFydEZvLFxuICAgICAgX3Byb3BzJGVuYWJsZWROYXZpZ2F0ID0gcHJvcHMuZW5hYmxlZE5hdmlnYXRpb25XaWRnZXQsXG4gICAgICBlbmFibGVkTmF2aWdhdGlvbldpZGdldCA9IF9wcm9wcyRlbmFibGVkTmF2aWdhdCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyRlbmFibGVkTmF2aWdhdCxcbiAgICAgIHRvb2xiYXJXaWRnZXQgPSBwcm9wcy50b29sYmFyV2lkZ2V0LFxuICAgICAgb25Dcm9zc2hhaXJDaGFuZ2UgPSBwcm9wcy5vbkNyb3NzaGFpckNoYW5nZSxcbiAgICAgIGlzTG9hZGluZyA9IHByb3BzLmlzTG9hZGluZztcbiAgdmFyIGhhc1Bvc2l0aW9uID0gY2hhcnRDb250cm9sc1dpZGdldHMgJiYgcG9zaXRpb24gJiYgIWlzTW9iaWxlO1xuICB2YXIgVG9wV2lkZ2V0cyA9IHRvcFdpZGdldHMgfHwgZGVmYXVsdFRvcFdpZGdldHM7IC8vIGlmIHRoZXJlIGFyZSBhbnkgbWFya2VycywgdGhlbiBpbmNyZWFzZSB0aGUgc3ViaG9sZGVyIHotaW5kZXhcblxuICB2YXIgVG9vbGJhcldpZGdldCA9IHRvb2xiYXJXaWRnZXQ7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgaWQ6IGlkIHx8IGNoYXJ0SWQsXG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKCdzbWFydGNoYXJ0cycsIFwic21hcnRjaGFydHMtXCIuY29uY2F0KHRoZW1lKSwgX2RlZmluZVByb3BlcnR5KHtcbiAgICAgICdzbWFydGNoYXJ0cy0tbmF2aWdhdGlvbi13aWRnZXQnOiBlbmFibGVkTmF2aWdhdGlvbldpZGdldCxcbiAgICAgICdzbWFydGNoYXJ0cy0tbG9hZGluZyc6IGlzTG9hZGluZyxcbiAgICAgICdzbWFydGNoYXJ0cy0taGFzLW1hcmtlcnMnOiBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGhcbiAgICB9LCBcInNtYXJ0Y2hhcnRzLVwiLmNvbmNhdChjb250YWluZXJXaWR0aCksICFpc01vYmlsZSkpXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0KCkoe1xuICAgICAgJ3NtYXJ0Y2hhcnRzLW1vYmlsZSc6IGlzTW9iaWxlLFxuICAgICAgJ3NtYXJ0Y2hhcnRzLWRlc2t0b3AnOiAhaXNNb2JpbGVcbiAgICB9KVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWNvbnRleHRcIixcbiAgICByZWY6IHJvb3RSZWZcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgoX2NsYXNzTmFtZXMyID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lczIsIFwiY3EtY2hhcnQtY29udHJvbC1cIi5jb25jYXQocG9zaXRpb24pLCBoYXNQb3NpdGlvbiksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lczIsICdjcS1jaGFydC1jb250cm9sLWJvdHRvbScsICFoYXNQb3NpdGlvbiksIF9jbGFzc05hbWVzMikpXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLWNoYXJ0LWFyZWFcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKCdjaXEtY2hhcnQnLCB7XG4gICAgICAnY2xvc2VkLWNoYXJ0JzogaXNDaGFydENsb3NlZFxuICAgIH0pXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9SZW5kZXJJbnNpZGVDaGFydF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBhdDogXCJob2xkZXJcIlxuICB9LCBiYXJyaWVycy5tYXAoZnVuY3Rpb24gKGJhcnIsIGlkeCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfQmFycmllcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0sIF9leHRlbmRzKHtcbiAgICAgIGtleTogXCJiYXJyaWVyLVwiLmNvbmNhdChpZHgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5XG5cbiAgICB9LCBiYXJyKSk7XG4gIH0pKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1JlbmRlckluc2lkZUNoYXJ0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwge1xuICAgIGF0OiBcInN1YmhvbGRlclwiXG4gIH0sICFpc0NhbmRsZSAmJiAhaXNTcGxpbmUgJiYgaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSGlnaGVzdExvd2VzdE1hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImRlZmF1bHRcIl0sIG51bGwpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1JlbmRlckluc2lkZUNoYXJ0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwge1xuICAgIGF0OiBcInN1YmhvbGRlclwiLFxuICAgIGhpZGVJblNjcm9sbFRvRXBvY2g6IHRydWVcbiAgfSwgY2hpbGRyZW4pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfUmVuZGVySW5zaWRlQ2hhcnRfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgYXQ6IFwic3ViaG9sZGVyXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1BhZ2luYXRpb25Mb2FkZXJfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fW1wiZGVmYXVsdFwiXSwgbnVsbCkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLXRvcC11aS13aWRnZXRzXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoVG9wV2lkZ2V0cywgbnVsbCkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNoYXJ0Q29udGFpbmVyXCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGhlaWdodDogY2hhcnRDb250YWluZXJIZWlnaHRcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Dcm9zc2hhaXJfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9fW1wiZGVmYXVsdFwiXSwgbnVsbCkpLCBlbmFibGVkTmF2aWdhdGlvbldpZGdldCAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfTmF2aWdhdGlvbldpZGdldF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBvbkNyb3NzaGFpckNoYW5nZTogb25Dcm9zc2hhaXJDaGFuZ2VcbiAgfSksIHRvb2xiYXJXaWRnZXQgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoVG9vbGJhcldpZGdldCwgbnVsbCksICFpc0NoYXJ0QXZhaWxhYmxlICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtY2hhcnQtdW5hdmFpbGFibGVcIlxuICB9LCB0LnRyYW5zbGF0ZSgnQ2hhcnQgZGF0YSBpcyBub3QgYXZhaWxhYmxlIGZvciB0aGlzIHN5bWJvbC4nKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Cb3R0b21XaWRnZXRzQ29udGFpbmVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0JvdHRvbVdpZGdldF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBib3R0b21XaWRnZXRzOiBib3R0b21XaWRnZXRzXG4gIH0pKSksIGNoYXJ0Q29udHJvbHNXaWRnZXRzICE9PSBudWxsICYmICFlbmFibGVkQ2hhcnRGb290ZXIgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0NoYXJ0Q29udHJvbHNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiZGVmYXVsdFwiXSwge1xuICAgIHdpZGdldHM6IGNoYXJ0Q29udHJvbHNXaWRnZXRzXG4gIH0pLCBlbmFibGVkQ2hhcnRGb290ZXIgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0NoYXJ0Rm9vdGVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfX1tcImRlZmF1bHRcIl0sIG51bGwpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfTG9hZGVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwgbnVsbCkpKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KERyYXdUb29sc1NldHRpbmdzRGlhbG9nLCBudWxsKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQWdncmVnYXRlQ2hhcnRTZXR0aW5nc0RpYWxvZywgbnVsbCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFN0dWR5U2V0dGluZ3NEaWFsb2csIG51bGwpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgaWQ6IFwic21hcnRjaGFydHNfbW9kYWxcIixcbiAgICBjbGFzc05hbWU6IFwiY2lxLW1vZGFsXCJcbiAgfSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGNoYXJ0ID0gX3JlZi5jaGFydCxcbiAgICAgIGRyYXdUb29scyA9IF9yZWYuZHJhd1Rvb2xzLFxuICAgICAgc3R1ZGllcyA9IF9yZWYuc3R1ZGllcyxcbiAgICAgIGNoYXJ0U2V0dGluZyA9IF9yZWYuY2hhcnRTZXR0aW5nLFxuICAgICAgY2hhcnRUeXBlID0gX3JlZi5jaGFydFR5cGUsXG4gICAgICBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBsb2FkZXIgPSBfcmVmLmxvYWRlcjtcbiAgcmV0dXJuIHtcbiAgICBjaGFydElkOiBjaGFydC5jaGFydElkLFxuICAgIGluaXQ6IGNoYXJ0LmluaXQsXG4gICAgZGVzdHJveTogY2hhcnQuZGVzdHJveSxcbiAgICBTdHVkeVNldHRpbmdzRGlhbG9nOiBzdHVkaWVzLlN0dWR5U2V0dGluZ3NEaWFsb2csXG4gICAgRHJhd1Rvb2xzU2V0dGluZ3NEaWFsb2c6IGRyYXdUb29scy5EcmF3VG9vbHNTZXR0aW5nc0RpYWxvZyxcbiAgICBBZ2dyZWdhdGVDaGFydFNldHRpbmdzRGlhbG9nOiBjaGFydFR5cGUuQWdncmVnYXRlQ2hhcnRTZXR0aW5nc0RpYWxvZyxcbiAgICBpc0NhbmRsZTogY2hhcnRUeXBlLmlzQ2FuZGxlLFxuICAgIGlzQ2hhcnRBdmFpbGFibGU6IGNoYXJ0LmlzQ2hhcnRBdmFpbGFibGUsXG4gICAgaXNTcGxpbmU6IGNoYXJ0VHlwZS5pc1NwbGluZSxcbiAgICB1cGRhdGVQcm9wczogc3RhdGUudXBkYXRlUHJvcHMsXG4gICAgY2hhcnRDb250YWluZXJIZWlnaHQ6IGNoYXJ0LmNoYXJ0Q29udGFpbmVySGVpZ2h0LFxuICAgIGNvbnRhaW5lcldpZHRoOiBjaGFydC5jb250YWluZXJXaWR0aCxcbiAgICBpc0NoYXJ0Q2xvc2VkOiBzdGF0ZS5pc0NoYXJ0Q2xvc2VkLFxuICAgIHRoZW1lOiBjaGFydFNldHRpbmcudGhlbWUsXG4gICAgcG9zaXRpb246IGNoYXJ0U2V0dGluZy5wb3NpdGlvbixcbiAgICBpc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkOiBjaGFydFNldHRpbmcuaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCxcbiAgICBpc0xvYWRpbmc6IGxvYWRlci5pc0FjdGl2ZVxuICB9O1xufSkoQ2hhcnQpKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRDb250cm9scy5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0NoYXJ0Q29udHJvbHMuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogUmVuZGVyRGVmYXVsdENvbnRyb2xzLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlJlbmRlckRlZmF1bHRDb250cm9sc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFJlbmRlckRlZmF1bHRDb250cm9sczsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjbGFzc25hbWVzICovIFwiLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NoYXJ0VHlwZXNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0NoYXJ0VHlwZXMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9DaGFydFR5cGVzLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU3R1ZHlMZWdlbmRfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1N0dWR5TGVnZW5kLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvU3R1ZHlMZWdlbmQuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WaWV3c19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVmlld3MuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9WaWV3cy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Nyb3NzaGFpclRvZ2dsZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ3Jvc3NoYWlyVG9nZ2xlLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ3Jvc3NoYWlyVG9nZ2xlLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVGltZXBlcmlvZF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVGltZXBlcmlvZC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1RpbWVwZXJpb2QuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFNpemVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0NoYXJ0U2l6ZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0U2l6ZS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0RyYXdUb29sc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vRHJhd1Rvb2xzLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvRHJhd1Rvb2xzLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU2hhcmVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TaGFyZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1NoYXJlLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X2NvbnRyb2xzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LWNvbnRyb2xzLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtY29udHJvbHMuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X2NvbnRyb2xzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19jaGFydF9jb250cm9sc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBSZW5kZXJEZWZhdWx0Q29udHJvbHMgPSBmdW5jdGlvbiBSZW5kZXJEZWZhdWx0Q29udHJvbHMoX3JlZikge1xuICB2YXIgaXNNb2JpbGUgPSBfcmVmLmlzTW9iaWxlO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuRnJhZ21lbnQsIG51bGwsIGlzTW9iaWxlID8gJycgOiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfQ3Jvc3NoYWlyVG9nZ2xlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSwgbnVsbCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9DaGFydFR5cGVzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwgbnVsbCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9UaW1lcGVyaW9kX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXSwgbnVsbCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9TdHVkeUxlZ2VuZF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIG51bGwpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRHJhd1Rvb2xzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZGVmYXVsdFwiXSwgbnVsbCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9WaWV3c19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0sIG51bGwpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfU2hhcmVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fW1wiZGVmYXVsdFwiXSwgbnVsbCksIGlzTW9iaWxlID8gJycgOiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfQ2hhcnRTaXplX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXSwgbnVsbCkpO1xufTtcblxudmFyIENoYXJ0Q29udHJvbHMgPSBmdW5jdGlvbiBDaGFydENvbnRyb2xzKF9yZWYyKSB7XG4gIHZhciBpc01vYmlsZSA9IF9yZWYyLmlzTW9iaWxlLFxuICAgICAgaGFzT3Blbk1lbnUgPSBfcmVmMi5oYXNPcGVuTWVudSxcbiAgICAgIHdpZGdldHMgPSBfcmVmMi53aWRnZXRzLFxuICAgICAgY29udGV4dCA9IF9yZWYyLmNvbnRleHQ7XG4gIHZhciBDb250cm9scyA9IHdpZGdldHMgfHwgUmVuZGVyRGVmYXVsdENvbnRyb2xzO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgnY3EtY2hhcnQtY29udHJvbHMnLCB7XG4gICAgICBhY3RpdmU6IGhhc09wZW5NZW51XG4gICAgfSlcbiAgfSwgY29udGV4dCA/IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENvbnRyb2xzLCB7XG4gICAgaXNNb2JpbGU6IGlzTW9iaWxlXG4gIH0pIDogbnVsbCk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYzKSB7XG4gIHZhciBjaGFydCA9IF9yZWYzLmNoYXJ0LFxuICAgICAgY2hhcnRUeXBlID0gX3JlZjMuY2hhcnRUeXBlLFxuICAgICAgc3R1ZGllcyA9IF9yZWYzLnN0dWRpZXMsXG4gICAgICBkcmF3VG9vbHMgPSBfcmVmMy5kcmF3VG9vbHMsXG4gICAgICB2aWV3ID0gX3JlZjMudmlldyxcbiAgICAgIHNoYXJlID0gX3JlZjMuc2hhcmUsXG4gICAgICB0aW1lcGVyaW9kID0gX3JlZjMudGltZXBlcmlvZCxcbiAgICAgIGNoYXJ0U2V0dGluZyA9IF9yZWYzLmNoYXJ0U2V0dGluZztcbiAgcmV0dXJuIHtcbiAgICBpc01vYmlsZTogY2hhcnQuaXNNb2JpbGUsXG4gICAgY29udGV4dDogY2hhcnQuY29udGV4dCxcbiAgICBoYXNPcGVuTWVudTogY2hhcnRUeXBlLm1lbnUub3BlbiB8fCBzdHVkaWVzLm1lbnUub3BlbiB8fCBkcmF3VG9vbHMubWVudS5vcGVuIHx8IHZpZXcubWVudS5vcGVuIHx8IHNoYXJlLm1lbnUub3BlbiB8fCB0aW1lcGVyaW9kLm1lbnUub3BlbiB8fCBjaGFydFNldHRpbmcubWVudS5vcGVuXG4gIH07XG59KShDaGFydENvbnRyb2xzKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRGb290ZXIuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvQ2hhcnRGb290ZXIuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Ub29sdGlwX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Ub29sdGlwLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVG9vbHRpcC5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NoYXJ0U2V0dGluZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRTZXR0aW5nLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRTZXR0aW5nLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X2Zvb3Rlcl9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LWZvb3Rlci5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LWZvb3Rlci5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2hhcnRfZm9vdGVyX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2NoYXJ0X2Zvb3Rlcl9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18pO1xuXG5cblxuXG5cblxudmFyIENoYXJ0Rm9vdGVyTmV0d29yayA9IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5tZW1vKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBuZXR3b3JrU3RhdHVzID0gX3JlZi5uZXR3b3JrU3RhdHVzO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1Rvb2x0aXBfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWNoYXJ0LWZvb3Rlcl9faXRlbSBzYy1jaGFydC1mb290ZXJfX2l0ZW0tLXN0YXR1c1wiLFxuICAgIGNvbnRlbnQ6IFwiXCIuY29uY2F0KHQudHJhbnNsYXRlKCdOZXR3b3JrIHN0YXR1cycpLCBcIjogXCIpLmNvbmNhdChuZXR3b3JrU3RhdHVzID8gdC50cmFuc2xhdGUobmV0d29ya1N0YXR1cy50b29sdGlwKSA6ICcnKSxcbiAgICBlbmFibGVkOiB0cnVlXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtY2hhcnRfX3N0YXR1cyBzYy1jaGFydF9fc3RhdHVzLS1cIi5jb25jYXQobmV0d29ya1N0YXR1cyA/IG5ldHdvcmtTdGF0dXNbXCJjbGFzc1wiXSA6ICdvZmZsaW5lJylcbiAgfSkpO1xufSk7XG5cbnZhciBDaGFydEZvb3RlciA9IGZ1bmN0aW9uIENoYXJ0Rm9vdGVyKF9yZWYyKSB7XG4gIHZhciBjb250ZXh0ID0gX3JlZjIuY29udGV4dCxcbiAgICAgIHNlcnZlclRpbWUgPSBfcmVmMi5zZXJ2ZXJUaW1lLFxuICAgICAgbmV0d29ya1N0YXR1cyA9IF9yZWYyLm5ldHdvcmtTdGF0dXMsXG4gICAgICBvcGVuRnVsbHNjcmVlbiA9IF9yZWYyLm9wZW5GdWxsc2NyZWVuO1xuICByZXR1cm4gY29udGV4dCA/IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtY2hhcnQtZm9vdGVyXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2hhcnRGb290ZXJOZXR3b3JrLCB7XG4gICAgbmV0d29ya1N0YXR1czogbmV0d29ya1N0YXR1c1xuICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1jaGFydC1mb290ZXJfX2l0ZW0gc2MtY2hhcnQtZm9vdGVyX19pdGVtLS10aW1lXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIHNlcnZlclRpbWUpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtbWVudSBjaXEtZW5hYmxlZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgaHJlZjogXCJodHRwczovL2Rlcml2LmNvbS9oZWxwLWNlbnRyZS9cIixcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLW1lbnUtYnRuXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiSGVscENlbnRlckljb25cIl0sIG51bGwpKSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfQ2hhcnRTZXR0aW5nX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwgbnVsbCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLW1lbnUgY2lxLWVuYWJsZWRcIixcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9wZW5GdWxsc2NyZWVuKCk7XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLW1lbnUtYnRuXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiRnVsbFNjcmVlbkljb25cIl0sIG51bGwpKSkpIDogbnVsbDtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjMpIHtcbiAgdmFyIGNoYXJ0ID0gX3JlZjMuY2hhcnQ7XG4gIHJldHVybiB7XG4gICAgY29udGV4dDogY2hhcnQuY29udGV4dCxcbiAgICBzZXJ2ZXJUaW1lOiBjaGFydC5zZXJ2ZXJUaW1lLFxuICAgIG5ldHdvcmtTdGF0dXM6IGNoYXJ0Lm5ldHdvcmtTdGF0dXMsXG4gICAgb3BlbkZ1bGxzY3JlZW46IGNoYXJ0Lm9wZW5GdWxsc2NyZWVuXG4gIH07XG59KShDaGFydEZvb3RlcikpO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9DaGFydE1vZGUuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0NoYXJ0TW9kZS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNsYXNzbmFtZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ2hhcnRUeXBlc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRUeXBlcy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0VHlwZXMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9UaW1lcGVyaW9kX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9UaW1lcGVyaW9kLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVGltZXBlcmlvZC5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X21vZGVfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19jaGFydC1tb2RlLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtbW9kZS5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2hhcnRfbW9kZV9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19jaGFydF9tb2RlX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyk7XG4vKiBlc2xpbnQtZGlzYWJsZSBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnMgKi9cblxuXG5cblxuXG5cblxudmFyIFR5cGVNYXAgPSB7XG4gIG1vdW50YWluOiBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJUeXBlQXJlYUdyYXlzY2FsZUljb25cIl0sXG4gIGNhbmRsZTogX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiVHlwZUNhbmRsZUdyYXlzY2FsZUljb25cIl0sXG4gIGNvbG9yZWRfYmFyOiBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJUeXBlT2hsY0dyYXlzY2FsZUljb25cIl0sXG4gIGhvbGxvd19jYW5kbGU6IF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIlR5cGVIb2xsb3dHcmF5c2NhbGVJY29uXCJdXG59O1xuXG52YXIgQ2hhcnRNb2RlID0gZnVuY3Rpb24gQ2hhcnRNb2RlKF9yZWYpIHtcbiAgdmFyIENoYXJ0VHlwZU1lbnUgPSBfcmVmLkNoYXJ0VHlwZU1lbnUsXG4gICAgICBtZW51T3BlbiA9IF9yZWYubWVudU9wZW4sXG4gICAgICBvbkNoYXJ0VHlwZSA9IF9yZWYub25DaGFydFR5cGUsXG4gICAgICBvbkdyYW51bGFyaXR5ID0gX3JlZi5vbkdyYW51bGFyaXR5LFxuICAgICAgVHlwZSA9IF9yZWYuVHlwZSxcbiAgICAgIGRpc3BsYXlJbnRlcnZhbCA9IF9yZWYuZGlzcGxheUludGVydmFsLFxuICAgICAgcG9ydGFsTm9kZUlkID0gX3JlZi5wb3J0YWxOb2RlSWQ7XG4gIHZhciBUeXBlSWNvbiA9IFR5cGVNYXBbVHlwZS5pZF07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDaGFydFR5cGVNZW51LCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1kaXNwbGF5IHNjLWNoYXJ0LW1vZGVcIixcbiAgICB0aXRsZTogdC50cmFuc2xhdGUoJ0NoYXJ0IHR5cGVzJyksXG4gICAgdG9vbHRpcDogdC50cmFuc2xhdGUoJ0NoYXJ0IHR5cGVzJyksXG4gICAgbW9kYWxNb2RlOiB0cnVlLFxuICAgIGlzRnVsbHNjcmVlbjogdHJ1ZSxcbiAgICBwb3J0YWxOb2RlSWQ6IHBvcnRhbE5vZGVJZFxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDaGFydFR5cGVNZW51LlRpdGxlLCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKCdzYy1jaGFydC1tb2RlX19tZW51Jywge1xuICAgICAgJ3NjLWNoYXJ0LW1vZGVfX21lbnUtLWFjdGl2ZSc6IG1lbnVPcGVuXG4gICAgfSlcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtY2hhcnQtbW9kZV9fbWVudV9fdGltZXBlcmlvZFwiXG4gIH0sIGRpc3BsYXlJbnRlcnZhbCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFR5cGVJY29uLCB7XG4gICAgXCJ0b29sdGlwLXRpdGxlXCI6IHQudHJhbnNsYXRlKFR5cGUudGV4dClcbiAgfSkpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2hhcnRUeXBlTWVudS5Cb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWNoYXJ0LW1vZGVfX3NlY3Rpb25cIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWNoYXJ0LW1vZGVfX3NlY3Rpb25fX2l0ZW1cIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfQ2hhcnRUeXBlc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBuZXdEZXNpZ246IHRydWUsXG4gICAgb25DaGFuZ2U6IG9uQ2hhcnRUeXBlXG4gIH0pKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1jaGFydC1tb2RlX19zZWN0aW9uX19pdGVtXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1RpbWVwZXJpb2RfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLCB7XG4gICAgbmV3RGVzaWduOiB0cnVlLFxuICAgIG9uQ2hhbmdlOiBvbkdyYW51bGFyaXR5XG4gIH0pKSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGNoYXJ0TW9kZSA9IF9yZWYyLmNoYXJ0TW9kZSxcbiAgICAgIGNoYXJ0VHlwZSA9IF9yZWYyLmNoYXJ0VHlwZSxcbiAgICAgIHRpbWVwZXJpb2QgPSBfcmVmMi50aW1lcGVyaW9kO1xuICByZXR1cm4ge1xuICAgIENoYXJ0VHlwZU1lbnU6IGNoYXJ0TW9kZS5DaGFydFR5cGVNZW51LFxuICAgIG1lbnVPcGVuOiBjaGFydE1vZGUubWVudS5vcGVuLFxuICAgIFR5cGU6IGNoYXJ0VHlwZS50eXBlLFxuICAgIGRpc3BsYXlJbnRlcnZhbDogdGltZXBlcmlvZC5kaXNwbGF5XG4gIH07XG59KShDaGFydE1vZGUpKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRTZXR0aW5nLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9DaGFydFNldHRpbmcuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF90YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdC10YWJzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9lc20vaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xhc3NuYW1lcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Gb3JtLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvRm9ybS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X3NldHRpbmdfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19jaGFydC1zZXR0aW5nLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtc2V0dGluZy5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2hhcnRfc2V0dGluZ19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19jaGFydF9zZXR0aW5nX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyk7XG4vKiBlc2xpbnQtZGlzYWJsZSBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnMgKi9cblxuXG5cblxuXG5cblxuXG52YXIgQ2hhcnRTZXR0aW5nSXRlbSA9IGZ1bmN0aW9uIENoYXJ0U2V0dGluZ0l0ZW0oX3JlZikge1xuICB2YXIgdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgICAgaWQgPSBfcmVmLmlkLFxuICAgICAgbGFiZWwgPSBfcmVmLmxhYmVsLFxuICAgICAgdmFsdWUgPSBfcmVmLnZhbHVlLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmLm9uQ2hhbmdlLFxuICAgICAgbm9yYW1JY29uID0gX3JlZi5ub3JhbUljb24sXG4gICAgICBhY3RpdmVJY29uID0gX3JlZi5hY3RpdmVJY29uO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJGb3JtR3JvdXBcIl0sIHtcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgdHlwZTogaWRcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJTd2l0Y2hJY29uXCJdLCB7XG4gICAgaWQ6IGlkLFxuICAgIGxhYmVsOiBsYWJlbCxcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgIG5vcmFtSWNvbjogbm9yYW1JY29uLFxuICAgIGFjdGl2ZUljb246IGFjdGl2ZUljb25cbiAgfSkpO1xufTtcblxudmFyIENoYXJ0U2V0dGluZyA9IGZ1bmN0aW9uIENoYXJ0U2V0dGluZyhfcmVmMikge1xuICB2YXIgQ2hhcnRTZXR0aW5nTWVudSA9IF9yZWYyLkNoYXJ0U2V0dGluZ01lbnUsXG4gICAgICBjb3VudGRvd24gPSBfcmVmMi5jb3VudGRvd24sXG4gICAgICBoaXN0b3JpY2FsID0gX3JlZjIuaGlzdG9yaWNhbCxcbiAgICAgIGlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQgPSBfcmVmMi5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkLFxuICAgICAgbGFuZ3VhZ2VzID0gX3JlZjIubGFuZ3VhZ2VzLFxuICAgICAgbWVudU9wZW4gPSBfcmVmMi5tZW51T3BlbixcbiAgICAgIHNlbGVjdGVkTGFuZ3VhZ2UgPSBfcmVmMi5zZWxlY3RlZExhbmd1YWdlLFxuICAgICAgc2V0SGlzdG9yaWNhbCA9IF9yZWYyLnNldEhpc3RvcmljYWwsXG4gICAgICBzZXRMYW5ndWFnZSA9IF9yZWYyLnNldExhbmd1YWdlLFxuICAgICAgc2V0VGhlbWUgPSBfcmVmMi5zZXRUaGVtZSxcbiAgICAgIHNob3dDb3VudGRvd24gPSBfcmVmMi5zaG93Q291bnRkb3duLFxuICAgICAgdGhlbWUgPSBfcmVmMi50aGVtZSxcbiAgICAgIHRvZ2dsZUhpZ2hlc3RMb3dlc3RNYXJrZXIgPSBfcmVmMi50b2dnbGVIaWdoZXN0TG93ZXN0TWFya2VyO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2hhcnRTZXR0aW5nTWVudSwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1jaGFydC1zZXR0aW5nXCIsXG4gICAgdGl0bGU6IHQudHJhbnNsYXRlKCdQbGF0Zm9ybSBzZXR0aW5ncycpLFxuICAgIGVuYWJsZVRhYnVsYXI6IHRydWUsXG4gICAgbW9kYWxNb2RlOiB0cnVlXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENoYXJ0U2V0dGluZ01lbnUuVGl0bGUsIG51bGwsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIlNldHRpbmdJY29uXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCgpKCdpYy1pY29uLXdpdGgtc3ViJywge1xuICAgICAgYWN0aXZlOiBtZW51T3BlblxuICAgIH0pLFxuICAgIFwidG9vbHRpcC10aXRsZVwiOiB0LnRyYW5zbGF0ZSgnU2V0dGluZ3MnKVxuICB9KSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENoYXJ0U2V0dGluZ01lbnUuQm9keSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfdGFic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVGFic1wiXSwge1xuICAgIGNsYXNzTmFtZTogXCJ0YWJzLS12ZXJ0aWNhbFwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYkxpc3RcIl0sIG51bGwsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYlwiXSwge1xuICAgIGtleTogXCJ0aGVtZVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIlRoZW1lSWNvblwiXSwgbnVsbCksIHQudHJhbnNsYXRlKCdUaGVtZXMnKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYlwiXSwge1xuICAgIGtleTogXCJsYW5ndWFnZVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkxhbmd1YWdlSWNvblwiXSwgbnVsbCksIHQudHJhbnNsYXRlKCdMYW5ndWFnZScpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfdGFic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVGFiXCJdLCB7XG4gICAga2V5OiBcInBsYXRmb3JtXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiQ2hhcnRJY29uXCJdLCBudWxsKSwgdC50cmFuc2xhdGUoJ0NoYXJ0cycpKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYlBhbmVsXCJdLCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWNoYXJ0LXNldHRpbmdfX3BhbmVsXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJGb3JtR3JvdXBcIl0sIHtcbiAgICB0aXRsZTogdC50cmFuc2xhdGUoJ1NlbGVjdCB0aGVtZScpLFxuICAgIHR5cGU6IFwidGhlbWVcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCgpKCdmb3JtX19ncm91cF9faXRlbScsIHtcbiAgICAgICdmb3JtX19ncm91cF9faXRlbS0tYWN0aXZlJzogdGhlbWUgPT09ICdkYXJrJ1xuICAgIH0pLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gc2V0VGhlbWUoJ2RhcmsnKTtcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIlRoZW1lRGFya0ljb25cIl0sIG51bGwpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInRleHRcIlxuICB9LCB0LnRyYW5zbGF0ZSgnRGFyaycpKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0KCkoJ2Zvcm1fX2dyb3VwX19pdGVtJywge1xuICAgICAgJ2Zvcm1fX2dyb3VwX19pdGVtLS1hY3RpdmUnOiB0aGVtZSA9PT0gJ2xpZ2h0J1xuICAgIH0pLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gc2V0VGhlbWUoJ2xpZ2h0Jyk7XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJUaGVtZUxpZ2h0SWNvblwiXSwgbnVsbCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidGV4dFwiXG4gIH0sIHQudHJhbnNsYXRlKCdMaWdodCcpKSkpKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYlBhbmVsXCJdLCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWNoYXJ0LXNldHRpbmdfX3BhbmVsXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJGb3JtR3JvdXBcIl0sIHtcbiAgICB0aXRsZTogdC50cmFuc2xhdGUoJ1NlbGVjdCBsYW5ndWFnZScpLFxuICAgIHR5cGU6IFwibGFuZ3VhZ2VcIlxuICB9LCBsYW5ndWFnZXMubWFwKGZ1bmN0aW9uIChsYW5ndWFnZSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IGxhbmd1YWdlLmtleSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIHJldHVybiBzZXRMYW5ndWFnZShsYW5ndWFnZS5rZXkpO1xuICAgICAgfSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQoKSgnZm9ybV9fZ3JvdXBfX2l0ZW0nLCB7XG4gICAgICAgICdmb3JtX19ncm91cF9faXRlbS0tYWN0aXZlJzogc2VsZWN0ZWRMYW5ndWFnZS5rZXkgPT09IGxhbmd1YWdlLmtleVxuICAgICAgfSlcbiAgICB9LCBsYW5ndWFnZS5pY29uLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInRleHRcIlxuICAgIH0sIGxhbmd1YWdlLm5hbWUpKTtcbiAgfSkpKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYlBhbmVsXCJdLCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWNoYXJ0LXNldHRpbmdfX3BhbmVsXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2hhcnRTZXR0aW5nSXRlbSwge1xuICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnSW50ZXJ2YWwgZHVyYXRpb24nKSxcbiAgICBpZDogXCJjb3VudGRvd25cIixcbiAgICBsYWJlbDogdC50cmFuc2xhdGUoJ0Rpc3BsYXkgcmVtYWluaW5nIHRpbWUgZm9yIGVhY2ggaW50ZXJ2YWwnKSxcbiAgICB2YWx1ZTogY291bnRkb3duLFxuICAgIG9uQ2hhbmdlOiBzaG93Q291bnRkb3duLFxuICAgIG5vcmFtSWNvbjogX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiU2V0dGluZ0NvdW50ZG93bk1hcFwiXVt0aGVtZV0ubm9ybWFsLFxuICAgIGFjdGl2ZUljb246IF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIlNldHRpbmdDb3VudGRvd25NYXBcIl1bdGhlbWVdLmFjdGl2ZVxuICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2hhcnRTZXR0aW5nSXRlbSwge1xuICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnSGlzdG9yaWNhbCBkYXRhIG1vZGUnKSxcbiAgICBpZDogXCJoaXN0b3JpY2FsXCIsXG4gICAgbGFiZWw6IHQudHJhbnNsYXRlKCdEaXNwbGF5IGRhdGEgZm9yIGEgc3BlY2lmaWMgZGF0ZSBhbmQgdGltZScpLFxuICAgIHZhbHVlOiBoaXN0b3JpY2FsLFxuICAgIG9uQ2hhbmdlOiBzZXRIaXN0b3JpY2FsLFxuICAgIG5vcmFtSWNvbjogX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiU2V0dGluZ0hpc3RvcmljYWxNYXBcIl1bdGhlbWVdLm5vcm1hbCxcbiAgICBhY3RpdmVJY29uOiBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJTZXR0aW5nSGlzdG9yaWNhbE1hcFwiXVt0aGVtZV0uYWN0aXZlXG4gIH0pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRm9ybV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkZvcm1Hcm91cFwiXSwge1xuICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnSGlnaGVzdCBhbmQgbG93ZXN0IHNwb3QnKSxcbiAgICBpZDogXCJoaWdoZXN0bG93ZXN0XCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJTd2l0Y2hJY29uXCJdLCB7XG4gICAgaWQ6IFwiaGlnaGVzdGxvd2VzdFwiLFxuICAgIGxhYmVsOiB0LnRyYW5zbGF0ZSgnRGlzcGxheSB0aGUgaGlnaGVzdCBhbmQgbG93ZXN0IHNwb3QgcHJpY2UnKSxcbiAgICB2YWx1ZTogaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCxcbiAgICBvbkNoYW5nZTogdG9nZ2xlSGlnaGVzdExvd2VzdE1hcmtlcixcbiAgICBub3JhbUljb246IF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIlNldHRpbmdIaWdoZXN0TG93ZXN0TWFwXCJdW3RoZW1lXS5ub3JtYWwsXG4gICAgYWN0aXZlSWNvbjogX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiU2V0dGluZ0hpZ2hlc3RMb3dlc3RNYXBcIl1bdGhlbWVdLmFjdGl2ZVxuICB9KSkpKSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjMpIHtcbiAgdmFyIHMgPSBfcmVmMy5jaGFydFNldHRpbmc7XG4gIHJldHVybiB7XG4gICAgQ2hhcnRTZXR0aW5nTWVudTogcy5DaGFydFNldHRpbmdNZW51LFxuICAgIGNsb3NlTWVudTogcy5tZW51Lm9uVGl0bGVDbGljayxcbiAgICBjb3VudGRvd246IHMuY291bnRkb3duLFxuICAgIGhpc3RvcmljYWw6IHMuaGlzdG9yaWNhbCxcbiAgICBpc0F1dG9TY2FsZTogcy5pc0F1dG9TY2FsZSxcbiAgICBpc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkOiBzLmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQsXG4gICAgbGFuZ3VhZ2VzOiBzLmxhbmd1YWdlcyxcbiAgICBtZW51T3Blbjogcy5tZW51LmRpYWxvZy5vcGVuLFxuICAgIHNlbGVjdGVkTGFuZ3VhZ2U6IHMubGFuZ3VhZ2UsXG4gICAgc2V0QXV0b1NjYWxlOiBzLnNldEF1dG9TY2FsZSxcbiAgICBzZXRIaXN0b3JpY2FsOiBzLnNldEhpc3RvcmljYWwsXG4gICAgc2V0TGFuZ3VhZ2U6IHMuc2V0TGFuZ3VhZ2UsXG4gICAgc2V0VGhlbWU6IHMuc2V0VGhlbWUsXG4gICAgc2hvd0NvdW50ZG93bjogcy5zaG93Q291bnRkb3duLFxuICAgIHRoZW1lOiBzLnRoZW1lLFxuICAgIHRvZ2dsZUhpZ2hlc3RMb3dlc3RNYXJrZXI6IHMudG9nZ2xlSGlnaGVzdExvd2VzdE1hcmtlclxuICB9O1xufSkoQ2hhcnRTZXR0aW5nKSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0U2l6ZS5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvQ2hhcnRTaXplLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jaGFydF9zaXplX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtc2l6ZS5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LXNpemUuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X3NpemVfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfY2hhcnRfc2l6ZV9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18pO1xuXG5cblxuXG5cbnZhciBDaGFydFNpemUgPSBmdW5jdGlvbiBDaGFydFNpemUoX3JlZikge1xuICB2YXIgem9vbUluID0gX3JlZi56b29tSW4sXG4gICAgICB6b29tT3V0ID0gX3JlZi56b29tT3V0O1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtbWVudSBzYy1jaGFydC1zaXplXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1tZW51LWJ0blwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIlpvb21PdXRJY29uXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcImljLWljb24td2l0aC1zdWIgY3Etem9vbS1vdXRcIixcbiAgICBcInRvb2x0aXAtdGl0bGVcIjogdC50cmFuc2xhdGUoJ1pvb20gb3V0JyksXG4gICAgb25DbGljazogem9vbU91dFxuICB9KSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtbWVudS1idG5cIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJab29tSW5JY29uXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcImljLWljb24td2l0aC1zdWIgY3Etem9vbS1pblwiLFxuICAgIFwidG9vbHRpcC10aXRsZVwiOiB0LnRyYW5zbGF0ZSgnWm9vbSBpbicpLFxuICAgIG9uQ2xpY2s6IHpvb21JblxuICB9KSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgY2hhcnRTaXplID0gX3JlZjIuY2hhcnRTaXplO1xuICByZXR1cm4ge1xuICAgIHpvb21JbjogY2hhcnRTaXplLnpvb21JbixcbiAgICB6b29tT3V0OiBjaGFydFNpemUuem9vbU91dFxuICB9O1xufSkoQ2hhcnRTaXplKSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0VGl0bGUuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9DaGFydFRpdGxlLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QtZG9tICovIFwicmVhY3QtZG9tXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jaGFydF90aXRsZV9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LXRpdGxlLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtdGl0bGUuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X3RpdGxlX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2NoYXJ0X3RpdGxlX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyk7XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5cblxuXG5cblxudmFyIENoYXJ0VGl0bGUgPSBmdW5jdGlvbiBDaGFydFRpdGxlKHByb3BzKSB7XG4gIHZhciBjaGFydElkID0gcHJvcHMuY2hhcnRJZCxcbiAgICAgIENoYXJ0VGl0bGVNZW51ID0gcHJvcHMuQ2hhcnRUaXRsZU1lbnUsXG4gICAgICBjb250YWluZXJJZCA9IHByb3BzLmNvbnRhaW5lcklkLFxuICAgICAgY3VycmVudFN5bWJvbCA9IHByb3BzLmN1cnJlbnRTeW1ib2wsXG4gICAgICBlbmFibGVkID0gcHJvcHMuZW5hYmxlZCxcbiAgICAgIGlzTW9iaWxlID0gcHJvcHMuaXNNb2JpbGUsXG4gICAgICBNYXJrZXRTZWxlY3RvciA9IHByb3BzLk1hcmtldFNlbGVjdG9yLFxuICAgICAgcG9ydGFsTm9kZUlkID0gcHJvcHMucG9ydGFsTm9kZUlkLFxuICAgICAgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIFN5bWJvbFNlbGVjdEJ1dHRvbiA9IHByb3BzLlN5bWJvbFNlbGVjdEJ1dHRvbixcbiAgICAgIHNldE1lbnVPcGVuID0gcHJvcHMuc2V0TWVudU9wZW4sXG4gICAgICBzZWFyY2hJbnB1dENsYXNzTmFtZSA9IHByb3BzLnNlYXJjaElucHV0Q2xhc3NOYW1lLFxuICAgICAgdGhlbWUgPSBwcm9wcy50aGVtZSxcbiAgICAgIG9uTW91c2VFbnRlciA9IHByb3BzLm9uTW91c2VFbnRlcixcbiAgICAgIG9uTW91c2VMZWF2ZSA9IHByb3BzLm9uTW91c2VMZWF2ZSxcbiAgICAgIG9wZW4gPSBwcm9wcy5vcGVuLFxuICAgICAgb3Blbl9tYXJrZXQgPSBwcm9wcy5vcGVuX21hcmtldCxcbiAgICAgIGlzTmVzdGVkTGlzdCA9IHByb3BzLmlzTmVzdGVkTGlzdDtcbiAgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdXBkYXRlUHJvcHMgPSBwcm9wcy51cGRhdGVQcm9wcyxcbiAgICAgICAgb3RoZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1widXBkYXRlUHJvcHNcIl0pO1xuXG4gICAgdXBkYXRlUHJvcHMob3RoZXJQcm9wcyk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW29wZW4sIG9wZW5fbWFya2V0XSk7XG5cbiAgaWYgKCFjdXJyZW50U3ltYm9sKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgQ2hhcnRUaXRsZUNvbnRhaW5lciA9IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENoYXJ0VGl0bGVNZW51LCB7XG4gICAgZW5hYmxlZDogZW5hYmxlZCxcbiAgICBjbGFzc05hbWU6IFwiY3EtY2hhcnQtdGl0bGUgc3R4LXNob3cgY3Etc3ltYm9scy1kaXNwbGF5XCIsXG4gICAgaXNGdWxsc2NyZWVuOiB0cnVlLFxuICAgIHBvcnRhbE5vZGVJZDogcG9ydGFsTm9kZUlkLFxuICAgIHRpdGxlOiBpc01vYmlsZSA/IHQudHJhbnNsYXRlKCdVbmRlcmx5aW5nIEFzc2V0cycpIDogJycsXG4gICAgb25Nb3VzZUVudGVyOiBvbk1vdXNlRW50ZXIsXG4gICAgb25Nb3VzZUxlYXZlOiBvbk1vdXNlTGVhdmVcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2hhcnRUaXRsZU1lbnUuVGl0bGUsIG51bGwsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFN5bWJvbFNlbGVjdEJ1dHRvbiwgbnVsbCkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDaGFydFRpdGxlTWVudS5Cb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChNYXJrZXRTZWxlY3Rvciwge1xuICAgIHBvcnRhbE5vZGVJZDogcG9ydGFsTm9kZUlkLFxuICAgIGlzTmVzdGVkTGlzdDogaXNOZXN0ZWRMaXN0LFxuICAgIHNlYXJjaElucHV0Q2xhc3NOYW1lOiBzZWFyY2hJbnB1dENsYXNzTmFtZSxcbiAgICBvblNlbGVjdEl0ZW06IGZ1bmN0aW9uIG9uU2VsZWN0SXRlbSh4KSB7XG4gICAgICBpZiAoeC5zeW1ib2wgIT09IGN1cnJlbnRTeW1ib2wuc3ltYm9sKSB7XG4gICAgICAgIG9uQ2hhbmdlKHguc3ltYm9sLCBjaGFydElkKTtcbiAgICAgIH1cblxuICAgICAgc2V0TWVudU9wZW4oZmFsc2UpO1xuICAgIH1cbiAgfSkpKTtcblxuICBpZiAoY29udGFpbmVySWQpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5jcmVhdGVQb3J0YWwoIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJzbWFydGNoYXJ0cy1cIi5jb25jYXQodGhlbWUpXG4gICAgfSwgQ2hhcnRUaXRsZUNvbnRhaW5lciksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklkKSk7XG4gIH1cblxuICByZXR1cm4gQ2hhcnRUaXRsZUNvbnRhaW5lcjtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgYyA9IF9yZWYuY2hhcnRUaXRsZSxcbiAgICAgIGNoYXJ0ID0gX3JlZi5jaGFydCxcbiAgICAgIGNoYXJ0U2V0dGluZyA9IF9yZWYuY2hhcnRTZXR0aW5nO1xuICByZXR1cm4ge1xuICAgIGNoYXJ0SWQ6IGNoYXJ0LmNoYXJ0SWQsXG4gICAgQ2hhcnRUaXRsZU1lbnU6IGMuQ2hhcnRUaXRsZU1lbnUsXG4gICAgY3VycmVudFN5bWJvbDogYy5jdXJyZW50U3ltYm9sLFxuICAgIGlzTW9iaWxlOiBjaGFydC5pc01vYmlsZSxcbiAgICBNYXJrZXRTZWxlY3RvcjogYy5NYXJrZXRTZWxlY3RvcixcbiAgICBvbkNoYW5nZTogYy5zZXRTeW1ib2wsXG4gICAgc2V0TWVudU9wZW46IGMubWVudS5zZXRPcGVuLFxuICAgIFN5bWJvbFNlbGVjdEJ1dHRvbjogYy5TeW1ib2xTZWxlY3RCdXR0b24sXG4gICAgb25Nb3VzZUVudGVyOiBjLm9uTW91c2VFbnRlcixcbiAgICBvbk1vdXNlTGVhdmU6IGMub25Nb3VzZUxlYXZlLFxuICAgIHVwZGF0ZVByb3BzOiBjLnVwZGF0ZVByb3BzLFxuICAgIHRoZW1lOiBjaGFydFNldHRpbmcudGhlbWVcbiAgfTtcbn0pKENoYXJ0VGl0bGUpKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRUeXBlcy5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0NoYXJ0VHlwZXMuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1Rvb2x0aXBfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1Rvb2x0aXAuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9Ub29sdGlwLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X3R5cGVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtdHlwZXMuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaGFydC10eXBlcy5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2hhcnRfdHlwZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfY2hhcnRfdHlwZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fKTtcbi8qIGVzbGludC1kaXNhYmxlIGpzeC1hMTF5L25vLXN0YXRpYy1lbGVtZW50LWludGVyYWN0aW9ucyAqL1xuXG5cblxuXG5cblxudmFyIFR5cGVJY29uID0gZnVuY3Rpb24gVHlwZUljb24oX3JlZikge1xuICB2YXIgSWNvbiA9IF9yZWYuSWNvbixcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEljb24sIHByb3BzKTtcbn07XG5cbnZhciBDaGFydFR5cGVzID0gZnVuY3Rpb24gQ2hhcnRUeXBlcyhfcmVmMikge1xuICB2YXIgY2hhcnRJZCA9IF9yZWYyLmNoYXJ0SWQsXG4gICAgICBDaGFydFR5cGVMaXN0ID0gX3JlZjIuQ2hhcnRUeXBlTGlzdCxcbiAgICAgIENoYXJ0VHlwZU1lbnUgPSBfcmVmMi5DaGFydFR5cGVNZW51LFxuICAgICAgZW5hYmxlZCA9IF9yZWYyLmVuYWJsZWQsXG4gICAgICBtZW51T3BlbiA9IF9yZWYyLm1lbnVPcGVuLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmMi5vbkNoYW5nZSxcbiAgICAgIHNldE9wZW4gPSBfcmVmMi5zZXRPcGVuLFxuICAgICAgc2hvd0FnZ3JlZ2F0ZURpYWxvZyA9IF9yZWYyLnNob3dBZ2dyZWdhdGVEaWFsb2csXG4gICAgICBUeXBlID0gX3JlZjIuVHlwZSxcbiAgICAgIHVwZGF0ZVByb3BzID0gX3JlZjIudXBkYXRlUHJvcHMsXG4gICAgICBuZXdEZXNpZ24gPSBfcmVmMi5uZXdEZXNpZ24sXG4gICAgICB0eXBlcyA9IF9yZWYyLnR5cGVzLFxuICAgICAgaXNNb2JpbGUgPSBfcmVmMi5pc01vYmlsZTtcbiAgaWYgKFR5cGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG5cbiAgdmFyIG9uSXRlbUNsaWNrID0gZnVuY3Rpb24gb25JdGVtQ2xpY2soaWR4LCBjaGFydFR5cGUpIHtcbiAgICBpZiAoVHlwZS5pZCAhPT0gY2hhcnRUeXBlLmlkKSB7XG4gICAgICBvbkNoYW5nZShjaGFydFR5cGUuaWQsIGNoYXJ0VHlwZS5jYW5kbGVPbmx5LCBjaGFydElkKTtcbiAgICB9XG5cbiAgICBzZXRPcGVuKGZhbHNlKTtcbiAgfTtcblxuICB1cGRhdGVQcm9wcyhvbkNoYW5nZSk7XG5cbiAgaWYgKG5ld0Rlc2lnbikge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwic2MtY2hhcnQtdHlwZVwiXG4gICAgfSwgdHlwZXMubWFwKGZ1bmN0aW9uIChjaGFydFR5cGUpIHtcbiAgICAgIHZhciBJY29uID0gY2hhcnRUeXBlLmljb247XG4gICAgICB2YXIgY2xhc3NOYW1lID0gJ3NjLWNoYXJ0LXR5cGVfX2l0ZW0nO1xuICAgICAgY2xhc3NOYW1lICs9IGNoYXJ0VHlwZS5hY3RpdmUgPyAnIHNjLWNoYXJ0LXR5cGVfX2l0ZW0tLWFjdGl2ZScgOiAnJztcbiAgICAgIGNsYXNzTmFtZSArPSBjaGFydFR5cGUuZGlzYWJsZWQgPyAnIHNjLWNoYXJ0LXR5cGVfX2l0ZW0tLWRpc2FibGVkJyA6ICcnO1xuXG4gICAgICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIHJldHVybiBjaGFydFR5cGUuZGlzYWJsZWQgPyBudWxsIDogb25JdGVtQ2xpY2soMCwgY2hhcnRUeXBlKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfVG9vbHRpcF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAga2V5OiBjaGFydFR5cGUuaWQsXG4gICAgICAgIGVuYWJsZWQ6IGNoYXJ0VHlwZS5kaXNhYmxlZCAmJiAhaXNNb2JpbGUsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBjb250ZW50OiB0LnRyYW5zbGF0ZSgnQXZhaWxhYmxlIG9ubHkgZm9yIG5vbi10aWNrIHRpbWUgaW50ZXJ2YWxzLicpLFxuICAgICAgICBvbkNsaWNrOiBvbkNsaWNrXG4gICAgICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChJY29uLCBudWxsKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInRleHRcIlxuICAgICAgfSwgdC50cmFuc2xhdGUoY2hhcnRUeXBlLnRleHQpKSk7XG4gICAgfSkpO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENoYXJ0VHlwZU1lbnUsIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLWRpc3BsYXkgY2lxLWNoYXJ0LXR5cGVzXCIsXG4gICAgZW5hYmxlZDogZW5hYmxlZCxcbiAgICB0aXRsZTogdC50cmFuc2xhdGUoJ0NoYXJ0IHR5cGVzJylcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2hhcnRUeXBlTWVudS5UaXRsZSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoVHlwZUljb24sIHtcbiAgICBJY29uOiBUeXBlLmljb24sXG4gICAgY2xhc3NOYW1lOiBcImljLWljb24td2l0aC1zdWIgXCIuY29uY2F0KG1lbnVPcGVuID8gJ2FjdGl2ZScgOiAnJyksXG4gICAgXCJ0b29sdGlwLXRpdGxlXCI6IHQudHJhbnNsYXRlKFR5cGUudGV4dClcbiAgfSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDaGFydFR5cGVNZW51LkJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYm9keVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENoYXJ0VHlwZUxpc3QsIHtcbiAgICBoZWlnaHQ6IDI2MCxcbiAgICBvbkl0ZW1DbGljazogb25JdGVtQ2xpY2tcbiAgfSwgZnVuY3Rpb24gKFQpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibGVmdFwiXG4gICAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoVHlwZUljb24sIHtcbiAgICAgIEljb246IFR5cGUuaWNvbixcbiAgICAgIGNsYXNzTmFtZTogXCJtYXJnaW4gXCIuY29uY2F0KFQuYWN0aXZlID8gJ2FjdGl2ZScgOiAnJylcbiAgICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtaWNvbi10ZXh0XCJcbiAgICB9LCBULnRleHQpKSwgVC5zZXR0aW5nc09uQ2xpY2sgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtYWdncmVnYXRlLXNldHRpbmdcIixcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIHJldHVybiBzaG93QWdncmVnYXRlRGlhbG9nKFQuaWQpO1xuICAgICAgfVxuICAgIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIlNldHRpbmdJY29uXCJdLCBudWxsKSkpO1xuICB9KSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjMpIHtcbiAgdmFyIGNoYXJ0VHlwZSA9IF9yZWYzLmNoYXJ0VHlwZSxcbiAgICAgIGNoYXJ0ID0gX3JlZjMuY2hhcnQ7XG4gIHJldHVybiB7XG4gICAgY2hhcnRJZDogY2hhcnQuY2hhcnRJZCxcbiAgICBDaGFydFR5cGVNZW51OiBjaGFydFR5cGUuQ2hhcnRUeXBlTWVudSxcbiAgICBDaGFydFR5cGVMaXN0OiBjaGFydFR5cGUuQ2hhcnRUeXBlTGlzdCxcbiAgICBtZW51T3BlbjogY2hhcnRUeXBlLm1lbnUub3BlbixcbiAgICBvbkNoYW5nZTogY2hhcnRUeXBlLnNldFR5cGVGcm9tVUksXG4gICAgc2V0T3BlbjogY2hhcnRUeXBlLm1lbnUuc2V0T3BlbixcbiAgICBzaG93QWdncmVnYXRlRGlhbG9nOiBjaGFydFR5cGUuc2hvd0FnZ3JlZ2F0ZURpYWxvZyxcbiAgICBUeXBlOiBjaGFydFR5cGUudHlwZSxcbiAgICB1cGRhdGVQcm9wczogY2hhcnRUeXBlLnVwZGF0ZVByb3BzLFxuICAgIHR5cGVzOiBjaGFydFR5cGUudHlwZXMsXG4gICAgaXNNb2JpbGU6IGNoYXJ0LmlzTW9iaWxlXG4gIH07XG59KShDaGFydFR5cGVzKSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0Nyb3NzaGFpci5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvQ3Jvc3NoYWlyLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY3Jvc3NoYWlyX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fY3Jvc3NoYWlyLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY3Jvc3NoYWlyLnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jcm9zc2hhaXJfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfY3Jvc3NoYWlyX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG5cblxuXG52YXIgQ3Jvc3NoYWlyID0gZnVuY3Rpb24gQ3Jvc3NoYWlyKCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jcm9zc2hhaXJcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWNyb3NzaGFpci1jb250ZW50XCJcbiAgfSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChDcm9zc2hhaXIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0Nyb3NzaGFpclRvZ2dsZS5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvQ3Jvc3NoYWlyVG9nZ2xlLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Gb3JtLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvRm9ybS5qc3hcIik7XG5cblxuXG5cblxudmFyIENyb3NzaGFpclRvZ2dsZSA9IGZ1bmN0aW9uIENyb3NzaGFpclRvZ2dsZShfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBzZXRDcm9zc2hhaXJTdGF0ZSA9IF9yZWYuc2V0Q3Jvc3NoYWlyU3RhdGUsXG4gICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsXG4gICAgICB1cGRhdGVQcm9wcyA9IF9yZWYudXBkYXRlUHJvcHMsXG4gICAgICBfcmVmJGlzVmlzaWJsZSA9IF9yZWYuaXNWaXNpYmxlLFxuICAgICAgaXNWaXNpYmxlID0gX3JlZiRpc1Zpc2libGUgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGlzVmlzaWJsZTtcbiAgdmFyIENyb3NzaGFpckljb24gPSBbX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiQ3Jvc3NoYWlyT2ZmSWNvblwiXSwgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiQ3Jvc3NoYWlyT25JY29uXCJdLCBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJDcm9zc2hhaXJUb29sdGlwSWNvblwiXV1bc3RhdGVdO1xuXG4gIHZhciBvbkNyb3NzaGFpclRvZ2dsZSA9IGZ1bmN0aW9uIG9uQ3Jvc3NoYWlyVG9nZ2xlKCkge1xuICAgIHNldENyb3NzaGFpclN0YXRlKChzdGF0ZSArIDEpICUgMyk7XG4gIH07XG5cbiAgdXBkYXRlUHJvcHMob25DaGFuZ2UpO1xuICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGw7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRm9ybV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIlRvZ2dsZVwiXSwge1xuICAgIGFjdGl2ZTogc3RhdGUgIT09IDAsXG4gICAgb25DaGFuZ2U6IG9uQ3Jvc3NoYWlyVG9nZ2xlXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENyb3NzaGFpckljb24sIG51bGwpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGNyb3NzaGFpciA9IF9yZWYyLmNyb3NzaGFpcjtcbiAgcmV0dXJuIHtcbiAgICBzdGF0ZTogdHlwZW9mIGNyb3NzaGFpci5zdGF0ZSAhPT0gJ251bWJlcicgPyAwIDogY3Jvc3NoYWlyLnN0YXRlLFxuICAgIHNldENyb3NzaGFpclN0YXRlOiBjcm9zc2hhaXIuc2V0Q3Jvc3NoYWlyU3RhdGUsXG4gICAgdXBkYXRlUHJvcHM6IGNyb3NzaGFpci51cGRhdGVQcm9wc1xuICB9O1xufSkoQ3Jvc3NoYWlyVG9nZ2xlKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvRGlhbG9nLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9EaWFsb2cuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xhc3NuYW1lcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2RpYWxvZ19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2RpYWxvZy5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2RpYWxvZy5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfZGlhbG9nX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2RpYWxvZ19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18pO1xuXG5cblxuXG5cbnZhciBEaWFsb2cgPSBmdW5jdGlvbiBEaWFsb2coX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgb25Db250YWluZXJDbGljayA9IF9yZWYub25Db250YWluZXJDbGljayxcbiAgICAgIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIGN1c3RvbUhlYWQgPSBfcmVmLmN1c3RvbUhlYWQsXG4gICAgICBfcmVmJGVuYWJsZVRhYnVsYXIgPSBfcmVmLmVuYWJsZVRhYnVsYXIsXG4gICAgICBlbmFibGVUYWJ1bGFyID0gX3JlZiRlbmFibGVUYWJ1bGFyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZW5hYmxlVGFidWxhcixcbiAgICAgIGhhbmRsZUNsb3NlRGlhbG9nID0gX3JlZi5oYW5kbGVDbG9zZURpYWxvZyxcbiAgICAgIHVwZGF0ZUNsb3NlQ2FsbGJhY2sgPSBfcmVmLnVwZGF0ZUNsb3NlQ2FsbGJhY2s7XG4gIE9iamVjdChyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1widXNlRWZmZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHVwZGF0ZUNsb3NlQ2FsbGJhY2soaGFuZGxlQ2xvc2VEaWFsb2cpO1xuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0KCkoJ3NjLWRpYWxvZycsIGNsYXNzTmFtZSwge1xuICAgICAgJ3NjLWRpYWxvZy0tdGFidWxhcic6IGVuYWJsZVRhYnVsYXJcbiAgICB9KSxcbiAgICBvbkNsaWNrOiBvbkNvbnRhaW5lckNsaWNrXG4gIH0sIHRpdGxlICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtZGlhbG9nX19oZWFkXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1kaWFsb2dfX2hlYWQtLXRpdGxlXCJcbiAgfSwgdGl0bGUpLCBjdXN0b21IZWFkICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtZGlhbG9nX19oZWFkLS1jdXN0b21cIlxuICB9LCBjdXN0b21IZWFkKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1kaWFsb2dfX2hlYWQtLWFjdGlvblwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkNsb3NlSWNvblwiXSwge1xuICAgIG9uQ2xpY2s6IGhhbmRsZUNsb3NlRGlhbG9nXG4gIH0pKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtZGlhbG9nX19ib2R5XCJcbiAgfSwgY2hpbGRyZW4pKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoRGlhbG9nKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9EcmF3VG9vbHMuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0RyYXdUb29scy5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LXRhYnMgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjbGFzc25hbWVzICovIFwiLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU2Nyb2xsX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TY3JvbGwuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TY3JvbGwuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTm90aWZpY2F0aW9uQmFkZ2VfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL05vdGlmaWNhdGlvbkJhZGdlLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uQmFkZ2UuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19kcmF3X3Rvb2xzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fZHJhd190b29scy5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2RyYXdfdG9vbHMuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2RyYXdfdG9vbHNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfZHJhd190b29sc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18pO1xuXG5cblxuXG5cblxuXG5cblxudmFyIEFjdGl2ZVBhbmVsVmlldyA9IGZ1bmN0aW9uIEFjdGl2ZVBhbmVsVmlldyhfcmVmKSB7XG4gIHZhciBlbmFibGVkID0gX3JlZi5lbmFibGVkLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICByZXR1cm4gZW5hYmxlZCA/IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtZHRvb2xzLS1lbXB0eVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcIkVtcHR5U3RhdGVJY29uXCJdLCBudWxsKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIHQudHJhbnNsYXRlKCdZb3UgaGF2ZSBubyBhY3RpdmUgZHJhd2luZ3MgeWV0LicpKSkgOiBjaGlsZHJlbjtcbn07XG5cbnZhciBJbmZvID0gZnVuY3Rpb24gSW5mbyhfcmVmMikge1xuICB2YXIgSWNvbiA9IF9yZWYyLkljb24sXG4gICAgICB0ZXh0ID0gX3JlZjIudGV4dCxcbiAgICAgIG51bSA9IF9yZWYyLm51bSxcbiAgICAgIGJhcnMgPSBfcmVmMi5iYXJzO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJpbmZvXCJcbiAgfSwgSWNvbiA/IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICBjbGFzc05hbWU6IFwiaWNvblwiXG4gIH0pIDogJycsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidGV4dFwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCB0LnRyYW5zbGF0ZSh0ZXh0LCB7XG4gICAgbnVtOiBudW0gfHwgJyAnXG4gIH0pKSwgYmFycyA/IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic21hbGxcIiwgbnVsbCwgXCIoXCIsIGJhcnMsIFwiIGJhcnMpXCIpIDogJycpKTtcbn07XG5cbnZhciBEcmF3VG9vbHNMaXN0ID0gZnVuY3Rpb24gRHJhd1Rvb2xzTGlzdChfcmVmMykge1xuICB2YXIgaXRlbXMgPSBfcmVmMy5pdGVtcyxcbiAgICAgIF9vbkNsaWNrID0gX3JlZjMub25DbGljaztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtZHRvb2xzX19saXN0XCJcbiAgfSwgaXRlbXMubWFwKGZ1bmN0aW9uIChJdGVtKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGtleTogSXRlbS5pZCxcbiAgICAgIGNsYXNzTmFtZTogXCJzYy1kdG9vbHNfX2xpc3RfX2l0ZW1cIixcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIHJldHVybiBfb25DbGljayhJdGVtLmlkKTtcbiAgICAgIH1cbiAgICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChJbmZvLCB7XG4gICAgICBJY29uOiBJdGVtLmljb24sXG4gICAgICB0ZXh0OiBJdGVtLnRleHRcbiAgICB9KSk7XG4gIH0pKTtcbn07XG5cbnZhciBBY3RpdmVEcmF3VG9vbHNMaXN0SXRlbSA9IGZ1bmN0aW9uIEFjdGl2ZURyYXdUb29sc0xpc3RJdGVtKF9yZWY0KSB7XG4gIHZhciBpdGVtID0gX3JlZjQuaXRlbSxcbiAgICAgIG9uU2V0dGluZyA9IF9yZWY0Lm9uU2V0dGluZyxcbiAgICAgIG9uRGVsZXRlID0gX3JlZjQub25EZWxldGU7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWR0b29sc19fbGlzdF9faXRlbVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEluZm8sIHtcbiAgICBJY29uOiBpdGVtLmljb24sXG4gICAgdGV4dDogaXRlbS50ZXh0LFxuICAgIGJhcnM6IGl0ZW0uYmFycyxcbiAgICBudW06IGl0ZW0ubnVtXG4gIH0pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImFjdGlvbnNcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJTZXR0aW5nSWNvblwiXSwge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gb25TZXR0aW5nKGl0ZW0uaW5kZXgpO1xuICAgIH1cbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcIkRlbGV0ZUljb25cIl0sIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uRGVsZXRlKGl0ZW0uaW5kZXgpO1xuICAgIH1cbiAgfSkpKTtcbn07XG5cbnZhciBBY3RpdmVEcmF3VG9vbHNMaXN0R3JvdXAgPSBmdW5jdGlvbiBBY3RpdmVEcmF3VG9vbHNMaXN0R3JvdXAoX3JlZjUpIHtcbiAgdmFyIGdyb3VwID0gX3JlZjUuZ3JvdXAsXG4gICAgICBvblNldHRpbmcgPSBfcmVmNS5vblNldHRpbmcsXG4gICAgICBvbkRlbGV0ZSA9IF9yZWY1Lm9uRGVsZXRlO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1kdG9vbHNfX2NhdGVnb3J5XCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1kdG9vbHNfX2NhdGVnb3J5X19oZWFkXCJcbiAgfSwgdC50cmFuc2xhdGUoZ3JvdXAubmFtZSwge1xuICAgIG51bTogJyAnXG4gIH0pKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1kdG9vbHNfX2NhdGVnb3J5X19ib2R5XCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1kdG9vbHNfX2xpc3RcIlxuICB9LCBncm91cC5pdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQWN0aXZlRHJhd1Rvb2xzTGlzdEl0ZW0sIHtcbiAgICAgIGtleTogXCJcIi5jb25jYXQoaXRlbS5pbmRleCksXG4gICAgICBpdGVtOiBpdGVtLFxuICAgICAgb25TZXR0aW5nOiBvblNldHRpbmcsXG4gICAgICBvbkRlbGV0ZTogb25EZWxldGVcbiAgICB9KTtcbiAgfSkpKSk7XG59O1xuXG52YXIgQWN0aXZlRHJhd1Rvb2xzTGlzdCA9IGZ1bmN0aW9uIEFjdGl2ZURyYXdUb29sc0xpc3QoX3JlZjYpIHtcbiAgdmFyIGFjdGl2ZURyYXdUb29sc0dyb3VwID0gX3JlZjYuYWN0aXZlRHJhd1Rvb2xzR3JvdXAsXG4gICAgICBvblNldHRpbmcgPSBfcmVmNi5vblNldHRpbmcsXG4gICAgICBvbkRlbGV0ZSA9IF9yZWY2Lm9uRGVsZXRlO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1Njcm9sbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBhdXRvSGlkZTogdHJ1ZSxcbiAgICBoZWlnaHQ6IDMyMFxuICB9LCBhY3RpdmVEcmF3VG9vbHNHcm91cC5tYXAoZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgcmV0dXJuIGdyb3VwLml0ZW1zICYmIGdyb3VwLml0ZW1zLmxlbmd0aCA9PT0gMSA/IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEFjdGl2ZURyYXdUb29sc0xpc3RJdGVtLCB7XG4gICAgICBrZXk6IGdyb3VwLmtleSxcbiAgICAgIGl0ZW06IGdyb3VwLml0ZW1zWzBdLFxuICAgICAgb25TZXR0aW5nOiBvblNldHRpbmcsXG4gICAgICBvbkRlbGV0ZTogb25EZWxldGVcbiAgICB9KSA6IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEFjdGl2ZURyYXdUb29sc0xpc3RHcm91cCwge1xuICAgICAga2V5OiBncm91cC5rZXksXG4gICAgICBncm91cDogZ3JvdXAsXG4gICAgICBvblNldHRpbmc6IG9uU2V0dGluZyxcbiAgICAgIG9uRGVsZXRlOiBvbkRlbGV0ZVxuICAgIH0pO1xuICB9KSk7XG59O1xuXG52YXIgRHJhd1Rvb2xzID0gZnVuY3Rpb24gRHJhd1Rvb2xzKF9yZWY3KSB7XG4gIHZhciBjbGVhckFsbCA9IF9yZWY3LmNsZWFyQWxsLFxuICAgICAgc2VsZWN0VG9vbCA9IF9yZWY3LnNlbGVjdFRvb2wsXG4gICAgICBEcmF3VG9vbHNNZW51ID0gX3JlZjcuRHJhd1Rvb2xzTWVudSxcbiAgICAgIG1lbnVPcGVuID0gX3JlZjcubWVudU9wZW4sXG4gICAgICBkcmF3VG9vbHNJdGVtcyA9IF9yZWY3LmRyYXdUb29sc0l0ZW1zLFxuICAgICAgYWN0aXZlRHJhd1Rvb2xzSXRlbXNObyA9IF9yZWY3LmFjdGl2ZURyYXdUb29sc0l0ZW1zTm8sXG4gICAgICBhY3RpdmVEcmF3VG9vbHNHcm91cCA9IF9yZWY3LmFjdGl2ZURyYXdUb29sc0dyb3VwLFxuICAgICAgb25TZXR0aW5nID0gX3JlZjcub25TZXR0aW5nLFxuICAgICAgb25EZWxldGUgPSBfcmVmNy5vbkRlbGV0ZSxcbiAgICAgIHBvcnRhbE5vZGVJZCA9IF9yZWY3LnBvcnRhbE5vZGVJZCxcbiAgICAgIHVwZGF0ZVBvcnRhbE5vZGUgPSBfcmVmNy51cGRhdGVQb3J0YWxOb2RlO1xuICB1cGRhdGVQb3J0YWxOb2RlKHBvcnRhbE5vZGVJZCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChEcmF3VG9vbHNNZW51LCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWR0b29sc1wiLFxuICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnRHJhd2luZyB0b29scycpLFxuICAgIHRvb2x0aXA6IHQudHJhbnNsYXRlKCdEcmF3aW5nIHRvb2xzJyksXG4gICAgbW9kYWxNb2RlOiB0cnVlLFxuICAgIGVuYWJsZVRhYnVsYXI6IHRydWUsXG4gICAgcG9ydGFsTm9kZUlkOiBwb3J0YWxOb2RlSWRcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRHJhd1Rvb2xzTWVudS5UaXRsZSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQoKSgnc2MtZHRvb2xzX19tZW51Jywge1xuICAgICAgJ3NjLWR0b29sc19fbWVudS0tYWN0aXZlJzogbWVudU9wZW5cbiAgICB9KVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJEcmF3VG9vbEljb25cIl0sIG51bGwpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfTm90aWZpY2F0aW9uQmFkZ2VfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLCB7XG4gICAgbm90aWZpY2F0aW9uQ291bnQ6IGFjdGl2ZURyYXdUb29sc0l0ZW1zTm9cbiAgfSkpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRHJhd1Rvb2xzTWVudS5Cb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF90YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUYWJzXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcInRhYnMtLXZlcnRpY2FsXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfdGFic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVGFiTGlzdFwiXSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfdGFic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVGFiXCJdLCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJBY3RpdmVJY29uXCJdLCBudWxsKSwgdC50cmFuc2xhdGUoJ0FjdGl2ZScpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfTm90aWZpY2F0aW9uQmFkZ2VfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLCB7XG4gICAgbm90aWZpY2F0aW9uQ291bnQ6IGFjdGl2ZURyYXdUb29sc0l0ZW1zTm9cbiAgfSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF90YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUYWJcIl0sIG51bGwsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcIkRyYXdUb29sSWNvblwiXSwgbnVsbCksIHQudHJhbnNsYXRlKCdBbGwgZHJhd2luZ3MnKSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF90YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUYWJQYW5lbFwiXSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1kdG9vbHNfX3BhbmVsXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQWN0aXZlUGFuZWxWaWV3LCB7XG4gICAgZW5hYmxlZDogIWFjdGl2ZURyYXdUb29sc0l0ZW1zTm9cbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1kdG9vbHNfX3BhbmVsX19oZWFkXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgY2xhc3NOYW1lOiBcInNjLWJ0biBzYy1idG4tLXNtIHNjLWJ0bi0tb3V0bGluZS1zZWNvbmRhcnlcIixcbiAgICBvbkNsaWNrOiBjbGVhckFsbFxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgdC50cmFuc2xhdGUoJ0NsZWFyIGFsbCcpKSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWR0b29sc19fcGFuZWxfX2NvbnRlbnQgc2MtZHRvb2xzX19wYW5lbF9fY29udGVudC0tYWN0aXZlXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQWN0aXZlRHJhd1Rvb2xzTGlzdCwge1xuICAgIGFjdGl2ZURyYXdUb29sc0dyb3VwOiBhY3RpdmVEcmF3VG9vbHNHcm91cCxcbiAgICBvblNldHRpbmc6IG9uU2V0dGluZyxcbiAgICBvbkRlbGV0ZTogb25EZWxldGVcbiAgfSkpKSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF90YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUYWJQYW5lbFwiXSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1kdG9vbHNfX3BhbmVsXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1kdG9vbHNfX3BhbmVsX19jb250ZW50XCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRHJhd1Rvb2xzTGlzdCwge1xuICAgIGl0ZW1zOiBkcmF3VG9vbHNJdGVtcyxcbiAgICBvbkNsaWNrOiBzZWxlY3RUb29sXG4gIH0pKSkpKSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmOCkge1xuICB2YXIgZHQgPSBfcmVmOC5kcmF3VG9vbHM7XG4gIHJldHVybiB7XG4gICAgY2xlYXJBbGw6IGR0LmNsZWFyQWxsLFxuICAgIHNlbGVjdFRvb2w6IGR0LnNlbGVjdFRvb2wsXG4gICAgRHJhd1Rvb2xzTWVudTogZHQuRHJhd1Rvb2xzTWVudSxcbiAgICBtZW51T3BlbjogZHQubWVudS5vcGVuLFxuICAgIGRyYXdUb29sc0l0ZW1zOiBkdC5kcmF3VG9vbHNJdGVtcyxcbiAgICBhY3RpdmVEcmF3VG9vbHNJdGVtc05vOiBkdC5hY3RpdmVUb29sc05vLFxuICAgIGFjdGl2ZURyYXdUb29sc0dyb3VwOiBkdC5hY3RpdmVUb29sc0dyb3VwLFxuICAgIG9uU2V0dGluZzogZHQub25TZXR0aW5nLFxuICAgIG9uRGVsZXRlOiBkdC5vbkRlbGV0ZWQsXG4gICAgdXBkYXRlUG9ydGFsTm9kZTogZHQudXBkYXRlUG9ydGFsTm9kZVxuICB9O1xufSkoRHJhd1Rvb2xzKSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0Zhc3RNYXJrZXIuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9GYXN0TWFya2VyLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuXG5cbiAvLyBSZW5kZXIgZ2l2ZW4gQ29tcG9uZW50cyB1bmRlciBzdHgtc3ViaG9sZGVyLlxuLy8gVGhpcyBjb21wb25lbnQgaXMgdXNlZCB0byBwb3NpdGlvbiBhIG1hcmtlciBvbiB0aGUgY2hhcnQuXG4vL1xuLy8gVVNBR0U6XG4vL1xuLy8gIC0gc2V0UmVmKHtzZXRQb3NpdGlvbiwgZGl2fSkgd2lsbCBiZSBjYWxsZWQgb24gbW91bnQuXG4vLyAgLSBcImRpdlwiIGlzIHRoZSBkb20gZWxlbWVudCBjb250YWluaW5nIHRoZSBtYXJrZXIgd2l0aCBcInlvdXItY3NzLWNsYXNzXCJcbi8vICAtIFwic2V0UG9zaXRpb24oe2Vwb2NoLCBwcmljZX0pXCIgaXMgYSBmdW5jdGlvbiB0aGF0IHlvdSB3aWxsIHVzZSB0byB1cGRhdGUgdGhlIGRpdiBwb3NpdGlvbi5cbi8vICAtIGNhbGxpbmcgXCJzZXRQb3NpdGlvbih7ZXBvY2g6IG51bGwsIHByaWNlOiBudWxsfSlcIiB3aWxsIGhpZGUgdGhlIG1hcmtlci5cbi8vICAtIHVzZSBcImRpdi5xdWVyeVNlbGVjdG9yKCcuLi4nKVwiIHRvIGdldCBhIGRvbSByZWZlcmVuY2UgaW4gb3JkZXIgdG8gdXBkYXRlIHlvdXIgY29udGVudCAuXG4vLyAgLSBcInNldFJlZihudWxsKVwiIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIG1hcmtlciB1bm1vdW50cy5cbi8vXG4vLyAgPEZhc3RNYXJrZXJcbi8vICAgICAgbWFya2VyUmVmPXtzZXRSZWZ9XG4vLyAgICAgIHRocmVzaG9sZD17b3B0aW9uYWwgdmlzaWJpbGl0eSB0aHJlc2hvbGR9XG4vLyAgICAgIGNsYXNzTmFtZT1cInlvdXItY3NzLWNsYXNzXCJcbi8vICA+XG4vLyAgICAgPHlvdXIgY29udGVudCBoZXJlLz5cbi8vICA8L0Zhc3RNYXJrZXI+XG4vL1xuLy8gIC0gdGhlIGNoYXJ0IGNhbiBoYXZlIGEgem9vbSBsZXZlbCwgaWYgYHRocmVzaG9sZGAgaXMgcHJvdmlkZWRcbi8vICAgIHRoZSBtYXJrZXIgd2lsbCBvbmx5IGJlIHNob3duIGlmIGl0J3Mgd2l0aGluIHRoYXQgem9vbSB0aHJlc2hvbGQuXG5cbnZhciBGYXN0TWFya2VyID0gZnVuY3Rpb24gRmFzdE1hcmtlcihwcm9wcykge1xuICB2YXIgcHJpY2VfcmVmID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlUmVmKG51bGwpO1xuICB2YXIgZGF0ZV9yZWYgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VSZWYobnVsbCk7XG4gIHZhciBlbGVtX3JlZiA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVJlZihudWxsKTtcbiAgdmFyIGN0eF9yZWYgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VSZWYobnVsbCk7XG4gIHZhciBzdHhfcmVmID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlUmVmKG51bGwpO1xuICB2YXIgaW5qZWN0aW9uX2lkX3JlZiA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVJlZigpO1xuICB2YXIgcHJvcHNfcmVmID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlUmVmKCk7XG4gIHByb3BzX3JlZi5jdXJyZW50ID0gcHJvcHM7XG5cbiAgdmFyIHNldFBvc2l0aW9uID0gZnVuY3Rpb24gc2V0UG9zaXRpb24oX3JlZikge1xuICAgIHZhciBlcG9jaCA9IF9yZWYuZXBvY2gsXG4gICAgICAgIHByaWNlID0gX3JlZi5wcmljZTtcbiAgICBwcmljZV9yZWYuY3VycmVudCA9ICtwcmljZSB8fCBudWxsO1xuICAgIGRhdGVfcmVmLmN1cnJlbnQgPSBDSVEuc3RyVG9EYXRlVGltZShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRVVENEYXRlXCJdKShlcG9jaCkpO1xuICAgIHVwZGF0ZUNTUygpO1xuICB9O1xuXG4gIHZhciB1cGRhdGVDU1MgPSBmdW5jdGlvbiB1cGRhdGVDU1MoKSB7XG4gICAgaWYgKCFlbGVtX3JlZi5jdXJyZW50IHx8ICFjdHhfcmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRhdGVfcmVmLmN1cnJlbnQpIHtcbiAgICAgIGVsZW1fcmVmLmN1cnJlbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBvZmZzZXRUb3AgPSBwcm9wc19yZWYuY3VycmVudC5vZmZzZXRUb3AgfHwgMDtcbiAgICB2YXIgb2Zmc2V0TGVmdCA9IHByb3BzX3JlZi5jdXJyZW50Lm9mZnNldExlZnQgfHwgMDtcbiAgICB2YXIgZWxlbSA9IGVsZW1fcmVmLmN1cnJlbnQ7XG4gICAgdmFyIHN0eCA9IHN0eF9yZWYuY3VycmVudDtcbiAgICB2YXIgY2hhcnQgPSBzdHguY2hhcnQ7XG4gICAgdmFyIHRvcCA9IDAsXG4gICAgICAgIGxlZnQgPSAwLFxuICAgICAgICBzaG93ID0gdHJ1ZTtcbiAgICB2YXIgdGhyZXNob2xkID0gK3Byb3BzX3JlZi5jdXJyZW50LnRocmVzaG9sZCB8fCAwO1xuICAgIHNob3cgPSAhdGhyZXNob2xkIHx8IHN0eC5sYXlvdXQuY2FuZGxlV2lkdGggPj0gdGhyZXNob2xkO1xuXG4gICAgaWYgKHNob3cgJiYgY2hhcnQuZGF0YVNldCAmJiBjaGFydC5kYXRhU2V0Lmxlbmd0aCAmJiBzdHgubWFpblNlcmllc1JlbmRlcmVyKSB7XG4gICAgICB2YXIgdGlja0lkeCA9IHN0eC50aWNrRnJvbURhdGUoZGF0ZV9yZWYuY3VycmVudCwgY2hhcnQpO1xuXG4gICAgICBpZiAodGlja0lkeCA+IC0xICYmIHN0eC5jaGFydC5kYXRhU2V0W3RpY2tJZHhdICYmIHN0eC5jaGFydC5kYXRhU2V0W3RpY2tJZHhdLkNsb3NlICE9PSBwcmljZV9yZWYuY3VycmVudCkge1xuICAgICAgICBkZWxldGUgc3R4LmNoYXJ0LnRpY2tDYWNoZVtkYXRlX3JlZi5jdXJyZW50LmdldFRpbWUoKV07XG4gICAgICAgIHRpY2tJZHggPSBzdHgudGlja0Zyb21EYXRlKGRhdGVfcmVmLmN1cnJlbnQsIGNoYXJ0KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHggPSBzdHgucGl4ZWxGcm9tVGljayh0aWNrSWR4LCBjaGFydCk7IC8vIENoYXJ0SVEgZG9lc24ndCBzdXBwb3J0IHBsYWNpbmcgbWFya2VycyBpbiB0aGUgbWlkZGxlIG9mIHRpY2tzLlxuXG4gICAgICB2YXIgYmFyID0gY2hhcnQuZGF0YVNldFt0aWNrSWR4XTsgLy8gSGVyZSB3ZSBpbnRlcnBvbGF0ZSB0aGUgcGl4ZWwgZGlzdGFuY2UgYmV0d2VlbiB0d28gYWRqYWNlbnQgdGlja3MuXG5cbiAgICAgIGlmIChiYXIgJiYgYmFyLkRUIDwgZGF0ZV9yZWYuY3VycmVudCkge1xuICAgICAgICB2YXIgYmFyTmV4dCA9IGNoYXJ0LmRhdGFTZXRbdGlja0lkeCArIDFdO1xuICAgICAgICB2YXIgYmFyUHJldiA9IHRpY2tJZHggPiAwID8gY2hhcnQuZGF0YVNldFt0aWNrSWR4IC0gMV0gOiBudWxsO1xuXG4gICAgICAgIGlmIChiYXJOZXh0ICYmIGJhck5leHQuQ2xvc2UgJiYgYmFyTmV4dC5EVCA+IGRhdGVfcmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICB2YXIgcGl4ZWxUb05leHRCYXIgPSBzdHgucGl4ZWxGcm9tVGljayh0aWNrSWR4ICsgMSwgY2hhcnQpIC0geDtcbiAgICAgICAgICB4ICs9IChkYXRlX3JlZi5jdXJyZW50IC0gYmFyLkRUKSAvIChiYXJOZXh0LkRUIC0gYmFyLkRUKSAqIHBpeGVsVG9OZXh0QmFyO1xuICAgICAgICB9IGVsc2UgaWYgKGJhclByZXYgJiYgYmFyUHJldi5DbG9zZSkge1xuICAgICAgICAgIHZhciBwaXhlbEZyb21QcmV2QmFyID0geCAtIHN0eC5waXhlbEZyb21UaWNrKHRpY2tJZHggLSAxLCBjaGFydCk7XG4gICAgICAgICAgeCArPSAoZGF0ZV9yZWYuY3VycmVudCAtIGJhci5EVCkgLyAoYmFyLkRUIC0gYmFyUHJldi5EVCkgKiBwaXhlbEZyb21QcmV2QmFyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB5ID0gcHJpY2VfcmVmLmN1cnJlbnQgPyBzdHgucGl4ZWxGcm9tUHJpY2UocHJpY2VfcmVmLmN1cnJlbnQsIGNoYXJ0LnBhbmVsKSA6IDA7XG5cbiAgICAgIGlmIChjaGFydC55QXhpcy5sZWZ0ID4geCAmJiBjaGFydC55QXhpcy50b3AgPD0geSAmJiBjaGFydC55QXhpcy5ib3R0b20gPj0geSkge1xuICAgICAgICB0b3AgPSAreTtcbiAgICAgICAgbGVmdCA9IE1hdGgucm91bmQoeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaG93ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSAvLyBwYXRjaCBET00gd2l0aG91dCB0cmlnZ2VyaW5nIHJlY2FsY3VsYXRlIGxheW91dC5cblxuXG4gICAgZWxlbS5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIi5jb25jYXQobGVmdCArIG9mZnNldExlZnQsIFwicHgsIFwiKS5jb25jYXQodG9wICsgb2Zmc2V0VG9wLCBcInB4KVwiKTtcbiAgICBlbGVtLnN0eWxlLnZpc2liaWxpdHkgPSBzaG93ID8gJ3Zpc2libGUnIDogJ2hpZGRlbic7XG4gIH07XG5cbiAgdmFyIHNldFJlZiA9IGZ1bmN0aW9uIHNldFJlZihyZWYpIHtcbiAgICBlbGVtX3JlZi5jdXJyZW50ID0gcmVmO1xuICAgIHZhciBfcHJvcHNfcmVmJGN1cnJlbnQgPSBwcm9wc19yZWYuY3VycmVudCxcbiAgICAgICAgbWFya2VyUmVmID0gX3Byb3BzX3JlZiRjdXJyZW50Lm1hcmtlclJlZixcbiAgICAgICAgY29udGV4dFByb21pc2UgPSBfcHJvcHNfcmVmJGN1cnJlbnQuY29udGV4dFByb21pc2U7XG4gICAgdmFyIGRhdGEgPSByZWYgPyB7XG4gICAgICBkaXY6IHJlZixcbiAgICAgIHNldFBvc2l0aW9uOiBzZXRQb3NpdGlvblxuICAgIH0gOiBudWxsO1xuXG4gICAgaWYgKG1hcmtlclJlZikge1xuICAgICAgbWFya2VyUmVmKGRhdGEpO1xuICAgIH1cblxuICAgIGlmIChyZWYgIT09IG51bGwpIHtcbiAgICAgIGNvbnRleHRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGN0eCkge1xuICAgICAgICBjdHhfcmVmLmN1cnJlbnQgPSBjdHg7XG4gICAgICAgIHN0eF9yZWYuY3VycmVudCA9IGN0eF9yZWYuY3VycmVudC5zdHg7XG4gICAgICAgIGluamVjdGlvbl9pZF9yZWYuY3VycmVudCA9IHN0eF9yZWYuY3VycmVudC5hcHBlbmQoJ2RyYXcnLCB1cGRhdGVDU1MpO1xuICAgICAgICB1cGRhdGVDU1MoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW5qZWN0aW9uX2lkX3JlZi5jdXJyZW50ICYmIHN0eF9yZWYuY3VycmVudCkge1xuICAgICAgLy8gcmVtb3ZlIHRoZSBpbmplY3Rpb24gb24gdW5tb3VudFxuICAgICAgc3R4X3JlZi5jdXJyZW50LnJlbW92ZUluamVjdGlvbihpbmplY3Rpb25faWRfcmVmLmN1cnJlbnQpO1xuICAgICAgY3R4X3JlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIHN0eF9yZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIHJlZjogc2V0UmVmLFxuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgIH1cbiAgfSwgY2hpbGRyZW4pO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgY2hhcnQgPSBfcmVmMi5jaGFydDtcbiAgcmV0dXJuIHtcbiAgICBjb250ZXh0UHJvbWlzZTogY2hhcnQuY29udGV4dFByb21pc2VcbiAgfTtcbn0pKEZhc3RNYXJrZXIpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9GYXZvcml0ZS5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9GYXZvcml0ZS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNsYXNzbmFtZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Zhdm9yaXRlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Zhdm9yaXRlU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9GYXZvcml0ZVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZ2EgKi8gXCIuL3NyYy91dGlscy9nYS5qc1wiKTtcbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cblxuXG5cblxuXG5cbnZhciBGYXZvcml0ZSA9IGZ1bmN0aW9uIEZhdm9yaXRlKF9yZWYpIHtcbiAgdmFyIGNhdGVnb3J5ID0gX3JlZi5jYXRlZ29yeSxcbiAgICAgIGlkID0gX3JlZi5pZDtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlU3RhdGUoX3N0b3JlX0Zhdm9yaXRlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0uZ2V0SW5zdGFuY2UoKSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAxKSxcbiAgICAgIHN0b3JlID0gX1JlYWN0JHVzZVN0YXRlMlswXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMyA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUzLCAyKSxcbiAgICAgIGlzX2Zhdm9yaXRlID0gX1JlYWN0JHVzZVN0YXRlNFswXSxcbiAgICAgIHNldEZhdm9yaXRlID0gX1JlYWN0JHVzZVN0YXRlNFsxXTtcblxuICB2YXIgb25DbGljayA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLm5hdGl2ZUV2ZW50LmlzSGFuZGxlZEJ5RGlhbG9nID0gdHJ1ZTsgLy8gcHJldmVudCBjbG9zZSBkaWFsb2dcblxuICAgIHN0b3JlLnRvZ2dsZUZhdm9yaXRlKGNhdGVnb3J5LCBpZCk7XG4gIH0sIFtzdG9yZSwgY2F0ZWdvcnksIGlkXSk7XG4gIHZhciBvbkZhdm9yaXRlVXBkYXRlID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBpc0Zhdm9yaXRlID0gc3RvcmUuaXNGYXZvcml0ZShjYXRlZ29yeSwgaWQpO1xuXG4gICAgaWYgKGlzRmF2b3JpdGUgIT09IGlzX2Zhdm9yaXRlKSB7XG4gICAgICBzZXRGYXZvcml0ZShpc0Zhdm9yaXRlKTtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2F0ZWdvcmljYWxEaXNwbGF5LCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxvZ0FjdGlvbnNcIl0uRmF2b3JpdGUsIFwiXCIuY29uY2F0KGlzRmF2b3JpdGUgPyAnQWRkICcgOiAnUmVtb3ZlICcsIFwiIFwiKS5jb25jYXQoaWQpKTtcbiAgICB9XG4gIH0sIFtzdG9yZSwgY2F0ZWdvcnksIGlkLCBpc19mYXZvcml0ZV0pO1xuICByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChzdG9yZSAmJiBzdG9yZS5vbkZhdm9yaXRlVXBkYXRlKSB7XG4gICAgICBzdG9yZS5vbkZhdm9yaXRlVXBkYXRlKG9uRmF2b3JpdGVVcGRhdGUpO1xuICAgICAgc2V0RmF2b3JpdGUoc3RvcmUuaXNGYXZvcml0ZShjYXRlZ29yeSwgaWQpKTtcbiAgICB9XG4gIH0sIFtzdG9yZSwgY2F0ZWdvcnksIGlkLCBvbkZhdm9yaXRlVXBkYXRlXSk7XG4gIHJldHVybiAhY2F0ZWdvcnkgfHwgIWlkID8gbnVsbCA6IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkZhdm9yaXRlSWNvblwiXSwge1xuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKCdjaXEtZmF2b3JpdGUnLCB7XG4gICAgICAnY2lxLWFjdGl2ZS1mYXZvcml0ZSc6IGlzX2Zhdm9yaXRlXG4gICAgfSlcbiAgfSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKEZhdm9yaXRlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9Gb3JtLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvRm9ybS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBGb3JtR3JvdXAsIENoZWNrYm94LCBTbGlkZXIsIERyb3BEb3duLCBQYXR0ZXJuLCBDb2xvclBpY2tlciwgU3dpdGNoLCBTd2l0Y2hJY29uLCBOdW1lcmljSW5wdXQsIE51bWJlckNvbG9yUGlja2VyLCBUb2dnbGUsIEZvbnRTZXR0aW5nICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRm9ybUdyb3VwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRm9ybUdyb3VwOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDaGVja2JveFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENoZWNrYm94OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJTbGlkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTbGlkZXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRyb3BEb3duXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRHJvcERvd247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlBhdHRlcm5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQYXR0ZXJuOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDb2xvclBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENvbG9yUGlja2VyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJTd2l0Y2hcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTd2l0Y2g7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlN3aXRjaEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTd2l0Y2hJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJOdW1lcmljSW5wdXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBOdW1lcmljSW5wdXQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk51bWJlckNvbG9yUGlja2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTnVtYmVyQ29sb3JQaWNrZXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRvZ2dsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRvZ2dsZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRm9udFNldHRpbmdcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBGb250U2V0dGluZzsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBsb2Rhc2hfZGVib3VuY2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGxvZGFzaC5kZWJvdW5jZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC5kZWJvdW5jZS9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBsb2Rhc2hfZGVib3VuY2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihsb2Rhc2hfZGVib3VuY2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xhc3NuYW1lcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1Njcm9sbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vU2Nyb2xsLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvU2Nyb2xsLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfZm9ybV9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2Zvcm0uc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19mb3JtLnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19mb3JtX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2Zvcm1fc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fKTtcbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtY2xhc3Nlcy1wZXItZmlsZSAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9zb3J0LWNvbXAscmVhY3Qvbm8tbXVsdGktY29tcCAqL1xuXG5cblxuXG5cblxudmFyIEZvcm1Hcm91cCA9IGZ1bmN0aW9uIEZvcm1Hcm91cChfcmVmKSB7XG4gIHZhciB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICB0eXBlID0gX3JlZi50eXBlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJmb3JtX19ncm91cCBcIi5jb25jYXQodHlwZSA/IFwiZm9ybV9fZ3JvdXAtLVwiLmNvbmNhdCh0eXBlKSA6ICcnKVxuICB9LCB0aXRsZSAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZvcm1fX2xhYmVsXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFwiIFwiLCB0aXRsZSwgXCIgXCIpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJmb3JtX19jb250cm9sXCJcbiAgfSwgY2hpbGRyZW4pKTtcbn07XG52YXIgQ2hlY2tib3ggPSBmdW5jdGlvbiBDaGVja2JveChfcmVmMikge1xuICB2YXIgaWQgPSBfcmVmMi5pZCxcbiAgICAgIGxhYmVsID0gX3JlZjIubGFiZWwsXG4gICAgICBjaGVja2VkID0gX3JlZjIuY2hlY2tlZCxcbiAgICAgIGRpc2FibGVkID0gX3JlZjIuZGlzYWJsZWQsXG4gICAgICBvbkNoYW5nZSA9IF9yZWYyLm9uQ2hhbmdlO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uQ2hhbmdlKCFjaGVja2VkKTtcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge1xuICAgIGh0bWxGb3I6IGlkLFxuICAgIGNsYXNzTmFtZTogXCJzYy1jaGVja2JveCBcIi5jb25jYXQoY2hlY2tlZCA/ICdzYy1jaGVja2JveC0tY2hlY2tlZCcgOiAnJywgXCIgXCIpLmNvbmNhdChkaXNhYmxlZCA/ICdzYy1jaGVja2JveC0tZGlzYWJsZWQnIDogJycpXG4gIH0sIGNoZWNrZWQgPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJDaGVja2JveEFjdGl2ZUljb25cIl0sIHtcbiAgICBjbGFzc05hbWU6IFwic2MtY2hlY2tib3hfX2JveFwiXG4gIH0pIDogLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiQ2hlY2tib3hJY29uXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWNoZWNrYm94X19ib3hcIlxuICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtY2hlY2tib3hfX2xhYmVsXCJcbiAgfSwgbGFiZWwpKSk7XG59O1xudmFyIFNsaWRlciA9IGZ1bmN0aW9uIFNsaWRlcihfcmVmMykge1xuICB2YXIgX3JlZjMkbWluID0gX3JlZjMubWluLFxuICAgICAgbWluID0gX3JlZjMkbWluID09PSB2b2lkIDAgPyAxIDogX3JlZjMkbWluLFxuICAgICAgX3JlZjMkbWF4ID0gX3JlZjMubWF4LFxuICAgICAgbWF4ID0gX3JlZjMkbWF4ID09PSB2b2lkIDAgPyAxMCA6IF9yZWYzJG1heCxcbiAgICAgIF9yZWYzJHN0ZXAgPSBfcmVmMy5zdGVwLFxuICAgICAgc3RlcCA9IF9yZWYzJHN0ZXAgPT09IHZvaWQgMCA/IDEgOiBfcmVmMyRzdGVwLFxuICAgICAgdmFsdWUgPSBfcmVmMy52YWx1ZSxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZjMub25DaGFuZ2U7XG4gIHZhciBhY3RpdmVXaWR0aCA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHZhciBiYXJXaWR0aCA9IDIzODsgLy8gY3NzIGhhcmRjb2RlXG5cbiAgICB2YXIgd2lkdGggPSBNYXRoLnJvdW5kKGJhcldpZHRoICogKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pKTtcbiAgICByZXR1cm4gd2lkdGggPCAwID8gMCA6IHdpZHRoO1xuICB9LCBbdmFsdWUsIG1pbiwgbWF4XSk7XG4gIHZhciBoYW5kbGVDaGFuZ2UgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VDYWxsYmFjayhmdW5jdGlvbiAoZWwpIHtcbiAgICByZXR1cm4gb25DaGFuZ2UoZWwuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gIH0sIFtvbkNoYW5nZV0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1zbGlkZXJcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLXNsaWRlci1yYW5nZVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2Mtc2xpZGVyLWJhclwiXG4gIH0pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLXNsaWRlci1hY3RpdmUtYmFyXCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIHdpZHRoOiBhY3RpdmVXaWR0aFxuICAgIH1cbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgIHR5cGU6IFwicmFuZ2VcIixcbiAgICBtaW46IG1pbixcbiAgICBtYXg6IG1heCxcbiAgICBzdGVwOiBzdGVwLFxuICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgdmFsdWU6IHZhbHVlXG4gIH0pKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ2YWx1ZVwiXG4gIH0sIHZhbHVlKSk7XG59O1xudmFyIERyb3BEb3duID0gZnVuY3Rpb24gRHJvcERvd24oX3JlZjQpIHtcbiAgdmFyIHN1YnRpdGxlID0gX3JlZjQuc3VidGl0bGUsXG4gICAgICByb3dzID0gX3JlZjQucm93cyxcbiAgICAgIGNoaWxkcmVuID0gX3JlZjQuY2hpbGRyZW4sXG4gICAgICB2YWx1ZSA9IF9yZWY0LnZhbHVlLFxuICAgICAgb25Sb3dDbGljayA9IF9yZWY0Lm9uUm93Q2xpY2ssXG4gICAgICBjbGFzc05hbWUgPSBfcmVmNC5jbGFzc05hbWU7XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgICAgb3BlbiA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRPcGVuID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMyA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVN0YXRlKDApLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTMsIDIpLFxuICAgICAgdG9wID0gX1JlYWN0JHVzZVN0YXRlNFswXSxcbiAgICAgIHNldFRvcCA9IF9SZWFjdCR1c2VTdGF0ZTRbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTUgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VTdGF0ZSgwKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU1LCAyKSxcbiAgICAgIGxlZnQgPSBfUmVhY3QkdXNlU3RhdGU2WzBdLFxuICAgICAgc2V0TGVmdCA9IF9SZWFjdCR1c2VTdGF0ZTZbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTcgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VTdGF0ZShudWxsKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU3LCAyKSxcbiAgICAgIHdpZHRoID0gX1JlYWN0JHVzZVN0YXRlOFswXSxcbiAgICAgIHNldFdpZHRoID0gX1JlYWN0JHVzZVN0YXRlOFsxXTtcblxuICB2YXIgaW5uZXJSZWYgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VSZWYoKTtcbiAgdmFyIGlubmVyVGl0bGVSZWYgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VSZWYoKTtcbiAgdmFyIGhhbmRsZUNsaWNrID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBib3VuZGluZyA9IGlubmVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgc2V0VG9wKCFvcGVuID8gYm91bmRpbmcudG9wIDogbnVsbCk7XG4gICAgc2V0TGVmdCghb3BlbiA/IGJvdW5kaW5nLmxlZnQgOiBudWxsKTtcbiAgICBzZXRXaWR0aChib3VuZGluZy53aWR0aCk7XG4gICAgc2V0T3BlbihmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICByZXR1cm4gIXByZXZTdGF0ZTtcbiAgICB9KTtcbiAgfSwgW29wZW4sIGlubmVyUmVmXSk7XG4gIHZhciBoYW5kbGVDbG9zZSA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICE9PSBpbm5lclRpdGxlUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNldE9wZW4oZmFsc2UpO1xuICAgICAgc2V0VG9wKDApO1xuICAgICAgc2V0TGVmdCgwKTtcbiAgICB9XG4gIH0sIFtpbm5lclRpdGxlUmVmXSk7XG4gIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbG9zZSwgZmFsc2UpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsb3NlKTtcbiAgICB9O1xuICB9LCBbaGFuZGxlQ2xvc2VdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0KCkoY2xhc3NOYW1lLCAnc2MtZHJvcGRvd24nLCB7XG4gICAgICBhY3RpdmU6IG9wZW5cbiAgICB9KSxcbiAgICByZWY6IGlubmVyUmVmLFxuICAgIHN0eWxlOiB7XG4gICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgdG9wOiB0b3AsXG4gICAgICB3aWR0aDogd2lkdGhcbiAgICB9XG4gIH0sICEhc3VidGl0bGUgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzdWJ0aXRsZVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBzdWJ0aXRsZSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCgpKCd2YWx1ZScsIHtcbiAgICAgIGFjdGl2ZTogb3BlblxuICAgIH0pLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxuICAgIHJlZjogaW5uZXJUaXRsZVJlZlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ0ZXh0XCJcbiAgfSwgdmFsdWUpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJBcnJvd0ljb25cIl0sIG51bGwpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1Njcm9sbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBhdXRvSGlkZTogdHJ1ZSxcbiAgICBoZWlnaHQ6IFwiXCIuY29uY2F0KG9wZW4gPyAnMjAwcHgnIDogJzFweCcpLFxuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQoKSgnZHJvcGRvd24nLCB7XG4gICAgICBhY3RpdmU6IG9wZW5cbiAgICB9KVxuICB9LCByb3dzLm1hcChmdW5jdGlvbiAocm93LCBpZHgpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAga2V5OiBpZHggLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXlcbiAgICAgICxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQoKSgncm93Jywge1xuICAgICAgICAncm93LS1zZWxlY3RlZCc6IHJvdyA9PT0gdmFsdWVcbiAgICAgIH0pLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIG9uUm93Q2xpY2sgJiYgb25Sb3dDbGljayhyb3cpO1xuICAgICAgfVxuICAgIH0sIGNoaWxkcmVuKHJvdykpO1xuICB9KSkpO1xufTtcbnZhciBQYXR0ZXJuID0gZnVuY3Rpb24gUGF0dGVybihfcmVmNSkge1xuICB2YXIgcGF0dGVybiA9IF9yZWY1LnBhdHRlcm4sXG4gICAgICBzdWJ0aXRsZSA9IF9yZWY1LnN1YnRpdGxlLFxuICAgICAgbGluZVdpZHRoID0gX3JlZjUubGluZVdpZHRoLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmNS5vbkNoYW5nZSxcbiAgICAgIG9uQWN0aXZlID0gX3JlZjUub25BY3RpdmU7XG4gIHZhciBwYXR0ZXJucyA9IFt7XG4gICAgd2lkdGg6IDEsXG4gICAgcGF0dGVybjogJ3NvbGlkJ1xuICB9LCB7XG4gICAgd2lkdGg6IDMsXG4gICAgcGF0dGVybjogJ3NvbGlkJ1xuICB9LCB7XG4gICAgd2lkdGg6IDUsXG4gICAgcGF0dGVybjogJ3NvbGlkJ1xuICB9LCB7XG4gICAgd2lkdGg6IDEsXG4gICAgcGF0dGVybjogJ2RvdHRlZCdcbiAgfSwge1xuICAgIHdpZHRoOiAzLFxuICAgIHBhdHRlcm46ICdkb3R0ZWQnXG4gIH0sIHtcbiAgICB3aWR0aDogNSxcbiAgICBwYXR0ZXJuOiAnZG90dGVkJ1xuICB9LCB7XG4gICAgd2lkdGg6IDEsXG4gICAgcGF0dGVybjogJ2Rhc2hlZCdcbiAgfSwge1xuICAgIHdpZHRoOiAzLFxuICAgIHBhdHRlcm46ICdkYXNoZWQnXG4gIH0sIHtcbiAgICB3aWR0aDogNSxcbiAgICBwYXR0ZXJuOiAnZGFzaGVkJ1xuICB9LCB7XG4gICAgd2lkdGg6IDAsXG4gICAgcGF0dGVybjogJ25vbmUnXG4gIH1dO1xuXG4gIHZhciBnZXRWYWx1ZSA9IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgIHJldHVybiBwYXR0ZXJuICE9PSAnbm9uZScgPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm9wdGlvbiBcIi5jb25jYXQocGF0dGVybiwgXCItXCIpLmNvbmNhdChsaW5lV2lkdGgpXG4gICAgfSkgOiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vbmVcIlxuICAgIH0sIFwiTm9uZVwiKTtcbiAgfTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRHJvcERvd24sIHtcbiAgICByb3dzOiBwYXR0ZXJucyxcbiAgICB2YWx1ZTogZ2V0VmFsdWUoKSxcbiAgICBvbkFjdGl2ZTogb25BY3RpdmUsXG4gICAgb25Sb3dDbGljazogb25DaGFuZ2UsXG4gICAgc3VidGl0bGU6IHN1YnRpdGxlXG4gIH0sIGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIHAucGF0dGVybiAhPT0gJ25vbmUnID8gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJvcHRpb24gXCIuY29uY2F0KHAucGF0dGVybiwgXCItXCIpLmNvbmNhdChwLndpZHRoKVxuICAgIH0pIDogLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub25lXCJcbiAgICB9LCBcIk5vbmVcIik7XG4gIH0pO1xufTtcbnZhciBDb2xvclBpY2tlciA9IGZ1bmN0aW9uIENvbG9yUGlja2VyKF9yZWY2KSB7XG4gIHZhciBzdWJ0aXRsZSA9IF9yZWY2LnN1YnRpdGxlLFxuICAgICAgY29sb3IgPSBfcmVmNi5jb2xvcixcbiAgICAgIHRoZW1lID0gX3JlZjYudGhlbWUsXG4gICAgICBzZXRDb2xvciA9IF9yZWY2LnNldENvbG9yO1xuICB2YXIgY29sb3JNYXAgPSBbWycjZmZmZmZmJywgJyNlMWUxZTEnLCAnI2NjY2NjYycsICcjYjdiN2I3JywgJyNhMGEwYTUnLCAnIzg5ODk4OScsICcjNzA3MDcwJywgJyM2MjYyNjInLCAnIzU1NTU1NScsICcjNDY0NjQ2JywgJyMzNjM2MzYnLCAnIzI2MjYyNicsICcjMWQxZDFkJywgJyMwMDAwMDAnXSwgWycjZjQ5NzdjJywgJyNmN2FjODQnLCAnI2ZiYzU4ZCcsICcjZmZmNjllJywgJyNjNGRlOWUnLCAnIzg1Yzk5ZScsICcjN2ZjZGM3JywgJyM3NWQwZjQnLCAnIzgxYThkNycsICcjODU5NGM4JywgJyM4OTgzYmMnLCAnI2ExODdiZCcsICcjYmI4ZGJlJywgJyNmMjliYzEnXSwgWycjZWY2YzUzJywgJyNmMzhkNWInLCAnI2Y4YWU2MycsICcjZmZmMzcxJywgJyNhY2QyNzcnLCAnIzQzYjc3YScsICcjMmViYmIzJywgJyMwMGJmZjAnLCAnIzRhOGRjOCcsICcjNTg3NWI3JywgJyM2MjVkYTYnLCAnIzg1NjFhNycsICcjYTY2NWE3JywgJyNlZTZmYTknXSwgWycjZWExZDJjJywgJyNlZTY1MmUnLCAnI2Y0OTMyZicsICcjZmZmMTI2JywgJyM4ZWM2NDgnLCAnIzAwYTU1MycsICcjMDBhOTljJywgJyMwMGFmZWQnLCAnIzAwNzNiYScsICcjMDA1NmE0JywgJyMzMjMzOTAnLCAnIzY2MzA4ZicsICcjOTEyYThlJywgJyNlOTA4OGMnXSwgWycjOWIwYjE2JywgJyM5ZTQxMTcnLCAnI2ExNjExOCcsICcjYzZiOTIwJywgJyM1YTg1MmQnLCAnIzAwNzIzOCcsICcjMDA3NDZhJywgJyMwMDc3YTEnLCAnIzAwNGM3ZicsICcjMDAzNTcwJywgJyMxZDE3NjInLCAnIzQ0MTI2MScsICcjNjIwOTVmJywgJyM5YzAwNWQnXSwgWycjNzcwMDAxJywgJyM3OTJlMDMnLCAnIzdiNDkwNicsICcjODE3YTBiJywgJyM0MTY2MWUnLCAnIzAwNTgyNycsICcjMDA1OTUxJywgJyMwMDNiNWMnLCAnIzAwMWQ0MCcsICcjMDAwZTM1JywgJyMwNDAwMmMnLCAnIzE5MDAyYicsICcjMmMwMDJhJywgJyM1ODAwMjgnXV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTkgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUxMCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTksIDIpLFxuICAgICAgb3BlbiA9IF9SZWFjdCR1c2VTdGF0ZTEwWzBdLFxuICAgICAgc2V0T3BlbiA9IF9SZWFjdCR1c2VTdGF0ZTEwWzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUxMSA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVN0YXRlKDApLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUxMSwgMiksXG4gICAgICB0b3AgPSBfUmVhY3QkdXNlU3RhdGUxMlswXSxcbiAgICAgIHNldFRvcCA9IF9SZWFjdCR1c2VTdGF0ZTEyWzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUxMyA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVN0YXRlKDApLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUxMywgMiksXG4gICAgICBsZWZ0ID0gX1JlYWN0JHVzZVN0YXRlMTRbMF0sXG4gICAgICBzZXRMZWZ0ID0gX1JlYWN0JHVzZVN0YXRlMTRbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTE1ID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlU3RhdGUobnVsbCksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUxNiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTE1LCAyKSxcbiAgICAgIHdpZHRoID0gX1JlYWN0JHVzZVN0YXRlMTZbMF0sXG4gICAgICBzZXRXaWR0aCA9IF9SZWFjdCR1c2VTdGF0ZTE2WzFdO1xuXG4gIHZhciBpbm5lclJlZiA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVJlZigpO1xuICB2YXIgaW5uZXJUaXRsZVJlZiA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVJlZigpO1xuICB2YXIgYmFja2dyb3VuZENvbG9yID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGNvbG9yICE9PSAnYXV0bycpIHJldHVybiBjb2xvcjtcbiAgICByZXR1cm4gdGhlbWUgPT09ICdsaWdodCcgPyAnIzAwMDAwMCcgOiAnI2ZmZmZmZic7XG4gIH0sIFtjb2xvciwgdGhlbWVdKTtcbiAgdmFyIGhhbmRsZUNsaWNrID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBib3VuZGluZyA9IGlubmVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgc2V0VG9wKCFvcGVuID8gYm91bmRpbmcudG9wIDogbnVsbCk7XG4gICAgc2V0TGVmdCghb3BlbiA/IGJvdW5kaW5nLmxlZnQgOiBudWxsKTtcbiAgICBzZXRXaWR0aChib3VuZGluZy53aWR0aCk7XG4gICAgc2V0T3BlbihmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICByZXR1cm4gIXByZXZTdGF0ZTtcbiAgICB9KTtcbiAgfSwgW29wZW4sIGlubmVyUmVmXSk7XG4gIHZhciBoYW5kbGVDbG9zZSA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICE9PSBpbm5lclRpdGxlUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNldE9wZW4oZmFsc2UpO1xuICAgICAgc2V0VG9wKDApO1xuICAgICAgc2V0TGVmdCgwKTtcbiAgICB9XG4gIH0sIFtpbm5lclRpdGxlUmVmXSk7XG4gIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbG9zZSwgZmFsc2UpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsb3NlKTtcbiAgICB9O1xuICB9LCBbaGFuZGxlQ2xvc2VdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IGlubmVyUmVmLFxuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQoKSgnc2MtY29sb3ItcGlja2VyJywge1xuICAgICAgYWN0aXZlOiBvcGVuXG4gICAgfSksXG4gICAgc3R5bGU6IHtcbiAgICAgIHRvcDogdG9wLFxuICAgICAgbGVmdDogbGVmdCxcbiAgICAgIHdpZHRoOiB3aWR0aFxuICAgIH1cbiAgfSwgISFzdWJ0aXRsZSAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInN1YnRpdGxlXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIHN1YnRpdGxlKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidmFsdWVcIixcbiAgICBvbkNsaWNrOiBoYW5kbGVDbGljayxcbiAgICByZWY6IGlubmVyVGl0bGVSZWZcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1pbnB1dC1jb2xvclwiLFxuICAgIHN0eWxlOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvclxuICAgIH1cbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkFycm93SWNvblwiXSwgbnVsbCkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCgpKCdkcm9wZG93bicsIHtcbiAgICAgIG9wZW46IG9wZW5cbiAgICB9KVxuICB9LCBjb2xvck1hcC5tYXAoZnVuY3Rpb24gKHJvdywgcm93SWR4KSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGtleTogcm93SWR4XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLWFycmF5LWluZGV4LWtleSAqL1xuICAgICAgLFxuICAgICAgY2xhc3NOYW1lOiBcInJvd1wiXG4gICAgfSwgcm93Lm1hcChmdW5jdGlvbiAodGlsZUNvbG9yKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBrZXk6IHRpbGVDb2xvcixcbiAgICAgICAgY2xhc3NOYW1lOiBcInRpbGUtY29sb3JcIixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRpbGVDb2xvclxuICAgICAgICB9LFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBzZXRDb2xvcih0aWxlQ29sb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH0pKSk7XG59O1xudmFyIFN3aXRjaCA9IGZ1bmN0aW9uIFN3aXRjaChfcmVmNykge1xuICB2YXIgdmFsdWUgPSBfcmVmNy52YWx1ZSxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZjcub25DaGFuZ2U7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLXN3aXRjaCBcIi5jb25jYXQodmFsdWUgPyAnb24nIDogJ29mZicpLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gb25DaGFuZ2UoIXZhbHVlKTtcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiaGFuZGxlXCJcbiAgfSkpO1xufTtcbnZhciBTd2l0Y2hJY29uID0gZnVuY3Rpb24gU3dpdGNoSWNvbihfcmVmOCkge1xuICB2YXIgaWQgPSBfcmVmOC5pZCxcbiAgICAgIGxhYmVsID0gX3JlZjgubGFiZWwsXG4gICAgICB2YWx1ZSA9IF9yZWY4LnZhbHVlLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmOC5vbkNoYW5nZSxcbiAgICAgIG5vcmFtSWNvbiA9IF9yZWY4Lm5vcmFtSWNvbixcbiAgICAgIGFjdGl2ZUljb24gPSBfcmVmOC5hY3RpdmVJY29uO1xuICB2YXIgSWNvbiA9IHZhbHVlID8gYWN0aXZlSWNvbiA6IG5vcmFtSWNvbjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2Mtc3dpdGNoLWljb25cIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLXN3aXRjaC1pY29uX19pY29uXCJcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2Mtc3dpdGNoLWljb25fX2Rlc2NyaXB0aW9uXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3gsIHtcbiAgICBpZDogaWQsXG4gICAgbGFiZWw6IGxhYmVsLFxuICAgIGNoZWNrZWQ6IHZhbHVlLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVxuICB9KSkpO1xufTsgLy8gTnVtZXJpY0lucHV0IGZpcmVzIG9uQ2hhbmdlIG9uIEVudGVyIG9yIG9uQmx1clxuXG52YXIgTnVtZXJpY0lucHV0ID0gZnVuY3Rpb24gTnVtZXJpY0lucHV0KF9yZWY5KSB7XG4gIHZhciBzdWJ0aXRsZSA9IF9yZWY5LnN1YnRpdGxlLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmOS5vbkNoYW5nZSxcbiAgICAgIG1pbiA9IF9yZWY5Lm1pbixcbiAgICAgIG1heCA9IF9yZWY5Lm1heCxcbiAgICAgIHN0ZXAgPSBfcmVmOS5zdGVwLFxuICAgICAgdmFsdWUgPSBfcmVmOS52YWx1ZTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMTcgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUxOCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTE3LCAyKSxcbiAgICAgIGlubmVyVmFsdWUgPSBfUmVhY3QkdXNlU3RhdGUxOFswXSxcbiAgICAgIHNldElubmVyVmFsdWUgPSBfUmVhY3QkdXNlU3RhdGUxOFsxXTtcblxuICB2YXIgaGFuZGxlRmlyZU9uQ2hhbmdlID0gbG9kYXNoX2RlYm91bmNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2V0QW5kQ2hhbmdlID0gZnVuY3Rpb24gc2V0QW5kQ2hhbmdlKHZhbCkge1xuICAgICAgc2V0SW5uZXJWYWx1ZSh2YWwpO1xuICAgICAgb25DaGFuZ2UodmFsKTtcbiAgICB9O1xuXG4gICAgaWYgKG1heCAhPT0gdW5kZWZpbmVkICYmIGlubmVyVmFsdWUgPiBtYXgpIHtcbiAgICAgIHNldEFuZENoYW5nZShtYXgpO1xuICAgIH0gZWxzZSBpZiAobWluICE9PSB1bmRlZmluZWQgJiYgaW5uZXJWYWx1ZSA8IG1pbikge1xuICAgICAgc2V0QW5kQ2hhbmdlKG1pbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uQ2hhbmdlKGlubmVyVmFsdWUpO1xuICAgIH1cbiAgfSwgMzAwLCB7XG4gICAgbGVhZGluZzogdHJ1ZSxcbiAgICB0cmFpbGluZzogZmFsc2VcbiAgfSk7XG5cbiAgdmFyIGhhbmRsZVVwZGF0ZVZhbHVlID0gZnVuY3Rpb24gaGFuZGxlVXBkYXRlVmFsdWUoZSkge1xuICAgIGUucGVyc2lzdCgpO1xuICAgIHNldElubmVyVmFsdWUoZS50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIHZhciBoYW5kbGVGaXJlT25FbnRlciA9IGZ1bmN0aW9uIGhhbmRsZUZpcmVPbkVudGVyKGUpIHtcbiAgICBpZiAoWydlJywgJysnLCAnRSddLmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgaGFuZGxlRmlyZU9uQ2hhbmdlKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkluY3JlYXNlID0gZnVuY3Rpb24gb25JbmNyZWFzZSgpIHtcbiAgICBzZXRJbm5lclZhbHVlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgIHJldHVybiBwcmV2U3RhdGUgKyAxO1xuICAgIH0pO1xuICAgIGhhbmRsZUZpcmVPbkNoYW5nZSgpO1xuICB9O1xuXG4gIHZhciBvbkRlY3JlYXNlID0gZnVuY3Rpb24gb25EZWNyZWFzZSgpIHtcbiAgICBzZXRJbm5lclZhbHVlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgIHJldHVybiBwcmV2U3RhdGUgLSAxO1xuICAgIH0pO1xuICAgIGhhbmRsZUZpcmVPbkNoYW5nZSgpO1xuICB9O1xuXG4gIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2V0SW5uZXJWYWx1ZSh2YWx1ZSk7XG4gIH0sIFt2YWx1ZV0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1udW1lcmljLWlucHV0XCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB2YWx1ZTogaW5uZXJWYWx1ZSxcbiAgICBvbkJsdXI6IGhhbmRsZUZpcmVPbkNoYW5nZSxcbiAgICBvbkNoYW5nZTogaGFuZGxlVXBkYXRlVmFsdWUsXG4gICAgb25LZXlQcmVzczogaGFuZGxlRmlyZU9uRW50ZXIsXG4gICAgbWluOiBtaW4sXG4gICAgbWF4OiBtYXgsXG4gICAgc3RlcDogc3RlcFxuICB9KSwgISFzdWJ0aXRsZSAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInN1YnRpdGxlXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIHN1YnRpdGxlKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtbnVtZXJpYy1pbnB1dC1idXR0b25zXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiSW5wdXROdW1iZXJQbHVzSWNvblwiXSwge1xuICAgIG9uQ2xpY2s6IG9uSW5jcmVhc2VcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIklucHV0TnVtYmVyTWludXNJY29uXCJdLCB7XG4gICAgb25DbGljazogb25EZWNyZWFzZVxuICB9KSkpO1xufTtcbnZhciBOdW1iZXJDb2xvclBpY2tlciA9IGZ1bmN0aW9uIE51bWJlckNvbG9yUGlja2VyKF9yZWYxMCkge1xuICB2YXIgdmFsdWUgPSBfcmVmMTAudmFsdWUsXG4gICAgICB0aGVtZSA9IF9yZWYxMC50aGVtZSxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZjEwLm9uQ2hhbmdlLFxuICAgICAgb25BY3RpdmUgPSBfcmVmMTAub25BY3RpdmU7XG4gIC8vIERvIE5PVCByZW5hbWUgdGhlIHZhcmlhYmxlcyBWYWx1ZSBhbmQgQ29sb3IhIFRoZSBrZXlzIGFyZSBhbHNvXG4gIC8vIHVzZWQgYXMgYXR0cmlidXRlIHN1ZmZpeGVzXG4gIHZhciBWYWx1ZSA9IHZhbHVlLlZhbHVlLFxuICAgICAgQ29sb3IgPSB2YWx1ZS5Db2xvcjtcblxuICB2YXIgb25WYWx1ZUNoYW5nZSA9IGZ1bmN0aW9uIG9uVmFsdWVDaGFuZ2Uodikge1xuICAgIHJldHVybiBvbkNoYW5nZSh7XG4gICAgICBDb2xvcjogQ29sb3IsXG4gICAgICBWYWx1ZTogdlxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBvbkNvbG9yQ2hhbmdlID0gZnVuY3Rpb24gb25Db2xvckNoYW5nZShjKSB7XG4gICAgcmV0dXJuIG9uQ2hhbmdlKHtcbiAgICAgIENvbG9yOiBjLFxuICAgICAgVmFsdWU6IFZhbHVlXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLW51bWJlcmNvbG9ycGlja2VyXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoTnVtZXJpY0lucHV0LCB7XG4gICAgdmFsdWU6IFZhbHVlLFxuICAgIHN1YnRpdGxlOiB0LnRyYW5zbGF0ZSgnU2l6ZScpLFxuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2YWwpIHtcbiAgICAgIHJldHVybiBvblZhbHVlQ2hhbmdlKHZhbCk7XG4gICAgfVxuICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ29sb3JQaWNrZXIsIHtcbiAgICBjb2xvcjogQ29sb3IsXG4gICAgdGhlbWU6IHRoZW1lLFxuICAgIG9uQWN0aXZlOiBvbkFjdGl2ZSxcbiAgICBzdWJ0aXRsZTogdC50cmFuc2xhdGUoJ0NvbG9yJyksXG4gICAgc2V0Q29sb3I6IGZ1bmN0aW9uIHNldENvbG9yKHZhbCkge1xuICAgICAgcmV0dXJuIG9uQ29sb3JDaGFuZ2UodmFsKTtcbiAgICB9XG4gIH0pKTtcbn07XG52YXIgVG9nZ2xlID0gZnVuY3Rpb24gVG9nZ2xlKF9yZWYxMSkge1xuICB2YXIgY2xhc3NOYW1lID0gX3JlZjExLmNsYXNzTmFtZSxcbiAgICAgIGNoaWxkcmVuID0gX3JlZjExLmNoaWxkcmVuLFxuICAgICAgYWN0aXZlID0gX3JlZjExLmFjdGl2ZSxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZjExLm9uQ2hhbmdlO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gb25DaGFuZ2UoIWFjdGl2ZSk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KGNsYXNzTmFtZSB8fCAnJywgXCIgXCIpLmNvbmNhdChhY3RpdmUgPyAnYWN0aXZlJyA6ICcnLCBcIiBzYy10b2dnbGVcIilcbiAgfSwgY2hpbGRyZW4pO1xufTtcbnZhciBGb250U2V0dGluZyA9IGZ1bmN0aW9uIEZvbnRTZXR0aW5nKF9yZWYxMikge1xuICB2YXIgb25DaGFuZ2UgPSBfcmVmMTIub25DaGFuZ2UsXG4gICAgICB2YWx1ZSA9IF9yZWYxMi52YWx1ZTtcbiAgdmFyIGZhbWlsaWVzID0gWydEZWZhdWx0JywgJ0hlbHZldGljYScsICdDb3VyaWVyJywgJ0dhcmFtb25kJywgJ1BhbGF0aW5vJywgJ1RpbWVzIE5ldyBSb21hbiddO1xuICB2YXIgZm9udFNpemVzID0gWzgsIDEwLCAxMiwgMTMsIDE0LCAxNiwgMjAsIDI4LCAzNiwgNDgsIDY0XTtcblxuICB2YXIgZmlyZUNoYW5nZSA9IGZ1bmN0aW9uIGZpcmVDaGFuZ2UoY2hhbmdlKSB7XG4gICAgcmV0dXJuIG9uQ2hhbmdlKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdmFsdWUpLCBjaGFuZ2UpKTtcbiAgfTtcblxuICB2YXIgb25Gb250RmFtaWx5Q2hhbmdlID0gZnVuY3Rpb24gb25Gb250RmFtaWx5Q2hhbmdlKGZhbWlseSkge1xuICAgIHJldHVybiBmaXJlQ2hhbmdlKHtcbiAgICAgIGZhbWlseTogZmFtaWx5XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIG9uRm9udFNpemVDaGFuZ2UgPSBmdW5jdGlvbiBvbkZvbnRTaXplQ2hhbmdlKHNpemUpIHtcbiAgICByZXR1cm4gZmlyZUNoYW5nZSh7XG4gICAgICBzaXplOiBcIlwiLmNvbmNhdChzaXplLCBcInB4XCIpXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIG9uQm9sZENoYW5nZSA9IGZ1bmN0aW9uIG9uQm9sZENoYW5nZShpc0JvbGQpIHtcbiAgICByZXR1cm4gZmlyZUNoYW5nZSh7XG4gICAgICB3ZWlnaHQ6IGlzQm9sZCA/ICdib2xkJyA6IHVuZGVmaW5lZFxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBvbkl0YWxpY0NoYW5nZSA9IGZ1bmN0aW9uIG9uSXRhbGljQ2hhbmdlKGlzSXRhbGljKSB7XG4gICAgcmV0dXJuIGZpcmVDaGFuZ2Uoe1xuICAgICAgc3R5bGU6IGlzSXRhbGljID8gJ2l0YWxpYycgOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZmFtaWx5ID0gdmFsdWUuZmFtaWx5LFxuICAgICAgc3R5bGUgPSB2YWx1ZS5zdHlsZSxcbiAgICAgIHdlaWdodCA9IHZhbHVlLndlaWdodCxcbiAgICAgIHNpemUgPSB2YWx1ZS5zaXplO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtZm9udHNldHRpbmdcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChUb2dnbGUsIHtcbiAgICBvbkNoYW5nZTogb25Cb2xkQ2hhbmdlLFxuICAgIGFjdGl2ZTogISF3ZWlnaHRcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy10ZXh0LWljb25cIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImJcIiwgbnVsbCwgXCJCXCIpKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFRvZ2dsZSwge1xuICAgIGFjdGl2ZTogISFzdHlsZSxcbiAgICBvbkNoYW5nZTogb25JdGFsaWNDaGFuZ2VcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy10ZXh0LWljb25cIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImlcIiwgbnVsbCwgXCJpXCIpKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KERyb3BEb3duLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWNoYW5nZWZvbnRzaXplXCIsXG4gICAgcm93czogZm9udFNpemVzLFxuICAgIHRpdGxlOiBzaXplIHx8ICcxM3B4JyxcbiAgICBvblJvd0NsaWNrOiBvbkZvbnRTaXplQ2hhbmdlXG4gIH0sIGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwib3B0aW9uXCJcbiAgICB9LCBwKTtcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KERyb3BEb3duLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWNoYW5nZWZvbnRmYW1pbHlcIixcbiAgICByb3dzOiBmYW1pbGllcyxcbiAgICB0aXRsZTogZmFtaWx5IHx8IGZhbWlsaWVzWzBdLFxuICAgIG9uUm93Q2xpY2s6IG9uRm9udEZhbWlseUNoYW5nZVxuICB9LCBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm9wdGlvblwiXG4gICAgfSwgcCk7XG4gIH0pKTtcbn07XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0hpZ2hlc3RMb3dlc3RNYXJrZXIuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9IaWdoZXN0TG93ZXN0TWFya2VyLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9GYXN0TWFya2VyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9GYXN0TWFya2VyLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvRmFzdE1hcmtlci5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfaGlnaGVzdF9sb3dlc3RfbWFya2VyX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9faGlnaGVzdC1sb3dlc3QtbWFya2VyLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9faGlnaGVzdC1sb3dlc3QtbWFya2VyLnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19oaWdoZXN0X2xvd2VzdF9tYXJrZXJfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfaGlnaGVzdF9sb3dlc3RfbWFya2VyX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyk7XG5cblxuXG5cblxudmFyIEhpZ2hlc3RMb3dlc3RNYXJrZXIgPSBmdW5jdGlvbiBIaWdoZXN0TG93ZXN0TWFya2VyKF9yZWYpIHtcbiAgdmFyIHNldEhpZ2hlc3RSZWYgPSBfcmVmLnNldEhpZ2hlc3RSZWYsXG4gICAgICBzZXRMb3dlc3RSZWYgPSBfcmVmLnNldExvd2VzdFJlZjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRmFzdE1hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBtYXJrZXJSZWY6IHNldEhpZ2hlc3RSZWYsXG4gICAgY2xhc3NOYW1lOiBcInNjLWhpZ2hsb3cgc2MtaGlnaGxvdy0taGlnaGVzdFwiLFxuICAgIG9mZnNldFRvcDogLTgwLFxuICAgIG9mZnNldExlZnQ6IC04MFxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJzcG90X19zaGFwZS1jaXJjdWxlIHNwb3RfX2ZpbGwtYmx1ZVwiXG4gIH0pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJzcG90X19sYWJlbFwiLFxuICAgIFwiZGF0YS1sYWJlbC1wb3NcIjogXCJ0b3BcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJcIi5jb25jYXQodC50cmFuc2xhdGUoJ0gnKSwgXCI6IFwiKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNwb3RfX3ZhbHVlXCJcbiAgfSkpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zhc3RNYXJrZXJfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgbWFya2VyUmVmOiBzZXRMb3dlc3RSZWYsXG4gICAgY2xhc3NOYW1lOiBcInNjLWhpZ2hsb3cgc2MtaGlnaGxvdy0tbG93ZXN0XCIsXG4gICAgb2Zmc2V0VG9wOiAtODAsXG4gICAgb2Zmc2V0TGVmdDogLTgwXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNwb3RfX3NoYXBlLWNpcmN1bGUgc3BvdF9fZmlsbC1yZWRcIlxuICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwic3BvdF9fbGFiZWxcIixcbiAgICBcImRhdGEtbGFiZWwtcG9zXCI6IFwiYm90dG9tXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFwiXCIuY29uY2F0KHQudHJhbnNsYXRlKCdMJyksIFwiIDogXCIpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwic3BvdF9fdmFsdWVcIlxuICB9KSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIHMgPSBfcmVmMi5oaWdoZXN0TG93ZXN0O1xuICByZXR1cm4ge1xuICAgIHNldEhpZ2hlc3RSZWY6IHMuc2V0SGlnaGVzdFJlZixcbiAgICBzZXRMb3dlc3RSZWY6IHMuc2V0TG93ZXN0UmVmXG4gIH07XG59KShIaWdoZXN0TG93ZXN0TWFya2VyKSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBXcmFwcGVyLCBEcmF3aW5nQ3Vyc29ySWNvbiwgVGhlbWVMaWdodEljb24sIFRoZW1lRGFya0ljb24sIERyYXdUb29sSWNvbiwgQWN0aXZlSWNvbiwgRnVsbFNjcmVlbkljb24sIEJhc2VMaW5lSWNvbiwgQ2FuZGxlSWNvbiwgRG90SWNvbiwgTGluZURvdEljb24sIEhlaWtpbkFzaGlJY29uLCBIb2xsb3dDYW5kbGVJY29uLCBLYWdpSWNvbiwgTGluZUJyZWFrSWNvbiwgTGluZUljb24sIE9ITENJY29uLCBQb2ludEZpZ3VyZUljb24sIFJhbmdlQmFyc0ljb24sIFJlbmtvSWNvbiwgVGFibGVJY29uLCBBZGRJY29uLCBab29tSW5JY29uLCBDbG9zZUljb24sIElucHV0TnVtYmVyTWludXNJY29uLCBJbnB1dE51bWJlclBsdXNJY29uLCBDbG9zZUNpcmNsZUljb24sIENsb3NlQm9sZEljb24sIENvbXBhcmlzb25JY29uLCBDcm9zc2hhaXJPZmZJY29uLCBDcm9zc2hhaXJPbkljb24sIENyb3NzaGFpclRvb2x0aXBJY29uLCBEZWxldGVJY29uLCBDbGVhckljb24sIERyYXdJY29uLCBJbmRpY2F0b3JJY29uLCBNZWFzdXJlSWNvbiwgWm9vbU91dEljb24sIFNwbGluZUljb24sIFBuZ0ljb24sIENzdkljb24sIFN0YXJJY29uLCBUZW1wbGF0ZUljb24sIFRpY2tJY29uLCBUaW1lSWNvbiwgU2VhcmNoSWNvbiwgRWRpdEljb24sIFNldHRpbmdJY29uLCBBcnJvd0ljb24sIEZhdm9yaXRlSWNvbiwgSGVscENlbnRlckljb24sIERvd25sb2FkSWNvbiwgSW5mb0ljb24sIEluZm9DaXJjbGVJY29uLCBQb3NpdGlvbkxlZnRJY29uLCBQb3NpdGlvbkJvdHRvbUljb24sIEJhY2tJY29uLCBIb21lSWNvbiwgU2NhbGVJY29uLCBab29taW5JY29uLCBab29tb3V0SWNvbiwgTGFuZ3VhZ2VJY29uLCBUaGVtZUljb24sIENoYXJ0SWNvbiwgQ2hlY2tib3hJY29uLCBDaGVja2JveEFjdGl2ZUljb24sIFR5cGVBcmVhSWNvbiwgVHlwZUNhbmRsZUljb24sIFR5cGVIb2xsb3dJY29uLCBUeXBlT2hsY0ljb24sIFR5cGVBcmVhR3JheXNjYWxlSWNvbiwgVHlwZUNhbmRsZUdyYXlzY2FsZUljb24sIFR5cGVIb2xsb3dHcmF5c2NhbGVJY29uLCBUeXBlT2hsY0dyYXlzY2FsZUljb24sIEluZGljYXRvckNhdE1vbWVudHVtSWNvbiwgSW5kaWNhdG9yQ2F0VHJlbmRMaWdodEljb24sIEluZGljYXRvckNhdFRyZW5kRGFya0ljb24sIEluZGljYXRvckNhdFZvbGF0aWxpdHlJY29uLCBJbmRpY2F0b3JDYXRBdmVyYWdlc0ljb24sIEluZGljYXRvckNhdE90aGVySWNvbiwgSW5kaWNhdG9yQXdlc29tZU9zY2lsbGF0b3JJY29uLCBJbmRpY2F0b3JEVHJlbmRlZEljb24sIEluZGljYXRvckdhdG9ySWNvbiwgSW5kaWNhdG9yTWFjZEljb24sIEluZGljYXRvclJhdGVDaGFuZ2VJY29uLCBJbmRpY2F0b3JSU0lJY29uLCBJbmRpY2F0b3JTdG9jaGFzdGljT3NjaWxsYXRvckljb24sIEluZGljYXRvclN0b2NoYXN0aWNNb21lbnR1bUljb24sIEluZGljYXRvcldpbGxpYW1QZXJjZW50SWNvbiwgSW5kaWNhdG9yQXJvb25JY29uLCBJbmRpY2F0b3JBZHhJY29uLCBJbmRpY2F0b3JDb21tb2RpdHlDaGFubmVsSW5kZXhJY29uLCBJbmRpY2F0b3JJY2hpbW9rdUljb24sIEluZGljYXRvclBhcmFib2xpY0ljb24sIEluZGljYXRvclppZ1phZ0ljb24sIEluZGljYXRvckJvbGxpbmdlckljb24sIEluZGljYXRvckRvbmNoaWFuSWNvbiwgSW5kaWNhdG9yQXZlcmFnZXNJY29uLCBJbmRpY2F0b3JFbnZlbG9wZUljb24sIEluZGljYXRvckFsbGlnYXRvckljb24sIEluZGljYXRvckZyYWN0YWxDaGFvc0ljb24sIEluZGljYXRvclJhaW5ib3dJY29uLCBNZXRhbEljb24sIEVtcHR5U3RhdGVJY29uLCBPdmVyd3JpdGVTdGF0ZUljb24sIEFycm93R3JlZW5JY29uLCBBcnJvd09yYW5nZUljb24sIERyYXdUb29sc0NoYW5uZWxJY29uLCBEcmF3VG9vbHNDb250aW51b3VzSWNvbiwgRHJhd1Rvb2xzRmlib25hY2NpZmFuSWNvbiwgRHJhd1Rvb2xzSG9yaXpvbnRhbEljb24sIERyYXdUb29sc0xpbmVJY29uLCBEcmF3VG9vbHNSYXlJY29uLCBEcmF3VG9vbHNSZWN0YW5nbGVJY29uLCBEcmF3VG9vbHNUcmVuZEljb24sIERyYXdUb29sc1ZlcnRpY2FsSWNvbiwgYWxlcnRJY29uTWFwLCBTeW1ib2xQbGFjZWhvbGRlckljb24sIENhdGVnb3J5SWNvbk1hcCwgU2V0dGluZ0NvdW50ZG93bk1hcCwgU2V0dGluZ0hpc3RvcmljYWxNYXAsIFNldHRpbmdIaWdoZXN0TG93ZXN0TWFwLCBGbGFnSWNvbnMsIEl0ZW1JY29uTWFwLCBPVENCYWRnZUljb24sIEFjdGl2ZU9wdGlvbnNJY29uTWFwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIldyYXBwZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBXcmFwcGVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEcmF3aW5nQ3Vyc29ySWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERyYXdpbmdDdXJzb3JJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUaGVtZUxpZ2h0SWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRoZW1lTGlnaHRJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUaGVtZURhcmtJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVGhlbWVEYXJrSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRHJhd1Rvb2xJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRHJhd1Rvb2xJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJBY3RpdmVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQWN0aXZlSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRnVsbFNjcmVlbkljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBGdWxsU2NyZWVuSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQmFzZUxpbmVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQmFzZUxpbmVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDYW5kbGVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2FuZGxlSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRG90SWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERvdEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkxpbmVEb3RJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTGluZURvdEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkhlaWtpbkFzaGlJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSGVpa2luQXNoaUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkhvbGxvd0NhbmRsZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBIb2xsb3dDYW5kbGVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJLYWdpSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEthZ2lJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJMaW5lQnJlYWtJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTGluZUJyZWFrSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTGluZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBMaW5lSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiT0hMQ0ljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBPSExDSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiUG9pbnRGaWd1cmVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUG9pbnRGaWd1cmVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJSYW5nZUJhcnNJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUmFuZ2VCYXJzSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiUmVua29JY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUmVua29JY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUYWJsZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUYWJsZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkFkZEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBBZGRJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJab29tSW5JY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gWm9vbUluSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ2xvc2VJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2xvc2VJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbnB1dE51bWJlck1pbnVzSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIElucHV0TnVtYmVyTWludXNJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbnB1dE51bWJlclBsdXNJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5wdXROdW1iZXJQbHVzSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ2xvc2VDaXJjbGVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2xvc2VDaXJjbGVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDbG9zZUJvbGRJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2xvc2VCb2xkSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ29tcGFyaXNvbkljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDb21wYXJpc29uSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ3Jvc3NoYWlyT2ZmSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENyb3NzaGFpck9mZkljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNyb3NzaGFpck9uSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENyb3NzaGFpck9uSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ3Jvc3NoYWlyVG9vbHRpcEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDcm9zc2hhaXJUb29sdGlwSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRGVsZXRlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERlbGV0ZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNsZWFySWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENsZWFySWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRHJhd0ljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEcmF3SWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9ySWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEluZGljYXRvckljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk1lYXN1cmVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTWVhc3VyZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlpvb21PdXRJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gWm9vbU91dEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlNwbGluZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTcGxpbmVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJQbmdJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUG5nSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ3N2SWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENzdkljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlN0YXJJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU3Rhckljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRlbXBsYXRlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRlbXBsYXRlSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVGlja0ljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUaWNrSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVGltZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUaW1lSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiU2VhcmNoSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFNlYXJjaEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkVkaXRJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRWRpdEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlNldHRpbmdJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU2V0dGluZ0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkFycm93SWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEFycm93SWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRmF2b3JpdGVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRmF2b3JpdGVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJIZWxwQ2VudGVySWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEhlbHBDZW50ZXJJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEb3dubG9hZEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEb3dubG9hZEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkluZm9JY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5mb0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkluZm9DaXJjbGVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5mb0NpcmNsZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlBvc2l0aW9uTGVmdEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQb3NpdGlvbkxlZnRJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJQb3NpdGlvbkJvdHRvbUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQb3NpdGlvbkJvdHRvbUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkJhY2tJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQmFja0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkhvbWVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSG9tZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlNjYWxlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFNjYWxlSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiWm9vbWluSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFpvb21pbkljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlpvb21vdXRJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gWm9vbW91dEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkxhbmd1YWdlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIExhbmd1YWdlSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVGhlbWVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVGhlbWVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDaGFydEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDaGFydEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNoZWNrYm94SWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENoZWNrYm94SWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ2hlY2tib3hBY3RpdmVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2hlY2tib3hBY3RpdmVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUeXBlQXJlYUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUeXBlQXJlYUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlR5cGVDYW5kbGVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVHlwZUNhbmRsZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlR5cGVIb2xsb3dJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVHlwZUhvbGxvd0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlR5cGVPaGxjSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFR5cGVPaGxjSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVHlwZUFyZWFHcmF5c2NhbGVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVHlwZUFyZWFHcmF5c2NhbGVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUeXBlQ2FuZGxlR3JheXNjYWxlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFR5cGVDYW5kbGVHcmF5c2NhbGVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUeXBlSG9sbG93R3JheXNjYWxlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFR5cGVIb2xsb3dHcmF5c2NhbGVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUeXBlT2hsY0dyYXlzY2FsZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUeXBlT2hsY0dyYXlzY2FsZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkluZGljYXRvckNhdE1vbWVudHVtSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEluZGljYXRvckNhdE1vbWVudHVtSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9yQ2F0VHJlbmRMaWdodEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBJbmRpY2F0b3JDYXRUcmVuZExpZ2h0SWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9yQ2F0VHJlbmREYXJrSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEluZGljYXRvckNhdFRyZW5kRGFya0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkluZGljYXRvckNhdFZvbGF0aWxpdHlJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yQ2F0Vm9sYXRpbGl0eUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkluZGljYXRvckNhdEF2ZXJhZ2VzSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEluZGljYXRvckNhdEF2ZXJhZ2VzSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9yQ2F0T3RoZXJJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yQ2F0T3RoZXJJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmRpY2F0b3JBd2Vzb21lT3NjaWxsYXRvckljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBJbmRpY2F0b3JBd2Vzb21lT3NjaWxsYXRvckljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkluZGljYXRvckRUcmVuZGVkSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEluZGljYXRvckRUcmVuZGVkSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9yR2F0b3JJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yR2F0b3JJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmRpY2F0b3JNYWNkSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEluZGljYXRvck1hY2RJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmRpY2F0b3JSYXRlQ2hhbmdlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEluZGljYXRvclJhdGVDaGFuZ2VJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmRpY2F0b3JSU0lJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yUlNJSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9yU3RvY2hhc3RpY09zY2lsbGF0b3JJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yU3RvY2hhc3RpY09zY2lsbGF0b3JJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmRpY2F0b3JTdG9jaGFzdGljTW9tZW50dW1JY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yU3RvY2hhc3RpY01vbWVudHVtSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9yV2lsbGlhbVBlcmNlbnRJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yV2lsbGlhbVBlcmNlbnRJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmRpY2F0b3JBcm9vbkljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBJbmRpY2F0b3JBcm9vbkljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkluZGljYXRvckFkeEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBJbmRpY2F0b3JBZHhJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmRpY2F0b3JDb21tb2RpdHlDaGFubmVsSW5kZXhJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yQ29tbW9kaXR5Q2hhbm5lbEluZGV4SWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9ySWNoaW1va3VJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9ySWNoaW1va3VJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmRpY2F0b3JQYXJhYm9saWNJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yUGFyYWJvbGljSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9yWmlnWmFnSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEluZGljYXRvclppZ1phZ0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkluZGljYXRvckJvbGxpbmdlckljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBJbmRpY2F0b3JCb2xsaW5nZXJJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmRpY2F0b3JEb25jaGlhbkljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBJbmRpY2F0b3JEb25jaGlhbkljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkluZGljYXRvckF2ZXJhZ2VzSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEluZGljYXRvckF2ZXJhZ2VzSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9yRW52ZWxvcGVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yRW52ZWxvcGVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJbmRpY2F0b3JBbGxpZ2F0b3JJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yQWxsaWdhdG9ySWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9yRnJhY3RhbENoYW9zSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEluZGljYXRvckZyYWN0YWxDaGFvc0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkluZGljYXRvclJhaW5ib3dJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gSW5kaWNhdG9yUmFpbmJvd0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk1ldGFsSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE1ldGFsSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRW1wdHlTdGF0ZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBFbXB0eVN0YXRlSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiT3ZlcndyaXRlU3RhdGVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gT3ZlcndyaXRlU3RhdGVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJBcnJvd0dyZWVuSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEFycm93R3JlZW5JY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJBcnJvd09yYW5nZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBBcnJvd09yYW5nZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRyYXdUb29sc0NoYW5uZWxJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRHJhd1Rvb2xzQ2hhbm5lbEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRyYXdUb29sc0NvbnRpbnVvdXNJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRHJhd1Rvb2xzQ29udGludW91c0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRyYXdUb29sc0ZpYm9uYWNjaWZhbkljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEcmF3VG9vbHNGaWJvbmFjY2lmYW5JY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEcmF3VG9vbHNIb3Jpem9udGFsSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERyYXdUb29sc0hvcml6b250YWxJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEcmF3VG9vbHNMaW5lSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERyYXdUb29sc0xpbmVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEcmF3VG9vbHNSYXlJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRHJhd1Rvb2xzUmF5SWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRHJhd1Rvb2xzUmVjdGFuZ2xlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERyYXdUb29sc1JlY3RhbmdsZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRyYXdUb29sc1RyZW5kSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERyYXdUb29sc1RyZW5kSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRHJhd1Rvb2xzVmVydGljYWxJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRHJhd1Rvb2xzVmVydGljYWxJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhbGVydEljb25NYXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBhbGVydEljb25NYXA7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlN5bWJvbFBsYWNlaG9sZGVySWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFN5bWJvbFBsYWNlaG9sZGVySWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ2F0ZWdvcnlJY29uTWFwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2F0ZWdvcnlJY29uTWFwOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJTZXR0aW5nQ291bnRkb3duTWFwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU2V0dGluZ0NvdW50ZG93bk1hcDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiU2V0dGluZ0hpc3RvcmljYWxNYXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTZXR0aW5nSGlzdG9yaWNhbE1hcDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiU2V0dGluZ0hpZ2hlc3RMb3dlc3RNYXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTZXR0aW5nSGlnaGVzdExvd2VzdE1hcDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRmxhZ0ljb25zXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRmxhZ0ljb25zOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJdGVtSWNvbk1hcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEl0ZW1JY29uTWFwOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJPVENCYWRnZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBPVENCYWRnZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkFjdGl2ZU9wdGlvbnNJY29uTWFwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQWN0aXZlT3B0aW9uc0ljb25NYXA7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19pY29uc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2ljb25zLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9faWNvbnMuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2ljb25zX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2ljb25zX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfYmFzZWxpbmVfaWNfYmFzZWxpbmVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9iYXNlbGluZS9pYy1iYXNlbGluZS1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2Jhc2VsaW5lL2ljLWJhc2VsaW5lLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfYmFzZWxpbmVfaWNfYmFzZWxpbmVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2Jhc2VsaW5lX2ljX2Jhc2VsaW5lX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfY2FuZGxlX2ljX2NhbmRsZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2NhbmRsZS9pYy1jYW5kbGUtbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9jYW5kbGUvaWMtY2FuZGxlLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfY2FuZGxlX2ljX2NhbmRsZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfY2FuZGxlX2ljX2NhbmRsZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2RvdF9pY19kb3Rfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9kb3QvaWMtZG90LW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvZG90L2ljLWRvdC1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2RvdF9pY19kb3Rfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2RvdF9pY19kb3Rfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19saW5lX2RvdF9pY19saW5lZG90X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvbGluZSBkb3QvaWMtbGluZWRvdC1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2xpbmUgZG90L2ljLWxpbmVkb3Qtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19saW5lX2RvdF9pY19saW5lZG90X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19saW5lX2RvdF9pY19saW5lZG90X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfaGVpa2luX2FzaGlfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1oZWlraW4tYXNoaS1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLWhlaWtpbi1hc2hpLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfaGVpa2luX2FzaGlfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX2hlaWtpbl9hc2hpX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaG9sbG93X2NhbmRsZV9pY19ob2xsb3djYW5kbGVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9ob2xsb3cgY2FuZGxlL2ljLWhvbGxvd2NhbmRsZS1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2hvbGxvdyBjYW5kbGUvaWMtaG9sbG93Y2FuZGxlLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaG9sbG93X2NhbmRsZV9pY19ob2xsb3djYW5kbGVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2hvbGxvd19jYW5kbGVfaWNfaG9sbG93Y2FuZGxlX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfa2FnaV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLWthZ2ktbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1rYWdpLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfa2FnaV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfa2FnaV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2xpbmVfaWNfbGluZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2xpbmUvaWMtbGluZS1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2xpbmUvaWMtbGluZS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2xpbmVfaWNfbGluZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfbGluZV9pY19saW5lX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfbGluZWJyZWFrX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLWxpbmVicmVhay1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLWxpbmVicmVhay1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX2xpbmVicmVha19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX2xpbmVicmVha19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19vaGxjX2ljX29obGNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvb2hsYy9pYy1vaGxjLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvb2hsYy9pYy1vaGxjLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfb2hsY19pY19vaGxjX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfb2hsY19pY19vaGxjX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX3BvaW50ZmlndXJlX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLXBvaW50ZmlndXJlLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtcG9pbnRmaWd1cmUtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19pY19wb2ludGZpZ3VyZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX3BvaW50ZmlndXJlX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX3JhbmdlYmFyc19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1yYW5nZWJhcnMtbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1yYW5nZWJhcnMtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19pY19yYW5nZWJhcnNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19pY19yYW5nZWJhcnNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfcmVua29fbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtcmVua28tbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1yZW5rby1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX3JlbmtvX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfcmVua29fbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfc3BsaW5lX2ljX3NwbGluZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9zcGxpbmUvaWMtc3BsaW5lLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvc3BsaW5lL2ljLXNwbGluZS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX3NwbGluZV9pY19zcGxpbmVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19zcGxpbmVfaWNfc3BsaW5lX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX3RhYmxlX3RhYmxlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvdGFibGUvdGFibGUuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL3RhYmxlL3RhYmxlLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc190YWJsZV90YWJsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfdGFibGVfdGFibGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kb3dubG9hZF9pY19wbmdfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9kb3dubG9hZC9pYy1wbmcuc3ZnICovIFwiLi9zYXNzL2ljb25zL2Rvd25sb2FkL2ljLXBuZy5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZG93bmxvYWRfaWNfcG5nX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19kb3dubG9hZF9pY19wbmdfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kb3dubG9hZF9pY19jc3Zfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9kb3dubG9hZC9pYy1jc3Yuc3ZnICovIFwiLi9zYXNzL2ljb25zL2Rvd25sb2FkL2ljLWNzdi5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZG93bmxvYWRfaWNfY3N2X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19kb3dubG9hZF9pY19jc3Zfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc196b29tX2luX2ljX3pvb21pbl9saWdodF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL3pvb20taW4vaWMtem9vbWluLWxpZ2h0LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy96b29tLWluL2ljLXpvb21pbi1saWdodC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3Nfem9vbV9pbl9pY196b29taW5fbGlnaHRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX3pvb21faW5faWNfem9vbWluX2xpZ2h0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2FkZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1hZGQuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1hZGQuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY19hZGRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NvbW1vbl9pY19hZGRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfY2xvc2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jb21tb24vaWMtY2xvc2Uuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1jbG9zZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2Nsb3NlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jb21tb25faWNfY2xvc2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfaW5wdXRfbnVtYmVyX21pbnVzX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWlucHV0LW51bWJlci1taW51cy5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWlucHV0LW51bWJlci1taW51cy5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2lucHV0X251bWJlcl9taW51c19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2lucHV0X251bWJlcl9taW51c19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY19pbnB1dF9udW1iZXJfcGx1c19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1pbnB1dC1udW1iZXItcGx1cy5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWlucHV0LW51bWJlci1wbHVzLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfaW5wdXRfbnVtYmVyX3BsdXNfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NvbW1vbl9pY19pbnB1dF9udW1iZXJfcGx1c19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2Nsb3NlX2ljX2Nsb3NlX2NpcmNsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2Nsb3NlL2ljLWNsb3NlLWNpcmNsZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2xvc2UvaWMtY2xvc2UtY2lyY2xlLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jbG9zZV9pY19jbG9zZV9jaXJjbGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2Nsb3NlX2ljX2Nsb3NlX2NpcmNsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2Nsb3NlX2ljX2Nsb3NlX2JvbGRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jbG9zZS9pYy1jbG9zZS1ib2xkLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jbG9zZS9pYy1jbG9zZS1ib2xkLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jbG9zZV9pY19jbG9zZV9ib2xkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jbG9zZV9pY19jbG9zZV9ib2xkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY29tcGFyaXNvbl9pY19jb21wYXJpc29uX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NvbXBhcmlzb24vaWMtY29tcGFyaXNvbi1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NvbXBhcmlzb24vaWMtY29tcGFyaXNvbi1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NvbXBhcmlzb25faWNfY29tcGFyaXNvbl9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NvbXBhcmlzb25faWNfY29tcGFyaXNvbl9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jcm9zc2hhaXJfaWNfY3Jvc3NoYWlyX29mZl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItb2ZmLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jcm9zc2hhaXIvaWMtY3Jvc3NoYWlyLW9mZi5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY3Jvc3NoYWlyX2ljX2Nyb3NzaGFpcl9vZmZfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yN19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2Nyb3NzaGFpcl9pY19jcm9zc2hhaXJfb2ZmX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjdfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY3Jvc3NoYWlyX2ljX2Nyb3NzaGFpcl9vbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItb24uc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItb24uc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2Nyb3NzaGFpcl9pY19jcm9zc2hhaXJfb25fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2Nyb3NzaGFpcl9pY19jcm9zc2hhaXJfb25fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jcm9zc2hhaXJfaWNfY3Jvc3NoYWlyX3Rvb2x0aXBfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jcm9zc2hhaXIvaWMtY3Jvc3NoYWlyLXRvb2x0aXAuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItdG9vbHRpcC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY3Jvc3NoYWlyX2ljX2Nyb3NzaGFpcl90b29sdGlwX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjlfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jcm9zc2hhaXJfaWNfY3Jvc3NoYWlyX3Rvb2x0aXBfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kZWxldGVfaWNfZGVsZXRlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZGVsZXRlL2ljLWRlbGV0ZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZGVsZXRlL2ljLWRlbGV0ZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZGVsZXRlX2ljX2RlbGV0ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMwX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfZGVsZXRlX2ljX2RlbGV0ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMwX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NsZWFyX2ljX2NsZWFyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2xlYXIvaWMtY2xlYXIuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NsZWFyL2ljLWNsZWFyLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jbGVhcl9pY19jbGVhcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMxX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2xlYXJfaWNfY2xlYXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19kcmF3aW5nX3Rvb2xzX2ljX2RyYXdpbmd0b29sc19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9kcmF3aW5nIHRvb2xzL2ljLWRyYXdpbmd0b29scy1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2RyYXdpbmcgdG9vbHMvaWMtZHJhd2luZ3Rvb2xzLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfZHJhd2luZ190b29sc19pY19kcmF3aW5ndG9vbHNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19kcmF3aW5nX3Rvb2xzX2ljX2RyYXdpbmd0b29sc19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19tZWFzdXJlX2ljX21lYXN1cmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9tZWFzdXJlL2ljLW1lYXN1cmUuc3ZnICovIFwiLi9zYXNzL2ljb25zL21lYXN1cmUvaWMtbWVhc3VyZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfbWVhc3VyZV9pY19tZWFzdXJlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19tZWFzdXJlX2ljX21lYXN1cmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zM19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc196b29tX291dF9pY196b29tb3V0X2xpZ2h0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvem9vbS1vdXQvaWMtem9vbW91dC1saWdodC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvem9vbS1vdXQvaWMtem9vbW91dC1saWdodC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3Nfem9vbV9vdXRfaWNfem9vbW91dF9saWdodF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM0X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3Nfem9vbV9vdXRfaWNfem9vbW91dF9saWdodF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM0X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2Zhdm9yaXRlX2ljX2Zhdm9yaXRlX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2Zhdm9yaXRlL2ljLWZhdm9yaXRlLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmF2b3JpdGUvaWMtZmF2b3JpdGUtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mYXZvcml0ZV9pY19mYXZvcml0ZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2Zhdm9yaXRlX2ljX2Zhdm9yaXRlX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM1X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3RpY2tfaWNfdGlja19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3RpY2svaWMtdGljay5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvdGljay9pYy10aWNrLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc190aWNrX2ljX3RpY2tfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX3RpY2tfaWNfdGlja19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM2X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3RpbWVfaWNfdGltZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3RpbWUvaWMtdGltZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvdGltZS9pYy10aW1lLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc190aW1lX2ljX3RpbWVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zN19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX3RpbWVfaWNfdGltZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM3X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY19hY3RpdmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jb21tb24vaWMtYWN0aXZlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtYWN0aXZlLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzhfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jb21tb25faWNfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzhfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2lkZWJhcl9jb21tb2RpdGllc19pY19jb21tb2RpdGllc19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zaWRlYmFyL2NvbW1vZGl0aWVzL2ljLWNvbW1vZGl0aWVzLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvc2lkZWJhci9jb21tb2RpdGllcy9pYy1jb21tb2RpdGllcy1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NpZGViYXJfY29tbW9kaXRpZXNfaWNfY29tbW9kaXRpZXNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzlfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19zaWRlYmFyX2NvbW1vZGl0aWVzX2ljX2NvbW1vZGl0aWVzX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM5X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NpZGViYXJfZm9yZXhfaWNfZm9yZXhfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvc2lkZWJhci9mb3JleC9pYy1mb3JleC1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvZm9yZXgvaWMtZm9yZXgtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zaWRlYmFyX2ZvcmV4X2ljX2ZvcmV4X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQwX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfc2lkZWJhcl9mb3JleF9pY19mb3JleF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zaWRlYmFyX2luZGljZXNfaWNfaW5kaWNlc19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zaWRlYmFyL2luZGljZXMvaWMtaW5kaWNlcy1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvaW5kaWNlcy9pYy1pbmRpY2VzLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2lkZWJhcl9pbmRpY2VzX2ljX2luZGljZXNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19zaWRlYmFyX2luZGljZXNfaWNfaW5kaWNlc19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zaWRlYmFyX290Y19pY19vdGNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvc2lkZWJhci9vdGMvaWMtb3RjLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvc2lkZWJhci9vdGMvaWMtb3RjLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2lkZWJhcl9vdGNfaWNfb3RjX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQyX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfc2lkZWJhcl9vdGNfaWNfb3RjX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NpZGViYXJfc3ludGhfaW5kZXhfaWNfc3ludGhfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvc2lkZWJhci9zeW50aF9pbmRleC9pYy1zeW50aC1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvc3ludGhfaW5kZXgvaWMtc3ludGgtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zaWRlYmFyX3N5bnRoX2luZGV4X2ljX3N5bnRoX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQzX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfc2lkZWJhcl9zeW50aF9pbmRleF9pY19zeW50aF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80M19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zaWRlYmFyX3ZvbGF0aWxpdHlfaWNfdm9sYXRpbGl0eV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80NF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zaWRlYmFyL3ZvbGF0aWxpdHkvaWMtdm9sYXRpbGl0eS1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvdm9sYXRpbGl0eS9pYy12b2xhdGlsaXR5LW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2lkZWJhcl92b2xhdGlsaXR5X2ljX3ZvbGF0aWxpdHlfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDRfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19zaWRlYmFyX3ZvbGF0aWxpdHlfaWNfdm9sYXRpbGl0eV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80NF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zZWFyY2hfaWNfc2VhcmNoX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3NlYXJjaC9pYy1zZWFyY2gtbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9zZWFyY2gvaWMtc2VhcmNoLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2VhcmNoX2ljX3NlYXJjaF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80NV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX3NlYXJjaF9pY19zZWFyY2hfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZWRpdF9pY19lZGl0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZWRpdC9pYy1lZGl0LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9lZGl0L2ljLWVkaXQuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2VkaXRfaWNfZWRpdF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ2X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfZWRpdF9pY19lZGl0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDZfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZHJvcGRvd25faWNfZHJvcGRvd25fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80N19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9kcm9wZG93bi9pYy1kcm9wZG93bi5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZHJvcGRvd24vaWMtZHJvcGRvd24uc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2Ryb3Bkb3duX2ljX2Ryb3Bkb3duX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDdfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19kcm9wZG93bl9pY19kcm9wZG93bl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ3X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX3NldHRpbmdfaWNfcG9zaXRpb25fbGVmdF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL3NldHRpbmcvaWMtcG9zaXRpb24tbGVmdC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvc2V0dGluZy9pYy1wb3NpdGlvbi1sZWZ0LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19zZXR0aW5nX2ljX3Bvc2l0aW9uX2xlZnRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80OF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX3NldHRpbmdfaWNfcG9zaXRpb25fbGVmdF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ4X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX3NldHRpbmdfaWNfcG9zaXRpb25fYm90dG9tX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvc2V0dGluZy9pYy1wb3NpdGlvbi1ib3R0b20uc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL3NldHRpbmcvaWMtcG9zaXRpb24tYm90dG9tLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19zZXR0aW5nX2ljX3Bvc2l0aW9uX2JvdHRvbV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ5X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3Nfc2V0dGluZ19pY19wb3NpdGlvbl9ib3R0b21fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80OV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19iYWNrX2ljX2JhY2tfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81MF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9iYWNrL2ljLWJhY2suc3ZnICovIFwiLi9zYXNzL2ljb25zL2JhY2svaWMtYmFjay5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYmFja19pY19iYWNrX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19iYWNrX2ljX2JhY2tfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81MF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19wZW5jaWxfaWNfcGVuY2lsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvcGVuY2lsL2ljLXBlbmNpbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvcGVuY2lsL2ljLXBlbmNpbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfcGVuY2lsX2ljX3BlbmNpbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUxX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfcGVuY2lsX2ljX3BlbmNpbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUxX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY19kcmF3aW5nX3Rvb2xfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81Ml9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jb21tb24vaWMtZHJhd2luZy10b29sLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtZHJhd2luZy10b29sLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfZHJhd2luZ190b29sX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jb21tb25faWNfZHJhd2luZ190b29sX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2hlbHBfY2VudGVyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWhlbHAtY2VudGVyLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtaGVscC1jZW50ZXIuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY19oZWxwX2NlbnRlcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUzX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2hlbHBfY2VudGVyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2Rvd25sb2FkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWRvd25sb2FkLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtZG93bmxvYWQuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY19kb3dubG9hZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU0X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2Rvd25sb2FkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2luZGljYXRvcnNfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81NV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jb21tb24vaWMtaW5kaWNhdG9ycy5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWluZGljYXRvcnMuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY19pbmRpY2F0b3JzX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jb21tb25faWNfaW5kaWNhdG9yc19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU1X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY190ZW1wbGF0ZXNfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81Nl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jb21tb24vaWMtdGVtcGxhdGVzLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtdGVtcGxhdGVzLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfdGVtcGxhdGVzX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTZfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jb21tb25faWNfdGVtcGxhdGVzX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTZfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY29tbW9uX2Z1bGxfc2NyZWVuX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY29tbW9uL2Z1bGwtc2NyZWVuLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vZnVsbC1zY3JlZW4uc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9mdWxsX3NjcmVlbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU3X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY29tbW9uX2Z1bGxfc2NyZWVuX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTdfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWxlcnRfbWVzc2FnZV93YXJuaW5nX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNThfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWxlcnQgbWVzc2FnZS93YXJuaW5nLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hbGVydCBtZXNzYWdlL3dhcm5pbmcuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FsZXJ0X21lc3NhZ2Vfd2FybmluZ19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU4X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfYWxlcnRfbWVzc2FnZV93YXJuaW5nX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNThfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWxlcnRfbWVzc2FnZV9lcnJvcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2UvZXJyb3Iuc3ZnICovIFwiLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2UvZXJyb3Iuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FsZXJ0X21lc3NhZ2VfZXJyb3Jfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81OV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2FsZXJ0X21lc3NhZ2VfZXJyb3Jfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81OV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hbGVydF9tZXNzYWdlX3N1Y2Nlc3Nfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82MF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hbGVydCBtZXNzYWdlL3N1Y2Nlc3Muc3ZnICovIFwiLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2Uvc3VjY2Vzcy5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWxlcnRfbWVzc2FnZV9zdWNjZXNzX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hbGVydF9tZXNzYWdlX3N1Y2Nlc3Nfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82MF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hbGVydF9tZXNzYWdlX2luZm9fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82MV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hbGVydCBtZXNzYWdlL2luZm8uc3ZnICovIFwiLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2UvaW5mby5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWxlcnRfbWVzc2FnZV9pbmZvX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hbGVydF9tZXNzYWdlX2luZm9fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82MV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19uYXZpZ2F0aW9uX3dpZGdldHNfaWNfaG9tZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzYyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL25hdmlnYXRpb24td2lkZ2V0cy9pYy1ob21lLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9uYXZpZ2F0aW9uLXdpZGdldHMvaWMtaG9tZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfbmF2aWdhdGlvbl93aWRnZXRzX2ljX2hvbWVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82Ml9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX25hdmlnYXRpb25fd2lkZ2V0c19pY19ob21lX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfbmF2aWdhdGlvbl93aWRnZXRzX2ljX3NjYWxlX2Z1bGxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82M19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9uYXZpZ2F0aW9uLXdpZGdldHMvaWMtc2NhbGUtZnVsbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvbmF2aWdhdGlvbi13aWRnZXRzL2ljLXNjYWxlLWZ1bGwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX25hdmlnYXRpb25fd2lkZ2V0c19pY19zY2FsZV9mdWxsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19uYXZpZ2F0aW9uX3dpZGdldHNfaWNfc2NhbGVfZnVsbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzYzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX25hdmlnYXRpb25fd2lkZ2V0c19pY196b29taW5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82NF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9uYXZpZ2F0aW9uLXdpZGdldHMvaWMtem9vbWluLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9uYXZpZ2F0aW9uLXdpZGdldHMvaWMtem9vbWluLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19uYXZpZ2F0aW9uX3dpZGdldHNfaWNfem9vbWluX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjRfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19uYXZpZ2F0aW9uX3dpZGdldHNfaWNfem9vbWluX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfbmF2aWdhdGlvbl93aWRnZXRzX2ljX3pvb21vdXRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82NV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9uYXZpZ2F0aW9uLXdpZGdldHMvaWMtem9vbW91dC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvbmF2aWdhdGlvbi13aWRnZXRzL2ljLXpvb21vdXQuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX25hdmlnYXRpb25fd2lkZ2V0c19pY196b29tb3V0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19uYXZpZ2F0aW9uX3dpZGdldHNfaWNfem9vbW91dF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY1X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3R5cGVfaWNfYXJlYV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0LXR5cGUvaWMtYXJlYS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQtdHlwZS9pYy1hcmVhLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF90eXBlX2ljX2FyZWFfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82Nl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3R5cGVfaWNfYXJlYV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY2X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3R5cGVfaWNfY2FuZGxlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQtdHlwZS9pYy1jYW5kbGUuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0LXR5cGUvaWMtY2FuZGxlLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF90eXBlX2ljX2NhbmRsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY3X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfdHlwZV9pY19jYW5kbGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82N19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF90eXBlX2ljX2hvbGxvd19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0LXR5cGUvaWMtaG9sbG93LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydC10eXBlL2ljLWhvbGxvdy5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfdHlwZV9pY19ob2xsb3dfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82OF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3R5cGVfaWNfaG9sbG93X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjhfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfdHlwZV9pY19vaGxjX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQtdHlwZS9pYy1vaGxjLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydC10eXBlL2ljLW9obGMuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3R5cGVfaWNfb2hsY19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY5X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfdHlwZV9pY19vaGxjX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjlfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfdHlwZV9pY19hcmVhX2dyYXlzY2FsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0LXR5cGUvaWMtYXJlYS1ncmF5c2NhbGUuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0LXR5cGUvaWMtYXJlYS1ncmF5c2NhbGUuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3R5cGVfaWNfYXJlYV9ncmF5c2NhbGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83MF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X3R5cGVfaWNfYXJlYV9ncmF5c2NhbGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83MF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF90eXBlX2ljX2NhbmRsZV9ncmF5c2NhbGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83MV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydC10eXBlL2ljLWNhbmRsZS1ncmF5c2NhbGUuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0LXR5cGUvaWMtY2FuZGxlLWdyYXlzY2FsZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfdHlwZV9pY19jYW5kbGVfZ3JheXNjYWxlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jaGFydF90eXBlX2ljX2NhbmRsZV9ncmF5c2NhbGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83MV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF90eXBlX2ljX2hvbGxvd19ncmF5c2NhbGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Ml9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydC10eXBlL2ljLWhvbGxvdy1ncmF5c2NhbGUuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0LXR5cGUvaWMtaG9sbG93LWdyYXlzY2FsZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfdHlwZV9pY19ob2xsb3dfZ3JheXNjYWxlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jaGFydF90eXBlX2ljX2hvbGxvd19ncmF5c2NhbGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Ml9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF90eXBlX2ljX29obGNfZ3JheXNjYWxlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQtdHlwZS9pYy1vaGxjLWdyYXlzY2FsZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQtdHlwZS9pYy1vaGxjLWdyYXlzY2FsZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfdHlwZV9pY19vaGxjX2dyYXlzY2FsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzczX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfdHlwZV9pY19vaGxjX2dyYXlzY2FsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzczX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2Fycm93c19pY19hcnJvd19ncmVlbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2Fycm93cy9pYy1hcnJvdy1ncmVlbi5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYXJyb3dzL2ljLWFycm93LWdyZWVuLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hcnJvd3NfaWNfYXJyb3dfZ3JlZW5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83NF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2Fycm93c19pY19hcnJvd19ncmVlbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc0X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2Fycm93c19pY19hcnJvd19vcmFuZ2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83NV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hcnJvd3MvaWMtYXJyb3ctb3JhbmdlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hcnJvd3MvaWMtYXJyb3ctb3JhbmdlLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hcnJvd3NfaWNfYXJyb3dfb3JhbmdlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hcnJvd3NfaWNfYXJyb3dfb3JhbmdlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfcGxhY2Vob2xkZXJfaWNfcGxhY2Vob2xkZXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9wbGFjZWhvbGRlci9pYy1wbGFjZWhvbGRlci5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvcGxhY2Vob2xkZXIvaWMtcGxhY2Vob2xkZXIuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3BsYWNlaG9sZGVyX2ljX3BsYWNlaG9sZGVyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzZfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19wbGFjZWhvbGRlcl9pY19wbGFjZWhvbGRlcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc2X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2F1ZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2F1ZC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvYXVkLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19hdWRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83N19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX2F1ZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc3X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2NhZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2NhZC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvY2FkLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19jYWRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83OF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX2NhZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc4X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2NoZl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2NoZi5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvY2hmLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19jaGZfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83OV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX2NoZl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc5X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2V1cl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2V1ci5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvZXVyLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19ldXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84MF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX2V1cl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgwX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2dicF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2dicC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvZ2JwLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19nYnBfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84MV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX2dicF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgxX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2pweV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2pweS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvanB5LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19qcHlfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84Ml9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX2pweV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX214bl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL214bi5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvbXhuLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19teG5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84M19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX214bl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX25va19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL25vay5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3Mvbm9rLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19ub2tfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84NF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX25va19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg0X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX256ZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL256ZC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvbnpkLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19uemRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84NV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX256ZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg1X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX3Bsbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL3Bsbi5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvcGxuLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19wbG5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84Nl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX3Bsbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg2X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX3Nla19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL3Nlay5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3Mvc2VrLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19zZWtfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84N19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX3Nla19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg3X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX3VzZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL3VzZC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvdXNkLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc191c2Rfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84OF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX3VzZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg4X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX3BvcnR1Z2FsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3MvcG9ydHVnYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3BvcnR1Z2FsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19wb3J0dWdhbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg5X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfZmxhZ3NfcG9ydHVnYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84OV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19ydXNzaWFfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85MF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy9ydXNzaWEuc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3J1c3NpYS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfcnVzc2lhX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19mbGFnc19ydXNzaWFfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85MF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc190aGFpbGFuZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzkxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL3RoYWlsYW5kLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy90aGFpbGFuZC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfdGhhaWxhbmRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85MV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX3RoYWlsYW5kX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfaW5kb25lc2lhX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3MvaW5kb25lc2lhLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9pbmRvbmVzaWEuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2luZG9uZXNpYV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzkyX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfZmxhZ3NfaW5kb25lc2lhX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfdmlldG5hbV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzkzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL3ZpZXRuYW0uc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3ZpZXRuYW0uc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX3ZpZXRuYW1fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85M19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX3ZpZXRuYW1fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85M19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19pdGFseV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2l0YWx5LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9pdGFseS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfaXRhbHlfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85NF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX2l0YWx5X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfY2hpbmVzZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2NoaW5lc2Uuc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2NoaW5lc2Uuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2NoaW5lc2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85NV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX2NoaW5lc2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85NV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19jaGluZXNlX3RyYWRpdGlvbmFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3MvY2hpbmVzZS10cmFkaXRpb25hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvY2hpbmVzZS10cmFkaXRpb25hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfY2hpbmVzZV90cmFkaXRpb25hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk2X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfZmxhZ3NfY2hpbmVzZV90cmFkaXRpb25hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk2X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2dlcm1hbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2dlcm1hbi5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvZ2VybWFuLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19nZXJtYW5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85N19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX2dlcm1hbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk3X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2hvbmdfa29uZ19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2hvbmcga29uZy5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvaG9uZyBrb25nLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19ob25nX2tvbmdfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85OF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX2hvbmdfa29uZ19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk4X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2ZyZW5jaF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2ZyZW5jaC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvZnJlbmNoLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19mcmVuY2hfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85OV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX2ZyZW5jaF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk5X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2R1dGNoX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTAwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2R1dGNoLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9kdXRjaC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfZHV0Y2hfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19mbGFnc19kdXRjaF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19zcGFuaXNoX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTAxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL3NwYW5pc2guc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3NwYW5pc2guc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX3NwYW5pc2hfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19mbGFnc19zcGFuaXNoX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTAxX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX3dhbGxzdHJlZXRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3Mvd2FsbHN0cmVldC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3Mvd2FsbHN0cmVldC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3Nfd2FsbHN0cmVldF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2ZsYWdzX3dhbGxzdHJlZXRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfZW5lcmd5X29pbF91c2RfaWNfb2lsdXNkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTAzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL2VuZXJneS9vaWwgdXNkL2ljLW9pbHVzZC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvZW5lcmd5L29pbCB1c2QvaWMtb2lsdXNkLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc19lbmVyZ3lfb2lsX3VzZF9pY19vaWx1c2Rfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc19lbmVyZ3lfb2lsX3VzZF9pY19vaWx1c2Rfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfbWV0YWxzX2ljX21ldGFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTA0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL21ldGFscy9pYy1tZXRhbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvbWV0YWxzL2ljLW1ldGFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc19tZXRhbHNfaWNfbWV0YWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDRfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc19tZXRhbHNfaWNfbWV0YWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV8xMF9pbmRleF9pY18xMF9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzEwIGluZGV4L2ljLTEwLWluZGV4LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzEwIGluZGV4L2ljLTEwLWluZGV4LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzEwX2luZGV4X2ljXzEwX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTA1X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV8xMF9pbmRleF9pY18xMF9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwNV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzI1X2luZGV4X2ljXzI1X2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTA2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMjUgaW5kZXgvaWMtMjUtaW5kZXguc3ZnICovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMjUgaW5kZXgvaWMtMjUtaW5kZXguc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMjVfaW5kZXhfaWNfMjVfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDZfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzI1X2luZGV4X2ljXzI1X2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTA2X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfNTBfaW5kZXhfaWNfNTBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS81MCBpbmRleC9pYy01MC1pbmRleC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS81MCBpbmRleC9pYy01MC1pbmRleC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV81MF9pbmRleF9pY181MF9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwN19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfNTBfaW5kZXhfaWNfNTBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDdfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV83NV9pbmRleF9pY183NV9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5Lzc1IGluZGV4L2ljLTc1LWluZGV4LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5Lzc1IGluZGV4L2ljLTc1LWluZGV4LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5Xzc1X2luZGV4X2ljXzc1X2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTA4X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV83NV9pbmRleF9pY183NV9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwOF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzEwMF9pbmRleF9pY18xMDBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xMDAgaW5kZXgvaWMtMTAwLWluZGV4LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzEwMCBpbmRleC9pYy0xMDAtaW5kZXguc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMTAwX2luZGV4X2ljXzEwMF9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwOV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMTAwX2luZGV4X2ljXzEwMF9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwOV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzFzMTBfaW5kZXhfaWNfMTBfMXNfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xczEwIGluZGV4L2ljLTEwLTFzLWluZGV4LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzFzMTAgaW5kZXgvaWMtMTAtMXMtaW5kZXguc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMXMxMF9pbmRleF9pY18xMF8xc19pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMXMxMF9pbmRleF9pY18xMF8xc19pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzFzMjVfaW5kZXhfbGlnaHRfMjVfMXNfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xczI1IGluZGV4L2xpZ2h0LTI1KDFzKWluZGV4LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzFzMjUgaW5kZXgvbGlnaHQtMjUoMXMpaW5kZXguc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMXMyNV9pbmRleF9saWdodF8yNV8xc19pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMXMyNV9pbmRleF9saWdodF8yNV8xc19pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzFzNTBfaW5kZXhfbGlnaHRfNTBfMXNfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xczUwIGluZGV4L2xpZ2h0LTUwKDFzKSBpbmRleC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xczUwIGluZGV4L2xpZ2h0LTUwKDFzKSBpbmRleC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV8xczUwX2luZGV4X2xpZ2h0XzUwXzFzX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTEyX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV8xczUwX2luZGV4X2xpZ2h0XzUwXzFzX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTEyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMXM3NV9pbmRleF9saWdodF83NV8xc19pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzFzNzUgaW5kZXgvbGlnaHQtNzUoMXMpIGluZGV4LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzFzNzUgaW5kZXgvbGlnaHQtNzUoMXMpIGluZGV4LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzFzNzVfaW5kZXhfbGlnaHRfNzVfMXNfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzFzNzVfaW5kZXhfbGlnaHRfNzVfMXNfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV8xczEwMF9pbmRleF9pY18xMDBfMXNfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xczEwMCBpbmRleC9pYy0xMDAtMXMtaW5kZXguc3ZnICovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMXMxMDAgaW5kZXgvaWMtMTAwLTFzLWluZGV4LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzFzMTAwX2luZGV4X2ljXzEwMF8xc19pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExNF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMXMxMDBfaW5kZXhfaWNfMTAwXzFzX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTE0X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfY3Jhc2g1MDBfaW5kZXhfY3Jhc2g1MDBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9jcmFzaDUwMCBpbmRleC9jcmFzaDUwMCBpbmRleC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9jcmFzaDUwMCBpbmRleC9jcmFzaDUwMCBpbmRleC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV9jcmFzaDUwMF9pbmRleF9jcmFzaDUwMF9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExNV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfY3Jhc2g1MDBfaW5kZXhfY3Jhc2g1MDBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV9jcmFzaDEwMDBfaW5kZXhfY3Jhc2gxMDAwX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTE2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvY3Jhc2gxMDAwIGluZGV4L2NyYXNoMTAwMCBpbmRleC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9jcmFzaDEwMDAgaW5kZXgvY3Jhc2gxMDAwIGluZGV4LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5X2NyYXNoMTAwMF9pbmRleF9jcmFzaDEwMDBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTZfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5X2NyYXNoMTAwMF9pbmRleF9jcmFzaDEwMDBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTZfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV9ib29tNTAwX2luZGV4X2Jvb201MDBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9ib29tNTAwIGluZGV4L2Jvb201MDAgaW5kZXguc3ZnICovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvYm9vbTUwMCBpbmRleC9ib29tNTAwIGluZGV4LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5X2Jvb201MDBfaW5kZXhfYm9vbTUwMF9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExN19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfYm9vbTUwMF9pbmRleF9ib29tNTAwX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTE3X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfYm9vbTEwMDBfaW5kZXhfYm9vbTEwMDBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMThfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9ib29tMTAwMCBpbmRleC9ib29tMTAwMCBpbmRleC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9ib29tMTAwMCBpbmRleC9ib29tMTAwMCBpbmRleC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV9ib29tMTAwMF9pbmRleF9ib29tMTAwMF9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExOF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfYm9vbTEwMDBfaW5kZXhfYm9vbTEwMDBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMThfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV9iZWFyX21hcmtldF9pY19tYXJrZXRiZWFyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTE5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvYmVhciBtYXJrZXQvaWMtbWFya2V0YmVhci5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9iZWFyIG1hcmtldC9pYy1tYXJrZXRiZWFyLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5X2JlYXJfbWFya2V0X2ljX21hcmtldGJlYXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTlfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5X2JlYXJfbWFya2V0X2ljX21hcmtldGJlYXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTlfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV9idWxsX21hcmtldF9pY19tYXJrZXRidWxsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvYnVsbCBtYXJrZXQvaWMtbWFya2V0YnVsbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9idWxsIG1hcmtldC9pYy1tYXJrZXRidWxsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5X2J1bGxfbWFya2V0X2ljX21hcmtldGJ1bGxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5X2J1bGxfbWFya2V0X2ljX21hcmtldGJ1bGxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV9zdGVwX2luZGV4X3N0ZXBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9zdGVwIGluZGV4L3N0ZXAgaW5kZXguc3ZnICovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvc3RlcCBpbmRleC9zdGVwIGluZGV4LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5X3N0ZXBfaW5kZXhfc3RlcF9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfc3RlcF9pbmRleF9zdGVwX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIxX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX2ljX290Y2JhZGdlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL2ljLW90Y2JhZGdlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy9pYy1vdGNiYWRnZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfaWNfb3RjYmFkZ2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc19pY19vdGNiYWRnZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyMl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc19pY19zbWFydGZ4X3BsYWNlaG9sZGVyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL2ljLXNtYXJ0ZngtcGxhY2Vob2xkZXIuc3ZnICovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL2ljLXNtYXJ0ZngtcGxhY2Vob2xkZXIuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX2ljX3NtYXJ0ZnhfcGxhY2Vob2xkZXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc19pY19zbWFydGZ4X3BsYWNlaG9sZGVyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NoYXBlX2ljX2VtcHR5X3N0YXRlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTI0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3NoYXBlL2ljLWVtcHR5LXN0YXRlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9zaGFwZS9pYy1lbXB0eS1zdGF0ZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2hhcGVfaWNfZW1wdHlfc3RhdGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjRfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19zaGFwZV9pY19lbXB0eV9zdGF0ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyNF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zaGFwZV9pY19vdmVyd3JpdGVfc3RhdGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvc2hhcGUvaWMtb3ZlcndyaXRlLXN0YXRlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9zaGFwZS9pYy1vdmVyd3JpdGUtc3RhdGUuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NoYXBlX2ljX292ZXJ3cml0ZV9zdGF0ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyNV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX3NoYXBlX2ljX292ZXJ3cml0ZV9zdGF0ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyNV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfaW5mb19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jb21tb24vaWMtaW5mby5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWluZm8uc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY19pbmZvX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTI2X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2luZm9fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjZfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2xhbmd1YWdlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTI3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1sYW5ndWFnZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWxhbmd1YWdlLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfbGFuZ3VhZ2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjdfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jb21tb25faWNfbGFuZ3VhZ2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjdfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY29tbW9uX2ljX3RoZW1lX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTI4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NvbW1vbi9pYy10aGVtZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY29tbW9uL2ljLXRoZW1lLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfdGhlbWVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjhfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jb21tb25faWNfdGhlbWVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjhfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2NoYXJ0c19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jb21tb24vaWMtY2hhcnRzLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtY2hhcnRzLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfY2hhcnRzX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTI5X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2NoYXJ0c19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyOV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfY2hlY2tib3hfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY29tbW9uL2ljLWNoZWNrYm94LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtY2hlY2tib3guc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY19jaGVja2JveF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NvbW1vbl9pY19jaGVja2JveF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jb21tb25faWNfY2hlY2tib3hfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTMxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1jaGVja2JveC1hY3RpdmUuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NvbW1vbi9pYy1jaGVja2JveC1hY3RpdmUuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY19jaGVja2JveF9hY3RpdmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jb21tb25faWNfY2hlY2tib3hfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTMxX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NldHRpbmdfaWNfdGhlbWVfbGlnaHRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvc2V0dGluZy9pYy10aGVtZS1saWdodC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvc2V0dGluZy9pYy10aGVtZS1saWdodC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2V0dGluZ19pY190aGVtZV9saWdodF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX3NldHRpbmdfaWNfdGhlbWVfbGlnaHRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2V0dGluZ19pY190aGVtZV9kYXJrX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTMzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3NldHRpbmcvaWMtdGhlbWUtZGFyay5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvc2V0dGluZy9pYy10aGVtZS1kYXJrLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zZXR0aW5nX2ljX3RoZW1lX2Rhcmtfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19zZXR0aW5nX2ljX3RoZW1lX2Rhcmtfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2V0dGluZ19jb3VudGRvd25faWNfY291bnRkb3duX2xpZ2h0X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zZXR0aW5nL2NvdW50ZG93bi9pYy1jb3VudGRvd24tbGlnaHQtbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9zZXR0aW5nL2NvdW50ZG93bi9pYy1jb3VudGRvd24tbGlnaHQtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zZXR0aW5nX2NvdW50ZG93bl9pY19jb3VudGRvd25fbGlnaHRfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM0X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfc2V0dGluZ19jb3VudGRvd25faWNfY291bnRkb3duX2xpZ2h0X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzNF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zZXR0aW5nX2NvdW50ZG93bl9pY19jb3VudGRvd25fbGlnaHRfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3NldHRpbmcvY291bnRkb3duL2ljLWNvdW50ZG93bi1saWdodC1hY3RpdmUuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvY291bnRkb3duL2ljLWNvdW50ZG93bi1saWdodC1hY3RpdmUuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NldHRpbmdfY291bnRkb3duX2ljX2NvdW50ZG93bl9saWdodF9hY3RpdmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19zZXR0aW5nX2NvdW50ZG93bl9pY19jb3VudGRvd25fbGlnaHRfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM1X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NldHRpbmdfY291bnRkb3duX2ljX2NvdW50ZG93bl9kYXJrX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zZXR0aW5nL2NvdW50ZG93bi9pYy1jb3VudGRvd24tZGFyay1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvY291bnRkb3duL2ljLWNvdW50ZG93bi1kYXJrLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2V0dGluZ19jb3VudGRvd25faWNfY291bnRkb3duX2Rhcmtfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM2X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfc2V0dGluZ19jb3VudGRvd25faWNfY291bnRkb3duX2Rhcmtfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM2X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NldHRpbmdfY291bnRkb3duX2ljX2NvdW50ZG93bl9kYXJrX2FjdGl2ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zZXR0aW5nL2NvdW50ZG93bi9pYy1jb3VudGRvd24tZGFyay1hY3RpdmUuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvY291bnRkb3duL2ljLWNvdW50ZG93bi1kYXJrLWFjdGl2ZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2V0dGluZ19jb3VudGRvd25faWNfY291bnRkb3duX2RhcmtfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM3X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfc2V0dGluZ19jb3VudGRvd25faWNfY291bnRkb3duX2RhcmtfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM3X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NldHRpbmdfaGlzdG9yaWNhbF9pY19oaXN0b3JpY2FsX2xpZ2h0X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zZXR0aW5nL2hpc3RvcmljYWwvaWMtaGlzdG9yaWNhbC1saWdodC1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvaGlzdG9yaWNhbC9pYy1oaXN0b3JpY2FsLWxpZ2h0LW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2V0dGluZ19oaXN0b3JpY2FsX2ljX2hpc3RvcmljYWxfbGlnaHRfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM4X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfc2V0dGluZ19oaXN0b3JpY2FsX2ljX2hpc3RvcmljYWxfbGlnaHRfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM4X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NldHRpbmdfaGlzdG9yaWNhbF9pY19oaXN0b3JpY2FsX2xpZ2h0X2FjdGl2ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zZXR0aW5nL2hpc3RvcmljYWwvaWMtaGlzdG9yaWNhbC1saWdodC1hY3RpdmUuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvaGlzdG9yaWNhbC9pYy1oaXN0b3JpY2FsLWxpZ2h0LWFjdGl2ZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2V0dGluZ19oaXN0b3JpY2FsX2ljX2hpc3RvcmljYWxfbGlnaHRfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM5X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfc2V0dGluZ19oaXN0b3JpY2FsX2ljX2hpc3RvcmljYWxfbGlnaHRfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM5X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NldHRpbmdfaGlzdG9yaWNhbF9pY19oaXN0b3JpY2FsX2Rhcmtfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3NldHRpbmcvaGlzdG9yaWNhbC9pYy1oaXN0b3JpY2FsLWRhcmstbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9zZXR0aW5nL2hpc3RvcmljYWwvaWMtaGlzdG9yaWNhbC1kYXJrLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2V0dGluZ19oaXN0b3JpY2FsX2ljX2hpc3RvcmljYWxfZGFya19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19zZXR0aW5nX2hpc3RvcmljYWxfaWNfaGlzdG9yaWNhbF9kYXJrX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0MF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zZXR0aW5nX2hpc3RvcmljYWxfaWNfaGlzdG9yaWNhbF9kYXJrX2FjdGl2ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0MV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zZXR0aW5nL2hpc3RvcmljYWwvaWMtaGlzdG9yaWNhbC1kYXJrLWFjdGl2ZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvc2V0dGluZy9oaXN0b3JpY2FsL2ljLWhpc3RvcmljYWwtZGFyay1hY3RpdmUuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NldHRpbmdfaGlzdG9yaWNhbF9pY19oaXN0b3JpY2FsX2RhcmtfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQxX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfc2V0dGluZ19oaXN0b3JpY2FsX2ljX2hpc3RvcmljYWxfZGFya19hY3RpdmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2V0dGluZ19oaWdoZXN0X2xvd2VzdF9pY19oaWdoZXN0X2xvd2VzdF9saWdodF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvc2V0dGluZy9oaWdoZXN0LWxvd2VzdC9pYy1oaWdoZXN0LWxvd2VzdC1saWdodC1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvaGlnaGVzdC1sb3dlc3QvaWMtaGlnaGVzdC1sb3dlc3QtbGlnaHQtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zZXR0aW5nX2hpZ2hlc3RfbG93ZXN0X2ljX2hpZ2hlc3RfbG93ZXN0X2xpZ2h0X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0Ml9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX3NldHRpbmdfaGlnaGVzdF9sb3dlc3RfaWNfaGlnaGVzdF9sb3dlc3RfbGlnaHRfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQyX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NldHRpbmdfaGlnaGVzdF9sb3dlc3RfaWNfaGlnaGVzdF9sb3dlc3RfbGlnaHRfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3NldHRpbmcvaGlnaGVzdC1sb3dlc3QvaWMtaGlnaGVzdC1sb3dlc3QtbGlnaHQtYWN0aXZlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9zZXR0aW5nL2hpZ2hlc3QtbG93ZXN0L2ljLWhpZ2hlc3QtbG93ZXN0LWxpZ2h0LWFjdGl2ZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2V0dGluZ19oaWdoZXN0X2xvd2VzdF9pY19oaWdoZXN0X2xvd2VzdF9saWdodF9hY3RpdmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19zZXR0aW5nX2hpZ2hlc3RfbG93ZXN0X2ljX2hpZ2hlc3RfbG93ZXN0X2xpZ2h0X2FjdGl2ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0M19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zZXR0aW5nX2hpZ2hlc3RfbG93ZXN0X2ljX2hpZ2hlc3RfbG93ZXN0X2Rhcmtfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQ0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3NldHRpbmcvaGlnaGVzdC1sb3dlc3QvaWMtaGlnaGVzdC1sb3dlc3QtZGFyay1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NldHRpbmcvaGlnaGVzdC1sb3dlc3QvaWMtaGlnaGVzdC1sb3dlc3QtZGFyay1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NldHRpbmdfaGlnaGVzdF9sb3dlc3RfaWNfaGlnaGVzdF9sb3dlc3RfZGFya19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDRfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19zZXR0aW5nX2hpZ2hlc3RfbG93ZXN0X2ljX2hpZ2hlc3RfbG93ZXN0X2Rhcmtfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQ0X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NldHRpbmdfaGlnaGVzdF9sb3dlc3RfaWNfaGlnaGVzdF9sb3dlc3RfZGFya19hY3RpdmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvc2V0dGluZy9oaWdoZXN0LWxvd2VzdC9pYy1oaWdoZXN0LWxvd2VzdC1kYXJrLWFjdGl2ZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvc2V0dGluZy9oaWdoZXN0LWxvd2VzdC9pYy1oaWdoZXN0LWxvd2VzdC1kYXJrLWFjdGl2ZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2V0dGluZ19oaWdoZXN0X2xvd2VzdF9pY19oaWdoZXN0X2xvd2VzdF9kYXJrX2FjdGl2ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0NV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX3NldHRpbmdfaGlnaGVzdF9sb3dlc3RfaWNfaGlnaGVzdF9sb3dlc3RfZGFya19hY3RpdmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19tb21lbnR1bV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0Nl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLW1vbWVudHVtLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLW1vbWVudHVtLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX21vbWVudHVtX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQ2X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19tb21lbnR1bV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0Nl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3RyZW5kX2xpZ2h0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQ3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtdHJlbmQtbGlnaHQuc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtdHJlbmQtbGlnaHQuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfdHJlbmRfbGlnaHRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDdfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3RyZW5kX2xpZ2h0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQ3X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfdHJlbmRfZGFya19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0OF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXRyZW5kLWRhcmsuc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtdHJlbmQtZGFyay5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY190cmVuZF9kYXJrX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQ4X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY190cmVuZF9kYXJrX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQ4X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfdm9sYXRpbGl0eV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0OV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXZvbGF0aWxpdHkuc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtdm9sYXRpbGl0eS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY192b2xhdGlsaXR5X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQ5X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY192b2xhdGlsaXR5X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQ5X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfY2F0X2F2ZXJhZ2VzX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTUwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtY2F0LWF2ZXJhZ2VzLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWNhdC1hdmVyYWdlcy5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19jYXRfYXZlcmFnZXNfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2NhdF9hdmVyYWdlc19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1MF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX290aGVyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTUxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtb3RoZXIuc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtb3RoZXIuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfb3RoZXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX290aGVyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTUxX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfYXdlc29tZV9vc2NpbGxhdG9yX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTUyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtYXdlc29tZS1vc2NpbGxhdG9yLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWF3ZXNvbWUtb3NjaWxsYXRvci5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19hd2Vzb21lX29zY2lsbGF0b3Jfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2F3ZXNvbWVfb3NjaWxsYXRvcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1Ml9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2R0cmVuZGVkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTUzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtZHRyZW5kZWQuc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtZHRyZW5kZWQuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfZHRyZW5kZWRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2R0cmVuZGVkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTUzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfZ2F0b3Jfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1nYXRvci5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1nYXRvci5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19nYXRvcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1NF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfZ2F0b3Jfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19tYWNkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTU1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtbWFjZC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1tYWNkLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX21hY2Rfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX21hY2Rfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19yYXRlX29mX2NoYW5nZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1Nl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXJhdGUtb2YtY2hhbmdlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXJhdGUtb2YtY2hhbmdlLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3JhdGVfb2ZfY2hhbmdlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTU2X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19yYXRlX29mX2NoYW5nZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1Nl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3JzaV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1N19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXJzaS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1yc2kuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfcnNpX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTU3X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19yc2lfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTdfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19zdG9jaGFzdGljX29zY2lsbGF0b3Jfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNThfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1zdG9jaGFzdGljLW9zY2lsbGF0b3Iuc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtc3RvY2hhc3RpYy1vc2NpbGxhdG9yLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3N0b2NoYXN0aWNfb3NjaWxsYXRvcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1OF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfc3RvY2hhc3RpY19vc2NpbGxhdG9yX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTU4X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfc3RvY2hhc3RpY19tb21lbnR1bV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1OV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXN0b2NoYXN0aWMtbW9tZW50dW0uc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtc3RvY2hhc3RpYy1tb21lbnR1bS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19zdG9jaGFzdGljX21vbWVudHVtX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTU5X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19zdG9jaGFzdGljX21vbWVudHVtX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTU5X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfd2lsbGlhbV9wZXJjZW50X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTYwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtd2lsbGlhbS1wZXJjZW50LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXdpbGxpYW0tcGVyY2VudC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY193aWxsaWFtX3BlcmNlbnRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3dpbGxpYW1fcGVyY2VudF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2MF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2Fyb29uX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTYxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtYXJvb24uc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtYXJvb24uc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfYXJvb25fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2Fyb29uX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTYxX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfYWR4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTYyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtYWR4LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWFkeC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19hZHhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2FkeF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2Ml9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2NvbW1vZGl0eV9jaGFubmVsX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTYzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtY29tbW9kaXR5LWNoYW5uZWwtaW5kZXguc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtY29tbW9kaXR5LWNoYW5uZWwtaW5kZXguc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfY29tbW9kaXR5X2NoYW5uZWxfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2NvbW1vZGl0eV9jaGFubmVsX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTYzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfaWNoaW1va3Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1pY2hpbW9rdS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1pY2hpbW9rdS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19pY2hpbW9rdV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2NF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfaWNoaW1va3Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19wYXJhYm9saWNfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1wYXJhYm9saWMuc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtcGFyYWJvbGljLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3BhcmFib2xpY19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2NV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfcGFyYWJvbGljX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTY1X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfemlnX3phZ19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2Nl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLXppZy16YWcuc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtemlnLXphZy5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY196aWdfemFnX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTY2X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY196aWdfemFnX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTY2X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfYm9sbGluZ2VyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTY3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtYm9sbGluZ2VyLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWJvbGxpbmdlci5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19ib2xsaW5nZXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjdfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2JvbGxpbmdlcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2N19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2RvbmNoaWFuX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTY4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtZG9uY2hpYW4uc3ZnICovIFwiLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtZG9uY2hpYW4uc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfZG9uY2hpYW5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjhfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2RvbmNoaWFuX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTY4X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfYXZlcmFnZXNfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1hdmVyYWdlcy5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1hdmVyYWdlcy5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19hdmVyYWdlc19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2OV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfYXZlcmFnZXNfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjlfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19lbnZlbG9wZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3MF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWVudmVsb3BlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWVudmVsb3BlLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2VudmVsb3BlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTcwX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19lbnZlbG9wZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3MF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2FsbGlnYXRvcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3MV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9pbmRpY2F0b3JzL2ljLWFsbGlnYXRvci5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1hbGxpZ2F0b3Iuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfYWxsaWdhdG9yX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTcxX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19hbGxpZ2F0b3Jfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19mcmFjdGFsX2NoYW9zX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTcyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtZnJhY3RhbC1jaGFvcy5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1mcmFjdGFsLWNoYW9zLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2ZyYWN0YWxfY2hhb3Nfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2ZyYWN0YWxfY2hhb3Nfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19yYWluYm93X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTczX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2luZGljYXRvcnMvaWMtcmFpbmJvdy5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvaW5kaWNhdG9ycy9pYy1yYWluYm93LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3JhaW5ib3dfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3JhaW5ib3dfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY19jaGFubmVsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTc0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtY2hhbm5lbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy1jaGFubmVsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX2NoYW5uZWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzRfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX2NoYW5uZWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY19jb250aW51b3VzX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTc1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtY29udGludW91cy5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy1jb250aW51b3VzLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX2NvbnRpbnVvdXNfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX2NvbnRpbnVvdXNfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY19maWJvbmFjY2lfZmFuX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTc2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtZmlib25hY2NpLWZhbi5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy1maWJvbmFjY2ktZmFuLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX2ZpYm9uYWNjaV9mYW5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzZfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX2ZpYm9uYWNjaV9mYW5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzZfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY19ob3Jpem9udGFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTc3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtaG9yaXpvbnRhbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy1ob3Jpem9udGFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX2hvcml6b250YWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzdfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX2hvcml6b250YWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzdfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY19saW5lX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTc4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtbGluZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy1saW5lLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX2xpbmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzhfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX2xpbmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzhfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY19yYXlfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy1yYXkuc3ZnICovIFwiLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtcmF5LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX3JheV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3OV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2RyYXdfdG9vbHNfaWNfcmF5X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTc5X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2RyYXdfdG9vbHNfaWNfcmVjdGFuZ2xlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTgwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtcmVjdGFuZ2xlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9kcmF3LXRvb2xzL2ljLXJlY3RhbmdsZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY19yZWN0YW5nbGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xODBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX3JlY3RhbmdsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4MF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX3RyZW5kX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTgxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtdHJlbmQuc3ZnICovIFwiLi9zYXNzL2ljb25zL2RyYXctdG9vbHMvaWMtdHJlbmQuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2RyYXdfdG9vbHNfaWNfdHJlbmRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xODFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX3RyZW5kX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTgxX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2RyYXdfdG9vbHNfaWNfdmVydGljYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xODJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy12ZXJ0aWNhbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZHJhdy10b29scy9pYy12ZXJ0aWNhbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY192ZXJ0aWNhbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4Ml9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2RyYXdfdG9vbHNfaWNfdmVydGljYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xODJfXyk7XG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5cbiAvLyBDaGFydCB0eXBlczpcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qIEVuZXJneSAqL1xuXG5cbi8qIE1ldGFscyAqL1xuXG5cbi8qIFN5bnRoZXRpYyBJbmRpY2VzICovXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBXcmFwcGVyID0gZnVuY3Rpb24gV3JhcHBlcihTdmdMb2dvKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICB0b29sdGlwID0gcHJvcHNbJ3Rvb2x0aXAtdGl0bGUnXSxcbiAgICAgICAgcCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wiY2xhc3NOYW1lXCIsIFwidG9vbHRpcC10aXRsZVwiXSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLWNvbnN0XG5cblxuICAgIGNsYXNzTmFtZSA9IFwiaWMtaWNvbiBcIi5jb25jYXQoY2xhc3NOYW1lIHx8ICcnKTtcbiAgICB2YXIgdmIgPSBTdmdMb2dvLnZpZXdCb3guc3BsaXQoJyAnKS5zbGljZSgyKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIF9leHRlbmRzKHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgXCJ0b29sdGlwLXRpdGxlXCI6IHRvb2x0aXBcbiAgICB9LCBwKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgICAgd2lkdGg6IHZiWzBdLFxuICAgICAgaGVpZ2h0OiB2YlsxXVxuICAgIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwidXNlXCIsIHtcbiAgICAgIHhsaW5rSHJlZjogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgU3ZnTG9nby51cmxcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYgKi9cblxuICAgIH0pKSwgdG9vbHRpcCAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJpYy1zdWJ0aXRsZVwiXG4gICAgfSwgdG9vbHRpcCkpKTtcbiAgfTtcbn07XG52YXIgRHJhd2luZ0N1cnNvckljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX3BlbmNpbF9pY19wZW5jaWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81MV9fX2RlZmF1bHQuYSk7XG52YXIgVGhlbWVMaWdodEljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX3NldHRpbmdfaWNfdGhlbWVfbGlnaHRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzJfX19kZWZhdWx0LmEpO1xudmFyIFRoZW1lRGFya0ljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX3NldHRpbmdfaWNfdGhlbWVfZGFya19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzM19fX2RlZmF1bHQuYSk7XG52YXIgRHJhd1Rvb2xJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jb21tb25faWNfZHJhd2luZ190b29sX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTJfX19kZWZhdWx0LmEpO1xudmFyIEFjdGl2ZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NvbW1vbl9pY19hY3RpdmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zOF9fX2RlZmF1bHQuYSk7XG52YXIgRnVsbFNjcmVlbkljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NvbW1vbl9mdWxsX3NjcmVlbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU3X19fZGVmYXVsdC5hKTsgLy8gQ2hhcnQgVHlwZXM6XG5cbnZhciBCYXNlTGluZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2Jhc2VsaW5lX2ljX2Jhc2VsaW5lX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmEpO1xudmFyIENhbmRsZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2NhbmRsZV9pY19jYW5kbGVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQuYSk7XG52YXIgRG90SWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfZG90X2ljX2RvdF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19fZGVmYXVsdC5hKTtcbnZhciBMaW5lRG90SWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfbGluZV9kb3RfaWNfbGluZWRvdF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19fZGVmYXVsdC5hKTtcbnZhciBIZWlraW5Bc2hpSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfaGVpa2luX2FzaGlfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fX2RlZmF1bHQuYSk7XG52YXIgSG9sbG93Q2FuZGxlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaG9sbG93X2NhbmRsZV9pY19ob2xsb3djYW5kbGVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fX2RlZmF1bHQuYSk7XG52YXIgS2FnaUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX2thZ2lfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fX2RlZmF1bHQuYSk7XG52YXIgTGluZUJyZWFrSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfbGluZWJyZWFrX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19fZGVmYXVsdC5hKTtcbnZhciBMaW5lSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfbGluZV9pY19saW5lX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX19kZWZhdWx0LmEpO1xudmFyIE9ITENJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19vaGxjX2ljX29obGNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX19kZWZhdWx0LmEpO1xudmFyIFBvaW50RmlndXJlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfcG9pbnRmaWd1cmVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX19kZWZhdWx0LmEpO1xudmFyIFJhbmdlQmFyc0ljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX3JhbmdlYmFyc19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fX2RlZmF1bHQuYSk7XG52YXIgUmVua29JY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19pY19yZW5rb19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fX2RlZmF1bHQuYSk7XG52YXIgVGFibGVJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc190YWJsZV90YWJsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19fZGVmYXVsdC5hKTtcbnZhciBBZGRJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jb21tb25faWNfYWRkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfX19kZWZhdWx0LmEpO1xudmFyIFpvb21Jbkljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX3pvb21faW5faWNfem9vbWluX2xpZ2h0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX19kZWZhdWx0LmEpO1xudmFyIENsb3NlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2Nsb3NlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfX19kZWZhdWx0LmEpO1xudmFyIElucHV0TnVtYmVyTWludXNJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jb21tb25faWNfaW5wdXRfbnVtYmVyX21pbnVzX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX19kZWZhdWx0LmEpO1xudmFyIElucHV0TnVtYmVyUGx1c0ljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NvbW1vbl9pY19pbnB1dF9udW1iZXJfcGx1c19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19fZGVmYXVsdC5hKTtcbnZhciBDbG9zZUNpcmNsZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2Nsb3NlX2ljX2Nsb3NlX2NpcmNsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19fZGVmYXVsdC5hKTtcbnZhciBDbG9zZUJvbGRJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jbG9zZV9pY19jbG9zZV9ib2xkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX19kZWZhdWx0LmEpO1xudmFyIENvbXBhcmlzb25JY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jb21wYXJpc29uX2ljX2NvbXBhcmlzb25fbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX19kZWZhdWx0LmEpO1xudmFyIENyb3NzaGFpck9mZkljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2Nyb3NzaGFpcl9pY19jcm9zc2hhaXJfb2ZmX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjdfX19kZWZhdWx0LmEpO1xudmFyIENyb3NzaGFpck9uSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY3Jvc3NoYWlyX2ljX2Nyb3NzaGFpcl9vbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI4X19fZGVmYXVsdC5hKTtcbnZhciBDcm9zc2hhaXJUb29sdGlwSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY3Jvc3NoYWlyX2ljX2Nyb3NzaGFpcl90b29sdGlwX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjlfX19kZWZhdWx0LmEpO1xudmFyIERlbGV0ZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2RlbGV0ZV9pY19kZWxldGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMF9fX2RlZmF1bHQuYSk7XG52YXIgQ2xlYXJJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jbGVhcl9pY19jbGVhcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMxX19fZGVmYXVsdC5hKTtcbnZhciBEcmF3SWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfZHJhd2luZ190b29sc19pY19kcmF3aW5ndG9vbHNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzJfX19kZWZhdWx0LmEpO1xudmFyIEluZGljYXRvckljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NvbW1vbl9pY19pbmRpY2F0b3JzX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTVfX19kZWZhdWx0LmEpO1xudmFyIE1lYXN1cmVJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19tZWFzdXJlX2ljX21lYXN1cmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zM19fX2RlZmF1bHQuYSk7XG52YXIgWm9vbU91dEljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX3pvb21fb3V0X2ljX3pvb21vdXRfbGlnaHRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNF9fX2RlZmF1bHQuYSk7XG52YXIgU3BsaW5lSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfc3BsaW5lX2ljX3NwbGluZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9fX2RlZmF1bHQuYSk7XG52YXIgUG5nSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZG93bmxvYWRfaWNfcG5nX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX19kZWZhdWx0LmEpO1xudmFyIENzdkljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2Rvd25sb2FkX2ljX2Nzdl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19fZGVmYXVsdC5hKTtcbnZhciBTdGFySWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmF2b3JpdGVfaWNfZmF2b3JpdGVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzVfX19kZWZhdWx0LmEpO1xudmFyIFRlbXBsYXRlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY29tbW9uX2ljX3RlbXBsYXRlc19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU2X19fZGVmYXVsdC5hKTtcbnZhciBUaWNrSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfdGlja19pY190aWNrX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzZfX19kZWZhdWx0LmEpO1xudmFyIFRpbWVJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc190aW1lX2ljX3RpbWVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zN19fX2RlZmF1bHQuYSk7XG52YXIgU2VhcmNoSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2VhcmNoX2ljX3NlYXJjaF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80NV9fX2RlZmF1bHQuYSk7XG52YXIgRWRpdEljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2VkaXRfaWNfZWRpdF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ2X19fZGVmYXVsdC5hKTtcbnZhciBTZXR0aW5nSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZWRpdF9pY19lZGl0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDZfX19kZWZhdWx0LmEpO1xudmFyIEFycm93SWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZHJvcGRvd25faWNfZHJvcGRvd25fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80N19fX2RlZmF1bHQuYSk7XG52YXIgRmF2b3JpdGVJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19mYXZvcml0ZV9pY19mYXZvcml0ZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNV9fX2RlZmF1bHQuYSk7XG52YXIgSGVscENlbnRlckljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NvbW1vbl9pY19oZWxwX2NlbnRlcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUzX19fZGVmYXVsdC5hKTtcbnZhciBEb3dubG9hZEljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NvbW1vbl9pY19kb3dubG9hZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU0X19fZGVmYXVsdC5hKTtcbnZhciBJbmZvSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfYWxlcnRfbWVzc2FnZV9pbmZvX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjFfX19kZWZhdWx0LmEpO1xudmFyIEluZm9DaXJjbGVJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jb21tb25faWNfaW5mb19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyNl9fX2RlZmF1bHQuYSk7XG52YXIgUG9zaXRpb25MZWZ0SWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3Nfc2V0dGluZ19pY19wb3NpdGlvbl9sZWZ0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDhfX19kZWZhdWx0LmEpO1xudmFyIFBvc2l0aW9uQm90dG9tSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3Nfc2V0dGluZ19pY19wb3NpdGlvbl9ib3R0b21fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80OV9fX2RlZmF1bHQuYSk7XG52YXIgQmFja0ljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2JhY2tfaWNfYmFja19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUwX19fZGVmYXVsdC5hKTtcbnZhciBIb21lSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfbmF2aWdhdGlvbl93aWRnZXRzX2ljX2hvbWVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82Ml9fX2RlZmF1bHQuYSk7XG52YXIgU2NhbGVJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19uYXZpZ2F0aW9uX3dpZGdldHNfaWNfc2NhbGVfZnVsbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzYzX19fZGVmYXVsdC5hKTtcbnZhciBab29taW5JY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19uYXZpZ2F0aW9uX3dpZGdldHNfaWNfem9vbWluX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjRfX19kZWZhdWx0LmEpO1xudmFyIFpvb21vdXRJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19uYXZpZ2F0aW9uX3dpZGdldHNfaWNfem9vbW91dF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY1X19fZGVmYXVsdC5hKTtcbnZhciBMYW5ndWFnZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NvbW1vbl9pY19sYW5ndWFnZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyN19fX2RlZmF1bHQuYSk7XG52YXIgVGhlbWVJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jb21tb25faWNfdGhlbWVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjhfX19kZWZhdWx0LmEpO1xudmFyIENoYXJ0SWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2NoYXJ0c19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyOV9fX2RlZmF1bHQuYSk7XG52YXIgQ2hlY2tib3hJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jb21tb25faWNfY2hlY2tib3hfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzBfX19kZWZhdWx0LmEpO1xudmFyIENoZWNrYm94QWN0aXZlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2NoZWNrYm94X2FjdGl2ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzMV9fX2RlZmF1bHQuYSk7XG52YXIgVHlwZUFyZWFJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF90eXBlX2ljX2FyZWFfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82Nl9fX2RlZmF1bHQuYSk7XG52YXIgVHlwZUNhbmRsZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3R5cGVfaWNfY2FuZGxlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjdfX19kZWZhdWx0LmEpO1xudmFyIFR5cGVIb2xsb3dJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF90eXBlX2ljX2hvbGxvd19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY4X19fZGVmYXVsdC5hKTtcbnZhciBUeXBlT2hsY0ljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3R5cGVfaWNfb2hsY19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY5X19fZGVmYXVsdC5hKTtcbnZhciBUeXBlQXJlYUdyYXlzY2FsZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3R5cGVfaWNfYXJlYV9ncmF5c2NhbGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83MF9fX2RlZmF1bHQuYSk7XG52YXIgVHlwZUNhbmRsZUdyYXlzY2FsZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3R5cGVfaWNfY2FuZGxlX2dyYXlzY2FsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcxX19fZGVmYXVsdC5hKTtcbnZhciBUeXBlSG9sbG93R3JheXNjYWxlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfdHlwZV9pY19ob2xsb3dfZ3JheXNjYWxlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzJfX19kZWZhdWx0LmEpO1xudmFyIFR5cGVPaGxjR3JheXNjYWxlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfdHlwZV9pY19vaGxjX2dyYXlzY2FsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzczX19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JDYXRNb21lbnR1bUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfbW9tZW50dW1fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDZfX19kZWZhdWx0LmEpO1xudmFyIEluZGljYXRvckNhdFRyZW5kTGlnaHRJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3RyZW5kX2xpZ2h0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQ3X19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JDYXRUcmVuZERhcmtJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3RyZW5kX2Rhcmtfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDhfX19kZWZhdWx0LmEpO1xudmFyIEluZGljYXRvckNhdFZvbGF0aWxpdHlJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3ZvbGF0aWxpdHlfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDlfX19kZWZhdWx0LmEpO1xudmFyIEluZGljYXRvckNhdEF2ZXJhZ2VzSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19jYXRfYXZlcmFnZXNfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTBfX19kZWZhdWx0LmEpO1xudmFyIEluZGljYXRvckNhdE90aGVySWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19vdGhlcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1MV9fX2RlZmF1bHQuYSk7XG52YXIgSW5kaWNhdG9yQXdlc29tZU9zY2lsbGF0b3JJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2F3ZXNvbWVfb3NjaWxsYXRvcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1Ml9fX2RlZmF1bHQuYSk7XG52YXIgSW5kaWNhdG9yRFRyZW5kZWRJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2R0cmVuZGVkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTUzX19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JHYXRvckljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfZ2F0b3Jfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTRfX19kZWZhdWx0LmEpO1xudmFyIEluZGljYXRvck1hY2RJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX21hY2Rfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNTVfX19kZWZhdWx0LmEpO1xudmFyIEluZGljYXRvclJhdGVDaGFuZ2VJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3JhdGVfb2ZfY2hhbmdlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTU2X19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JSU0lJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3JzaV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1N19fX2RlZmF1bHQuYSk7XG52YXIgSW5kaWNhdG9yU3RvY2hhc3RpY09zY2lsbGF0b3JJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3N0b2NoYXN0aWNfb3NjaWxsYXRvcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1OF9fX2RlZmF1bHQuYSk7XG52YXIgSW5kaWNhdG9yU3RvY2hhc3RpY01vbWVudHVtSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19zdG9jaGFzdGljX21vbWVudHVtX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTU5X19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JXaWxsaWFtUGVyY2VudEljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfd2lsbGlhbV9wZXJjZW50X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTYwX19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JBcm9vbkljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfYXJvb25fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjFfX19kZWZhdWx0LmEpO1xudmFyIEluZGljYXRvckFkeEljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfYWR4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTYyX19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JDb21tb2RpdHlDaGFubmVsSW5kZXhJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2NvbW1vZGl0eV9jaGFubmVsX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTYzX19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JJY2hpbW9rdUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfaWNoaW1va3Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjRfX19kZWZhdWx0LmEpO1xudmFyIEluZGljYXRvclBhcmFib2xpY0ljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfcGFyYWJvbGljX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTY1X19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JaaWdaYWdJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX3ppZ196YWdfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjZfX19kZWZhdWx0LmEpO1xudmFyIEluZGljYXRvckJvbGxpbmdlckljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfYm9sbGluZ2VyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTY3X19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JEb25jaGlhbkljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2luZGljYXRvcnNfaWNfZG9uY2hpYW5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNjhfX19kZWZhdWx0LmEpO1xudmFyIEluZGljYXRvckF2ZXJhZ2VzSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19hdmVyYWdlc19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2OV9fX2RlZmF1bHQuYSk7XG52YXIgSW5kaWNhdG9yRW52ZWxvcGVJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2VudmVsb3BlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTcwX19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JBbGxpZ2F0b3JJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19pbmRpY2F0b3JzX2ljX2FsbGlnYXRvcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3MV9fX2RlZmF1bHQuYSk7XG52YXIgSW5kaWNhdG9yRnJhY3RhbENoYW9zSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19mcmFjdGFsX2NoYW9zX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTcyX19fZGVmYXVsdC5hKTtcbnZhciBJbmRpY2F0b3JSYWluYm93SWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfaW5kaWNhdG9yc19pY19yYWluYm93X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTczX19fZGVmYXVsdC5hKTtcbnZhciBNZXRhbEljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX21ldGFsc19pY19tZXRhbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwNF9fX2RlZmF1bHQuYSk7XG52YXIgRW1wdHlTdGF0ZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX3NoYXBlX2ljX2VtcHR5X3N0YXRlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTI0X19fZGVmYXVsdC5hKTtcbnZhciBPdmVyd3JpdGVTdGF0ZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX3NoYXBlX2ljX292ZXJ3cml0ZV9zdGF0ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyNV9fX2RlZmF1bHQuYSk7XG52YXIgQXJyb3dHcmVlbkljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2Fycm93c19pY19hcnJvd19ncmVlbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc0X19fZGVmYXVsdC5hKTtcbnZhciBBcnJvd09yYW5nZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2Fycm93c19pY19hcnJvd19vcmFuZ2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83NV9fX2RlZmF1bHQuYSk7XG52YXIgRHJhd1Rvb2xzQ2hhbm5lbEljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2RyYXdfdG9vbHNfaWNfY2hhbm5lbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3NF9fX2RlZmF1bHQuYSk7XG52YXIgRHJhd1Rvb2xzQ29udGludW91c0ljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2RyYXdfdG9vbHNfaWNfY29udGludW91c19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3NV9fX2RlZmF1bHQuYSk7XG52YXIgRHJhd1Rvb2xzRmlib25hY2NpZmFuSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY19maWJvbmFjY2lfZmFuX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTc2X19fZGVmYXVsdC5hKTtcbnZhciBEcmF3VG9vbHNIb3Jpem9udGFsSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY19ob3Jpem9udGFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTc3X19fZGVmYXVsdC5hKTtcbnZhciBEcmF3VG9vbHNMaW5lSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY19saW5lX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTc4X19fZGVmYXVsdC5hKTtcbnZhciBEcmF3VG9vbHNSYXlJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX3JheV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3OV9fX2RlZmF1bHQuYSk7XG52YXIgRHJhd1Rvb2xzUmVjdGFuZ2xlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY19yZWN0YW5nbGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xODBfX19kZWZhdWx0LmEpO1xudmFyIERyYXdUb29sc1RyZW5kSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZHJhd190b29sc19pY190cmVuZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4MV9fX2RlZmF1bHQuYSk7XG52YXIgRHJhd1Rvb2xzVmVydGljYWxJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19kcmF3X3Rvb2xzX2ljX3ZlcnRpY2FsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTgyX19fZGVmYXVsdC5hKTtcbnZhciBhbGVydEljb25NYXAgPSB7XG4gIGluZm86IFdyYXBwZXIoX3Nhc3NfaWNvbnNfYWxlcnRfbWVzc2FnZV9pbmZvX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjFfX19kZWZhdWx0LmEpLFxuICBzdWNjZXNzOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FsZXJ0X21lc3NhZ2Vfc3VjY2Vzc19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzYwX19fZGVmYXVsdC5hKSxcbiAgd2FybmluZzogV3JhcHBlcihfc2Fzc19pY29uc19hbGVydF9tZXNzYWdlX3dhcm5pbmdfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81OF9fX2RlZmF1bHQuYSksXG4gIGVycm9yOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FsZXJ0X21lc3NhZ2VfZXJyb3Jfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81OV9fX2RlZmF1bHQuYSlcbn07XG52YXIgU3ltYm9sUGxhY2Vob2xkZXJJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19wbGFjZWhvbGRlcl9pY19wbGFjZWhvbGRlcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc2X19fZGVmYXVsdC5hKTtcbnZhciBDYXRlZ29yeUljb25NYXAgPSB7XG4gIGFjdGl2ZTogV3JhcHBlcihfc2Fzc19pY29uc19jb21tb25faWNfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzhfX19kZWZhdWx0LmEpLFxuICBjb21tb2RpdGllczogV3JhcHBlcihfc2Fzc19pY29uc19zaWRlYmFyX2NvbW1vZGl0aWVzX2ljX2NvbW1vZGl0aWVzX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM5X19fZGVmYXVsdC5hKSxcbiAgZmF2b3JpdGU6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmF2b3JpdGVfaWNfZmF2b3JpdGVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzVfX19kZWZhdWx0LmEpLFxuICBmb3JleDogV3JhcHBlcihfc2Fzc19pY29uc19zaWRlYmFyX2ZvcmV4X2ljX2ZvcmV4X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQwX19fZGVmYXVsdC5hKSxcbiAgaW5kaWNlczogV3JhcHBlcihfc2Fzc19pY29uc19zaWRlYmFyX2luZGljZXNfaWNfaW5kaWNlc19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MV9fX2RlZmF1bHQuYSksXG4gIHN0b2NrczogV3JhcHBlcihfc2Fzc19pY29uc19zaWRlYmFyX290Y19pY19vdGNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDJfX19kZWZhdWx0LmEpLFxuICB2b2xpZHg6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2lkZWJhcl92b2xhdGlsaXR5X2ljX3ZvbGF0aWxpdHlfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDRfX19kZWZhdWx0LmEpLFxuICBzeW50aGV0aWNfaW5kZXg6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2lkZWJhcl9zeW50aF9pbmRleF9pY19zeW50aF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80M19fX2RlZmF1bHQuYSksXG4gIGluZGljYXRvcnM6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY29tbW9uX2ljX2luZGljYXRvcnNfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81NV9fX2RlZmF1bHQuYSlcbn07XG52YXIgU2V0dGluZ0NvdW50ZG93bk1hcCA9IHtcbiAgbGlnaHQ6IHtcbiAgICBub3JtYWw6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2V0dGluZ19jb3VudGRvd25faWNfY291bnRkb3duX2xpZ2h0X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzNF9fX2RlZmF1bHQuYSksXG4gICAgYWN0aXZlOiBXcmFwcGVyKF9zYXNzX2ljb25zX3NldHRpbmdfY291bnRkb3duX2ljX2NvdW50ZG93bl9saWdodF9hY3RpdmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzVfX19kZWZhdWx0LmEpXG4gIH0sXG4gIGRhcms6IHtcbiAgICBub3JtYWw6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2V0dGluZ19jb3VudGRvd25faWNfY291bnRkb3duX2Rhcmtfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM2X19fZGVmYXVsdC5hKSxcbiAgICBhY3RpdmU6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2V0dGluZ19jb3VudGRvd25faWNfY291bnRkb3duX2RhcmtfYWN0aXZlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTM3X19fZGVmYXVsdC5hKVxuICB9XG59O1xudmFyIFNldHRpbmdIaXN0b3JpY2FsTWFwID0ge1xuICBsaWdodDoge1xuICAgIG5vcm1hbDogV3JhcHBlcihfc2Fzc19pY29uc19zZXR0aW5nX2hpc3RvcmljYWxfaWNfaGlzdG9yaWNhbF9saWdodF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzhfX19kZWZhdWx0LmEpLFxuICAgIGFjdGl2ZTogV3JhcHBlcihfc2Fzc19pY29uc19zZXR0aW5nX2hpc3RvcmljYWxfaWNfaGlzdG9yaWNhbF9saWdodF9hY3RpdmVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMzlfX19kZWZhdWx0LmEpXG4gIH0sXG4gIGRhcms6IHtcbiAgICBub3JtYWw6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2V0dGluZ19oaXN0b3JpY2FsX2ljX2hpc3RvcmljYWxfZGFya19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDBfX19kZWZhdWx0LmEpLFxuICAgIGFjdGl2ZTogV3JhcHBlcihfc2Fzc19pY29uc19zZXR0aW5nX2hpc3RvcmljYWxfaWNfaGlzdG9yaWNhbF9kYXJrX2FjdGl2ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0MV9fX2RlZmF1bHQuYSlcbiAgfVxufTtcbnZhciBTZXR0aW5nSGlnaGVzdExvd2VzdE1hcCA9IHtcbiAgbGlnaHQ6IHtcbiAgICBub3JtYWw6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2V0dGluZ19oaWdoZXN0X2xvd2VzdF9pY19oaWdoZXN0X2xvd2VzdF9saWdodF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNDJfX19kZWZhdWx0LmEpLFxuICAgIGFjdGl2ZTogV3JhcHBlcihfc2Fzc19pY29uc19zZXR0aW5nX2hpZ2hlc3RfbG93ZXN0X2ljX2hpZ2hlc3RfbG93ZXN0X2xpZ2h0X2FjdGl2ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0M19fX2RlZmF1bHQuYSlcbiAgfSxcbiAgZGFyazoge1xuICAgIG5vcm1hbDogV3JhcHBlcihfc2Fzc19pY29uc19zZXR0aW5nX2hpZ2hlc3RfbG93ZXN0X2ljX2hpZ2hlc3RfbG93ZXN0X2Rhcmtfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTQ0X19fZGVmYXVsdC5hKSxcbiAgICBhY3RpdmU6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2V0dGluZ19oaWdoZXN0X2xvd2VzdF9pY19oaWdoZXN0X2xvd2VzdF9kYXJrX2FjdGl2ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0NV9fX2RlZmF1bHQuYSlcbiAgfVxufTtcbnZhciBGbGFnSWNvbk1hcCA9IHtcbiAgQVVEOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2F1ZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc3X19fZGVmYXVsdC5hKSxcbiAgQ0FEOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2NhZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc4X19fZGVmYXVsdC5hKSxcbiAgQ0hGOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2NoZl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc5X19fZGVmYXVsdC5hKSxcbiAgRVVSOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2V1cl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgwX19fZGVmYXVsdC5hKSxcbiAgR0JQOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2dicF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgxX19fZGVmYXVsdC5hKSxcbiAgSlBZOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2pweV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgyX19fZGVmYXVsdC5hKSxcbiAgTVhOOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX214bl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgzX19fZGVmYXVsdC5hKSxcbiAgTk9LOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX25va19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg0X19fZGVmYXVsdC5hKSxcbiAgTlpEOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX256ZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg1X19fZGVmYXVsdC5hKSxcbiAgUExOOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX3Bsbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg2X19fZGVmYXVsdC5hKSxcbiAgU0VLOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX3Nla19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg3X19fZGVmYXVsdC5hKSxcbiAgVVNEOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX3VzZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg4X19fZGVmYXVsdC5hKSxcbiAgSG9uZ0tvbmc6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfaG9uZ19rb25nX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOThfX19kZWZhdWx0LmEpLFxuICBEdXRjaDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19kdXRjaF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwMF9fX2RlZmF1bHQuYSksXG4gIEdlcm1hbjogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19nZXJtYW5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85N19fX2RlZmF1bHQuYSksXG4gIEZyZW5jaDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19mcmVuY2hfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85OV9fX2RlZmF1bHQuYSksXG4gIFNwYW5pc2g6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3Nfc3BhbmlzaF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwMV9fX2RlZmF1bHQuYSksXG4gIFdhbGxTdHJlZXQ6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3Nfd2FsbHN0cmVldF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwMl9fX2RlZmF1bHQuYSlcbn07XG52YXIgRmxhZ0ljb25zID0ge1xuICBVU0Q6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfdXNkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODhfX19kZWZhdWx0LmEpLFxuICBHQlA6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfZ2JwX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODFfX19kZWZhdWx0LmEpLFxuICBHZXJtYW46IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfZ2VybWFuX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTdfX19kZWZhdWx0LmEpLFxuICBGcmVuY2g6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfZnJlbmNoX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTlfX19kZWZhdWx0LmEpLFxuICBQb3J0dWdhbDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19wb3J0dWdhbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg5X19fZGVmYXVsdC5hKSxcbiAgUnVzc2lhOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX3J1c3NpYV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzkwX19fZGVmYXVsdC5hKSxcbiAgVGhhaWxhbmQ6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfdGhhaWxhbmRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85MV9fX2RlZmF1bHQuYSksXG4gIEluZG9uZXNpYTogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19pbmRvbmVzaWFfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85Ml9fX2RlZmF1bHQuYSksXG4gIFZpZXRuYW06IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfdmlldG5hbV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzkzX19fZGVmYXVsdC5hKSxcbiAgSXRhbHk6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfaXRhbHlfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85NF9fX2RlZmF1bHQuYSksXG4gIENoaW5lc2U6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfY2hpbmVzZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk1X19fZGVmYXVsdC5hKSxcbiAgQ2hpbmVzZVRyYWRpdGlvbmFsOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2NoaW5lc2VfdHJhZGl0aW9uYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85Nl9fX2RlZmF1bHQuYSksXG4gIFBvbGFuZDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19wbG5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84Nl9fX2RlZmF1bHQuYSksXG4gIFNwYW5pc2g6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3Nfc3BhbmlzaF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwMV9fX2RlZmF1bHQuYSlcbn07XG52YXIgSXRlbUljb25NYXAgPSB7XG4gIFNQQzogRmxhZ0ljb25NYXAuVVNELFxuICBBUzUxOiBGbGFnSWNvbk1hcC5BVUQsXG4gIEhTSTogRmxhZ0ljb25NYXAuSG9uZ0tvbmcsXG4gIE4yMjU6IEZsYWdJY29uTWFwLkpQWSxcbiAgQUVYOiBGbGFnSWNvbk1hcC5EdXRjaCxcbiAgRkNISTogRmxhZ0ljb25NYXAuRnJlbmNoLFxuICBTU01JOiBGbGFnSWNvbk1hcC5DSEYsXG4gIEdEQVhJOiBGbGFnSWNvbk1hcC5HZXJtYW4sXG5cbiAgLyogQ29tbW9kaXRpZXMgKi9cbiAgZnJ4QlJPVVNEOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX2VuZXJneV9vaWxfdXNkX2ljX29pbHVzZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwM19fX2RlZmF1bHQuYSksXG4gIGZyeFhBVVVTRDogTWV0YWxJY29uLFxuICBmcnhYUERVU0Q6IE1ldGFsSWNvbixcbiAgZnJ4WFBUVVNEOiBNZXRhbEljb24sXG4gIGZyeFhBR1VTRDogTWV0YWxJY29uLFxuXG4gIC8qIFZvbGF0aWxpdHkgSW5kaWNlcyAqL1xuICBSXzEwOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMTBfaW5kZXhfaWNfMTBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDVfX19kZWZhdWx0LmEpLFxuICBSXzI1OiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMjVfaW5kZXhfaWNfMjVfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDZfX19kZWZhdWx0LmEpLFxuICBSXzUwOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfNTBfaW5kZXhfaWNfNTBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDdfX19kZWZhdWx0LmEpLFxuICBSXzc1OiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfNzVfaW5kZXhfaWNfNzVfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDhfX19kZWZhdWx0LmEpLFxuICBSXzEwMDogV3JhcHBlcihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzEwMF9pbmRleF9pY18xMDBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDlfX19kZWZhdWx0LmEpLFxuICAnMUhaMTBWJzogV3JhcHBlcihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzFzMTBfaW5kZXhfaWNfMTBfMXNfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTBfX19kZWZhdWx0LmEpLFxuICAnMUhaMjVWJzogV3JhcHBlcihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzFzMjVfaW5kZXhfbGlnaHRfMjVfMXNfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTFfX19kZWZhdWx0LmEpLFxuICAnMUhaNTBWJzogV3JhcHBlcihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzFzNTBfaW5kZXhfbGlnaHRfNTBfMXNfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTJfX19kZWZhdWx0LmEpLFxuICAnMUhaNzVWJzogV3JhcHBlcihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzFzNzVfaW5kZXhfbGlnaHRfNzVfMXNfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTNfX19kZWZhdWx0LmEpLFxuICAnMUhaMTAwVic6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV8xczEwMF9pbmRleF9pY18xMDBfMXNfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTRfX19kZWZhdWx0LmEpLFxuICBCT09NNTAwOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfYm9vbTUwMF9pbmRleF9ib29tNTAwX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTE3X19fZGVmYXVsdC5hKSxcbiAgQk9PTTEwMDA6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV9ib29tMTAwMF9pbmRleF9ib29tMTAwMF9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExOF9fX2RlZmF1bHQuYSksXG4gIENSQVNINTAwOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfY3Jhc2g1MDBfaW5kZXhfY3Jhc2g1MDBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTVfX19kZWZhdWx0LmEpLFxuICBDUkFTSDEwMDA6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV9jcmFzaDEwMDBfaW5kZXhfY3Jhc2gxMDAwX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTE2X19fZGVmYXVsdC5hKSxcbiAgUkRCRUFSOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfYmVhcl9tYXJrZXRfaWNfbWFya2V0YmVhcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExOV9fX2RlZmF1bHQuYSksXG4gIFJEQlVMTDogV3JhcHBlcihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5X2J1bGxfbWFya2V0X2ljX21hcmtldGJ1bGxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjBfX19kZWZhdWx0LmEpLFxuICBzdHBSTkc6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV9zdGVwX2luZGV4X3N0ZXBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjFfX19kZWZhdWx0LmEpXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVDb21wb3NpdGVJY29uKEEsIEIsIGljSWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIHAgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcImNsYXNzTmFtZVwiXSk7XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIF9leHRlbmRzKHtcbiAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQoaWNJZCwgXCIgXCIpLmNvbmNhdChjbGFzc05hbWUpXG4gICAgfSwgcCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEEsIG51bGwpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChCLCBudWxsKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZyeChmbGFnQSwgZmxhZ0IpIHtcbiAgdmFyIEEgPSBGbGFnSWNvbk1hcFtmbGFnQV07XG4gIHZhciBCID0gRmxhZ0ljb25NYXBbZmxhZ0JdO1xuICBJdGVtSWNvbk1hcFtcImZyeFwiLmNvbmNhdChmbGFnQSkuY29uY2F0KGZsYWdCKV0gPSBjcmVhdGVDb21wb3NpdGVJY29uKEEsIEIsICdpYy1mcngnKTtcbn1cblxudmFyIE9UQ0JhZGdlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfaWNfb3RjYmFkZ2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMjJfX19kZWZhdWx0LmEpO1xudmFyIFNtYXJ0RlhJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc19pY19zbWFydGZ4X3BsYWNlaG9sZGVyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIzX19fZGVmYXVsdC5hKTtcblxuZnVuY3Rpb24gb3RjKGZsYWcsIHN5bWJvbCkge1xuICB2YXIgRmxhZ0ljb24gPSBGbGFnSWNvbk1hcFtmbGFnXTtcbiAgSXRlbUljb25NYXBbc3ltYm9sXSA9IEZsYWdJY29uO1xufVxuXG5mdW5jdGlvbiB3bGQoZmxhZykge1xuICB2YXIgRmxhZ0ljb24gPSBGbGFnSWNvbk1hcFtmbGFnXTtcbiAgSXRlbUljb25NYXBbXCJXTERcIi5jb25jYXQoZmxhZyldID0gY3JlYXRlQ29tcG9zaXRlSWNvbihTbWFydEZYSWNvbiwgRmxhZ0ljb24sICdpYy13bGQnKTtcbn1cbi8qIEZPUkVYICovXG5cbi8qIE1ham9yIFBhaXJzICovXG5cblxuZnJ4KCdBVUQnLCAnSlBZJyk7XG5mcngoJ0FVRCcsICdVU0QnKTtcbmZyeCgnRVVSJywgJ0FVRCcpO1xuZnJ4KCdFVVInLCAnQ0hGJyk7XG5mcngoJ0VVUicsICdKUFknKTtcbmZyeCgnRVVSJywgJ0NBRCcpO1xuZnJ4KCdFVVInLCAnR0JQJyk7XG5mcngoJ0VVUicsICdVU0QnKTtcbmZyeCgnR0JQJywgJ0FVRCcpO1xuZnJ4KCdHQlAnLCAnSlBZJyk7XG5mcngoJ0dCUCcsICdVU0QnKTtcbmZyeCgnVVNEJywgJ0NBRCcpO1xuZnJ4KCdVU0QnLCAnQ0hGJyk7XG5mcngoJ1VTRCcsICdKUFknKTtcbi8qIE1pbm9yIFBhaXJzICovXG5cbmZyeCgnQVVEJywgJ0NBRCcpO1xuZnJ4KCdBVUQnLCAnQ0hGJyk7XG5mcngoJ0FVRCcsICdOWkQnKTtcbmZyeCgnQVVEJywgJ1BMTicpO1xuZnJ4KCdFVVInLCAnTlpEJyk7XG5mcngoJ0dCUCcsICdDQUQnKTtcbmZyeCgnR0JQJywgJ0NIRicpO1xuZnJ4KCdHQlAnLCAnTk9LJyk7XG5mcngoJ0dCUCcsICdOWkQnKTtcbmZyeCgnR0JQJywgJ1BMTicpO1xuZnJ4KCdOWkQnLCAnSlBZJyk7XG5mcngoJ05aRCcsICdVU0QnKTtcbmZyeCgnVVNEJywgJ01YTicpO1xuZnJ4KCdVU0QnLCAnTk9LJyk7XG5mcngoJ1VTRCcsICdQTE4nKTtcbmZyeCgnVVNEJywgJ1NFSycpO1xuLyogU21hcnQgRlggKi9cblxud2xkKCdBVUQnKTtcbndsZCgnRVVSJyk7XG53bGQoJ0dCUCcpO1xud2xkKCdVU0QnKTtcbi8qIE9UQyBJbmRpY2llcyAqL1xuXG5vdGMoJ0R1dGNoJywgJ09UQ19BRVgnKTtcbm90YygnR0JQJywgJ09UQ19GVFNFJyk7XG5vdGMoJ0VVUicsICdPVENfU1g1RScpO1xub3RjKCdGcmVuY2gnLCAnT1RDX0ZDSEknKTtcbm90YygnR2VybWFuJywgJ09UQ19HREFYSScpO1xub3RjKCdKUFknLCAnT1RDX04yMjUnKTtcbm90YygnU3BhbmlzaCcsICdPVENfSUJFWDM1Jyk7XG5vdGMoJ1VTRCcsICdPVENfU1BDJyk7XG5vdGMoJ1dhbGxTdHJlZXQnLCAnT1RDX0RKSScpO1xub3RjKCdVU0QnLCAnT1RDX05EWCcpO1xub3RjKCdDSEYnLCAnT1RDX1NTTUknKTtcbm90YygnSG9uZ0tvbmcnLCAnT1RDX0hTSScpO1xub3RjKCdBVUQnLCAnT1RDX0FTNTEnKTtcbnZhciBBY3RpdmVPcHRpb25zSWNvbk1hcCA9IHtcbiAgXCJkZWxldGVcIjogRGVsZXRlSWNvbixcbiAgZWRpdDogRWRpdEljb25cbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvTGFzdERpZ2l0U3RhdHMuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvTGFzdERpZ2l0U3RhdHMuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNsYXNzbmFtZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2xhc3RfZGlnaXRzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fbGFzdC1kaWdpdHMuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19sYXN0LWRpZ2l0cy5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfbGFzdF9kaWdpdHNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfbGFzdF9kaWdpdHNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcblxuXG5cblxuXG52YXIgQmFyID0gZnVuY3Rpb24gQmFyKF9yZWYpIHtcbiAgdmFyIHggPSBfcmVmLngsXG4gICAgICBiYXIgPSBfcmVmLmJhcjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtYmFyIFwiLmNvbmNhdChiYXIuY05hbWUpLFxuICAgIHN0eWxlOiB7XG4gICAgICBoZWlnaHQ6IFwiXCIuY29uY2F0KGJhci5oZWlnaHQgKiA1LCBcIiVcIiksXG4gICAgICBsZWZ0OiB4ICogMzVcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtYmFyLXZhbHVlIFwiLmNvbmNhdChiYXIuaGVpZ2h0ICYmICdzaG93JylcbiAgfSwgXCJcIi5jb25jYXQoYmFyLmhlaWdodC50b0ZpeGVkKDEpLCBcIiVcIikpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1iYXItdGl0bGVcIlxuICB9LCB4KSk7XG59O1xuXG52YXIgTGFzdERpZ2l0U3RhdHMgPSBmdW5jdGlvbiBMYXN0RGlnaXRTdGF0cyhfcmVmMikge1xuICB2YXIgaXNWaXNpYmxlID0gX3JlZjIuaXNWaXNpYmxlLFxuICAgICAgYmFycyA9IF9yZWYyLmJhcnMsXG4gICAgICBtYXJrZXREaXNwbGF5TmFtZSA9IF9yZWYyLm1hcmtldERpc3BsYXlOYW1lLFxuICAgICAgc2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzID0gX3JlZjIuc2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgnY3EtbGFzdC1kaWdpdHMnLCB7XG4gICAgICBzaG93OiBpc1Zpc2libGUsXG4gICAgICBtaW5pbWlzZWQ6IHNob3VsZE1pbmltaXNlTGFzdERpZ2l0c1xuICAgIH0pXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtYmFyc1wiXG4gIH0sIGJhcnMubWFwKGZ1bmN0aW9uIChiYXIsIGlkeCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChCYXIsIHtcbiAgICAgIGtleTogXCJiYXItXCIuY29uY2F0KGlkeCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXlcbiAgICAgICxcbiAgICAgIHg6IGlkeCxcbiAgICAgIGJhcjogYmFyXG4gICAgfSk7XG4gIH0pKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1iYXItZm9vdGVyXCJcbiAgfSwgdC50cmFuc2xhdGUoJ0xhc3QgZGlnaXRzIHN0YXRzIGZvciBsYXRlc3QgMTAwMCB0aWNrcyBvbiAnKSArIG1hcmtldERpc3BsYXlOYW1lKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYzKSB7XG4gIHZhciBsID0gX3JlZjMubGFzdERpZ2l0U3RhdHM7XG4gIHJldHVybiB7XG4gICAgaXNWaXNpYmxlOiBsLmlzVmlzaWJsZSxcbiAgICBiYXJzOiBsLmJhcnMsXG4gICAgbWFya2V0RGlzcGxheU5hbWU6IGwubWFya2V0RGlzcGxheU5hbWUsXG4gICAgY2hhbmdlU3ltYm9sOiBsLmNoYW5nZVN5bWJvbCxcbiAgICBzaG91bGRNaW5pbWlzZUxhc3REaWdpdHM6IGwuc2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzXG4gIH07XG59KShMYXN0RGlnaXRTdGF0cykpO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9MaXN0LmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvTGlzdC5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1Njcm9sbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vU2Nyb2xsLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvU2Nyb2xsLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NpcV9saXN0X3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fY2lxLWxpc3Quc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaXEtbGlzdC5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2lxX2xpc3Rfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfY2lxX2xpc3Rfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fKTtcblxuXG5cblxudmFyIExpc3QgPSBmdW5jdGlvbiBMaXN0KF9yZWYpIHtcbiAgdmFyIGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaXRlbXMgPSBfcmVmLml0ZW1zLFxuICAgICAgb25JdGVtQ2xpY2sgPSBfcmVmLm9uSXRlbUNsaWNrLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICB2YXIgaGFzRnVuY3Rpb25Bc0NoaWxkcmVuID0gdHlwZW9mIGNoaWxkcmVuID09PSAnZnVuY3Rpb24nO1xuICB2YXIgcmVuZGVyUm93ID0gaGFzRnVuY3Rpb25Bc0NoaWxkcmVuID8gY2hpbGRyZW4gOiBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtLnRleHQ7XG4gIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNvbmNhdFxuXG4gIHZhciBpdGVtQ2xhc3NOYW1lID0gZnVuY3Rpb24gaXRlbUNsYXNzTmFtZShpdCkge1xuICAgIHJldHVybiAnY2lxLWxpc3QtaXRlbScgKyBcIiBcIi5jb25jYXQoaXQuZGlzYWJsZWQgPyAnZGlzYWJsZWQnIDogJycpICsgXCIgXCIuY29uY2F0KGl0LmFjdGl2ZSA/ICdhY3RpdmUnIDogJycpO1xuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfU2Nyb2xsX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtbGlzdFwiLFxuICAgIGF1dG9IZWlnaHQ6IHRydWUsXG4gICAgYXV0b0hpZGU6IHRydWUsXG4gICAgc3R5bGU6IGhlaWdodCAmJiB7XG4gICAgICBoZWlnaHQ6IFwiXCIuY29uY2F0KGhlaWdodCwgXCJweFwiKVxuICAgIH1cbiAgfSwgaXRlbXMubWFwKGZ1bmN0aW9uIChpdCwgaWR4KSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGtleTogaXQuaWQsXG4gICAgICBjbGFzc05hbWU6IGl0ZW1DbGFzc05hbWUoaXQpLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIG9uSXRlbUNsaWNrKGlkeCwgaXQpO1xuICAgICAgfVxuICAgIH0sIHJlbmRlclJvdyhpdCkpO1xuICB9KSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKExpc3QpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0xvYWRlci5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvTG9hZGVyLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogSW5saW5lTG9hZGVyLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIklubGluZUxvYWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIElubGluZUxvYWRlcjsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjbGFzc25hbWVzICovIFwiLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5cblxuXG52YXIgSW5saW5lTG9hZGVyID0gZnVuY3Rpb24gSW5saW5lTG9hZGVyKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgX3JlZiRlbmFibGVkID0gX3JlZi5lbmFibGVkLFxuICAgICAgZW5hYmxlZCA9IF9yZWYkZW5hYmxlZCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkZW5hYmxlZCxcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwiZW5hYmxlZFwiXSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0KCkoJ3NjLWlubGluZS1sb2FkZXInLCBjbGFzc05hbWUsIHtcbiAgICAgICdzYy1pbmxpbmUtbG9hZGVyLS1lbmFibGUnOiBlbmFibGVkXG4gICAgfSlcbiAgfSwgcHJvcHMpLCBjaGlsZHJlbiwgZW5hYmxlZCAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWlubGluZS1sb2FkZXJfX2lubmVyXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtaW5saW5lLWxvYWRlcl9faW5uZXJfX2J1bGxldFwiXG4gIH0pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1pbmxpbmUtbG9hZGVyX19pbm5lcl9fYnVsbGV0XCJcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWlubGluZS1sb2FkZXJfX2lubmVyX19idWxsZXRcIlxuICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtaW5saW5lLWxvYWRlcl9faW5uZXJfX2J1bGxldFwiXG4gIH0pKSk7XG59O1xuXG52YXIgTG9hZGVyID0gZnVuY3Rpb24gTG9hZGVyKF9yZWYyKSB7XG4gIHZhciBpc0FjdGl2ZSA9IF9yZWYyLmlzQWN0aXZlLFxuICAgICAgY3VycmVudFN0YXRlID0gX3JlZjIuY3VycmVudFN0YXRlO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgnc2MtbG9hZGVyJywge1xuICAgICAgc2hvdzogaXNBY3RpdmVcbiAgICB9KVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWxvYWRlci1zcGluXCJcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtbG9hZGVyLXN0YXR1c1wiXG4gIH0sIGN1cnJlbnRTdGF0ZSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMykge1xuICB2YXIgbCA9IF9yZWYzLmxvYWRlcjtcbiAgcmV0dXJuIHtcbiAgICBpc0FjdGl2ZTogbC5pc0FjdGl2ZSxcbiAgICBjdXJyZW50U3RhdGU6IGwuY3VycmVudFN0YXRlXG4gIH07XG59KShMb2FkZXIpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9NYXJrZXRPcGVuaW5nVGltZUNvdW50ZXIuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL01hcmtldE9wZW5pbmdUaW1lQ291bnRlci5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IE1hcmtldE9wZW5pbmdUaW1lQ291bnRlciAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJNYXJrZXRPcGVuaW5nVGltZUNvdW50ZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBNYXJrZXRPcGVuaW5nVGltZUNvdW50ZXI7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX2luZGV4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9pbmRleCAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19TZXJ2ZXJUaW1lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9TZXJ2ZXJUaW1lICovIFwiLi9zcmMvdXRpbHMvU2VydmVyVGltZS5qc1wiKTtcbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cblxuXG5cbnZhciBNYXJrZXRPcGVuaW5nVGltZUNvdW50ZXIgPSBmdW5jdGlvbiBNYXJrZXRPcGVuaW5nVGltZUNvdW50ZXIoX3JlZikge1xuICB2YXIgc3ltYm9sT3BlblRpbWUgPSBfcmVmLnN5bWJvbE9wZW5UaW1lO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VTdGF0ZSgwKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgICAgdGltZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRUaW1lID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgdGltZVVudGlsT3BlblRpbWUgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3V0cHV0ID0gbnVsbDtcblxuICAgIHZhciBfcmVmMiA9IHN5bWJvbE9wZW5UaW1lIHx8IHt9LFxuICAgICAgICBvcGVuVGltZSA9IF9yZWYyLnN5bWJvbE9wZW5UaW1lLm9wZW5UaW1lO1xuXG4gICAgaWYgKG9wZW5UaW1lKSB7XG4gICAgICBvdXRwdXQgPSBPYmplY3QoX3V0aWxzX2luZGV4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkaXNwbGF5TWlsbGlzZWNvbmRzXCJdKShvcGVuVGltZS5nZXRUaW1lKCkgLSB0aW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9LCBbc3ltYm9sT3BlblRpbWUsIHRpbWVdKTtcbiAgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VydmVyVGltZSA9IF91dGlsc19TZXJ2ZXJUaW1lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLmdldEluc3RhbmNlKCk7XG4gICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNldFRpbWUoc2VydmVyVGltZS5nZXRMb2NhbERhdGUoKS5nZXRUaW1lKCkpO1xuICAgIH0sIDEwMDApO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIHRpbWVVbnRpbE9wZW5UaW1lKTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvTWVudS5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL01lbnUuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QtZG9tICovIFwicmVhY3QtZG9tXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF90cmFuc2l0aW9uX2dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdC10cmFuc2l0aW9uLWdyb3VwICovIFwicmVhY3QtdHJhbnNpdGlvbi1ncm91cFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF90cmFuc2l0aW9uX2dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjbGFzc25hbWVzICovIFwiLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWVudU1vYmlsZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vTWVudU1vYmlsZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL01lbnVNb2JpbGUuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Ub29sdGlwX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Ub29sdGlwLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVG9vbHRpcC5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcblxuXG5cblxuXG5cblxuXG52YXIgTWVudSA9IGZ1bmN0aW9uIE1lbnUoX3JlZikge1xuICB2YXIgb3BlbiA9IF9yZWYub3BlbixcbiAgICAgIGRpYWxvZ1N0YXR1cyA9IF9yZWYuZGlhbG9nU3RhdHVzLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICB0b29sdGlwID0gX3JlZi50b29sdGlwLFxuICAgICAgb25UaXRsZUNsaWNrID0gX3JlZi5vblRpdGxlQ2xpY2ssXG4gICAgICBEcm9wZG93bkRpYWxvZyA9IF9yZWYuRHJvcGRvd25EaWFsb2csXG4gICAgICBpc01vYmlsZSA9IF9yZWYuaXNNb2JpbGUsXG4gICAgICBpc0Z1bGxzY3JlZW4gPSBfcmVmLmlzRnVsbHNjcmVlbixcbiAgICAgIHBvcnRhbE5vZGVJZCA9IF9yZWYucG9ydGFsTm9kZUlkLFxuICAgICAgX3JlZiRlbmFibGVkID0gX3JlZi5lbmFibGVkLFxuICAgICAgZW5hYmxlZCA9IF9yZWYkZW5hYmxlZCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkZW5hYmxlZCxcbiAgICAgIHNob3VsZFJlbmRlckRpYWxvZ3MgPSBfcmVmLnNob3VsZFJlbmRlckRpYWxvZ3MsXG4gICAgICBoYW5kbGVDbG9zZURpYWxvZyA9IF9yZWYuaGFuZGxlQ2xvc2VEaWFsb2csXG4gICAgICBvbk1vdXNlRW50ZXIgPSBfcmVmLm9uTW91c2VFbnRlcixcbiAgICAgIG9uTW91c2VMZWF2ZSA9IF9yZWYub25Nb3VzZUxlYXZlLFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lLFxuICAgICAgZW5hYmxlVGFidWxhciA9IF9yZWYuZW5hYmxlVGFidWxhcixcbiAgICAgIHJlYWR5ID0gX3JlZi5yZWFkeSxcbiAgICAgIGN1c3RvbUhlYWQgPSBfcmVmLmN1c3RvbUhlYWQsXG4gICAgICBlbXB0eU1lbnUgPSBfcmVmLmVtcHR5TWVudSxcbiAgICAgIG1vZGFsTW9kZSA9IF9yZWYubW9kYWxNb2RlO1xuXG4gIHZhciBvbk92ZXJsYXlDbGljayA9IGZ1bmN0aW9uIG9uT3ZlcmxheUNsaWNrKGUpIHtcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NOYW1lID09PSAnY3EtbW9kYWxfX292ZXJsYXknKSB7XG4gICAgICBoYW5kbGVDbG9zZURpYWxvZygpO1xuICAgIH1cbiAgfTtcblxuICBpZiAoIXJlYWR5KSByZXR1cm4gJyc7XG4gIHZhciBmaXJzdCA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkLCBpKSB7XG4gICAgcmV0dXJuIGkgPT09IDAgPyBjaGlsZCA6IG51bGw7XG4gIH0pO1xuICB2YXIgcmVzdCA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkLCBpKSB7XG4gICAgcmV0dXJuIGkgIT09IDAgPyBjaGlsZCA6IG51bGw7XG4gIH0pO1xuXG4gIGlmIChtb2RhbE1vZGUpIHtcbiAgICB2YXIgcG9ydGFsTm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvcnRhbE5vZGVJZCB8fCAnc21hcnRjaGFydHNfbW9kYWwnKTtcbiAgICBpZiAoIXBvcnRhbE5vZGUpIHJldHVybiAnJztcbiAgICB2YXIgbmV3RGlhbG9nID0gLyojX19QVVJFX18qL3JlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5jcmVhdGVQb3J0YWwoIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJzbWFydGNoYXJ0cy1cIi5jb25jYXQodGhlbWUpXG4gICAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCgpKHtcbiAgICAgICAgJ3NtYXJ0Y2hhcnRzLW1vYmlsZSc6IGlzTW9iaWxlLFxuICAgICAgICAnc21hcnRjaGFydHMtZGVza3RvcCc6ICFpc01vYmlsZVxuICAgICAgfSlcbiAgICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0KCkoJ2NxLW1vZGFsLWRyb3Bkb3duJywgY2xhc3NOYW1lLCB7XG4gICAgICAgIHN0eE1lbnVBY3RpdmU6IG9wZW5cbiAgICAgIH0pXG4gICAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImNxLW1vZGFsX19vdmVybGF5XCIsXG4gICAgICBvbkNsaWNrOiBvbk92ZXJsYXlDbGlja1xuICAgIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RyYW5zaXRpb25fZ3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkNTU1RyYW5zaXRpb25cIl0sIHtcbiAgICAgIGFwcGVhcjogdHJ1ZSxcbiAgICAgIFwiaW5cIjogZGlhbG9nU3RhdHVzLFxuICAgICAgdGltZW91dDogMzAwLFxuICAgICAgY2xhc3NOYW1lczogXCJzYy1kaWFsb2dcIixcbiAgICAgIHVubW91bnRPbkV4aXQ6IHRydWVcbiAgICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChEcm9wZG93bkRpYWxvZywge1xuICAgICAgaXNNb2JpbGU6IGlzTW9iaWxlLFxuICAgICAgaXNGdWxsc2NyZWVuOiBpc0Z1bGxzY3JlZW4sXG4gICAgICB0aXRsZTogdGl0bGUsXG4gICAgICBoYW5kbGVDbG9zZURpYWxvZzogaGFuZGxlQ2xvc2VEaWFsb2csXG4gICAgICBlbmFibGVUYWJ1bGFyOiBlbmFibGVUYWJ1bGFyLFxuICAgICAgY3VzdG9tSGVhZDogY3VzdG9tSGVhZFxuICAgIH0sIHJlc3QpKSkpKSksIHBvcnRhbE5vZGUpO1xuXG4gICAgaWYgKGVtcHR5TWVudSkge1xuICAgICAgcmV0dXJuIG9wZW4gJiYgbmV3RGlhbG9nO1xuICAgIH1cblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfVG9vbHRpcF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQoKSgnY2lxLW1lbnUnLCBjbGFzc05hbWUgfHwgJycsIHtcbiAgICAgICAgc3R4TWVudUFjdGl2ZTogZW5hYmxlZCAmJiBvcGVuLFxuICAgICAgICAnY2lxLWVuYWJsZWQnOiBlbmFibGVkLFxuICAgICAgICAnY2lxLWRpc2FibGVkJzogIWVuYWJsZWRcbiAgICAgIH0pLFxuICAgICAgY29udGVudDogdG9vbHRpcCxcbiAgICAgIGVuYWJsZWQ6IHRvb2x0aXAsXG4gICAgICBwb3NpdGlvbjogXCJyaWdodFwiXG4gICAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImNxLW1lbnUtYnRuXCIsXG4gICAgICBvbk1vdXNlRW50ZXI6IG9uTW91c2VFbnRlcixcbiAgICAgIG9uTW91c2VMZWF2ZTogb25Nb3VzZUxlYXZlLFxuICAgICAgb25DbGljazogZW5hYmxlZCA/IG9uVGl0bGVDbGljayA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSwgZmlyc3QpLCBlbmFibGVkICYmIG9wZW4gJiYgbmV3RGlhbG9nKTtcbiAgfVxuXG4gIHZhciBvbGREcm9wZG93biA9IHNob3VsZFJlbmRlckRpYWxvZ3MgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25EaWFsb2csIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0KCkoJ2NxLW1lbnUtZHJvcGRvd24nLCB7XG4gICAgICAnY3EtbWVudS1kcm9wZG93bi1lbnRlci1kb25lJzogZGlhbG9nU3RhdHVzXG4gICAgfSksXG4gICAgaXNNb2JpbGU6IGlzTW9iaWxlLFxuICAgIGlzRnVsbHNjcmVlbjogaXNGdWxsc2NyZWVuXG4gIH0sIHRpdGxlICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidGl0bGVcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInRpdGxlLXRleHRcIlxuICB9LCB0aXRsZSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcIkNsb3NlSWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJpY29uLWNsb3NlLW1lbnVcIixcbiAgICBvbkNsaWNrOiBvblRpdGxlQ2xpY2tcbiAgfSkpLCByZXN0KTtcbiAgcmV0dXJuIGVuYWJsZWQgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQoKSgnY2lxLW1lbnUgY2lxLWVuYWJsZWQnLCBjbGFzc05hbWUsIHtcbiAgICAgIHN0eE1lbnVBY3RpdmU6IG9wZW5cbiAgICB9KVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLW1lbnUtYnRuXCIsXG4gICAgb25Nb3VzZUVudGVyOiBvbk1vdXNlRW50ZXIsXG4gICAgb25Nb3VzZUxlYXZlOiBvbk1vdXNlTGVhdmUsXG4gICAgb25DbGljazogb25UaXRsZUNsaWNrXG4gIH0sIGZpcnN0KSwgaXNNb2JpbGUgJiYgcG9ydGFsTm9kZUlkICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9NZW51TW9iaWxlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIG9wZW46IG9wZW4sXG4gICAgbWVudV9lbGVtZW50OiBvbGREcm9wZG93bixcbiAgICBwb3J0YWxOb2RlSWQ6IHBvcnRhbE5vZGVJZCxcbiAgICBvbkNsaWNrOiBvbk92ZXJsYXlDbGlja1xuICB9KSB8fCBvbGREcm9wZG93bikgfHwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQoKSgnY2lxLW1lbnUgY2lxLWRpc2FibGVkJywgY2xhc3NOYW1lKVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLW1lbnUtYnRuXCIsXG4gICAgb25Nb3VzZUVudGVyOiBvbk1vdXNlRW50ZXIsXG4gICAgb25Nb3VzZUxlYXZlOiBvbk1vdXNlTGVhdmVcbiAgfSwgZmlyc3QpKTtcbn07XG5cbk1lbnUuVGl0bGUgPSBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZjIuY2hpbGRyZW47XG4gIHJldHVybiBjaGlsZHJlbjtcbn07XG5cbk1lbnUuQm9keSA9IGZ1bmN0aW9uIChfcmVmMykge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmMy5jaGlsZHJlbjtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChNZW51KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9NZW51TW9iaWxlLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvTWVudU1vYmlsZS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfZG9tX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdC1kb20gKi8gXCJyZWFjdC1kb21cIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfZG9tX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfZG9tX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX21lbnVfZHJvcGRvd25fc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19tZW51LWRyb3Bkb3duLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fbWVudS1kcm9wZG93bi5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfbWVudV9kcm9wZG93bl9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19tZW51X2Ryb3Bkb3duX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyk7XG5cblxuXG5cblxudmFyIE1lbnVNb2JpbGUgPSBmdW5jdGlvbiBNZW51TW9iaWxlKF9yZWYpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgbWVudV9lbGVtZW50ID0gX3JlZi5tZW51X2VsZW1lbnQsXG4gICAgICBwb3J0YWxOb2RlSWQgPSBfcmVmLnBvcnRhbE5vZGVJZCxcbiAgICAgIG9wZW4gPSBfcmVmLm9wZW4sXG4gICAgICBvbkNsaWNrID0gX3JlZi5vbkNsaWNrLFxuICAgICAgdGhlbWUgPSBfcmVmLnRoZW1lO1xuXG4gIC8vIGZpeCB0byByZW1vdmUgYm9keSBiYWNrZ3JvdW5kIHNjcm9sbGluZyB3aGVuIHNjcm9sbGluZyBvbiBhYnNvbHV0ZSBlbGVtZW50XG4gIHZhciBkaXNhYmxlQm9keVNjcm9sbCA9IGZ1bmN0aW9uIGRpc2FibGVCb2R5U2Nyb2xsKCkge1xuICAgIGlmIChvcGVuKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBkaXNhYmxlQm9keVNjcm9sbCgpO1xuICBpZiAoIXBvcnRhbE5vZGVJZCkgcmV0dXJuIG1lbnVfZWxlbWVudDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9kb21fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0LmEuY3JlYXRlUG9ydGFsKCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNtYXJ0Y2hhcnRzLXBvcnRhbCBcIi5jb25jYXQob3BlbiA/ICdzbWFydGNoYXJ0cy1wb3J0YWwtLW9wZW4nIDogJycpXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic21hcnRjaGFydHMgc21hcnRjaGFydHMtXCIuY29uY2F0KHRoZW1lKVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNtYXJ0Y2hhcnRzLW1vYmlsZVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtbW9kYWwtZHJvcGRvd24gXCIuY29uY2F0KGNsYXNzTmFtZSB8fCAnJywgXCIgXCIpLmNvbmNhdChvcGVuID8gJ3N0eE1lbnVBY3RpdmUnIDogJycpXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtbW9kYWxfX292ZXJsYXlcIixcbiAgICBvbkNsaWNrOiBvbkNsaWNrXG4gIH0sIG1lbnVfZWxlbWVudCkpKSkpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3J0YWxOb2RlSWQpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGNoYXJ0U2V0dGluZyA9IF9yZWYyLmNoYXJ0U2V0dGluZztcbiAgcmV0dXJuIHtcbiAgICB0aGVtZTogY2hhcnRTZXR0aW5nLnRoZW1lXG4gIH07XG59KShNZW51TW9iaWxlKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvTmF2aWdhdGlvbldpZGdldC5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL05hdmlnYXRpb25XaWRnZXQuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNsYXNzbmFtZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ3Jvc3NoYWlyVG9nZ2xlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Dcm9zc2hhaXJUb2dnbGUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9Dcm9zc2hhaXJUb2dnbGUuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfbmF2aWdhdGlvbl93aWRnZXRfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19uYXZpZ2F0aW9uLXdpZGdldC5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX25hdmlnYXRpb24td2lkZ2V0LnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19uYXZpZ2F0aW9uX3dpZGdldF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19uYXZpZ2F0aW9uX3dpZGdldF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG5cblxuXG5cblxuXG5cbnZhciBOYXZpZ2F0aW9uV2lkZ2V0ID0gZnVuY3Rpb24gTmF2aWdhdGlvbldpZGdldChfcmVmKSB7XG4gIHZhciBjb250ZXh0ID0gX3JlZi5jb250ZXh0LFxuICAgICAgem9vbUluID0gX3JlZi56b29tSW4sXG4gICAgICB6b29tT3V0ID0gX3JlZi56b29tT3V0LFxuICAgICAgb25TY2FsZSA9IF9yZWYub25TY2FsZSxcbiAgICAgIGVuYWJsZVNjYWxlID0gX3JlZi5lbmFibGVTY2FsZSxcbiAgICAgIG9uTW91c2VFbnRlciA9IF9yZWYub25Nb3VzZUVudGVyLFxuICAgICAgb25Nb3VzZUxlYXZlID0gX3JlZi5vbk1vdXNlTGVhdmUsXG4gICAgICBpc1NjYWxlZE9uZU9uZSA9IF9yZWYuaXNTY2FsZWRPbmVPbmUsXG4gICAgICBvbkNyb3NzaGFpckNoYW5nZSA9IF9yZWYub25Dcm9zc2hhaXJDaGFuZ2U7XG4gIHJldHVybiBjb250ZXh0ID8gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1uYXZpZ2F0aW9uLXdpZGdldFwiLFxuICAgIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyLFxuICAgIG9uTW91c2VMZWF2ZTogb25Nb3VzZUxlYXZlXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0KCkoJ3NjLW5hdmlnYXRpb24td2lkZ2V0X19pdGVtJywgJ3NjLW5hdmlnYXRpb24td2lkZ2V0X19pdGVtLS1zY2FsZScsIHtcbiAgICAgICdzYy1uYXZpZ2F0aW9uLXdpZGdldF9faXRlbS0taGlkZGVuJzogIWVuYWJsZVNjYWxlLFxuICAgICAgJ3NjLW5hdmlnYXRpb24td2lkZ2V0X19pdGVtLS1kaXNhYmxlZCc6IGlzU2NhbGVkT25lT25lXG4gICAgfSksXG4gICAgb25DbGljazogb25TY2FsZVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJTY2FsZUljb25cIl0sIG51bGwpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1uYXZpZ2F0aW9uLXdpZGdldF9faXRlbSBzYy1uYXZpZ2F0aW9uLXdpZGdldF9faXRlbS0tem9vbVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIlpvb21pbkljb25cIl0sIHtcbiAgICBvbkNsaWNrOiB6b29tSW5cbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Dcm9zc2hhaXJUb2dnbGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgb25DaGFuZ2U6IG9uQ3Jvc3NoYWlyQ2hhbmdlXG4gIH0pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJab29tb3V0SWNvblwiXSwge1xuICAgIG9uQ2xpY2s6IHpvb21PdXRcbiAgfSkpKSA6IG51bGw7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBjaGFydCA9IF9yZWYyLmNoYXJ0LFxuICAgICAgY2hhcnRTaXplID0gX3JlZjIuY2hhcnRTaXplLFxuICAgICAgbmF2aWdhdGlvbldpZGdldCA9IF9yZWYyLm5hdmlnYXRpb25XaWRnZXQ7XG4gIHJldHVybiB7XG4gICAgY29udGV4dDogY2hhcnQuY29udGV4dCxcbiAgICBpc1NjYWxlZE9uZU9uZTogY2hhcnQuaXNTY2FsZWRPbmVPbmUsXG4gICAgem9vbUluOiBjaGFydFNpemUuem9vbUluLFxuICAgIHpvb21PdXQ6IGNoYXJ0U2l6ZS56b29tT3V0LFxuICAgIG9uU2NhbGU6IG5hdmlnYXRpb25XaWRnZXQub25TY2FsZSxcbiAgICBlbmFibGVTY2FsZTogbmF2aWdhdGlvbldpZGdldC5lbmFibGVTY2FsZSxcbiAgICBvbk1vdXNlRW50ZXI6IG5hdmlnYXRpb25XaWRnZXQub25Nb3VzZUVudGVyLFxuICAgIG9uTW91c2VMZWF2ZTogbmF2aWdhdGlvbldpZGdldC5vbk1vdXNlTGVhdmVcbiAgfTtcbn0pKE5hdmlnYXRpb25XaWRnZXQpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9Ob3RpZmljYXRpb25CYWRnZS5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9Ob3RpZmljYXRpb25CYWRnZS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNsYXNzbmFtZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuXG5cblxudmFyIE5vdGlmaWNhdGlvbkJhZGdlID0gZnVuY3Rpb24gTm90aWZpY2F0aW9uQmFkZ2UoX3JlZikge1xuICB2YXIgbm90aWZpY2F0aW9uQ291bnQgPSBfcmVmLm5vdGlmaWNhdGlvbkNvdW50O1xuICByZXR1cm4gbm90aWZpY2F0aW9uQ291bnQgPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgnc2Mtbm90aWZpY2F0aW9uLWJhZGdlJywge1xuICAgICAgeDI6IG5vdGlmaWNhdGlvbkNvdW50ID4gOVxuICAgIH0pXG4gIH0sIG5vdGlmaWNhdGlvbkNvdW50KSA6IG51bGw7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE5vdGlmaWNhdGlvbkJhZGdlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9QYWdpbmF0aW9uTG9hZGVyLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvUGFnaW5hdGlvbkxvYWRlci5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Zhc3RNYXJrZXJfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0Zhc3RNYXJrZXIuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9GYXN0TWFya2VyLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19wYWdpbmF0aW9uX2xvYWRlcl9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX3BhZ2luYXRpb24tbG9hZGVyLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fcGFnaW5hdGlvbi1sb2FkZXIuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX3BhZ2luYXRpb25fbG9hZGVyX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX3BhZ2luYXRpb25fbG9hZGVyX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyk7XG5cblxuXG5cblxudmFyIFBhZ2luYXRpb25Mb2FkZXIgPSBmdW5jdGlvbiBQYWdpbmF0aW9uTG9hZGVyKF9yZWYpIHtcbiAgdmFyIGlzT25QYWdpbmF0aW9uID0gX3JlZi5pc09uUGFnaW5hdGlvbixcbiAgICAgIHNldFJlZiA9IF9yZWYuc2V0UmVmO1xuICByZXR1cm4gaXNPblBhZ2luYXRpb24gPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRmFzdE1hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBtYXJrZXJSZWY6IHNldFJlZixcbiAgICBjbGFzc05hbWU6IFwicGFnaW5hdGlvblwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicGFnaW5hdGlvbl9fbG9hZGVyXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJwYWdpbmF0aW9uX19sb2FkZXItYmFja2dyb3VuZFwiXG4gIH0pKSkgOiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5GcmFnbWVudCwgbnVsbCk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBzID0gX3JlZjIucGFnaW5hdGlvbkxvYWRlcjtcbiAgcmV0dXJuIHtcbiAgICBpc09uUGFnaW5hdGlvbjogcy5pc09uUGFnaW5hdGlvbixcbiAgICBzZXRSZWY6IHMuc2V0UmVmXG4gIH07XG59KShQYWdpbmF0aW9uTG9hZGVyKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvUHJpY2VMaW5lLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9QcmljZUxpbmUuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xhc3NuYW1lcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ByaWNlTGluZUFycm93X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9QcmljZUxpbmVBcnJvdy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1ByaWNlTGluZUFycm93LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfUHJpY2VMaW5lVGl0bGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ByaWNlTGluZVRpdGxlLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvUHJpY2VMaW5lVGl0bGUuanN4XCIpO1xuXG5cblxuXG5cbnZhciBQcmljZUxpbmUgPSBmdW5jdGlvbiBQcmljZUxpbmUoX3JlZikge1xuICB2YXIgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIGlzRHJhZ2dpbmcgPSBfcmVmLmlzRHJhZ2dpbmcsXG4gICAgICBwcmljZURpc3BsYXkgPSBfcmVmLnByaWNlRGlzcGxheSxcbiAgICAgIHNldERyYWdMaW5lID0gX3JlZi5zZXREcmFnTGluZSxcbiAgICAgIHZpc2libGUgPSBfcmVmLnZpc2libGUsXG4gICAgICBsaW5lU3R5bGUgPSBfcmVmLmxpbmVTdHlsZSxcbiAgICAgIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGZvcmVncm91bmRDb2xvciA9IF9yZWYuZm9yZWdyb3VuZENvbG9yLFxuICAgICAgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgICAgeUF4aXN3aWR0aCA9IF9yZWYueUF4aXN3aWR0aCxcbiAgICAgIG9mZlNjcmVlbiA9IF9yZWYub2ZmU2NyZWVuLFxuICAgICAgaGlkZUJhcnJpZXJMaW5lID0gX3JlZi5oaWRlQmFycmllckxpbmUsXG4gICAgICBoaWRlT2Zmc2NyZWVuQmFycmllciA9IF9yZWYuaGlkZU9mZnNjcmVlbkJhcnJpZXIsXG4gICAgICBoaWRlT2Zmc2NyZWVuTGluZSA9IF9yZWYuaGlkZU9mZnNjcmVlbkxpbmUsXG4gICAgICBvZmZTY3JlZW5EaXJlY3Rpb24gPSBfcmVmLm9mZlNjcmVlbkRpcmVjdGlvbixcbiAgICAgIG9wYWNpdHlPbk92ZXJsYXAgPSBfcmVmLm9wYWNpdHlPbk92ZXJsYXAsXG4gICAgICBpc092ZXJsYXBwaW5nID0gX3JlZi5pc092ZXJsYXBwaW5nLFxuICAgICAgaW5pdCA9IF9yZWYuaW5pdDtcbiAgdmFyIHNob3dCYXJyaWVyID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICEoaGlkZU9mZnNjcmVlbkJhcnJpZXIgJiYgb2ZmU2NyZWVuKTtcbiAgfSwgW2hpZGVPZmZzY3JlZW5CYXJyaWVyLCBvZmZTY3JlZW5dKTtcbiAgdmFyIHNob3dCYXJyaWVyRHJhZ0xpbmUgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gIWhpZGVCYXJyaWVyTGluZSAmJiAoIWhpZGVPZmZzY3JlZW5MaW5lIHx8ICFvZmZTY3JlZW4pICYmICFpc092ZXJsYXBwaW5nO1xuICB9LCBbaGlkZUJhcnJpZXJMaW5lLCBoaWRlT2Zmc2NyZWVuTGluZSwgb2ZmU2NyZWVuLCBpc092ZXJsYXBwaW5nXSk7XG4gIHZhciBvcGFjaXR5ID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGlzT3ZlcmxhcHBpbmcgJiYgb3BhY2l0eU9uT3ZlcmxhcDtcbiAgfSwgW2lzT3ZlcmxhcHBpbmcsIG9wYWNpdHlPbk92ZXJsYXBdKTtcbiAgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpbml0KCk7XG4gIH0sIFtpbml0XSk7XG4gIHJldHVybiBzaG93QmFycmllciAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJhcnJpZXItYXJlYVwiLFxuICAgIHN0eWxlOiB7XG4gICAgICB0b3A6IDBcbiAgICB9LFxuICAgIHJlZjogc2V0RHJhZ0xpbmUsXG4gICAgaGlkZGVuOiAhdmlzaWJsZVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKCdjaGFydC1saW5lJywgJ2hvcml6b250YWwnLCBjbGFzc05hbWUgfHwgJycsIHtcbiAgICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgICAgZHJhZ2dpbmc6IGlzRHJhZ2dpbmdcbiAgICB9KSxcbiAgICBzdHlsZToge1xuICAgICAgY29sb3I6IGZvcmVncm91bmRDb2xvcixcbiAgICAgIGJhY2tncm91bmRJbWFnZTogXCJsaW5lYXItZ3JhZGllbnQodG8gbGVmdCwgXCIuY29uY2F0KGNvbG9yLCBcIiA5MCUsIFwiKS5jb25jYXQoY29sb3IsIFwiMDBcIilcbiAgICB9XG4gIH0sIHNob3dCYXJyaWVyRHJhZ0xpbmUgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJkcmFnLWxpbmVcIixcbiAgICBzdHlsZToge1xuICAgICAgYm9yZGVyVG9wU3R5bGU6IGxpbmVTdHlsZVxuICAgIH1cbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiZHJhZ2dhYmxlLWFyZWFcIlxuICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJkcmFnLXByaWNlXCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IsXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBvcGFjaXR5OiBvcGFjaXR5XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInByaWNlXCJcbiAgfSwgcHJpY2VEaXNwbGF5KSwgb2ZmU2NyZWVuICYmIG9mZlNjcmVlbkRpcmVjdGlvbiAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfUHJpY2VMaW5lQXJyb3dfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgb2ZmU2NyZWVuRGlyZWN0aW9uOiBvZmZTY3JlZW5EaXJlY3Rpb24sXG4gICAgY29sb3I6IGNvbG9yXG4gIH0pKSwgdGl0bGUgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1ByaWNlTGluZVRpdGxlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwge1xuICAgIGNvbG9yOiBjb2xvcixcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgeUF4aXN3aWR0aDogeUF4aXN3aWR0aCxcbiAgICBvcGFjaXR5OiBvcGFjaXR5XG4gIH0pKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFByaWNlTGluZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvUHJpY2VMaW5lQXJyb3cuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvUHJpY2VMaW5lQXJyb3cuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcblxuXG5cblxudmFyIFByaWNlTGluZUFycm93ID0gZnVuY3Rpb24gUHJpY2VMaW5lQXJyb3coX3JlZikge1xuICB2YXIgb2ZmU2NyZWVuRGlyZWN0aW9uID0gX3JlZi5vZmZTY3JlZW5EaXJlY3Rpb24sXG4gICAgICBjb2xvciA9IF9yZWYuY29sb3I7XG4gIHZhciB0b3AgPSBvZmZTY3JlZW5EaXJlY3Rpb24gPT09IF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiRElSRUNUSU9OU1wiXS5VUCAmJiBcIlwiLmNvbmNhdCgtX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJBUlJPV19IRUlHSFRcIl0sIFwicHhcIik7XG4gIHZhciB0cmFuc2Zvcm0gPSBvZmZTY3JlZW5EaXJlY3Rpb24gPT09IF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiRElSRUNUSU9OU1wiXS5ET1dOICYmICdyb3RhdGUoMTgwZGVnKSc7XG4gIHJldHVybiBjb2xvciA9PT0gX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJBUlJPV19DT0xPUlNcIl0uR1JFRU4gPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJBcnJvd0dyZWVuSWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJhcnJvdy1pY29uXCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIHRvcDogdG9wLFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm1cbiAgICB9XG4gIH0pIDogLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQXJyb3dPcmFuZ2VJY29uXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcImFycm93LWljb25cIixcbiAgICBzdHlsZToge1xuICAgICAgdG9wOiB0b3AsXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybVxuICAgIH1cbiAgfSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFByaWNlTGluZUFycm93KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9QcmljZUxpbmVUaXRsZS5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9QcmljZUxpbmVUaXRsZS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuXG5cbnZhciBQcmljZUxpbmVUaXRsZSA9IGZ1bmN0aW9uIFByaWNlTGluZVRpdGxlKF9yZWYpIHtcbiAgdmFyIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIHlBeGlzd2lkdGggPSBfcmVmLnlBeGlzd2lkdGgsXG4gICAgICB0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICBvcGFjaXR5ID0gX3JlZi5vcGFjaXR5O1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ0aXRsZS13cmFwcGVyXCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgIHJpZ2h0OiB5QXhpc3dpZHRoLFxuICAgICAgb3BhY2l0eTogb3BhY2l0eVxuICAgIH1cbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidGl0bGVcIlxuICB9LCB0aXRsZSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChQcmljZUxpbmVUaXRsZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvUmF3TWFya2VyLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9SYXdNYXJrZXIuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcblxuXG5cblxudmFyIFJhd01hcmtlciA9IGZ1bmN0aW9uIFJhd01hcmtlcihwcm9wcykge1xuICB2YXIgY3R4X3JlZiA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVJlZihudWxsKTtcbiAgdmFyIHN0eF9yZWYgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VSZWYobnVsbCk7XG4gIHZhciBpbmplY3Rpb25faWRfcmVmID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlUmVmKG51bGwpO1xuICB2YXIgaGFzX3VubW91bnRlZF9iZWZvcmVfaW5qZWN0aW9uX3JlZiA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVJlZihmYWxzZSk7XG4gIHZhciBjYW52YXNfaGVpZ2h0X3JlZiA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVJlZigwKTtcbiAgdmFyIGxhc3RfZXBvY2hfYXJyYXlfcmVmID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlUmVmKCk7XG4gIHZhciBkYXRlX2FycmF5X3JlZiA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVJlZigpO1xuICB2YXIgcHJvcHNfcmVmID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEudXNlUmVmKCk7XG4gIHByb3BzX3JlZi5jdXJyZW50ID0gcHJvcHM7XG4gIHZhciBjb250ZXh0UHJvbWlzZSA9IHByb3BzLmNvbnRleHRQcm9taXNlLFxuICAgICAgc2hvdWxkUmVkcmF3ID0gcHJvcHMuc2hvdWxkUmVkcmF3O1xuICByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGNvbnRleHRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGN0eCkge1xuICAgICAgaWYgKGhhc191bm1vdW50ZWRfYmVmb3JlX2luamVjdGlvbl9yZWYuY3VycmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGN0eF9yZWYuY3VycmVudCA9IGN0eDtcbiAgICAgIHN0eF9yZWYuY3VycmVudCA9IGN0eF9yZWYuY3VycmVudC5zdHg7XG4gICAgICBpbmplY3Rpb25faWRfcmVmLmN1cnJlbnQgPSBzdHhfcmVmLmN1cnJlbnQuYXBwZW5kKCdkcmF3JywgZHJhdyk7XG4gICAgICBkcmF3KCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpbmplY3Rpb25faWRfcmVmLmN1cnJlbnQpIHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBpbmplY3Rpb24gb24gdW5tb3VudFxuICAgICAgICBzdHhfcmVmLmN1cnJlbnQucmVtb3ZlSW5qZWN0aW9uKGluamVjdGlvbl9pZF9yZWYuY3VycmVudCk7XG4gICAgICAgIGN0eF9yZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgIHN0eF9yZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYXNfdW5tb3VudGVkX2JlZm9yZV9pbmplY3Rpb25fcmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtjb250ZXh0UHJvbWlzZV0pO1xuICByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChzaG91bGRSZWRyYXcpIHtcbiAgICAgIGNvbnRleHRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGN0eCkge1xuICAgICAgICBpZiAoaGFzX3VubW91bnRlZF9iZWZvcmVfaW5qZWN0aW9uX3JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY3R4X3JlZi5jdXJyZW50ID0gY3R4O1xuICAgICAgICBzdHhfcmVmLmN1cnJlbnQgPSBjdHhfcmVmLmN1cnJlbnQuc3R4O1xuICAgICAgICBpbmplY3Rpb25faWRfcmVmLmN1cnJlbnQgPSBzdHhfcmVmLmN1cnJlbnQuYXBwZW5kKCdkcmF3JywgZHJhdyk7XG4gICAgICAgIGRyYXcoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGRyYXcgPSBmdW5jdGlvbiBkcmF3KCkge1xuICAgIGlmICghY3R4X3JlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIF9wcm9wc19yZWYkY3VycmVudCA9IHByb3BzX3JlZi5jdXJyZW50LFxuICAgICAgICBfcHJvcHNfcmVmJGN1cnJlbnQkdGggPSBfcHJvcHNfcmVmJGN1cnJlbnQudGhyZXNob2xkLFxuICAgICAgICB0aHJlc2hvbGQgPSBfcHJvcHNfcmVmJGN1cnJlbnQkdGggPT09IHZvaWQgMCA/IDAgOiBfcHJvcHNfcmVmJGN1cnJlbnQkdGgsXG4gICAgICAgIGVwb2NoX2FycmF5ID0gX3Byb3BzX3JlZiRjdXJyZW50LmVwb2NoX2FycmF5LFxuICAgICAgICBkcmF3X2NhbGxiYWNrID0gX3Byb3BzX3JlZiRjdXJyZW50LmRyYXdfY2FsbGJhY2ssXG4gICAgICAgIF9wcm9wc19yZWYkY3VycmVudCRwciA9IF9wcm9wc19yZWYkY3VycmVudC5wcmljZV9hcnJheSxcbiAgICAgICAgcHJpY2VfYXJyYXkgPSBfcHJvcHNfcmVmJGN1cnJlbnQkcHIgPT09IHZvaWQgMCA/IFtdIDogX3Byb3BzX3JlZiRjdXJyZW50JHByO1xuXG4gICAgaWYgKCFsYXN0X2Vwb2NoX2FycmF5X3JlZi5jdXJyZW50IHx8IGxhc3RfZXBvY2hfYXJyYXlfcmVmLmN1cnJlbnQudG9TdHJpbmcoKSAhPT0gZXBvY2hfYXJyYXkudG9TdHJpbmcoKSkge1xuICAgICAgZGF0ZV9hcnJheV9yZWYuY3VycmVudCA9IGVwb2NoX2FycmF5Lm1hcChmdW5jdGlvbiAoZXBvY2gpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRlOiBDSVEuc3RyVG9EYXRlVGltZShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRVVENEYXRlXCJdKShlcG9jaCkpLFxuICAgICAgICAgIGVwb2NoOiBlcG9jaFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBsYXN0X2Vwb2NoX2FycmF5X3JlZi5jdXJyZW50ID0gZXBvY2hfYXJyYXk7XG4gICAgfVxuXG4gICAgdmFyIHN0eCA9IHN0eF9yZWYuY3VycmVudDtcbiAgICB2YXIgY2hhcnQgPSBzdHguY2hhcnQ7XG4gICAgdmFyIHNob3cgPSAhdGhyZXNob2xkIHx8IHN0eC5sYXlvdXQuY2FuZGxlV2lkdGggPj0gdGhyZXNob2xkO1xuXG4gICAgaWYgKHNob3cgJiYgY2hhcnQuZGF0YVNldCAmJiBjaGFydC5kYXRhU2V0Lmxlbmd0aCAmJiBzdHgubWFpblNlcmllc1JlbmRlcmVyKSB7XG4gICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICBkYXRlX2FycmF5X3JlZi5jdXJyZW50LmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBfcmVmLmRhdGUsXG4gICAgICAgICAgICBlcG9jaCA9IF9yZWYuZXBvY2g7XG4gICAgICAgIHZhciB0aWNrX2lkeCA9IHN0eC50aWNrRnJvbURhdGUoZGF0ZSwgY2hhcnQpOyAvLyBDaGFydElRIGRvZXNuJ3Qgc3VwcG9ydCBwbGFjaW5nIG1hcmtlcnMgaW4gdGhlIG1pZGRsZSBvZiB0aWNrcy5cblxuICAgICAgICB2YXIgYmFyID0gY2hhcnQuZGF0YVNldFt0aWNrX2lkeF07XG4gICAgICAgIHZhciBiYXJfbmV4dCA9IGNoYXJ0LmRhdGFTZXRbdGlja19pZHggKyAxXTtcbiAgICAgICAgdmFyIGJhcl9wcmV2ID0gdGlja19pZHggPiAwID8gY2hhcnQuZGF0YVNldFt0aWNrX2lkeCAtIDFdIDogbnVsbDtcbiAgICAgICAgdmFyIHggPSBzdHgucGl4ZWxGcm9tVGljayh0aWNrX2lkeCwgY2hhcnQpOyAvLyBsZXQgeCA9IHBpeGVsRnJvbVRpY2soc3R4LCB0aWNrX2lkeCk7XG5cbiAgICAgICAgdmFyIHByaWNlID0gYmFyID8gYmFyLkNsb3NlIDogbnVsbDsgLy8gY29uc3QgcHJpY2UgPSAoYmFyIHx8IGJhcl9wcmV2IHx8IGJhcl9uZXh0IHx8IHt9KS5DbG9zZTtcbiAgICAgICAgLy8gSGVyZSB3ZSBpbnRlcnBvbGF0ZSB0aGUgcGl4ZWwgZGlzdGFuY2UgYmV0d2VlbiB0d28gYWRqYWNlbnQgdGlja3MuXG5cbiAgICAgICAgaWYgKGJhciAmJiBiYXIuRFQgPCBkYXRlKSB7XG4gICAgICAgICAgaWYgKGJhcl9uZXh0ICYmIGJhcl9uZXh0LkNsb3NlICYmIGJhcl9uZXh0LkRUID4gZGF0ZSkge1xuICAgICAgICAgICAgdmFyIGRlbHRhX3ggPSBzdHgucGl4ZWxGcm9tVGljayh0aWNrX2lkeCArIDEsIGNoYXJ0KSAtIHg7IC8vIGNvbnN0IGRlbHRhX3ggPSBwaXhlbEZyb21UaWNrKHN0eCwgdGlja19pZHggKyAxKSAtIHg7XG5cbiAgICAgICAgICAgIHZhciBkZWx0YV95ID0gYmFyX25leHQuQ2xvc2UgLSBwcmljZTtcbiAgICAgICAgICAgIHZhciByYXRpbyA9IChkYXRlIC0gYmFyLkRUKSAvIChiYXJfbmV4dC5EVCAtIGJhci5EVCk7XG4gICAgICAgICAgICBwcmljZSArPSByYXRpbyAqIGRlbHRhX3k7XG4gICAgICAgICAgICB4ICs9IHJhdGlvICogZGVsdGFfeDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGJhcl9wcmV2ICYmIGJhcl9wcmV2LkNsb3NlKSB7XG4gICAgICAgICAgICB2YXIgX2RlbHRhX3ggPSB4IC0gc3R4LnBpeGVsRnJvbVRpY2sodGlja19pZHggLSAxLCBjaGFydCk7IC8vIGNvbnN0IGRlbHRhX3ggPSB4IC0gcGl4ZWxGcm9tVGljayhzdHgsIHRpY2tfaWR4IC0gMSk7XG5cblxuICAgICAgICAgICAgdmFyIF9kZWx0YV95ID0gcHJpY2UgLSBiYXJfcHJldi5DbG9zZTtcblxuICAgICAgICAgICAgdmFyIF9yYXRpbyA9IChkYXRlIC0gYmFyLkRUKSAvIChiYXIuRFQgLSBiYXJfcHJldi5EVCk7XG5cbiAgICAgICAgICAgIHggKz0gX3JhdGlvICogX2RlbHRhX3g7XG4gICAgICAgICAgICBwcmljZSArPSBfcmF0aW8gKiBfZGVsdGFfeTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeSA9IHByaWNlID8gc3R4LnBpeGVsRnJvbVByaWNlKHByaWNlLCBjaGFydC5wYW5lbCkgOiAwO1xuICAgICAgICB2YXIgdmlzaWJsZSA9IHggPj0gMCAmJiBjaGFydC55QXhpcy5sZWZ0ID4geCAmJiBjaGFydC55QXhpcy50b3AgPD0geSAmJiBjaGFydC55QXhpcy5ib3R0b20gPj0geTtcbiAgICAgICAgdmFyIHlBeGlzID0gY2hhcnQueUF4aXM7XG4gICAgICAgIHZhciB0b3AgPSBNYXRoLm1pbihNYXRoLm1heCgreSwgeUF4aXMudG9wKSwgeUF4aXMuYm90dG9tKTtcbiAgICAgICAgdmFyIGxlZnQgPSBNYXRoLm1pbihNYXRoLm1heCh4LCAwKSwgeUF4aXMubGVmdCk7XG4gICAgICAgIHZhciB6b29tID0gc3R4LmxheW91dC5jYW5kbGVXaWR0aDtcbiAgICAgICAgcG9pbnRzLnB1c2goe1xuICAgICAgICAgIGVwb2NoOiBlcG9jaCxcbiAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgem9vbTogem9vbSxcbiAgICAgICAgICBtYXhfbGVmdDogeUF4aXMubGVmdFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHByaWNlcyA9IHByaWNlX2FycmF5Lm1hcChmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgICAgcmV0dXJuIHN0eC5waXhlbEZyb21QcmljZShwcmljZSAqIDEsIGNoYXJ0LnBhbmVsKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGNhbnZhcyA9IHN0eC5jaGFydC5jb250ZXh0LmNhbnZhcztcblxuICAgICAgaWYgKGNhbnZhcy5zdHlsZS5oZWlnaHQuaW5kZXhPZihjYW52YXMuaGVpZ2h0KSA8IDApIHtcbiAgICAgICAgY2FudmFzX2hlaWdodF9yZWYuY3VycmVudCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGRyYXdfY2FsbGJhY2soe1xuICAgICAgICBjdHg6IHN0eC5jaGFydC5jb250ZXh0LFxuICAgICAgICBjYW52YXNfaGVpZ2h0OiBjYW52YXNfaGVpZ2h0X3JlZi5jdXJyZW50LFxuICAgICAgICBwb2ludHM6IHBvaW50cyxcbiAgICAgICAgcHJpY2VzOiBwcmljZXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGNoYXJ0ID0gX3JlZjIuY2hhcnQ7XG4gIHJldHVybiB7XG4gICAgY29udGV4dFByb21pc2U6IGNoYXJ0LmNvbnRleHRQcm9taXNlXG4gIH07XG59KShSYXdNYXJrZXIpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9SZW5kZXJJbnNpZGVDaGFydC5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9SZW5kZXJJbnNpZGVDaGFydC5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QtZG9tICovIFwicmVhY3QtZG9tXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdWlfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdWkvdXRpbHMgKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL3V0aWxzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cblxuXG5cblxudmFyIGluQ2hhcnRQcmVmaXggPSAnY3EtaW5jaGFydC0nOyAvLyBSZW5kZXIgZ2l2ZW4gQ29tcG9uZW50cyB1bmRlciBzdHgtaG9sZGVyIHRvIHBvc2l0aW9uIGl0IHJlbGF0aXZlIHRvIHRoZSBhY3RpdmUgc3ltYm9sIGNoYXJ0LlxuXG52YXIgUmVuZGVySW5zaWRlQ2hhcnQgPSBmdW5jdGlvbiBSZW5kZXJJbnNpZGVDaGFydChfcmVmKSB7XG4gIHZhciBfcmVmJGF0ID0gX3JlZi5hdCxcbiAgICAgIGF0ID0gX3JlZiRhdCA9PT0gdm9pZCAwID8gJ2hvbGRlcicgOiBfcmVmJGF0LFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgY29udGV4dFByb21pc2UgPSBfcmVmLmNvbnRleHRQcm9taXNlLFxuICAgICAgaXNDaGFydFJlYWR5ID0gX3JlZi5pc0NoYXJ0UmVhZHksXG4gICAgICBpc0NoYXJ0U2Nyb2xsaW5nVG9FcG9jaCA9IF9yZWYuaXNDaGFydFNjcm9sbGluZ1RvRXBvY2gsXG4gICAgICBoaWRlSW5TY3JvbGxUb0Vwb2NoID0gX3JlZi5oaWRlSW5TY3JvbGxUb0Vwb2NoO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VTdGF0ZSgpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICBjb250YWluZXIgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0Q29udGFpbmVyID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGNvbnRleHRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHZhciBub2RlTmFtZSA9IFwiXCIuY29uY2F0KGluQ2hhcnRQcmVmaXgpLmNvbmNhdChhdCk7IC8vIHJldXNlIGV4aXN0aW5nIG5vZGUgd2hlbiBwb3NzaWJsZTpcblxuICAgICAgdmFyIGVsZW0gPSBjb250ZXh0LnRvcE5vZGUucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQobm9kZU5hbWUpKTtcblxuICAgICAgaWYgKCFlbGVtKSB7XG4gICAgICAgIGVsZW0gPSBPYmplY3QoX3VpX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjcmVhdGVFbGVtZW50XCJdKShcIjxkaXYgY2xhc3M9XFxcIlwiLmNvbmNhdChub2RlTmFtZSwgXCJcXFwiPjwvZGl2PlwiKSk7XG4gICAgICAgIGNvbnRleHQuc3R4LmNoYXJ0LnBhbmVsW2F0XS5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgIH1cblxuICAgICAgc2V0Q29udGFpbmVyKGVsZW0pO1xuICAgIH0pO1xuICB9LCBbYXQsIGNvbnRleHRQcm9taXNlXSk7XG4gIGlmICghaXNDaGFydFJlYWR5KSByZXR1cm4gbnVsbDtcbiAgaWYgKGhpZGVJblNjcm9sbFRvRXBvY2ggJiYgaXNDaGFydFNjcm9sbGluZ1RvRXBvY2gpIHJldHVybiBudWxsO1xuXG4gIGlmIChjb250YWluZXIpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5jcmVhdGVQb3J0YWwoY2hpbGRyZW4sIGNvbnRhaW5lcik7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGNoYXJ0ID0gX3JlZjIuY2hhcnQsXG4gICAgICBzdGF0ZSA9IF9yZWYyLnN0YXRlO1xuICByZXR1cm4ge1xuICAgIGNvbnRleHRQcm9taXNlOiBjaGFydC5jb250ZXh0UHJvbWlzZSxcbiAgICBpc0NoYXJ0UmVhZHk6IHN0YXRlLmlzQ2hhcnRSZWFkeSxcbiAgICBpc0NoYXJ0U2Nyb2xsaW5nVG9FcG9jaDogc3RhdGUuaXNDaGFydFNjcm9sbGluZ1RvRXBvY2hcbiAgfTtcbn0pKFJlbmRlckluc2lkZUNoYXJ0KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvU2Nyb2xsLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9TY3JvbGwuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xhc3NuYW1lcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfc2Nyb2xsX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fc2Nyb2xsLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fc2Nyb2xsLnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19zY3JvbGxfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfc2Nyb2xsX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyk7XG5cblxuXG5cblxudmFyIFNjcm9sbCA9IGZ1bmN0aW9uIFNjcm9sbChfcmVmMikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmMi5jaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYyLmNsYXNzTmFtZSxcbiAgICAgIGhlaWdodCA9IF9yZWYyLmhlaWdodCxcbiAgICAgIHdpZHRoID0gX3JlZjIud2lkdGgsXG4gICAgICBzZXRTY3JvbGxQYW5lbCA9IF9yZWYyLnNldFNjcm9sbFBhbmVsLFxuICAgICAgaXNIb3ZlciA9IF9yZWYyLmlzSG92ZXIsXG4gICAgICBhdXRvSGlkZSA9IF9yZWYyLmF1dG9IaWRlLFxuICAgICAgX3JlZjIkZnJlZXplID0gX3JlZjIuZnJlZXplLFxuICAgICAgZnJlZXplID0gX3JlZjIkZnJlZXplID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyJGZyZWV6ZSxcbiAgICAgIF9yZWYyJG9uU2Nyb2xsID0gX3JlZjIub25TY3JvbGwsXG4gICAgICBvblNjcm9sbCA9IF9yZWYyJG9uU2Nyb2xsID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gOiBfcmVmMiRvblNjcm9sbCxcbiAgICAgIHNldFBhbmVsID0gX3JlZjIuc2V0UGFuZWw7XG5cbiAgdmFyIGhhbmRsZVJlZiA9IGZ1bmN0aW9uIGhhbmRsZVJlZihfcmVmKSB7XG4gICAgc2V0U2Nyb2xsUGFuZWwoX3JlZik7XG4gICAgaWYgKHNldFBhbmVsKSBzZXRQYW5lbChfcmVmKTtcbiAgfTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHJlZjogaGFuZGxlUmVmLFxuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgnc2Mtc2Nyb2xsYmFyJywgY2xhc3NOYW1lLCB7XG4gICAgICAnc2Mtc2Nyb2xsYmFyLS1mcmVlemUnOiBmcmVlemUsXG4gICAgICAnc2Mtc2Nyb2xsYmFyLS1hdXRvLWhpZGUnOiBhdXRvSGlkZSxcbiAgICAgICdzYy1zY3JvbGxiYXItLWhvdmVyJzogaXNIb3ZlclxuICAgIH0pLFxuICAgIG9uU2Nyb2xsOiBvblNjcm9sbCxcbiAgICBzdHlsZToge1xuICAgICAgbWF4SGVpZ2h0OiBoZWlnaHQgfHwgJzEwMCUnLFxuICAgICAgbWF4V2lkdGg6IHdpZHRoIHx8ICdub25lJ1xuICAgIH1cbiAgfSwgY2hpbGRyZW4pO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMykge1xuICB2YXIgcyA9IF9yZWYzLnNjcm9sbDtcbiAgcmV0dXJuIHtcbiAgICBzZXRTY3JvbGxQYW5lbDogcy5zZXRTY3JvbGxQYW5lbCxcbiAgICBpc0hvdmVyOiBzLmlzSG92ZXJcbiAgfTtcbn0pKFNjcm9sbCkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1NlYXJjaElucHV0LmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1NlYXJjaElucHV0LmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xhc3NuYW1lcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX3NlYXJjaF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX3NlYXJjaC5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX3NlYXJjaC5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfc2VhcmNoX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX3NlYXJjaF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18pO1xuXG5cblxuXG5cbnZhciBTZWFyY2hJbnB1dCA9IGZ1bmN0aW9uIFNlYXJjaElucHV0KF9yZWYpIHtcbiAgdmFyIHBsYWNlaG9sZGVyID0gX3JlZi5wbGFjZWhvbGRlcixcbiAgICAgIHZhbHVlID0gX3JlZi52YWx1ZSxcbiAgICAgIHNlYXJjaElucHV0ID0gX3JlZi5zZWFyY2hJbnB1dCxcbiAgICAgIHNlYXJjaElucHV0Q2xhc3NOYW1lID0gX3JlZi5zZWFyY2hJbnB1dENsYXNzTmFtZSxcbiAgICAgIF9vbkNoYW5nZSA9IF9yZWYub25DaGFuZ2U7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKCdzYy1zZWFyY2gtaW5wdXQnLCB7XG4gICAgICBhY3RpdmU6IHZhbHVlLnRyaW0oKSAhPT0gJydcbiAgICB9KVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICBjbGFzc05hbWU6IHNlYXJjaElucHV0Q2xhc3NOYW1lLFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICByZWY6IHNlYXJjaElucHV0LFxuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICByZXR1cm4gX29uQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9LFxuICAgIHR5cGU6IFwidGV4dFwiLFxuICAgIHNwZWxsQ2hlY2s6IFwib2ZmXCIsXG4gICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgIGF1dG9Db3JyZWN0OiBcIm9mZlwiLFxuICAgIGF1dG9DYXBpdGFsaXplOiBcIm9mZlwiLFxuICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlclxuICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiU2VhcmNoSWNvblwiXSwgbnVsbCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkNsb3NlQ2lyY2xlSWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJpY29uLXJlc2V0XCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBfb25DaGFuZ2UoJycpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChTZWFyY2hJbnB1dCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LXRhYnMgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC10YWJzL2VzbS9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF90YWJzX3N0eWxlX3JlYWN0X3RhYnNfY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdC10YWJzL3N0eWxlL3JlYWN0LXRhYnMuY3NzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtdGFicy9zdHlsZS9yZWFjdC10YWJzLmNzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF90YWJzX3N0eWxlX3JlYWN0X3RhYnNfY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfdGFic19zdHlsZV9yZWFjdF90YWJzX2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU2Nyb2xsX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TY3JvbGwuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TY3JvbGwuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Gb3JtLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvRm9ybS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX3NldHRpbmdzX2RpYWxvZ19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX3NldHRpbmdzLWRpYWxvZy5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX3NldHRpbmdzLWRpYWxvZy5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfc2V0dGluZ3NfZGlhbG9nX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX3NldHRpbmdzX2RpYWxvZ19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18pO1xuXG5cblxuXG5cblxuXG5cbnZhciBTZXR0aW5nc1BhbmVsSXRlbSA9IGZ1bmN0aW9uIFNldHRpbmdzUGFuZWxJdGVtKF9yZWYpIHtcbiAgdmFyIGdyb3VwID0gX3JlZi5ncm91cCxcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIHR5cGUgPSBfcmVmLnR5cGUsXG4gICAgICBGaWVsZCA9IF9yZWYuRmllbGQ7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRm9ybV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkZvcm1Hcm91cFwiXSwge1xuICAgIHRpdGxlOiB0eXBlID09PSAnc2VsZWN0JyB8fCB0eXBlID09PSAncGF0dGVybicgfHwgdHlwZSA9PT0gJ2NvbG9ycGlja2VyJyB8fCB0eXBlID09PSAnbnVtYmVyY29sb3JwaWNrZXInIHx8IGdyb3VwID09PSAnT3ZlckJvdWdodCcgfHwgZ3JvdXAgPT09ICdPdmVyU29sZCcgPyBudWxsIDogdGl0bGUsXG4gICAgdHlwZTogdHlwZVxuICB9LCBGaWVsZCk7XG59O1xuXG52YXIgU2V0dGluZ3NQYW5lbEdyb3VwID0gZnVuY3Rpb24gU2V0dGluZ3NQYW5lbEdyb3VwKF9yZWYyKSB7XG4gIHZhciB0aXRsZSA9IF9yZWYyLnRpdGxlLFxuICAgICAgaXRlbXMgPSBfcmVmMi5pdGVtcyxcbiAgICAgIHRoZW1lID0gX3JlZjIudGhlbWUsXG4gICAgICBvbkl0ZW1DaGFuZ2UgPSBfcmVmMi5vbkl0ZW1DaGFuZ2U7XG4gIHZhciByZW5kZXJNYXAgPSB7XG4gICAgXCJzd2l0Y2hcIjogZnVuY3Rpb24gX3N3aXRjaChpdGVtKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJTd2l0Y2hcIl0sIHtcbiAgICAgICAgdmFsdWU6IGl0ZW0udmFsdWUsXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2KSB7XG4gICAgICAgICAgcmV0dXJuIG9uSXRlbUNoYW5nZShpdGVtLmlkLCB2KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjb2xvcnBpY2tlcjogZnVuY3Rpb24gY29sb3JwaWNrZXIoaXRlbSkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiQ29sb3JQaWNrZXJcIl0sIHtcbiAgICAgICAgdGhlbWU6IHRoZW1lLFxuICAgICAgICBjb2xvcjogaXRlbS52YWx1ZSxcbiAgICAgICAgc3VidGl0bGU6IGl0ZW0uc3VidGl0bGUgfHwgaXRlbS50aXRsZSxcbiAgICAgICAgc2V0Q29sb3I6IGZ1bmN0aW9uIHNldENvbG9yKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSXRlbUNoYW5nZShpdGVtLmlkLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgcGF0dGVybjogZnVuY3Rpb24gcGF0dGVybihpdGVtKSB7XG4gICAgICB2YXIgbGluZVdpZHRoID0gaXRlbXMuZmluZChmdW5jdGlvbiAoaXQpIHtcbiAgICAgICAgcmV0dXJuIGl0LmlkID09PSAnbGluZVdpZHRoJztcbiAgICAgIH0pLnZhbHVlO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiUGF0dGVyblwiXSwge1xuICAgICAgICBwYXR0ZXJuOiBpdGVtLnZhbHVlLFxuICAgICAgICBsaW5lV2lkdGg6IGxpbmVXaWR0aCxcbiAgICAgICAgc3VidGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2KSB7XG4gICAgICAgICAgb25JdGVtQ2hhbmdlKCdwYXR0ZXJuJywgdi5wYXR0ZXJuKTtcbiAgICAgICAgICBvbkl0ZW1DaGFuZ2UoJ2xpbmVXaWR0aCcsIHYud2lkdGgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGl0ZW0pIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRm9ybV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkRyb3BEb3duXCJdLCB7XG4gICAgICAgIHJvd3M6IE9iamVjdC5rZXlzKGl0ZW0ub3B0aW9ucyksXG4gICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLFxuICAgICAgICBzdWJ0aXRsZTogaXRlbS5zdWJ0aXRsZSB8fCBpdGVtLnRpdGxlLFxuICAgICAgICBvblJvd0NsaWNrOiBmdW5jdGlvbiBvblJvd0NsaWNrKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSXRlbUNoYW5nZShpdGVtLmlkLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoaXRlbSkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiU2xpZGVyXCJdLCB7XG4gICAgICAgIG1pbjogaXRlbS5taW4gfHwgMSxcbiAgICAgICAgc3RlcDogaXRlbS5zdGVwIHx8IDEsXG4gICAgICAgIG1heDogaXRlbS5tYXggfHwgMTAwLFxuICAgICAgICB2YWx1ZTogaXRlbS52YWx1ZSxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHZhbCkge1xuICAgICAgICAgIHJldHVybiBvbkl0ZW1DaGFuZ2UoaXRlbS5pZCwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBudW1lcmljaW5wdXQ6IGZ1bmN0aW9uIG51bWVyaWNpbnB1dChpdGVtKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNpcS1udW0taW5wdXRcIlxuICAgICAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJOdW1lcmljSW5wdXRcIl0sIHtcbiAgICAgICAgdmFsdWU6IGl0ZW0udmFsdWUsXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2YWwpIHtcbiAgICAgICAgICByZXR1cm4gb25JdGVtQ2hhbmdlKGl0ZW0uaWQsIHZhbCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1pbjogaXRlbS5taW4sXG4gICAgICAgIHN0ZXA6IGl0ZW0uc3RlcCxcbiAgICAgICAgbWF4OiBpdGVtLm1heFxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgbnVtYmVyY29sb3JwaWNrZXI6IGZ1bmN0aW9uIG51bWJlcmNvbG9ycGlja2VyKGl0ZW0pIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRm9ybV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIk51bWJlckNvbG9yUGlja2VyXCJdLCB7XG4gICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLFxuICAgICAgICB0aGVtZTogdGhlbWUsXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2YWwpIHtcbiAgICAgICAgICByZXR1cm4gb25JdGVtQ2hhbmdlKGl0ZW0uaWQsIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZm9udDogZnVuY3Rpb24gZm9udChpdGVtKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJGb250U2V0dGluZ1wiXSwge1xuICAgICAgICB2YWx1ZTogaXRlbS52YWx1ZSxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHZhbCkge1xuICAgICAgICAgIHJldHVybiBvbkl0ZW1DaGFuZ2UoaXRlbS5pZCwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICB2YXIgaW5wdXRfZ3JvdXBfbmFtZSA9IFwiZm9ybV9faW5wdXQtZ3JvdXAtLVwiLmNvbmNhdCgodGl0bGUgfHwgJycpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnICcsICctJykpO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJmb3JtX19pbnB1dC1ncm91cCBcIi5jb25jYXQoaW5wdXRfZ3JvdXBfbmFtZSlcbiAgfSwgdGl0bGUgPT09ICdTaG93IFpvbmVzJyA/ICcnIDogLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJoNFwiLCBudWxsLCB0aXRsZSksIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiByZW5kZXJNYXBbaXRlbS50eXBlXSAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTZXR0aW5nc1BhbmVsSXRlbSwge1xuICAgICAga2V5OiBpdGVtLmlkLFxuICAgICAgdHlwZTogaXRlbS50eXBlLFxuICAgICAgYWN0aXZlOiBpdGVtLmFjdGl2ZSxcbiAgICAgIHRpdGxlOiB0aXRsZSA9PT0gJ1Nob3cgWm9uZXMnID8gaXRlbS50aXRsZSA6IGl0ZW0udGl0bGUucmVwbGFjZSh0aXRsZSwgJycpLFxuICAgICAgRmllbGQ6IHJlbmRlck1hcFtpdGVtLnR5cGVdKGl0ZW0pXG4gICAgfSk7XG4gIH0pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRm9ybV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkZvcm1Hcm91cFwiXSwge1xuICAgIHR5cGU6IFwiZW5kXCJcbiAgfSkpO1xufTtcblxudmFyIEZvb3RlciA9IGZ1bmN0aW9uIEZvb3RlcihfcmVmMykge1xuICB2YXIgb25EZWxldGUgPSBfcmVmMy5vbkRlbGV0ZSxcbiAgICAgIG9uUmVzZXQgPSBfcmVmMy5vblJlc2V0LFxuICAgICAgb25Eb25lID0gX3JlZjMub25Eb25lO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJidXR0b25zXCJcbiAgfSwgb25EZWxldGUgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiRGVsZXRlSWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1idG4tLWRlbGV0ZVwiLFxuICAgIG9uQ2xpY2s6IG9uRGVsZXRlXG4gIH0pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChSZXNldEJ1dHRvbiwge1xuICAgIG9uQ2xpY2s6IG9uUmVzZXRcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KERvbmVCdXR0b24sIHtcbiAgICBvbkNsaWNrOiBvbkRvbmVcbiAgfSkpKTtcbn07XG5cbnZhciBTZXR0aW5nc1BhbmVsID0gZnVuY3Rpb24gU2V0dGluZ3NQYW5lbChfcmVmNCkge1xuICB2YXIgaXRlbUdyb3VwcyA9IF9yZWY0Lml0ZW1Hcm91cHMsXG4gICAgICB0aGVtZSA9IF9yZWY0LnRoZW1lLFxuICAgICAgb25JdGVtQ2hhbmdlID0gX3JlZjQub25JdGVtQ2hhbmdlLFxuICAgICAgc2V0U2Nyb2xsUGFuZWwgPSBfcmVmNC5zZXRTY3JvbGxQYW5lbCxcbiAgICAgIGZyZWV6ZVNjcm9sbCA9IF9yZWY0LmZyZWV6ZVNjcm9sbCxcbiAgICAgIGZvcm1DbGFzc25hbWUgPSBfcmVmNC5mb3JtQ2xhc3NuYW1lO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJmb3JtIGZvcm0tLWluZGljYXRvci1zZXR0aW5nIFwiLmNvbmNhdChmb3JtQ2xhc3NuYW1lKVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfU2Nyb2xsX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwge1xuICAgIHNldFBhbmVsOiBzZXRTY3JvbGxQYW5lbCxcbiAgICBmcmVlemU6IGZyZWV6ZVNjcm9sbCxcbiAgICBhdXRvSGlkZTogdHJ1ZSxcbiAgICBoZWlnaHQ6IFwiMjgycHhcIlxuICB9LCBpdGVtR3JvdXBzLm1hcChmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICByZXR1cm4gZ3JvdXAuZmllbGRzLmxlbmd0aCA+IDAgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoU2V0dGluZ3NQYW5lbEdyb3VwLCB7XG4gICAgICBrZXk6IGdyb3VwLmtleSxcbiAgICAgIGdyb3VwOiBncm91cC5rZXksXG4gICAgICB0aXRsZTogZ3JvdXAua2V5LFxuICAgICAgaXRlbXM6IGdyb3VwLmZpZWxkcyxcbiAgICAgIHRoZW1lOiB0aGVtZSxcbiAgICAgIG9uSXRlbUNoYW5nZTogb25JdGVtQ2hhbmdlXG4gICAgfSk7XG4gIH0pKSk7XG59O1xuXG52YXIgUmVzZXRCdXR0b24gPSBmdW5jdGlvbiBSZXNldEJ1dHRvbihfcmVmNSkge1xuICB2YXIgb25DbGljayA9IF9yZWY1Lm9uQ2xpY2s7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwic2MtYnRuIHNjLWJ0bi0tb3V0bGluZS1zZWNvbmRhcnkgc2MtYnRuLS1yZXNldFwiLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2tcbiAgfSwgdC50cmFuc2xhdGUoJ1Jlc2V0JykpO1xufTtcblxudmFyIERvbmVCdXR0b24gPSBmdW5jdGlvbiBEb25lQnV0dG9uKF9yZWY2KSB7XG4gIHZhciBfb25DbGljayA9IF9yZWY2Lm9uQ2xpY2s7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwic2MtYnRuIHNjLWJ0bi0tcHJpbWFyeSBzYy1idG4tLXNhdmVcIixcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIF9vbkNsaWNrKCk7XG4gICAgfVxuICB9LCB0LnRyYW5zbGF0ZSgnRG9uZScpKTtcbn07XG5cbnZhciBTZXR0aW5nc0RpYWxvZyA9IGZ1bmN0aW9uIFNldHRpbmdzRGlhbG9nKF9yZWY3KSB7XG4gIHZhciBpdGVtR3JvdXBzID0gX3JlZjcuaXRlbUdyb3VwcyxcbiAgICAgIHRpdGxlID0gX3JlZjcudGl0bGUsXG4gICAgICBmb3JtQ2xhc3NuYW1lID0gX3JlZjcuZm9ybUNsYXNzbmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uID0gX3JlZjcuZGVzY3JpcHRpb24sXG4gICAgICBzaG93VGFicyA9IF9yZWY3LnNob3dUYWJzLFxuICAgICAgb25SZXNldENsaWNrID0gX3JlZjcub25SZXNldENsaWNrLFxuICAgICAgb25JdGVtQ2hhbmdlID0gX3JlZjcub25JdGVtQ2hhbmdlLFxuICAgICAgb25JdGVtRGVsZXRlID0gX3JlZjcub25JdGVtRGVsZXRlLFxuICAgICAgU2V0dGluZ0RpYWxvZ01lbnUgPSBfcmVmNy5TZXR0aW5nRGlhbG9nTWVudSxcbiAgICAgIHRoZW1lID0gX3JlZjcudGhlbWUsXG4gICAgICBjbG9zZSA9IF9yZWY3LmNsb3NlLFxuICAgICAgc2V0U2Nyb2xsUGFuZWwgPSBfcmVmNy5zZXRTY3JvbGxQYW5lbCxcbiAgICAgIGRpYWxvZ1BvcnRhbE5vZGVJZCA9IF9yZWY3LmRpYWxvZ1BvcnRhbE5vZGVJZCxcbiAgICAgIGZyZWV6ZVNjcm9sbCA9IF9yZWY3LmZyZWV6ZVNjcm9sbDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFNldHRpbmdEaWFsb2dNZW51LCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLW1vZGFsLS1zZXR0aW5nc1wiLFxuICAgIHRpdGxlOiB0aXRsZSxcbiAgICBtb2RhbE1vZGU6IHRydWUsXG4gICAgZW5hYmxlVGFidWxhcjogc2hvd1RhYnMsXG4gICAgZW1wdHlNZW51OiB0cnVlLFxuICAgIGVuYWJsZU92ZXJsYXk6IHRydWUgLy8gdGhpcyB0ZW1wcmFyeSwgd2UgcmVtb3ZlIGl0IHdoZW4gYWxsIG1lbnVzIGNvbnZlcnQgdG8gbW9kYWxcbiAgICAsXG4gICAgcG9ydGFsTm9kZUlkOiBkaWFsb2dQb3J0YWxOb2RlSWRcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoU2V0dGluZ0RpYWxvZ01lbnUuVGl0bGUsIG51bGwpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTZXR0aW5nRGlhbG9nTWVudS5Cb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWNoYXJ0LXNldHRpbmdzXCJcbiAgfSwgc2hvd1RhYnMgPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF90YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUYWJzXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcInRhYnMtLXZlcnRpY2FsXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfdGFic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVGFiTGlzdFwiXSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfdGFic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVGFiXCJdLCBudWxsLCBcIlNldHRpbmdzXCIpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF90YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUYWJcIl0sIG51bGwsIFwiRGVzY3JpcHRpb25cIikpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF90YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUYWJQYW5lbFwiXSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoU2V0dGluZ3NQYW5lbCwge1xuICAgIGl0ZW1Hcm91cHM6IGl0ZW1Hcm91cHMsXG4gICAgdGhlbWU6IHRoZW1lLFxuICAgIG9uSXRlbUNoYW5nZTogb25JdGVtQ2hhbmdlLFxuICAgIHNldFNjcm9sbFBhbmVsOiBzZXRTY3JvbGxQYW5lbCxcbiAgICBmcmVlemVTY3JvbGw6IGZyZWV6ZVNjcm9sbFxuICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRm9vdGVyLCB7XG4gICAgb25SZXNldDogb25SZXNldENsaWNrLFxuICAgIG9uRG9uZTogY2xvc2VcbiAgfSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF90YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUYWJQYW5lbFwiXSwgbnVsbCwgZGVzY3JpcHRpb24pKSA6IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTZXR0aW5nc1BhbmVsLCB7XG4gICAgaXRlbUdyb3VwczogaXRlbUdyb3VwcyxcbiAgICB0aGVtZTogdGhlbWUsXG4gICAgb25JdGVtQ2hhbmdlOiBvbkl0ZW1DaGFuZ2UsXG4gICAgc2V0U2Nyb2xsUGFuZWw6IHNldFNjcm9sbFBhbmVsLFxuICAgIGZyZWV6ZVNjcm9sbDogZnJlZXplU2Nyb2xsLFxuICAgIGZvcm1DbGFzc25hbWU6IGZvcm1DbGFzc25hbWVcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEZvb3Rlciwge1xuICAgIG9uRGVsZXRlOiBvbkl0ZW1EZWxldGUsXG4gICAgb25SZXNldDogb25SZXNldENsaWNrLFxuICAgIG9uRG9uZTogY2xvc2VcbiAgfSkpKSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChTZXR0aW5nc0RpYWxvZyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1NoYWRlLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1NoYWRlLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xhc3NuYW1lcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG5cblxuXG52YXIgU2hhZGUgPSBmdW5jdGlvbiBTaGFkZShfcmVmKSB7XG4gIHZhciB2aXNpYmxlID0gX3JlZi52aXNpYmxlLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBzZXRTaGFkZVJlZiA9IF9yZWYuc2V0U2hhZGVSZWY7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKCdzaGFkZScsIGNsYXNzTmFtZSwge1xuICAgICAgaGlkZGVuOiAhdmlzaWJsZVxuICAgIH0pLFxuICAgIHJlZjogc2V0U2hhZGVSZWYsXG4gICAgc3R5bGU6IHtcbiAgICAgIHRvcDogLTEyMFxuICAgIH1cbiAgfSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFNoYWRlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9TaGFyZS5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9TaGFyZS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xhc3NuYW1lcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0xvYWRlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vTG9hZGVyLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTG9hZGVyLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2Rvd25sb2FkX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fZG93bmxvYWQuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19kb3dubG9hZC5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfZG93bmxvYWRfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfZG93bmxvYWRfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fKTtcblxuXG5cblxuXG5cblxudmFyIFNoYXJlID0gZnVuY3Rpb24gU2hhcmUoX3JlZikge1xuICB2YXIgRGlhbG9nID0gX3JlZi5EaWFsb2csXG4gICAgICBtZW51T3BlbiA9IF9yZWYubWVudU9wZW4sXG4gICAgICBkb3dubG9hZENTViA9IF9yZWYuZG93bmxvYWRDU1YsXG4gICAgICBkb3dubG9hZFBORyA9IF9yZWYuZG93bmxvYWRQTkcsXG4gICAgICBpc0xvYWRpbmdQTkcgPSBfcmVmLmlzTG9hZGluZ1BORyxcbiAgICAgIHBvcnRhbE5vZGVJZCA9IF9yZWYucG9ydGFsTm9kZUlkO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRGlhbG9nLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWRvd25sb2FkLW1lbnVcIixcbiAgICB0aXRsZTogdC50cmFuc2xhdGUoJ0Rvd25sb2FkJyksXG4gICAgdG9vbHRpcDogdC50cmFuc2xhdGUoJ0Rvd25sb2FkJyksXG4gICAgbW9kYWxNb2RlOiB0cnVlLFxuICAgIGlzRnVsbHNjcmVlbjogdHJ1ZSxcbiAgICBwb3J0YWxOb2RlSWQ6IHBvcnRhbE5vZGVJZFxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChEaWFsb2cuVGl0bGUsIG51bGwsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0KCkoJ3NjLWRvd25sb2FkX19tZW51Jywge1xuICAgICAgJ3NjLWRvd25sb2FkX19tZW51LS1hY3RpdmUnOiBtZW51T3BlblxuICAgIH0pXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkRvd25sb2FkSWNvblwiXSwgbnVsbCkpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRGlhbG9nLkJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtZG93bmxvYWRcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfTG9hZGVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiSW5saW5lTG9hZGVyXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWRvd25sb2FkX19pdGVtXCIsXG4gICAgb25DbGljazogZG93bmxvYWRQTkcsXG4gICAgZW5hYmxlZDogaXNMb2FkaW5nUE5HXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIlBuZ0ljb25cIl0sIG51bGwpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1kb3dubG9hZF9faXRlbV9fbGFiZWxcIlxuICB9LCBcIiBcIiwgdC50cmFuc2xhdGUoJ1BORycpLCBcIiBcIikpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWRvd25sb2FkX19pdGVtXCIsXG4gICAgb25DbGljazogZG93bmxvYWRDU1ZcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiQ3N2SWNvblwiXSwgbnVsbCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWRvd25sb2FkX19pdGVtX19sYWJlbFwiXG4gIH0sIFwiIFwiLCB0LnRyYW5zbGF0ZSgnQ1NWJykpKSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGQgPSBfcmVmMi5zaGFyZTtcbiAgcmV0dXJuIHtcbiAgICBEaWFsb2c6IGQuRGlhbG9nLFxuICAgIG1lbnVPcGVuOiBkLm1lbnUuZGlhbG9nLm9wZW4sXG4gICAgZG93bmxvYWRQTkc6IGQuZG93bmxvYWRQTkcsXG4gICAgZG93bmxvYWRDU1Y6IGQuZG93bmxvYWRDU1YsXG4gICAgaXNMb2FkaW5nUE5HOiBkLmlzTG9hZGluZ1BOR1xuICB9O1xufSkoU2hhcmUpKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvU21hcnRDaGFydC5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1NtYXJ0Q2hhcnQuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYngtcmVhY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4LXJlYWN0L2luZGV4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlICovIFwiLi9zcmMvc3RvcmUvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NoYXJ0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9DaGFydC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0LmpzeFwiKTtcbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cblxuXG5cblxuXG52YXIgU21hcnRDaGFydCA9IGZ1bmN0aW9uIFNtYXJ0Q2hhcnQoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1wiY2hpbGRyZW5cIl0pO1xuXG4gIHZhciBzdG9yZSA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLnVzZVJlZigpO1xuXG4gIGlmICghc3RvcmUuY3VycmVudCkge1xuICAgIHN0b3JlLmN1cnJlbnQgPSBuZXcgX3N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKCk7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQobW9ieF9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiUHJvdmlkZXJcIl0sIHN0b3JlLmN1cnJlbnQsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9DaGFydF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHByb3BzLCBjaGlsZHJlbikpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChTbWFydENoYXJ0KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9TdHVkeUxlZ2VuZC5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9TdHVkeUxlZ2VuZC5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfdGFic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QtdGFicyAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRhYnMvZXNtL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Ob3RpZmljYXRpb25CYWRnZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vTm90aWZpY2F0aW9uQmFkZ2UuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9Ob3RpZmljYXRpb25CYWRnZS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1Rvb2x0aXBfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1Rvb2x0aXAuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9Ub29sdGlwLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU2Nyb2xsX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TY3JvbGwuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TY3JvbGwuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfc3R1ZHlsZWdlbmRfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19zdHVkeWxlZ2VuZC5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX3N0dWR5bGVnZW5kLnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19zdHVkeWxlZ2VuZF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19zdHVkeWxlZ2VuZF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18pO1xuXG5cblxuXG5cblxuXG5cblxudmFyIFN0dWR5SWNvbiA9IGZ1bmN0aW9uIFN0dWR5SWNvbihfcmVmKSB7XG4gIHZhciBJY29uID0gX3JlZi5JY29uLFxuICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoSWNvbiwgcHJvcHMpO1xufTtcblxudmFyIEVtcHR5VmlldyA9IGZ1bmN0aW9uIEVtcHR5VmlldygpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2Mtc3R1ZGllcy0tZW1wdHlcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJFbXB0eVN0YXRlSWNvblwiXSwgbnVsbCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCB0LnRyYW5zbGF0ZSgnWW91IGhhdmUgbm8gYWN0aXZlIGluZGljYXRvcnMgeWV0LicpKSk7XG59O1xuXG52YXIgTm9SZXN1bHRWaWV3ID0gZnVuY3Rpb24gTm9SZXN1bHRWaWV3KF9yZWYyKSB7XG4gIHZhciB0ZXh0ID0gX3JlZjIudGV4dDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2Mtc3R1ZGllcy0tZW1wdHlcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCB0LnRyYW5zbGF0ZSgnTm8gcmVzdWx0cyBmb3InKSwgXCIgXFx1MjAxQ1wiLCB0ZXh0LCBcIlxcdTIwMURcIiksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCB0LnRyYW5zbGF0ZSgnVHJ5IGNoZWNraW5nIHlvdXIgc3BlbGxpbmcgb3IgdXNlIGEgZGlmZmVyZW50IHRlcm0nKSkpO1xufTtcblxudmFyIEluZGljYXRvckxpc3QgPSBmdW5jdGlvbiBJbmRpY2F0b3JMaXN0KF9yZWYzKSB7XG4gIHZhciBpdGVtcyA9IF9yZWYzLml0ZW1zLFxuICAgICAgb25TZWxlY3RJdGVtID0gX3JlZjMub25TZWxlY3RJdGVtLFxuICAgICAgb25EZWxldGVJdGVtID0gX3JlZjMub25EZWxldGVJdGVtLFxuICAgICAgb25FZGl0SXRlbSA9IF9yZWYzLm9uRWRpdEl0ZW0sXG4gICAgICBvbkluZm9JdGVtID0gX3JlZjMub25JbmZvSXRlbSxcbiAgICAgIGRpc2FibGVBbGwgPSBfcmVmMy5kaXNhYmxlQWxsO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1zdHVkaWVzX19saXN0XCJcbiAgfSwgaXRlbXMubWFwKGZ1bmN0aW9uIChJdGVtKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Ub29sdGlwX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwge1xuICAgICAga2V5OiBcIml0ZW0tLVwiLmNvbmNhdChJdGVtLmlkKSxcbiAgICAgIGNsYXNzTmFtZTogXCJzYy1zdHVkaWVzX19saXN0X19pdGVtIFwiLmNvbmNhdChkaXNhYmxlQWxsICYmICdzYy1zdHVkaWVzX19saXN0X19pdGVtLS1kaXNhYmxlZCcpLFxuICAgICAgZW5hYmxlZDogISEoKG9uRWRpdEl0ZW0gfHwgb25EZWxldGVJdGVtKSAmJiBJdGVtLmJhcnMgJiYgSXRlbS5iYXJzLmxlbmd0aCA+IDMwKSxcbiAgICAgIGNvbnRlbnQ6IFwiXCIuY29uY2F0KEl0ZW0ubmFtZSwgXCIgXCIpLmNvbmNhdChJdGVtLmJhcnMgPyBcIihcIi5jb25jYXQoSXRlbS5iYXJzLCBcIilcIikgOiAnJylcbiAgICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiaW5mb1wiLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIG9uU2VsZWN0SXRlbSA/IG9uU2VsZWN0SXRlbShJdGVtLmlkKSA6IG51bGw7XG4gICAgICB9XG4gICAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoU3R1ZHlJY29uLCB7XG4gICAgICBJY29uOiBJdGVtLmljb25cbiAgICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInRleHRcIlxuICAgIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBJdGVtLm5hbWUpLCBJdGVtLmJhcnMgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzbWFsbFwiLCBudWxsLCBcIihcIiwgSXRlbS5iYXJzLCBcIilcIikpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImRldGFpbFwiXG4gICAgfSwgb25JbmZvSXRlbSAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJJbmZvQ2lyY2xlSWNvblwiXSwge1xuICAgICAgY2xhc3NOYW1lOiBcImljLWluZm9cIixcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIHJldHVybiBvbkluZm9JdGVtKEl0ZW0pO1xuICAgICAgfVxuICAgIH0pLCBvbkVkaXRJdGVtICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcIlNldHRpbmdJY29uXCJdLCB7XG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICByZXR1cm4gb25FZGl0SXRlbShJdGVtLmRhdGFPYmplY3QpO1xuICAgICAgfVxuICAgIH0pLCBvbkRlbGV0ZUl0ZW0gJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiRGVsZXRlSWNvblwiXSwge1xuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIG9uRGVsZXRlSXRlbShJdGVtLmRhdGFPYmplY3Quc2QpO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH0pKTtcbn07XG5cbnZhciBUYWJ1bGFyRGlzcGxheVNlYXJjaFBhbmVsID0gZnVuY3Rpb24gVGFidWxhckRpc3BsYXlTZWFyY2hQYW5lbChfcmVmNCkge1xuICB2YXIgY2F0ZWdvcmllcyA9IF9yZWY0LmNhdGVnb3JpZXMsXG4gICAgICBvblNlbGVjdEl0ZW0gPSBfcmVmNC5vblNlbGVjdEl0ZW0sXG4gICAgICBvbkluZm9JdGVtID0gX3JlZjQub25JbmZvSXRlbSxcbiAgICAgIGRpc2FibGVBbGwgPSBfcmVmNC5kaXNhYmxlQWxsO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1Njcm9sbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBhdXRvSGlkZTogdHJ1ZVxuICB9LCBjYXRlZ29yaWVzLm1hcChmdW5jdGlvbiAoQ2F0ZWdvcnkpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAga2V5OiBDYXRlZ29yeS5pZCxcbiAgICAgIGNsYXNzTmFtZTogXCJzYy1zdHVkaWVzX19jYXRlZ29yeVwiXG4gICAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInNjLXN0dWRpZXNfX2NhdGVnb3J5X19oZWFkXCJcbiAgICB9LCBDYXRlZ29yeS5uYW1lKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInNjLXN0dWRpZXNfX2NhdGVnb3J5X19ib2R5XCJcbiAgICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChJbmRpY2F0b3JMaXN0LCB7XG4gICAgICBpdGVtczogQ2F0ZWdvcnkuZm91bmRJdGVtcyxcbiAgICAgIG9uU2VsZWN0SXRlbTogb25TZWxlY3RJdGVtLFxuICAgICAgb25JbmZvSXRlbTogb25JbmZvSXRlbSxcbiAgICAgIGRpc2FibGVBbGw6IGRpc2FibGVBbGxcbiAgICB9KSkpO1xuICB9KSk7XG59O1xuXG52YXIgVGFidWxhckRpc3BsYXlBY3RpdmVQYW5lbCA9IGZ1bmN0aW9uIFRhYnVsYXJEaXNwbGF5QWN0aXZlUGFuZWwoX3JlZjUpIHtcbiAgdmFyIGl0ZW1zID0gX3JlZjUuaXRlbXMsXG4gICAgICBvbkRlbGV0ZUl0ZW0gPSBfcmVmNS5vbkRlbGV0ZUl0ZW0sXG4gICAgICBvbkVkaXRJdGVtID0gX3JlZjUub25FZGl0SXRlbSxcbiAgICAgIGNsZWFyQWxsID0gX3JlZjUuY2xlYXJBbGwsXG4gICAgICBpc01vYmlsZSA9IF9yZWY1LmlzTW9iaWxlO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2Mtc3R1ZGllc19fcGFuZWxfX2hlYWRcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgaXNNb2JpbGUgPyB0LnRyYW5zbGF0ZSgnVXAgdG8gMiBhY3RpdmUgaW5kaWNhdG9ycyBhbGxvd2VkLicpIDogdC50cmFuc2xhdGUoJ1VwIHRvIDUgYWN0aXZlIGluZGljYXRvcnMgYWxsb3dlZC4nKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogXCJzYy1idG4gc2MtYnRuLS1zbSBzYy1idG4tLW91dGxpbmUtc2Vjb25kYXJ5XCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBjbGVhckFsbCgpO1xuICAgIH1cbiAgfSwgdC50cmFuc2xhdGUoJ0NsZWFyIGFsbCcpKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2Mtc3R1ZGllc19fcGFuZWxfX2NvbnRlbnQgc2Mtc3R1ZGllc19fcGFuZWxfX2NvbnRlbnQtLWFjdGl2ZVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEluZGljYXRvckxpc3QsIHtcbiAgICBpdGVtczogaXRlbXMsXG4gICAgb25EZWxldGVJdGVtOiBvbkRlbGV0ZUl0ZW0sXG4gICAgb25FZGl0SXRlbTogb25FZGl0SXRlbVxuICB9KSkpO1xufTtcblxudmFyIFRhYnVsYXJEaXNwbGF5ID0gZnVuY3Rpb24gVGFidWxhckRpc3BsYXkoX3JlZjYpIHtcbiAgdmFyIG9uU2VsZWN0VGFiID0gX3JlZjYub25TZWxlY3RUYWIsXG4gICAgICBzZWxlY3RlZFRhYiA9IF9yZWY2LnNlbGVjdGVkVGFiLFxuICAgICAgY2F0ZWdvcmllcyA9IF9yZWY2LmNhdGVnb3JpZXMsXG4gICAgICBzZWFyY2hlZENhdGVnb3JpZXMgPSBfcmVmNi5zZWFyY2hlZENhdGVnb3JpZXMsXG4gICAgICBvblNlbGVjdEl0ZW0gPSBfcmVmNi5vblNlbGVjdEl0ZW0sXG4gICAgICBvbkRlbGV0ZUl0ZW0gPSBfcmVmNi5vbkRlbGV0ZUl0ZW0sXG4gICAgICBvbkVkaXRJdGVtID0gX3JlZjYub25FZGl0SXRlbSxcbiAgICAgIG9uSW5mb0l0ZW0gPSBfcmVmNi5vbkluZm9JdGVtLFxuICAgICAgYWN0aXZlSXRlbXMgPSBfcmVmNi5hY3RpdmVJdGVtcyxcbiAgICAgIGNsZWFyQWxsID0gX3JlZjYuY2xlYXJBbGwsXG4gICAgICBzZWFyY2hRdWVyeSA9IF9yZWY2LnNlYXJjaFF1ZXJ5LFxuICAgICAgaXNNb2JpbGUgPSBfcmVmNi5pc01vYmlsZSxcbiAgICAgIG1heEFsbG93ZWRJdGVtID0gX3JlZjYubWF4QWxsb3dlZEl0ZW07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF90YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUYWJzXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcInRhYnMtLXZlcnRpY2FsXCIsXG4gICAgc2VsZWN0ZWRJbmRleDogc2VsZWN0ZWRUYWIsXG4gICAgb25TZWxlY3Q6IG9uU2VsZWN0VGFiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYkxpc3RcIl0sIG51bGwsIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYlwiXSwge1xuICAgIGtleTogXCJoaWRkZW5cIixcbiAgICBjbGFzc05hbWU6IFwiaGlkZGVuXCJcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYlwiXSwge1xuICAgIGtleTogXCJhY3RpdmVcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJBY3RpdmVJY29uXCJdLCBudWxsKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIHQudHJhbnNsYXRlKCdBY3RpdmUnKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Ob3RpZmljYXRpb25CYWRnZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBub3RpZmljYXRpb25Db3VudDogYWN0aXZlSXRlbXMubGVuZ3RoXG4gIH0pKSwgY2F0ZWdvcmllcy5tYXAoZnVuY3Rpb24gKENhdGVnb3J5KSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYlwiXSwge1xuICAgICAga2V5OiBcInRhYi0tXCIuY29uY2F0KENhdGVnb3J5LmlkKVxuICAgIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFN0dWR5SWNvbiwge1xuICAgICAgSWNvbjogQ2F0ZWdvcnkuaWNvblxuICAgIH0pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgQ2F0ZWdvcnkubmFtZSkpO1xuICB9KSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYlBhbmVsXCJdLCB7XG4gICAga2V5OiBcInBhbmVsLS1zZWFyY2hcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLXN0dWRpZXNfX3BhbmVsXCJcbiAgfSwgc2VhcmNoZWRDYXRlZ29yaWVzLmxlbmd0aCA/IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFRhYnVsYXJEaXNwbGF5U2VhcmNoUGFuZWwsIHtcbiAgICBjYXRlZ29yaWVzOiBzZWFyY2hlZENhdGVnb3JpZXMsXG4gICAgb25TZWxlY3RJdGVtOiBvblNlbGVjdEl0ZW0sXG4gICAgb25JbmZvSXRlbTogb25JbmZvSXRlbSxcbiAgICBkaXNhYmxlQWxsOiBhY3RpdmVJdGVtcy5sZW5ndGggPT09IChpc01vYmlsZSA/IDIgOiA1KVxuICB9KSA6IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KE5vUmVzdWx0Vmlldywge1xuICAgIHRleHQ6IHNlYXJjaFF1ZXJ5XG4gIH0pKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYlBhbmVsXCJdLCB7XG4gICAga2V5OiBcInBhbmVsLS1hY3RpdmVcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLXN0dWRpZXNfX3BhbmVsIHNjLXN0dWRpZXNfX3BhbmVsLS1hY3RpdmVcIlxuICB9LCBhY3RpdmVJdGVtcy5sZW5ndGggPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChUYWJ1bGFyRGlzcGxheUFjdGl2ZVBhbmVsLCB7XG4gICAgY2xlYXJBbGw6IGNsZWFyQWxsLFxuICAgIGl0ZW1zOiBhY3RpdmVJdGVtcyxcbiAgICBvbkRlbGV0ZUl0ZW06IG9uRGVsZXRlSXRlbSxcbiAgICBvbkVkaXRJdGVtOiBvbkVkaXRJdGVtLFxuICAgIGlzTW9iaWxlOiBpc01vYmlsZVxuICB9KSA6IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEVtcHR5VmlldywgbnVsbCkpKSwgY2F0ZWdvcmllcy5tYXAoZnVuY3Rpb24gKENhdGVnb3J5KSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRhYlBhbmVsXCJdLCB7XG4gICAgICBrZXk6IFwicGFuZWwtLVwiLmNvbmNhdChDYXRlZ29yeS5pZClcbiAgICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwic2Mtc3R1ZGllc19fcGFuZWxcIlxuICAgIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgQ2F0ZWdvcnkubmFtZSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEluZGljYXRvckxpc3QsIHtcbiAgICAgIG9uU2VsZWN0SXRlbTogb25TZWxlY3RJdGVtLFxuICAgICAgb25JbmZvSXRlbTogb25JbmZvSXRlbSxcbiAgICAgIGl0ZW1zOiBDYXRlZ29yeS5pdGVtcyxcbiAgICAgIGRpc2FibGVBbGw6IGFjdGl2ZUl0ZW1zLmxlbmd0aCA9PT0gbWF4QWxsb3dlZEl0ZW1cbiAgICB9KSkpO1xuICB9KSk7XG59O1xuXG52YXIgU3R1ZHlMZWdlbmQgPSBmdW5jdGlvbiBTdHVkeUxlZ2VuZChfcmVmNykge1xuICB2YXIgaXNPcGVuZWQgPSBfcmVmNy5pc09wZW5lZCxcbiAgICAgIHNldE9wZW4gPSBfcmVmNy5zZXRPcGVuLFxuICAgICAgU3R1ZHlNZW51ID0gX3JlZjcuU3R1ZHlNZW51LFxuICAgICAgbWVudU9wZW4gPSBfcmVmNy5tZW51T3BlbixcbiAgICAgIGlzTW9iaWxlID0gX3JlZjcuaXNNb2JpbGUsXG4gICAgICBhY3RpdmVTdHVkaWVzTm8gPSBfcmVmNy5hY3RpdmVTdHVkaWVzTm8sXG4gICAgICBpdGVtcyA9IF9yZWY3Lml0ZW1zLFxuICAgICAgc2VhcmNoZWRJdGVtcyA9IF9yZWY3LnNlYXJjaGVkSXRlbXMsXG4gICAgICBTZWFyY2hJbnB1dCA9IF9yZWY3LlNlYXJjaElucHV0LFxuICAgICAgc2VhcmNoUXVlcnkgPSBfcmVmNy5zZWFyY2hRdWVyeSxcbiAgICAgIHNlbGVjdGVkVGFiID0gX3JlZjcuc2VsZWN0ZWRUYWIsXG4gICAgICBvblNlbGVjdFRhYiA9IF9yZWY3Lm9uU2VsZWN0VGFiLFxuICAgICAgb25TZWxlY3RJdGVtID0gX3JlZjcub25TZWxlY3RJdGVtLFxuICAgICAgb25JbmZvSXRlbSA9IF9yZWY3Lm9uSW5mb0l0ZW0sXG4gICAgICBhY3RpdmVJdGVtcyA9IF9yZWY3LmFjdGl2ZUl0ZW1zLFxuICAgICAgZGVsZXRlQWxsID0gX3JlZjcuZGVsZXRlQWxsLFxuICAgICAgZGVsZXRlU3R1ZHkgPSBfcmVmNy5kZWxldGVTdHVkeSxcbiAgICAgIGVkaXRTdHVkeSA9IF9yZWY3LmVkaXRTdHVkeSxcbiAgICAgIGluZm9JdGVtID0gX3JlZjcuaW5mb0l0ZW0sXG4gICAgICBwb3J0YWxOb2RlSWQgPSBfcmVmNy5wb3J0YWxOb2RlSWQsXG4gICAgICB1cGRhdGVQb3J0YWxOb2RlID0gX3JlZjcudXBkYXRlUG9ydGFsTm9kZSxcbiAgICAgIG1heEFsbG93ZWRJdGVtID0gX3JlZjcubWF4QWxsb3dlZEl0ZW07XG4gIHVwZGF0ZVBvcnRhbE5vZGUocG9ydGFsTm9kZUlkKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFN0dWR5TWVudSwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1zdHVkaWVzXCIsXG4gICAgaXNPcGVuZWQ6IGlzT3BlbmVkLFxuICAgIHNldE9wZW46IHNldE9wZW4sXG4gICAgaXNNb2JpbGU6IGlzTW9iaWxlLFxuICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnSW5kaWNhdG9ycycpLFxuICAgIHRvb2x0aXA6IHQudHJhbnNsYXRlKCdJbmRpY2F0b3JzJyksXG4gICAgbW9kYWxNb2RlOiB0cnVlLFxuICAgIGVuYWJsZVRhYnVsYXI6IHRydWUsXG4gICAgcG9ydGFsTm9kZUlkOiBwb3J0YWxOb2RlSWQsXG4gICAgY3VzdG9tSGVhZDogaW5mb0l0ZW0gPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwic2MtZGlhbG9nX19oZWFkLS1pbmZvXCJcbiAgICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJCYWNrSWNvblwiXSwge1xuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIG9uSW5mb0l0ZW0obnVsbCk7XG4gICAgICB9XG4gICAgfSksIGluZm9JdGVtLm5hbWUpIDogLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInNjLWRpYWxvZ19faGVhZC0tc2VhcmNoXCJcbiAgICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTZWFyY2hJbnB1dCwgbnVsbCkpXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFN0dWR5TWVudS5UaXRsZSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1zdHVkaWVzX19tZW51IFwiLmNvbmNhdChtZW51T3BlbiA/ICdzYy1zdHVkaWVzX19tZW51LS1hY3RpdmUnIDogJycpXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcIkluZGljYXRvckljb25cIl0sIG51bGwpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfTm90aWZpY2F0aW9uQmFkZ2VfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgbm90aWZpY2F0aW9uQ291bnQ6IGFjdGl2ZVN0dWRpZXNOb1xuICB9KSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTdHVkeU1lbnUuQm9keSwgbnVsbCwgaW5mb0l0ZW0gJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1zdHVkaWVzX19pbmZvXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1Njcm9sbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBhdXRvSGlkZTogdHJ1ZSxcbiAgICBoZWlnaHQ6IFwiMzYwcHhcIixcbiAgICBjbGFzc05hbWU6IFwic3R1ZGllc19faW5mb19fY29udGVudFwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBpbmZvSXRlbS5kZXNjcmlwdGlvbikpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwic2MtYnRuIHNjLWJ0bi0tcHJpbWFyeSBzYy1idG4tLXcxMDBcIixcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uU2VsZWN0SXRlbShpbmZvSXRlbS5pZCk7XG4gICAgfVxuICB9LCB0LnRyYW5zbGF0ZSgnQWRkJykpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoVGFidWxhckRpc3BsYXksIHtcbiAgICBvblNlbGVjdFRhYjogb25TZWxlY3RUYWIsXG4gICAgc2VsZWN0ZWRUYWI6IHNlbGVjdGVkVGFiLFxuICAgIGNhdGVnb3JpZXM6IGl0ZW1zLFxuICAgIHNlYXJjaGVkQ2F0ZWdvcmllczogc2VhcmNoZWRJdGVtcyxcbiAgICBvblNlbGVjdEl0ZW06IG9uU2VsZWN0SXRlbSxcbiAgICBvbkRlbGV0ZUl0ZW06IGRlbGV0ZVN0dWR5LFxuICAgIG9uRWRpdEl0ZW06IGVkaXRTdHVkeSxcbiAgICBvbkluZm9JdGVtOiBvbkluZm9JdGVtLFxuICAgIGFjdGl2ZUl0ZW1zOiBhY3RpdmVJdGVtcyxcbiAgICBjbGVhckFsbDogZGVsZXRlQWxsLFxuICAgIHNlYXJjaFF1ZXJ5OiBzZWFyY2hRdWVyeSxcbiAgICBpc01vYmlsZTogaXNNb2JpbGUsXG4gICAgbWF4QWxsb3dlZEl0ZW06IG1heEFsbG93ZWRJdGVtXG4gIH0pKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWY4KSB7XG4gIHZhciBzdCA9IF9yZWY4LnN0dWRpZXMsXG4gICAgICBjaGFydCA9IF9yZWY4LmNoYXJ0O1xuICByZXR1cm4ge1xuICAgIGlzT3BlbmVkOiBzdC5vcGVuLFxuICAgIHNldE9wZW46IHN0LnNldE9wZW4sXG4gICAgU3R1ZHlNZW51OiBzdC5TdHVkeU1lbnUsXG4gICAgbWVudU9wZW46IHN0Lm1lbnUub3BlbixcbiAgICBpc01vYmlsZTogY2hhcnQuaXNNb2JpbGUsXG4gICAgYWN0aXZlU3R1ZGllc05vOiBzdC5hY3RpdmVJdGVtcy5sZW5ndGgsXG4gICAgZGVsZXRlQWxsOiBzdC5kZWxldGVBbGxTdHVkaWVzLFxuICAgIGl0ZW1zOiBzdC5pdGVtcyxcbiAgICBzZWFyY2hlZEl0ZW1zOiBzdC5zZWFyY2hlZEl0ZW1zLFxuICAgIFNlYXJjaElucHV0OiBzdC5TZWFyY2hJbnB1dCxcbiAgICBzZWFyY2hRdWVyeTogc3QuZmlsdGVyVGV4dCxcbiAgICBzZWxlY3RlZFRhYjogc3Quc2VsZWN0ZWRUYWIsXG4gICAgb25TZWxlY3RUYWI6IHN0Lm9uU2VsZWN0VGFiLFxuICAgIG9uU2VsZWN0SXRlbTogc3Qub25TZWxlY3RJdGVtLFxuICAgIGFjdGl2ZUl0ZW1zOiBzdC5hY3RpdmVJdGVtcyxcbiAgICBkZWxldGVTdHVkeTogc3QuZGVsZXRlU3R1ZHksXG4gICAgZWRpdFN0dWR5OiBzdC5lZGl0U3R1ZHksXG4gICAgb25JbmZvSXRlbTogc3Qub25JbmZvSXRlbSxcbiAgICBpbmZvSXRlbTogc3QuaW5mb0l0ZW0sXG4gICAgdXBkYXRlUG9ydGFsTm9kZTogc3QudXBkYXRlUG9ydGFsTm9kZSxcbiAgICBtYXhBbGxvd2VkSXRlbTogc3QubWF4QWxsb3dlZEl0ZW1cbiAgfTtcbn0pKFN0dWR5TGVnZW5kKSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1N5bWJvbFNlbGVjdEJ1dHRvbi5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvU3ltYm9sU2VsZWN0QnV0dG9uLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogU3ltYm9sSW5mbywgU3ltYm9sU2VsZWN0QnV0dG9uLCBDaGFydFByaWNlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiU3ltYm9sSW5mb1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFN5bWJvbEluZm87IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlN5bWJvbFNlbGVjdEJ1dHRvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFN5bWJvbFNlbGVjdEJ1dHRvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ2hhcnRQcmljZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENoYXJ0UHJpY2U7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xhc3NuYW1lcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWFya2V0T3BlbmluZ1RpbWVDb3VudGVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9NYXJrZXRPcGVuaW5nVGltZUNvdW50ZXIuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9NYXJrZXRPcGVuaW5nVGltZUNvdW50ZXIuanN4XCIpO1xuXG5cblxuXG52YXIgU3ltYm9sSW5mbyA9IGZ1bmN0aW9uIFN5bWJvbEluZm8oX3JlZikge1xuICB2YXIgc3ltYm9sID0gX3JlZi5zeW1ib2wsXG4gICAgICBDaGFydFByaWNlID0gX3JlZi5DaGFydFByaWNlLFxuICAgICAgaXNTeW1ib2xPcGVuID0gX3JlZi5pc1N5bWJvbE9wZW4sXG4gICAgICBzeW1ib2xPcGVuVGltZSA9IF9yZWYuc3ltYm9sT3BlblRpbWU7XG4gIHZhciBTeW1ib2xJY29uID0gX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiSXRlbUljb25NYXBcIl1bc3ltYm9sLnN5bWJvbF0gfHwgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiU3ltYm9sUGxhY2Vob2xkZXJJY29uXCJdO1xuICB2YXIgaGFzT3BlblRpbWUgPSAhaXNTeW1ib2xPcGVuICYmIHN5bWJvbE9wZW5UaW1lLm9wZW5UaW1lO1xuICB2YXIgaGFzTm9PcGVuVGltZSA9ICFpc1N5bWJvbE9wZW4gJiYgIXN5bWJvbE9wZW5UaW1lLm9wZW5UaW1lO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuRnJhZ21lbnQsIG51bGwsIFN5bWJvbEljb24gJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoU3ltYm9sSWNvbiwge1xuICAgIGNsYXNzTmFtZTogXCJpYy1cIi5jb25jYXQoc3ltYm9sLnN5bWJvbClcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3Etc3ltYm9sLWluZm9cIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKCdjcS1zeW1ib2wnLCB7XG4gICAgICAnY2xvc2VkLW5vLW9wZW50aW1lJzogaGFzTm9PcGVuVGltZVxuICAgIH0pXG4gIH0sIHN5bWJvbC5uYW1lKSwgaXNTeW1ib2xPcGVuICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENoYXJ0UHJpY2UsIG51bGwpLCBoYXNPcGVuVGltZSAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDbG9zZWRTeW1ib2wsIHtcbiAgICBzeW1ib2xPcGVuVGltZTogc3ltYm9sT3BlblRpbWVcbiAgfSkpKTtcbn07XG52YXIgU3ltYm9sU2VsZWN0QnV0dG9uID0gZnVuY3Rpb24gU3ltYm9sU2VsZWN0QnV0dG9uKF9yZWYyKSB7XG4gIHZhciBzeW1ib2wgPSBfcmVmMi5zeW1ib2wsXG4gICAgICBDaGFydFByaWNlID0gX3JlZjIuQ2hhcnRQcmljZSxcbiAgICAgIGlzU3ltYm9sT3BlbiA9IF9yZWYyLmlzU3ltYm9sT3BlbixcbiAgICAgIHN5bWJvbE9wZW5UaW1lID0gX3JlZjIuc3ltYm9sT3BlblRpbWU7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLXN5bWJvbC1zZWxlY3QtYnRuXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoU3ltYm9sSW5mbywge1xuICAgIHN5bWJvbDogc3ltYm9sLFxuICAgIENoYXJ0UHJpY2U6IENoYXJ0UHJpY2UsXG4gICAgc3ltYm9sT3BlblRpbWU6IHN5bWJvbE9wZW5UaW1lLFxuICAgIGlzU3ltYm9sT3BlbjogaXNTeW1ib2xPcGVuXG4gIH0pLCAhaXNTeW1ib2xPcGVuICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3Etc3ltYm9sLWNsb3NlZC10ZXh0XCJcbiAgfSwgdC50cmFuc2xhdGUoJ0NMT1NFRCcpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiQXJyb3dJY29uXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLXN5bWJvbC1kcm9wZG93blwiXG4gIH0pKTtcbn07XG52YXIgQ2hhcnRQcmljZSA9IGZ1bmN0aW9uIENoYXJ0UHJpY2UoX3JlZjMpIHtcbiAgdmFyIGlzVmlzaWJsZSA9IF9yZWYzLmlzVmlzaWJsZSxcbiAgICAgIHN0YXR1cyA9IF9yZWYzLnN0YXR1cyxcbiAgICAgIHRvZGF5Q2hhbmdlID0gX3JlZjMudG9kYXlDaGFuZ2UsXG4gICAgICB0b2RheUNoYW5nZVBlcmNlbnQgPSBfcmVmMy50b2RheUNoYW5nZVBlcmNlbnQsXG4gICAgICBTcG90UHJpY2UgPSBfcmVmMy5TcG90UHJpY2U7XG4gIHJldHVybiBpc1Zpc2libGUgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jaGFydC1wcmljZVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFNwb3RQcmljZSwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jdXJyZW50LXByaWNlXCJcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiZGl2aWRlclwiXG4gIH0sIFwiLVwiKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgnY3EtY2hhbmdlJywgc3RhdHVzKVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS10b2RheXMtY2hhbmdlXCJcbiAgfSwgdG9kYXlDaGFuZ2UgfHwgMCksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLXRvZGF5cy1jaGFuZ2UtcGVyY2VudFwiXG4gIH0sIFwiKFwiLCB0b2RheUNoYW5nZVBlcmNlbnQsIFwiJSlcIiksIFwiXFx4QTBcIikpO1xufTtcblxudmFyIENsb3NlZFN5bWJvbCA9IGZ1bmN0aW9uIENsb3NlZFN5bWJvbChzeW1ib2xPcGVuVGltZSkge1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jaGFydC1jbG9zZWRcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJUaW1lSWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jbG9zZWQtaWNvblwiXG4gIH0pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWNsb3NlZC1vcGVuaW5nXCJcbiAgfSwgdC50cmFuc2xhdGUoJ09wZW5zIGluOicpLCBcIiBcXHhBMFwiLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jbG9zZWQtb3BlbmluZy10aW1lXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX01hcmtldE9wZW5pbmdUaW1lQ291bnRlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIk1hcmtldE9wZW5pbmdUaW1lQ291bnRlclwiXSwge1xuICAgIHN5bWJvbE9wZW5UaW1lOiBzeW1ib2xPcGVuVGltZVxuICB9KSkpKTtcbn07XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1RpbWVwZXJpb2QuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9UaW1lcGVyaW9kLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNsYXNzbmFtZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVG9vbHRpcF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVG9vbHRpcC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1Rvb2x0aXAuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Mb2FkZXJfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0xvYWRlci5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0xvYWRlci5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NvbnN0YW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9Db25zdGFudCAqLyBcIi4vc3JjL0NvbnN0YW50LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfdGltZXBlcmlvZF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX3RpbWVwZXJpb2Quc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL190aW1lcGVyaW9kLnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c190aW1lcGVyaW9kX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX3RpbWVwZXJpb2Rfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fKTtcbi8qIGVzbGludC1kaXNhYmxlIGpzeC1hMTF5L25vLXN0YXRpYy1lbGVtZW50LWludGVyYWN0aW9ucyAqL1xuXG5cblxuXG5cblxuXG5cbnZhciBUaW1lcGVyaW9kID0gZnVuY3Rpb24gVGltZXBlcmlvZChfcmVmKSB7XG4gIHZhciBjaGFydElkID0gX3JlZi5jaGFydElkLFxuICAgICAgaW50ZXJ2YWwgPSBfcmVmLmludGVydmFsLFxuICAgICAgdGltZVVuaXQgPSBfcmVmLnRpbWVVbml0LFxuICAgICAgaXNNb2JpbGUgPSBfcmVmLmlzTW9iaWxlLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmLm9uQ2hhbmdlLFxuICAgICAgdXBkYXRlUHJvcHMgPSBfcmVmLnVwZGF0ZVByb3BzLFxuICAgICAgbmV3RGVzaWduID0gX3JlZi5uZXdEZXNpZ24sXG4gICAgICBjaGFydFR5cGUgPSBfcmVmLmNoYXJ0VHlwZSxcbiAgICAgIGlzTG9hZGluZyA9IF9yZWYuaXNMb2FkaW5nLFxuICAgICAgc2V0UHJlcGFyaW5nSW50ZXJ2YWwgPSBfcmVmLnNldFByZXBhcmluZ0ludGVydmFsLFxuICAgICAgcHJlcGFyaW5nSW50ZXJ2YWwgPSBfcmVmLnByZXBhcmluZ0ludGVydmFsO1xuXG4gIHZhciBvbkdyYW51bGFyaXR5Q2xpY2sgPSBmdW5jdGlvbiBvbkdyYW51bGFyaXR5Q2xpY2soZ3JhbnVsYXJpdHkpIHtcbiAgICBvbkNoYW5nZShncmFudWxhcml0eSwgY2hhcnRJZCk7XG4gIH07XG5cbiAgdmFyIG9uSW50ZXJ2YWxDbGljayA9IGZ1bmN0aW9uIG9uSW50ZXJ2YWxDbGljayhjaGFydFR5cGVJZCwga2V5LCBpbnZhbCkge1xuICAgIGlmIChrZXkgPT09ICd0aWNrJyAmJiBjaGFydFR5cGVJZCAhPT0gJ21vdW50YWluJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFByZXBhcmluZ0ludGVydmFsKGludmFsKTtcbiAgICBvbkdyYW51bGFyaXR5Q2xpY2soaW52YWwpO1xuICB9O1xuXG4gIHZhciBlbmFibGVUb29sdGlwID0gZnVuY3Rpb24gZW5hYmxlVG9vbHRpcChrZXkpIHtcbiAgICByZXR1cm4gY2hhcnRUeXBlLmlkICE9PSAnbW91bnRhaW4nICYmICFpc01vYmlsZSAmJiBrZXkgPT09ICd0aWNrJztcbiAgfTtcblxuICB2YXIgZW5hYmxlTG9hZGVyID0gZnVuY3Rpb24gZW5hYmxlTG9hZGVyKGludmFsKSB7XG4gICAgcmV0dXJuIGlzTG9hZGluZyAmJiBpbnZhbCA9PT0gcHJlcGFyaW5nSW50ZXJ2YWw7XG4gIH07XG5cbiAgdmFyIEl0ZW1DbGFzc05hbWUgPSBmdW5jdGlvbiBJdGVtQ2xhc3NOYW1lKHVuaXQsIHRpbWUpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gJ3NjLWludGVydmFsX19pdGVtJztcblxuICAgIGlmICh0aW1lVW5pdCA9PT0gdW5pdCAmJiAoKHVuaXQgPT09ICdtaW51dGUnIHx8IHVuaXQgPT09ICd0aWNrJykgJiYgdGltZSA9PT0gaW50ZXJ2YWwgfHwgdW5pdCA9PT0gJ2hvdXInICYmIHRpbWUgPT09IGludGVydmFsIC8gNjAgfHwgdW5pdCA9PT0gJ2RheScgJiYgdGltZSA9PT0gMSkpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnIHNjLWludGVydmFsX19pdGVtLS1hY3RpdmUnO1xuICAgIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3RpY2snICYmIGNoYXJ0VHlwZS5pZCAhPT0gJ21vdW50YWluJykge1xuICAgICAgY2xhc3NOYW1lICs9ICcgc2MtaW50ZXJ2YWxfX2l0ZW0tLWRpc2FibGVkJztcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NOYW1lO1xuICB9O1xuXG4gIE9iamVjdChyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1widXNlRWZmZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVByb3BzKG9uQ2hhbmdlKTtcbiAgfSk7XG5cbiAgaWYgKG5ld0Rlc2lnbikge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwic2MtaW50ZXJ2YWxcIlxuICAgIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJzYy1pbnRlcnZhbF9faGVhZFwiXG4gICAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzdHJvbmdcIiwgbnVsbCwgdC50cmFuc2xhdGUoJ1RpbWUgaW50ZXJ2YWwnKSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwic2MtaW50ZXJ2YWxfX2luZm9cIlxuICAgIH0sIHQudHJhbnNsYXRlKCdUaWNrIGludGVydmFsIG9ubHkgYXZhaWxhYmxlIGZvciBcIkFyZWFcIiBDaGFydCB0eXBlLicpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInNjLWludGVydmFsX19jb250ZW50XCJcbiAgICB9LCBfQ29uc3RhbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkludGVydmFsc1wiXS5tYXAoZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gY2F0ZWdvcnkuaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfVG9vbHRpcF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgICBrZXk6IGl0ZW0uaW50ZXJ2YWwsXG4gICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgIHJldHVybiBvbkludGVydmFsQ2xpY2soY2hhcnRUeXBlLmlkLCBjYXRlZ29yeS5rZXksIGl0ZW0uaW50ZXJ2YWwpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKEl0ZW1DbGFzc05hbWUoY2F0ZWdvcnkua2V5LCBpdGVtLm51bSksIHtcbiAgICAgICAgICAgICdwcmUtbG9hZGluZyc6IGVuYWJsZUxvYWRlcihpdGVtLmludGVydmFsKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGVuYWJsZWQ6IGVuYWJsZVRvb2x0aXAoY2F0ZWdvcnkua2V5KSxcbiAgICAgICAgICBjb250ZW50OiB0LnRyYW5zbGF0ZSgnQXZhaWxhYmxlIG9ubHkgZm9yIFwiQXJlYVwiIGNoYXJ0IHR5cGUuJylcbiAgICAgICAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0xvYWRlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIklubGluZUxvYWRlclwiXSwge1xuICAgICAgICAgIGVuYWJsZWQ6IGVuYWJsZUxvYWRlcihpdGVtLmludGVydmFsKVxuICAgICAgICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgaXRlbS5udW0sIFwiIFwiLCB0LnRyYW5zbGF0ZShpdGVtLm51bSA9PT0gMSA/IGNhdGVnb3J5LnNpbmdsZSA6IGNhdGVnb3J5LnBsdXJhbCkpKSk7XG4gICAgICB9KTtcbiAgICB9KSkpO1xuICB9XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBzID0gX3JlZjIudGltZXBlcmlvZCxcbiAgICAgIGNoYXJ0ID0gX3JlZjIuY2hhcnQsXG4gICAgICBjaGFydFR5cGUgPSBfcmVmMi5jaGFydFR5cGUsXG4gICAgICBsb2FkZXIgPSBfcmVmMi5sb2FkZXI7XG4gIHJldHVybiB7XG4gICAgY2hhcnRJZDogY2hhcnQuY2hhcnRJZCxcbiAgICB0aW1lVW5pdDogcy50aW1lVW5pdCxcbiAgICBpbnRlcnZhbDogcy5pbnRlcnZhbCxcbiAgICBpc01vYmlsZTogcy5tYWluU3RvcmUuY2hhcnQuaXNNb2JpbGUsXG4gICAgb25DaGFuZ2U6IHMuc2V0R3JhbnVsYXJpdHksXG4gICAgdXBkYXRlUHJvcHM6IHMudXBkYXRlUHJvcHMsXG4gICAgY2hhcnRUeXBlOiBjaGFydFR5cGUudHlwZSxcbiAgICBpc0xvYWRpbmc6IGxvYWRlci5pc0FjdGl2ZSxcbiAgICBwcmVwYXJpbmdJbnRlcnZhbDogcy5wcmVwYXJpbmdJbnRlcnZhbCxcbiAgICBzZXRQcmVwYXJpbmdJbnRlcnZhbDogcy5zZXRQcmVwYXJpbmdJbnRlcnZhbFxuICB9O1xufSkoVGltZXBlcmlvZCkpO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9Ub29sYmFyV2lkZ2V0LmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvVG9vbGJhcldpZGdldC5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xhc3NuYW1lcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfdG9vbGJhcl93aWRnZXRfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL190b29sYmFyLXdpZGdldC5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX3Rvb2xiYXItd2lkZ2V0LnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c190b29sYmFyX3dpZGdldF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c190b29sYmFyX3dpZGdldF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18pO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLyogZXNsaW50LWRpc2FibGUganN4LWExMXkvbm8tc3RhdGljLWVsZW1lbnQtaW50ZXJhY3Rpb25zICovXG5cblxuXG5cblxudmFyIFRvb2xiYXJXaWRnZXQgPSBmdW5jdGlvbiBUb29sYmFyV2lkZ2V0KF9yZWYpIHtcbiAgdmFyIF9yZWYkcG9zaXRpb24gPSBfcmVmLnBvc2l0aW9uLFxuICAgICAgcG9zaXRpb24gPSBfcmVmJHBvc2l0aW9uID09PSB2b2lkIDAgPyAndG9wJyA6IF9yZWYkcG9zaXRpb24sXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBjb250ZXh0ID0gX3JlZi5jb250ZXh0LFxuICAgICAgb25Nb3VzZUVudGVyID0gX3JlZi5vbk1vdXNlRW50ZXIsXG4gICAgICBvbk1vdXNlTGVhdmUgPSBfcmVmLm9uTW91c2VMZWF2ZTtcbiAgaWYgKCFjb250ZXh0KSByZXR1cm4gJyc7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKCdzYy10b29sYmFyLXdpZGdldCcsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgXCJzYy10b29sYmFyLXdpZGdldC0tXCIuY29uY2F0KHBvc2l0aW9uKSwgISFwb3NpdGlvbikpLFxuICAgIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyLFxuICAgIG9uTW91c2VMZWF2ZTogb25Nb3VzZUxlYXZlXG4gIH0sIGNoaWxkcmVuKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGNoYXJ0ID0gX3JlZjIuY2hhcnQsXG4gICAgICB0b29sYmFyV2lkZ2V0ID0gX3JlZjIudG9vbGJhcldpZGdldDtcbiAgcmV0dXJuIHtcbiAgICBjb250ZXh0OiBjaGFydC5jb250ZXh0LFxuICAgIG9uTW91c2VFbnRlcjogdG9vbGJhcldpZGdldC5vbk1vdXNlRW50ZXIsXG4gICAgb25Nb3VzZUxlYXZlOiB0b29sYmFyV2lkZ2V0Lm9uTW91c2VMZWF2ZVxuICB9O1xufSkoVG9vbGJhcldpZGdldCkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1Rvb2x0aXAuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9Ub29sdGlwLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjbGFzc25hbWVzICovIFwiLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cblxuXG5cbnZhciBUb29sdGlwID0gZnVuY3Rpb24gVG9vbHRpcChfcmVmKSB7XG4gIHZhciBfY2xhc3NOYW1lcztcblxuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgX3JlZiRlbmFibGVkID0gX3JlZi5lbmFibGVkLFxuICAgICAgZW5hYmxlZCA9IF9yZWYkZW5hYmxlZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGVuYWJsZWQsXG4gICAgICBjb250ZW50ID0gX3JlZi5jb250ZW50LFxuICAgICAgX3JlZiRwb3NpdGlvbiA9IF9yZWYucG9zaXRpb24sXG4gICAgICBwb3NpdGlvbiA9IF9yZWYkcG9zaXRpb24gPT09IHZvaWQgMCA/ICd0b3AnIDogX3JlZiRwb3NpdGlvbixcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwiZW5hYmxlZFwiLCBcImNvbnRlbnRcIiwgXCJwb3NpdGlvblwiXSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0KCkoJ3NjLXRvb2x0aXAnLCBjbGFzc05hbWUsIChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIFwic2MtdG9vbHRpcC0tXCIuY29uY2F0KHBvc2l0aW9uKSwgISFwb3NpdGlvbiksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgJ3NjLXRvb2x0aXAtLWVuYWJsZScsIGVuYWJsZWQpLCBfY2xhc3NOYW1lcykpXG4gIH0sIHByb3BzKSwgY2hpbGRyZW4sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtdG9vbHRpcF9faW5uZXJcIlxuICB9LCBjb250ZW50KSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFRvb2x0aXApO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZpZXdzLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZpZXdzLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjbGFzc25hbWVzICovIFwiLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjbGFzc25hbWVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1Rvb2x0aXBfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1Rvb2x0aXAuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9Ub29sdGlwLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU2Nyb2xsX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TY3JvbGwuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TY3JvbGwuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfdmlld19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX3ZpZXcuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL192aWV3LnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c192aWV3X3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX3ZpZXdfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fKTtcblxuXG5cblxuXG5cblxuXG5cbnZhciBWaWV3SXRlbSA9IGZ1bmN0aW9uIFZpZXdJdGVtKF9yZWYpIHtcbiAgdmFyIHZpZXcgPSBfcmVmLnZpZXcsXG4gICAgICByZW1vdmUgPSBfcmVmLnJlbW92ZSxcbiAgICAgIG9uQ2xpY2sgPSBfcmVmLm9uQ2xpY2s7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfVG9vbHRpcF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBjbGFzc05hbWU6IFwic2Mtdmlld3NfX3ZpZXdzX19saXN0X19pdGVtXCIsXG4gICAgb25DbGljazogb25DbGljayxcbiAgICBlbmFibGVkOiB2aWV3Lm5hbWUubGVuZ3RoID4gMjcsXG4gICAgY29udGVudDogT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wid3JhcFRleHRcIl0pKHZpZXcubmFtZSwgMjYpXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidGV4dFwiXG4gIH0sIHZpZXcubmFtZSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcIkRlbGV0ZUljb25cIl0sIHtcbiAgICBvbkNsaWNrOiByZW1vdmVcbiAgfSkpO1xufTtcblxudmFyIEVtcHR5VmlldyA9IGZ1bmN0aW9uIEVtcHR5VmlldyhfcmVmMikge1xuICB2YXIgb25DbGljayA9IF9yZWYyLm9uQ2xpY2s7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLXZpZXdzLS1lbXB0eVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcIkVtcHR5U3RhdGVJY29uXCJdLCBudWxsKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIHQudHJhbnNsYXRlKCdZb3UgaGF2ZSBubyBzYXZlZCB0ZW1wbGF0ZXMgeWV0LicpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgY2xhc3NOYW1lOiBcInNjLWJ0blwiLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2tcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiQWRkSWNvblwiXSwgbnVsbCksIHQudHJhbnNsYXRlKCdBZGQgbmV3IHRlbXBsYXRlJykpKTtcbn07XG5cbnZhciBPdmVyd3JpdGVWaWV3ID0gZnVuY3Rpb24gT3ZlcndyaXRlVmlldyhfcmVmMykge1xuICB2YXIgdGVtcGxhdGVOYW1lID0gX3JlZjMudGVtcGxhdGVOYW1lLFxuICAgICAgb25DYW5jZWwgPSBfcmVmMy5vbkNhbmNlbCxcbiAgICAgIG9uT3ZlcndyaXRlID0gX3JlZjMub25PdmVyd3JpdGU7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLXZpZXdzLS1vdmVyd3JpdGVcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLXZpZXdzLS1vdmVyd3JpdGVfX2NvbnRlbnRcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJPdmVyd3JpdGVTdGF0ZUljb25cIl0sIG51bGwpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXCJcIi5jb25jYXQodGVtcGxhdGVOYW1lLCBcIiBcIikuY29uY2F0KHQudHJhbnNsYXRlKCdhbHJlYWR5IGV4aXN0cy4nKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksIHQudHJhbnNsYXRlKCdXb3VsZCB5b3UgbGlrZSB0byBvdmVyd3JpdGUgaXQ/JykpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy12aWV3cy0tb3ZlcndyaXRlX19mb290ZXJcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwic2MtYnRuIHNjLWJ0bi0tb3V0bGluZS1zZWNvbmRhcnlcIixcbiAgICBvbkNsaWNrOiBvbkNhbmNlbFxuICB9LCB0LnRyYW5zbGF0ZSgnQ2FuY2VsJykpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwic2MtYnRuIHNjLWJ0bi0tcHJpbWFyeVwiLFxuICAgIG9uQ2xpY2s6IG9uT3ZlcndyaXRlXG4gIH0sIHQudHJhbnNsYXRlKCdPdmVyd3JpdGUnKSkpKTtcbn07XG5cbnZhciBBY3RpdmVMaXN0VmlldyA9IGZ1bmN0aW9uIEFjdGl2ZUxpc3RWaWV3KF9yZWY0KSB7XG4gIHZhciB2aWV3cyA9IF9yZWY0LnZpZXdzLFxuICAgICAgcmVtb3ZlQWxsID0gX3JlZjQucmVtb3ZlQWxsLFxuICAgICAgYXBwbHlMYXlvdXQgPSBfcmVmNC5hcHBseUxheW91dCxcbiAgICAgIF9yZW1vdmUgPSBfcmVmNC5yZW1vdmU7XG4gIGlmICghdmlld3MubGVuZ3RoKSByZXR1cm4gJyc7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLXZpZXdzX192aWV3c1wiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2Mtdmlld3NfX3ZpZXdzX19oZWFkXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJoNVwiLCBudWxsLCB0LnRyYW5zbGF0ZSgnU2F2ZWQgdGVtcGxhdGVzJykpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiByZW1vdmVBbGwsXG4gICAgY2xhc3NOYW1lOiBcInNjLWJ0biBzYy1idG4tLXNtIHNjLWJ0bi0tb3V0bGluZS1zZWNvbmRhcnlcIlxuICB9LCB0LnRyYW5zbGF0ZSgnQ2xlYXIgYWxsJykpKSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy12aWV3c19fdmlld3NfX2NvbnRlbnRcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLXZpZXdzX192aWV3c19fbGlzdFwiXG4gIH0sIHZpZXdzLm1hcChmdW5jdGlvbiAodmlldywgaSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChWaWV3SXRlbSwge1xuICAgICAgdmlldzogdmlldyxcbiAgICAgIGtleTogdmlldy5uYW1lLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgIHJldHVybiBhcHBseUxheW91dChpLCBlKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShlKSB7XG4gICAgICAgIHJldHVybiBfcmVtb3ZlKGksIGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KSkpKTtcbn07XG5cbnZhciBWaWV3cyA9IGZ1bmN0aW9uIFZpZXdzKF9yZWY1KSB7XG4gIHZhciBWaWV3c01lbnUgPSBfcmVmNS5WaWV3c01lbnUsXG4gICAgICBtZW51T3BlbiA9IF9yZWY1Lm1lbnVPcGVuLFxuICAgICAgdmlld3MgPSBfcmVmNS52aWV3cyxcbiAgICAgIGN1cnJlbnRSb3V0ZSA9IF9yZWY1LmN1cnJlbnRSb3V0ZSxcbiAgICAgIG9uVG9nZ2xlTmV3ID0gX3JlZjUub25Ub2dnbGVOZXcsXG4gICAgICBfcmVmNSRyb3V0ZXMgPSBfcmVmNS5yb3V0ZXMsXG4gICAgICBtYWluID0gX3JlZjUkcm91dGVzLm1haW4sXG4gICAgICBvdmVyd3JpdGUgPSBfcmVmNSRyb3V0ZXMub3ZlcndyaXRlLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmNS5vbkNoYW5nZSxcbiAgICAgIG9uU3VibWl0ID0gX3JlZjUub25TdWJtaXQsXG4gICAgICBhcHBseUxheW91dCA9IF9yZWY1LmFwcGx5TGF5b3V0LFxuICAgICAgcmVtb3ZlID0gX3JlZjUucmVtb3ZlLFxuICAgICAgaW5wdXRSZWYgPSBfcmVmNS5pbnB1dFJlZixcbiAgICAgIHNhdmVWaWV3cyA9IF9yZWY1LnNhdmVWaWV3cyxcbiAgICAgIHRlbXBsYXRlTmFtZSA9IF9yZWY1LnRlbXBsYXRlTmFtZSxcbiAgICAgIHJlbW92ZUFsbCA9IF9yZWY1LnJlbW92ZUFsbCxcbiAgICAgIGlzSW5wdXRBY3RpdmUgPSBfcmVmNS5pc0lucHV0QWN0aXZlLFxuICAgICAgb25Gb2N1cyA9IF9yZWY1Lm9uRm9jdXMsXG4gICAgICBvbkJsdXIgPSBfcmVmNS5vbkJsdXIsXG4gICAgICBwb3J0YWxOb2RlSWQgPSBfcmVmNS5wb3J0YWxOb2RlSWQ7XG4gIHZhciBpc0FjdGl2ZSA9IGlzSW5wdXRBY3RpdmUgfHwgdGVtcGxhdGVOYW1lICE9PSAnJztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFZpZXdzTWVudSwge1xuICAgIGNsYXNzTmFtZTogXCJzYy12aWV3cy1tZW51XCIsXG4gICAgdGl0bGU6IHQudHJhbnNsYXRlKCdUZW1wbGF0ZXMnKSxcbiAgICB0b29sdGlwOiB0LnRyYW5zbGF0ZSgnVGVtcGxhdGVzJyksXG4gICAgbW9kYWxNb2RlOiB0cnVlLFxuICAgIHBvcnRhbE5vZGVJZDogcG9ydGFsTm9kZUlkXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFZpZXdzTWVudS5UaXRsZSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgnc2Mtdmlld3NfX21lbnUnLCB7XG4gICAgICAnc2Mtdmlld3NfX21lbnUtLWFjdGl2ZSc6IG1lbnVPcGVuXG4gICAgfSlcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiVGVtcGxhdGVJY29uXCJdLCBudWxsKSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChWaWV3c01lbnUuQm9keSwgbnVsbCwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy12aWV3c1wiXG4gIH0sIGN1cnJlbnRSb3V0ZSA9PT0gJ25ldycgPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChFbXB0eVZpZXcsIHtcbiAgICBvbkNsaWNrOiBvblRvZ2dsZU5ld1xuICB9KSA6IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkZyYWdtZW50LCBudWxsLCBjdXJyZW50Um91dGUgIT09ICdvdmVyd3JpdGUnID8gJycgOiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChPdmVyd3JpdGVWaWV3LCB7XG4gICAgdGVtcGxhdGVOYW1lOiB0ZW1wbGF0ZU5hbWUsXG4gICAgb25DYW5jZWw6IG1haW4sXG4gICAgb25PdmVyd3JpdGU6IG92ZXJ3cml0ZVxuICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1Njcm9sbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBhdXRvSGlkZTogdHJ1ZVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZvcm0gZm9ybS0tc2Mtdmlld3NcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImZvcm1fX2lucHV0LWdyb3VwXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJmb3JtX19ncm91cFwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiZm9ybV9fY29udHJvbFwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0KCkoJ2Zvcm0tLXNjLXZpZXdzX19pbnB1dCcsIHtcbiAgICAgICdmb3JtLS1zYy12aWV3c19faW5wdXQtLWFjdGl2ZSc6IGlzQWN0aXZlXG4gICAgfSlcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzdWJ0aXRsZVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCB0LnRyYW5zbGF0ZSgnQWRkIG5ldyB0ZW1wbGF0ZXMnKSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICB0eXBlOiBcInRleHRcIixcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0KCkoJ3NjLWlucHV0Jywge1xuICAgICAgJ3NjLWlucHV0LS1hY3RpdmUnOiBpc0FjdGl2ZVxuICAgIH0pLFxuICAgIHBsYWNlaG9sZGVyOiBpc0FjdGl2ZSA/ICcnIDogdC50cmFuc2xhdGUoJ0FkZCBuZXcgdGVtcGxhdGVzJyksXG4gICAgcmVmOiBpbnB1dFJlZixcbiAgICB2YWx1ZTogdGVtcGxhdGVOYW1lLFxuICAgIG9uS2V5VXA6IG9uU3VibWl0LFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICBvbkZvY3VzOiBvbkZvY3VzLFxuICAgIG9uQ2xpY2s6IG9uRm9jdXMsXG4gICAgb25CbHVyOiBvbkJsdXJcbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IHNhdmVWaWV3cyxcbiAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0KCkoJ3NjLWJ0bicsICdzYy1idG4tLXByaW1hcnknLCB7XG4gICAgICAnc2MtYnRuLS1wcmltYXJ5LS1kaXNhYmxlZCc6ICFpc0FjdGl2ZVxuICAgIH0pXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcIkFkZEljb25cIl0sIG51bGwpKSkpKSkpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChBY3RpdmVMaXN0Vmlldywge1xuICAgIHZpZXdzOiB2aWV3cyxcbiAgICByZW1vdmVBbGw6IHJlbW92ZUFsbCxcbiAgICBhcHBseUxheW91dDogYXBwbHlMYXlvdXQsXG4gICAgcmVtb3ZlOiByZW1vdmVcbiAgfSkpKSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjYpIHtcbiAgdmFyIHMgPSBfcmVmNi52aWV3O1xuICByZXR1cm4ge1xuICAgIFZpZXdzTWVudTogcy5WaWV3c01lbnUsXG4gICAgdmlld3M6IHMuc29ydGVkSXRlbXMsXG4gICAgcm91dGVzOiBzLnJvdXRlcyxcbiAgICBvbk92ZXJ3cml0ZTogcy5vbk92ZXJ3cml0ZSxcbiAgICBvbkNoYW5nZTogcy5vbkNoYW5nZSxcbiAgICByZW1vdmU6IHMucmVtb3ZlLFxuICAgIG9uU3VibWl0OiBzLm9uU3VibWl0LFxuICAgIGFwcGx5TGF5b3V0OiBzLmFwcGx5TGF5b3V0LFxuICAgIG1lbnVPcGVuOiBzLm1lbnUuZGlhbG9nLm9wZW4sXG4gICAgaW5wdXRSZWY6IHMuaW5wdXRSZWYsXG4gICAgY3VycmVudFJvdXRlOiBzLmN1cnJlbnRSb3V0ZSxcbiAgICB0ZW1wbGF0ZU5hbWU6IHMudGVtcGxhdGVOYW1lLFxuICAgIG9uVG9nZ2xlTmV3OiBzLm9uVG9nZ2xlTmV3LFxuICAgIHNhdmVWaWV3czogcy5zYXZlVmlld3MsXG4gICAgcmVtb3ZlQWxsOiBzLnJlbW92ZUFsbCxcbiAgICBpc0lucHV0QWN0aXZlOiBzLmlzSW5wdXRBY3RpdmUsXG4gICAgb25Gb2N1czogcy5vbkZvY3VzLFxuICAgIG9uQmx1cjogcy5vbkJsdXJcbiAgfTtcbn0pKFZpZXdzKSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL2NhdGVnb3JpY2FsZGlzcGxheS9DYXRlZ29yaWNhbERpc3BsYXkuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvQ2F0ZWdvcmljYWxEaXNwbGF5LmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9TY3JvbGxfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9TY3JvbGwuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TY3JvbGwuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2F0ZWdvcmljYWxfZGlzcGxheV9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi8uLi9zYXNzL2NvbXBvbmVudHMvX2NhdGVnb3JpY2FsLWRpc3BsYXkuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jYXRlZ29yaWNhbC1kaXNwbGF5LnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jYXRlZ29yaWNhbF9kaXNwbGF5X3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2NhdGVnb3JpY2FsX2Rpc3BsYXlfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fKTtcblxuXG5cblxudmFyIENhdGVnb3JpY2FsRGlzcGxheSA9IGZ1bmN0aW9uIENhdGVnb3JpY2FsRGlzcGxheShfcmVmKSB7XG4gIHZhciBfb25TZWxlY3RJdGVtID0gX3JlZi5vblNlbGVjdEl0ZW0sXG4gICAgICBzZXRGaWx0ZXJUZXh0ID0gX3JlZi5zZXRGaWx0ZXJUZXh0LFxuICAgICAgdXBkYXRlU2Nyb2xsU3B5ID0gX3JlZi51cGRhdGVTY3JvbGxTcHksXG4gICAgICBzZXRTY3JvbGxQYW5lbCA9IF9yZWYuc2V0U2Nyb2xsUGFuZWwsXG4gICAgICBSZXN1bHRzUGFuZWwgPSBfcmVmLlJlc3VsdHNQYW5lbCxcbiAgICAgIEZpbHRlclBhbmVsID0gX3JlZi5GaWx0ZXJQYW5lbCxcbiAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaWQgPSBfcmVmLmlkLFxuICAgICAgU2VhcmNoSW5wdXQgPSBfcmVmLlNlYXJjaElucHV0LFxuICAgICAgc2VhcmNoSW5wdXRDbGFzc05hbWUgPSBfcmVmLnNlYXJjaElucHV0Q2xhc3NOYW1lLFxuICAgICAgZGlzYWJsZUFsbCA9IF9yZWYuZGlzYWJsZUFsbCxcbiAgICAgIGlzTmVzdGVkTGlzdCA9IF9yZWYuaXNOZXN0ZWRMaXN0LFxuICAgICAgaXNNb2JpbGUgPSBfcmVmLmlzTW9iaWxlO1xuICB2YXIgaW5uZXJQYW5lbCA9IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFJlc3VsdHNQYW5lbCwge1xuICAgIG9uU2VsZWN0SXRlbTogZnVuY3Rpb24gb25TZWxlY3RJdGVtKGl0ZW0pIHtcbiAgICAgIF9vblNlbGVjdEl0ZW0oaXRlbSk7XG5cbiAgICAgIHNldEZpbHRlclRleHQoJycpO1xuICAgIH0sXG4gICAgaWQ6IGlkLFxuICAgIGRpc2FibGVBbGw6IGRpc2FibGVBbGwsXG4gICAgaXNOZXN0ZWRMaXN0OiBpc05lc3RlZExpc3RcbiAgfSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLW1jZCBcIi5jb25jYXQoaXNOZXN0ZWRMaXN0ID8gJ3NjLW1jZC0tbmVzdGVkJyA6ICcnKSxcbiAgICBzdHlsZToge1xuICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICB9LFxuICAgIGlkOiBpZFxuICB9LCAhaXNNb2JpbGUgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1tY2RfX3RhYnNcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLW1jZF9fdGFic19faGVhZFwiXG4gIH0sIHQudHJhbnNsYXRlKCdNYXJrZXRzJykpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLW1jZF9fdGFic19fYm9keVwiXG4gIH0sICFpc05lc3RlZExpc3QgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRmlsdGVyUGFuZWwsIG51bGwpKSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtbWNkX19jb250ZW50XCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1tY2RfX2NvbnRlbnRfX2hlYWRcIlxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTZWFyY2hJbnB1dCwge1xuICAgIHNlYXJjaElucHV0Q2xhc3NOYW1lOiBzZWFyY2hJbnB1dENsYXNzTmFtZVxuICB9KSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtbWNkX19jb250ZW50X19ib2R5XCJcbiAgfSwgaXNNb2JpbGUgPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLW1jZF9fY29udGVudF9fYm9keV9fc2Nyb2xsXCIsXG4gICAgb25TY3JvbGw6IHVwZGF0ZVNjcm9sbFNweSxcbiAgICByZWY6IHNldFNjcm9sbFBhbmVsXG4gIH0sIGlubmVyUGFuZWwpIDogLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1Njcm9sbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBhdXRvSGlkZTogdHJ1ZSxcbiAgICBvblNjcm9sbDogdXBkYXRlU2Nyb2xsU3B5LFxuICAgIHNldFBhbmVsOiBzZXRTY3JvbGxQYW5lbFxuICB9LCBpbm5lclBhbmVsKSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoQ2F0ZWdvcmljYWxEaXNwbGF5KTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L0ZpbHRlclBhbmVsLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvRmlsdGVyUGFuZWwuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBGaWx0ZXJQYW5lbCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkZpbHRlclBhbmVsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRmlsdGVyUGFuZWw7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG5cblxudmFyIEZpbHRlckl0ZW1JY29uID0gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLm1lbW8oZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGNhdGVnb3J5SWQgPSBfcmVmLmNhdGVnb3J5SWQ7XG4gIHZhciBDYXRlZ29yeUljb24gPSBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJDYXRlZ29yeUljb25NYXBcIl1bY2F0ZWdvcnlJZF07XG4gIHJldHVybiBDYXRlZ29yeUljb24gJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2F0ZWdvcnlJY29uLCB7XG4gICAgY2xhc3NOYW1lOiBcImljLVwiLmNvbmNhdChjYXRlZ29yeUlkKVxuICB9KTtcbn0pO1xudmFyIEZpbHRlckl0ZW0gPSAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEubWVtbyhmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGZvY3VzZWRDYXRlZ29yeUtleSA9IF9yZWYyLmZvY3VzZWRDYXRlZ29yeUtleSxcbiAgICAgIGFjdGl2ZUNhdGVnb3J5S2V5ID0gX3JlZjIuYWN0aXZlQ2F0ZWdvcnlLZXksXG4gICAgICBoYW5kbGVGaWx0ZXJDbGljayA9IF9yZWYyLmhhbmRsZUZpbHRlckNsaWNrLFxuICAgICAgY2F0ZWdvcnkgPSBfcmVmMi5jYXRlZ29yeSxcbiAgICAgIGlzU2VhcmNoaW5nID0gX3JlZjIuaXNTZWFyY2hpbmc7XG4gIHZhciBpc0FjdGl2ZSA9IGZvY3VzZWRDYXRlZ29yeUtleSAmJiBmb2N1c2VkQ2F0ZWdvcnlLZXkubGVuZ3RoID8gZm9jdXNlZENhdGVnb3J5S2V5ID09PSBjYXRlZ29yeS5jYXRlZ29yeUlkIDogYWN0aXZlQ2F0ZWdvcnlLZXkgPT09IGNhdGVnb3J5LmNhdGVnb3J5SWQ7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLW1jZF9fZmlsdGVyX19pdGVtIFwiLmNvbmNhdChpc0FjdGl2ZSAmJiAhaXNTZWFyY2hpbmcgPyAnc2MtbWNkX19maWx0ZXJfX2l0ZW0tLXNlbGVjdGVkJyA6ICcnKSxcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgIHJldHVybiBoYW5kbGVGaWx0ZXJDbGljayhjYXRlZ29yeS5jYXRlZ29yeUlkLCBlKTtcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEZpbHRlckl0ZW1JY29uLCB7XG4gICAgY2F0ZWdvcnlJZDogY2F0ZWdvcnkuY2F0ZWdvcnlJZFxuICB9KSwgdC50cmFuc2xhdGUoY2F0ZWdvcnkuY2F0ZWdvcnlOYW1lKSk7XG59KTtcbnZhciBGaWx0ZXJQYW5lbCA9IGZ1bmN0aW9uIEZpbHRlclBhbmVsKF9yZWYzKSB7XG4gIHZhciBmaWx0ZXJlZEl0ZW1zID0gX3JlZjMuZmlsdGVyZWRJdGVtcyxcbiAgICAgIGhhbmRsZUZpbHRlckNsaWNrID0gX3JlZjMuaGFuZGxlRmlsdGVyQ2xpY2ssXG4gICAgICBmb2N1c2VkQ2F0ZWdvcnlLZXkgPSBfcmVmMy5mb2N1c2VkQ2F0ZWdvcnlLZXksXG4gICAgICBhY3RpdmVDYXRlZ29yeUtleSA9IF9yZWYzLmFjdGl2ZUNhdGVnb3J5S2V5LFxuICAgICAgaXNTZWFyY2hpbmcgPSBfcmVmMy5pc1NlYXJjaGluZztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtbWNkX19maWx0ZXJcIlxuICB9LCBmaWx0ZXJlZEl0ZW1zLm1hcChmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRmlsdGVySXRlbSwge1xuICAgICAga2V5OiBjYXRlZ29yeS5jYXRlZ29yeUlkLFxuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgaGFuZGxlRmlsdGVyQ2xpY2s6IGhhbmRsZUZpbHRlckNsaWNrLFxuICAgICAgYWN0aXZlQ2F0ZWdvcnlLZXk6IGFjdGl2ZUNhdGVnb3J5S2V5LFxuICAgICAgZm9jdXNlZENhdGVnb3J5S2V5OiBmb2N1c2VkQ2F0ZWdvcnlLZXksXG4gICAgICBpc1NlYXJjaGluZzogaXNTZWFyY2hpbmdcbiAgICB9KTtcbiAgfSkpO1xufTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L0l0ZW0uanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L0l0ZW0uanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IE5vcm1hbEl0ZW0sIEFjdGl2ZUl0ZW0gKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJOb3JtYWxJdGVtXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTm9ybWFsSXRlbTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQWN0aXZlSXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEFjdGl2ZUl0ZW07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Zhdm9yaXRlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vRmF2b3JpdGUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9GYXZvcml0ZS5qc3hcIik7XG5cblxuXG52YXIgSWNvbiA9IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5tZW1vKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBpZCA9IF9yZWYuaWQ7XG5cbiAgaWYgKCFpZCB8fCAhX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSXRlbUljb25NYXBcIl1baWRdKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgdmFyIEl0ZW1JY29uID0gX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiSXRlbUljb25NYXBcIl1baWRdO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoSXRlbUljb24sIHtcbiAgICBjbGFzc05hbWU6IFwiaWMtXCIuY29uY2F0KGlkKVxuICB9KTtcbn0pO1xudmFyIEl0ZW1OYW1lID0gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLm1lbW8oZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBfcmVmMiRpdGVtID0gX3JlZjIuaXRlbSxcbiAgICAgIGl0ZW1JZCA9IF9yZWYyJGl0ZW0uaXRlbUlkLFxuICAgICAgZGlzcGxheSA9IF9yZWYyJGl0ZW0uZGlzcGxheTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtbWNkX19pdGVtX19uYW1lXCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoSWNvbiwge1xuICAgIGlkOiBpdGVtSWRcbiAgfSksIGRpc3BsYXkpO1xufSk7XG52YXIgSXRlbURldGFpbCA9IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5tZW1vKGZ1bmN0aW9uIChfcmVmMykge1xuICB2YXIgZmF2b3JpdGVzSWQgPSBfcmVmMy5mYXZvcml0ZXNJZCxcbiAgICAgIF9yZWYzJGl0ZW0gPSBfcmVmMy5pdGVtLFxuICAgICAgZGF0YU9iamVjdCA9IF9yZWYzJGl0ZW0uZGF0YU9iamVjdCxcbiAgICAgIGl0ZW1JZCA9IF9yZWYzJGl0ZW0uaXRlbUlkO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1tY2RfX2l0ZW1fX2RldGFpbFwiXG4gIH0sIGRhdGFPYmplY3QgJiYgKGRhdGFPYmplY3QuZXhjaGFuZ2VfaXNfb3BlbiA9PT0gdW5kZWZpbmVkIHx8IGRhdGFPYmplY3QuZXhjaGFuZ2VfaXNfb3BlbikgPyAnJyA6IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNsb3NlZC1tYXJrZXRcIlxuICB9LCB0LnRyYW5zbGF0ZSgnQ0xPU0VEJykpLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRmF2b3JpdGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgY2F0ZWdvcnk6IGZhdm9yaXRlc0lkLFxuICAgIGlkOiBpdGVtSWRcbiAgfSkpO1xufSk7XG5cbnZhciBBY3RpdmVPcHRpb24gPSBmdW5jdGlvbiBBY3RpdmVPcHRpb24oX3JlZjQpIHtcbiAgdmFyIG9wdCA9IF9yZWY0Lm9wdCxcbiAgICAgIGl0ZW0gPSBfcmVmNC5pdGVtO1xuICB2YXIgQWN0aXZlT3B0aW9uSWNvbiA9IF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkFjdGl2ZU9wdGlvbnNJY29uTWFwXCJdW29wdC5pZF07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJpYy1cIi5jb25jYXQob3B0LmlkKSxcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgIHJldHVybiBvcHQub25DbGljayAmJiBvcHQub25DbGljayhpdGVtLmRhdGFPYmplY3QsIGUpO1xuICAgIH1cbiAgfSwgQWN0aXZlT3B0aW9uSWNvbiAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChBY3RpdmVPcHRpb25JY29uLCBudWxsKSwgb3B0LnJlbmRlckNoaWxkICYmIG9wdC5yZW5kZXJDaGlsZChpdGVtKSk7XG59O1xuXG52YXIgQWN0aXZlT3B0aW9ucyA9IGZ1bmN0aW9uIEFjdGl2ZU9wdGlvbnMoX3JlZjUpIHtcbiAgdmFyIGFjdGl2ZU9wdGlvbnMgPSBfcmVmNS5hY3RpdmVPcHRpb25zLFxuICAgICAgaXRlbSA9IF9yZWY1Lml0ZW07XG4gIHJldHVybiBhY3RpdmVPcHRpb25zICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLWFjdGl2ZS1vcHRpb25zXCJcbiAgfSwgYWN0aXZlT3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChBY3RpdmVPcHRpb24sIHtcbiAgICAgIGtleTogb3B0LmlkLFxuICAgICAgb3B0OiBvcHQsXG4gICAgICBpdGVtOiBpdGVtXG4gICAgfSk7XG4gIH0pKTtcbn07XG5cbnZhciBOb3JtYWxJdGVtID0gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLm1lbW8oZnVuY3Rpb24gKF9yZWY2KSB7XG4gIHZhciBvblNlbGVjdEl0ZW0gPSBfcmVmNi5vblNlbGVjdEl0ZW0sXG4gICAgICBpdGVtID0gX3JlZjYuaXRlbSxcbiAgICAgIGRpc2FibGVBbGwgPSBfcmVmNi5kaXNhYmxlQWxsLFxuICAgICAgZmF2b3JpdGVzSWQgPSBfcmVmNi5mYXZvcml0ZXNJZDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic2MtbWNkX19pdGVtIHNjLW1jZF9faXRlbS0tXCIuY29uY2F0KGl0ZW0uaXRlbUlkLCBcIiBcIikuY29uY2F0KGl0ZW0uc2VsZWN0ZWQgPyAnc2MtbWNkX19pdGVtLS1zZWxlY3RlZCAnIDogJycpLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgcmV0dXJuIGl0ZW0uZW5hYmxlZCAmJiBvblNlbGVjdEl0ZW0oaXRlbS5kYXRhT2JqZWN0LCBlKTtcbiAgICB9LFxuICAgIGRpc2FibGVkOiAhaXRlbS5lbmFibGVkIHx8IGRpc2FibGVBbGxcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoSXRlbU5hbWUsIHtcbiAgICBpdGVtOiBpdGVtXG4gIH0pLCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChJdGVtRGV0YWlsLCB7XG4gICAgaXRlbTogaXRlbSxcbiAgICBmYXZvcml0ZXNJZDogZmF2b3JpdGVzSWRcbiAgfSkpO1xufSk7XG52YXIgQWN0aXZlSXRlbSA9IGZ1bmN0aW9uIEFjdGl2ZUl0ZW0oX3JlZjcpIHtcbiAgdmFyIGl0ZW0gPSBfcmVmNy5pdGVtLFxuICAgICAgZmF2b3JpdGVzSWQgPSBfcmVmNy5mYXZvcml0ZXNJZCxcbiAgICAgIGFjdGl2ZU9wdGlvbnMgPSBfcmVmNy5hY3RpdmVPcHRpb25zO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1hY3RpdmUtaXRlbVwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEl0ZW1OYW1lLCB7XG4gICAgaXRlbTogaXRlbVxuICB9KSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1tY2RfX2l0ZW1fX2RldGFpbFwiXG4gIH0sIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEFjdGl2ZU9wdGlvbnMsIHtcbiAgICBhY3RpdmVPcHRpb25zOiBhY3RpdmVPcHRpb25zLFxuICAgIGl0ZW06IGl0ZW1cbiAgfSksIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9GYXZvcml0ZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBjYXRlZ29yeTogZmF2b3JpdGVzSWQsXG4gICAgaWQ6IGl0ZW0uaXRlbUlkXG4gIH0pKSk7XG59O1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvUmVzdWx0c1BhbmVsLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L1Jlc3VsdHNQYW5lbC5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBSZXN1bHRzUGFuZWwgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJSZXN1bHRzUGFuZWxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBSZXN1bHRzUGFuZWw7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2xhc3NuYW1lcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsYXNzbmFtZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuXG5cblxuXG5cbmZ1bmN0aW9uIGdldEl0ZW1Db3VudChjYXRlZ29yeSkge1xuICB2YXIgY291bnQgPSAwO1xuXG4gIGlmIChjYXRlZ29yeS5oYXNTdWJjYXRlZ29yeSkge1xuICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjYXRlZ29yeS5kYXRhKSxcbiAgICAgICAgX3N0ZXA7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgdmFyIHN1YiA9IF9zdGVwLnZhbHVlO1xuICAgICAgICBjb3VudCArPSBzdWIuZGF0YS5sZW5ndGg7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBfaXRlcmF0b3IuZigpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb3VudCArPSBjYXRlZ29yeS5kYXRhLmxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiBjb3VudDtcbn1cblxudmFyIEVtcHR5Q2F0ZWdvcnkgPSAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEubWVtbyhmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgY2F0ZWdvcnkgPSBfcmVmLmNhdGVnb3J5O1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzYy1tY2RfX2NhdGVnb3J5X19jb250ZW50XCJcbiAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJlbXB0eS1jYXRlZ29yeVwiXG4gIH0sIHQudHJhbnNsYXRlKGNhdGVnb3J5LmVtcHR5RGVzY3JpcHRpb24pKSk7XG59KTtcbnZhciBDYXRlZ29yeVRpdGxlTGVmdCA9IC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5tZW1vKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgaXNOZXN0ZWRMaXN0ID0gX3JlZjIuaXNOZXN0ZWRMaXN0LFxuICAgICAgY2F0ZWdvcnkgPSBfcmVmMi5jYXRlZ29yeTtcbiAgdmFyIENhdGVnb3J5SWNvbiA9IF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkNhdGVnb3J5SWNvbk1hcFwiXVtjYXRlZ29yeS5jYXRlZ29yeUlkXTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5LXRpdGxlLWxlZnRcIlxuICB9LCBpc05lc3RlZExpc3QgPyBDYXRlZ29yeUljb24gJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2F0ZWdvcnlJY29uLCB7XG4gICAgY2xhc3NOYW1lOiBcImljLVwiLmNvbmNhdChjYXRlZ29yeS5jYXRlZ29yeUlkKVxuICB9KSA6ICcnLCB0LnRyYW5zbGF0ZShjYXRlZ29yeS5jYXRlZ29yeU5hbWUpKTtcbn0pO1xuXG52YXIgQ2F0ZWdvcnlUaXRsZSA9IGZ1bmN0aW9uIENhdGVnb3J5VGl0bGUoX3JlZjMpIHtcbiAgdmFyIGNhdGVnb3J5ID0gX3JlZjMuY2F0ZWdvcnksXG4gICAgICBhY3RpdmVIZWFkS2V5ID0gX3JlZjMuYWN0aXZlSGVhZEtleSxcbiAgICAgIGlzTmVzdGVkTGlzdCA9IF9yZWYzLmlzTmVzdGVkTGlzdCxcbiAgICAgIGhhbmRsZVRpdGxlQ2xpY2sgPSBfcmVmMy5oYW5kbGVUaXRsZUNsaWNrO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgnc2MtbWNkX19jYXRlZ29yeV9faGVhZCcsIHtcbiAgICAgICdoYXMtc3VidGl0bGUnOiBjYXRlZ29yeS5jYXRlZ29yeVN1YnRpdGxlLFxuICAgICAgYWN0aXZlOiBjYXRlZ29yeS5hY3RpdmVcbiAgICB9KSxcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIGhhbmRsZVRpdGxlQ2xpY2soY2F0ZWdvcnkuY2F0ZWdvcnlJZCk7XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDYXRlZ29yeVRpdGxlTGVmdCwge1xuICAgIGlzTmVzdGVkTGlzdDogaXNOZXN0ZWRMaXN0LFxuICAgIGNhdGVnb3J5OiBjYXRlZ29yeVxuICB9KSwgKGNhdGVnb3J5LmNhdGVnb3J5TmFtZVBvc3RmaXhTaG93SWZBY3RpdmUgJiYgYWN0aXZlSGVhZEtleSA9PT0gY2F0ZWdvcnkuY2F0ZWdvcnlJZCB8fCAhY2F0ZWdvcnkuY2F0ZWdvcnlOYW1lUG9zdGZpeFNob3dJZkFjdGl2ZSkgJiYgY2F0ZWdvcnkuY2F0ZWdvcnlOYW1lUG9zdGZpeCAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeS1uYW1lLXBvc3RmaXhcIlxuICB9LCBjYXRlZ29yeS5jYXRlZ29yeU5hbWVQb3N0Zml4KSwgY2F0ZWdvcnkuY2F0ZWdvcnlTdWJ0aXRsZSAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5LXN1YnRpdGxlXCJcbiAgfSwgdC50cmFuc2xhdGUoY2F0ZWdvcnkuY2F0ZWdvcnlTdWJ0aXRsZSkpLCBpc05lc3RlZExpc3QgPyAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJBcnJvd0ljb25cIl0sIHtcbiAgICBjbGFzc05hbWU6IFwiYXJyb3dcIlxuICB9KSA6ICcnKTtcbn07XG5cbnZhciBDYXRlZ29yeSA9IGZ1bmN0aW9uIENhdGVnb3J5KF9yZWY0KSB7XG4gIHZhciBjYXRlZ29yeSA9IF9yZWY0LmNhdGVnb3J5LFxuICAgICAgY2F0ZWdvcnlJdGVtQ291bnQgPSBfcmVmNC5jYXRlZ29yeUl0ZW1Db3VudCxcbiAgICAgIEl0ZW0gPSBfcmVmNC5JdGVtLFxuICAgICAgc2V0Q2F0ZWdvcnlFbGVtZW50ID0gX3JlZjQuc2V0Q2F0ZWdvcnlFbGVtZW50LFxuICAgICAgb25TZWxlY3RJdGVtID0gX3JlZjQub25TZWxlY3RJdGVtLFxuICAgICAgYWN0aXZlSGVhZEtleSA9IF9yZWY0LmFjdGl2ZUhlYWRLZXksXG4gICAgICBkaXNhYmxlQWxsID0gX3JlZjQuZGlzYWJsZUFsbCxcbiAgICAgIGlzTmVzdGVkTGlzdCA9IF9yZWY0LmlzTmVzdGVkTGlzdCxcbiAgICAgIGhhbmRsZVRpdGxlQ2xpY2sgPSBfcmVmNC5oYW5kbGVUaXRsZUNsaWNrO1xuICByZXR1cm4gLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgnc2MtbWNkX19jYXRlZ29yeScsIFwic2MtbWNkX19jYXRlZ29yeS0tXCIuY29uY2F0KGNhdGVnb3J5LmNhdGVnb3J5SWQpLCB7XG4gICAgICAnc2MtbWNkX19jYXRlZ29yeS0taGFzLXN1YnRpdGxlJzogY2F0ZWdvcnkuY2F0ZWdvcnlTdWJ0aXRsZSxcbiAgICAgICdzYy1tY2RfX2NhdGVnb3J5LS1hY3RpdmUnOiBjYXRlZ29yeS5hY3RpdmVcbiAgICB9KSxcbiAgICByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgcmV0dXJuIHNldENhdGVnb3J5RWxlbWVudChlbCwgY2F0ZWdvcnkuY2F0ZWdvcnlJZCk7XG4gICAgfVxuICB9LCAoaXNOZXN0ZWRMaXN0IHx8ICFjYXRlZ29yeS5oYXNTdWJjYXRlZ29yeSkgJiYgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2F0ZWdvcnlUaXRsZSwge1xuICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICBhY3RpdmVIZWFkS2V5OiBhY3RpdmVIZWFkS2V5LFxuICAgIGlzTmVzdGVkTGlzdDogaXNOZXN0ZWRMaXN0LFxuICAgIGhhbmRsZVRpdGxlQ2xpY2s6IGhhbmRsZVRpdGxlQ2xpY2tcbiAgfSksIGNhdGVnb3J5Lmhhc1N1YmNhdGVnb3J5ID8gY2F0ZWdvcnkuZGF0YS5tYXAoZnVuY3Rpb24gKHN1YmNhdGVnb3J5KSB7XG4gICAgcmV0dXJuIGdldEl0ZW1Db3VudChzdWJjYXRlZ29yeSkgPiAwICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKSgnc2MtbWNkX19jYXRlZ29yeV9fY29udGVudCcsIFwic2MtbWNkX19jYXRlZ29yeV9fY29udGVudC0tXCIuY29uY2F0KE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcInN0cmluZ1RvU2x1Z1wiXSkoc3ViY2F0ZWdvcnkuc3ViY2F0ZWdvcnlOYW1lKSksICdzYy1tY2RfX2NhdGVnb3J5X19jb250ZW50LS1oYXMtc3ViY2F0ZWdvcnknKSxcbiAgICAgIGtleTogc3ViY2F0ZWdvcnkuc3ViY2F0ZWdvcnlOYW1lXG4gICAgfSwgLyojX19QVVJFX18qL3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInN1YmNhdGVnb3J5XCJcbiAgICB9LCB0LnRyYW5zbGF0ZShzdWJjYXRlZ29yeS5zdWJjYXRlZ29yeU5hbWUpKSwgc3ViY2F0ZWdvcnkuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChJdGVtLCB7XG4gICAgICAgIGtleTogaXRlbS5kaXNwbGF5LFxuICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICBvblNlbGVjdEl0ZW06IG9uU2VsZWN0SXRlbSxcbiAgICAgICAgZGlzYWJsZUFsbDogZGlzYWJsZUFsbFxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9KSA6IGNhdGVnb3J5LmRhdGEubGVuZ3RoID4gMCAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNjLW1jZF9fY2F0ZWdvcnlfX2NvbnRlbnRcIlxuICB9LCBjYXRlZ29yeS5kYXRhLm1hcChmdW5jdGlvbiAoaXRlbSwgaWR4KSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEl0ZW0sIHtcbiAgICAgIGtleTogXCJcIi5jb25jYXQoaXRlbS5kaXNwbGF5LCBcIi1cIikuY29uY2F0KGlkeCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXlcbiAgICAgICxcbiAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICBvblNlbGVjdEl0ZW06IG9uU2VsZWN0SXRlbSxcbiAgICAgIGRpc2FibGVBbGw6IGRpc2FibGVBbGxcbiAgICB9KTtcbiAgfSkpLCBjYXRlZ29yeUl0ZW1Db3VudCA9PT0gMCAmJiBjYXRlZ29yeS5lbXB0eURlc2NyaXB0aW9uICYmIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEVtcHR5Q2F0ZWdvcnksIHtcbiAgICBjYXRlZ29yeTogY2F0ZWdvcnlcbiAgfSkpO1xufTtcblxudmFyIFJlc3VsdHNQYW5lbCA9IGZ1bmN0aW9uIFJlc3VsdHNQYW5lbChfcmVmNSkge1xuICB2YXIgZmlsdGVyZWRJdGVtcyA9IF9yZWY1LmZpbHRlcmVkSXRlbXMsXG4gICAgICBvblNlbGVjdEl0ZW0gPSBfcmVmNS5vblNlbGVjdEl0ZW0sXG4gICAgICBnZXRJdGVtVHlwZSA9IF9yZWY1LmdldEl0ZW1UeXBlLFxuICAgICAgc2V0Q2F0ZWdvcnlFbGVtZW50ID0gX3JlZjUuc2V0Q2F0ZWdvcnlFbGVtZW50LFxuICAgICAgYWN0aXZlSGVhZEtleSA9IF9yZWY1LmFjdGl2ZUhlYWRLZXksXG4gICAgICBkaXNhYmxlQWxsID0gX3JlZjUuZGlzYWJsZUFsbCxcbiAgICAgIGlzTmVzdGVkTGlzdCA9IF9yZWY1LmlzTmVzdGVkTGlzdCxcbiAgICAgIGhhbmRsZVRpdGxlQ2xpY2sgPSBfcmVmNS5oYW5kbGVUaXRsZUNsaWNrO1xuICByZXR1cm4gZmlsdGVyZWRJdGVtcy5tYXAoZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgdmFyIGNhdGVnb3J5SXRlbUNvdW50ID0gZ2V0SXRlbUNvdW50KGNhdGVnb3J5KTtcbiAgICByZXR1cm4gKGNhdGVnb3J5SXRlbUNvdW50ID4gMCB8fCBjYXRlZ29yeS5lbXB0eURlc2NyaXB0aW9uKSAmJiAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDYXRlZ29yeSwge1xuICAgICAga2V5OiBjYXRlZ29yeS5jYXRlZ29yeUlkLFxuICAgICAgSXRlbTogZ2V0SXRlbVR5cGUoY2F0ZWdvcnkuY2F0ZWdvcnlJZCksXG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICBjYXRlZ29yeUl0ZW1Db3VudDogY2F0ZWdvcnlJdGVtQ291bnQsXG4gICAgICBzZXRDYXRlZ29yeUVsZW1lbnQ6IHNldENhdGVnb3J5RWxlbWVudCxcbiAgICAgIG9uU2VsZWN0SXRlbTogb25TZWxlY3RJdGVtLFxuICAgICAgYWN0aXZlSGVhZEtleTogYWN0aXZlSGVhZEtleSxcbiAgICAgIGRpc2FibGVBbGw6IGRpc2FibGVBbGwsXG4gICAgICBpc05lc3RlZExpc3Q6IGlzTmVzdGVkTGlzdCxcbiAgICAgIGhhbmRsZVRpdGxlQ2xpY2s6IGhhbmRsZVRpdGxlQ2xpY2tcbiAgICB9KTtcbiAgfSk7XG59O1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogQ2F0ZWdvcmljYWxEaXNwbGF5LCBGaWx0ZXJQYW5lbCwgTm9ybWFsSXRlbSwgQWN0aXZlSXRlbSwgUmVzdWx0c1BhbmVsICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DYXRlZ29yaWNhbERpc3BsYXlfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0NhdGVnb3JpY2FsRGlzcGxheS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL2NhdGVnb3JpY2FsZGlzcGxheS9DYXRlZ29yaWNhbERpc3BsYXkuanN4XCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ2F0ZWdvcmljYWxEaXNwbGF5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX0NhdGVnb3JpY2FsRGlzcGxheV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ZpbHRlclBhbmVsX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9GaWx0ZXJQYW5lbC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL2NhdGVnb3JpY2FsZGlzcGxheS9GaWx0ZXJQYW5lbC5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJGaWx0ZXJQYW5lbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9GaWx0ZXJQYW5lbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkZpbHRlclBhbmVsXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JdGVtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JdGVtLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L0l0ZW0uanN4XCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTm9ybWFsSXRlbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9JdGVtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiTm9ybWFsSXRlbVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkFjdGl2ZUl0ZW1cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfSXRlbV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkFjdGl2ZUl0ZW1cIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1Jlc3VsdHNQYW5lbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vUmVzdWx0c1BhbmVsLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L1Jlc3VsdHNQYW5lbC5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJSZXN1bHRzUGFuZWxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfUmVzdWx0c1BhbmVsX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiUmVzdWx0c1BhbmVsXCJdOyB9KTtcblxuXG5cblxuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy91aS9BbmltYXRpb24uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy91aS9BbmltYXRpb24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gYW5pbWF0ZUNoYXJ0OyB9KTtcbi8qIFRBS0VOIE9VVCBPRiBBRERPTlMuSlMgKi9cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMsZXFlcWVxLG5vLXNoYWRvdyxuby1hbGVydCxuby1yZXN0cmljdGVkLWdsb2JhbHMscHJlZmVyLWNvbnN0LHByZWZlci1kZXN0cnVjdHVyaW5nICovXG5cbi8qKlxuICogQWRkLU9uIHRoYXQgYW5pbWF0ZXMgdGhlIGNoYXJ0LlxuICpcbiAqIFJlcXVpcmVzIGBhZGRPbnMuanNgXG4gKlxuICogVGhlIGNoYXJ0IGlzIGFuaW1hdGVkIGluIHRocmVlIHdheXM6XG4gKiAxLiAgVGhlIGN1cnJlbnQgcHJpY2UgcHVsc2F0ZXNcbiAqIDIuICBUaGUgY3VycmVudCBwcmljZSBhcHBlYXJzIHRvIG1vdmUgc21vb3RobHkgZnJvbSB0aGUgcHJldmlvdXMgcHJpY2VcbiAqIDMuICBUaGUgY2hhcnQncyB5LWF4aXMgc21vb3RobHkgZXhwYW5kcy9jb250cmFjdHMgd2hlbiBhIG5ldyBoaWdoIG9yIGxvdyBpcyByZWFjaGVkXG4gKlxuICogVGhlIGZvbGxvd2luZyBjaGFydCB0eXBlcyBhcmUgc3VwcG9ydGVkOiBsaW5lLCBtb3VudGFpbiwgYmFzZWxpbmVfZGVsdGEuXG4gKlxuICogQ2hhcnQgYWdncmVnYXRpb25zIHN1Y2ggYXMgS2FnaSwgUmVua28sIFJhbmdlIEJhcnMsIGV0Yy4gYXJlIG5vdCBzdXBwb3J0ZWQuXG4gKlxuICogKipBbmltYXRpb24gZGlzcGxheXMgbW9yZSBncmFjZWZ1bGx5IHdoZW4gdXBkYXRlcyBhcmUgc2VudCBpbnRvIHRoZSBjaGFydCBvbmUgYXQgYSB0aW1lIHVzaW5nIHtAbGluayBDSVEuQ2hhcnRFbmdpbmUjdXBkYXRlQ2hhcnREYXRhfVxuICogaW5zdGVhZCBvZiBpbiBiYXRjaGVzIHVzaW5nIGEgW1F1b3RlRmVlZF17QGxpbmsgQ0lRLkNoYXJ0RW5naW5lI2F0dGFjaFF1b3RlRmVlZH0uIFNlbmRpbmcgZGF0YSBpbiBiYXRjaGVzIHdpbGwgcHJvZHVjZSBhIOKAmGp1bXBpbmfigJkgZWZmZWN0LioqXG4gKlxuICogQnkgZGVmYXVsdCB0aGVyZSB3aWxsIGJlIGEgZmxhc2hpbmcgYmVhY29uIGNyZWF0ZWQgdXNpbmcgYSBjYW52YXMgY2lyY2xlcy4gSWYgaW5zdGVhZCB5b3Ugd2FudCB0byB1c2UgYSBjdXN0b20gYW5pbWF0aW9uIGJlYWNvbiwgeW91IHdpbGwgYmUgYWJsZSB0byBleHRlbmQgdGhlIGZ1bmN0aW9uYWxpdHkgeW91cnNlbGYgYXMgZm9sbG93czpcbiAqIC0gSW4ganMvYWRkT25zLmpzLCBhdCB0aGUgYm90dG9tIG9mIHRoZSBDSVEuQW5pbWF0aW9uIGZ1bmN0aW9uLCB0aGVyZSBpcyBhbiBzdHguYXBwZW5kKFwiZHJhd1wiKSBmdW5jdGlvbi5cbiAqIC0gTWFrZSBhIGNvcHkgb2YgdGhpcyBmdW5jdGlvbiBzbyB5b3UgY2FuIG92ZXJyaWRlIHRoZSBiZWhhdmlvci5cbiAqIC0gSW4gdGhlcmUgeW91IHdpbGwgc2VlIGl0IGRldGVybWluZSB2YXIgeCBhbmQgeSwgd2hpY2ggYXJlIHRoZSBjb29yZGluYXRlcyBmb3IgdGhlIGNlbnRlciBvZiB0aGUgYmVhY29uLlxuICogLSBBdCB0aGUgYm90dG9tIG9mIHRoaXMgYXBwZW5kIGZ1bmN0aW9uLCB3aGVyZSB3ZSBkcmF3IHRoZSBiZWFjb24gYnkgdXNpbmcgdGhlIENhbnZhcyBhcmMoKSBmdW5jdGlvbiB0byBkcmF3IGEgY2lyY2xlIGFuZCB0aGVuIGZpbGwoKSB0byBtYWtlIHRoZSBjaXJjbGUgc29saWQuXG4gKiAtIFlvdSBjYW4gcmVwbGFjZSB0aGlzIGNpcmNsZSBhbmQgZmlsbCBpbnN0cnVjdGlvbnMgd2l0aCBhbiBpbWFnZSB1c2luZyBbQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELmRyYXdJbWFnZSgpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEI0RyYXdpbmdfaW1hZ2VzKSAuXG4gKlxuICogQW5pbWF0aW9uIEV4YW1wbGUgPGlmcmFtZSB3aWR0aD1cIjgwMFwiIGhlaWdodD1cIjUwMFwiIHNjcm9sbGluZz1cIm5vXCIgc2VhbWxlc3M9XCJzZWFtbGVzc1wiIGFsaWduPVwidG9wXCIgc3R5bGU9XCJmbG9hdDp0b3BcIiBzcmM9XCJodHRwczovL2pzZmlkZGxlLm5ldC9jaGFydGlxLzZmcXc2NTJ6L2VtYmVkZGVkL3Jlc3VsdCxqcyxodG1sL1wiIGFsbG93ZnVsbHNjcmVlbj1cImFsbG93ZnVsbHNjcmVlblwiIGZyYW1lYm9yZGVyPVwiMVwiPjwvaWZyYW1lPlxuICpcbiAqIEBwYXJhbSB7Q0lRLkNoYXJ0RW5naW5lfSBzdHggVGhlIGNoYXJ0IG9iamVjdFxuICogQHBhcmFtIHtvYmplY3R9IGFuaW1hdGlvblBhcmFtZXRlcnMgQ29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthbmltYXRpb25QYXJhbWV0ZXJzLnN0YXlQdXQ9ZmFsc2VdIFNldCB0byB0cnVlIGZvciBsYXN0IHRpY2sgdG8gc3RheSBpbiBwb3NpdGlvbiBpdCB3YXMgc2Nyb2xsZWQgYW5kIGhhdmUgcmVzdCBvZiB0aGUgY2hhcnQgbW92ZSBiYWNrd2FyZHMgYXMgbmV3IHRpY2tzIGFyZSBhZGRlZCBpbnN0ZWFkIG9mIGhhdmluZyBuZXcgdGlja3MgYWR2YW5jZSBmb3J3YXJkIGFuZCBsZWF2ZSB0aGUgcmVzdCBvZiB0aGUgY2hhcnQgaW4gcGxhY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW2FuaW1hdGlvblBhcmFtZXRlcnMudGlja3NGcm9tRWRnZU9mU2NyZWVuPTVdIE51bWJlciBvZiB0aWNrcyBmcm9tIHRoZSByaWdodCBlZGdlIHRoZSBjaGFydCBzaG91bGQgc3RvcCBtb3ZpbmcgZm9yd2FyZCBzbyB0aGUgbGFzdCB0aWNrIG5ldmVyIGdvZXMgb2ZmIHNjcmVlbiAob25seSBhcHBsaWNhYmxlIGlmIHN0YXlQdXQ9ZmFsc2UpXG4gKiBAcGFyYW0ge251bWJlcn0gW2FuaW1hdGlvblBhcmFtZXRlcnMuZ3JhbnVsYXJpdHk9MTAwMDAwMF0gU2V0IHRvIGEgdmFsdWUgdGhhdCB3aWxsIGdpdmUgZW5vdWdoIGdyYW51bGFyaXR5IGZvciB0aGUgYW5pbWF0aW9uLiAgVGhlIGxhcmdlciB0aGUgbnVtYmVyIHRoZSBzbWFsbGVyIHRoZSBwcmljZSBqdW1wIGJldHdlZW4gZnJhbWVzLCB3aGljaCBpcyBnb29kIGZvciBjaGFydHMgdGhhdCBuZWVkIGEgdmVyeSBzbG93IHNtb290aCBhbmltYXRpb24gZWl0aGVyIGJlY2F1c2UgdGhlIHByaWNlIGp1bXBzIGJldHdlZW4gdGlja3MgYXJlIHZlcnkgc21hbGwsIG9yIGJlY2F1c2UgdGhlIGFuaW1hdGlvbiB3YXMgc2V0IHVwIHRvIHJ1biBvdmVyIGEgbGFyZ2UgbnVtYmVyIG9mIGZyYW1lcyB3aGVuIGluc3RhbnRpYXRpbmcgdGhlIENJUS5FYXNlTWFjaGluZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbYW5pbWF0aW9uUGFyYW1ldGVycy50ZW5zaW9uPW51bGxdIFNwbGluaW5nIHRlbnNpb24gZm9yIHNtb290aCBjdXJ2ZXMgYXJvdW5kIGRhdGEgcG9pbnRzIChyYW5nZSAwLTEpLiAgTXVzdCBpbmNsdWRlIHNwbGluZXMuanMgZm9yIHRoaXMgdG8gYmUgZWZmZWN0aXZlLlxuICogQHBhcmFtIHtDSVEuRWFzZU1hY2hpbmV9IGVhc2VNYWNoaW5lIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGVhc2VNYWNoaW5lLiAgRGVmYXVsdCBpcyBgbmV3IENJUS5FYXNlTWFjaGluZShNYXRoLmVhc2VPdXRDdWJpYywgMTAwMCk7YFxuICogQGNvbnN0cnVjdG9yXG4gKiBAbmFtZSAgQ0lRLkFuaW1hdGlvblxuICogQHNpbmNlXG4gKiA8YnI+JmJ1bGw7IDMuMC4wIE5vdyBwYXJ0IG9mIGFkZE9ucy5qcy4gUHJldmlvdXNseSBwcm92aWRlZCBhcyBhIHN0YW5kYWxvbmUgYW5pbWF0aW9uLmpzIGZpbGVcbiAqIDxicj4mYnVsbDsgNC4wLjAgYmVhY29uIG9ubHkgZmxhc2hlcyBmb3IgbGluZSBjaGFydHMuIE9uIENhbmRsZXMgb3IgYmFycyBpdCBpcyBzdXBwcmVzc2VkIGFzIGl0IHByb2R1Y2VzIGFuIHVubmF0dXJhbCBlZmZlY3QuXG4gKiBAZXhhbXBsZVxuICogICAgbmV3IENJUS5BbmltYXRpb24oc3R4eCwge3RlbnNpb246MC4zfSk7ICAvL0RlZmF1bHQgYW5pbWF0aW9uIHdpdGggc3BsaW5pbmcgdGVuc2lvbiBvZiAwLjNcbiAqXG4gKi9cbmZ1bmN0aW9uIGFuaW1hdGVDaGFydChzdHgsIGFuaW1hdGlvblBhcmFtZXRlcnMpIHtcbiAgdmFyIHBhcmFtcyA9IHtcbiAgICBzdGF5UHV0OiBmYWxzZSxcbiAgICB0aWNrc0Zyb21FZGdlT2ZTY3JlZW46IDUsXG4gICAgZ3JhbnVsYXJpdHk6IDEwMDAwMDBcbiAgfTtcbiAgYW5pbWF0aW9uUGFyYW1ldGVycyA9IENJUS5leHRlbmQocGFyYW1zLCBhbmltYXRpb25QYXJhbWV0ZXJzKTtcbiAgaWYgKHBhcmFtcy50ZW5zaW9uKSBzdHguY2hhcnQudGVuc2lvbiA9IGFuaW1hdGlvblBhcmFtZXRlcnMudGVuc2lvbjtcbiAgc3R4LnRpY2tBbmltYXRvciA9IG5ldyBDSVEuRWFzZU1hY2hpbmUoTWF0aC5lYXNlSW5PdXRDdWJpYywgMzIwKTtcbiAgdmFyIGZpbHRlclNlc3Npb24gPSBmYWxzZTtcbiAgdmFyIG5leHRCb3VuZGFyeSA9IG51bGw7XG5cbiAgZnVuY3Rpb24gaW5pdE1hcmtldFNlc3Npb25GbGFncygpIHtcbiAgICBmaWx0ZXJTZXNzaW9uID0gZmFsc2U7XG4gICAgbmV4dEJvdW5kYXJ5ID0gbnVsbDtcbiAgfVxuXG4gIHN0eC5hZGRFdmVudExpc3RlbmVyKFsnc3ltYm9sQ2hhbmdlJywgJ2xheW91dCddLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgaW5pdE1hcmtldFNlc3Npb25GbGFncygpO1xuICB9KTtcbiAgc3R4LnByZXBlbmQoJ3VwZGF0ZUN1cnJlbnRNYXJrZXREYXRhJywgZnVuY3Rpb24gKGRhdGEsIGNoYXJ0LCBzeW1ib2wsIHBhcmFtcykge1xuICAgIGlmICghY2hhcnQpIGNoYXJ0ID0gdGhpcy5jaGFydDtcblxuICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmZyb21UcmFkZSAmJiAoY2hhcnQuY2xvc2VQZW5kaW5nQW5pbWF0aW9uIHx8IGNoYXJ0LmNsb3NlUGVuZGluZ0FuaW1hdGlvbiA9PT0gMCkpIHtcbiAgICAgIHBhcmFtcy5maW5hbENsb3NlID0gY2hhcnQuY2xvc2VQZW5kaW5nQW5pbWF0aW9uO1xuICAgIH1cbiAgfSk7XG4gIHN0eC5hcHBlbmQoJ3VwZGF0ZUNoYXJ0RGF0YScsIGZ1bmN0aW9uIChhcHBlbmRRdW90ZXMsIGNoYXJ0LCBwYXJhbXMpIHtcbiAgICAvLyBUaGVzZSBjaGFydCB0eXBlcyBhcmUgdGhlIG9ubHkgdHlwZXMgc3VwcG9ydGVkIGJ5IGFuaW1hdGlvblxuICAgIHZhciBzdXBwb3J0ZWRDaGFydFR5cGUgPSB0aGlzLm1haW5TZXJpZXNSZW5kZXJlciAmJiB0aGlzLm1haW5TZXJpZXNSZW5kZXJlci5zdXBwb3J0c0FuaW1hdGlvbjsgLy8gVGhpcyBpbmplY3Rpb24gaXMganVzdCBmb3IgY2hhcnRzIHdoaWNoIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IGFuaW1hdGlvbi5cblxuICAgIGlmIChzdXBwb3J0ZWRDaGFydFR5cGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjaGFydCA9IGNoYXJ0IHx8IHRoaXMuY2hhcnQ7XG5cbiAgICBpZiAoY2hhcnQubG9ja1Njcm9sbCkge1xuICAgICAgdmFyIGxhc3RBcHBlbmRRdW90ZSA9IGFwcGVuZFF1b3Rlc1thcHBlbmRRdW90ZXMubGVuZ3RoIC0gMV07XG4gICAgICB2YXIgbGFzdERhdGFTZWdtZW50SXRlbSA9IGNoYXJ0LmRhdGFTZWdtZW50W2NoYXJ0LmRhdGFTZWdtZW50Lmxlbmd0aCAtIDFdO1xuXG4gICAgICBpZiAoIWxhc3RBcHBlbmRRdW90ZSB8fCAhbGFzdERhdGFTZWdtZW50SXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChsYXN0QXBwZW5kUXVvdGUuRFQgPiBsYXN0RGF0YVNlZ21lbnRJdGVtLkRUICYmIGNoYXJ0LnNjcm9sbCA8PSBjaGFydC5kYXRhU2VnbWVudC5sZW5ndGgpIHtcbiAgICAgICAgY2hhcnQuc2Nyb2xsKys7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgc3R4LnByZXBlbmQoJ3VwZGF0ZUNoYXJ0RGF0YScsIGZ1bmN0aW9uIChhcHBlbmRRdW90ZXMsIGNoYXJ0LCBwYXJhbXMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAoIWNoYXJ0KSB7XG4gICAgICBjaGFydCA9IHNlbGYuY2hhcnQ7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFydCB8fCAhY2hhcnQuZGVmYXVsdENoYXJ0U3R5bGVDb25maWcgfHwgY2hhcnQuZGVmYXVsdENoYXJ0U3R5bGVDb25maWcgPT0gJ25vbmUnKSByZXR1cm47XG5cbiAgICBpZiAocGFyYW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChwYXJhbXMuYW5pbWF0aW9uRW50cnkgfHwgcGFyYW1zLnNlY29uZGFyeVNlcmllcykgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlTGFzdEJhcihyZWNvcmQpIHtcbiAgICAgIGlmICghY2hhcnQubWFzdGVyRGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIG1kID0gY2hhcnQubWFzdGVyRGF0YS5sZW5ndGggLSAxOyBtZCA+PSAwOyBtZC0tKSB7XG4gICAgICAgIHZhciBiYXIgPSBjaGFydC5tYXN0ZXJEYXRhW21kXTtcblxuICAgICAgICBpZiAoYmFyLkNsb3NlIHx8IGJhci5DbG9zZSA9PT0gMCkge1xuICAgICAgICAgIGJhci5DbG9zZSA9IHJlY29yZC5DbG9zZTtcbiAgICAgICAgICBpZiAocmVjb3JkLkxhc3RTaXplKSBiYXIuTGFzdFNpemUgPSByZWNvcmQuTGFzdFNpemU7XG4gICAgICAgICAgaWYgKHJlY29yZC5MYXN0VGltZSkgYmFyLkxhc3RUaW1lID0gcmVjb3JkLkxhc3RUaW1lO1xuICAgICAgICAgIHNlbGYudXBkYXRlQ3VycmVudE1hcmtldERhdGEoe1xuICAgICAgICAgICAgQ2xvc2U6IGJhci5DbG9zZSxcbiAgICAgICAgICAgIERUOiBiYXIuRFQsXG4gICAgICAgICAgICBMYXN0U2l6ZTogYmFyLkxhc3RTaXplLFxuICAgICAgICAgICAgTGFzdFRpbWU6IGJhci5MYXN0VGltZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlbGYuY3JlYXRlRGF0YVNldChudWxsLCBudWxsLCB7XG4gICAgICAgICAgICBhcHBlbmRpbmc6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bmFuaW1hdGVTY3JvbGwoKSB7XG4gICAgICBpZiAoY2hhcnQuYW5pbWF0aW5nSG9yaXpvbnRhbFNjcm9sbCkge1xuICAgICAgICBjaGFydC5hbmltYXRpbmdIb3Jpem9udGFsU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgIHNlbGYubWljcm9waXhlbHMgPSBzZWxmLm5leHRNaWNyb1BpeGVscyA9IHNlbGYucHJldmlvdXNNaWNyb1BpeGVsczsgLy8gPC0tIFJlc2V0IHNlbGYubmV4dE1pY3JvUGl4ZWxzIGhlcmVcblxuICAgICAgICBjaGFydC5sYXN0VGlja09mZnNldCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFydC5jbG9zZVBlbmRpbmdBbmltYXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgdmFyIGNsb3NlID0gY2hhcnQuY2xvc2VQZW5kaW5nQW5pbWF0aW9uO1xuICAgICAgICBjaGFydC5jbG9zZVBlbmRpbmdBbmltYXRpb24gPSBudWxsO1xuICAgICAgICBjb21wbGV0ZUxhc3RCYXIoe1xuICAgICAgICAgIENsb3NlOiBjbG9zZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdGlja0FuaW1hdG9yID0gc2VsZi50aWNrQW5pbWF0b3I7IC8vIFRoZXNlIGNoYXJ0IHR5cGVzIGFyZSB0aGUgb25seSB0eXBlcyBzdXBwb3J0ZWQgYnkgYW5pbWF0aW9uXG5cbiAgICB2YXIgc3VwcG9ydGVkQ2hhcnRUeXBlID0gdGhpcy5tYWluU2VyaWVzUmVuZGVyZXIgJiYgdGhpcy5tYWluU2VyaWVzUmVuZGVyZXIuc3VwcG9ydHNBbmltYXRpb247XG5cbiAgICBpZiAoc3VwcG9ydGVkQ2hhcnRUeXBlKSB7XG4gICAgICBpZiAoIXRpY2tBbmltYXRvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0FuaW1hdGlvbiBwbHVnLWluIGNhbiBub3QgcnVuIGJlY2F1c2UgdGhlIHRpY2tBbmltYXRvciBoYXMgbm90IGJlZW4gZGVjbGFyZWQuIFNlZSBpbnN0cnVjdGlvbnMgaW4gYW5pbWF0aW9uLmpzJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gSWYgc3ltYm9sIGNoYW5nZXMgdGhlbiByZXNldCBhbGwgb2Ygb3VyIHZhcmlhYmxlc1xuXG5cbiAgICAgIGlmICh0aGlzLnByZXZTeW1ib2wgIT0gY2hhcnQuc3ltYm9sKSB7XG4gICAgICAgIHRoaXMucHJldlF1b3RlID0gMDtcbiAgICAgICAgY2hhcnQuY2xvc2VQZW5kaW5nQW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcmV2U3ltYm9sID0gY2hhcnQuc3ltYm9sO1xuICAgICAgfVxuXG4gICAgICB1bmFuaW1hdGVTY3JvbGwoKTtcbiAgICAgIHRpY2tBbmltYXRvci5zdG9wKCk7XG5cbiAgICAgIGlmIChhcHBlbmRRdW90ZXMubGVuZ3RoID4gMikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5ld1BhcmFtcyA9IENJUS5jbG9uZShwYXJhbXMpO1xuICAgIGlmICghbmV3UGFyYW1zKSBuZXdQYXJhbXMgPSB7fTtcbiAgICBuZXdQYXJhbXMuYW5pbWF0aW9uRW50cnkgPSB0cnVlO1xuICAgIG5ld1BhcmFtcy5ieXBhc3NHb3Zlcm5vciA9IHRydWU7XG4gICAgbmV3UGFyYW1zLm5vQ3JlYXRlRGF0YVNldCA9IGZhbHNlOyAvLyBuZXdQYXJhbXMuYWxsb3dSZXBsYWNlT0hMID0gdHJ1ZTtcblxuICAgIG5ld1BhcmFtcy5maXJzdExvb3AgPSB0cnVlO1xuICAgIHZhciBzeW1ib2wgPSB0aGlzLmNoYXJ0LnN5bWJvbDtcbiAgICB2YXIgcGVyaW9kID0gdGhpcy5sYXlvdXQucGVyaW9kaWNpdHk7XG4gICAgdmFyIGludGVydmFsID0gdGhpcy5sYXlvdXQuaW50ZXJ2YWw7XG4gICAgdmFyIHRpbWVVbml0ID0gdGhpcy5sYXlvdXQudGltZVVuaXQ7XG5cbiAgICBmdW5jdGlvbiBjYihxdW90ZSwgcHJldlF1b3RlLCBjaGFydEp1c3RBZHZhbmNlZCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuZXdEYXRhKSB7XG4gICAgICAgIHZhciBuZXdDbG9zZSA9IG5ld0RhdGEuQ2xvc2U7XG5cbiAgICAgICAgaWYgKCFjaGFydC5kYXRhU2V0Lmxlbmd0aCB8fCBzeW1ib2wgIT0gY2hhcnQuc3ltYm9sIHx8IHBlcmlvZCAhPSBzZWxmLmxheW91dC5wZXJpb2RpY2l0eSB8fCBpbnRlcnZhbCAhPSBzZWxmLmxheW91dC5pbnRlcnZhbCB8fCB0aW1lVW5pdCAhPSBzZWxmLmxheW91dC50aW1lVW5pdCkge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nIChcIi0tLS0gU1RPUCBhbmltYXRpbmc6IE9sZFwiLHN5bWJvbCwnIE5ldyA6ICcsY2hhcnQuc3ltYm9sLCBEYXRlKCkpXG4gICAgICAgICAgdGlja0FuaW1hdG9yLnN0b3AoKTtcbiAgICAgICAgICB1bmFuaW1hdGVTY3JvbGwoKTtcbiAgICAgICAgICByZXR1cm47IC8vIGNoYW5nZWQgc3ltYm9scyBtaWQgYW5pbWF0aW9uXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcSA9IENJUS5jbG9uZShxdW90ZSk7XG4gICAgICAgIHEuQ2xvc2UgPSBNYXRoLnJvdW5kKG5ld0Nsb3NlICogYW5pbWF0aW9uUGFyYW1ldGVycy5ncmFudWxhcml0eSkgLyBhbmltYXRpb25QYXJhbWV0ZXJzLmdyYW51bGFyaXR5OyAvLyA8PC0tLS0tLSBJTVBPUlRBTlQhIFVzZSAxMDAwMDAwIGZvciBzbWFsbCBwcmljZSBpbmNyZW1lbnRzLCBvdGhlcndpc2UgYW5pbWF0aW9uIHdpbGwgYmUgaW4gaW5jcmVtZW50cyBvZiAuMDAwMVxuICAgICAgICAvLyBxLkNsb3NlID0gTWF0aC5yb3VuZChuZXdDbG9zZSpjaGFydC5yb3VuZGl0KS9jaGFydC5yb3VuZGl0OyAvLyB0byBlbnN1cmUgZGVjaW1hbCBwb2ludHMgZG9uJ3QgZ28gb3V0IHRvbyBmYXIgZm9yIGludGVyaW0gdmFsdWVzXG4gICAgICAgIC8vIGlmIChjaGFydEp1c3RBZHZhbmNlZCkge1xuICAgICAgICAvLyAgICAgaWYgKCFxLk9wZW4gJiYgcS5PcGVuICE9PSAwKSBxLk9wZW4gPSBxLkNsb3NlO1xuICAgICAgICAvLyAgICAgaWYgKCFxLkhpZ2ggJiYgcS5IaWdoICE9PSAwKSBxLkhpZ2ggPSBNYXRoLm1heChxLk9wZW4sIHEuQ2xvc2UpO1xuICAgICAgICAvLyAgICAgaWYgKCFxLkxvdyAmJiBxLkxvdyAhPT0gMCkgcS5Mb3cgPSBNYXRoLm1pbihxLk9wZW4sIHEuQ2xvc2UpO1xuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgaWYgKHF1b3RlLkNsb3NlID4gcHJldlF1b3RlLkhpZ2gpIHEuSGlnaCA9IHEuQ2xvc2U7XG4gICAgICAgIC8vICAgICBpZiAocXVvdGUuQ2xvc2UgPCBwcmV2UXVvdGUuTG93KSBxLkxvdyA9IHEuQ2xvc2U7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBpZiAoY2hhcnQuYW5pbWF0aW5nSG9yaXpvbnRhbFNjcm9sbCkge1xuICAgICAgICAgIHNlbGYubWljcm9waXhlbHMgPSBuZXdEYXRhLm1pY3JvcGl4ZWxzO1xuICAgICAgICAgIGNoYXJ0Lmxhc3RUaWNrT2Zmc2V0ID0gbmV3RGF0YS5saW5lT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3UGFyYW1zLnVwZGF0ZURhdGFTZWdtZW50SW5QbGFjZSA9ICF0aWNrQW5pbWF0b3IuaGFzQ29tcGxldGVkOyAvLyBjb25zb2xlLmxvZyhcImFuaW1hdGluZzogT2xkXCIsc3ltYm9sLCcgTmV3IDogJyxjaGFydC5zeW1ib2wpO1xuXG4gICAgICAgIHZhciBwcm9ncmVzcyA9IHRpY2tBbmltYXRvci5mYyhEYXRlLm5vdygpIC0gdGlja0FuaW1hdG9yLnN0YXJ0VGltZSwgLy8gZGVsdGEgdGltZVxuICAgICAgICAwLCAvLyBzdGFydCB2YWx1ZVxuICAgICAgICAxLCAvLyBlbmQgdmFsdWVcbiAgICAgICAgdGlja0FuaW1hdG9yLm1zIC8vIGR1cmF0aW9uXG4gICAgICAgICk7IC8vIHRoZSBwcm9ncmVzcyB2YWx1ZSB3aWxsIGJlIHVzZWQgaW4gXCJDdXJyZW50U3BvdFN0b3JlLmRyYXdTcG90XCIgbWV0aG9kLlxuICAgICAgICAvLyBpdCdzIHVzZWQgdG8gcHJvcGVybHkgYXBwbG93IGdsb3cgZWZmZWN0IGFuZCBwb3NpdGlvbiB0aGUgY3VycmVudCBzcG90LlxuXG4gICAgICAgIHEudGlja0FuaW1hdGlvblByb2dyZXNzID0gTWF0aC5taW4ocHJvZ3Jlc3MsIDEpO1xuICAgICAgICBxLmNoYXJ0SnVzdEFkdmFuY2VkID0gY2hhcnRKdXN0QWR2YW5jZWQ7XG4gICAgICAgIHZhciB1cGRhdGVRdW90ZXMgPSBbcV07XG4gICAgICAgIGlmIChjaGFydEp1c3RBZHZhbmNlZCkgdXBkYXRlUXVvdGVzLnVuc2hpZnQocHJldlF1b3RlKTtcbiAgICAgICAgc2VsZi51cGRhdGVDaGFydERhdGEodXBkYXRlUXVvdGVzLCBjaGFydCwgbmV3UGFyYW1zKTtcbiAgICAgICAgbmV3UGFyYW1zLmZpcnN0TG9vcCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aWNrQW5pbWF0b3IuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgdW5hbmltYXRlU2Nyb2xsKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIC8qIGVuZCBmdW5jdGlvbiAqL1xuXG5cbiAgICBpZiAoc3VwcG9ydGVkQ2hhcnRUeXBlKSB7XG4gICAgICB2YXIgcXVvdGUgPSBhcHBlbmRRdW90ZXNbYXBwZW5kUXVvdGVzLmxlbmd0aCAtIDFdO1xuICAgICAgdGhpcy5wcmV2UXVvdGUgPSB0aGlzLmN1cnJlbnRRdW90ZSgpOyAvLyA8LS0tLSBwcmV2UXVvdGUgbG9naWMgaGFzIGJlZW4gY2hhbmdlZCB0byBwcmV2ZW50IGZvcndhcmQvYmFjayBqaXR0ZXIgd2hlbiBtb3JlIHRoYW4gb25lIHRpY2sgY29tZXMgaW4gYmV0d2VlbiBhbmltYXRpb25zXG5cbiAgICAgIHZhciBjaGFydEp1c3RBZHZhbmNlZCA9IGZhbHNlOyAvLyBXaGVuIGFkdmFuY2luZywgd2UgbmVlZCBzcGVjaWFsIGxvZ2ljIHRvIGRlYWwgd2l0aCB0aGUgb3BlblxuXG4gICAgICBpZiAocGVyaW9kID09IDEgJiYgYXBwZW5kUXVvdGVzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgIC8vIERvbid0IGRvIHRoaXMgaWYgY29uc29saWRhdGluZ1xuICAgICAgICB0aGlzLnByZXZRdW90ZSA9IGFwcGVuZFF1b3Rlc1swXTtcbiAgICAgICAgY29tcGxldGVMYXN0QmFyKHRoaXMucHJldlF1b3RlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFxdW90ZSB8fCAhcXVvdGUuQ2xvc2UgfHwgIXRoaXMucHJldlF1b3RlXG4gICAgICAvKiB8fCAhdGhpcy5wcmV2UXVvdGUuQ2xvc2UgKi9cbiAgICAgICkge1xuICAgICAgICAgIGlmICh0aGlzLnByZXZRdW90ZVxuICAgICAgICAgIC8qICYmIHF1b3RlICYmIHF1b3RlLkNsb3NlID09PSBudWxsIDxdIFs+ICYmICF0aGlzLnByZXZRdW90ZS5DbG9zZSAqL1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoY2hhcnQubG9ja1Njcm9sbFxuICAgICAgICAgICAgICAvKiAmJiBxdW90ZS5EVCA+PSB0aGlzLnByZXZRdW90ZS5EVCAqL1xuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGlmIChxdW90ZS5DbG9zZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aWNrQW5pbWF0b3Iuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB1bmFuaW1hdGVTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0LmVudHJ5VGljayAhPT0gbnVsbCAmJiBjaGFydC5lbnRyeVRpY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmlzaWJsZVRpY2tzID0gY2hhcnQuZGF0YVNldC5sZW5ndGggLSBjaGFydC5lbnRyeVRpY2sgKyAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE1heFRpY2tzKHZpc2libGVUaWNrcyArIDMpO1xuICAgICAgICAgICAgICAgICAgICBjaGFydC5zY3JvbGwgPSB2aXNpYmxlVGlja3MgKyAxO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wcmV2UXVvdGUuQ2xvc2UgPT09IG51bGwpIHtcbiAgICAgICAgdmFyIGJlZm9yZUN1cnJlbnRRdW90ZSA9IHRoaXMuY2hhcnQuZGF0YVNldFt0aGlzLmNoYXJ0LmRhdGFTZXQubGVuZ3RoIC0gMl07XG5cbiAgICAgICAgaWYgKGJlZm9yZUN1cnJlbnRRdW90ZSAmJiBiZWZvcmVDdXJyZW50UXVvdGUuQ2xvc2UpIHtcbiAgICAgICAgICB0aGlzLnByZXZRdW90ZSA9IGJlZm9yZUN1cnJlbnRRdW90ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZXh0ZW5kZWRIb3VycyAmJiBjaGFydC5tYXJrZXQubWFya2V0X2RlZikge1xuICAgICAgICAvLyBGaWx0ZXIgb3V0IHVud2FudGVkIHNlc3Npb25zXG4gICAgICAgIHZhciBkdFRvRmlsdGVyID0gcXVvdGUuRFQ7XG5cbiAgICAgICAgaWYgKENJUS5DaGFydEVuZ2luZS5pc0RhaWx5SW50ZXJ2YWwoaW50ZXJ2YWwpKSB7XG4gICAgICAgICAgZmlsdGVyU2Vzc2lvbiA9ICFjaGFydC5tYXJrZXQuaXNNYXJrZXREYXRlKGR0VG9GaWx0ZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKCFuZXh0Qm91bmRhcnkgfHwgbmV4dEJvdW5kYXJ5IDw9IGR0VG9GaWx0ZXIpIHtcbiAgICAgICAgICB2YXIgc2Vzc2lvbiA9IGNoYXJ0Lm1hcmtldC5nZXRTZXNzaW9uKGR0VG9GaWx0ZXIpO1xuICAgICAgICAgIGZpbHRlclNlc3Npb24gPSBzZXNzaW9uICE9PSAnJyAmJiAoIXRoaXMubGF5b3V0Lm1hcmtldFNlc3Npb25zIHx8ICF0aGlzLmxheW91dC5tYXJrZXRTZXNzaW9uc1tzZXNzaW9uXSk7XG4gICAgICAgICAgbmV4dEJvdW5kYXJ5ID0gY2hhcnQubWFya2V0W2ZpbHRlclNlc3Npb24gPyAnZ2V0TmV4dE9wZW4nIDogJ2dldE5leHRDbG9zZSddKGR0VG9GaWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlclNlc3Npb24pIHtcbiAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGJhclNwYW4gPSBwZXJpb2Q7XG4gICAgICBpZiAoaW50ZXJ2YWwgPT0gJ3NlY29uZCcgfHwgdGltZVVuaXQgPT0gJ3NlY29uZCcpIGJhclNwYW4gKj0gMTAwMDtlbHNlIGlmIChpbnRlcnZhbCA9PSAnbWludXRlJyB8fCB0aW1lVW5pdCA9PSAnbWludXRlJykgYmFyU3BhbiAqPSA2MDAwMDtcbiAgICAgIGlmICghaXNOYU4oaW50ZXJ2YWwpKSBiYXJTcGFuICo9IGludGVydmFsO1xuXG4gICAgICBpZiAoaW50ZXJ2YWwgPT0gJ2RheScgfHwgdGltZVVuaXQgPT0gJ2RheScpIHtcbiAgICAgICAgY2hhcnRKdXN0QWR2YW5jZWQgPSBxdW90ZS5EVC5nZXREYXRlKCkgIT0gdGhpcy5wcmV2UXVvdGUuRFQuZ2V0RGF0ZSgpO1xuICAgICAgfSBlbHNlIGlmIChpbnRlcnZhbCA9PSAnd2VlaycgfHwgdGltZVVuaXQgPT0gJ3dlZWsnKSB7XG4gICAgICAgIGNoYXJ0SnVzdEFkdmFuY2VkID0gcXVvdGUuRFQuZ2V0RGF0ZSgpID49IHRoaXMucHJldlF1b3RlLkRULmdldERhdGUoKSArIDc7XG4gICAgICB9IGVsc2UgaWYgKGludGVydmFsID09ICdtb250aCcgfHwgdGltZVVuaXQgPT0gJ21vbnRoJykge1xuICAgICAgICBjaGFydEp1c3RBZHZhbmNlZCA9IHF1b3RlLkRULmdldE1vbnRoKCkgIT0gdGhpcy5wcmV2UXVvdGUuRFQuZ2V0TW9udGgoKTtcbiAgICAgIH0gZWxzZSBjaGFydEp1c3RBZHZhbmNlZCA9IHF1b3RlLkRULmdldFRpbWUoKSA+PSB0aGlzLnByZXZRdW90ZS5EVC5nZXRUaW1lKCkgKyBiYXJTcGFuO1xuXG4gICAgICB2YXIgbGluZWFyQ2hhcnQgPSAoIXRoaXMubWFpblNlcmllc1JlbmRlcmVyIHx8ICF0aGlzLm1haW5TZXJpZXNSZW5kZXJlci5zdGFuZGFsb25lQmFycykgJiYgIXRoaXMuY2hhcnQuc3RhbmRhbG9uZUJhcnM7XG4gICAgICB2YXIgYmVnaW5uaW5nT2Zmc2V0ID0gMDtcblxuICAgICAgaWYgKGNoYXJ0SnVzdEFkdmFuY2VkKSB7XG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbnMuem9vbS5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICB2YXIgY2FuZGxlV2lkdGggPSB0aGlzLmxheW91dC5jYW5kbGVXaWR0aDtcblxuICAgICAgICAgIGlmIChjaGFydC5zY3JvbGwgPD0gY2hhcnQubWF4VGlja3MgJiYgIWNoYXJ0LmxvY2tTY3JvbGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1pY3JvcGl4ZWxzID4gMCkge1xuICAgICAgICAgICAgICAvLyBJZiBtaWNyb3BpeGVscyBpcyBsYXJnZXIgdGhhbiBhIGNhbmRsZSB0aGVuIHNjcm9sbCBiYWNrIGZ1cnRoZXJcbiAgICAgICAgICAgICAgdmFyIGNvdW50ID0gTWF0aC5jZWlsKHRoaXMubWljcm9waXhlbHMgLyBjYW5kbGVXaWR0aCk7XG4gICAgICAgICAgICAgIHRoaXMuc2Nyb2xsICs9IGNvdW50O1xuICAgICAgICAgICAgICB0aGlzLm1pY3JvcGl4ZWxzIC09IGNvdW50ICogY2FuZGxlV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNoYXJ0LnNjcm9sbCA8PSBjaGFydC5tYXhUaWNrcyAmJiAhY2hhcnQubG9ja1Njcm9sbCkge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91c01pY3JvUGl4ZWxzID0gdGhpcy5taWNyb3BpeGVscztcbiAgICAgICAgICAgIHRoaXMubmV4dE1pY3JvUGl4ZWxzID0gdGhpcy5taWNyb3BpeGVscyArIGNhbmRsZVdpZHRoO1xuICAgICAgICAgICAgYmVnaW5uaW5nT2Zmc2V0ID0gY2FuZGxlV2lkdGggKiAtMTtcblxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRhdGFTZWdtZW50ICYmIGNoYXJ0LmRhdGFTZWdtZW50Lmxlbmd0aCA8IGNoYXJ0Lm1heFRpY2tzIC0gYW5pbWF0aW9uUGFyYW1ldGVycy50aWNrc0Zyb21FZGdlT2ZTY3JlZW4gJiYgIWFuaW1hdGlvblBhcmFtZXRlcnMuc3RheVB1dCkge1xuICAgICAgICAgICAgICBjaGFydC5zY3JvbGwrKztcbiAgICAgICAgICAgICAgdGhpcy5uZXh0TWljcm9QaXhlbHMgPSB0aGlzLm1pY3JvcGl4ZWxzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGFydC5hbmltYXRpbmdIb3Jpem9udGFsU2Nyb2xsID0gbGluZWFyQ2hhcnQgJiYgIWNoYXJ0LmxvY2tTY3JvbGw7IC8vIFdoZW4gdGhlIGNoYXJ0IGFkdmFuY2VzIHdlIGFsc28gYW5pbWF0ZSB0aGUgaG9yaXpvbnRhbCBzY3JvbGwgYnkgaW5jcmVtZW50aW5nIG1pY3JvcGl4ZWxzXG5cbiAgICAgICAgICAgIGNoYXJ0LnByZXZpb3VzRGF0YVNldExlbmd0aCA9IGNoYXJ0LmRhdGFTZXQubGVuZ3RoO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnQubG9ja1Njcm9sbCkge1xuICAgICAgICAgICAgaWYgKGNoYXJ0LmVudHJ5VGljayAhPT0gdW5kZWZpbmVkICYmIGNoYXJ0LmVudHJ5VGljayAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB2YXIgZGF0YUxlbiA9IGNoYXJ0LmRhdGFTZXQubGVuZ3RoO1xuXG4gICAgICAgICAgICAgIHZhciBfdmlzaWJsZVRpY2tzID0gZGF0YUxlbiAtIGNoYXJ0LmVudHJ5VGljayArIDE7XG5cbiAgICAgICAgICAgICAgdGhpcy5zZXRNYXhUaWNrcyhfdmlzaWJsZVRpY2tzICsgMyk7XG4gICAgICAgICAgICAgIGNoYXJ0LnNjcm9sbCA9IF92aXNpYmxlVGlja3MgKyAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXRNYXhUaWNrcyhjaGFydC5kYXRhU2V0Lmxlbmd0aCArIChNYXRoLmZsb29yKGNoYXJ0LmRhdGFTZXQubGVuZ3RoIC8gNSkgfHwgMikpO1xuICAgICAgICAgICAgICBjaGFydC5zY3JvbGwgPSBjaGFydC5kYXRhU2V0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhcnQuc2Nyb2xsICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaGFydC5jbG9zZVBlbmRpbmdBbmltYXRpb24gPSBxdW90ZS5DbG9zZTtcbiAgICAgIHZhciBzdGFydCA9IGNoYXJ0SnVzdEFkdmFuY2VkICYmICFsaW5lYXJDaGFydCA/IHF1b3RlLk9wZW4gOiB0aGlzLnByZXZRdW90ZS5DbG9zZTtcbiAgICAgIHRpY2tBbmltYXRvci5ydW4oY2IocXVvdGUsIENJUS5jbG9uZSh0aGlzLnByZXZRdW90ZSksIGNoYXJ0SnVzdEFkdmFuY2VkKSwge1xuICAgICAgICBDbG9zZTogc3RhcnQsXG4gICAgICAgIG1pY3JvcGl4ZWxzOiBjaGFydC5sb2NrU2Nyb2xsID8gMCA6IHRoaXMubmV4dE1pY3JvUGl4ZWxzLFxuICAgICAgICBsaW5lT2Zmc2V0OiBiZWdpbm5pbmdPZmZzZXRcbiAgICAgIH0sIHtcbiAgICAgICAgQ2xvc2U6IHF1b3RlLkNsb3NlLFxuICAgICAgICBtaWNyb3BpeGVsczogdGhpcy5taWNyb3BpeGVscyxcbiAgICAgICAgbGluZU9mZnNldDogMFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gYnlwYXNzIGRlZmF1bHQgYmVoYXZpb3IgaWYgdGhlIGFuaW1hdGlvbiBpcyBvblxuICAgIH1cbiAgfSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvQ29udGV4dC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy91aS9Db250ZXh0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKipcbiAqIFVJIGNvbnRleHQgaGVscGVyIGNsYXNzLiBDb25zdHJ1Y3Qgd2l0aCBhbiB7QGxpbmsgQ0lRLkNoYXJ0RW5naW5lfSBvYmplY3RcbiAqIEBwYXJhbSB7Q0lRLkNoYXJ0RW5naW5lfSBzdHggVGhlIGNoYXJ0IG9iamVjdCB0byBhc3NvY2lhdGUgdGhpcyBVSVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdG9wTm9kZSBUaGUgdG9wIG5vZGUgb2YgdGhlIERPTSB0cmVlIGZvciB0aGlzIGNvbnRleHQuIFRoYXQgbm9kZSBzaG91bGQgY29udGFpblxuICogYWxsIG9mIHRoZSBVSSBlbGVtZW50cyBhc3NvY2lhdGVkIHdpdGggdGhlIENJUS5DaGFydEVuZ2luZVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBuYW1lIENJUS5VSS5Db250ZXh0XG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIENvbnRleHQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDb250ZXh0KHN0eCwgdG9wTm9kZSwgcGFyYW1zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRleHQpO1xuXG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXMgfHwge307XG4gICAgdGhpcy5zdHggPSBzdHg7XG4gICAgdGhpcy50b3BOb2RlID0gdG9wTm9kZTtcbiAgICB2YXIgc3RvcmFnZSA9IENvbnRleHQuYXNzZW1ibGVDb250ZXh0KHRvcE5vZGUpO1xuICAgIHRoaXMuYWR2ZXJ0aXNlZCA9IHt9O1xuICAgIHRvcE5vZGUuQ0lRLlVJLmNvbnRleHQgPSB0aGlzOyAvLyBTZWFyY2ggdGhyb3VnaCBhbGwgb2YgdGhlIGNvbXBvbmVudHMgdGhhdCBoYXZlIHJlZ2lzdGVyZWQgdGhlbXNlbHZlcy4gQ2FsbCBzZXRDb250ZXh0KCkgb24gZWFjaFxuICAgIC8vIHNvIHRoYXQgdGhleSBjYW4gZ2V0IHRoZWlyIGNvbnRleHQuIFRoaXMgdXN1YWxseSBpbml0aWFsaXplcyBhbmQgbWFrZXMgdGhlIGNvbXBvbmVudCBhY3RpdmUuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0b3JhZ2UuQ29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgc3RvcmFnZS5Db21wb25lbnRzW2ldLnNldENvbnRleHRQcml2YXRlKHRoaXMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVGhlIERPTSB0YWcgZm9yIGEgY29udGV4dCBuZWVkcyBzb21lIHN0b3JhZ2UuIENvbnRleHRUYWcgY29tcG9uZW50cyByZWdpc3RlclxuICAgKiB0aGVtc2VsdmVzIGJ5IHBsYWNpbmcgdGhlbXNlbHZlcyBpbiB0aGlzIHN0b3JhZ2UuIFRoaXMgbWV0aG9kIGNyZWF0ZXMgdGhhdFxuICAgKiBzdG9yYWdlLCBpZiBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGNyZWF0ZWQuXG4gICAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBjb250ZXh0RWxlbWVudCBUaGUgY29udGV4dCBub2RlXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSBzdG9yYWdlIG9iamVjdFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhDb250ZXh0LCBbe1xuICAgIGtleTogXCJhZHZlcnRpc2VBc1wiLFxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSBIZWxwZXIgdG8gdGhlIGNvbnRleHQsIHNvIHRoYXQgaXQgY2FuIGJlIGZvdW5kIGxhdGVyIG9uLlxuICAgICAqIEBwYXJhbSB7Q0lRLlVJLkhlbHBlcn0gdWlIZWxwZXIgQSBVSSBIZWxwZXIgdG8gYXR0YWNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGhlbHBlck5hbWUgVGhlIGhlbHBlck5hbWUgb2YgdGhlIGVsZW1lbnQuIEZvciBpbnN0YW5jZSBcIkxvYWRlclwiXG4gICAgICogQG1lbWJlcm9mIENJUS5VSS5Db250ZXh0XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkdmVydGlzZUFzKHVpSGVscGVyLCBoZWxwZXJOYW1lKSB7XG4gICAgICB0aGlzLmFkdmVydGlzZWRbaGVscGVyTmFtZV0gPSB1aUhlbHBlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIG5lYXJlc3QgKHBhcmVudCkgbm9kZSB0aGF0IGNvbnRhaW5zIHRoZSBjbGFzcyAoQ0lRLlVJLkVsZW1lbnQgdHlwZSkgcmVmZXJlbmNlZFxuICAgICAqIGJ5IGFuIHN0eHRhcCBhdHRyaWJ1dGUuIFJldHVybnMgbnVsbCBpZiBub25lIGZvdW5kLlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gaGVscGVyTmFtZSBUaGUgdHlwZSBvZiBVSSBIZWxwZXIgdG8gbG9vayBmb3JcbiAgICAgKiBAcmV0dXJuIHtBcnJheS5DSVEuVUkuSGVscGVyfSBUaGUgYXNzb2NpYXRlZCBhcnJheSBvZiBoZWxwZXJzIG9yIG51bGwgaWYgbm9uZSBmb3VuZFxuICAgICAqIEBtZW1iZXJvZiBDSVEuVUkuQ29udGV4dFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRBZHZlcnRpc2VkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFkdmVydGlzZWQoaGVscGVyTmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYWR2ZXJ0aXNlZFtoZWxwZXJOYW1lXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSBsb2FkZXIgdG8gYSBVSSBjb250ZXh0XG4gICAgICogQHBhcmFtIHtDSVEuVUkuTG9hZGVyfSBsb2FkZXIgTG9hZGVyIGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENJUS5VSS5Db250ZXh0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRMb2FkZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TG9hZGVyKGxvYWRlcikge1xuICAgICAgdGhpcy5sb2FkZXIgPSBsb2FkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElzIHRoZSBjb250ZXh0IGluIG1vZGFsIG1vZGU/XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBpbiBtb2RhbCBtb2RlXG4gICAgICogQG1lbWJlcm9mIENJUS5VSS5Db250ZXh0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc01vZGFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzTW9kYWwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHgub3BlbkRpYWxvZyAhPT0gJyc7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiYXNzZW1ibGVDb250ZXh0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFzc2VtYmxlQ29udGV4dChjb250ZXh0RWxlbWVudCkge1xuICAgICAgaWYgKCFjb250ZXh0RWxlbWVudC5DSVEpIHtcbiAgICAgICAgY29udGV4dEVsZW1lbnQuQ0lRID0ge307XG4gICAgICB9IC8vIGNsYWltIG91ciBuYW1lc3BhY2VcblxuXG4gICAgICBpZiAoIWNvbnRleHRFbGVtZW50LkNJUS5VSSkge1xuICAgICAgICBjb250ZXh0RWxlbWVudC5DSVEuVUkgPSB7fTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjb250ZXh0RWxlbWVudC5DSVEuVUkuQ29tcG9uZW50cykge1xuICAgICAgICBjb250ZXh0RWxlbWVudC5DSVEuVUkuQ29tcG9uZW50cyA9IFtdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGV4dEVsZW1lbnQuQ0lRLlVJO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb250ZXh0O1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKENvbnRleHQpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL0hlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL3VpL0hlbHBlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIGZvciBVSSBIZWxwZXJzXG4gKiBAbmFtZSBDSVEuVUkuSGVscGVyXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIEhlbHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEhlbHBlcihub2RlLCBjb250ZXh0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlbHBlcik7XG5cbiAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgdGhpcy5pbmplY3Rpb25zID0gW107IC8vIFRvIGtlZXAgdHJhY2sgb2YgaW5qZWN0aW9ucyBmb3IgbGF0ZXIgcmVtb3ZhbFxuICB9XG4gIC8qKlxuICAgKiBBZGRzIGFuIGluamVjdGlvbi4gVGhlc2Ugd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRlc3Ryb3llZCBpZiB0aGUgaGVscGVyIG9iamVjdCBpcyBkZXN0cm95ZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBvc2l0aW9uICBcInByZXBlbmRcIiBvciBcImFwcGVuZFwiXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmplY3Rpb24gVGhlIGluamVjdGlvbiBuYW1lLiBpLmUuIFwiZHJhd1wiXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvZGUgICAgICBUaGUgY29kZSB0byBiZSBydW5cbiAgICogQG1lbWJlcm9mIENJUS5VSS5IZWxwZXJcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSGVscGVyLCBbe1xuICAgIGtleTogXCJhZGRJbmplY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkSW5qZWN0aW9uKHBvc2l0aW9uLCBpbmplY3Rpb24sIGNvZGUpIHtcbiAgICAgIHRoaXMuaW5qZWN0aW9ucy5wdXNoKHRoaXMuY29udGV4dC5zdHhbcG9zaXRpb25dKGluamVjdGlvbiwgY29kZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGluamVjdGlvbnMgZnJvbSB0aGUgQ2hhcnRFbmdpbmVcbiAgICAgKiBAbWVtYmVyb2YgQ0lRLlVJLkhlbHBlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmluamVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LnN0eC5yZW1vdmVJbmplY3Rpb24odGhpcy5pbmplY3Rpb25zW2ldKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbmplY3Rpb25zID0gW107XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEhlbHBlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChIZWxwZXIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL0tleXN0cm9rZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL3VpL0tleXN0cm9rZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKipcbiAqIFVJIEhlbHBlciBmb3IgY2FwdHVyaW5nIGFuZCBoYW5kbGluZyBrZXlzdHJva2VzLiBjYiB0byBjYXB0dXJlIHRoZSBrZXkuIERldmVsb3BlciBpcyByZXNwb25zaWJsZVxuICogZm9yIGNhbGxpbmcgZS5wcmV2ZW50RGVmYXVsdCgpIGFuZC9vciBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICpcbiAqIEBuYW1lIENJUS5VSS5LZXlzdHJva2VcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtub2RlXSBUaGUgbm9kZSB0byB3aGljaCB0byBhdHRhY2gsIGdlbmVyYWxseSB0aGUgY2hhcnQgY29udGFpbmVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrIHdoZW4ga2V5IHByZXNzZWRcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgS2V5c3Ryb2tlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIFNldCB0aGlzIHRvIHRydWUgdG8gYnlwYXNzIGtleSBjYXB0dXJlLiBTaGlmdCwgQ1RSTCwgQ01EIHdpbGwgc3RpbGwgYmUgdG9nZ2xlZCBob3dldmVyXG4gICAqIEBtZW1iZXJvZiBDSVEuVUkuS2V5c3Ryb2tlXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gS2V5c3Ryb2tlKG5vZGUsIGNiKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLZXlzdHJva2UpO1xuXG4gICAgdGhpcy5rZXl1cCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIga2V5ID0gZS53aGljaDtcblxuICAgICAgaWYgKF90aGlzLmltcGxlbWVudEFuZHJvaWRXb3JrYXJvdW5kKSB7XG4gICAgICAgIF90aGlzLmFuZHJvaWRXb3JrYXJvdW5kS2V5dXAoZSk7XG5cbiAgICAgICAgX3RoaXMuaW1wbGVtZW50QW5kcm9pZFdvcmthcm91bmQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIF90aGlzLnNoaWZ0ID0gZmFsc2U7XG5cbiAgICAgICAgICBfdGhpcy5jYih7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICBrZXlzdHJva2U6IF90aGlzXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICBfdGhpcy5jdHJsID0gZmFsc2U7XG5cbiAgICAgICAgICBfdGhpcy5jYih7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICBrZXlzdHJva2U6IF90aGlzXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY2FzZSA5MTpcbiAgICAgICAgICBfdGhpcy5jbWQgPSBmYWxzZTtcblxuICAgICAgICAgIF90aGlzLmNiKHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgZTogZSxcbiAgICAgICAgICAgIGtleXN0cm9rZTogX3RoaXNcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfSAvLyBUaGlzIGlzIHdoZXJlIHdlIGhhbmRsZSB0aGUga2V5c3Ryb2tlLCByZWdhcmRsZXNzIG9mIHdoZXRoZXIgd2UgY2FwdHVyZWQgdGhlIGtleSB3aXRoIGEgZG93biBvciBwcmVzcyBldmVudFxuICAgICAgLy8gVGhlIGV4Y2VwdGlvbiB0byB0aGlzIGlzIHRoZSBhcnJvdyBrZXlzLCB3aGljaCBhcmUgcHJvY2Vzc2VkIGluIGtleWRvd25cblxuXG4gICAgICBpZiAoX3RoaXMua2V5KSB7XG4gICAgICAgIF90aGlzLmNiKHtcbiAgICAgICAgICBrZXk6IF90aGlzLmtleSxcbiAgICAgICAgICBlOiBlLFxuICAgICAgICAgIGtleXN0cm9rZTogX3RoaXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5kb3duVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcblxuICAgICAgaWYgKF90aGlzLm5vS2V5Q2FwdHVyZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXkgPSBlLndoaWNoO1xuXG4gICAgICBpZiAoa2V5ID09PSAyMjkgJiYgQ0lRLmlzQW5kcm9pZCkge1xuICAgICAgICBfdGhpcy5pbXBsZW1lbnRBbmRyb2lkV29ya2Fyb3VuZCA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5jdHJsKSB7XG4gICAgICAgIGlmIChrZXkgIT09IDkxICYmIGtleSA+PSA0OCAmJiBrZXkgPD0gMjIyIHx8IGtleSA9PT0gMzIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gLy8gaGFuZGxlZCBieSBrZXlwcmVzc1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlZmF1bHQtY2FzZVxuXG5cbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgOTE6XG4gICAgICAgICAgX3RoaXMuY21kID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBfdGhpcy5zaGlmdCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNhc2UgMTc6XG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgX3RoaXMuY3RybCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgX3RoaXMuY2Fwc0xvY2sgPSAhX3RoaXMuY2Fwc0xvY2s7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09PSA4KSB7XG4gICAgICAgIGtleSA9ICdiYWNrc3BhY2UnO1xuICAgICAgfSAvLyBkZWxldGUgb24gbWFjXG5cblxuICAgICAgaWYgKGtleSA9PT0gOSkge1xuICAgICAgICBrZXkgPSAndGFiJztcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PT0gMTMpIHtcbiAgICAgICAga2V5ID0gJ2VudGVyJztcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PT0gMjcpIHtcbiAgICAgICAga2V5ID0gJ2VzY2FwZSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09IDMzKSB7XG4gICAgICAgIGtleSA9ICdwYWdlIHVwJztcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PT0gMzQpIHtcbiAgICAgICAga2V5ID0gJ3BhZ2UgZG93bic7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09IDM1KSB7XG4gICAgICAgIGtleSA9ICdlbmQnO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09PSAzNikge1xuICAgICAgICBrZXkgPSAnaG9tZSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09IDQ1KSB7XG4gICAgICAgIGtleSA9ICdpbnNlcnQnO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09PSA0Nikge1xuICAgICAgICBrZXkgPSAnZGVsZXRlJztcbiAgICAgIH1cblxuICAgICAgX3RoaXMua2V5ID0ga2V5OyAvLyBJZiB5b3UgaG9sZCBhIGtleSBkb3duLCB0aGVuIGtleWRvd24gd2lsbCByZXBlYXQuIFRoZXNlIGFyZSB0aGUga2V5c1xuICAgICAgLy8gdGhhdCB3ZSB3YW50IHRvIGNhcHR1cmUgcmVwZWF0IGFjdGlvbi5cblxuICAgICAgaWYgKGtleSA9PT0gMzcgfHwga2V5ID09PSAzOCB8fCBrZXkgPT09IDM5IHx8IGtleSA9PT0gNDApIHtcbiAgICAgICAgaWYgKGtleSA9PT0gMzcpIHtcbiAgICAgICAgICBrZXkgPSAnbGVmdCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5ID09PSAzOCkge1xuICAgICAgICAgIGtleSA9ICd1cCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5ID09PSAzOSkge1xuICAgICAgICAgIGtleSA9ICdyaWdodCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5ID09PSA0MCkge1xuICAgICAgICAgIGtleSA9ICdkb3duJztcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmtleSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuY2Ioe1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIGU6IGUsXG4gICAgICAgICAga2V5c3Ryb2tlOiBfdGhpc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5rZXlwcmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMubm9LZXlDYXB0dXJlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGtleSA9IGUud2hpY2g7XG5cbiAgICAgIGlmIChrZXkgPCAzMiB8fCBrZXkgPiAyMjIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBoYW5kbGVkIGJ5IGtleWRvd25cblxuXG4gICAgICBfdGhpcy5rZXkgPSBrZXk7XG4gICAgfTtcblxuICAgIHRoaXMub25ibHVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLmN0cmwgPSBmYWxzZTtcblxuICAgICAgX3RoaXMuY2Ioe1xuICAgICAgICBrZXk6IDE3LFxuICAgICAgICBlOiBlLFxuICAgICAgICBrZXlzdHJva2U6IF90aGlzXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICB0aGlzLmNiID0gY2I7XG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgdGhpcy5zaGlmdCA9IGZhbHNlO1xuICAgIHRoaXMuY3RybCA9IGZhbHNlO1xuICAgIHRoaXMuY21kID0gZmFsc2U7XG4gICAgdGhpcy5jYXBzTG9jayA9IGZhbHNlO1xuICAgIHRoaXMuZG93blZhbHVlID0gJyc7IC8vIEFuZHJvaWQgQ2hyb21lIGJ1ZyByZXF1aXJlcyBhIHdvcmthcm91bmQgZm9yIGtleXVwLlxuICB9IC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzA3NDM0OTAvY2FwdHVyZS1rZXlzLXR5cGVkLW9uLWFuZHJvaWQtdmlydHVhbC1rZXlib2FyZC11c2luZy1qYXZhc2NyaXB0XG4gIC8vIE9uIENocm9tZSBBbmRyb2lkLCB0aGUga2V5ZG93bi9rZXl1cCBldmVudHMgYXJlIGJyb2tlbi4gV2UgaGF2ZSB0byBmaWd1cmUgb3V0IHRoZSBrZXkgdGhhdCB3YXMgcHJlc3NlZCBieVxuICAvLyBleGFtaW5pbmcgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGJveCBiZWZvcmUgKGtleWRvd24pIGFuZCBhZnRlciAoa2V5dXApIGFuZCBpZGVudGlmeWluZyB3aGF0IGNoYW5nZWRcbiAgLy8gTm90ZSB0aGF0IENJUS5pc0FuZHJvaWQgaXMgZmFsc2Ugd2hlbiB0aGUgdXNlciByZXF1ZXN0cyBcImRlc2t0b3Agc2l0ZVwiIGFuZCBzbyBzb21lIGlucHV0IGJveGVzIHdvbid0IHdvcmtcbiAgLy8gaW4gdGhhdCBzaXR1YXRpb24uIFRoZXJlIGlzIG5vIHdvcmthcm91bmQgb3RoZXIgdGhhbiB0byBhbHdheXMgdHJlYXQgMjI5IGFzIGEgZmFsc2UgdmFsdWUgKGl0IGlzIGEgc3dlZGlzaCBjaGFyYWN0ZXIpXG5cblxuICBfY3JlYXRlQ2xhc3MoS2V5c3Ryb2tlLCBbe1xuICAgIGtleTogXCJhbmRyb2lkV29ya2Fyb3VuZEtleXVwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFuZHJvaWRXb3JrYXJvdW5kS2V5dXAoZSkge1xuICAgICAgdmFyIG5ld1ZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICB2YXIga2V5O1xuXG4gICAgICBpZiAobmV3VmFsdWUubGVuZ3RoID4gdGhpcy5kb3duVmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG5ld1ZhbHVlLmNoYXJDb2RlQXQobmV3VmFsdWUubGVuZ3RoIC0gMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrZXkgPSAnZGVsZXRlJztcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYih7XG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBlOiBlLFxuICAgICAgICBrZXlzdHJva2U6IHRoaXNcbiAgICAgIH0pO1xuICAgIH0gLy8gTWFuYWdpbmcga2V5c3Ryb2tlIGV2ZW50cy4gV2Ugd2lsbCBnZXQgdGhyZWUga2V5IGV2ZW50cyBmcm9tIHRoZSBicm93c2VyOiBrZXlkb3duLCBrZXl1cCwga2V5cHJlc3NcbiAgICAvLyBUaGVzZSBjb21lIGluIGEgc3BlY2lmaWMgb3JkZXI6IGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvZG9tL2V2ZW50cy9rZXlzLmh0bWxcbiAgICAvLyBrZXlwcmVzcyBnaXZlcyB5b3UgdGhlIGNhcGl0YWxpemVkIG9yIHVuY2FwaXRhbGl6ZWQga2V5LCB1bmxpa2Uga2V5dXAva2V5ZG93blxuICAgIC8vIHdoaWNoIG9ubHkgZ2l2ZSB5b3UgdGhlIGFjdHVhbCBwaHlzaWNhbCBrZXkgdGhhdCB3YXMgcHJlc3NlZCBvbiB0aGUga2V5Ym9hcmRcbiAgICAvLyBrZXlwcmVzcyBpcyB0cmlnZ2VyZWQgKmJlZm9yZSogdGhlIGFjdGlvbiBtb2RpZmllcyB0aGUgaW5wdXQgZmllbGRcbiAgICAvL1xuICAgIC8vIFdlIGNhbiBjYXB0dXJlIGtleXN0cm9rZXMgb24gdGhlIGJvZHksIG9yIG9uIGFuIGlucHV0IGZpZWxkLiBXaGF0IHdlIHdhbnQgdG8gbWFrZSBzdXJlIGlzIHRoYXRcbiAgICAvLyB0aGUgaW5wdXQgZmllbGQgaXMgYWN0dWFsbHkgdXBkYXRlZCB3aGVuIHdlIHByb2Nlc3MgdGhlIHN0cm9rZS4gU2luY2Uga2V5cHJlc3MgYW5kIGtleWRvd24gb2NjdXJcbiAgICAvLyBiZWZvcmUgdGhlIGlucHV0IGZpZWxkIGlzIHVwZGF0ZWQsIHdlIHNhdmUgYW55IGtleSB0aGF0IGhhcyBiZWVuIGhhbmRsZWQgYnkgdGhlc2UgaW4gdGhpcy5rZXlcbiAgICAvLyBidXQgd2UgZG9uJ3QgcHJvY2VzcyB0aGUgc3Ryb2tlIHVudGlsIHRoZSBrZXl1cCBldmVudCBpcyBmaXJlZC4gVGhpcyBlbnN1cmVzIHRoYXQgb3VyIGhhbmRsZXJzXG4gICAgLy8gd2lsbCBhbHdheXMgaGF2ZSB0aGUgcmlnaHQga2V5IChjYXBpdGFsaXplZCkgYW5kIHRoYXQgaW5wdXQgZmllbGQgdmFsdWUgd2lsbCBiZSB1cCB0byBkYXRlLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW5pdGlhbGl6ZVwiLFxuXG4gICAgLyoqXG4gICAgICogaW5pdGlhbGl6ZXMgbWVtYmVyIGZ1bmNpdG9uc1xuICAgICAqIEBtZW1iZXJvZiBDSVEuVUkuS2V5c3Ryb2tlXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleXVwKTtcbiAgICAgIHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duKTtcbiAgICAgIHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMua2V5cHJlc3MpOyAvLyBvdGhlcndpc2UgY3RybC10IHRvIHN3aXRjaCB0YWJzIGNhdXNlcyBjdHJsIHRvIGdldCBzdHVja1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMub25ibHVyKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gS2V5c3Ryb2tlO1xufSgpO1xuXG5LZXlzdHJva2Uubm9LZXlDYXB0dXJlID0gZmFsc2U7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKEtleXN0cm9rZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvS2V5c3Ryb2tlSHViLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvdWkvS2V5c3Ryb2tlSHViLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0hlbHBlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9IZWxwZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL0hlbHBlci5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfS2V5c3Ryb2tlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0tleXN0cm9rZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvS2V5c3Ryb2tlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4gKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL2luZGV4LmpzXCIpO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItZGVzdHJ1Y3R1cmluZyAqL1xuXG5cblxuLyoqXG4gKiBVSSBIZWxwZXIgZm9yIGNhcHR1cmluZyBhbmQgaGFuZGxpbmcga2V5c3Ryb2tlcy4gQSBoZWxwZXIgb3IgQ29udGV4dFRhZyBjYW5cbiAqIFwiY2xhaW1cIiBrZXlzdHJva2VzIGFuZCBpbnRlcmNlcHQgdGhlbSwgb3RoZXJ3aXNlIHRoZSBrZXlzdHJva2VzIHdpbGwgYmUgaGFuZGxlZFxuICogYnkga2V5dXAgYW5kIGtleWRvd24uXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW25vZGVdIFRoZSBub2RlIHRvIHdoaWNoIHRvIGF0dGFjaCwgZ2VuZXJhbGx5IHRoZSBjaGFydCBjb250YWluZXJcbiAqIEBwYXJhbSB7Q0lRLlVJLkNvbnRleHR9IGNvbnRleHQgVGhlIGNvbnRleHQgZm9yIHRoZSBjaGFydFxuICogQHBhcmFtIHtPYmplY3R9IFtwYXJhbXNdIFBhcmFtZXRlcnMgdG8gZHJpdmUgdGhlIGhlbHBlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3BhcmFtcy5jYl0gQ2FsbGJhY2sgdG8gaGFuZGxlIGhvdCBrZXlzLlxuICogQG5hbWUgQ0lRLlVJLktleWJvYXJkU2hvcnRjdXRzXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG52YXIgS2V5c3Ryb2tlSHViID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSGVscGVyKSB7XG4gIF9pbmhlcml0cyhLZXlzdHJva2VIdWIsIF9IZWxwZXIpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoS2V5c3Ryb2tlSHViKTtcblxuICBmdW5jdGlvbiBLZXlzdHJva2VIdWIobm9kZSwgY29udGV4dCwgcGFyYW1zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEtleXN0cm9rZUh1Yik7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG5vZGUsIGNvbnRleHQsIHBhcmFtcyk7XG4gICAgX3RoaXMubm9kZSA9IG5vZGU7XG4gICAgX3RoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgX3RoaXMucGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICAgIEtleXN0cm9rZUh1Yi5pbnN0YW5jZSA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpO1xuXG4gICAgdmFyIHNlbGYgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLmhhbmRsZXIuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgX3RoaXMua2V5c3Ryb2tlID0gbmV3IF9LZXlzdHJva2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0obm9kZSwgaGFuZGxlcigpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEdsb2JhbCBkZWZhdWx0IGhvdGtleSBtZXRob2QuIFBhc3MgdGhpcyBvciB5b3VyIG93biBtZXRobyBpbiB0byBDSVEuVUkuS2V5c3Ryb2tlSHViXG4gICAqIEBtZW1iZXJvZiBDSVEuVUkuS2V5Ym9hcmRTaG9ydGN1dHNcbiAgICogQHBhcmFtICB7bnVtYmVyfSBrZXkgVGhlIHByZXNzZWQga2V5XG4gICAqIEBwYXJhbSAge0NJUS5VSS5LZXlzdHJva2VIdWJ9IGh1YiBUaGUgaHViIHRoYXQgcHJvY2Vzc2VkIHRoZSBrZXlcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgIFJldHVybiB0cnVlIGlmIHlvdSBjYXB0dXJlZCB0aGUga2V5XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKEtleXN0cm9rZUh1YiwgW3tcbiAgICBrZXk6IFwic2V0QWN0aXZlQ29udGV4dFwiLFxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSBhY3RpdmUgY29udGV4dCBmb3IgdGhlIGh1YiwgZm9yIGluc3RhbmNlIHdoZW4gZGVhbGluZyB3aXRoIG11bHRpcGxlIGNoYXJ0c1xuICAgICAqIEBwYXJhbSB7Q0lRLlVJLkNvbnRleHR9IGNvbnRleHQgVGhlIGNvbnRleHRcbiAgICAgKiBAbWVtYmVyb2YgQ0lRLlVJLktleXN0cm9rZUh1YlxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBY3RpdmVDb250ZXh0KGNvbnRleHQpIHtcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBodWJcbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogQHBhcmFtIGUgRXZlbnRcbiAgICAgKiBAcGFyYW0ga2V5c3Ryb2tlXG4gICAgICogQG1lbWJlcm9mIENJUS5VSS5LZXlzdHJva2VIdWJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicHJvY2Vzc0tleVN0cm9rZUNsYWltc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9jZXNzS2V5U3Ryb2tlQ2xhaW1zKGh1Yiwga2V5LCBlLCBrZXlzdHJva2UpIHtcbiAgICAgIGZvciAodmFyIGkgPSBfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjbGFpbXNcIl0ubGVuZ3RoIC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgICAgdmFyIGhlbHBlciA9IF9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNsYWltc1wiXVtpXS5oZWxwZXI7XG4gICAgICAgIHZhciByZXNwb25zZSA9IGhlbHBlci5rZXlTdHJva2UoaHViLCBrZXksIGUsIGtleXN0cm9rZSk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5hbGxvd0RlZmF1bHQpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFkZENsYWltXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENsYWltKGhlbHBlcikge1xuICAgICAgX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY2xhaW1zXCJdLnB1c2goe1xuICAgICAgICBoZWxwZXI6IGhlbHBlclxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUNsYWltXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUNsYWltKGhlbHBlcikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjbGFpbXNcIl0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKF9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNsYWltc1wiXVtpXS5oZWxwZXIgPT09IGhlbHBlcikge1xuICAgICAgICAgIF9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNsYWltc1wiXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMga2V5c3Ryb2tlc1xuICAgICAqIEBwYXJhbSAge29iamVjdH0gb2JqIEV2ZW50IG9iamVjdFxuICAgICAqIEBtZW1iZXJvZiBDSVEuVUkuS2V5c3Ryb2tlSHViXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlcihvYmopIHtcbiAgICAgIGlmICghdGhpcy5jb250ZXh0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0eCA9IHRoaXMuY29udGV4dC5zdHg7XG5cbiAgICAgIGlmIChzdHguZWRpdGluZ0Fubm90YXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZSA9IG9iai5lLFxuICAgICAgICAgIGtleSA9IG9iai5rZXksXG4gICAgICAgICAga2V5c3Ryb2tlID0gb2JqLmtleXN0cm9rZSxcbiAgICAgICAgICB0YXJnZXRUYWdOYW1lID0gb2JqLmUudGFyZ2V0LnRhZ05hbWU7XG5cbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgc3R4LnNoaWZ0ID0ga2V5c3Ryb2tlLnNoaWZ0O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTc6XG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgc3R4LmN0cmwgPSBrZXlzdHJva2UuY3RybDtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDkxOlxuICAgICAgICAgIHN0eC5jbWQgPSBrZXlzdHJva2UuY21kO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgdGhpcy5jYXBzTG9jayA9ICF0aGlzLmNhcHNMb2NrO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmICghQ0lRLkNoYXJ0RW5naW5lLmRyYXdpbmdMaW5lKSB7XG4gICAgICAgIGlmICh0aGlzLnByb2Nlc3NLZXlTdHJva2VDbGFpbXModGhpcywga2V5LCBlLCBrZXlzdHJva2UpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgIT09ICdlc2NhcGUnKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuaXNNb2RhbCgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXRUYWdOYW1lID09PSAnSU5QVVQnIHx8IHRhcmdldFRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyB0YXJnZXQgaXMgbm90IHRoZSBjaGFydFxuXG5cbiAgICAgIGlmICh0aGlzLnBhcmFtcy5jYikge1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMuY2Ioa2V5LCB0aGlzKSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImRlZmF1bHRIb3RLZXlzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRIb3RLZXlzKGtleSwgaHViKSB7XG4gICAgICB2YXIgc3R4ID0gaHViLmNvbnRleHQuc3R4O1xuICAgICAgdmFyIHB1c2ggPSAxO1xuXG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlICd1cCc6XG4gICAgICAgICAgc3R4Lnpvb21JbigpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICAgIHN0eC56b29tT3V0KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnaG9tZSc6XG4gICAgICAgICAgc3R4LmhvbWUoKTtcbiAgICAgICAgICBzdHguaGVhZHNVcEhSKCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZW5kJzpcbiAgICAgICAgICBzdHguY2hhcnQuc2Nyb2xsID0gc3R4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoO1xuICAgICAgICAgIHN0eC5kcmF3KCk7XG4gICAgICAgICAgc3R4LmhlYWRzVXBIUigpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgIGlmIChzdHguY3RybCkge1xuICAgICAgICAgICAgc3R4Lnpvb21PdXQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHVzaCA9IDE7XG5cbiAgICAgICAgICAgIGlmIChzdHguc2hpZnQgfHwgaHViLmNhcHNMb2NrKSB7XG4gICAgICAgICAgICAgIHB1c2ggPSBNYXRoLm1heCg1LCA1ICogKDggLSBNYXRoLnJvdW5kKHN0eC5sYXlvdXQuY2FuZGxlV2lkdGgpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHguY2hhcnQuc2Nyb2xsICsgcHVzaCA+PSBzdHguY2hhcnQuZGF0YVNldC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcHVzaCA9IHN0eC5jaGFydC5kYXRhU2V0Lmxlbmd0aCAtIHN0eC5jaGFydC5zY3JvbGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0eC5jaGFydC5zY3JvbGwgKz0gcHVzaDtcbiAgICAgICAgICAgIHN0eC5kcmF3KCk7XG4gICAgICAgICAgICBzdHguaGVhZHNVcEhSKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgIGlmIChzdHguY3RybCkge1xuICAgICAgICAgICAgc3R4Lnpvb21JbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwdXNoID0gMTtcblxuICAgICAgICAgICAgaWYgKHN0eC5zaGlmdCB8fCBodWIuY2Fwc0xvY2spIHtcbiAgICAgICAgICAgICAgcHVzaCA9IE1hdGgubWF4KDUsIDUgKiAoOCAtIE1hdGgucm91bmQoc3R4LmxheW91dC5jYW5kbGVXaWR0aCkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3R4LmNoYXJ0LnNjcm9sbCAtPSBwdXNoO1xuICAgICAgICAgICAgc3R4LmRyYXcoKTtcbiAgICAgICAgICAgIHN0eC5oZWFkc1VwSFIoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICBjYXNlICdiYWNrc3BhY2UnOlxuICAgICAgICAgIGlmIChDSVEuQ2hhcnRFbmdpbmUuZHJhd2luZ0xpbmUpIHtcbiAgICAgICAgICAgIHN0eC51bmRvKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdHguYW55SGlnaGxpZ2h0ZWQpIHtcbiAgICAgICAgICAgIHN0eC5kZWxldGVIaWdobGlnaHRlZCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZXNjYXBlJzpcbiAgICAgICAgICBpZiAoQ0lRLkNoYXJ0RW5naW5lLmRyYXdpbmdMaW5lKSB7XG4gICAgICAgICAgICBzdHgudW5kbygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBub3QgY2FwdHVyZWRcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEtleXN0cm9rZUh1Yjtcbn0oX0hlbHBlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSk7XG5cbktleXN0cm9rZUh1Yi5pbnN0YW5jZSA9IG51bGw7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKEtleXN0cm9rZUh1Yik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL3VpL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogY2xhaW1zICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNsYWltc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNsYWltczsgfSk7XG4vKipcbiAqIFNldCB0aGlzIGZsYWcgdG8gdHJ1ZSB0byBieXBhc3MgYmluZGluZ3Mgd2hlbiBhZGRpbmcgYSBjb21wb25lbnQgdG8gdGhlIERPTS5cbiAqIEZvciBpbnN0YW5jZSB3aGVuIGNvbXBvbmVudHMgYXJlIGNyZWF0ZWQgYnkgaHRtbDJjYW52YXMgd2UgZG9uJ3Qgd2FudCB0aGVtIHRvIGRvIGFueSBoZWF2eSBsaWZ0aW5nLlxuICogQHR5cGUge0Jvb2xlYW59XG4gKi9cbnZhciBjbGFpbXMgPSBbXTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy91aS91dGlscy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvdWkvdXRpbHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBnZXRQYXJlbnRzLCBjcmVhdGVFbGVtZW50LCBhZ2dyZWdhdGlvbiwgc2V0SGlkZGVuLCBkb3dubG9hZFVSSSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRQYXJlbnRzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0UGFyZW50czsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY3JlYXRlRWxlbWVudFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZUVsZW1lbnQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFnZ3JlZ2F0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gYWdncmVnYXRpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInNldEhpZGRlblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNldEhpZGRlbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZG93bmxvYWRVUklcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBkb3dubG9hZFVSSTsgfSk7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG4vLyBqUXVlcnkgcGFyZW50cygpIHZhbmlsbGEgYWx0ZXJuYXRpdmU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMjk4MTI0OC8xNDcxMjU4XG5mdW5jdGlvbiBnZXRQYXJlbnRzKGVsKSB7XG4gIHZhciBwYXJlbnRTZWxlY3RvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2JvZHknO1xuICB2YXIgcGFyZW50RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyZW50U2VsZWN0b3IpO1xuXG4gIGlmICghcGFyZW50RWxlbWVudCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBwYXJlbnRzID0gW107XG4gIHZhciBwID0gZWwucGFyZW50Tm9kZTtcblxuICB3aGlsZSAocCAhPT0gcGFyZW50RWxlbWVudCkge1xuICAgIC8vIGlmIHBhcmVudEVsZW1lbnQgaXMgbm90IGluIGhpZXJhcmNoeVxuICAgIGlmIChwID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcGFyZW50cy5wdXNoKHApO1xuICAgIHAgPSBwLnBhcmVudE5vZGU7XG4gIH0gLy8gSW5jbHVkZSBwYXJlbnQgZWxlbWVudCBpbiBwYXJlbnRzXG5cblxuICBwYXJlbnRzLnB1c2gocGFyZW50RWxlbWVudCk7XG4gIHJldHVybiBwYXJlbnRzO1xufVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudChodG1sKSB7XG4gIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHdyYXBwZXIuaW5uZXJIVE1MID0gaHRtbDtcbiAgcmV0dXJuIHdyYXBwZXIuZmlyc3RDaGlsZDtcbn0gLy8gQXV4aWxpYXJ5IGZ1bmN0aW9uIHRoYXQgZW5hYmxlcyBtdWx0aXBsZSBpbmhlcml0ZW5jZSB3aXRoIGVzNiBjbGFzc2VzOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDUzMzI5NTkvMTQ3MTI1OFxuXG5mdW5jdGlvbiBhZ2dyZWdhdGlvbihiYXNlQ2xhc3MpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1peGlucyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWl4aW5zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBjb3B5UHJvcHMgPSBmdW5jdGlvbiBjb3B5UHJvcHModGFyZ2V0LCBzb3VyY2UpIHtcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGNvcGllcyBhbGwgcHJvcGVydGllcyBhbmQgc3ltYm9scywgZmlsdGVyaW5nIG91dCBzb21lIHNwZWNpYWwgb25lc1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZSkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgaWYgKCFwcm9wLm1hdGNoKC9eKD86Y29uc3RydWN0b3J8cHJvdG90eXBlfGFyZ3VtZW50c3xjYWxsZXJ8bmFtZXxiaW5kfGNhbGx8YXBwbHl8dG9TdHJpbmd8bGVuZ3RoKSQvKSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBiYXNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfYmFzZUNsYXNzKSB7XG4gICAgX2luaGVyaXRzKGJhc2UsIF9iYXNlQ2xhc3MpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihiYXNlKTtcblxuICAgIGZ1bmN0aW9uIGJhc2UoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBiYXNlKTtcblxuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbC5hcHBseShfc3VwZXIsIFt0aGlzXS5jb25jYXQoYXJncykpO1xuICAgICAgbWl4aW5zLmZvckVhY2goZnVuY3Rpb24gKG1peGluKSB7XG4gICAgICAgIGNvcHlQcm9wcyhfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgbmV3IG1peGluKCkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlO1xuICB9KGJhc2VDbGFzcyk7XG5cbiAgbWl4aW5zLmZvckVhY2goZnVuY3Rpb24gKG1peGluKSB7XG4gICAgLy8gb3V0c2lkZSBjb250cnVjdG9yKCkgdG8gYWxsb3cgYWdncmVnYXRpb24oQSxCLEMpLnN0YXRpY0Z1bmN0aW9uKCkgdG8gYmUgY2FsbGVkIGV0Yy5cbiAgICBjb3B5UHJvcHMoYmFzZS5wcm90b3R5cGUsIG1peGluLnByb3RvdHlwZSk7XG4gICAgY29weVByb3BzKGJhc2UsIG1peGluKTtcbiAgfSk7XG4gIHJldHVybiBiYXNlO1xufVxuZnVuY3Rpb24gc2V0SGlkZGVuKGVsZW1lbnQsIGlzSGlkZGVuKSB7XG4gIGlmIChpc0hpZGRlbikge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRvd25sb2FkVVJJKHVyaSwgbmFtZSkge1xuICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgbGluay5kb3dubG9hZCA9IG5hbWU7XG4gIGxpbmsuaHJlZiA9IHVyaTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgbGluay5jbGljaygpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9mZWVkL0ZlZWQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2ZlZWQvRmVlZC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZXZlbnQtZW1pdHRlci1lczYgKi8gXCIuL25vZGVfbW9kdWxlcy9ldmVudC1lbWl0dGVyLWVzNi9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGV2ZW50X2VtaXR0ZXJfZXM2X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVGlja0hpc3RvcnlGb3JtYXR0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVGlja0hpc3RvcnlGb3JtYXR0ZXIgKi8gXCIuL3NyYy9mZWVkL1RpY2tIaXN0b3J5Rm9ybWF0dGVyLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3Vic2NyaXB0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3N1YnNjcmlwdGlvbiAqLyBcIi4vc3JjL2ZlZWQvc3Vic2NyaXB0aW9uL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19TZXJ2ZXJUaW1lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9TZXJ2ZXJUaW1lICovIFwiLi9zcmMvdXRpbHMvU2VydmVyVGltZS5qc1wiKTtcbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IHRocm93IF9lMjsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTMpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UzOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbXCJyZXR1cm5cIl0gIT0gbnVsbCkgaXRbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cblxuXG5cblxuXG5cblxudmFyIEZlZWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoRmVlZCwgW3tcbiAgICBrZXk6IFwic3RhcnRFcG9jaFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21haW5TdG9yZS5zdGF0ZS5zdGFydEVwb2NoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbmRFcG9jaFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21haW5TdG9yZS5zdGF0ZS5lbmRFcG9jaDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ3JhbnVsYXJpdHlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYWluU3RvcmUuY2hhcnQuZ3JhbnVsYXJpdHk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZGVyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFpblN0b3JlLmxvYWRlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibWFyZ2luXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFpblN0b3JlLnN0YXRlLm1hcmdpbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicGFnaW5hdGlvbkxvYWRlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21haW5TdG9yZS5wYWdpbmF0aW9uTG9hZGVyO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcIkVWRU5UX01BU1RFUl9EQVRBX1VQREFURVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdFVkVOVF9NQVNURVJfREFUQV9VUERBVEUnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJFVkVOVF9NQVNURVJfREFUQV9SRUlOSVRJQUxJWkVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnRVZFTlRfTUFTVEVSX0RBVEFfUkVBU1NJR04nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJFVkVOVF9DT01QQVJJU09OX0RBVEFfVVBEQVRFXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ0VWRU5UX0NPTVBBUklTT05fREFUQV9VUERBVEUnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJFVkVOVF9TVEFSVF9QQUdJTkFUSU9OXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ0VWRU5UX1NUQVJUX1BBR0lOQVRJT04nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJFVkVOVF9PTl9QQUdJTkFUSU9OXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ0VWRU5UX09OX1BBR0lOQVRJT04nO1xuICAgIH1cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIEZlZWQoYmluYXJ5QXBpLCBzdHgsIG1haW5TdG9yZSwgdHJhZGluZ1RpbWVzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGZWVkKTtcblxuICAgIHRoaXMuX2FjdGl2ZVN0cmVhbXMgPSB7fTtcbiAgICB0aGlzLl9pc0Nvbm5lY3Rpb25PcGVuZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5vblJhbmdlQ2hhbmdlZCA9IGZ1bmN0aW9uIChmb3JjZUxvYWQpIHtcbiAgICAgIHZhciBwZXJpb2RpY2l0eSA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImNhbGN1bGF0ZVRpbWVVbml0SW50ZXJ2YWxcIl0pKF90aGlzLmdyYW51bGFyaXR5KTtcbiAgICAgIHZhciByYW5nZVRpbWUgPSAoX3RoaXMuZ3JhbnVsYXJpdHkgfHwgMSkgKiBfdGhpcy5fc3R4LmNoYXJ0Lm1heFRpY2tzO1xuICAgICAgdmFyIGR0TGVmdCA9IG51bGw7XG4gICAgICB2YXIgZHRSaWdodCA9IG51bGw7XG5cbiAgICAgIF90aGlzLl9tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRJc1JlYWR5KGZhbHNlKTtcblxuICAgICAgaWYgKCFfdGhpcy5lbmRFcG9jaCkge1xuICAgICAgICBpZiAoX3RoaXMuc3RhcnRFcG9jaCkge1xuICAgICAgICAgIGR0TGVmdCA9IF90aGlzLnN0YXJ0RXBvY2ggPyBDSVEuc3RyVG9EYXRlVGltZShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRVVENEYXRlXCJdKShfdGhpcy5zdGFydEVwb2NoKSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGR0TGVmdCA9IENJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFVUQ0RhdGVcIl0pKF90aGlzLnN0YXJ0RXBvY2ggfHwgX3RoaXMuZW5kRXBvY2ggLSByYW5nZVRpbWUpKTtcbiAgICAgICAgZHRSaWdodCA9IENJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFVUQ0RhdGVcIl0pKF90aGlzLmVuZEVwb2NoKSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLl9zdHguc2V0UmFuZ2Uoe1xuICAgICAgICBkdExlZnQ6IGR0TGVmdCxcbiAgICAgICAgZHRSaWdodDogZHRSaWdodCxcbiAgICAgICAgcGVyaW9kaWNpdHk6IHBlcmlvZGljaXR5LFxuICAgICAgICBmb3JjZUxvYWQ6IGZvcmNlTG9hZFxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIV90aGlzLmVuZEVwb2NoICYmICFfdGhpcy5zdGFydEVwb2NoKSB7XG4gICAgICAgICAgX3RoaXMuX3N0eC5ob21lKCk7XG5cbiAgICAgICAgICBkZWxldGUgX3RoaXMuX3N0eC5sYXlvdXQucmFuZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuc2NhbGVDaGFydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuX21haW5TdG9yZS5zdGF0ZS5zYXZlTGF5b3V0KCk7XG5cbiAgICAgICAgX3RoaXMuX21haW5TdG9yZS5zdGF0ZS5zZXRDaGFydElzUmVhZHkodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fc3R4ID0gc3R4O1xuICAgIHRoaXMuX2JpbmFyeUFwaSA9IGJpbmFyeUFwaTtcbiAgICB0aGlzLl9tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5fc2VydmVyVGltZSA9IF91dGlsc19TZXJ2ZXJUaW1lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLmdldEluc3RhbmNlKCk7XG4gICAgdGhpcy5fdHJhZGluZ1RpbWVzID0gdHJhZGluZ1RpbWVzO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG1haW5TdG9yZS5zdGF0ZS5pc0Nvbm5lY3Rpb25PcGVuZWQ7XG4gICAgfSwgdGhpcy5vbkNvbm5lY3Rpb25DaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEoe1xuICAgICAgZW1pdERlbGF5OiAwXG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRmVlZCwgW3tcbiAgICBrZXk6IFwic2NhbGVDaGFydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY2FsZUNoYXJ0KCkge1xuICAgICAgaWYgKHRoaXMuc3RhcnRFcG9jaCkge1xuICAgICAgICBpZiAodGhpcy5fc3R4LmFuaW1hdGlvbnMubGl2ZVNjcm9sbCAmJiB0aGlzLl9zdHguYW5pbWF0aW9ucy5saXZlU2Nyb2xsLnJ1bm5pbmcpIHtcbiAgICAgICAgICB0aGlzLl9zdHguYW5pbWF0aW9ucy5saXZlU2Nyb2xsLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5lbmRFcG9jaCkge1xuICAgICAgICAgIHRoaXMuX3N0eC5tYXhNYXN0ZXJEYXRhU2l6ZSA9IDA7XG4gICAgICAgICAgdGhpcy5fc3R4LmNoYXJ0LmxvY2tTY3JvbGwgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3N0eC5jaGFydC5pc0Rpc3BsYXlGdWxsTW9kZSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuX3N0eC5jaGFydC5sb2NrU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdHguc2V0TWF4VGlja3ModGhpcy5fc3R4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoICsgKE1hdGguZmxvb3IodGhpcy5fc3R4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoIC8gNSkgfHwgMikpO1xuXG4gICAgICAgIHRoaXMuX3N0eC5jaGFydC5zY3JvbGwgPSB0aGlzLl9zdHguY2hhcnQuZGF0YVNldC5sZW5ndGg7XG4gICAgICAgIHRoaXMuX3N0eC5jaGFydC5pc1Njcm9sbExvY2F0aW9uQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmb3IgdGljayBjb25kaXRpb24gd2l0aCBmZXcgcG9pbnRzLCBpbiB0aGF0IGNhc2UsIGlmIHlvdXIgdHJ5IHRvIHpvb20gaW5cbiAgICAgICAgICogYXMgdGhlIG1heFRpY2tzIGlzIGxlc3MgdGhhbiBtaW5pbXVtWm9vbVRpY2tzLCBjaGFydCB6b29tIG91dCBiZXNpZGUgb2ZcbiAgICAgICAgICogem9vbSBpbiwgYXMgYSByZXN1bHQsIHdlIHRyeSB0byBvdmVycmlkZSB0aGUgbWluaW11bVpvb21UaWNrcyB0byBwcmV2ZW50IHRoYXRcbiAgICAgICAgICovXG5cbiAgICAgICAgaWYgKHRoaXMuX3N0eC5jaGFydC5tYXhUaWNrcyA8IHRoaXMuX3N0eC5taW5pbXVtWm9vbVRpY2tzKSB7XG4gICAgICAgICAgdGhpcy5fc3R4Lm1pbmltdW1ab29tVGlja3MgPSB0aGlzLl9zdHguY2hhcnQubWF4VGlja3MgLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3R4LmRyYXcoKTtcbiAgICAgIH1cbiAgICB9IC8vIGFsdGhvdWdoIG5vdCB1c2VkLCBzdWJzY3JpYmUgaXMgb3ZlcnJpZGRlbiBzbyB0aGF0IHVuc3Vic2NyaWJlIHdpbGwgYmUgY2FsbGVkIGJ5IENoYXJ0SVFcblxuICB9LCB7XG4gICAga2V5OiBcInN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmUoKSB7fSAvLyBEbyBub3QgY2FsbCBleHBsaWNpdGx5ISBNZXRob2QgYmVsb3cgaXMgY2FsbGVkIGJ5IENoYXJ0SVEgd2hlbiB1bnN1YnNjcmliaW5nIHN5bWJvbHMuXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bnN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnN1YnNjcmliZShfcmVmKSB7XG4gICAgICB2YXIgc3ltYm9sID0gX3JlZi5zeW1ib2wsXG4gICAgICAgICAgcGVyaW9kID0gX3JlZi5wZXJpb2QsXG4gICAgICAgICAgaW50ZXJ2YWwgPSBfcmVmLmludGVydmFsO1xuICAgICAgLy8gdGhlIGNoYXJ0IGZvcmdldHMgdGhlIHRpY2tzX2hpc3Rvcnkgb2YgdGhlIG1haW4gY2hhcnQgc3ltYm9sIGJlZm9yZSBzZW5kaW5nIGEgbmV3IHJlcXVlc3QgaW4gZmV0Y2hJbml0aWFsRGF0YSBmdW5jdGlvbi5cbiAgICAgIGlmICh0aGlzLl9zdHguY2hhcnQuc3ltYm9sID09PSBzeW1ib2wpIHJldHVybjtcbiAgICAgIHZhciBncmFudWxhcml0eSA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImNhbGN1bGF0ZUdyYW51bGFyaXR5XCJdKShwZXJpb2QsIGludGVydmFsKTtcblxuICAgICAgdmFyIGtleSA9IHRoaXMuX2dldEtleSh7XG4gICAgICAgIHN5bWJvbDogc3ltYm9sLFxuICAgICAgICBncmFudWxhcml0eTogZ3JhbnVsYXJpdHlcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9mb3JnZXRTdHJlYW0oa2V5KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2ZvcmdldFN0cmVhbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZm9yZ2V0U3RyZWFtKGtleSkge1xuICAgICAgaWYgKHRoaXMuX2FjdGl2ZVN0cmVhbXNba2V5XSkge1xuICAgICAgICB0aGlzLl9hY3RpdmVTdHJlYW1zW2tleV0uZm9yZ2V0KCk7XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuX2FjdGl2ZVN0cmVhbXNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmV0Y2hJbml0aWFsRGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2ZldGNoSW5pdGlhbERhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoc3ltYm9sLCBzdWdnZXN0ZWRTdGFydERhdGUsIHN1Z2dlc3RlZEVuZERhdGUsIHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHBlcmlvZCwgaW50ZXJ2YWwsIHN5bWJvbE9iamVjdCwgZ3JhbnVsYXJpdHksIGtleSwgbG9jYWxEYXRlLCBpc0NvbXBhcmlzb25DaGFydCwgc3RhcnQsIGVuZCwgY29tcGFyaXNvbkNoYXJ0U3ltYm9sLCBzeW1ib2xOYW1lLCBkYXRhQ2FsbGJhY2ssIHRpY2tIaXN0b3J5UmVxdWVzdCwgZ2V0SGlzdG9yeU9ubHksIHF1b3Rlcywgc3Vic2NyaXB0aW9uLCBkZWxheSwgdGV4dCwgcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnNldEhhc1JlYWNoZWRFbmRPZkRhdGEoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbkxvYWRlci51cGRhdGVPblBhZ2luYXRpb24odHJ1ZSk7XG4gICAgICAgICAgICAgICAgcGVyaW9kID0gcGFyYW1zLnBlcmlvZCwgaW50ZXJ2YWwgPSBwYXJhbXMuaW50ZXJ2YWwsIHN5bWJvbE9iamVjdCA9IHBhcmFtcy5zeW1ib2xPYmplY3Q7XG4gICAgICAgICAgICAgICAgZ3JhbnVsYXJpdHkgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjYWxjdWxhdGVHcmFudWxhcml0eVwiXSkocGVyaW9kLCBpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAga2V5ID0gdGhpcy5fZ2V0S2V5KHtcbiAgICAgICAgICAgICAgICAgIHN5bWJvbDogc3ltYm9sLFxuICAgICAgICAgICAgICAgICAgZ3JhbnVsYXJpdHk6IGdyYW51bGFyaXR5XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbG9jYWxEYXRlID0gdGhpcy5fc2VydmVyVGltZS5nZXRMb2NhbERhdGUoKTtcbiAgICAgICAgICAgICAgICBzdWdnZXN0ZWRTdGFydERhdGUgPSBzdWdnZXN0ZWRTdGFydERhdGUgPiBsb2NhbERhdGUgPyBsb2NhbERhdGUgOiBzdWdnZXN0ZWRTdGFydERhdGU7XG4gICAgICAgICAgICAgICAgaXNDb21wYXJpc29uQ2hhcnQgPSB0aGlzLl9zdHguY2hhcnQuc3ltYm9sICE9PSBzeW1ib2w7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLnN0YXJ0RXBvY2ggfHwgTWF0aC5mbG9vcihzdWdnZXN0ZWRTdGFydERhdGUgLyAxMDAwIHwgMCk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLm1hcmdpbiAmJiB0aGlzLnN0YXJ0RXBvY2ggPyBzdGFydCAtIHRoaXMubWFyZ2luIDogc3RhcnQ7XG4gICAgICAgICAgICAgICAgZW5kID0gdGhpcy5tYXJnaW4gJiYgdGhpcy5lbmRFcG9jaCA/IHRoaXMuZW5kRXBvY2ggKyB0aGlzLm1hcmdpbiA6IHRoaXMuZW5kRXBvY2g7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXJpc29uQ2hhcnQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFN0cmFuZ2UgaXNzdWUgd2hlcmUgY29tcGFyaXNvbiBzZXJpZXMgaXMgb2Zmc2V0IGJ5IHRpbWV6b25lLi4uXG4gICAgICAgICAgICAgICAgICBzdGFydCAtPSBzdWdnZXN0ZWRTdGFydERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbXBhcmlzb25DaGFydFN5bWJvbCA9IGlzQ29tcGFyaXNvbkNoYXJ0ID8gc3ltYm9sIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHN5bWJvbE5hbWUgPSBzeW1ib2xPYmplY3QubmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlci5zZXRTdGF0ZSgnY2hhcnQtZGF0YScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl90cmFkaW5nVGltZXMuaXNGZWVkVW5hdmFpbGFibGUoc3ltYm9sKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFpblN0b3JlLm5vdGlmaWVyLm5vdGlmeUZlZWRVbmF2YWlsYWJsZShzeW1ib2xOYW1lKTtcblxuICAgICAgICAgICAgICAgIGRhdGFDYWxsYmFjayA9IHtcbiAgICAgICAgICAgICAgICAgIHF1b3RlczogW11cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGFyaXNvbkNoYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAvLyBQYXNzaW5nIGVycm9yIHdpbGwgcHJldmVudCB0aGUgY2hhcnQgZnJvbSBiZWluZyBzaG93bjsgZm9yXG4gICAgICAgICAgICAgICAgICAvLyBtYWluIGNoYXJ0IHdlIHN0aWxsIHdhbnQgdGhlIGNoYXJ0IHRvIGJlIHNob3duLCBqdXN0IGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICBkYXRhQ2FsbGJhY2sgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICdTdHJlYW1pbmdOb3RBbGxvd2VkJyxcbiAgICAgICAgICAgICAgICAgICAgc3VwcHJlc3NBbGVydDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgfSwgZGF0YUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5fbWFpblN0b3JlLmNoYXJ0LnNldENoYXJ0QXZhaWxhYmlsaXR5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICAgICAgICB0aWNrSGlzdG9yeVJlcXVlc3QgPSB7XG4gICAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgICAgICBzeW1ib2w6IHN5bWJvbCxcbiAgICAgICAgICAgICAgICAgIGdyYW51bGFyaXR5OiBncmFudWxhcml0eVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2V0SGlzdG9yeU9ubHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICghZW5kKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZXJlIGlzIGVuZDsgbm8gc3RyZWFtaW5nIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgdGlja0hpc3RvcnlSZXF1ZXN0LmVuZCA9IGVuZDtcbiAgICAgICAgICAgICAgICBnZXRIaXN0b3J5T25seSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjg6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl90cmFkaW5nVGltZXMuaXNNYXJrZXRPcGVuZWQoc3ltYm9sKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDUyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsYXkgPSB0aGlzLl90cmFkaW5nVGltZXMuZ2V0RGVsYXllZE1pbnV0ZXMoc3ltYm9sKTtcblxuICAgICAgICAgICAgICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuX21haW5TdG9yZS5ub3RpZmllci5ub3RpZnlEZWxheWVkTWFya2V0KHN5bWJvbE5hbWUsIGRlbGF5KTtcblxuICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IF9zdWJzY3JpcHRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkRlbGF5ZWRTdWJzY3JpcHRpb25cIl0odGlja0hpc3RvcnlSZXF1ZXN0LCB0aGlzLl9iaW5hcnlBcGksIHRoaXMuX3N0eCwgZGVsYXkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgX3N1YnNjcmlwdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiUmVhbHRpbWVTdWJzY3JpcHRpb25cIl0odGlja0hpc3RvcnlSZXF1ZXN0LCB0aGlzLl9iaW5hcnlBcGksIHRoaXMuX3N0eCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDMxO1xuXG4gICAgICAgICAgICAgICAgLy8gVGhlIGNoYXJ0IHNob3VsZCBmb3JnZXQgYWxsIHRpY2tzX2hpc3Rvcnkgc3Vic2NyaXB0aW9ucyB3aGVuIHRoZSBzeW1ib2wvZ3JhbnVsYXJpdHkgb2YgdGhlIG1haW4gY2hhcnQgaXMgY2hhbmdlZCBiZWZvcmUgc2VuZGluZyB0aGUgbmV3IHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgaWYgKCFpc0NvbXBhcmlzb25DaGFydCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZUFsbCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uLmluaXRpYWxGZXRjaCgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzU6XG4gICAgICAgICAgICAgICAgcXVvdGVzID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzg7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDMxKTtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gX2NvbnRleHQudDAubWVzc2FnZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX21haW5TdG9yZS5ub3RpZmllci5ub3RpZnkoe1xuICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2FjdGl2ZXN5bWJvbCdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgIHF1b3RlczogW11cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDQ6XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLm9uQ2hhcnREYXRhKGZ1bmN0aW9uICh0aWNrUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBjb21taW5nIHRpY2tzIHRvIGNoYXJ0IG9ubHkgaWYgaXQgYmVsb25ncyB0byBzZWxlY3RlZCBzeW1ib2wgYWZ0ZXIgc3ltYm9sIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhcmlzb25DaGFydCB8fCBzeW1ib2wgPT09IF90aGlzMi5fc3R4LmNoYXJ0LnN5bWJvbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLl9zdHguaXNEZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICBfdGhpczIuX2FwcGVuZENoYXJ0RGF0YSh0aWNrUmVzcG9uc2UsIGtleSwgY29tcGFyaXNvbkNoYXJ0U3ltYm9sKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTsgLy8gaWYgc3ltYm9sIGlzIGNoYW5nZWQgYmVmb3JlIHJlcXVlc3QgaXMgY29tcGxldGVkLCBwYXN0IHJlcXVlc3QgbmVlZHMgdG8gYmUgZm9yZ290dGVuOlxuXG4gICAgICAgICAgICAgICAgaWYgKCEoIWlzQ29tcGFyaXNvbkNoYXJ0ICYmIHRoaXMuX3N0eC5jaGFydC5zeW1ib2wgIT09IHN5bWJvbCkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgIHF1b3RlczogW11cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24uZm9yZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ5OlxuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVN0cmVhbXNba2V5XSA9IHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA1MjpcbiAgICAgICAgICAgICAgICB0aGlzLl9tYWluU3RvcmUubm90aWZpZXIubm90aWZ5TWFya2V0Q2xvc2Uoc3ltYm9sTmFtZSk7IC8vIEFsdGhvdWdoIG1hcmtldCBpcyBjbG9zZWQsIHdlIGRpc3BsYXkgdGhlIHBhc3QgdGljayBoaXN0b3J5IGRhdGFcblxuXG4gICAgICAgICAgICAgICAgZ2V0SGlzdG9yeU9ubHkgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTQ6XG4gICAgICAgICAgICAgICAgaWYgKCFnZXRIaXN0b3J5T25seSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU3O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9iaW5hcnlBcGkuZ2V0VGlja0hpc3RvcnkodGlja0hpc3RvcnlSZXF1ZXN0KTtcblxuICAgICAgICAgICAgICBjYXNlIDU3OlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICBxdW90ZXMgPSBfVGlja0hpc3RvcnlGb3JtYXR0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIlRpY2tIaXN0b3J5Rm9ybWF0dGVyXCJdLmZvcm1hdEhpc3RvcnkocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTk6XG4gICAgICAgICAgICAgICAgaWYgKHF1b3Rlcykge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDYzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gcXVvdGVzIGZvdW5kISEnKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICBxdW90ZXM6IFtdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDYzOlxuICAgICAgICAgICAgICAgIHF1b3RlcyA9IHRoaXMuX3RyaW1RdW90ZXMocXVvdGVzKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICBxdW90ZXM6IHF1b3Rlc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFpblN0b3JlLmNoYXJ0LnVwZGF0ZVlheGlzV2lkdGgoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGVDaGFydCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdERhdGFVcGRhdGUocXVvdGVzLCBjb21wYXJpc29uQ2hhcnRTeW1ib2wsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFpblN0b3JlLnN0YXRlLnNldE1heHRUaWNrKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzMxLCAzOF1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZmV0Y2hJbml0aWFsRGF0YShfeCwgX3gyLCBfeDMsIF94NCwgX3g1KSB7XG4gICAgICAgIHJldHVybiBfZmV0Y2hJbml0aWFsRGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmV0Y2hJbml0aWFsRGF0YTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJmZXRjaFBhZ2luYXRpb25EYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZmV0Y2hQYWdpbmF0aW9uRGF0YSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoc3ltYm9sLCBzdWdnZXN0ZWRTdGFydERhdGUsIGVuZERhdGUsIHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGVuZCwgc3RhcnQsIHBlcmlvZCwgaW50ZXJ2YWwsIGdyYW51bGFyaXR5LCBpc01haW5DaGFydDtcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBlbmQgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRVVENFcG9jaFwiXSkoZW5kRGF0ZSk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRVVENFcG9jaFwiXSkoc3VnZ2VzdGVkU3RhcnREYXRlKTtcbiAgICAgICAgICAgICAgICBwZXJpb2QgPSBwYXJhbXMucGVyaW9kLCBpbnRlcnZhbCA9IHBhcmFtcy5pbnRlcnZhbDtcbiAgICAgICAgICAgICAgICBncmFudWxhcml0eSA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImNhbGN1bGF0ZUdyYW51bGFyaXR5XCJdKShwZXJpb2QsIGludGVydmFsKTtcbiAgICAgICAgICAgICAgICBpc01haW5DaGFydCA9IHRoaXMuX3N0eC5jaGFydC5zeW1ib2wgPT09IHN5bWJvbDtcblxuICAgICAgICAgICAgICAgIGlmIChpc01haW5DaGFydCkge1xuICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGNvbXBhcmlzb25zXG4gICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoRmVlZC5FVkVOVF9TVEFSVF9QQUdJTkFUSU9OLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBlbmRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UGFnaW5hdGlvbkRhdGEoc3ltYm9sLCBncmFudWxhcml0eSwgc3RhcnQsIGVuZCwgY2FsbGJhY2spO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBmZXRjaFBhZ2luYXRpb25EYXRhKF94NiwgX3g3LCBfeDgsIF94OSwgX3gxMCkge1xuICAgICAgICByZXR1cm4gX2ZldGNoUGFnaW5hdGlvbkRhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZldGNoUGFnaW5hdGlvbkRhdGE7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldFBhZ2luYXRpb25EYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0UGFnaW5hdGlvbkRhdGEyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhzeW1ib2wsIGdyYW51bGFyaXR5LCBzdGFydCwgZW5kLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgaXNNYWluQ2hhcnQsIG5vdywgc3RhcnRMaW1pdCwgcmVzdWx0LCBmaXJzdEVwb2NoLCByZXNwb25zZSwgdGV4dCwgbmV3U3RhcnQsIHBhZ2luYXRpb25FbmQ7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaXNNYWluQ2hhcnQgPSB0aGlzLl9zdHguY2hhcnQuc3ltYm9sID09PSBzeW1ib2w7IC8vIFRPRE8gVGhlcmUgaXMgbm8gbmVlZCB0byBnZXQgaGlzdG9yaWNhbCBkYXRhIGJlZm9yZSBzdGFydFRpbWVcblxuICAgICAgICAgICAgICAgIGlmICghKHRoaXMuc3RhcnRFcG9jaFxuICAgICAgICAgICAgICAgIC8qICYmIHN0YXJ0IDwgdGhpcy5zdGFydEVwb2NoICovXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5lbmRFcG9jaCAmJiBlbmQgPiB0aGlzLmVuZEVwb2NoKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgbW9yZUF2YWlsYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBxdW90ZXM6IFtdXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNNYWluQ2hhcnQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBjb21wYXJpc29uc1xuICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KEZlZWQuRVZFTlRfT05fUEFHSU5BVElPTiwge1xuICAgICAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogZW5kXG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRIYXNSZWFjaGVkRW5kT2ZEYXRhKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBub3cgPSB0aGlzLl9zZXJ2ZXJUaW1lLmdldEVwb2NoKCk7IC8vIFRpY2sgaGlzdG9yeSBkYXRhIG9ubHkgZ29lcyBhcyBmYXIgYmFjayBhcyAzIHllYXJzOlxuXG4gICAgICAgICAgICAgICAgc3RhcnRMaW1pdCA9IG5vdyAtIE1hdGguY2VpbCgyLjggKiAzNjUgKiAyNCAqIDYwICogNjApO1xuICAgICAgICAgICAgICAgIC8qID09IDMgWWVhcnMgKi9cblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgIHF1b3RlczogW11cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKCEoZW5kID4gc3RhcnRMaW1pdCkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmluYXJ5QXBpLmdldFRpY2tIaXN0b3J5KHtcbiAgICAgICAgICAgICAgICAgIHN5bWJvbDogc3ltYm9sLFxuICAgICAgICAgICAgICAgICAgZ3JhbnVsYXJpdHk6IGdyYW51bGFyaXR5LFxuICAgICAgICAgICAgICAgICAgc3RhcnQ6IE1hdGguZmxvb3IoTWF0aC5tYXgoc3RhcnQsIHN0YXJ0TGltaXQpKSxcbiAgICAgICAgICAgICAgICAgIGVuZDogZW5kXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRleHQgPSByZXNwb25zZS5lcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2luYXRpb25Mb2FkZXIudXBkYXRlT25QYWdpbmF0aW9uKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX21haW5TdG9yZS5ub3RpZmllci5ub3RpZnkoe1xuICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2FjdGl2ZXN5bWJvbCdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgIGVycm9yOiByZXNwb25zZS5lcnJvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgZmlyc3RFcG9jaCA9IEZlZWQuZ2V0Rmlyc3RFcG9jaChyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIShmaXJzdEVwb2NoID09PSB1bmRlZmluZWQgfHwgZmlyc3RFcG9jaCA9PT0gZW5kKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5ld1N0YXJ0ID0gc3RhcnQgLSAoZW5kIC0gc3RhcnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEobmV3U3RhcnQgPD0gc3RhcnRMaW1pdCkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBQYXNzZWQgYXZhaWxhYmxlIHJhbmdlLiBQcmV2ZW50IGFueW1vcmUgcGFnaW5hdGlvbiByZXF1ZXN0czpcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICBtb3JlQXZhaWxhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIHF1b3RlczogW11cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEhhc1JlYWNoZWRFbmRPZkRhdGEodHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI5O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQYWdpbmF0aW9uRGF0YShzeW1ib2wsIGdyYW51bGFyaXR5LCBuZXdTdGFydCwgZW5kLCBjYWxsYmFjayk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDMwOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5xdW90ZXMgPSBfVGlja0hpc3RvcnlGb3JtYXR0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIlRpY2tIaXN0b3J5Rm9ybWF0dGVyXCJdLmZvcm1hdEhpc3RvcnkocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0RXBvY2ggPD0gc3RhcnRMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICBtb3JlQXZhaWxhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcXVvdGVzOiBbXVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnNldEhhc1JlYWNoZWRFbmRPZkRhdGEodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzODtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMzQ7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzW1wiY2F0Y2hcIl0oOSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dDMudDApO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDMudDBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc01haW5DaGFydCkge1xuICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGNvbXBhcmlzb25zXG4gICAgICAgICAgICAgICAgICAvLyBwcmV2ZW50IG92ZXJsYXBwaW5nIGJ5IHNldHRpbmcgcGFnaW5hdGlvbiBlbmQgYXMgZmlyc3RFcG9jaFxuICAgICAgICAgICAgICAgICAgLy8gaWYgJ2VuZCcgaXMgZ3JlYXRlciB0aGFuIGZpcnN0RXBvY2ggZnJvbSBmZWVkXG4gICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uRW5kID0gZW5kID4gZmlyc3RFcG9jaCA/IGZpcnN0RXBvY2ggOiBlbmQ7XG5cbiAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChGZWVkLkVWRU5UX09OX1BBR0lOQVRJT04sIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IHBhZ2luYXRpb25FbmRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMywgdGhpcywgW1s5LCAzNF1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX2dldFBhZ2luYXRpb25EYXRhKF94MTEsIF94MTIsIF94MTMsIF94MTQsIF94MTUpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRQYWdpbmF0aW9uRGF0YTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9nZXRQYWdpbmF0aW9uRGF0YTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJzZXRIYXNSZWFjaGVkRW5kT2ZEYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEhhc1JlYWNoZWRFbmRPZkRhdGEoaGFzUmVhY2hlZEVuZE9mRGF0YSkge1xuICAgICAgdGhpcy5wYWdpbmF0aW9uTG9hZGVyLnVwZGF0ZU9uUGFnaW5hdGlvbihmYWxzZSk7XG5cbiAgICAgIGlmICh0aGlzLl9tYWluU3RvcmUuc3RhdGUuaGFzUmVhY2hlZEVuZE9mRGF0YSAhPT0gaGFzUmVhY2hlZEVuZE9mRGF0YSkge1xuICAgICAgICB0aGlzLl9tYWluU3RvcmUuc3RhdGUuaGFzUmVhY2hlZEVuZE9mRGF0YSA9IGhhc1JlYWNoZWRFbmRPZkRhdGE7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVuc3Vic2NyaWJlQWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlQWxsKCkge1xuICAgICAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9hY3RpdmVTdHJlYW1zKTsgX2kgPCBfT2JqZWN0JGtleXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBfT2JqZWN0JGtleXNbX2ldO1xuXG4gICAgICAgIHRoaXMuX2ZvcmdldFN0cmVhbShrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZm9yZ2V0SWZFbmRFcG9jaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZm9yZ2V0SWZFbmRFcG9jaChrZXkpIHtcbiAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLl9hY3RpdmVTdHJlYW1zW2tleV07XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcblxuICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGFzdEVwb2NoID0gc3Vic2NyaXB0aW9uLmxhc3RTdHJlYW1FcG9jaDtcblxuICAgICAgaWYgKHRoaXMuZW5kRXBvY2ggJiYgbGFzdEVwb2NoICsgdGhpcy5ncmFudWxhcml0eSA+IHRoaXMuZW5kRXBvY2gpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVN0cmVhbXNba2V5XSAmJiB0aGlzLmdyYW51bGFyaXR5ID09PSAwICYmICF0aGlzLl9tYWluU3RvcmUuc3RhdGUuaXNTdGF0aWNDaGFydCAmJiBDSVEuc3RyVG9EYXRlVGltZShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRVVENEYXRlXCJdKSh0aGlzLmVuZEVwb2NoKSkudmFsdWVPZigpID49IHRoaXMuX3N0eC5jaGFydC5kYXRhU2V0LnNsaWNlKC0xKVswXS5EVC52YWx1ZU9mKCkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZvcmdldFN0cmVhbShrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBlbmRDaGFydERhdGFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGVuZENoYXJ0RGF0YShxdW90ZXMsIGtleSwgY29tcGFyaXNvbkNoYXJ0U3ltYm9sKSB7XG4gICAgICBpZiAodGhpcy5fZm9yZ2V0SWZFbmRFcG9jaChrZXkpICYmICF0aGlzLl9hY3RpdmVTdHJlYW1zW2tleV0pIHtcbiAgICAgICAgcXVvdGVzID0gW107XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZW5kRXBvY2ggJiYgQ0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZ2V0VVRDRGF0ZVwiXSkodGhpcy5lbmRFcG9jaCkpLnZhbHVlT2YoKSAhPT0gdGhpcy5fc3R4LmNoYXJ0LmRhdGFTZXQuc2xpY2UoLTEpWzBdLkRULnZhbHVlT2YoKSkge1xuICAgICAgICB0aGlzLl9zdHgudXBkYXRlQ2hhcnREYXRhKFt7XG4gICAgICAgICAgRFQ6IENJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFVUQ0RhdGVcIl0pKHRoaXMuZW5kRXBvY2gpKSxcbiAgICAgICAgICBDbG9zZTogbnVsbFxuICAgICAgICB9XSwgbnVsbCwge1xuICAgICAgICAgIGZpbGxHYXBzOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3N0eC5jcmVhdGVEYXRhU2V0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb21wYXJpc29uQ2hhcnRTeW1ib2wpIHtcbiAgICAgICAgdGhpcy5fc3R4LnVwZGF0ZUNoYXJ0RGF0YShxdW90ZXMsIG51bGwsIHtcbiAgICAgICAgICBzZWNvbmRhcnlTZXJpZXM6IGNvbXBhcmlzb25DaGFydFN5bWJvbCxcbiAgICAgICAgICBub0NyZWF0ZURhdGFTZXQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zdHgudXBkYXRlQ2hhcnREYXRhKHF1b3RlcywgbnVsbCwge1xuICAgICAgICAgIGFsbG93UmVwbGFjZU9ITDogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9zdHguY3JlYXRlRGF0YVNldCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9lbWl0RGF0YVVwZGF0ZShxdW90ZXMsIGNvbXBhcmlzb25DaGFydFN5bWJvbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9lbWl0RGF0YVVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW1pdERhdGFVcGRhdGUocXVvdGVzLCBjb21wYXJpc29uQ2hhcnRTeW1ib2wpIHtcbiAgICAgIHZhciBpc0NoYXJ0UmVpbml0aWFsaXplZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG4gICAgICB2YXIgcHJldiA9IHF1b3Rlc1txdW90ZXMubGVuZ3RoIC0gMl07XG4gICAgICB2YXIgcHJldkNsb3NlID0gcHJldiAhPT0gdW5kZWZpbmVkID8gcHJldi5DbG9zZSA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGRhdGFVcGRhdGUgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHF1b3Rlc1txdW90ZXMubGVuZ3RoIC0gMV0pLCB7fSwge1xuICAgICAgICBwcmV2Q2xvc2U6IHByZXZDbG9zZVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghY29tcGFyaXNvbkNoYXJ0U3ltYm9sKSB7XG4gICAgICAgIGlmIChpc0NoYXJ0UmVpbml0aWFsaXplZCkge1xuICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChGZWVkLkVWRU5UX01BU1RFUl9EQVRBX1JFSU5JVElBTElaRSk7XG5cbiAgICAgICAgICB0aGlzLl9tYWluU3RvcmUuY2hhcnQuc2V0Q2hhcnRBdmFpbGFiaWxpdHkodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KEZlZWQuRVZFTlRfTUFTVEVSX0RBVEFfVVBEQVRFLCBkYXRhVXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KEZlZWQuRVZFTlRfQ09NUEFSSVNPTl9EQVRBX1VQREFURSwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgc3ltYm9sOiBjb21wYXJpc29uQ2hhcnRTeW1ib2xcbiAgICAgICAgfSwgZGF0YVVwZGF0ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbk1hc3RlckRhdGFVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25NYXN0ZXJEYXRhVXBkYXRlKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9lbWl0dGVyLm9uKEZlZWQuRVZFTlRfTUFTVEVSX0RBVEFfVVBEQVRFLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9mZk1hc3RlckRhdGFVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmTWFzdGVyRGF0YVVwZGF0ZShjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vZmYoRmVlZC5FVkVOVF9NQVNURVJfREFUQV9VUERBVEUsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25NYXN0ZXJEYXRhUmVpbml0aWFsaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTWFzdGVyRGF0YVJlaW5pdGlhbGl6ZShjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbihGZWVkLkVWRU5UX01BU1RFUl9EQVRBX1JFSU5JVElBTElaRSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvZmZNYXN0ZXJEYXRhUmVpbml0aWFsaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZk1hc3RlckRhdGFSZWluaXRpYWxpemUoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIub2ZmKEZlZWQuRVZFTlRfTUFTVEVSX0RBVEFfUkVJTklUSUFMSVpFLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ29tcGFyaXNvbkRhdGFVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Db21wYXJpc29uRGF0YVVwZGF0ZShjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbihGZWVkLkVWRU5UX0NPTVBBUklTT05fREFUQV9VUERBVEUsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25QYWdpbmF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUGFnaW5hdGlvbihjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbihGZWVkLkVWRU5UX09OX1BBR0lOQVRJT04sIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib2ZmUGFnaW5hdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmZQYWdpbmF0aW9uKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9lbWl0dGVyLm9mZihGZWVkLkVWRU5UX09OX1BBR0lOQVRJT04sIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25TdGFydFBhZ2luYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TdGFydFBhZ2luYXRpb24oY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIub24oRmVlZC5FVkVOVF9TVEFSVF9QQUdJTkFUSU9OLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9mZlN0YXJ0UGFnaW5hdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmZTdGFydFBhZ2luYXRpb24oY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIub2ZmKEZlZWQuRVZFTlRfU1RBUlRfUEFHSU5BVElPTiwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkNvbm5lY3Rpb25DaGFuZ2VkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ29ubmVjdGlvbkNoYW5nZWQoKSB7XG4gICAgICB2YXIgaXNPcGVuZWQgPSB0aGlzLl9tYWluU3RvcmUuc3RhdGUuaXNDb25uZWN0aW9uT3BlbmVkO1xuXG4gICAgICBpZiAoaXNPcGVuZWQgPT09IHVuZGVmaW5lZCB8fCBpc09wZW5lZCA9PT0gdGhpcy5faXNDb25uZWN0aW9uT3BlbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNDb25uZWN0aW9uT3BlbmVkID0gaXNPcGVuZWQ7XG5cbiAgICAgIGlmIChpc09wZW5lZCkge1xuICAgICAgICB0aGlzLl9vbkNvbm5lY3Rpb25SZW9wZW5lZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fb25Db25uZWN0aW9uQ2xvc2VkKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vbkNvbm5lY3Rpb25DbG9zZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uQ29ubmVjdGlvbkNsb3NlZCgpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLl9hY3RpdmVTdHJlYW1zKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVN0cmVhbXNba2V5XS5wYXVzZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jb25uZWN0aW9uQ2xvc2VkRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vbkNvbm5lY3Rpb25SZW9wZW5lZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Db25uZWN0aW9uUmVvcGVuZWQoKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2FjdGl2ZVN0cmVhbXMpO1xuXG4gICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3RoaXMkX3VucGFja0tleSA9IHRoaXMuX3VucGFja0tleShrZXlzWzBdKSxcbiAgICAgICAgICBncmFudWxhcml0eSA9IF90aGlzJF91bnBhY2tLZXkuZ3JhbnVsYXJpdHk7XG5cbiAgICAgIHZhciBlbGFwc2VkU2Vjb25kcyA9IChuZXcgRGF0ZSgpIC0gdGhpcy5fY29ubmVjdGlvbkNsb3NlZERhdGUpIC8gMTAwMCB8IDA7XG4gICAgICB2YXIgbWF4SWRsZVNlY29uZHMgPSAoZ3JhbnVsYXJpdHkgfHwgMSkgKiB0aGlzLl9zdHguY2hhcnQubWF4VGlja3M7XG5cbiAgICAgIGlmIChlbGFwc2VkU2Vjb25kcyA+PSBtYXhJZGxlU2Vjb25kcykge1xuICAgICAgICB0aGlzLl9tYWluU3RvcmUuY2hhcnQucmVmcmVzaENoYXJ0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoa2V5cyksXG4gICAgICAgICAgICBfc3RlcDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc3VtZVN0cmVhbShrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2Nvbm5lY3Rpb25DbG9zZWREYXRlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcmVzdW1lU3RyZWFtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXN1bWVTdHJlYW0oa2V5KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJF91bnBhY2tLZXkyID0gdGhpcy5fdW5wYWNrS2V5KGtleSksXG4gICAgICAgICAgc3ltYm9sID0gX3RoaXMkX3VucGFja0tleTIuc3ltYm9sO1xuXG4gICAgICB2YXIgY29tcGFyaXNvbkNoYXJ0U3ltYm9sID0gdGhpcy5fc3R4LmNoYXJ0LnN5bWJvbCAhPT0gc3ltYm9sID8gc3ltYm9sIDogdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLl9hY3RpdmVTdHJlYW1zW2tleV0ucmVzdW1lKCkudGhlbihmdW5jdGlvbiAocXVvdGVzKSB7XG4gICAgICAgIGlmIChfdGhpczMuX3N0eC5pc0Rlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICAgIF90aGlzMy5fYXBwZW5kQ2hhcnREYXRhKHF1b3Rlcywga2V5LCBjb21wYXJpc29uQ2hhcnRTeW1ib2wpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRLZXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEtleShfcmVmMikge1xuICAgICAgdmFyIHN5bWJvbCA9IF9yZWYyLnN5bWJvbCxcbiAgICAgICAgICBncmFudWxhcml0eSA9IF9yZWYyLmdyYW51bGFyaXR5O1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHN5bWJvbCwgXCItXCIpLmNvbmNhdChncmFudWxhcml0eSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl91bnBhY2tLZXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VucGFja0tleShrZXkpIHtcbiAgICAgIHZhciBfa2V5JHNwbGl0ID0ga2V5LnNwbGl0KCctJyksXG4gICAgICAgICAgX2tleSRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfa2V5JHNwbGl0LCAyKSxcbiAgICAgICAgICBzeW1ib2wgPSBfa2V5JHNwbGl0MlswXSxcbiAgICAgICAgICBncmFudWxhcml0eSA9IF9rZXkkc3BsaXQyWzFdO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzeW1ib2w6IHN5bWJvbCxcbiAgICAgICAgZ3JhbnVsYXJpdHk6ICtncmFudWxhcml0eVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3RyaW1RdW90ZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3RyaW1RdW90ZXMoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIHF1b3RlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgICB2YXIgc3RhcnRUaWNrSW5kZXggPSBudWxsO1xuICAgICAgdmFyIGVuZFRpY2tJbmRleCA9IG51bGw7XG4gICAgICB2YXIgdHJpbW1lZFF1b3RlcyA9IHF1b3RlcztcbiAgICAgIGlmICghdHJpbW1lZFF1b3Rlcy5sZW5ndGgpIHJldHVybiBbXTtcblxuICAgICAgaWYgKHRoaXMuc3RhcnRFcG9jaCAmJiB0aGlzLm1hcmdpbikge1xuICAgICAgICBzdGFydFRpY2tJbmRleCA9IHRyaW1tZWRRdW90ZXMuZmluZEluZGV4KGZ1bmN0aW9uICh0aWNrKSB7XG4gICAgICAgICAgcmV0dXJuIENJUS5zdHJUb0RhdGVUaW1lKHRpY2suRGF0ZSkgPj0gQ0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZ2V0VVRDRGF0ZVwiXSkoX3RoaXM0LnN0YXJ0RXBvY2gpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHN0YXJ0VGlja0luZGV4ID4gLTEpIHtcbiAgICAgICAgICB0cmltbWVkUXVvdGVzID0gdHJpbW1lZFF1b3Rlcy5zbGljZShzdGFydFRpY2tJbmRleCAtIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmVuZEVwb2NoICYmIHRoaXMubWFyZ2luKSB7XG4gICAgICAgIGVuZFRpY2tJbmRleCA9IHRyaW1tZWRRdW90ZXMuZmluZEluZGV4KGZ1bmN0aW9uICh0aWNrKSB7XG4gICAgICAgICAgcmV0dXJuIENJUS5zdHJUb0RhdGVUaW1lKHRpY2suRGF0ZSkgPj0gQ0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZ2V0VVRDRGF0ZVwiXSkoX3RoaXM0LmVuZEVwb2NoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChlbmRUaWNrSW5kZXggPiAtMSkge1xuICAgICAgICAgIHZhciBhZGRvbiA9IHRyaW1tZWRRdW90ZXNbZW5kVGlja0luZGV4XS5EYXRlID09PSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRVVENEYXRlXCJdKSh0aGlzLmVuZEVwb2NoKSA/IDIgOiAxO1xuICAgICAgICAgIHRyaW1tZWRRdW90ZXMgPSB0cmltbWVkUXVvdGVzLnNsaWNlKDAsIGVuZFRpY2tJbmRleCArIGFkZG9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJpbW1lZFF1b3RlcztcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJnZXRGaXJzdEVwb2NoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpcnN0RXBvY2goX3JlZjMpIHtcbiAgICAgIHZhciBjYW5kbGVzID0gX3JlZjMuY2FuZGxlcyxcbiAgICAgICAgICBoaXN0b3J5ID0gX3JlZjMuaGlzdG9yeTtcblxuICAgICAgaWYgKGNhbmRsZXMgJiYgY2FuZGxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBjYW5kbGVzWzBdLmVwb2NoO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGlzdG9yeSAmJiBoaXN0b3J5LnRpbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHRpbWVzID0gaGlzdG9yeS50aW1lcztcbiAgICAgICAgcmV0dXJuICt0aW1lc1swXTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmVlZDtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChGZWVkKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZmVlZC9UaWNrSGlzdG9yeUZvcm1hdHRlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2ZlZWQvVGlja0hpc3RvcnlGb3JtYXR0ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBUaWNrSGlzdG9yeUZvcm1hdHRlciAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUaWNrSGlzdG9yeUZvcm1hdHRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRpY2tIaXN0b3J5Rm9ybWF0dGVyOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cblxudmFyIFRpY2tIaXN0b3J5Rm9ybWF0dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVGlja0hpc3RvcnlGb3JtYXR0ZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpY2tIaXN0b3J5Rm9ybWF0dGVyKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaWNrSGlzdG9yeUZvcm1hdHRlciwgbnVsbCwgW3tcbiAgICBrZXk6IFwiZm9ybWF0SGlzdG9yeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRIaXN0b3J5KHJlc3BvbnNlKSB7XG4gICAgICB2YXIgaGlzdG9yeSA9IHJlc3BvbnNlLmhpc3RvcnksXG4gICAgICAgICAgY2FuZGxlcyA9IHJlc3BvbnNlLmNhbmRsZXM7XG5cbiAgICAgIGlmIChoaXN0b3J5KSB7XG4gICAgICAgIHZhciB0aW1lcyA9IGhpc3RvcnkudGltZXMsXG4gICAgICAgICAgICBwcmljZXMgPSBoaXN0b3J5LnByaWNlcztcbiAgICAgICAgdmFyIHF1b3RlcyA9IHByaWNlcy5tYXAoZnVuY3Rpb24gKHAsIGlkeCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBEYXRlOiBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRVVENEYXRlXCJdKSgrdGltZXNbaWR4XSksXG4gICAgICAgICAgICBDbG9zZTogK3BcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHF1b3RlcztcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbmRsZXMpIHtcbiAgICAgICAgdmFyIF9xdW90ZXMgPSBjYW5kbGVzLm1hcChmdW5jdGlvbiAoYykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBEYXRlOiBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRVVENEYXRlXCJdKSgrYy5lcG9jaCksXG4gICAgICAgICAgICBPcGVuOiArYy5vcGVuLFxuICAgICAgICAgICAgSGlnaDogK2MuaGlnaCxcbiAgICAgICAgICAgIExvdzogK2MubG93LFxuICAgICAgICAgICAgQ2xvc2U6ICtjLmNsb3NlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIF9xdW90ZXM7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdFRpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0VGljayhyZXNwb25zZSkge1xuICAgICAgdmFyIHRpY2sgPSByZXNwb25zZS50aWNrLFxuICAgICAgICAgIG9obGMgPSByZXNwb25zZS5vaGxjO1xuXG4gICAgICBpZiAodGljaykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIERhdGU6IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldFVUQ0RhdGVcIl0pKCt0aWNrLmVwb2NoKSxcbiAgICAgICAgICBDbG9zZTogK3RpY2sucXVvdGUsXG4gICAgICAgICAgLy8gS2VlcCB0aGUgb3JpZ2lhbCB2YWx1ZS5cbiAgICAgICAgICAvLyBJdCdsbCBiZSB1c2VkIHRvIHBhc3MgZG93biB0byBkZXJpdi5hcHAgaW4gQm90dG9tV2lkZ2V0cy5cbiAgICAgICAgICAvLyBUT0RPOiB1c2UgdGljay5lcG9jaCBpbiBSYXdNYXJrZXIuanN4IHRvIHNwZWVkIHVwIGNhbGN1bGF0aW9ucy5cbiAgICAgICAgICB0aWNrOiB0aWNrXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChvaGxjKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgRGF0ZTogT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0VVRDRGF0ZVwiXSkoK29obGMub3Blbl90aW1lKSxcbiAgICAgICAgICBPcGVuOiArb2hsYy5vcGVuLFxuICAgICAgICAgIEhpZ2g6ICtvaGxjLmhpZ2gsXG4gICAgICAgICAgTG93OiArb2hsYy5sb3csXG4gICAgICAgICAgQ2xvc2U6ICtvaGxjLmNsb3NlLFxuICAgICAgICAgIG9obGM6IG9obGNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGlja0hpc3RvcnlGb3JtYXR0ZXI7XG59KCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2ZlZWQvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9mZWVkL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogRmVlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfRmVlZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9GZWVkICovIFwiLi9zcmMvZmVlZC9GZWVkLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRmVlZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9GZWVkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vRGVsYXllZFN1YnNjcmlwdGlvbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2ZlZWQvc3Vic2NyaXB0aW9uL0RlbGF5ZWRTdWJzY3JpcHRpb24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9TdWJzY3JpcHRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vU3Vic2NyaXB0aW9uICovIFwiLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vU3Vic2NyaXB0aW9uLmpzXCIpO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkgeyBfZ2V0ID0gUmVmbGVjdC5nZXQ7IH0gZWxzZSB7IF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7IGlmICghYmFzZSkgcmV0dXJuOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpOyBpZiAoZGVzYy5nZXQpIHsgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpOyB9IHJldHVybiBkZXNjLnZhbHVlOyB9OyB9IHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7IH1cblxuZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkgeyB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkgeyBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7IH0gcmV0dXJuIG9iamVjdDsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuXG5cbnZhciBEZWxheWVkU3Vic2NyaXB0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3Vic2NyaXB0aW9uKSB7XG4gIF9pbmhlcml0cyhEZWxheWVkU3Vic2NyaXB0aW9uLCBfU3Vic2NyaXB0aW9uKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKERlbGF5ZWRTdWJzY3JpcHRpb24pO1xuXG4gIGZ1bmN0aW9uIERlbGF5ZWRTdWJzY3JpcHRpb24ocmVxdWVzdCwgYXBpLCBzdHgsIGRlbGF5KSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlbGF5ZWRTdWJzY3JpcHRpb24pO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZXF1ZXN0LCBhcGksIHN0eCk7XG4gICAgX3RoaXMuX3RpbWVySWQgPSB2b2lkIDA7XG4gICAgX3RoaXMuVVBEQVRFX0lOVEVSVkFMID0gMzAwMDtcbiAgICBfdGhpcy5vblVwZGF0ZURlbGF5ZWRGZWVkID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgIHZhciB0aWNrSGlzdG9yeVJlcXVlc3QsIHJlc3BvbnNlLCBxdW90ZXM7XG4gICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGlmICghX3RoaXMubGFzdFN0cmVhbUVwb2NoKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aWNrSGlzdG9yeVJlcXVlc3QgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF90aGlzLl9yZXF1ZXN0KSwge30sIHtcbiAgICAgICAgICAgICAgICBzdGFydDogX3RoaXMubGFzdFN0cmVhbUVwb2NoLFxuICAgICAgICAgICAgICAgIC8vIFdoZW4gdXBkYXRpbmcgZGVsYXllZCBmZWVkcywgd2UgZG9uJ3Qgd2FudCB0aGVcbiAgICAgICAgICAgICAgICAvLyBzdGFydCB0aW1lIHRvIGJlIG9mZnNldCBieSB0aGUgZGVsYXllZCBhbW91bnQ6XG4gICAgICAgICAgICAgICAgYWRqdXN0X3N0YXJ0X3RpbWU6IDBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0O1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2JpbmFyeUFwaS5nZXRUaWNrSGlzdG9yeSh0aWNrSGlzdG9yeVJlcXVlc3QpO1xuXG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgcXVvdGVzID0gX3RoaXMuX3Byb2Nlc3NIaXN0b3J5UmVzcG9uc2UocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgIF90aGlzLl9lbWl0dGVyLmVtaXQoX1N1YnNjcmlwdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXS5FVkVOVF9DSEFSVF9EQVRBLCBxdW90ZXMpO1xuXG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHVwZGF0ZSBkZWxheWVkIGZlZWQgd2l0aG91dCBlcG9jaCBmcm9tIGxhc3QgdGljaycpO1xuXG4gICAgICAgICAgICAgIF90aGlzLl9lbmRUaW1lcigpO1xuXG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZSk7XG4gICAgfSkpO1xuICAgIF90aGlzLl9yZXF1ZXN0ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5fcmVxdWVzdCksIHt9LCB7XG4gICAgICAvLyBzdGFydCB0aW1lcyBtdXN0IGJlIG9mZnNldCB3aXRoIGRlbGF5IGJlY2F1c2VcbiAgICAgIC8vIHRoZXJlIGlzIG5vIGRhdGEgd2l0aGluIGRlbGF5IGludGVydmFsc1xuICAgICAgc3RhcnQ6IF90aGlzLl9yZXF1ZXN0LnN0YXJ0IC0gZGVsYXkgKiA2MFxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEZWxheWVkU3Vic2NyaXB0aW9uLCBbe1xuICAgIGtleTogXCJwYXVzZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgIHRoaXMuX2VuZFRpbWVyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zdGFydFN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3N0YXJ0U3Vic2NyaWJlMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodGlja0hpc3RvcnlSZXF1ZXN0KSB7XG4gICAgICAgIHZhciByZXNwb25zZSwgcXVvdGVzO1xuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmluYXJ5QXBpLmdldFRpY2tIaXN0b3J5KHRpY2tIaXN0b3J5UmVxdWVzdCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgICAgICAgcXVvdGVzID0gdGhpcy5fcHJvY2Vzc0hpc3RvcnlSZXNwb25zZShyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFRpbWVyKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBxdW90ZXMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfc3RhcnRTdWJzY3JpYmUoX3gpIHtcbiAgICAgICAgcmV0dXJuIF9zdGFydFN1YnNjcmliZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9zdGFydFN1YnNjcmliZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJmb3JnZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yZ2V0KCkge1xuICAgICAgdGhpcy5fZW5kVGltZXIoKTtcblxuICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoRGVsYXllZFN1YnNjcmlwdGlvbi5wcm90b3R5cGUpLCBcImZvcmdldFwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc3RhcnRUaW1lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RhcnRUaW1lcigpIHtcbiAgICAgIGlmICghdGhpcy5fdGltZXJJZCkge1xuICAgICAgICB0aGlzLl90aW1lcklkID0gc2V0SW50ZXJ2YWwodGhpcy5vblVwZGF0ZURlbGF5ZWRGZWVkLCB0aGlzLlVQREFURV9JTlRFUlZBTCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9lbmRUaW1lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW5kVGltZXIoKSB7XG4gICAgICBpZiAodGhpcy5fdGltZXJJZCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX3RpbWVySWQpO1xuICAgICAgICB0aGlzLl90aW1lcklkID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEZWxheWVkU3Vic2NyaXB0aW9uO1xufShfU3Vic2NyaXB0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChEZWxheWVkU3Vic2NyaXB0aW9uKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vUmVhbHRpbWVTdWJzY3JpcHRpb24uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vUmVhbHRpbWVTdWJzY3JpcHRpb24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfUGVuZGluZ1Byb21pc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWxzL1BlbmRpbmdQcm9taXNlICovIFwiLi9zcmMvdXRpbHMvUGVuZGluZ1Byb21pc2UuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1N1YnNjcmlwdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TdWJzY3JpcHRpb24gKi8gXCIuL3NyYy9mZWVkL3N1YnNjcmlwdGlvbi9TdWJzY3JpcHRpb24uanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1RpY2tIaXN0b3J5Rm9ybWF0dGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9UaWNrSGlzdG9yeUZvcm1hdHRlciAqLyBcIi4vc3JjL2ZlZWQvVGlja0hpc3RvcnlGb3JtYXR0ZXIuanNcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAodHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCIgJiYgUmVmbGVjdC5nZXQpIHsgX2dldCA9IFJlZmxlY3QuZ2V0OyB9IGVsc2UgeyBfZ2V0ID0gZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikgeyB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpOyBpZiAoIWJhc2UpIHJldHVybjsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTsgaWYgKGRlc2MuZ2V0KSB7IHJldHVybiBkZXNjLmdldC5jYWxsKHJlY2VpdmVyKTsgfSByZXR1cm4gZGVzYy52YWx1ZTsgfTsgfSByZXR1cm4gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlciB8fCB0YXJnZXQpOyB9XG5cbmZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHsgd2hpbGUgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpIHsgb2JqZWN0ID0gX2dldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChvYmplY3QgPT09IG51bGwpIGJyZWFrOyB9IHJldHVybiBvYmplY3Q7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cblxuXG5cblxudmFyIFJlYWx0aW1lU3Vic2NyaXB0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3Vic2NyaXB0aW9uKSB7XG4gIF9pbmhlcml0cyhSZWFsdGltZVN1YnNjcmlwdGlvbiwgX1N1YnNjcmlwdGlvbik7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihSZWFsdGltZVN1YnNjcmlwdGlvbik7XG5cbiAgZnVuY3Rpb24gUmVhbHRpbWVTdWJzY3JpcHRpb24oKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlYWx0aW1lU3Vic2NyaXB0aW9uKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7XG4gICAgX3RoaXMuX3RpY2tDYWxsYmFjayA9IHZvaWQgMDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVhbHRpbWVTdWJzY3JpcHRpb24sIFt7XG4gICAga2V5OiBcInBhdXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgLy8gcHJldmVudCBmb3JnZXQgcmVxdWVzdHM7IGFjdGl2ZSBzdHJlYW1zIGFyZSBpbnZhbGlkIHdoZW4gY29ubmVjdGlvbiBjbG9zZWRcbiAgICAgIHRoaXMuX3RpY2tDYWxsYmFjayA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzdW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVzdW1lID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl90aWNrQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgY2Fubm90IHJlc3VtZSBhbiBhY3RpdmUgc3RyZWFtIScpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIF9nZXQoX2dldFByb3RvdHlwZU9mKFJlYWx0aW1lU3Vic2NyaXB0aW9uLnByb3RvdHlwZSksIFwicmVzdW1lXCIsIHRoaXMpLmNhbGwodGhpcykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVzdW1lKCkge1xuICAgICAgICByZXR1cm4gX3Jlc3VtZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdW1lO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcIl9zdGFydFN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3N0YXJ0U3Vic2NyaWJlMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodGlja0hpc3RvcnlSZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyRfZ2V0UHJvY2Vzc1RpY2ssIF90aGlzJF9nZXRQcm9jZXNzVGljazIsIHRpY2tIaXN0b3J5UHJvbWlzZSwgcHJvY2Vzc1RpY2tIaXN0b3J5LCByZXNwb25zZSwgcXVvdGVzO1xuXG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMkX2dldFByb2Nlc3NUaWNrID0gdGhpcy5fZ2V0UHJvY2Vzc1RpY2tIaXN0b3J5Q2xvc3VyZSgpLCBfdGhpcyRfZ2V0UHJvY2Vzc1RpY2syID0gX3NsaWNlZFRvQXJyYXkoX3RoaXMkX2dldFByb2Nlc3NUaWNrLCAyKSwgdGlja0hpc3RvcnlQcm9taXNlID0gX3RoaXMkX2dldFByb2Nlc3NUaWNrMlswXSwgcHJvY2Vzc1RpY2tIaXN0b3J5ID0gX3RoaXMkX2dldFByb2Nlc3NUaWNrMlsxXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2JpbmFyeUFwaS5zdWJzY3JpYmVUaWNrSGlzdG9yeSh0aWNrSGlzdG9yeVJlcXVlc3QsIHByb2Nlc3NUaWNrSGlzdG9yeSk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpY2tIaXN0b3J5UHJvbWlzZTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDtcbiAgICAgICAgICAgICAgICBxdW90ZXMgPSB0aGlzLl9wcm9jZXNzSGlzdG9yeVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90aWNrQ2FsbGJhY2sgPSBwcm9jZXNzVGlja0hpc3Rvcnk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgcXVvdGVzKTtcblxuICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX3N0YXJ0U3Vic2NyaWJlKF94KSB7XG4gICAgICAgIHJldHVybiBfc3RhcnRTdWJzY3JpYmUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfc3RhcnRTdWJzY3JpYmU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcmdldCgpIHtcbiAgICAgIGlmICh0aGlzLl90aWNrQ2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzJF9yZXF1ZXN0ID0gdGhpcy5fcmVxdWVzdCxcbiAgICAgICAgICAgIHN5bWJvbCA9IF90aGlzJF9yZXF1ZXN0LnN5bWJvbCxcbiAgICAgICAgICAgIGdyYW51bGFyaXR5ID0gX3RoaXMkX3JlcXVlc3QuZ3JhbnVsYXJpdHk7XG5cbiAgICAgICAgdGhpcy5fYmluYXJ5QXBpLmZvcmdldCh7XG4gICAgICAgICAgc3ltYm9sOiBzeW1ib2wsXG4gICAgICAgICAgZ3JhbnVsYXJpdHk6IGdyYW51bGFyaXR5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3RpY2tDYWxsYmFjayA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoUmVhbHRpbWVTdWJzY3JpcHRpb24ucHJvdG90eXBlKSwgXCJmb3JnZXRcIiwgdGhpcykuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldFByb2Nlc3NUaWNrSGlzdG9yeUNsb3N1cmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFByb2Nlc3NUaWNrSGlzdG9yeUNsb3N1cmUoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGhhc0hpc3RvcnkgPSBmYWxzZTtcbiAgICAgIHZhciB0aWNrSGlzdG9yeVByb21pc2UgPSBuZXcgX3V0aWxzX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKCk7XG5cbiAgICAgIHZhciBwcm9jZXNzVGlja0hpc3RvcnkgPSBmdW5jdGlvbiBwcm9jZXNzVGlja0hpc3RvcnkocmVzcCkge1xuICAgICAgICBpZiAoX3RoaXMyLl9zdHguaXNEZXN0cm95ZWQpIHtcbiAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uSWQgPSByZXNwLnN1YnNjcmlwdGlvbi5pZDtcblxuICAgICAgICAgIF90aGlzMi5fYmluYXJ5QXBpLmZvcmdldFN0cmVhbShzdWJzY3JpcHRpb25JZCk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gV2UgYXNzdW1lIHRoYXQgMXN0IHJlc3BvbnNlIGlzIHRoZSBoaXN0b3J5LCBhbmQgc3Vic2VxdWVudFxuICAgICAgICAvLyByZXNwb25zZXMgYXJlIHRpY2sgc3RyZWFtIGRhdGEuXG5cblxuICAgICAgICBpZiAoaGFzSGlzdG9yeSkge1xuICAgICAgICAgIF90aGlzMi5fb25UaWNrKHJlc3ApO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGlja0hpc3RvcnlQcm9taXNlLnJlc29sdmUocmVzcCk7XG4gICAgICAgIGhhc0hpc3RvcnkgPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFt0aWNrSGlzdG9yeVByb21pc2UsIHByb2Nlc3NUaWNrSGlzdG9yeV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vblRpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uVGljayhyZXNwb25zZSkge1xuICAgICAgdGhpcy5sYXN0U3RyZWFtRXBvY2ggPSArX1N1YnNjcmlwdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5nZXRFcG9jaEZyb21UaWNrKHJlc3BvbnNlKTtcbiAgICAgIHZhciBxdW90ZXMgPSBbX1RpY2tIaXN0b3J5Rm9ybWF0dGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJUaWNrSGlzdG9yeUZvcm1hdHRlclwiXS5mb3JtYXRUaWNrKHJlc3BvbnNlKV07XG5cbiAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChfU3Vic2NyaXB0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLkVWRU5UX0NIQVJUX0RBVEEsIHF1b3Rlcyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlYWx0aW1lU3Vic2NyaXB0aW9uO1xufShfU3Vic2NyaXB0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChSZWFsdGltZVN1YnNjcmlwdGlvbik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2ZlZWQvc3Vic2NyaXB0aW9uL1N1YnNjcmlwdGlvbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vU3Vic2NyaXB0aW9uLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGV2ZW50X2VtaXR0ZXJfZXM2X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBldmVudC1lbWl0dGVyLWVzNiAqLyBcIi4vbm9kZV9tb2R1bGVzL2V2ZW50LWVtaXR0ZXItZXM2L2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGV2ZW50X2VtaXR0ZXJfZXM2X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1RpY2tIaXN0b3J5Rm9ybWF0dGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9UaWNrSGlzdG9yeUZvcm1hdHRlciAqLyBcIi4vc3JjL2ZlZWQvVGlja0hpc3RvcnlGb3JtYXR0ZXIuanNcIik7XG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5cblxuXG52YXIgU3Vic2NyaXB0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKFN1YnNjcmlwdGlvbiwgbnVsbCwgW3tcbiAgICBrZXk6IFwiRVZFTlRfQ0hBUlRfREFUQVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdFVkVOVF9DSEFSVF9EQVRBJztcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBTdWJzY3JpcHRpb24ocmVxdWVzdCwgYXBpLCBzdHgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3Vic2NyaXB0aW9uKTtcblxuICAgIHRoaXMubGFzdFN0cmVhbUVwb2NoID0gdm9pZCAwO1xuICAgIHRoaXMuX2JpbmFyeUFwaSA9IGFwaTtcbiAgICB0aGlzLl9zdHggPSBzdHg7XG4gICAgdGhpcy5fcmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgdGhpcy5fZW1pdHRlciA9IG5ldyBldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYSh7XG4gICAgICBlbWl0RGVsYXk6IDBcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdWJzY3JpcHRpb24sIFt7XG4gICAga2V5OiBcImluaXRpYWxGZXRjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2luaXRpYWxGZXRjaCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgICAgdmFyIHF1b3RlcztcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGFydFN1YnNjcmliZSh0aGlzLl9yZXF1ZXN0KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcXVvdGVzID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIHF1b3Rlcyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBpbml0aWFsRmV0Y2goKSB7XG4gICAgICAgIHJldHVybiBfaW5pdGlhbEZldGNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbml0aWFsRmV0Y2g7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwicGF1c2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGF1c2UoKSB7fVxuICB9LCB7XG4gICAga2V5OiBcInJlc3VtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Jlc3VtZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7XG4gICAgICAgIHZhciB0aWNrSGlzdG9yeVJlcXVlc3QsIHF1b3RlcztcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubGFzdFN0cmVhbUVwb2NoKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aWNrSGlzdG9yeVJlcXVlc3QgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuX3JlcXVlc3QpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMubGFzdFN0cmVhbUVwb2NoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGFydFN1YnNjcmliZSh0aWNrSGlzdG9yeVJlcXVlc3QpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBxdW90ZXMgPSBfY29udGV4dDIuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBxdW90ZXMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICAgIHJldHVybiBfcmVzdW1lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bWU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcmdldCgpIHtcbiAgICAgIHRoaXMubGFzdFN0cmVhbUVwb2NoID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLl9lbWl0dGVyLm9mZihTdWJzY3JpcHRpb24uRVZFTlRfQ0hBUlRfREFUQSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zdGFydFN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3N0YXJ0U3Vic2NyaWJlMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2Ugb3ZlcnJpZGUhJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9zdGFydFN1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdGFydFN1YnNjcmliZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9zdGFydFN1YnNjcmliZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJfcHJvY2Vzc0hpc3RvcnlSZXNwb25zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJvY2Vzc0hpc3RvcnlSZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgIHRocm93IHJlc3BvbnNlLmVycm9yO1xuICAgICAgfVxuXG4gICAgICB2YXIgcXVvdGVzID0gX1RpY2tIaXN0b3J5Rm9ybWF0dGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUaWNrSGlzdG9yeUZvcm1hdHRlclwiXS5mb3JtYXRIaXN0b3J5KHJlc3BvbnNlKTtcblxuICAgICAgaWYgKCFxdW90ZXMpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIlVuZXhwZWN0ZWQgcmVzcG9uc2U6IFwiLmNvbmNhdChyZXNwb25zZSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sYXN0U3RyZWFtRXBvY2ggPSBTdWJzY3JpcHRpb24uZ2V0TGF0ZXN0RXBvY2gocmVzcG9uc2UpO1xuICAgICAgcmV0dXJuIHF1b3RlcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25DaGFydERhdGFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFydERhdGEoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIub24oU3Vic2NyaXB0aW9uLkVWRU5UX0NIQVJUX0RBVEEsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJnZXRMYXRlc3RFcG9jaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMYXRlc3RFcG9jaChfcmVmKSB7XG4gICAgICB2YXIgY2FuZGxlcyA9IF9yZWYuY2FuZGxlcyxcbiAgICAgICAgICBoaXN0b3J5ID0gX3JlZi5oaXN0b3J5O1xuXG4gICAgICBpZiAoY2FuZGxlcykge1xuICAgICAgICByZXR1cm4gY2FuZGxlc1tjYW5kbGVzLmxlbmd0aCAtIDFdLmVwb2NoO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGlzdG9yeSkge1xuICAgICAgICB2YXIgdGltZXMgPSBoaXN0b3J5LnRpbWVzO1xuICAgICAgICByZXR1cm4gdGltZXNbdGltZXMubGVuZ3RoIC0gMV07XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEVwb2NoRnJvbVRpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RXBvY2hGcm9tVGljayhfcmVmMikge1xuICAgICAgdmFyIHRpY2sgPSBfcmVmMi50aWNrLFxuICAgICAgICAgIG9obGMgPSBfcmVmMi5vaGxjO1xuICAgICAgcmV0dXJuIHRpY2sgPyB0aWNrLmVwb2NoIDogb2hsYy5vcGVuX3RpbWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN1YnNjcmlwdGlvbjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChTdWJzY3JpcHRpb24pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9mZWVkL3N1YnNjcmlwdGlvbi9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9mZWVkL3N1YnNjcmlwdGlvbi9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBEZWxheWVkU3Vic2NyaXB0aW9uLCBSZWFsdGltZVN1YnNjcmlwdGlvbiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfRGVsYXllZFN1YnNjcmlwdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9EZWxheWVkU3Vic2NyaXB0aW9uICovIFwiLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vRGVsYXllZFN1YnNjcmlwdGlvbi5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkRlbGF5ZWRTdWJzY3JpcHRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfRGVsYXllZFN1YnNjcmlwdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfUmVhbHRpbWVTdWJzY3JpcHRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vUmVhbHRpbWVTdWJzY3JpcHRpb24gKi8gXCIuL3NyYy9mZWVkL3N1YnNjcmlwdGlvbi9SZWFsdGltZVN1YnNjcmlwdGlvbi5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlJlYWx0aW1lU3Vic2NyaXB0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1JlYWx0aW1lU3Vic2NyaXB0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuXG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBCYXJyaWVyLCBDaGFydFNldHRpbmcsIENoYXJ0U2l6ZSwgQ2hhcnRUaXRsZSwgQ2hhcnRUeXBlcywgQ2hhcnRNb2RlLCBjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlLCBDcm9zc2hhaXJUb2dnbGUsIERyYXdUb29scywgTWFya2VyLCBQZW5kaW5nUHJvbWlzZSwgc2V0U21hcnRDaGFydHNQdWJsaWNQYXRoLCBTaGFyZSwgU21hcnRDaGFydCwgU3R1ZHlMZWdlbmQsIFRpbWVwZXJpb2QsIFZpZXdzLCBUb29sYmFyV2lkZ2V0LCBsb2dFdmVudCwgTG9nQ2F0ZWdvcmllcywgTG9nQWN0aW9ucywgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJNYXJrZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBNYXJrZXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInNldFNtYXJ0Q2hhcnRzUHVibGljUGF0aFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNldFNtYXJ0Q2hhcnRzUHVibGljUGF0aDsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfQmFycmllcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9CYXJyaWVyLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQmFycmllci5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJCYXJyaWVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfQmFycmllcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWxzL1BlbmRpbmdQcm9taXNlICovIFwiLi9zcmMvdXRpbHMvUGVuZGluZ1Byb21pc2UuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJQZW5kaW5nUHJvbWlzZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF91dGlsc19QZW5kaW5nUHJvbWlzZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19DaGFydFR5cGVzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb25lbnRzL0NoYXJ0VHlwZXMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9DaGFydFR5cGVzLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNoYXJ0VHlwZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfY29tcG9uZW50c19DaGFydFR5cGVzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19DaGFydE1vZGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvQ2hhcnRNb2RlLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRNb2RlLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNoYXJ0TW9kZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX0NoYXJ0TW9kZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfU3R1ZHlMZWdlbmRfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvU3R1ZHlMZWdlbmQuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TdHVkeUxlZ2VuZC5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJTdHVkeUxlZ2VuZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX1N0dWR5TGVnZW5kX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19WaWV3c19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9WaWV3cy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZpZXdzLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlZpZXdzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfVmlld3NfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0Nyb3NzaGFpclRvZ2dsZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9Dcm9zc2hhaXJUb2dnbGUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9Dcm9zc2hhaXJUb2dnbGUuanN4XCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ3Jvc3NoYWlyVG9nZ2xlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfQ3Jvc3NoYWlyVG9nZ2xlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19UaW1lcGVyaW9kX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb25lbnRzL1RpbWVwZXJpb2QuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9UaW1lcGVyaW9kLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRpbWVwZXJpb2RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfY29tcG9uZW50c19UaW1lcGVyaW9kX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19DaGFydFNpemVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvQ2hhcnRTaXplLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRTaXplLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNoYXJ0U2l6ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX0NoYXJ0U2l6ZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfRHJhd1Rvb2xzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb25lbnRzL0RyYXdUb29scy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0RyYXdUb29scy5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEcmF3VG9vbHNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfY29tcG9uZW50c19EcmF3VG9vbHNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0NoYXJ0U2V0dGluZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvQ2hhcnRTZXR0aW5nLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRTZXR0aW5nLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNoYXJ0U2V0dGluZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX0NoYXJ0U2V0dGluZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX1NoYXJlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9TaGFyZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1NoYXJlLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlNoYXJlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfU2hhcmVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19TbWFydENoYXJ0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9TbWFydENoYXJ0LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvU21hcnRDaGFydC5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJTbWFydENoYXJ0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfU21hcnRDaGFydF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0NoYXJ0VGl0bGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb25lbnRzL0NoYXJ0VGl0bGUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9DaGFydFRpdGxlLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNoYXJ0VGl0bGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfY29tcG9uZW50c19DaGFydFRpdGxlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfRmFzdE1hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvRmFzdE1hcmtlci5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0Zhc3RNYXJrZXIuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX1Jhd01hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvUmF3TWFya2VyLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvUmF3TWFya2VyLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19Ub29sYmFyV2lkZ2V0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9Ub29sYmFyV2lkZ2V0LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVG9vbGJhcldpZGdldC5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUb29sYmFyV2lkZ2V0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfVG9vbGJhcldpZGdldF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNyZWF0ZU9iamVjdEZyb21Mb2NhbFN0b3JhZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19bXCJjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbHMvZ2EgKi8gXCIuL3NyYy91dGlscy9nYS5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImxvZ0V2ZW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fW1wibG9nRXZlbnRcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJMb2dDYXRlZ29yaWVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fW1wiTG9nQ2F0ZWdvcmllc1wiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkxvZ0FjdGlvbnNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19bXCJMb2dBY3Rpb25zXCJdOyB9KTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tbmV3LCByZWFjdC9qc3gtaW5kZW50LCByZWFjdC9uby1kYW5nZXIsIHJlYWN0L2pzeC1pbmRlbnQtcHJvcHMgKi9cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5mdW5jdGlvbiBzZXRTbWFydENoYXJ0c1B1YmxpY1BhdGgocGF0aCkge1xuICBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBwYXRoOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG59XG5cbnZhciBNYXJrZXIgPSBfY29tcG9uZW50c19GYXN0TWFya2VyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfX1tcImRlZmF1bHRcIl07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICBCYXJyaWVyOiBfY29tcG9uZW50c19CYXJyaWVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSxcbiAgQ2hhcnRTZXR0aW5nOiBfY29tcG9uZW50c19DaGFydFNldHRpbmdfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fW1wiZGVmYXVsdFwiXSxcbiAgQ2hhcnRTaXplOiBfY29tcG9uZW50c19DaGFydFNpemVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJkZWZhdWx0XCJdLFxuICBDaGFydFRpdGxlOiBfY29tcG9uZW50c19DaGFydFRpdGxlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX1tcImRlZmF1bHRcIl0sXG4gIENoYXJ0VHlwZXM6IF9jb21wb25lbnRzX0NoYXJ0VHlwZXNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLFxuICBDaGFydE1vZGU6IF9jb21wb25lbnRzX0NoYXJ0TW9kZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sXG4gIGNyZWF0ZU9iamVjdEZyb21Mb2NhbFN0b3JhZ2U6IF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX1tcImNyZWF0ZU9iamVjdEZyb21Mb2NhbFN0b3JhZ2VcIl0sXG4gIENyb3NzaGFpclRvZ2dsZTogX2NvbXBvbmVudHNfQ3Jvc3NoYWlyVG9nZ2xlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSxcbiAgRHJhd1Rvb2xzOiBfY29tcG9uZW50c19EcmF3VG9vbHNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJkZWZhdWx0XCJdLFxuICBGYXN0TWFya2VyOiBfY29tcG9uZW50c19GYXN0TWFya2VyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfX1tcImRlZmF1bHRcIl0sXG4gIE1hcmtlcjogX2NvbXBvbmVudHNfRmFzdE1hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X19bXCJkZWZhdWx0XCJdLFxuICBQZW5kaW5nUHJvbWlzZTogX3V0aWxzX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLFxuICBSYXdNYXJrZXI6IF9jb21wb25lbnRzX1Jhd01hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X19bXCJkZWZhdWx0XCJdLFxuICBzZXRTbWFydENoYXJ0c1B1YmxpY1BhdGg6IHNldFNtYXJ0Q2hhcnRzUHVibGljUGF0aCxcbiAgU2hhcmU6IF9jb21wb25lbnRzX1NoYXJlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImRlZmF1bHRcIl0sXG4gIFNtYXJ0Q2hhcnQ6IF9jb21wb25lbnRzX1NtYXJ0Q2hhcnRfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fW1wiZGVmYXVsdFwiXSxcbiAgU3R1ZHlMZWdlbmQ6IF9jb21wb25lbnRzX1N0dWR5TGVnZW5kX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSxcbiAgVGltZXBlcmlvZDogX2NvbXBvbmVudHNfVGltZXBlcmlvZF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0sXG4gIFZpZXdzOiBfY29tcG9uZW50c19WaWV3c19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0sXG4gIFRvb2xiYXJXaWRnZXQ6IF9jb21wb25lbnRzX1Rvb2xiYXJXaWRnZXRfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fW1wiZGVmYXVsdFwiXSxcbiAgbG9nRXZlbnQ6IF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX1tcImxvZ0V2ZW50XCJdLFxuICBMb2dDYXRlZ29yaWVzOiBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19bXCJMb2dDYXRlZ29yaWVzXCJdLFxuICBMb2dBY3Rpb25zOiBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19bXCJMb2dBY3Rpb25zXCJdXG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvQW5pbWF0ZWRQcmljZVN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9BbmltYXRlZFByaWNlU3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEFuaW1hdGVkUHJpY2VTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIi4vbm9kZV9tb2R1bGVzL21vYngvbGliL21vYngubW9kdWxlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xudmFyIF9kZWMsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX2Rlc2NyaXB0b3IzLCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cblxuXG52YXIgQW5pbWF0ZWRQcmljZVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBbmltYXRlZFByaWNlU3RvcmUoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbmltYXRlZFByaWNlU3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJwcmljZVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzSW5jcmVhc2VcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhdHVzXCIsIF9kZXNjcmlwdG9yMywgdGhpcyk7XG5cbiAgICB0aGlzLm9sZFByaWNlID0gJyc7XG4gICAgdGhpcy5jb25uZWN0ID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcmljZTogX3RoaXMucHJpY2UsXG4gICAgICAgIGlzSW5jcmVhc2U6IF90aGlzLmlzSW5jcmVhc2UsXG4gICAgICAgIHN0YXR1czogX3RoaXMuc3RhdHVzLFxuICAgICAgICBjbGFzc05hbWU6IF90aGlzLmNsYXNzTmFtZVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBbmltYXRlZFByaWNlU3RvcmUsIFt7XG4gICAga2V5OiBcInNldFByaWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFByaWNlKHZhbCwgcHJldlByaWNlKSB7XG4gICAgICB2YXIgb2xkVmFsID0gcHJldlByaWNlIHx8ICt0aGlzLm9sZFByaWNlO1xuICAgICAgdmFyIG5ld1ZhbCA9ICt2YWw7XG4gICAgICB2YXIgaXNJbmNyZWFzZSA9IGZhbHNlO1xuXG4gICAgICBpZiAobmV3VmFsID4gb2xkVmFsKSB7XG4gICAgICAgIGlzSW5jcmVhc2UgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0YXR1cyA9ICd1cCc7XG4gICAgICB9IGVsc2UgaWYgKG5ld1ZhbCA8IG9sZFZhbCkge1xuICAgICAgICB0aGlzLnN0YXR1cyA9ICdkb3duJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcmljZSA9IHZhbDtcbiAgICAgIHRoaXMub2xkUHJpY2UgPSB0aGlzLnByaWNlO1xuICAgICAgdGhpcy5pc0luY3JlYXNlID0gaXNJbmNyZWFzZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQW5pbWF0ZWRQcmljZVN0b3JlO1xufSgpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJwcmljZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc0luY3JlYXNlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInN0YXR1c1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRQcmljZVwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRQcmljZVwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9CYXJyaWVyU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0JhcnJpZXJTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQmFycmllclN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ByaWNlTGluZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ByaWNlTGluZVN0b3JlICovIFwiLi9zcmMvc3RvcmUvUHJpY2VMaW5lU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1NoYWRlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vU2hhZGVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL1NoYWRlU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9QZW5kaW5nUHJvbWlzZSAqLyBcIi4vc3JjL3V0aWxzL1BlbmRpbmdQcm9taXNlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX1ByaWNlTGluZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvUHJpY2VMaW5lLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvUHJpY2VMaW5lLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19TaGFkZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvU2hhZGUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TaGFkZS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2Rlc2NyaXB0b3I1LCBfZGVzY3JpcHRvcjYsIF9kZXNjcmlwdG9yNywgX2Rlc2NyaXB0b3I4LCBfZGVzY3JpcHRvcjksIF9kZXNjcmlwdG9yMTAsIF9kZXNjcmlwdG9yMTEsIF9kZXNjcmlwdG9yMTIsIF9kZXNjcmlwdG9yMTMsIF9kZXNjcmlwdG9yMTQsIF90ZW1wO1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxuXG5cblxuXG5cblxuXG52YXIgQmFycmllclN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhCYXJyaWVyU3RvcmUsIFt7XG4gICAga2V5OiBcInBpcFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wuZGVjaW1hbF9wbGFjZXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInlBeGlzV2lkdGhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC55QXhpc3dpZHRoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwcmljZUxhYmVsV2lkdGhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnlBeGlzV2lkdGggKyAxO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcIlNIQURFX05PTkVfU0lOR0xFXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ1NIQURFX05PTkVfU0lOR0xFJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiU0hBREVfTk9ORV9ET1VCTEVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnU0hBREVfTk9ORV9ET1VCTEUnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJTSEFERV9BQk9WRVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdTSEFERV9BQk9WRSc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIlNIQURFX0JFTE9XXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ1NIQURFX0JFTE9XJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiU0hBREVfQkVUV0VFTlwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdTSEFERV9CRVRXRUVOJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiU0hBREVfT1VUU0lERVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdTSEFERV9PVVRTSURFJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiQkFSUklFUl9DSEFOR0VEXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ0JBUlJJRVJfQ0hBTkdFRCc7XG4gICAgfVxuICB9XSk7XG5cbiAgZnVuY3Rpb24gQmFycmllclN0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFycmllclN0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hhZGVDb2xvclwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbG9yXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZvcmVncm91bmRDb2xvclwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0JldHdlZW5TaGFkZVZpc2libGVcIiwgX2Rlc2NyaXB0b3I0LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNUb3BTaGFkZVZpc2libGVcIiwgX2Rlc2NyaXB0b3I1LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNCb3R0b21TaGFkZVZpc2libGVcIiwgX2Rlc2NyaXB0b3I2LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGlkZVByaWNlTGluZXNcIiwgX2Rlc2NyaXB0b3I3LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwibGluZVN0eWxlXCIsIF9kZXNjcmlwdG9yOCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzSW5pdGlhbGl6ZWRcIiwgX2Rlc2NyaXB0b3I5LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5pdGlhbGl6ZVByb21pc2VcIiwgX2Rlc2NyaXB0b3IxMCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhpZGVCYXJyaWVyTGluZVwiLCBfZGVzY3JpcHRvcjExLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGlkZU9mZnNjcmVlbkxpbmVcIiwgX2Rlc2NyaXB0b3IxMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhpZGVPZmZzY3JlZW5CYXJyaWVyXCIsIF9kZXNjcmlwdG9yMTMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1NpbmdsZUJhcnJpZXJcIiwgX2Rlc2NyaXB0b3IxNCwgdGhpcyk7XG5cbiAgICB0aGlzLl9zaGFkZVN0YXRlID0gdm9pZCAwO1xuICAgIHRoaXMuX29uQmFycmllckNoYW5nZSA9IG51bGw7XG5cbiAgICB0aGlzLl9maXJlT25CYXJyaWVyQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGhpZ2ggPSBfdGhpcy5faGlnaF9iYXJyaWVyLnZpc2libGUgPyArX3RoaXMuX2hpZ2hfYmFycmllci5wcmljZS50b0ZpeGVkKF90aGlzLnBpcCkgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgbG93ID0gX3RoaXMuX2xvd19iYXJyaWVyLnZpc2libGUgPyArX3RoaXMuX2xvd19iYXJyaWVyLnByaWNlLnRvRml4ZWQoX3RoaXMucGlwKSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKF90aGlzLl9vbkJhcnJpZXJDaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMuX29uQmFycmllckNoYW5nZSh7XG4gICAgICAgICAgaGlnaDogaGlnaCxcbiAgICAgICAgICBsb3c6IGxvd1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5fZHJhd1NoYWRlZEFyZWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9BQk9WRSkge1xuICAgICAgICBfdGhpcy5fc2hhZGVBYm92ZSgpO1xuICAgICAgfSBlbHNlIGlmIChfdGhpcy5fc2hhZGVTdGF0ZSA9PT0gQmFycmllclN0b3JlLlNIQURFX0JFTE9XKSB7XG4gICAgICAgIF90aGlzLl9zaGFkZUJlbG93KCk7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzLl9zaGFkZVN0YXRlID09PSBCYXJyaWVyU3RvcmUuU0hBREVfQkVUV0VFTikge1xuICAgICAgICBfdGhpcy5fc2hhZGVCZXR3ZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzLl9zaGFkZVN0YXRlID09PSBCYXJyaWVyU3RvcmUuU0hBREVfT1VUU0lERSkge1xuICAgICAgICBfdGhpcy5fc2hhZGVPdXRzaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5fbG93X2JhcnJpZXIudmlzaWJsZSAmJiBfdGhpcy5faXNCYXJyaWVyc09mZlNjcmVlbigpKSB7XG4gICAgICAgIHZhciBvcmRlciA9IF90aGlzLl9oaWdoX2JhcnJpZXIudG9wID09PSAwID8gbnVsbCA6IDEwMTtcbiAgICAgICAgX3RoaXMuX2hpZ2hfYmFycmllci56SW5kZXggPSBvcmRlcjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5faGlnaF9iYXJyaWVyID0gbmV3IF9QcmljZUxpbmVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSh0aGlzLm1haW5TdG9yZSk7XG4gICAgdGhpcy5fbG93X2JhcnJpZXIgPSBuZXcgX1ByaWNlTGluZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKHRoaXMubWFpblN0b3JlKTtcblxuICAgIHRoaXMuX2hpZ2hfYmFycmllci5vblByaWNlQ2hhbmdlZCh0aGlzLl9kcmF3U2hhZGVkQXJlYSk7XG5cbiAgICB0aGlzLl9sb3dfYmFycmllci5vblByaWNlQ2hhbmdlZCh0aGlzLl9kcmF3U2hhZGVkQXJlYSk7XG5cbiAgICB0aGlzLl9oaWdoX2JhcnJpZXIub25EcmFnUmVsZWFzZWQodGhpcy5fZmlyZU9uQmFycmllckNoYW5nZSk7XG5cbiAgICB0aGlzLl9sb3dfYmFycmllci5vbkRyYWdSZWxlYXNlZCh0aGlzLl9maXJlT25CYXJyaWVyQ2hhbmdlKTtcblxuICAgIHRoaXMuX2luamVjdGlvbklkID0gdGhpcy5zdHguYXBwZW5kKCdkcmF3JywgdGhpcy5fZHJhd1NoYWRlZEFyZWEpO1xuXG4gICAgdGhpcy5fc2V0dXBDb25zdHJhaW5CYXJyaWVyUHJpY2VzKCk7XG5cbiAgICB0aGlzLl9saXN0ZW5lcklkID0gdGhpcy5zdHguYWRkRXZlbnRMaXN0ZW5lcignbmV3Q2hhcnQnLCB0aGlzLmluaXQpO1xuICAgIHRoaXMuYWJvdmVTaGFkZVN0b3JlID0gbmV3IF9TaGFkZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKCd0b3Atc2hhZGUnKTtcbiAgICB0aGlzLmJldHdlZW5TaGFkZVN0b3JlID0gbmV3IF9TaGFkZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKCdiZXR3ZWVuLXNoYWRlJyk7XG4gICAgdGhpcy5iZWxvd1NoYWRlU3RvcmUgPSBuZXcgX1NoYWRlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oJ2JvdHRvbS1zaGFkZScpO1xuICAgIHRoaXMuQWJvdmVTaGFkZSA9IHRoaXMuYWJvdmVTaGFkZVN0b3JlLmNvbm5lY3QoX2NvbXBvbmVudHNfU2hhZGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKTtcbiAgICB0aGlzLkJldHdlZW5TaGFkZSA9IHRoaXMuYmV0d2VlblNoYWRlU3RvcmUuY29ubmVjdChfY29tcG9uZW50c19TaGFkZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pO1xuICAgIHRoaXMuQmVsb3dTaGFkZSA9IHRoaXMuYmVsb3dTaGFkZVN0b3JlLmNvbm5lY3QoX2NvbXBvbmVudHNfU2hhZGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKTtcbiAgICB0aGlzLnNoYWRlU3RhdGUgPSBCYXJyaWVyU3RvcmUuU0hBREVfTk9ORV9TSU5HTEU7XG5cbiAgICBpZiAodGhpcy5jb250ZXh0ICYmIG1haW5TdG9yZS5jaGFydC5jdXJyZW50Q2xvc2VRdW90ZSgpKSB7XG4gICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICB0aGlzLkhpZ2hQcmljZUxpbmUgPSB0aGlzLl9oaWdoX2JhcnJpZXIuY29ubmVjdChfY29tcG9uZW50c19QcmljZUxpbmVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKTtcbiAgICB0aGlzLkxvd1ByaWNlTGluZSA9IHRoaXMuX2xvd19iYXJyaWVyLmNvbm5lY3QoX2NvbXBvbmVudHNfUHJpY2VMaW5lX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSk7XG5cbiAgICB0aGlzLm1haW5TdG9yZS5jaGFydC5fYmFycmllcnMucHVzaCh0aGlzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhCYXJyaWVyU3RvcmUsIFt7XG4gICAga2V5OiBcImluaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICB0aGlzLmluaXRpYWxpemVQcm9taXNlLnJlc29sdmUoKTsgLy8gRW5hYmxlIHRoaXMgdG8gdGVzdCBiYXJyaWVyczsgaGlnaCBsb3cgdmFsdWVzIGFyZSBtYW5kYXRvcnlcbiAgICAgIC8vIGZvciBsaWJyYXJ5IHVzZXIgdG8gcHJvdmlkZVxuICAgICAgLy8gdGhpcy5zZXREZWZhdWx0QmFycmllcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXREZWZhdWx0QmFycmllclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZWZhdWx0QmFycmllcigpIHtcbiAgICAgIHZhciBwcmljZSA9IHRoaXMucmVsYXRpdmUgPyAwIDogdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudENsb3NlUXVvdGUoKS5DbG9zZTtcbiAgICAgIHZhciBkaXN0YW5jZSA9IHRoaXMuY2hhcnQueUF4aXMucHJpY2VUaWNrO1xuICAgICAgdGhpcy5faGlnaF9iYXJyaWVyLnByaWNlID0gcHJpY2UgKyBkaXN0YW5jZTtcbiAgICAgIHRoaXMuX2xvd19iYXJyaWVyLnByaWNlID0gcHJpY2UgLSBkaXN0YW5jZTtcblxuICAgICAgdGhpcy5faGlnaF9iYXJyaWVyLl91cGRhdGVUb3AoKTtcblxuICAgICAgdGhpcy5fbG93X2JhcnJpZXIuX3VwZGF0ZVRvcCgpO1xuXG4gICAgICB0aGlzLl9kcmF3U2hhZGVkQXJlYSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQcm9wcyhfcmVmKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgICAgICBmb3JlZ3JvdW5kQ29sb3IgPSBfcmVmLmZvcmVncm91bmRDb2xvcixcbiAgICAgICAgICBzaGFkZUNvbG9yID0gX3JlZi5zaGFkZUNvbG9yLFxuICAgICAgICAgIHNoYWRlID0gX3JlZi5zaGFkZSxcbiAgICAgICAgICBoaWdoID0gX3JlZi5oaWdoLFxuICAgICAgICAgIGxvdyA9IF9yZWYubG93LFxuICAgICAgICAgIHJlbGF0aXZlID0gX3JlZi5yZWxhdGl2ZSxcbiAgICAgICAgICBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsXG4gICAgICAgICAgaGlkZUJhcnJpZXJMaW5lID0gX3JlZi5oaWRlQmFycmllckxpbmUsXG4gICAgICAgICAgaGlkZU9mZnNjcmVlbkJhcnJpZXIgPSBfcmVmLmhpZGVPZmZzY3JlZW5CYXJyaWVyLFxuICAgICAgICAgIGhpZGVPZmZzY3JlZW5MaW5lID0gX3JlZi5oaWRlT2Zmc2NyZWVuTGluZSxcbiAgICAgICAgICBoaWRlUHJpY2VMaW5lcyA9IF9yZWYuaGlkZVByaWNlTGluZXMsXG4gICAgICAgICAgbGluZVN0eWxlID0gX3JlZi5saW5lU3R5bGUsXG4gICAgICAgICAgdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgICAgICAgIHNob3dPZmZzY3JlZW5BcnJvd3MgPSBfcmVmLnNob3dPZmZzY3JlZW5BcnJvd3MsXG4gICAgICAgICAgaXNTaW5nbGVCYXJyaWVyID0gX3JlZi5pc1NpbmdsZUJhcnJpZXIsXG4gICAgICAgICAgb3BhY2l0eU9uT3ZlcmxhcCA9IF9yZWYub3BhY2l0eU9uT3ZlcmxhcDtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZVByb21pc2UudGhlbihPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjb2xvcikge1xuICAgICAgICAgIF90aGlzMi5jb2xvciA9IGNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvcmVncm91bmRDb2xvcikge1xuICAgICAgICAgIF90aGlzMi5mb3JlZ3JvdW5kQ29sb3IgPSBmb3JlZ3JvdW5kQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhZGVDb2xvcikge1xuICAgICAgICAgIF90aGlzMi5zaGFkZUNvbG9yID0gc2hhZGVDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaGFkZSkge1xuICAgICAgICAgIF90aGlzMi5zaGFkZVN0YXRlID0gXCJTSEFERV9cIi5jb25jYXQoc2hhZGUpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVsYXRpdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIF90aGlzMi5yZWxhdGl2ZSA9IHJlbGF0aXZlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRyYWdnYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgX3RoaXMyLmRyYWdnYWJsZSA9IGRyYWdnYWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJpc1ZhbGlkUHJvcFwiXSkoaGlnaCkpIHtcbiAgICAgICAgICBfdGhpczIuaGlnaF9iYXJyaWVyID0gaGlnaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJpc1ZhbGlkUHJvcFwiXSkobG93KSkge1xuICAgICAgICAgIF90aGlzMi5sb3dfYmFycmllciA9IGxvdztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgIF90aGlzMi5vbkJhcnJpZXJDaGFuZ2UgPSBvbkNoYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgIF90aGlzMi50aXRsZSA9IHRpdGxlO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMyLmxpbmVTdHlsZSA9IGxpbmVTdHlsZTtcbiAgICAgICAgX3RoaXMyLmhpZGVCYXJyaWVyTGluZSA9ICEhaGlkZUJhcnJpZXJMaW5lO1xuICAgICAgICBfdGhpczIuaGlkZVByaWNlTGluZXMgPSAhIWhpZGVQcmljZUxpbmVzO1xuICAgICAgICBfdGhpczIuaGlkZU9mZnNjcmVlbkxpbmUgPSAhIWhpZGVPZmZzY3JlZW5MaW5lO1xuICAgICAgICBfdGhpczIuaGlkZU9mZnNjcmVlbkJhcnJpZXIgPSAhIWhpZGVPZmZzY3JlZW5CYXJyaWVyO1xuICAgICAgICBfdGhpczIuaXNTaW5nbGVCYXJyaWVyID0gISFpc1NpbmdsZUJhcnJpZXI7XG4gICAgICB9KSk7XG5cbiAgICAgIGlmIChvcGFjaXR5T25PdmVybGFwKSB7XG4gICAgICAgIHRoaXMub3BhY2l0eU9uT3ZlcmxhcCA9IG9wYWNpdHlPbk92ZXJsYXA7XG4gICAgICB9XG5cbiAgICAgIGlmIChzaG93T2Zmc2NyZWVuQXJyb3dzKSB7XG4gICAgICAgIHRoaXMuc2hvd09mZnNjcmVlbkFycm93cyA9IHNob3dPZmZzY3JlZW5BcnJvd3M7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlc3RydWN0b3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJ1Y3RvcigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuY29udGV4dCkgcmV0dXJuO1xuICAgICAgdGhpcy5zdHgucmVtb3ZlSW5qZWN0aW9uKHRoaXMuX2luamVjdGlvbklkKTtcbiAgICAgIHRoaXMuc3R4LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fbGlzdGVuZXJJZCk7XG5cbiAgICAgIHRoaXMuX2hpZ2hfYmFycmllci5kZXN0cnVjdG9yKCk7XG5cbiAgICAgIHRoaXMuX2xvd19iYXJyaWVyLmRlc3RydWN0b3IoKTtcblxuICAgICAgdmFyIGkgPSB0aGlzLm1haW5TdG9yZS5jaGFydC5fYmFycmllcnMuZmluZEluZGV4KGZ1bmN0aW9uIChiKSB7XG4gICAgICAgIHJldHVybiBiID09PSBfdGhpczM7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgIHRoaXMubWFpblN0b3JlLmNoYXJ0Ll9iYXJyaWVycy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zZXR1cENvbnN0cmFpbkJhcnJpZXJQcmljZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwQ29uc3RyYWluQmFycmllclByaWNlcygpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAvLyBiYXJyaWVyIDEgY2Fubm90IGdvIGJlbG93IGJhcnJpZXIgMlxuICAgICAgdGhpcy5faGlnaF9iYXJyaWVyLnByaWNlQ29uc3RyYWluZXIgPSBmdW5jdGlvbiAobmV3UHJpY2UpIHtcbiAgICAgICAgdmFyIG5leHRQcmljZSA9IF90aGlzNC5fbG93X2JhcnJpZXIudmlzaWJsZSAmJiBuZXdQcmljZSA8IF90aGlzNC5fbG93X2JhcnJpZXIucmVhbFByaWNlID8gX3RoaXM0Ll9oaWdoX2JhcnJpZXIucmVhbFByaWNlIDogbmV3UHJpY2U7XG5cbiAgICAgICAgX3RoaXM0Lm1haW5TdG9yZS5jaGFydC5jYWxjdWxhdGVZYXhpc1dpZHRoKG5leHRQcmljZSk7XG5cbiAgICAgICAgcmV0dXJuIG5leHRQcmljZTtcbiAgICAgIH07IC8vIGJhcnJpZXIgMiBjYW5ub3QgZ28gYWJvdmUgYmFycmllciAxXG5cblxuICAgICAgdGhpcy5fbG93X2JhcnJpZXIucHJpY2VDb25zdHJhaW5lciA9IGZ1bmN0aW9uIChuZXdQcmljZSkge1xuICAgICAgICB2YXIgbmV4dFByaWNlID0gbmV3UHJpY2UgPiBfdGhpczQuX2hpZ2hfYmFycmllci5yZWFsUHJpY2UgPyBfdGhpczQuX2xvd19iYXJyaWVyLnJlYWxQcmljZSA6IG5ld1ByaWNlO1xuXG4gICAgICAgIF90aGlzNC5tYWluU3RvcmUuY2hhcnQuY2FsY3VsYXRlWWF4aXNXaWR0aChuZXh0UHJpY2UpO1xuXG4gICAgICAgIHJldHVybiBuZXh0UHJpY2U7XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaXNCYXJyaWVyc09mZlNjcmVlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNCYXJyaWVyc09mZlNjcmVlbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oaWdoX2JhcnJpZXIub2ZmU2NyZWVuICYmIHRoaXMuX2xvd19iYXJyaWVyLm9mZlNjcmVlbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NoYWRlQmV0d2VlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2hhZGVCZXR3ZWVuKCkge1xuICAgICAgdGhpcy5iZXR3ZWVuU2hhZGVTdG9yZS5zZXRQb3NpdGlvbih7XG4gICAgICAgIHRvcDogdGhpcy5faGlnaF9iYXJyaWVyLnRvcCxcbiAgICAgICAgYm90dG9tOiB0aGlzLl9sb3dfYmFycmllci50b3AsXG4gICAgICAgIHJpZ2h0OiB0aGlzLnlBeGlzV2lkdGhcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc2hhZGVCZWxvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2hhZGVCZWxvdygpIHtcbiAgICAgIHZhciBiYXJyaWVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLl9oaWdoX2JhcnJpZXI7XG4gICAgICB0aGlzLmJlbG93U2hhZGVTdG9yZS5zZXRQb3NpdGlvbih7XG4gICAgICAgIHRvcDogYmFycmllci50b3AsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgcmlnaHQ6IHRoaXMueUF4aXNXaWR0aFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zaGFkZUFib3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zaGFkZUFib3ZlKCkge1xuICAgICAgdmFyIGJhcnJpZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMuX2hpZ2hfYmFycmllcjtcbiAgICAgIHRoaXMuYWJvdmVTaGFkZVN0b3JlLnNldFBvc2l0aW9uKHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBib3R0b206IGJhcnJpZXIudG9wLFxuICAgICAgICByaWdodDogdGhpcy55QXhpc1dpZHRoXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NoYWRlT3V0c2lkZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2hhZGVPdXRzaWRlKCkge1xuICAgICAgdGhpcy5fc2hhZGVBYm92ZSh0aGlzLl9oaWdoX2JhcnJpZXIpO1xuXG4gICAgICB0aGlzLl9zaGFkZUJlbG93KHRoaXMuX2xvd19iYXJyaWVyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGlnaF9iYXJyaWVyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGlnaF9iYXJyaWVyLnByaWNlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQocHJpY2UpIHtcbiAgICAgIHRoaXMuX2hpZ2hfYmFycmllci5wcmljZSA9IHByaWNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsb3dfYmFycmllclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xvd19iYXJyaWVyLnByaWNlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQocHJpY2UpIHtcbiAgICAgIHRoaXMuX2xvd19iYXJyaWVyLnByaWNlID0gcHJpY2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFydFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3R4LmNoYXJ0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkJhcnJpZXJDaGFuZ2VcIixcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChjYWxsYmFjaykge1xuICAgICAgaWYgKHRoaXMuX29uQmFycmllckNoYW5nZSAhPT0gY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25CYXJyaWVyQ2hhbmdlID0gY2FsbGJhY2s7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNoYWRlU3RhdGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaGFkZVN0YXRlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoc2hhZGVTdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuX3NoYWRlU3RhdGUgPT09IHNoYWRlU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zaGFkZVN0YXRlID0gc2hhZGVTdGF0ZTtcbiAgICAgIHZhciBub1NoYWRlID0gdGhpcy5fc2hhZGVTdGF0ZSA9PT0gQmFycmllclN0b3JlLlNIQURFX05PTkVfU0lOR0xFIHx8IHRoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9OT05FX0RPVUJMRTtcblxuICAgICAgaWYgKG5vU2hhZGUpIHtcbiAgICAgICAgdGhpcy5hYm92ZVNoYWRlU3RvcmUudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJldHdlZW5TaGFkZVN0b3JlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5iZWxvd1NoYWRlU3RvcmUudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGFib3ZlU2hhZGVFbmFibGUgPSB0aGlzLl9zaGFkZVN0YXRlID09PSBCYXJyaWVyU3RvcmUuU0hBREVfQUJPVkUgfHwgdGhpcy5fc2hhZGVTdGF0ZSA9PT0gQmFycmllclN0b3JlLlNIQURFX09VVFNJREU7XG4gICAgICAgIHZhciBiZWxvd1NoYWRlRW5hYmxlID0gdGhpcy5fc2hhZGVTdGF0ZSA9PT0gQmFycmllclN0b3JlLlNIQURFX0JFTE9XIHx8IHRoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9PVVRTSURFO1xuICAgICAgICB2YXIgYmV0d2VlblNoYWRlRW5hYmxlID0gdGhpcy5fc2hhZGVTdGF0ZSA9PT0gQmFycmllclN0b3JlLlNIQURFX0JFVFdFRU47XG4gICAgICAgIHRoaXMuYWJvdmVTaGFkZVN0b3JlLnZpc2libGUgPSBhYm92ZVNoYWRlRW5hYmxlO1xuICAgICAgICB0aGlzLmJldHdlZW5TaGFkZVN0b3JlLnZpc2libGUgPSBiZXR3ZWVuU2hhZGVFbmFibGU7XG4gICAgICAgIHRoaXMuYmVsb3dTaGFkZVN0b3JlLnZpc2libGUgPSBiZWxvd1NoYWRlRW5hYmxlO1xuXG4gICAgICAgIHRoaXMuX2RyYXdTaGFkZWRBcmVhKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaG93TG93QmFycmllciA9IHRoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9PVVRTSURFIHx8IHRoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9CRVRXRUVOIHx8IHRoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9OT05FX0RPVUJMRTtcbiAgICAgIHZhciB3YXNMb3dCYXJyaWVyVmlzaWJsZSA9IHRoaXMuX2xvd19iYXJyaWVyLnZpc2libGU7XG4gICAgICB0aGlzLl9sb3dfYmFycmllci52aXNpYmxlID0gc2hvd0xvd0JhcnJpZXI7XG5cbiAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQgJiYgc2hvd0xvd0JhcnJpZXIgJiYgIXdhc0xvd0JhcnJpZXJWaXNpYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLl9sb3dfYmFycmllci5yZWFsUHJpY2UgPj0gdGhpcy5faGlnaF9iYXJyaWVyLnJlYWxQcmljZSkge1xuICAgICAgICAgIC8vIGZpeCBwb3NpdGlvbiBpZiBfbG93X2JhcnJpZXIgYWJvdmUgX2hpZ2hfYmFycmllciwgc2luY2UgX2xvd19iYXJyaWVyIHBvc2l0aW9uIGlzIG5vdCB1cGRhdGVkIHdoZW4gbm90IHZpc2libGVcbiAgICAgICAgICB0aGlzLl9sb3dfYmFycmllci5wcmljZSA9IHRoaXMuX2hpZ2hfYmFycmllci5wcmljZSAtIHRoaXMuY2hhcnQueUF4aXMucHJpY2VUaWNrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbGF0aXZlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGlnaF9iYXJyaWVyLnJlbGF0aXZlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuX2hpZ2hfYmFycmllci5yZWxhdGl2ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5fbG93X2JhcnJpZXIucmVsYXRpdmUgPSB2YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhZ2dhYmxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGlnaF9iYXJyaWVyLmRyYWdnYWJsZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLl9oaWdoX2JhcnJpZXIuZHJhZ2dhYmxlID0gdmFsdWU7XG4gICAgICB0aGlzLl9sb3dfYmFycmllci5kcmFnZ2FibGUgPSB2YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvd09mZnNjcmVlbkFycm93c1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hpZ2hfYmFycmllci5zaG93T2Zmc2NyZWVuQXJyb3dzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuX2hpZ2hfYmFycmllci5zaG93T2Zmc2NyZWVuQXJyb3dzID0gdmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9wYWNpdHlPbk92ZXJsYXBcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oaWdoX2JhcnJpZXIub3BhY2l0eU9uT3ZlcmxhcDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLl9oaWdoX2JhcnJpZXIub3BhY2l0eU9uT3ZlcmxhcCA9IHZhbHVlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCYXJyaWVyU3RvcmU7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNoYWRlQ29sb3JcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNvbG9yXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmb3JlZ3JvdW5kQ29sb3JcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzQmV0d2VlblNoYWRlVmlzaWJsZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc1RvcFNoYWRlVmlzaWJsZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yNiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc0JvdHRvbVNoYWRlVmlzaWJsZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yNyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoaWRlUHJpY2VMaW5lc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yOCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJsaW5lU3R5bGVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I5ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzSW5pdGlhbGl6ZWRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjEwID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImluaXRpYWxpemVQcm9taXNlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBfdXRpbHNfUGVuZGluZ1Byb21pc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0oKTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMTEgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGlkZUJhcnJpZXJMaW5lXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IxMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoaWRlT2Zmc2NyZWVuTGluZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMTMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGlkZU9mZnNjcmVlbkJhcnJpZXJcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjE0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzU2luZ2xlQmFycmllclwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJwaXBcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInBpcFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ5QXhpc1dpZHRoXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ5QXhpc1dpZHRoXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInByaWNlTGFiZWxXaWR0aFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicHJpY2VMYWJlbFdpZHRoXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImluaXRcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaW5pdFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQcm9wc1wiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUHJvcHNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVzdHJ1Y3RvclwiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVzdHJ1Y3RvclwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9Cb3R0b21XaWRnZXRzQ29udGFpbmVyU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0JvdHRvbVdpZGdldHNDb250YWluZXJTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQm90dG9tV2lkZ2V0c0NvbnRhaW5lclN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG52YXIgX2RlYywgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2Rlc2NyaXB0b3I1LCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cblxudmFyIEJvdHRvbVdpZGdldHNDb250YWluZXJTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKEJvdHRvbVdpZGdldHNDb250YWluZXJTdG9yZSwgW3tcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0eFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zdHg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXRlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuc3RhdGU7XG4gICAgfVxuICB9XSk7XG5cbiAgZnVuY3Rpb24gQm90dG9tV2lkZ2V0c0NvbnRhaW5lclN0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQm90dG9tV2lkZ2V0c0NvbnRhaW5lclN0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiYm90dG9tXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNSZWFkeVRvU2hvd1wiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJtYWluQ2hhcnRIZWlnaHRcIiwgX2Rlc2NyaXB0b3IzLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9wXCIsIF9kZXNjcmlwdG9yNCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvdGFsSGVpZ2h0XCIsIF9kZXNjcmlwdG9yNSwgdGhpcyk7XG5cbiAgICB0aGlzLmluaXRpYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zdHguYXBwZW5kKCdkcmF3UGFuZWxzJywgX3RoaXMudXBkYXRlQ2hhcnRIZWlnaHQpO1xuXG4gICAgICBfdGhpcy5pc1JlYWR5VG9TaG93ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVDaGFydE1hcmdpbiA9IGZ1bmN0aW9uIChoYXNCb3R0b21XaWRnZXQpIHtcbiAgICAgIGlmIChfdGhpcy5jb250ZXh0ICYmIF90aGlzLnN0eCkge1xuICAgICAgICB2YXIgbWFyZ2luVG9wID0gX3RoaXMuc3RhdGUueUF4aXNNYXJnaW4udG9wIHx8IDEwNjtcbiAgICAgICAgdmFyIG1hcmdpbkJvdHRvbSA9IF90aGlzLnN0YXRlLnlBeGlzTWFyZ2luLmJvdHRvbSB8fCA2NDtcblxuICAgICAgICBpZiAoaGFzQm90dG9tV2lkZ2V0KSB7XG4gICAgICAgICAgbWFyZ2luQm90dG9tICs9IDY0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzLnN0eC5jaGFydC55QXhpcy5pbml0aWFsTWFyZ2luVG9wICE9PSBtYXJnaW5Ub3AgfHwgX3RoaXMuc3R4LmNoYXJ0LnlBeGlzLmluaXRpYWxNYXJnaW5Cb3R0b20gIT09IG1hcmdpbkJvdHRvbSkge1xuICAgICAgICAgIF90aGlzLnN0eC5jaGFydC55QXhpcy5pbml0aWFsTWFyZ2luVG9wID0gbWFyZ2luVG9wO1xuICAgICAgICAgIF90aGlzLnN0eC5jaGFydC55QXhpcy5pbml0aWFsTWFyZ2luQm90dG9tID0gbWFyZ2luQm90dG9tO1xuXG4gICAgICAgICAgX3RoaXMuc3R4LmNhbGN1bGF0ZVlBeGlzTWFyZ2lucyhfdGhpcy5zdHguY2hhcnQucGFuZWwueUF4aXMpO1xuXG4gICAgICAgICAgX3RoaXMuc3R4LmRyYXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghX3RoaXMubWFpblN0b3JlLnN0YXRlLnNob3VsZE1pbmltaXNlTGFzdERpZ2l0cykge1xuICAgICAgICAgIF90aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRTaG91bGRNaW5pbWlzZUxhc3REaWdpdChfdGhpcy5zdHguY2hhcnQucGFuZWwuaGVpZ2h0IDwgNDYwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5pbml0aWFsKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhCb3R0b21XaWRnZXRzQ29udGFpbmVyU3RvcmUsIFt7XG4gICAga2V5OiBcInVwZGF0ZUNoYXJ0SGVpZ2h0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUNoYXJ0SGVpZ2h0KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMubWFpbkNoYXJ0SGVpZ2h0ID0gdGhpcy5zdHgucGFuZWxzLmNoYXJ0LmhlaWdodDtcbiAgICAgIHRoaXMudG90YWxIZWlnaHQgPSBPYmplY3Qua2V5cyh0aGlzLnN0eC5wYW5lbHMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGFjYyArIChfdGhpczIuc3R4LnBhbmVsc1trZXldLmhpZGRlbiA/IDAgOiBfdGhpczIuc3R4LnBhbmVsc1trZXldLmhlaWdodCk7XG4gICAgICB9LCAwKTtcbiAgICAgIHZhciBhZGRlZEluZGljYXRvcnNIZWlnaHQgPSBPYmplY3Qua2V5cyh0aGlzLnN0eC5wYW5lbHMpLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHN1bSArIChfdGhpczIuc3R4LnBhbmVsc1trZXldLmhpZGRlbiB8fCBrZXkgPT09ICdjaGFydCcgPyAwIDogX3RoaXMyLnN0eC5wYW5lbHNba2V5XS5oZWlnaHQpO1xuICAgICAgfSwgMCk7XG4gICAgICB2YXIgbWFyZ2luID0gdGhpcy50b3RhbEhlaWdodCA+IHRoaXMubWFpbkNoYXJ0SGVpZ2h0ID8gMCA6IDMwO1xuICAgICAgdGhpcy50b3AgPSB0aGlzLm1haW5DaGFydEhlaWdodCAtIG1hcmdpbiAtIDIwMDtcbiAgICAgIHRoaXMuYm90dG9tID0gYWRkZWRJbmRpY2F0b3JzSGVpZ2h0IHx8IDMwO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCb3R0b21XaWRnZXRzQ29udGFpbmVyU3RvcmU7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImJvdHRvbVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAwO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzUmVhZHlUb1Nob3dcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwibWFpbkNoYXJ0SGVpZ2h0XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjQgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidG9wXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjUgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidG90YWxIZWlnaHRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVDaGFydEhlaWdodFwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVDaGFydEhlaWdodFwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9DYXRlZ29yaWNhbERpc3BsYXlTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9DYXRlZ29yaWNhbERpc3BsYXlTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENhdGVnb3JpY2FsRGlzcGxheVN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19TZWFyY2hJbnB1dF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvU2VhcmNoSW5wdXQuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TZWFyY2hJbnB1dC5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfY2F0ZWdvcmljYWxkaXNwbGF5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL2NhdGVnb3JpY2FsZGlzcGxheSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfZGVjNSwgX2RlYzYsIF9kZWM3LCBfZGVjOCwgX2RlYzksIF9kZWMxMCwgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2Rlc2NyaXB0b3I1LCBfZGVzY3JpcHRvcjYsIF9kZXNjcmlwdG9yNywgX2Rlc2NyaXB0b3I4LCBfZGVzY3JpcHRvcjksIF90ZW1wO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxuXG5cblxuXG5cblxudmFyIENhdGVnb3JpY2FsRGlzcGxheVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM1ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzcgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM4ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjOSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzEwID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmUoX3JlZikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgZ2V0Q2F0ZWdvcmljYWxJdGVtcyA9IF9yZWYuZ2V0Q2F0ZWdvcmljYWxJdGVtcyxcbiAgICAgICAgb25TZWxlY3RJdGVtID0gX3JlZi5vblNlbGVjdEl0ZW0sXG4gICAgICAgIGdldElzU2hvd24gPSBfcmVmLmdldElzU2hvd24sXG4gICAgICAgIGdldEFjdGl2ZUNhdGVnb3J5ID0gX3JlZi5nZXRBY3RpdmVDYXRlZ29yeSxcbiAgICAgICAgYWN0aXZlT3B0aW9ucyA9IF9yZWYuYWN0aXZlT3B0aW9ucyxcbiAgICAgICAgcGxhY2Vob2xkZXJUZXh0ID0gX3JlZi5wbGFjZWhvbGRlclRleHQsXG4gICAgICAgIGZhdm9yaXRlc0lkID0gX3JlZi5mYXZvcml0ZXNJZCxcbiAgICAgICAgbWFpblN0b3JlID0gX3JlZi5tYWluU3RvcmUsXG4gICAgICAgIGlkID0gX3JlZi5pZCxcbiAgICAgICAgZ2V0Q3VycmVudEFjdGl2ZUNhdGVnb3J5ID0gX3JlZi5nZXRDdXJyZW50QWN0aXZlQ2F0ZWdvcnksXG4gICAgICAgIGdldEN1cnJlbnRBY3RpdmVTdWJDYXRlZ29yeSA9IF9yZWYuZ2V0Q3VycmVudEFjdGl2ZVN1YkNhdGVnb3J5LFxuICAgICAgICBnZXRDdXJyZW50QWN0aXZlTWFya2V0ID0gX3JlZi5nZXRDdXJyZW50QWN0aXZlTWFya2V0LFxuICAgICAgICBzZWFyY2hJbnB1dENsYXNzTmFtZSA9IF9yZWYuc2VhcmNoSW5wdXRDbGFzc05hbWU7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1Nob3duXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic2Nyb2xsUGFuZWxcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZmlsdGVyVGV4dFwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJhY3RpdmVDYXRlZ29yeUtleVwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJmb2N1c2VkQ2F0ZWdvcnlLZXlcIiwgX2Rlc2NyaXB0b3I1LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNTY3JvbGxpbmdEb3duXCIsIF9kZXNjcmlwdG9yNiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFjdGl2ZUhlYWRLZXlcIiwgX2Rlc2NyaXB0b3I3LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWN0aXZlSGVhZFRvcFwiLCBfZGVzY3JpcHRvcjgsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJhY3RpdmVIZWFkT2Zmc2V0XCIsIF9kZXNjcmlwdG9yOSwgdGhpcyk7XG5cbiAgICB0aGlzLnNjcm9sbFRvcCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmlzVXNlclNjcm9sbGluZyA9IHRydWU7XG4gICAgdGhpcy5sYXN0RmlsdGVyZWRJdGVtcyA9IFtdO1xuICAgIHRoaXMuYWN0aXZlQ2F0ZWdvcmllcyA9IFtdO1xuICAgIHRoaXMuY29ubmVjdCA9IE9iamVjdChfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtczogX3RoaXMuZmlsdGVyZWRJdGVtcyxcbiAgICAgICAgdXBkYXRlU2Nyb2xsU3B5OiBfdGhpcy51cGRhdGVTY3JvbGxTcHksXG4gICAgICAgIHNldFNjcm9sbFBhbmVsOiBfdGhpcy5zZXRTY3JvbGxQYW5lbCxcbiAgICAgICAgaXNTY3JvbGxpbmdEb3duOiBfdGhpcy5pc1Njcm9sbGluZ0Rvd24sXG4gICAgICAgIGhhbmRsZVRpdGxlQ2xpY2s6IF90aGlzLmhhbmRsZVRpdGxlQ2xpY2ssXG4gICAgICAgIHNjcm9sbFVwOiBfdGhpcy5zY3JvbGxVcCxcbiAgICAgICAgc2Nyb2xsRG93bjogX3RoaXMuc2Nyb2xsRG93bixcbiAgICAgICAgb25TZWxlY3RJdGVtOiBfdGhpcy5vblNlbGVjdEl0ZW0sXG4gICAgICAgIFJlc3VsdHNQYW5lbDogX3RoaXMuUmVzdWx0c1BhbmVsLFxuICAgICAgICBGaWx0ZXJQYW5lbDogX3RoaXMuRmlsdGVyUGFuZWwsXG4gICAgICAgIFNlYXJjaElucHV0OiBfdGhpcy5TZWFyY2hJbnB1dCxcbiAgICAgICAgc2V0RmlsdGVyVGV4dDogX3RoaXMuc2V0RmlsdGVyVGV4dCxcbiAgICAgICAgaGVpZ2h0OiBfdGhpcy5oZWlnaHQsXG4gICAgICAgIGlzTW9iaWxlOiBfdGhpcy5jaGFydC5pc01vYmlsZVxuICAgICAgfTtcbiAgICB9KTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wicmVhY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXRJc1Nob3duICYmIGdldElzU2hvd24oKSAmJiBfdGhpcy5zY3JvbGxQYW5lbDtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZ2V0SXNTaG93bigpICYmIF90aGlzLnNjcm9sbFBhbmVsKSB7XG4gICAgICAgIF90aGlzLnNjcm9sbFRvQWN0aXZlU3ltYm9sKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZGVsYXk6IDIwMFxuICAgIH0pO1xuICAgIHRoaXMuZ2V0Q2F0ZWdvcmljYWxJdGVtcyA9IGdldENhdGVnb3JpY2FsSXRlbXM7XG4gICAgdGhpcy5vblNlbGVjdEl0ZW0gPSBvblNlbGVjdEl0ZW07XG4gICAgdGhpcy5nZXRBY3RpdmVDYXRlZ29yeSA9IGdldEFjdGl2ZUNhdGVnb3J5O1xuICAgIHRoaXMuZmF2b3JpdGVzSWQgPSBmYXZvcml0ZXNJZDtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5jYXRlZ29yeUVsZW1lbnRzID0ge307XG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5nZXRDdXJyZW50QWN0aXZlQ2F0ZWdvcnkgPSBnZXRDdXJyZW50QWN0aXZlQ2F0ZWdvcnk7XG4gICAgdGhpcy5nZXRDdXJyZW50QWN0aXZlU3ViQ2F0ZWdvcnkgPSBnZXRDdXJyZW50QWN0aXZlU3ViQ2F0ZWdvcnk7XG4gICAgdGhpcy5nZXRDdXJyZW50QWN0aXZlTWFya2V0ID0gZ2V0Q3VycmVudEFjdGl2ZU1hcmtldDtcbiAgICB0aGlzLmlzSW5pdCA9IGZhbHNlO1xuICAgIHRoaXMuc2VhcmNoSW5wdXQgPSAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5zZWFyY2hJbnB1dENsYXNzTmFtZSA9IHNlYXJjaElucHV0Q2xhc3NOYW1lO1xuICAgIHZhciBub3JtYWxJdGVtID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmYXZvcml0ZXNJZDogZmF2b3JpdGVzSWRcbiAgICAgIH07XG4gICAgfSkoX2NvbXBvbmVudHNfY2F0ZWdvcmljYWxkaXNwbGF5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJOb3JtYWxJdGVtXCJdKTtcbiAgICB2YXIgYWN0aXZlSXRlbSA9IE9iamVjdChfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aXZlT3B0aW9uczogYWN0aXZlT3B0aW9ucyxcbiAgICAgICAgZmF2b3JpdGVzSWQ6IGZhdm9yaXRlc0lkXG4gICAgICB9O1xuICAgIH0pKF9jb21wb25lbnRzX2NhdGVnb3JpY2FsZGlzcGxheV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiQWN0aXZlSXRlbVwiXSk7XG5cbiAgICB2YXIgZ2V0SXRlbVR5cGUgPSBmdW5jdGlvbiBnZXRJdGVtVHlwZShjYXRlZ29yeUlkKSB7XG4gICAgICBpZiAoY2F0ZWdvcnlJZCA9PT0gJ2FjdGl2ZScgJiYgX3RoaXMuZ2V0QWN0aXZlQ2F0ZWdvcnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gYWN0aXZlSXRlbTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vcm1hbEl0ZW07XG4gICAgfTtcblxuICAgIHRoaXMuUmVzdWx0c1BhbmVsID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zOiBfdGhpcy5maWx0ZXJlZEl0ZW1zLFxuICAgICAgICBzZXRDYXRlZ29yeUVsZW1lbnQ6IF90aGlzLnNldENhdGVnb3J5RWxlbWVudCxcbiAgICAgICAgZ2V0SXRlbVR5cGU6IGdldEl0ZW1UeXBlLFxuICAgICAgICBhY3RpdmVIZWFkVG9wOiBfdGhpcy5hY3RpdmVIZWFkVG9wLFxuICAgICAgICBhY3RpdmVIZWFkS2V5OiBfdGhpcy5hY3RpdmVIZWFkS2V5LFxuICAgICAgICBhY3RpdmVIZWFkT2Zmc2V0OiBfdGhpcy5hY3RpdmVIZWFkT2Zmc2V0LFxuICAgICAgICBoYW5kbGVUaXRsZUNsaWNrOiBfdGhpcy5oYW5kbGVUaXRsZUNsaWNrXG4gICAgICB9O1xuICAgIH0pKF9jb21wb25lbnRzX2NhdGVnb3JpY2FsZGlzcGxheV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiUmVzdWx0c1BhbmVsXCJdKTtcbiAgICB0aGlzLkZpbHRlclBhbmVsID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgIHZhciBjaGFydCA9IF9yZWYyLmNoYXJ0O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNNb2JpbGU6IGNoYXJ0LmlzTW9iaWxlLFxuICAgICAgICBmaWx0ZXJlZEl0ZW1zOiBfdGhpcy5maWx0ZXJlZEl0ZW1zLFxuICAgICAgICBoYW5kbGVGaWx0ZXJDbGljazogX3RoaXMuaGFuZGxlRmlsdGVyQ2xpY2ssXG4gICAgICAgIGFjdGl2ZUNhdGVnb3J5S2V5OiBfdGhpcy5hY3RpdmVDYXRlZ29yeUtleSxcbiAgICAgICAgZm9jdXNlZENhdGVnb3J5S2V5OiBfdGhpcy5mb2N1c2VkQ2F0ZWdvcnlLZXksXG4gICAgICAgIGlzU2VhcmNoaW5nOiBfdGhpcy5maWx0ZXJUZXh0ICE9PSAnJ1xuICAgICAgfTtcbiAgICB9KShfY29tcG9uZW50c19jYXRlZ29yaWNhbGRpc3BsYXlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkZpbHRlclBhbmVsXCJdKTtcbiAgICB0aGlzLlNlYXJjaElucHV0ID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXJUZXh0LFxuICAgICAgICB2YWx1ZTogX3RoaXMuZmlsdGVyVGV4dCxcbiAgICAgICAgb25DaGFuZ2U6IF90aGlzLnNldEZpbHRlclRleHQsXG4gICAgICAgIHNlYXJjaElucHV0OiBfdGhpcy5zZWFyY2hJbnB1dCxcbiAgICAgICAgc2VhcmNoSW5wdXRDbGFzc05hbWU6IF90aGlzLnNlYXJjaElucHV0Q2xhc3NOYW1lXG4gICAgICB9O1xuICAgIH0pKF9jb21wb25lbnRzX1NlYXJjaElucHV0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmUsIFt7XG4gICAga2V5OiBcImluaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHRoaXMuaXNJbml0ID0gdHJ1ZTsgLy8gU2VsZWN0IGZpcnN0IG5vbi1lbXB0eSBjYXRlZ29yeTpcblxuICAgICAgaWYgKHRoaXMuYWN0aXZlQ2F0ZWdvcnlLZXkgPT09ICcnICYmIHRoaXMuZmlsdGVyZWRJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmZpbHRlcmVkSXRlbXMpLFxuICAgICAgICAgICAgX3N0ZXA7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmNhdGVnb3J5RWxlbWVudHNbY2F0ZWdvcnkuY2F0ZWdvcnlJZF07XG5cbiAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUNhdGVnb3J5S2V5ID0gY2F0ZWdvcnkuY2F0ZWdvcnlJZDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlU2Nyb2xsU3B5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbFNweSgpIHtcbiAgICAgIGlmICh0aGlzLnBhdXNlU2Nyb2xsU3B5IHx8ICF0aGlzLnNjcm9sbFBhbmVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZmlsdGVyZWRJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBoaXRzOiA0MHB4IGZvciB0aXRsZSBoaWdodCArIDRweCBmb3IgY29udGVudCBib3R0b20gYm9yZGVyXG5cblxuICAgICAgdmFyIGNhdGVnb3J5VGl0bGVIZWlnaHQgPSA0NDtcbiAgICAgIHZhciBzY3JvbGxQYW5lbFRvcCA9IHRoaXMuc2Nyb2xsUGFuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgdmFyIGFjdGl2ZUhlYWRUb3AgPSAwO1xuICAgICAgdmFyIGFjdGl2ZU1lbnVJZCA9IG51bGw7XG5cbiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5maWx0ZXJlZEl0ZW1zKSxcbiAgICAgICAgICBfc3RlcDI7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIGNhdGVnb3J5ID0gX3N0ZXAyLnZhbHVlO1xuICAgICAgICAgIHZhciBlbCA9IHRoaXMuY2F0ZWdvcnlFbGVtZW50c1tjYXRlZ29yeS5jYXRlZ29yeUlkXTtcblxuICAgICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZ2FwX3RvcCA9IE9iamVjdC5rZXlzKHRoaXMuY2F0ZWdvcnlFbGVtZW50cykuaW5kZXhPZihjYXRlZ29yeS5jYXRlZ29yeUlkKSAqIDQwO1xuICAgICAgICAgIHZhciByID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgdmFyIHRvcCA9IHIudG9wIC0gc2Nyb2xsUGFuZWxUb3AgLSBnYXBfdG9wO1xuXG4gICAgICAgICAgaWYgKHRvcCA8IDApIHtcbiAgICAgICAgICAgIGFjdGl2ZU1lbnVJZCA9IGNhdGVnb3J5LmNhdGVnb3J5SWQ7XG4gICAgICAgICAgICB2YXIgY2F0ZWdvcnlTd2l0Y2hQb2ludCA9IHIuaGVpZ2h0ICsgdG9wIC0gY2F0ZWdvcnlUaXRsZUhlaWdodDtcbiAgICAgICAgICAgIGFjdGl2ZUhlYWRUb3AgPSBjYXRlZ29yeVN3aXRjaFBvaW50IDwgMCA/IGNhdGVnb3J5U3dpdGNoUG9pbnQgOiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLnNjcm9sbFBhbmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcblxuICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9wID4gc2Nyb2xsVG9wKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVXAoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsRG93bigpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2Zmc2V0VG9wID0gdGhpcy5zY3JvbGxQYW5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgIHRoaXMuYWN0aXZlSGVhZE9mZnNldCA9IHRoaXMuY2hhcnQuaXNNb2JpbGUgPyBvZmZzZXRUb3AgOiAwO1xuICAgICAgdGhpcy5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICB0aGlzLmZvY3VzZWRDYXRlZ29yeUtleSA9IGFjdGl2ZU1lbnVJZCB8fCB0aGlzLmZpbHRlcmVkSXRlbXNbMF0uY2F0ZWdvcnlJZDtcbiAgICAgIHRoaXMuYWN0aXZlSGVhZFRvcCA9IGFjdGl2ZUhlYWRUb3A7XG4gICAgICB0aGlzLmFjdGl2ZUhlYWRLZXkgPSB0aGlzLnNjcm9sbFRvcCA9PT0gMCA/IG51bGwgOiB0aGlzLmZvY3VzZWRDYXRlZ29yeUtleTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2Nyb2xsVXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVXAoKSB7XG4gICAgICB0aGlzLmlzU2Nyb2xsaW5nRG93biA9IGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzY3JvbGxEb3duXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbERvd24oKSB7XG4gICAgICAvLyBUaGlzIG9ubHkgYWZmZWN0cyB3aGVuIHNjcm9sbGluZyBieSBtb3VzZSBub3QgYnkgY29kZVxuICAgICAgdGhpcy5pc1Njcm9sbGluZ0Rvd24gPSB0aGlzLmlzVXNlclNjcm9sbGluZztcbiAgICAgIHRoaXMuaXNVc2VyU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2F0ZWdvcnlFbGVtZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENhdGVnb3J5RWxlbWVudChlbGVtZW50LCBpZCkge1xuICAgICAgdGhpcy5jYXRlZ29yeUVsZW1lbnRzW2lkXSA9IGVsZW1lbnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldEZpbHRlclRleHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RmlsdGVyVGV4dChmaWx0ZXJUZXh0KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdGhpcy5maWx0ZXJUZXh0ID0gZmlsdGVyVGV4dDtcbiAgICAgIHRoaXMuaXNVc2VyU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnVwZGF0ZVNjcm9sbFNweSgpO1xuXG4gICAgICBpZiAoZmlsdGVyVGV4dCA9PT0gJycpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5zY3JvbGxUb0FjdGl2ZVN5bWJvbCgpO1xuICAgICAgICB9LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlRmlsdGVyQ2xpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRmlsdGVyQ2xpY2soY2F0ZWdvcnlJZCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBlbCA9IHRoaXMuY2F0ZWdvcnlFbGVtZW50c1tjYXRlZ29yeUlkXTtcbiAgICAgIHZhciBnYXBfdG9wID0gT2JqZWN0LmtleXModGhpcy5jYXRlZ29yeUVsZW1lbnRzKS5pbmRleE9mKGNhdGVnb3J5SWQpICogNDA7XG5cbiAgICAgIGlmIChlbCkge1xuICAgICAgICAvLyBUT0RPOiBTY3JvbGwgYW5pbWF0aW9uXG4gICAgICAgIHRoaXMucGF1c2VTY3JvbGxTcHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzVXNlclNjcm9sbGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLmNoYXJ0LmlzTW9iaWxlKSB7XG4gICAgICAgICAgdGhpcy5zY3JvbGxQYW5lbC5zY3JvbGwoe1xuICAgICAgICAgICAgdG9wOiBlbC5vZmZzZXRUb3AgLSA5NSxcbiAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNjcm9sbFBhbmVsLnNjcm9sbFRvcCA9IGVsLm9mZnNldFRvcCAtIGdhcF90b3A7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZvY3VzZWRDYXRlZ29yeUtleSA9IGNhdGVnb3J5SWQ7XG4gICAgICAgIHRoaXMuYWN0aXZlSGVhZEtleSA9IG51bGw7IC8vIHNjcm9sbFRvcCB0YWtlcyBzb21lIHRpbWUgdG8gdGFrZSBhZmZlY3QsIHNvIHdlIG5lZWRcbiAgICAgICAgLy8gYSBzbGlnaHQgZGVsYXkgYmVmb3JlIGVuYWJsaW5nIHRoZSBzY3JvbGwgc3B5IGFnYWluXG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMzLnBhdXNlU2Nyb2xsU3B5ID0gZmFsc2U7XG4gICAgICAgIH0sIDIwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0U2Nyb2xsUGFuZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2Nyb2xsUGFuZWwoZWxlbWVudCkge1xuICAgICAgdGhpcy5zY3JvbGxQYW5lbCA9IGVsZW1lbnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVRpdGxlQ2xpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVGl0bGVDbGljayhjYXRlZ29yeUlkKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdGhpcy5hY3RpdmVDYXRlZ29yaWVzID0gW107XG5cbiAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5maWx0ZXJlZEl0ZW1zKSxcbiAgICAgICAgICBfc3RlcDM7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICBpZiAoaXRlbS5jYXRlZ29yeUlkID09PSBjYXRlZ29yeUlkKSB7XG4gICAgICAgICAgICBpdGVtLmFjdGl2ZSA9ICFpdGVtLmFjdGl2ZTtcblxuICAgICAgICAgICAgaWYgKGl0ZW0uYWN0aXZlKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuaGFuZGxlRmlsdGVyQ2xpY2soY2F0ZWdvcnlJZCk7XG4gICAgICAgICAgICAgIH0sIDI1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGl0ZW0uYWN0aXZlICYmIGl0ZW0uY2F0ZWdvcnlJZCAhPT0gJ2Zhdm9yaXRlJykge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVDYXRlZ29yaWVzLnB1c2goaXRlbS5jYXRlZ29yeUlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFjdGl2ZUhlYWRUb3AgPSBudWxsO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczQudXBkYXRlU2Nyb2xsU3B5KCk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2Nyb2xsVG9BY3RpdmVTeW1ib2xcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVG9BY3RpdmVTeW1ib2woKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdmFyIGFjdGl2ZUl0ZW1Db3VudCA9IHRoaXMuZ2V0QWN0aXZlQ2F0ZWdvcnkgPyB0aGlzLmdldEFjdGl2ZUNhdGVnb3J5KCkuZGF0YS5sZW5ndGggOiAwO1xuICAgICAgdGhpcy5mb2N1c2VkQ2F0ZWdvcnlLZXkgPSBudWxsO1xuICAgICAgdGhpcy5hY3RpdmVDYXRlZ29yeUtleSA9IHRoaXMuZ2V0Q3VycmVudEFjdGl2ZUNhdGVnb3J5ID8gdGhpcy5nZXRDdXJyZW50QWN0aXZlQ2F0ZWdvcnkoKSA6ICdmYXZvcml0ZSc7XG4gICAgICB0aGlzLmFjdGl2ZVN1YkNhdGVnb3J5ID0gdGhpcy5nZXRDdXJyZW50QWN0aXZlU3ViQ2F0ZWdvcnkgPyB0aGlzLmdldEN1cnJlbnRBY3RpdmVTdWJDYXRlZ29yeSgpIDogJyc7XG4gICAgICB0aGlzLmFjdGl2ZU1hcmtldCA9IHRoaXMuZ2V0Q3VycmVudEFjdGl2ZU1hcmtldCA/IHRoaXMuZ2V0Q3VycmVudEFjdGl2ZU1hcmtldCgpIDogJyc7XG4gICAgICB2YXIgZWwgPSB0aGlzLmNhdGVnb3J5RWxlbWVudHNbdGhpcy5hY3RpdmVDYXRlZ29yeUtleV07XG4gICAgICB2YXIgYWN0aXZlU3ViQ2F0ZWdvcnlDbGFzc05hbWUgPSBcIi5zYy1tY2RfX2NhdGVnb3J5LS1cIi5jb25jYXQodGhpcy5hY3RpdmVDYXRlZ29yeUtleSwgXCIgIC5zYy1tY2RfX2NhdGVnb3J5X19jb250ZW50LS1cIikuY29uY2F0KHRoaXMuYWN0aXZlU3ViQ2F0ZWdvcnkpO1xuICAgICAgdmFyIGVsX2FjdGl2ZV9zdWJfY2F0ZWdvcnkgPSB0aGlzLnNjcm9sbFBhbmVsLnF1ZXJ5U2VsZWN0b3IoYWN0aXZlU3ViQ2F0ZWdvcnlDbGFzc05hbWUpO1xuICAgICAgdmFyIGFjdGl2ZU1hcmtldENsYXNzTmFtZSA9IFwiXCIuY29uY2F0KGFjdGl2ZVN1YkNhdGVnb3J5Q2xhc3NOYW1lLCBcIiAuc2MtbWNkX19pdGVtLS1cIikuY29uY2F0KHRoaXMuYWN0aXZlTWFya2V0KTtcbiAgICAgIHZhciBlbF9hY3RpdmVfbWFya2V0ID0gdGhpcy5zY3JvbGxQYW5lbC5xdWVyeVNlbGVjdG9yKGFjdGl2ZU1hcmtldENsYXNzTmFtZSk7XG4gICAgICB0aGlzLmFjdGl2ZUhlYWRLZXkgPSB0aGlzLmFjdGl2ZUNhdGVnb3J5S2V5IHx8IG51bGw7XG4gICAgICB0aGlzLmFjdGl2ZUhlYWRUb3AgPSAwO1xuICAgICAgdGhpcy5wYXVzZVNjcm9sbFNweSA9IHRydWU7XG4gICAgICB0aGlzLmlzVXNlclNjcm9sbGluZyA9IGZhbHNlO1xuXG4gICAgICBpZiAoYWN0aXZlSXRlbUNvdW50KSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQ2F0ZWdvcnlLZXkgPSAnYWN0aXZlJztcbiAgICAgICAgdGhpcy5hY3RpdmVIZWFkS2V5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY3JvbGxQYW5lbC5zY3JvbGxUb3AgPSAwO1xuICAgICAgfSBlbHNlIGlmIChlbCkge1xuICAgICAgICB0aGlzLnNjcm9sbFBhbmVsLnNjcm9sbFRvcCA9IGVsLm9mZnNldFRvcDtcblxuICAgICAgICBpZiAoZWxfYWN0aXZlX21hcmtldCkge1xuICAgICAgICAgIHZhciB0b3BPZmZzZXQgPSB0aGlzLm1haW5TdG9yZS5jaGFydC5pc01vYmlsZSA/IDEwMCA6IDQwO1xuICAgICAgICAgIHRoaXMuc2Nyb2xsUGFuZWwuc2Nyb2xsVG9wID0gZWwub2Zmc2V0VG9wICsgZWxfYWN0aXZlX21hcmtldC5vZmZzZXRUb3AgLSB0b3BPZmZzZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxfYWN0aXZlX3N1Yl9jYXRlZ29yeSkge1xuICAgICAgICAgIHZhciBfdG9wT2Zmc2V0ID0gdGhpcy5tYWluU3RvcmUuY2hhcnQuaXNNb2JpbGUgPyAxMDAgOiAwO1xuXG4gICAgICAgICAgdGhpcy5zY3JvbGxQYW5lbC5zY3JvbGxUb3AgPSBlbC5vZmZzZXRUb3AgKyBlbF9hY3RpdmVfc3ViX2NhdGVnb3J5Lm9mZnNldFRvcCAtIF90b3BPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNS5wYXVzZVNjcm9sbFNweSA9IGZhbHNlO1xuICAgICAgfSwgMjApO1xuXG4gICAgICBpZiAoIXRoaXMuaXNJbml0KSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMubWFpblN0b3JlLmNoYXJ0LmlzTW9iaWxlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczUuc2VhcmNoSW5wdXQuY3VycmVudC5mb2N1cygpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm1haW5TdG9yZS5jaGFydC5pc01vYmlsZSkge1xuICAgICAgICB2YXIgY2F0ZWdvcmllcyA9IE9iamVjdC5rZXlzKHRoaXMuY2F0ZWdvcnlFbGVtZW50cyk7XG4gICAgICAgIHZhciBsYXN0X2NhdGVnb3J5ID0gY2F0ZWdvcmllcy5wb3AoKTtcbiAgICAgICAgdmFyIGxhc3RfY2F0ZWdvcnlfYm90dG9tX2dhcCA9IHRoaXMuaGVpZ2h0IC0gKDY0ICsgY2F0ZWdvcmllcy5sZW5ndGggKiA0MCk7IC8vIHRvIG1ha2UgdGhlIGxhc3QgY2F0ZWdvcnkgaGVpZ2h0IHJlYWNoIGl0J3MgZmlsdGVyIHRhYlxuXG4gICAgICAgIGlmICh0aGlzLmNhdGVnb3J5RWxlbWVudHNbbGFzdF9jYXRlZ29yeV0pIHtcbiAgICAgICAgICB0aGlzLmNhdGVnb3J5RWxlbWVudHNbbGFzdF9jYXRlZ29yeV0uc3R5bGUubWluSGVpZ2h0ID0gXCJcIi5jb25jYXQobGFzdF9jYXRlZ29yeV9ib3R0b21fZ2FwLCBcInB4XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoYXJ0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhlaWdodFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQuY2hhcnRDb250YWluZXJIZWlnaHQgLSAodGhpcy5jaGFydC5pc01vYmlsZSA/IDAgOiAxMjApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmYXZvcml0ZXNDYXRlZ29yeVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIHRoaXMucGF1c2VTY3JvbGxTcHkgPSB0cnVlO1xuICAgICAgdmFyIGZhdm9yaXRlc0NhdGVnb3J5ID0ge1xuICAgICAgICBjYXRlZ29yeU5hbWU6IHQudHJhbnNsYXRlKCdGYXZvcml0ZXMnKSxcbiAgICAgICAgY2F0ZWdvcnlJZDogJ2Zhdm9yaXRlJyxcbiAgICAgICAgaGFzU3ViY2F0ZWdvcnk6IGZhbHNlLFxuICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgIGVtcHR5RGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdUaGVyZSBhcmUgbm8gZmF2b3JpdGVzIHlldC4nKSxcbiAgICAgICAgZGF0YTogT2JqZWN0LmtleXModGhpcy5tYWluU3RvcmUuZmF2b3JpdGVzLmZhdm9yaXRlc01hcFt0aGlzLmZhdm9yaXRlc0lkXSkgfHwgW11cbiAgICAgIH07XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM2LnBhdXNlU2Nyb2xsU3B5ID0gZmFsc2U7XG4gICAgICB9LCAyMCk7XG4gICAgICByZXR1cm4gZmF2b3JpdGVzQ2F0ZWdvcnk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpbHRlcmVkSXRlbXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBmaWx0ZXJlZEl0ZW1zID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiY2xvbmVDYXRlZ29yaWVzXCJdKSh0aGlzLmdldENhdGVnb3JpY2FsSXRlbXMoKSk7XG4gICAgICB2YXIgYWN0aXZlSXRtZXMgPSB0aGlzLmFjdGl2ZUNhdGVnb3JpZXMubGVuZ3RoID8gdGhpcy5hY3RpdmVDYXRlZ29yaWVzIDogW3RoaXMuZ2V0Q3VycmVudEFjdGl2ZUNhdGVnb3J5ID8gdGhpcy5nZXRDdXJyZW50QWN0aXZlQ2F0ZWdvcnkoKSA6ICdmYXZvcml0ZSddO1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGZpbHRlcmVkSXRlbXMpLFxuICAgICAgICAgIF9zdGVwNDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwNC52YWx1ZTtcblxuICAgICAgICAgIGlmIChhY3RpdmVJdG1lcy5pbmNsdWRlcyhpdGVtLmNhdGVnb3J5SWQpKSB7XG4gICAgICAgICAgICBpdGVtLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3I0LmYoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZmF2b3JpdGVzSWQpIHtcbiAgICAgICAgdmFyIGZhdnNDYXRlZ29yeSA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZmF2b3JpdGVzQ2F0ZWdvcnkpO1xuXG4gICAgICAgIHZhciBmaW5kRmF2SXRlbSA9IGZ1bmN0aW9uIGZpbmRGYXZJdGVtKGNhdGVnb3J5KSB7XG4gICAgICAgICAgdmFyIGZvdW5kSXRlbXMgPSBbXTtcblxuICAgICAgICAgIGlmIChjYXRlZ29yeS5oYXNTdWJjYXRlZ29yeSkge1xuICAgICAgICAgICAgY2F0ZWdvcnkuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChzdWJjYXRlZ29yeSkge1xuICAgICAgICAgICAgICB2YXIgZm91bmRTdWJJdGVtcyA9IGZpbmRGYXZJdGVtKHN1YmNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgZm91bmRJdGVtcy5wdXNoLmFwcGx5KGZvdW5kSXRlbXMsIF90b0NvbnN1bWFibGVBcnJheShmb3VuZFN1Ykl0ZW1zKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmF2c0NhdGVnb3J5LmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZmF2SXRlbSkge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIGZhdkl0ZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1PYmogPSBjYXRlZ29yeS5kYXRhLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLml0ZW1JZCA9PT0gZmF2SXRlbTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChpdGVtT2JqKSB7XG4gICAgICAgICAgICAgICAgICBmb3VuZEl0ZW1zLnB1c2goaXRlbU9iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZm91bmRJdGVtcztcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZmF2c0NhdGVnb3J5SXRlbSA9IGZhdnNDYXRlZ29yeS5kYXRhLmZpbHRlcihmdW5jdGlvbiAoZmF2SXRlbSkge1xuICAgICAgICAgIHJldHVybiB0eXBlb2YgZmF2SXRlbSAhPT0gJ3N0cmluZyc7XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICAgICAgdmFyIGZvdW5kSXRlbXMgPSBmaW5kRmF2SXRlbShjYXRlZ29yeSk7XG4gICAgICAgICAgZmF2c0NhdGVnb3J5SXRlbS5wdXNoLmFwcGx5KGZhdnNDYXRlZ29yeUl0ZW0sIF90b0NvbnN1bWFibGVBcnJheShmb3VuZEl0ZW1zKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBmYXZzQ2F0ZWdvcnkuZGF0YSA9IGZhdnNDYXRlZ29yeUl0ZW0uZmlsdGVyKGZ1bmN0aW9uIChmYXZJdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGZhdkl0ZW07XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zLnVuc2hpZnQoZmF2c0NhdGVnb3J5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZ2V0QWN0aXZlQ2F0ZWdvcnkpIHtcbiAgICAgICAgdmFyIGFjdGl2ZUNhdGVnb3J5ID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiY2xvbmVDYXRlZ29yeVwiXSkodGhpcy5nZXRBY3RpdmVDYXRlZ29yeSgpKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcy51bnNoaWZ0KGFjdGl2ZUNhdGVnb3J5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZmlsdGVyVGV4dCA9PT0gJycpIHtcbiAgICAgICAgdGhpcy5sYXN0RmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXM7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZEl0ZW1zO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VhcmNoSGFzUmVzdWx0ID0gZmFsc2U7XG4gICAgICB2YXIgcXVlcmllcyA9IHRoaXMuZmlsdGVyVGV4dC5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geCAhPT0gJyc7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgcmV0dXJuIGIudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICB9KTsgLy8gcmVnZXggdG8gY2hlY2sgYWxsIHNlcGFyYXRlIHdvcmRzIGJ5IGNvbW1hLCBzaG91bGQgZXhpc3QgaW4gdGhlIHN0cmluZ1xuXG4gICAgICB2YXIgaGFzU2VhcmNoU3RyaW5nID0gZnVuY3Rpb24gaGFzU2VhcmNoU3RyaW5nKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHF1ZXJpZXMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIHRleHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhiKSAmJiBhO1xuICAgICAgICB9LCB0cnVlKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBmaWx0ZXJDYXRlZ29yeSA9IGZ1bmN0aW9uIGZpbHRlckNhdGVnb3J5KGMpIHtcbiAgICAgICAgYy5kYXRhID0gYy5kYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBoYXNTZWFyY2hTdHJpbmcoaXRlbS5kaXNwbGF5IHx8IF90eXBlb2YoaXRlbS5kYXRhT2JqZWN0KSA9PT0gJ29iamVjdCcgJiYgaXRlbS5kYXRhT2JqZWN0LnN5bWJvbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgc2VhcmNoSGFzUmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihmaWx0ZXJlZEl0ZW1zKSxcbiAgICAgICAgICBfc3RlcDU7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIGNhdGVnb3J5ID0gX3N0ZXA1LnZhbHVlO1xuICAgICAgICAgIGNhdGVnb3J5LmFjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgICBpZiAoY2F0ZWdvcnkuaGFzU3ViY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY2F0ZWdvcnkuZGF0YSksXG4gICAgICAgICAgICAgICAgX3N0ZXA2O1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjYucygpOyAhKF9zdGVwNiA9IF9pdGVyYXRvcjYubigpKS5kb25lOykge1xuICAgICAgICAgICAgICAgIHZhciBzdWJjYXRlZ29yeSA9IF9zdGVwNi52YWx1ZTtcbiAgICAgICAgICAgICAgICBmaWx0ZXJDYXRlZ29yeShzdWJjYXRlZ29yeSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBfaXRlcmF0b3I2LmUoZXJyKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjYuZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWx0ZXJDYXRlZ29yeShjYXRlZ29yeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3I1LmYoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFzZWFyY2hIYXNSZXN1bHQpIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IHRoaXMubGFzdEZpbHRlcmVkSXRlbXM7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5wYXVzZVNjcm9sbFNweSkge1xuICAgICAgICB0aGlzLmxhc3RGaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZpbHRlcmVkSXRlbXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhdGVnb3JpY2FsRGlzcGxheVN0b3JlO1xufSgpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc1Nob3duXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNjcm9sbFBhbmVsXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmaWx0ZXJUZXh0XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFjdGl2ZUNhdGVnb3J5S2V5XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I1ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImZvY3VzZWRDYXRlZ29yeUtleVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I2ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzU2Nyb2xsaW5nRG93blwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yNyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhY3RpdmVIZWFkS2V5XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufSksIF9kZXNjcmlwdG9yOCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhY3RpdmVIZWFkVG9wXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjkgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYWN0aXZlSGVhZE9mZnNldFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaW5pdFwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpbml0XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImZhdm9yaXRlc0NhdGVnb3J5XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmYXZvcml0ZXNDYXRlZ29yeVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmaWx0ZXJlZEl0ZW1zXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmaWx0ZXJlZEl0ZW1zXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVNjcm9sbFNweVwiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlU2Nyb2xsU3B5XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNjcm9sbFVwXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzY3JvbGxVcFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzY3JvbGxEb3duXCIsIFtfZGVjNF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzY3JvbGxEb3duXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENhdGVnb3J5RWxlbWVudFwiLCBbX2RlYzVdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0Q2F0ZWdvcnlFbGVtZW50XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldEZpbHRlclRleHRcIiwgW19kZWM2XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldEZpbHRlclRleHRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGFuZGxlRmlsdGVyQ2xpY2tcIiwgW19kZWM3XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhhbmRsZUZpbHRlckNsaWNrXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFNjcm9sbFBhbmVsXCIsIFtfZGVjOF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRTY3JvbGxQYW5lbFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoYW5kbGVUaXRsZUNsaWNrXCIsIFtfZGVjOV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoYW5kbGVUaXRsZUNsaWNrXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNjcm9sbFRvQWN0aXZlU3ltYm9sXCIsIFtfZGVjMTBdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2Nyb2xsVG9BY3RpdmVTeW1ib2xcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0NoYXJ0TW9kZVN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0NoYXJ0TW9kZVN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENoYXJ0TW9kZVN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL01lbnVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL01lbnVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19NZW51X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9NZW51LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTWVudS5qc3hcIik7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuXG52YXIgQ2hhcnRNb2RlU3RvcmUgPSBmdW5jdGlvbiBDaGFydE1vZGVTdG9yZShtYWluU3RvcmUpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYXJ0TW9kZVN0b3JlKTtcblxuICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgdGhpcy5tZW51ID0gbmV3IF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlLCB7XG4gICAgcm91dGU6ICdjaGFydC1tb2RlJ1xuICB9KTtcbiAgdGhpcy5DaGFydFR5cGVNZW51ID0gdGhpcy5tZW51LmNvbm5lY3QoX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pO1xufTtcblxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0NoYXJ0U2V0dGluZ1N0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0NoYXJ0U2V0dGluZ1N0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2hhcnRTZXR0aW5nU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL01lbnVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL01lbnVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19NZW51X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9NZW51LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTWVudS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nYSAqLyBcIi4vc3JjL3V0aWxzL2dhLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Db25zdGFudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vQ29uc3RhbnQuanMgKi8gXCIuL3NyYy9Db25zdGFudC5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfZGVjNSwgX2RlYzYsIF9kZWM3LCBfZGVjOCwgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2Rlc2NyaXB0b3I1LCBfZGVzY3JpcHRvcjYsIF9kZXNjcmlwdG9yNywgX3RlbXA7XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG5cblxuXG5cblxudmFyIENoYXJ0U2V0dGluZ1N0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM1ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzcgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM4ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2hhcnRTZXR0aW5nU3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGFydFNldHRpbmdTdG9yZSk7XG5cbiAgICB0aGlzLmxhbmd1YWdlcyA9IFtdO1xuICAgIHRoaXMuZGVmYXVsdExhbmd1YWdlID0ge307XG4gICAgdGhpcy5vblNldHRpbmdzQ2hhbmdlID0gdm9pZCAwO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJsYW5ndWFnZVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBvc2l0aW9uXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRoZW1lXCIsIF9kZXNjcmlwdG9yMywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvdW50ZG93blwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJoaXN0b3JpY2FsXCIsIF9kZXNjcmlwdG9yNSwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzQXV0b1NjYWxlXCIsIF9kZXNjcmlwdG9yNiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWRcIiwgX2Rlc2NyaXB0b3I3LCB0aGlzKTtcblxuICAgIHRoaXMuZGVmYXVsdExhbmd1YWdlID0gdGhpcy5sYW5ndWFnZXNbMF07XG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5tZW51ID0gbmV3IF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlLCB7XG4gICAgICByb3V0ZTogJ3NldHRpbmcnXG4gICAgfSk7XG4gICAgdGhpcy5DaGFydFNldHRpbmdNZW51ID0gdGhpcy5tZW51LmNvbm5lY3QoX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTZXR0aW5ncyhtYWluU3RvcmUuc3RhdGUuc2V0dGluZ3MpO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENoYXJ0U2V0dGluZ1N0b3JlLCBbe1xuICAgIGtleTogXCJzZXRTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZXR0aW5ncyhzZXR0aW5ncykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZXR0aW5ncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvdW50ZG93biA9IHNldHRpbmdzLmNvdW50ZG93bixcbiAgICAgICAgICBoaXN0b3JpY2FsID0gc2V0dGluZ3MuaGlzdG9yaWNhbCxcbiAgICAgICAgICBsYW5ndWFnZSA9IHNldHRpbmdzLmxhbmd1YWdlLFxuICAgICAgICAgIHBvc2l0aW9uID0gc2V0dGluZ3MucG9zaXRpb24sXG4gICAgICAgICAgaXNBdXRvU2NhbGUgPSBzZXR0aW5ncy5pc0F1dG9TY2FsZSxcbiAgICAgICAgICBpc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkID0gc2V0dGluZ3MuaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCxcbiAgICAgICAgICB0aGVtZSA9IHNldHRpbmdzLnRoZW1lLFxuICAgICAgICAgIGFjdGl2ZUxhbmd1YWdlcyA9IHNldHRpbmdzLmFjdGl2ZUxhbmd1YWdlcztcblxuICAgICAgaWYgKCEoIWFjdGl2ZUxhbmd1YWdlcyAmJiBfQ29uc3RhbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxhbmd1YWdlc1wiXS5ldmVyeShmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLmxhbmd1YWdlcy5maW5kKGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgcmV0dXJuIHkua2V5ID09PSB4LmtleTtcbiAgICAgICAgfSk7XG4gICAgICB9KSB8fCBhY3RpdmVMYW5ndWFnZXMgJiYgdGhpcy5sYW5ndWFnZXMubGVuZ3RoID09PSBhY3RpdmVMYW5ndWFnZXMubGVuZ3RoICYmIHRoaXMubGFuZ3VhZ2VzLmV2ZXJ5KGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiBhY3RpdmVMYW5ndWFnZXMuaW5kZXhPZih4LmtleS50b1VwcGVyQ2FzZSgpKSAhPT0gLTE7XG4gICAgICB9KSkpIHtcbiAgICAgICAgdGhpcy51cGRhdGVBY3RpdmVMYW5ndWFnZShhY3RpdmVMYW5ndWFnZXMpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhlbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldFRoZW1lKHRoZW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb3VudGRvd24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNob3dDb3VudGRvd24oY291bnRkb3duKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxhbmd1YWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRMYW5ndWFnZShsYW5ndWFnZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoaXN0b3JpY2FsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRIaXN0b3JpY2FsKGhpc3RvcmljYWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNBdXRvU2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldEF1dG9TY2FsZShpc0F1dG9TY2FsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy50b2dnbGVIaWdoZXN0TG93ZXN0TWFya2VyKGlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzYXZlU2V0dGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlU2V0dGluZygpIHtcbiAgICAgIGlmICh0aGlzLm9uU2V0dGluZ3NDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5vblNldHRpbmdzQ2hhbmdlKHtcbiAgICAgICAgICBjb3VudGRvd246IHRoaXMuY291bnRkb3duLFxuICAgICAgICAgIGhpc3RvcmljYWw6IHRoaXMuaGlzdG9yaWNhbCxcbiAgICAgICAgICBsYW5ndWFnZTogdGhpcy5sYW5ndWFnZS5rZXksXG4gICAgICAgICAgcG9zaXRpb246IHRoaXMucG9zaXRpb24sXG4gICAgICAgICAgaXNBdXRvU2NhbGU6IHRoaXMuaXNBdXRvU2NhbGUsXG4gICAgICAgICAgaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZDogdGhpcy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkLFxuICAgICAgICAgIHRoZW1lOiB0aGlzLnRoZW1lXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVBY3RpdmVMYW5ndWFnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVBY3RpdmVMYW5ndWFnZShhY3RpdmVMYW5ndWFnZXMpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoYWN0aXZlTGFuZ3VhZ2VzKSB7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2VzID0gYWN0aXZlTGFuZ3VhZ2VzLm1hcChmdW5jdGlvbiAobG5nS2V5KSB7XG4gICAgICAgICAgcmV0dXJuIF9Db25zdGFudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTGFuZ3VhZ2VzXCJdLmZpbmQoZnVuY3Rpb24gKGxuZykge1xuICAgICAgICAgICAgcmV0dXJuIGxuZy5rZXkudG9VcHBlckNhc2UoKSA9PT0gbG5nS2V5O1xuICAgICAgICAgIH0pIHx8IG51bGw7XG4gICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB0aGlzLmxhbmd1YWdlcyA9IF9Db25zdGFudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTGFuZ3VhZ2VzXCJdOyAvLyBzZXQgZGVmYXVsdCBsYW5ndWFnZSBhcyB0aGUgZmlyc3QgaXRlbSBvZiBhY3RpdmUgbGFuZ3VhZ2VzIG9yIEVuZ1xuXG5cbiAgICAgIHRoaXMuZGVmYXVsdExhbmd1YWdlID0gdGhpcy5sYW5ndWFnZXNbMF07XG5cbiAgICAgIGlmICh0aGlzLmxhbmd1YWdlICYmICF0aGlzLmxhbmd1YWdlcy5maW5kKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LmtleSA9PT0gX3RoaXMzLmxhbmd1YWdlLmtleTtcbiAgICAgIH0pIHx8ICF0aGlzLmxhbmd1YWdlKSB7XG4gICAgICAgIHRoaXMuc2V0TGFuZ3VhZ2UodGhpcy5sYW5ndWFnZXNbMF0ua2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0TGFuZ3VhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TGFuZ3VhZ2UobG5nKSB7XG4gICAgICBpZiAoIXRoaXMubGFuZ3VhZ2VzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmxhbmd1YWdlICYmIGxuZyA9PT0gdGhpcy5sYW5ndWFnZS5rZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxhbmd1YWdlID0gdGhpcy5sYW5ndWFnZXMuZmluZChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5rZXkgPT09IGxuZztcbiAgICAgIH0pIHx8IHRoaXMuZGVmYXVsdExhbmd1YWdlO1xuICAgICAgdC5zZXRMYW5ndWFnZSh0aGlzLmxhbmd1YWdlLmtleSk7XG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJMb2dBY3Rpb25zXCJdLkNoYXJ0U2V0dGluZywgXCJDaGFuZ2UgbGFuZ3VhZ2UgdG8gXCIuY29uY2F0KHRoaXMubGFuZ3VhZ2Uua2V5KSk7XG4gICAgICB0aGlzLnNhdmVTZXR0aW5nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFRoZW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRoZW1lKHRoZW1lKSB7XG4gICAgICBpZiAodGhpcy50aGVtZSA9PT0gdGhlbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRoZW1lID0gdGhlbWU7XG5cbiAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRUaGVtZSh0aGVtZSk7XG4gICAgICAgIHRoaXMubWFpblN0b3JlLmNyb3NzaGFpci5zZXRGbG9hdFByaWNlTGFiZWxTdHlsZSh0aGVtZSk7XG4gICAgICB9XG5cbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxvZ0FjdGlvbnNcIl0uQ2hhcnRTZXR0aW5nLCBcIkNoYW5nZSB0aGVtZSB0byBcIi5jb25jYXQodGhlbWUpKTtcbiAgICAgIHRoaXMuc2F2ZVNldHRpbmcoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0UG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UG9zaXRpb24odmFsdWUpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5wb3NpdGlvbiA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBvc2l0aW9uID0gdmFsdWU7XG5cbiAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5zdHguY2xlYXJTdHlsZXMoKTtcbiAgICAgIH1cblxuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiTG9nQWN0aW9uc1wiXS5DaGFydFNldHRpbmcsICdDaGFuZ2UgUG9zaXRpb24nKTtcbiAgICAgIHRoaXMuc2F2ZVNldHRpbmcoKTtcbiAgICAgIC8qKlxuICAgICAgICogQ2hhcnQgc2hvdWxkIGZpeCBpdHMgaGVpZ2h0ICYgd2lkdGggYWZ0ZXIgdGhlIHBvc2l0aW9uIGNoYW5nZWQsXG4gICAgICAgKiBmb3IgdGhhdCBwdXJwb3NlIHdlIHN0YXkgc29tZSAxMCBtcyBzbyB0aGF0IHBvc2l0aW9uIHZhcmFpYmxlIHVwZGF0ZVxuICAgICAgICogb24gY2hhcnQgY29udGV4dCB0aGVuIGFzayBjaGFydCB0byB1cGRhdGUgaXRzZWxmIGhpZ2h0ICYgd2lkdGhcbiAgICAgICAqL1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0Lm1haW5TdG9yZS5jaGFydC5yZXNpemVTY3JlZW4oKTtcbiAgICAgIH0sIDEwKTtcbiAgICAgIHRoaXMubWVudS5zZXRPcGVuKGZhbHNlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvd0NvdW50ZG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93Q291bnRkb3duKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5jb3VudGRvd24gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb3VudGRvd24gPSB2YWx1ZTtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxvZ0FjdGlvbnNcIl0uQ2hhcnRTZXR0aW5nLCBcIlwiLmNvbmNhdCh2YWx1ZSA/ICdTaG93JyA6ICdIaWRlJywgXCIgQ291bnRkb3duXCIpKTtcbiAgICAgIHRoaXMuc2F2ZVNldHRpbmcoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0SGlzdG9yaWNhbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRIaXN0b3JpY2FsKHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuaGlzdG9yaWNhbCA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhpc3RvcmljYWwgPSB2YWx1ZTtcbiAgICAgIHRoaXMuaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCA9ICF2YWx1ZTtcbiAgICAgIHRoaXMuc2F2ZVNldHRpbmcoKTtcbiAgICAgIC8qKlxuICAgICAgICogQ2hhcnQgc2hvdWxkIGZpeCBpdHMgaGVpZ2h0ICYgd2lkdGggYWZ0ZXIgdGhlIHBvc2l0aW9uIGNoYW5nZWQsXG4gICAgICAgKiBmb3IgdGhhdCBwdXJwb3NlIHdlIHN0YXkgc29tZSAxMCBtcyBzbyB0aGF0IHBvc2l0aW9uIHZhcmFpYmxlIHVwZGF0ZVxuICAgICAgICogb24gY2hhcnQgY29udGV4dCB0aGVuIGFzayBjaGFydCB0byB1cGRhdGUgaXRzZWxmIGhpZ2h0ICYgd2lkdGhcbiAgICAgICAqL1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM1Lm1haW5TdG9yZS5jaGFydC5yZXNpemVTY3JlZW4oKTtcbiAgICAgIH0sIDEwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0QXV0b1NjYWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEF1dG9TY2FsZSh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuaXNBdXRvU2NhbGUgPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc0F1dG9TY2FsZSA9IHZhbHVlO1xuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiTG9nQWN0aW9uc1wiXS5DaGFydFNldHRpbmcsIFwiIENoYW5nZSBBdXRvU2NhbGUgdG8gXCIuY29uY2F0KHZhbHVlKSk7XG4gICAgICB0aGlzLnNhdmVTZXR0aW5nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvZ2dsZUhpZ2hlc3RMb3dlc3RNYXJrZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlSGlnaGVzdExvd2VzdE1hcmtlcih2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQgPSB2YWx1ZTtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxvZ0FjdGlvbnNcIl0uQ2hhcnRTZXR0aW5nLCBcIiBcIi5jb25jYXQodmFsdWUgPyAnU2hvdycgOiAnSGlkZScsIFwiIEhpZ2hlc3RMb3dlc3RNYXJrZXIuXCIpKTtcbiAgICAgIHRoaXMuc2F2ZVNldHRpbmcoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0eFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zdHg7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENoYXJ0U2V0dGluZ1N0b3JlO1xufSgpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJsYW5ndWFnZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICdib3R0b20nO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRoZW1lXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICdsaWdodCc7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjQgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY291bnRkb3duXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I1ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhpc3RvcmljYWxcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjYgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNBdXRvU2NhbGVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yNyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlQWN0aXZlTGFuZ3VhZ2VcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlQWN0aXZlTGFuZ3VhZ2VcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0TGFuZ3VhZ2VcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldExhbmd1YWdlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFRoZW1lXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRUaGVtZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRQb3NpdGlvblwiLCBbX2RlYzRdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0UG9zaXRpb25cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2hvd0NvdW50ZG93blwiLCBbX2RlYzVdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2hvd0NvdW50ZG93blwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRIaXN0b3JpY2FsXCIsIFtfZGVjNl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRIaXN0b3JpY2FsXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldEF1dG9TY2FsZVwiLCBbX2RlYzddLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0QXV0b1NjYWxlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRvZ2dsZUhpZ2hlc3RMb3dlc3RNYXJrZXJcIiwgW19kZWM4XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRvZ2dsZUhpZ2hlc3RMb3dlc3RNYXJrZXJcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0NoYXJ0U2l6ZVN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0NoYXJ0U2l6ZVN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENoYXJ0U2l6ZVN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nYSAqLyBcIi4vc3JjL3V0aWxzL2dhLmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2NsYXNzLCBfZGVzY3JpcHRvciwgX3RlbXA7XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG5cblxudmFyIENoYXJ0U2l6ZVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENoYXJ0U2l6ZVN0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhcnRTaXplU3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHhcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgdGhpcy5vbkNvbnRleHRSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnN0eCA9IF90aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0LnN0eDtcbiAgICB9O1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndoZW5cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9LCB0aGlzLm9uQ29udGV4dFJlYWR5KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDaGFydFNpemVTdG9yZSwgW3tcbiAgICBrZXk6IFwidXBkYXRlQ2hhcnRTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDaGFydFN0YXRlKCkge1xuICAgICAgdGhpcy5zdHguY2hhcnQubG9ja1Njcm9sbCA9IGZhbHNlO1xuICAgICAgdGhpcy5zdHguY2hhcnQubG9ja0F1dG9TY3JvbGwgPSBmYWxzZTtcbiAgICAgIHRoaXMubWFpblN0b3JlLmNoYXJ0LnVwZGF0ZVNjYWxlZE9uZU9uZShmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInpvb21JblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB6b29tSW4oKSB7XG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJMb2dBY3Rpb25zXCJdLkNoYXJ0U2l6ZSwgJ3pvb20gSW4nKTtcblxuICAgICAgaWYgKHRoaXMuc3R4ICYmIHRoaXMuc3RhdGUuZW5hYmxlWm9vbSkge1xuICAgICAgICBpZiAodGhpcy5zdHgubWluaW11bVpvb21UaWNrcyA+IHRoaXMuc3R4LmNoYXJ0Lm1heFRpY2tzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVDaGFydFN0YXRlKCk7XG4gICAgICAgIHRoaXMuc3R4Lnpvb21JbigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ6b29tT3V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHpvb21PdXQoKSB7XG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJMb2dBY3Rpb25zXCJdLkNoYXJ0U2l6ZSwgJ3pvb20gT3V0Jyk7XG5cbiAgICAgIGlmICh0aGlzLnN0eCAmJiB0aGlzLnN0YXRlLmVuYWJsZVpvb20pIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGFydFN0YXRlKCk7XG4gICAgICAgIHRoaXMuc3R4Lnpvb21PdXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RhdGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5zdGF0ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2hhcnRTaXplU3RvcmU7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInN0eFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlQ2hhcnRTdGF0ZVwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVDaGFydFN0YXRlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInpvb21JblwiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiem9vbUluXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInpvb21PdXRcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInpvb21PdXRcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvQ2hhcnRTdGF0ZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0NoYXJ0U3RhdGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvX3RoZW1lcy5zY3NzICovIFwiLi9zYXNzL190aGVtZXMuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Db25zdGFudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vQ29uc3RhbnQgKi8gXCIuL3NyYy9Db25zdGFudC5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfZGVjNSwgX2RlYzYsIF9kZWM3LCBfZGVjOCwgX2RlYzksIF9kZWMxMCwgX2RlYzExLCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfZGVzY3JpcHRvcjUsIF9kZXNjcmlwdG9yNiwgX2Rlc2NyaXB0b3I3LCBfZGVzY3JpcHRvcjgsIF9kZXNjcmlwdG9yOSwgX2Rlc2NyaXB0b3IxMCwgX2Rlc2NyaXB0b3IxMSwgX2Rlc2NyaXB0b3IxMiwgX2Rlc2NyaXB0b3IxMywgX2Rlc2NyaXB0b3IxNCwgX2Rlc2NyaXB0b3IxNSwgX2Rlc2NyaXB0b3IxNiwgX2Rlc2NyaXB0b3IxNywgX2Rlc2NyaXB0b3IxOCwgX2Rlc2NyaXB0b3IxOSwgX2Rlc2NyaXB0b3IyMCwgX2Rlc2NyaXB0b3IyMSwgX2Rlc2NyaXB0b3IyMiwgX2Rlc2NyaXB0b3IyMywgX2Rlc2NyaXB0b3IyNCwgX2Rlc2NyaXB0b3IyNSwgX2Rlc2NyaXB0b3IyNiwgX2Rlc2NyaXB0b3IyNywgX2Rlc2NyaXB0b3IyOCwgX2Rlc2NyaXB0b3IyOSwgX3RlbXA7XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdDsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbXCJyZXR1cm5cIl0gIT0gbnVsbCkgaXRbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1uZXcgKi9cblxuXG5cblxudmFyIENoYXJ0U3RhdGUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzUgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM2ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzggPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM5ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMTAgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMxMSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhDaGFydFN0YXRlLCBbe1xuICAgIGtleTogXCJzdHh4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jaGFydFN0b3JlLnN0eHg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0U3RvcmUuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hhcnRUeXBlU3RvcmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydFR5cGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRpbWVwZXJpb2RTdG9yZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLnRpbWVwZXJpb2Q7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvYWRlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmxvYWRlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhd1Rvb2xzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuZHJhd1Rvb2xzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbmRpY2F0b3JSYXRpb1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyb290RWxlbWVudFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTdG9yZS5yb290RWxlbWVudDtcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBDaGFydFN0YXRlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhcnRTdGF0ZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdyYW51bGFyaXR5XCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhcnRUeXBlXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXJ0RXBvY2hcIiwgX2Rlc2NyaXB0b3IzLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZW5kRXBvY2hcIiwgX2Rlc2NyaXB0b3I0LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic3ltYm9sXCIsIF9kZXNjcmlwdG9yNSwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzQ29ubmVjdGlvbk9wZW5lZFwiLCBfZGVzY3JpcHRvcjYsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0NoYXJ0UmVhZHlcIiwgX2Rlc2NyaXB0b3I3LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhcnRTdGF0dXNMaXN0ZW5lclwiLCBfZGVzY3JpcHRvcjgsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGF0ZUNoYW5nZUxpc3RlbmVyXCIsIF9kZXNjcmlwdG9yOSwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNldHRpbmdzXCIsIF9kZXNjcmlwdG9yMTAsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzaG93TGFzdERpZ2l0U3RhdHNcIiwgX2Rlc2NyaXB0b3IxMSwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNjcm9sbFRvRXBvY2hcIiwgX2Rlc2NyaXB0b3IxMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uRXhwb3J0TGF5b3V0XCIsIF9kZXNjcmlwdG9yMTMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGVhckNoYXJ0XCIsIF9kZXNjcmlwdG9yMTQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0NoYXJ0Q2xvc2VkXCIsIF9kZXNjcmlwdG9yMTUsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzaG91bGRNaW5pbWlzZUxhc3REaWdpdHNcIiwgX2Rlc2NyaXB0b3IxNiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzU3RhdGljQ2hhcnRcIiwgX2Rlc2NyaXB0b3IxNywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNob3VsZEZldGNoVHJhZGluZ1RpbWVzXCIsIF9kZXNjcmlwdG9yMTgsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWZyZXNoQWN0aXZlU3ltYm9sc1wiLCBfZGVzY3JpcHRvcjE5LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGFzUmVhY2hlZEVuZE9mRGF0YVwiLCBfZGVzY3JpcHRvcjIwLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJldkNoYXJ0VHlwZVwiLCBfZGVzY3JpcHRvcjIxLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNDaGFydFNjcm9sbGluZ1RvRXBvY2hcIiwgX2Rlc2NyaXB0b3IyMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNyb3NzaGFpclN0YXRlXCIsIF9kZXNjcmlwdG9yMjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjcm9zc2hhaXJUb29sdGlwTGVmdEFsbG93XCIsIF9kZXNjcmlwdG9yMjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhUaWNrXCIsIF9kZXNjcmlwdG9yMjUsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJlbmFibGVTY3JvbGxcIiwgX2Rlc2NyaXB0b3IyNiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVuYWJsZVpvb21cIiwgX2Rlc2NyaXB0b3IyNywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInlBeGlzTWFyZ2luXCIsIF9kZXNjcmlwdG9yMjgsIHRoaXMpO1xuXG4gICAgdGhpcy5jaGFydENvbnRyb2xzV2lkZ2V0cyA9IHZvaWQgMDtcbiAgICB0aGlzLmVuYWJsZWRDaGFydEZvb3RlciA9IHZvaWQgMDtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwib25Db250ZXh0UmVhZHlcIiwgX2Rlc2NyaXB0b3IyOSwgdGhpcyk7XG5cbiAgICB0aGlzLnNjcm9sbENoYXJ0VG9MZWZ0ID0gZnVuY3Rpb24gKGxlZnRUaWNrLCBmb3JjZSkge1xuICAgICAgdmFyIF90aGlzJHN0eHg7XG5cbiAgICAgIGlmICghKChfdGhpcyRzdHh4ID0gX3RoaXMuc3R4eCkgPT09IG51bGwgfHwgX3RoaXMkc3R4eCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3R4eC5jaGFydCkpIHJldHVybjtcbiAgICAgIHZhciBzY3JvbGxUb0Vwb2NoID0gX3RoaXMuc2Nyb2xsVG9FcG9jaCB8fCBsZWZ0VGljayAmJiBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRVVENFcG9jaFwiXSkobGVmdFRpY2suRFQpO1xuICAgICAgX3RoaXMuc3R4eC5jaGFydC5lbnRyeVRpY2sgPSBudWxsO1xuXG4gICAgICBpZiAoX3RoaXMuc2Nyb2xsVG9FcG9jaCAmJiAhX3RoaXMuc3RhcnRFcG9jaCAmJiAhZm9yY2UpIHtcbiAgICAgICAgdmFyIHN0YXJ0RW50cnkgPSBfdGhpcy5zdHh4LmNoYXJ0LmRhdGFTZXQuZmluZChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnkuRFQudmFsdWVPZigpID09PSBDSVEuc3RyVG9EYXRlVGltZShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRVVENEYXRlXCJdKShzY3JvbGxUb0Vwb2NoKSkudmFsdWVPZigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc3RhcnRFbnRyeSkge1xuICAgICAgICAgIF90aGlzLnN0eHguY2hhcnQuZW50cnlUaWNrID0gX3RoaXMuc3R4eC50aWNrRnJvbURhdGUoc3RhcnRFbnRyeS5EVCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuc3R4eC5jaGFydC5lbnRyeVRpY2sgPSBfdGhpcy5zdHh4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY3JvbGxUb1RhcmdldCA9IF90aGlzLnN0eHguY2hhcnQuZGF0YVNldC5sZW5ndGggLSBfdGhpcy5zdHh4LmNoYXJ0LmVudHJ5VGljayArIDE7XG5cbiAgICAgICAgaWYgKF90aGlzLnN0eHguYW5pbWF0aW9ucy5saXZlU2Nyb2xsICYmIF90aGlzLnN0eHguYW5pbWF0aW9ucy5saXZlU2Nyb2xsLnJ1bm5pbmcpIHtcbiAgICAgICAgICBfdGhpcy5zdHh4LmFuaW1hdGlvbnMubGl2ZVNjcm9sbC5zdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zdHh4Lm1pbmltdW1MZWZ0QmFycyA9IDE7XG4gICAgICAgIF90aGlzLnN0eHgubWljcm9waXhlbHMgPSAwO1xuXG4gICAgICAgIF90aGlzLnN0eHguc2Nyb2xsVG8oX3RoaXMuc3R4eC5jaGFydCwgc2Nyb2xsVG9UYXJnZXQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5zdHh4LnNldE1heFRpY2tzKDUpO1xuXG4gICAgICAgICAgX3RoaXMuc3R4eC5taWNyb3BpeGVscyA9IDA7XG5cbiAgICAgICAgICBfdGhpcy5zZXRJc0NoYXJ0U2Nyb2xsaW5nVG9FcG9jaChmYWxzZSk7XG5cbiAgICAgICAgICBfdGhpcy5zdHh4LmRyYXcoKTsgLy8gVGhpcyBhc3NpZ25tZW50IHNob3VsZCBiZSBhbHdheXMgYWZ0ZXIgZHJhdygpXG5cblxuICAgICAgICAgIF90aGlzLnN0eHguY2hhcnQubG9ja1Njcm9sbCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChzY3JvbGxUb0Vwb2NoICYmIF90aGlzLnN0YXJ0RXBvY2ggfHwgZm9yY2UpIHtcbiAgICAgICAgLy8gc2NhbGUgMToxIGhhcHBlblxuICAgICAgICBfdGhpcy5zdHh4LmNoYXJ0LmxvY2tTY3JvbGwgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zdHh4LmNoYXJ0LmVudHJ5VGljayA9IF90aGlzLnN0eHgudGlja0Zyb21EYXRlKE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldFVUQ0RhdGVcIl0pKF90aGlzLnN0YXJ0RXBvY2ggfHwgc2Nyb2xsVG9FcG9jaCkpO1xuXG4gICAgICAgIHZhciBfc2Nyb2xsVG9UYXJnZXQgPSBfdGhpcy5zdHh4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoIC0gX3RoaXMuc3R4eC5jaGFydC5lbnRyeVRpY2s7XG5cbiAgICAgICAgaWYgKCFfdGhpcy5lbmRFcG9jaCkge1xuICAgICAgICAgIF90aGlzLnN0eHguc2V0TWF4VGlja3MoX3Njcm9sbFRvVGFyZ2V0ICsgMyk7XG5cbiAgICAgICAgICBfdGhpcy5zdHh4LmNoYXJ0LnNjcm9sbCA9IF9zY3JvbGxUb1RhcmdldCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuc3R4eC5zZXRNYXhUaWNrcyhNYXRoLmZsb29yKF9zY3JvbGxUb1RhcmdldCAqIDMgLyAyKSB8fCAyKTtcblxuICAgICAgICAgIF90aGlzLnN0eHguY2hhcnQuc2Nyb2xsID0gTWF0aC5mbG9vcihfc2Nyb2xsVG9UYXJnZXQgKiA1IC8gNCkgfHwgMTtcblxuICAgICAgICAgIF90aGlzLnNldERpc2FibGVTY3JvbGwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLm1haW5TdG9yZS5jaGFydC51cGRhdGVTY2FsZWRPbmVPbmUodHJ1ZSk7XG5cbiAgICAgICAgX3RoaXMuc3R4eC5kcmF3KCk7XG5cbiAgICAgICAgX3RoaXMuc2V0SXNDaGFydFNjcm9sbGluZ1RvRXBvY2goZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc3R4eC5jaGFydC5lbnRyeVRpY2sgPSBudWxsO1xuICAgICAgICBfdGhpcy5zdHh4LmNoYXJ0LmxvY2tTY3JvbGwgPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy5zdHh4LmhvbWUoKTtcblxuICAgICAgICBfdGhpcy5zdHh4LmRyYXcoKTtcblxuICAgICAgICBfdGhpcy5zZXRJc0NoYXJ0U2Nyb2xsaW5nVG9FcG9jaChmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkLm9mZk1hc3RlckRhdGFSZWluaXRpYWxpemUoX3RoaXMuc2Nyb2xsQ2hhcnRUb0xlZnQpO1xuXG4gICAgICBfdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5vZmZNYXN0ZXJEYXRhVXBkYXRlKF90aGlzLnNjcm9sbENoYXJ0VG9MZWZ0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5jaGFydFN0b3JlID0gbWFpblN0b3JlLmNoYXJ0O1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCB0aGlzLm9uQ29udGV4dFJlYWR5KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDaGFydFN0YXRlLCBbe1xuICAgIGtleTogXCJ1cGRhdGVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQcm9wcyhfcmVmKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIG5ldHdvcmtTdGF0dXMgPSBfcmVmLm5ldHdvcmtTdGF0dXMsXG4gICAgICAgICAgY2hhcnRDb250cm9sc1dpZGdldHMgPSBfcmVmLmNoYXJ0Q29udHJvbHNXaWRnZXRzLFxuICAgICAgICAgIGVuYWJsZWRDaGFydEZvb3RlciA9IF9yZWYuZW5hYmxlZENoYXJ0Rm9vdGVyLFxuICAgICAgICAgIGNoYXJ0U3RhdHVzTGlzdGVuZXIgPSBfcmVmLmNoYXJ0U3RhdHVzTGlzdGVuZXIsXG4gICAgICAgICAgc3RhdGVDaGFuZ2VMaXN0ZW5lciA9IF9yZWYuc3RhdGVDaGFuZ2VMaXN0ZW5lcixcbiAgICAgICAgICBjaGFydFR5cGUgPSBfcmVmLmNoYXJ0VHlwZSxcbiAgICAgICAgICBjbGVhckNoYXJ0ID0gX3JlZi5jbGVhckNoYXJ0LFxuICAgICAgICAgIGVuZEVwb2NoID0gX3JlZi5lbmRFcG9jaCxcbiAgICAgICAgICBfcmVmJGlzQW5pbWF0aW9uRW5hYmwgPSBfcmVmLmlzQW5pbWF0aW9uRW5hYmxlZCxcbiAgICAgICAgICBpc0FuaW1hdGlvbkVuYWJsZWQgPSBfcmVmJGlzQW5pbWF0aW9uRW5hYmwgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGlzQW5pbWF0aW9uRW5hYmwsXG4gICAgICAgICAgaXNDb25uZWN0aW9uT3BlbmVkID0gX3JlZi5pc0Nvbm5lY3Rpb25PcGVuZWQsXG4gICAgICAgICAgaXNTdGF0aWNDaGFydCA9IF9yZWYuaXNTdGF0aWNDaGFydCxcbiAgICAgICAgICBncmFudWxhcml0eSA9IF9yZWYuZ3JhbnVsYXJpdHksXG4gICAgICAgICAgX3JlZiRtYXJnaW4gPSBfcmVmLm1hcmdpbixcbiAgICAgICAgICBtYXJnaW4gPSBfcmVmJG1hcmdpbiA9PT0gdm9pZCAwID8gMCA6IF9yZWYkbWFyZ2luLFxuICAgICAgICAgIG9uRXhwb3J0TGF5b3V0ID0gX3JlZi5vbkV4cG9ydExheW91dCxcbiAgICAgICAgICByZWZyZXNoQWN0aXZlU3ltYm9scyA9IF9yZWYucmVmcmVzaEFjdGl2ZVN5bWJvbHMsXG4gICAgICAgICAgc2Nyb2xsVG9FcG9jaCA9IF9yZWYuc2Nyb2xsVG9FcG9jaCxcbiAgICAgICAgICBzZXR0aW5ncyA9IF9yZWYuc2V0dGluZ3MsXG4gICAgICAgICAgX3JlZiRzaG91bGRGZXRjaFRyYWRpID0gX3JlZi5zaG91bGRGZXRjaFRyYWRpbmdUaW1lcyxcbiAgICAgICAgICBzaG91bGRGZXRjaFRyYWRpbmdUaW1lcyA9IF9yZWYkc2hvdWxkRmV0Y2hUcmFkaSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkc2hvdWxkRmV0Y2hUcmFkaSxcbiAgICAgICAgICBfcmVmJHNob3dMYXN0RGlnaXRTdGEgPSBfcmVmLnNob3dMYXN0RGlnaXRTdGF0cyxcbiAgICAgICAgICBzaG93TGFzdERpZ2l0U3RhdHMgPSBfcmVmJHNob3dMYXN0RGlnaXRTdGEgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRzaG93TGFzdERpZ2l0U3RhLFxuICAgICAgICAgIHN0YXJ0RXBvY2ggPSBfcmVmLnN0YXJ0RXBvY2gsXG4gICAgICAgICAgc3ltYm9sID0gX3JlZi5zeW1ib2wsXG4gICAgICAgICAgY3Jvc3NoYWlyID0gX3JlZi5jcm9zc2hhaXIsXG4gICAgICAgICAgem9vbSA9IF9yZWYuem9vbSxcbiAgICAgICAgICBtYXhUaWNrID0gX3JlZi5tYXhUaWNrLFxuICAgICAgICAgIGNyb3NzaGFpclRvb2x0aXBMZWZ0QWxsb3cgPSBfcmVmLmNyb3NzaGFpclRvb2x0aXBMZWZ0QWxsb3csXG4gICAgICAgICAgeUF4aXNNYXJnaW4gPSBfcmVmLnlBeGlzTWFyZ2luLFxuICAgICAgICAgIF9yZWYkZW5hYmxlU2Nyb2xsID0gX3JlZi5lbmFibGVTY3JvbGwsXG4gICAgICAgICAgZW5hYmxlU2Nyb2xsID0gX3JlZiRlbmFibGVTY3JvbGwgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmJGVuYWJsZVNjcm9sbCxcbiAgICAgICAgICBfcmVmJGVuYWJsZVpvb20gPSBfcmVmLmVuYWJsZVpvb20sXG4gICAgICAgICAgZW5hYmxlWm9vbSA9IF9yZWYkZW5hYmxlWm9vbSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYkZW5hYmxlWm9vbTtcbiAgICAgIHZhciBpc1N5bWJvbENoYW5nZWQgPSBmYWxzZTtcbiAgICAgIHZhciBpc0dyYW51bGFyaXR5Q2hhbmdlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5jaGFydFN0YXR1c0xpc3RlbmVyID0gY2hhcnRTdGF0dXNMaXN0ZW5lcjtcbiAgICAgIHRoaXMuc3RhdGVDaGFuZ2VMaXN0ZW5lciA9IHN0YXRlQ2hhbmdlTGlzdGVuZXI7XG4gICAgICB0aGlzLmlzQW5pbWF0aW9uRW5hYmxlZCA9IGlzQW5pbWF0aW9uRW5hYmxlZDtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW9uT3BlbmVkID0gaXNDb25uZWN0aW9uT3BlbmVkO1xuICAgICAgdGhpcy5pc1N0YXRpY0NoYXJ0ID0gaXNTdGF0aWNDaGFydDtcbiAgICAgIHRoaXMubWFyZ2luID0gbWFyZ2luO1xuICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgdGhpcy5zaG91bGRGZXRjaFRyYWRpbmdUaW1lcyA9IHNob3VsZEZldGNoVHJhZGluZ1RpbWVzO1xuICAgICAgdGhpcy5zaG93TGFzdERpZ2l0U3RhdHMgPSBzaG93TGFzdERpZ2l0U3RhdHM7XG5cbiAgICAgIGlmIChuZXR3b3JrU3RhdHVzICYmICghdGhpcy5tYWluU3RvcmUuY2hhcnQubmV0d29ya1N0YXR1cyB8fCBuZXR3b3JrU3RhdHVzW1wiY2xhc3NcIl0gIT09IHRoaXMubWFpblN0b3JlLmNoYXJ0Lm5ldHdvcmtTdGF0dXNbXCJjbGFzc1wiXSkpIHtcbiAgICAgICAgdGhpcy5tYWluU3RvcmUuY2hhcnQubmV0d29ya1N0YXR1cyA9IG5ldHdvcmtTdGF0dXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFydENvbnRyb2xzV2lkZ2V0cyAhPT0gdGhpcy5jaGFydENvbnRyb2xzV2lkZ2V0cykge1xuICAgICAgICB0aGlzLmNoYXJ0Q29udHJvbHNXaWRnZXRzID0gY2hhcnRDb250cm9sc1dpZGdldHM7XG4gICAgICAgIGlmICh0aGlzLnN0eHgpIHRoaXMubWFpblN0b3JlLmNoYXJ0LnVwZGF0ZUhlaWdodCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZENoYXJ0Rm9vdGVyICE9PSB0aGlzLmVuYWJsZWRDaGFydEZvb3Rlcikge1xuICAgICAgICB0aGlzLmVuYWJsZWRDaGFydEZvb3RlciA9IGVuYWJsZWRDaGFydEZvb3RlcjtcbiAgICAgICAgaWYgKHRoaXMuc3R4eCkgdGhpcy5tYWluU3RvcmUuY2hhcnQudXBkYXRlSGVpZ2h0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzeW1ib2wgIT09IHRoaXMuc3ltYm9sKSB7XG4gICAgICAgIHRoaXMuc3ltYm9sID0gc3ltYm9sO1xuICAgICAgICBpc1N5bWJvbENoYW5nZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm1haW5TdG9yZS5jaGFydFRpdGxlLmhpZGVQcmljZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm1haW5TdG9yZS5jaGFydCAmJiB0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkICYmIHNjcm9sbFRvRXBvY2gpIHtcbiAgICAgICAgICB0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkLm9uTWFzdGVyRGF0YVJlaW5pdGlhbGl6ZSh0aGlzLnNjcm9sbENoYXJ0VG9MZWZ0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAob25FeHBvcnRMYXlvdXQgIT09IHRoaXMub25FeHBvcnRMYXlvdXQpIHtcbiAgICAgICAgdGhpcy5vbkV4cG9ydExheW91dCA9IG9uRXhwb3J0TGF5b3V0O1xuICAgICAgICB0aGlzLmV4cG9ydExheW91dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2hhcnRUeXBlICE9PSB0aGlzLmNoYXJ0VHlwZSAmJiB0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNoYXJ0VHlwZSA9PT0gJ3RhYmxlJykgdGhpcy5wcmV2Q2hhcnRUeXBlID0gdGhpcy5jaGFydFR5cGVTdG9yZS50eXBlLmlkO1xuICAgICAgICB0aGlzLnNldENoYXJ0VHlwZShjaGFydFR5cGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ3JhbnVsYXJpdHkgIT09IHVuZGVmaW5lZCAmJiBncmFudWxhcml0eSAhPT0gdGhpcy5ncmFudWxhcml0eSkge1xuICAgICAgICB0aGlzLnNldENoYXJ0R3JhbnVsYXJpdHkoZ3JhbnVsYXJpdHkpO1xuICAgICAgICBpc0dyYW51bGFyaXR5Q2hhbmdlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMubWFpblN0b3JlLmNoYXJ0ICYmIHRoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQgJiYgIWlzU3ltYm9sQ2hhbmdlZCAmJiBzY3JvbGxUb0Vwb2NoKSB7XG4gICAgICAgICAgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5vbk1hc3RlckRhdGFSZWluaXRpYWxpemUodGhpcy5zY3JvbGxDaGFydFRvTGVmdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY2hhcnRTdG9yZS5hY3RpdmVTeW1ib2xzICYmIHJlZnJlc2hBY3RpdmVTeW1ib2xzICE9PSB0aGlzLnJlZnJlc2hBY3RpdmVTeW1ib2xzKSB7XG4gICAgICAgIHRoaXMucmVmcmVzaEFjdGl2ZVN5bWJvbHMgPSByZWZyZXNoQWN0aXZlU3ltYm9scztcblxuICAgICAgICBpZiAodGhpcy5yZWZyZXNoQWN0aXZlU3ltYm9scykge1xuICAgICAgICAgIHRoaXMuY2hhcnRTdG9yZS5hY3RpdmVTeW1ib2xzLnJldHJpZXZlQWN0aXZlU3ltYm9scyh0aGlzLnJlZnJlc2hBY3RpdmVTeW1ib2xzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2xlYXJDaGFydCAhPT0gdGhpcy5jbGVhckNoYXJ0KSB7XG4gICAgICAgIHRoaXMuY2xlYXJDaGFydCA9IGNsZWFyQ2hhcnQ7XG4gICAgICAgIHRoaXMuY2xlYW5DaGFydCgpO1xuICAgICAgfSAvLyBUaGlzIGlmIHN0YXRlbWVudCBzaG91bGQgYmUgYWx3YXlzIGFmdGVyIHNldHRpbmcgYHRoaXMuc2Nyb2xsVG9FcG9jaGAgdmFsdWVcblxuXG4gICAgICBpZiAodGhpcy5zdGFydEVwb2NoICE9PSBzdGFydEVwb2NoIHx8IHRoaXMuZW5kRXBvY2ggIT09IGVuZEVwb2NoKSB7XG4gICAgICAgIHRoaXMuc3RhcnRFcG9jaCA9IHN0YXJ0RXBvY2g7XG4gICAgICAgIHRoaXMuZW5kRXBvY2ggPSBlbmRFcG9jaDtcblxuICAgICAgICBpZiAoaXNTdGF0aWNDaGFydCAmJiB0aGlzLnN0eHggJiYgdGhpcy5ncmFudWxhcml0eSA9PT0gdGhpcy5tYWluU3RvcmUuY2hhcnQuZ3JhbnVsYXJpdHkpIHtcbiAgICAgICAgICAvLyBSZWxvYWQgdGhlIGNoYXJ0IGlmIGl0IGlzIGEgc3RhdGljIGNoYXJ0IGFuZCB0aGUgZ3JhbnVsYXJpdHkgaGFzbid0IGNoYW5nZWRcbiAgICAgICAgICB0aGlzLm1haW5TdG9yZS5jaGFydC5uZXdDaGFydCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQpIHtcbiAgICAgICAgICAvKiBXaGVuIGxheW91dCBpcyBpbXBvcnRpbmcgYW5kIHJhbmdlIGlzIGNoYW5naW5nIGFzIHRoZSBzYW1lIHRpbWUgd2UgZG9udCBuZWVkIHRvIHNldCB0aGUgcmFuZ2UsXG4gICAgICAgICAgICAgdGhlIGltcG9ydGVkIGxheW91dCB3aXRsbCB0YWtlIGNhcmUgb2YgaXQuICovXG4gICAgICAgICAgaWYgKCF0aGlzLnNjcm9sbFRvRXBvY2ggJiYgIWlzU3ltYm9sQ2hhbmdlZCAmJiAhaXNHcmFudWxhcml0eUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQub25SYW5nZUNoYW5nZWQodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIFBsZWFzZSBhbHdheXMgYXNzaWduIHNjcm9sbFRvRXBvY2ggYWZ0ZXIgc3RhcnRFcG9jaCBhbmQga2VlcCB0aGlzIGlmIHN0YXRlbWVudCBleGFjdGx5IGFmdGVyIGFib3ZlIGlmIGNsYXVzZVxuXG5cbiAgICAgIGlmICghaXNTdGF0aWNDaGFydCAmJiBzY3JvbGxUb0Vwb2NoICE9PSB0aGlzLnNjcm9sbFRvRXBvY2gpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0Vwb2NoID0gc2Nyb2xsVG9FcG9jaDtcblxuICAgICAgICBpZiAodGhpcy5tYWluU3RvcmUuY2hhcnQgJiYgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZCAmJiAhaXNTeW1ib2xDaGFuZ2VkICYmICFpc0dyYW51bGFyaXR5Q2hhbmdlZCkge1xuICAgICAgICAgIHRoaXMuc2V0SXNDaGFydFNjcm9sbGluZ1RvRXBvY2godHJ1ZSk7XG4gICAgICAgICAgdGhpcy5zY3JvbGxDaGFydFRvTGVmdCgpOyAvLyBUaGlzIHBhcnQgd2lsbCBmaXJlIGlmIHdlIHBhc3MgYHNjcm9sbFRvRXBvY2hgIHRvIGNoYXJ0XG4gICAgICAgICAgLy8ganVzdCB0byBlbnN1cmUgc2NhbGUgMToxIHdvcmsgcHJlZmVjdGx5IGlmIHdlIGhhdmUgZW5kRXBvY2hcbiAgICAgICAgICAvLyB3ZSBjYWxsIHNjcm9sbENoYXJ0VG9MZWZ0KCkgdHdpY2Ugd2l0aCBzb21lIGRlbGF5IGFuZCBub3RpZnlcbiAgICAgICAgICAvLyB0aGUgU1RBVEUgY2hhbmdlIHdpdGggYSBkZWxheSB0byBlbnN1cmUgc2Nyb2xsaW5nIGlzIGNvbXBsZXRlZFxuXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNjcm9sbENoYXJ0VG9MZWZ0KCk7XG4gICAgICAgICAgfSwgNDAwKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuc3RhdGVDaGFuZ2UoX0NvbnN0YW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJTVEFURVwiXS5TQ1JPTExfVE9fTEVGVCk7XG4gICAgICAgICAgfSwgOTAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY3Jvc3NoYWlyICE9PSB1bmRlZmluZWQgJiYgY3Jvc3NoYWlyICE9PSBudWxsICYmIGNyb3NzaGFpciAhPT0gdGhpcy5jcm9zc2hhaXJTdGF0ZSkge1xuICAgICAgICB0aGlzLm1haW5TdG9yZS5jcm9zc2hhaXIuc2V0Q3Jvc3NoYWlyU3RhdGUoY3Jvc3NoYWlyKTtcbiAgICAgICAgdGhpcy5jcm9zc2hhaXJTdGF0ZSA9IGNyb3NzaGFpcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNyb3NzaGFpclRvb2x0aXBMZWZ0QWxsb3cgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmNyb3NzaGFpclRvb2x0aXBMZWZ0QWxsb3cgIT09IGNyb3NzaGFpclRvb2x0aXBMZWZ0QWxsb3cpIHtcbiAgICAgICAgdGhpcy5jcm9zc2hhaXJUb29sdGlwTGVmdEFsbG93ID0gY3Jvc3NoYWlyVG9vbHRpcExlZnRBbGxvdztcbiAgICAgIH1cblxuICAgICAgaWYgKHpvb20pIHtcbiAgICAgICAgaWYgKHpvb20gPT09IDEpIHtcbiAgICAgICAgICB0aGlzLm1haW5TdG9yZS5jaGFydFNpemUuem9vbUluKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5tYWluU3RvcmUuY2hhcnRTaXplLnpvb21PdXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcuc2V0U2V0dGluZ3ModGhpcy5zZXR0aW5ncyk7XG5cbiAgICAgIGlmIChtYXhUaWNrICYmIHRoaXMubWF4VGljayAhPT0gbWF4VGljayAmJiB0aGlzLnN0eHgpIHtcbiAgICAgICAgdGhpcy5tYXhUaWNrID0gbWF4VGljaztcbiAgICAgICAgdGhpcy5zZXRNYXh0VGljaygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoeUF4aXNNYXJnaW4gJiYgX3R5cGVvZih5QXhpc01hcmdpbikgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRoaXMueUF4aXNNYXJnaW4gPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMueUF4aXNNYXJnaW4pLCB5QXhpc01hcmdpbik7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnN0eHggJiYgZW5hYmxlU2Nyb2xsICE9PSBudWxsICYmIHRoaXMuZW5hYmxlU2Nyb2xsICE9PSBlbmFibGVTY3JvbGwpIHtcbiAgICAgICAgdGhpcy5lbmFibGVTY3JvbGwgPSBlbmFibGVTY3JvbGw7XG4gICAgICAgIHRoaXMuc3R4eC5hbGxvd1Njcm9sbCA9IGVuYWJsZVNjcm9sbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3R4eCAmJiBlbmFibGVab29tICE9PSBudWxsICYmIHRoaXMuZW5hYmxlWm9vbSAhPT0gZW5hYmxlWm9vbSkge1xuICAgICAgICB0aGlzLmVuYWJsZVpvb20gPSBlbmFibGVab29tO1xuICAgICAgICB0aGlzLnN0eHguYWxsb3dab29tID0gZW5hYmxlWm9vbTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3R4eCkge1xuICAgICAgICB0aGlzLnN0eHguY2hhcnQucGFuZWwueUF4aXMuZHJhd0N1cnJlbnRQcmljZUxhYmVsID0gIXRoaXMuZW5kRXBvY2g7XG4gICAgICAgIHRoaXMuc3R4eC5wcmVmZXJlbmNlcy5jdXJyZW50UHJpY2VMaW5lID0gIXRoaXMuZW5kRXBvY2g7XG4gICAgICAgIHRoaXMuc3R4eC5pc0F1dG9TY2FsZSA9IHRoaXMuc2V0dGluZ3MgJiYgdGhpcy5zZXR0aW5ncy5pc0F1dG9TY2FsZSAhPT0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3R4eC5kcmF3KCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldE1heHRUaWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1heHRUaWNrKCkge1xuICAgICAgaWYgKHRoaXMuc3R4eCAmJiB0aGlzLm1heFRpY2spIHtcbiAgICAgICAgdGhpcy5zdHh4LnNldE1heFRpY2tzKHRoaXMubWF4VGljayk7XG4gICAgICAgIHRoaXMuc3R4eC5kcmF3KCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldElzQ2hhcnRTY3JvbGxpbmdUb0Vwb2NoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldElzQ2hhcnRTY3JvbGxpbmdUb0Vwb2NoKGlzU2Nyb2xsaW5nVG9FcG9jaCkge1xuICAgICAgdGhpcy5pc0NoYXJ0U2Nyb2xsaW5nVG9FcG9jaCA9IGlzU2Nyb2xsaW5nVG9FcG9jaDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFzUmVhY2hlZEVuZE9mRGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNSZWFjaGVkRW5kT2ZEYXRhKF9oYXNSZWFjaGVkRW5kT2ZEYXRhKSB7XG4gICAgICB0aGlzLmhhc1JlYWNoZWRFbmRPZkRhdGEgPSBfaGFzUmVhY2hlZEVuZE9mRGF0YTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2hhcnRDbG9zZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2hhcnRDbG9zZWQoaXNDbG9zZWQpIHtcbiAgICAgIHRoaXMuaXNDaGFydENsb3NlZCA9IGlzQ2xvc2VkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRDaGFydFRoZW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENoYXJ0VGhlbWUodGhlbWUpIHtcbiAgICAgIHZhciBpc0NoYXJ0Q2xvc2VkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLmlzQ2hhcnRDbG9zZWQ7XG4gICAgICBpZiAoIXRoaXMuc3R4eCkgcmV0dXJuO1xuICAgICAgdGhpcy5zdHh4LmNsZWFyU3R5bGVzKCk7XG4gICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9ncmlkJywgJ2NvbG9yJywgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmFbXCJcIi5jb25jYXQodGhlbWUsIFwiX2NoYXJ0X2dyaWRcIildKTtcbiAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X3lheGlzJywgJ2NvbG9yJywgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmFbXCJcIi5jb25jYXQodGhlbWUsIFwiX2NoYXJ0X3RleHRcIildKTtcbiAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X3hheGlzJywgJ2NvbG9yJywgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmFbXCJcIi5jb25jYXQodGhlbWUsIFwiX2NoYXJ0X3RleHRcIildKTtcbiAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X3hheGlzX2RhcmsnLCAnY29sb3InLCBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJfY2hhcnRfdGV4dFwiKV0pO1xuICAgICAgdGhpcy5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcnRDb250YWluZXInKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJfY2hhcnRfYmdcIildOyAvLyBjaGFuZ2UgY2hhcnQgY29sb3JzIHRvIGdyZXkgaWYgdGhlIGN1cnJlbnQgbWFya2V0IGlzIGNsb3NlZCBhbmQgaXQgaXMgbm90IGEgc3RhdGljIGNoYXJ0XG5cbiAgICAgIGlmIChpc0NoYXJ0Q2xvc2VkICYmICF0aGlzLmlzU3RhdGljQ2hhcnQpIHtcbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfbW91bnRhaW5fY2hhcnQnLCAnYm9yZGVyVG9wQ29sb3InLCBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJfY2hhcnRfY2xvc2VkX21vdW50YWluX2JvcmRlclwiKV0pOyAvLyBDYW5kbGUgdHlwZVxuXG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2NhbmRsZV91cCcsICdjb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hLmNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXApO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9jYW5kbGVfc2hhZG93X3VwJywgJ2NvbG9yJywgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmEuY2hhcnRfY2xvc2VkX2NhbmRsZV9ib3JkZXIpO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9jYW5kbGVfZG93bicsICdjb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hLmNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93bik7XG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2NhbmRsZV9zaGFkb3dfZG93bicsICdjb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hLmNoYXJ0X2Nsb3NlZF9jYW5kbGVfYm9yZGVyKTsgLy8gSG9sbG93IHR5cGVcblxuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9ob2xsb3dfY2FuZGxlX3VwJywgJ2NvbG9yJywgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmEuY2hhcnRfY2xvc2VkX2NhbmRsZV91cCk7XG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2hvbGxvd19jYW5kbGVfZG93bicsICdjb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hLmNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93bik7IC8vIE9ITEMgdHlwZVxuXG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2Jhcl91cCcsICdjb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hLmNoYXJ0X2Nsb3NlZF9jYW5kbGVfdXApO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9iYXJfZG93bicsICdjb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hLmNoYXJ0X2Nsb3NlZF9jYW5kbGVfZG93bik7IC8vIGN1cnJlbnQgcHJpY2UgYmcgY29sb3JcblxuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9jdXJyZW50X2hyX2Rvd24nLCAnYmFja2dyb3VuZC1jb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hLmNoYXJ0X2Nsb3NlZF9jdXJyZW50X2hyKTtcbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfY3VycmVudF9ocl91cCcsICdiYWNrZ3JvdW5kLWNvbG9yJywgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmEuY2hhcnRfY2xvc2VkX2N1cnJlbnRfaHIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfbW91bnRhaW5fY2hhcnQnLCAnYm9yZGVyVG9wQ29sb3InLCBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJfY2hhcnRfbW91bnRhaW5fYm9yZGVyXCIpXSk7XG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X21vdW50YWluX2NoYXJ0JywgJ2JhY2tncm91bmRDb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hW1wiXCIuY29uY2F0KHRoZW1lLCBcIl9jaGFydF9tb3VudGFpbl9iZ1wiKV0pO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9tb3VudGFpbl9jaGFydCcsICdjb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hW1wiXCIuY29uY2F0KHRoZW1lLCBcIl9jaGFydF9tb3VudGFpbl9iZ19zaGFkZVwiKV0pOyAvLyBjdXJyZW50IHByaWNlIGJnIGNvbG9yXG5cbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfY3VycmVudF9ocl9kb3duJywgJ2JhY2tncm91bmQtY29sb3InLCBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYS5jaGFydF9jdXJyZW50X2hyKTtcbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfY3VycmVudF9ocl91cCcsICdiYWNrZ3JvdW5kLWNvbG9yJywgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmEuY2hhcnRfY3VycmVudF9ocik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3R4eC5kcmF3KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXRlQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXRlQ2hhbmdlKHRhZywgb3B0aW9uKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZUNoYW5nZUxpc3RlbmVyICYmIHR5cGVvZiB0aGlzLnN0YXRlQ2hhbmdlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZUxpc3RlbmVyKHRhZywgb3B0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2hhcnRJc1JlYWR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENoYXJ0SXNSZWFkeShpc0NoYXJ0UmVhZHkpIHtcbiAgICAgIGlmICh0aGlzLmlzQ2hhcnRSZWFkeSAhPT0gaXNDaGFydFJlYWR5KSB7XG4gICAgICAgIHRoaXMuaXNDaGFydFJlYWR5ID0gaXNDaGFydFJlYWR5O1xuXG4gICAgICAgIGlmIChpc0NoYXJ0UmVhZHkpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlKF9Db25zdGFudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiU1RBVEVcIl0uUkVBRFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hhcnRTdGF0dXNMaXN0ZW5lciAmJiB0eXBlb2YgdGhpcy5jaGFydFN0YXR1c0xpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5jaGFydFN0YXR1c0xpc3RlbmVyKGlzQ2hhcnRSZWFkeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2hhcnRHcmFudWxhcml0eVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDaGFydEdyYW51bGFyaXR5KGdyYW51bGFyaXR5KSB7XG4gICAgICB2YXIgaXNUaW1lVW5pdFNlY29uZCA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNhbGN1bGF0ZVRpbWVVbml0SW50ZXJ2YWxcIl0pKGdyYW51bGFyaXR5KS50aW1lVW5pdCA9PT0gJ3NlY29uZCc7XG4gICAgICB2YXIgaXNDaGFydFR5cGVDYW5kbGUgPSB0aGlzLm1haW5TdG9yZS5jaGFydFR5cGUuaXNDYW5kbGUgfHwgdGhpcy5jaGFydFR5cGUgJiYgdGhpcy5tYWluU3RvcmUuY2hhcnRUeXBlLmlzVHlwZUNhbmRsZSh0aGlzLmNoYXJ0VHlwZSk7XG5cbiAgICAgIGlmICh0aGlzLmNvbnRleHQgJiYgaXNUaW1lVW5pdFNlY29uZCAmJiBpc0NoYXJ0VHlwZUNhbmRsZSkge1xuICAgICAgICB0aGlzLnNldENoYXJ0VHlwZSgnbW91bnRhaW4nKTsgLy8gaWYgZ3JhbnVsYXJpdHkgaXMgemVybywgc2V0IHRoZSBjaGFydFR5cGUgdG8gJ21vdW50YWluJ1xuICAgICAgfVxuXG4gICAgICB0aGlzLmdyYW51bGFyaXR5ID0gZ3JhbnVsYXJpdHkgPT09IG51bGwgPyB1bmRlZmluZWQgOiBncmFudWxhcml0eTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2hhcnRUeXBlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENoYXJ0VHlwZShjaGFydFR5cGUpIHtcbiAgICAgIHRoaXMuY2hhcnRUeXBlID0gY2hhcnRUeXBlO1xuXG4gICAgICBpZiAodGhpcy5jaGFydFR5cGVTdG9yZS5vbkNoYXJ0VHlwZUNoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5jaGFydFR5cGVTdG9yZS5vbkNoYXJ0VHlwZUNoYW5nZWQoY2hhcnRUeXBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0U2hvdWxkTWluaW1pc2VMYXN0RGlnaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2hvdWxkTWluaW1pc2VMYXN0RGlnaXQoc3RhdHVzKSB7XG4gICAgICB0aGlzLnNob3VsZE1pbmltaXNlTGFzdERpZ2l0cyA9IHN0YXR1cztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0RW5hYmxlU2Nyb2xsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEVuYWJsZVNjcm9sbCgpIHtcbiAgICAgIGlmICghdGhpcy5lbmFibGVTY3JvbGwgfHwgIXRoaXMuc3R4eCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3R4eC5hbGxvd1Njcm9sbCA9IHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldERpc2FibGVTY3JvbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGlzYWJsZVNjcm9sbCgpIHtcbiAgICAgIGlmICghdGhpcy5zdHh4KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdHh4LmFsbG93U2Nyb2xsID0gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNhdmVMYXlvdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUxheW91dCgpIHtcbiAgICAgIGlmICghdGhpcy5jaGFydFN0b3JlLmNoYXJ0SWQgfHwgIXRoaXMuc3R4eCkgcmV0dXJuO1xuICAgICAgdmFyIGxheW91dERhdGEgPSB0aGlzLnN0eHguZXhwb3J0TGF5b3V0KHRydWUpO1xuICAgICAgdmFyIGpzb24gPSBKU09OLnN0cmluZ2lmeShsYXlvdXREYXRhKTtcbiAgICAgIENJUS5sb2NhbFN0b3JhZ2VTZXRJdGVtKFwibGF5b3V0LVwiLmNvbmNhdCh0aGlzLmNoYXJ0U3RvcmUuY2hhcnRJZCksIGpzb24pO1xuICAgIH0gLy8gcmV0dXJucyBmYWxzZSBpZiByZXN0b3JpbmcgbGF5b3V0IGZhaWxzXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXN0b3JlTGF5b3V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3RvcmVMYXlvdXQoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIGxheW91dERhdGEgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlXCJdKShcImxheW91dC1cIi5jb25jYXQodGhpcy5jaGFydFN0b3JlLmNoYXJ0SWQpKTtcbiAgICAgIGlmICghbGF5b3V0RGF0YSB8fCAhbGF5b3V0RGF0YS5zeW1ib2xzLmxlbmd0aCkgcmV0dXJuIGZhbHNlOyAvLyBwcm9wIHZhbHVlcyB3aWxsIGFsd2F5cyB0YWtlIHByZWNlZGVuY2VcblxuICAgICAgaWYgKHRoaXMuc3ltYm9sICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zeW1ib2wgIT09IGxheW91dERhdGEuc3ltYm9sc1swXS5zeW1ib2wpIHtcbiAgICAgICAgLy8gc3ltYm9sIHByb3AgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGxvY2FsIHN0b3JhZ2UgZGF0YVxuICAgICAgICB2YXIgc3ltYm9sT2JqZWN0ID0gdGhpcy5jaGFydFN0b3JlLmFjdGl2ZVN5bWJvbHMuZ2V0U3ltYm9sT2JqKHRoaXMuc3ltYm9sKTtcbiAgICAgICAgbGF5b3V0RGF0YS5zeW1ib2xzID0gW3tcbiAgICAgICAgICBzeW1ib2w6IHRoaXMuc3ltYm9sLFxuICAgICAgICAgIHN5bWJvbE9iamVjdDogc3ltYm9sT2JqZWN0XG4gICAgICAgIH1dO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobGF5b3V0RGF0YS5zeW1ib2xzKSxcbiAgICAgICAgICBfc3RlcDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgc3ltYm9sRGF0ID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgLy8gU3ltYm9sIGZyb20gY2FjaGUgbWF5IGJlIGluIGRpZmZlcmVudCBsYW5ndWFnZSwgc28gcmVwbGFjZSBpdCB3aXRoIHNlcnZlcidzXG4gICAgICAgICAgdmFyIGNhY2hlZFN5bWJvbCA9IHN5bWJvbERhdC5zeW1ib2w7XG4gICAgICAgICAgdmFyIHVwZGF0ZWRTeW1ib2wgPSB0aGlzLmNoYXJ0U3RvcmUuYWN0aXZlU3ltYm9scy5nZXRTeW1ib2xPYmooY2FjaGVkU3ltYm9sKTtcbiAgICAgICAgICBzeW1ib2xEYXQuc3ltYm9sT2JqZWN0ID0gdXBkYXRlZFN5bWJvbDtcblxuICAgICAgICAgIGlmIChzeW1ib2xEYXQucGFyYW1ldGVycykge1xuICAgICAgICAgICAgc3ltYm9sRGF0LnBhcmFtZXRlcnMuZGlzcGxheSA9IHVwZGF0ZWRTeW1ib2wubmFtZTsgLy8gVGhlc2UgZ2FwIHNldHRpbmdzIGFyZSBkZWZhdWx0IHdoZW4gbmV3IGNvbXBhcmlzb25zIGFyZSBhZGRlZCxcbiAgICAgICAgICAgIC8vIGJ1dCBmb3IgYmFja3dhcmQgc3VwcG9ydCB3ZSBuZWVkIHRvIHNldCB0aGVtIGhlcmUuXG5cbiAgICAgICAgICAgIHN5bWJvbERhdC5wYXJhbWV0ZXJzLmZpbGxHYXBzID0gdHJ1ZTtcbiAgICAgICAgICAgIHN5bWJvbERhdC5wYXJhbWV0ZXJzLmdhcERpc3BsYXlTdHlsZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmdyYW51bGFyaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIHBlcmlvZGljaXR5ID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY2FsY3VsYXRlVGltZVVuaXRJbnRlcnZhbFwiXSkodGhpcy5ncmFudWxhcml0eSk7XG4gICAgICAgIGxheW91dERhdGEgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGxheW91dERhdGEpLCBwZXJpb2RpY2l0eSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1cGRhdGUgdGhpcy5ncmFudWxhcml0eSB3aXRoIGNoYXJ0TGF5b3V0XG4gICAgICAgIHZhciBfbGF5b3V0RGF0YSA9IGxheW91dERhdGEsXG4gICAgICAgICAgICB0aW1lVW5pdCA9IF9sYXlvdXREYXRhLnRpbWVVbml0LFxuICAgICAgICAgICAgaW50ZXJ2YWwgPSBfbGF5b3V0RGF0YS5pbnRlcnZhbCxcbiAgICAgICAgICAgIF9wZXJpb2RpY2l0eSA9IF9sYXlvdXREYXRhLnBlcmlvZGljaXR5O1xuICAgICAgICB2YXIgcGVyaW9kID0gdGltZVVuaXQgPyBpbnRlcnZhbCA6IF9wZXJpb2RpY2l0eTtcbiAgICAgICAgdGhpcy5jaGFydFN0b3JlLmdyYW51bGFyaXR5ID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY2FsY3VsYXRlR3JhbnVsYXJpdHlcIl0pKHBlcmlvZCwgdGltZVVuaXQgfHwgaW50ZXJ2YWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zdGFydEVwb2NoIHx8IHRoaXMuZW5kRXBvY2gpIHtcbiAgICAgICAgLy8gYWxyZWFkeSBzZXQgaW4gY2hhcnQgcGFyYW1zXG4gICAgICAgIGRlbGV0ZSBsYXlvdXREYXRhLnNwYW47XG4gICAgICAgIGRlbGV0ZSBsYXlvdXREYXRhLnJhbmdlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jaGFydFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsYXlvdXREYXRhLmNoYXJ0VHlwZSA9IHRoaXMuY2hhcnRUeXBlO1xuICAgICAgfSAvLyBVcGRhdGUgSW5kaWN0b3IgcGFuZWwgaGVpZ2h0XG5cblxuICAgICAgdmFyIGluZGljYXRvckNvdW50ID0gT2JqZWN0LmtleXMobGF5b3V0RGF0YS5wYW5lbHMpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gJ2NoYXJ0JztcbiAgICAgIH0pLmxlbmd0aDtcbiAgICAgIHZhciBpbmRpYWN0b3JIZWlnaHRQZXJjZW50ID0gdGhpcy5pbmRpY2F0b3JSYXRpby5pbmRpY2F0b3JIZWlnaHRSYXRpbyhpbmRpY2F0b3JDb3VudCkucGVyY2VudDtcbiAgICAgIE9iamVjdC5rZXlzKGxheW91dERhdGEucGFuZWxzKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBpZiAoaWQgPT09ICdjaGFydCcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFuZWwgPSBsYXlvdXREYXRhLnBhbmVsc1tpZF07XG4gICAgICAgIHBhbmVsLnBlcmNlbnQgPSBpbmRpYWN0b3JIZWlnaHRQZXJjZW50O1xuICAgICAgfSk7XG4gICAgICB0aGlzLnN0eHguaW1wb3J0TGF5b3V0KGxheW91dERhdGEsIHtcbiAgICAgICAgbWFuYWdlUGVyaW9kaWNpdHk6IHRydWUsXG4gICAgICAgIGNiOiBmdW5jdGlvbiBjYigpIHtcbiAgICAgICAgICBpZiAoIV90aGlzMy5jb250ZXh0KSByZXR1cm47XG5cbiAgICAgICAgICBpZiAobGF5b3V0RGF0YS50ZW5zaW9uKSB7XG4gICAgICAgICAgICBfdGhpczMuc3R4eC5jaGFydC50ZW5zaW9uID0gbGF5b3V0RGF0YS50ZW5zaW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzMy5yZXN0b3JlRHJhd2luZ3MoKTtcblxuICAgICAgICAgIGlmIChfdGhpczMuY2hhcnRTdG9yZS5sb2FkZXIpIHtcbiAgICAgICAgICAgIF90aGlzMy5jaGFydFN0b3JlLmxvYWRlci5oaWRlKCk7XG5cbiAgICAgICAgICAgIF90aGlzMy5tYWluU3RvcmUucGFnaW5hdGlvbkxvYWRlci51cGRhdGVPblBhZ2luYXRpb24oZmFsc2UpO1xuXG4gICAgICAgICAgICBfdGhpczMuc2V0Q2hhcnRJc1JlYWR5KHRydWUpO1xuXG4gICAgICAgICAgICBfdGhpczMuc3R4eC5ob21lKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMzLmNoYXJ0U3RvcmUuc2V0TWFpblNlcmllc0Rpc3BsYXkoX3RoaXMzLnN0eHguY2hhcnQuc3ltYm9sT2JqZWN0Lm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2hhcnRTdG9yZS51cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2F2ZURyYXdpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVEcmF3aW5ncygpIHtcbiAgICAgIGlmICghdGhpcy5jaGFydFN0b3JlLmNoYXJ0SWQpIHJldHVybjtcbiAgICAgIHZhciBvYmogPSB0aGlzLnN0eHguZXhwb3J0RHJhd2luZ3MoKTtcbiAgICAgIHZhciBzeW1ib2wgPSB0aGlzLnN0eHguY2hhcnQuc3ltYm9sO1xuXG4gICAgICBpZiAob2JqLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBDSVEubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJcIi5jb25jYXQoc3ltYm9sLCBcIi1cIikuY29uY2F0KHRoaXMuY2hhcnRTdG9yZS5jaGFydElkKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBDSVEubG9jYWxTdG9yYWdlU2V0SXRlbShcIlwiLmNvbmNhdChzeW1ib2wsIFwiLVwiKS5jb25jYXQodGhpcy5jaGFydFN0b3JlLmNoYXJ0SWQpLCBKU09OLnN0cmluZ2lmeShvYmopKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzdG9yZURyYXdpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3RvcmVEcmF3aW5ncygpIHtcbiAgICAgIGlmICh0aGlzLnN0eHggJiYgdGhpcy5zdHh4LmNoYXJ0KSB7XG4gICAgICAgIHZhciBkcmF3aW5ncyA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNyZWF0ZU9iamVjdEZyb21Mb2NhbFN0b3JhZ2VcIl0pKFwiXCIuY29uY2F0KHRoaXMuc3R4eC5jaGFydC5zeW1ib2wsIFwiLVwiKS5jb25jYXQodGhpcy5jaGFydFN0b3JlLmNoYXJ0SWQpKTtcblxuICAgICAgICBpZiAoZHJhd2luZ3MpIHtcbiAgICAgICAgICB0aGlzLnN0eHguaW1wb3J0RHJhd2luZ3MoZHJhd2luZ3MpO1xuICAgICAgICAgIHRoaXMuc3R4eC5kcmF3KCk7XG5cbiAgICAgICAgICBpZiAodGhpcy5kcmF3VG9vbHMpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd1Rvb2xzLmNvbXB1dGVBY3RpdmVEcmF3VG9vbHMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYW5DaGFydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhbkNoYXJ0KCkge1xuICAgICAgaWYgKCF0aGlzLmNsZWFyQ2hhcnQgfHwgIXRoaXMuaXNDaGFydFJlYWR5KSByZXR1cm47IC8vIFJlbW92ZSBjb21wYXJzaW9uc1xuXG4gICAgICBmb3IgKHZhciBmaWVsZCBpbiB0aGlzLnN0eHguY2hhcnQuc2VyaWVzKSB7XG4gICAgICAgIHRoaXMuc3R4eC5yZW1vdmVTZXJpZXMoZmllbGQpO1xuICAgICAgfSAvLyBSZW1vdmUgaW5kaWFjdG9yc1xuXG5cbiAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuc3R4eC5sYXlvdXQuc3R1ZGllcykge1xuICAgICAgICB2YXIgc2QgPSB0aGlzLnN0eHgubGF5b3V0LnN0dWRpZXNbaWRdO1xuICAgICAgICBDSVEuU3R1ZGllcy5yZW1vdmVTdHVkeSh0aGlzLnN0eHgsIHNkKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdHh4LmNsZWFyRHJhd2luZ3MoKTsgLy8gVE9ETzogdXNlIGNvbnN0YW50XG5cbiAgICAgIHRoaXMubWFpblN0b3JlLmNyb3NzaGFpci5vbkNoYW5nZSgyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXhwb3J0TGF5b3V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4cG9ydExheW91dCgpIHtcbiAgICAgIGlmICghdGhpcy5vbkV4cG9ydExheW91dCB8fCAhdGhpcy5zdHh4KSByZXR1cm47XG4gICAgICB2YXIgY3VycmVudExheW91dCA9IHRoaXMuc3R4eC5leHBvcnRMYXlvdXQoKTtcbiAgICAgIGN1cnJlbnRMYXlvdXQuZHJhd2luZ3MgPSB0aGlzLnN0eHguZXhwb3J0RHJhd2luZ3MoKTtcbiAgICAgIGN1cnJlbnRMYXlvdXQuc2VyaWVzID0gW107XG5cbiAgICAgIGZvciAodmFyIGZpZWxkIGluIHRoaXMuc3R4eC5jaGFydC5zZXJpZXMpIHtcbiAgICAgICAgY3VycmVudExheW91dC5zZXJpZXMucHVzaChmaWVsZCk7XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRMYXlvdXQucHJldmlvdXNNYXhUaWNrcyA9IHRoaXMuc3R4eC5jaGFydC5tYXhUaWNrcztcbiAgICAgIHRoaXMub25FeHBvcnRMYXlvdXQoY3VycmVudExheW91dCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNjcm9sbExpc3RlbmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbExpc3RlbmVyKF9yZWYyKSB7XG4gICAgICB2YXIgZ3JhYiA9IF9yZWYyLmdyYWI7XG5cbiAgICAgIGlmIChncmFiICYmIHRoaXMuc3R4eC5jaGFydC5sb2NrU2Nyb2xsKSB7XG4gICAgICAgIHRoaXMuc3R4eC5jaGFydC5sb2NrU2Nyb2xsID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENoYXJ0U3RhdGU7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImdyYW51bGFyaXR5XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjaGFydFR5cGVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInN0YXJ0RXBvY2hcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImVuZEVwb2NoXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzeW1ib2xcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I2ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzQ29ubmVjdGlvbk9wZW5lZFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjcgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNDaGFydFJlYWR5XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I4ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNoYXJ0U3RhdHVzTGlzdGVuZXJcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I5ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInN0YXRlQ2hhbmdlTGlzdGVuZXJcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IxMCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXR0aW5nc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjExID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3dMYXN0RGlnaXRTdGF0c1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjEyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNjcm9sbFRvRXBvY2hcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IxMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkV4cG9ydExheW91dFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjE0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNsZWFyQ2hhcnRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IxNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc0NoYXJ0Q2xvc2VkXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IxNiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzaG91bGRNaW5pbWlzZUxhc3REaWdpdHNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjE3ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzU3RhdGljQ2hhcnRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjE4ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3VsZEZldGNoVHJhZGluZ1RpbWVzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjE5ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlZnJlc2hBY3RpdmVTeW1ib2xzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMjAgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGFzUmVhY2hlZEVuZE9mRGF0YVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMjEgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicHJldkNoYXJ0VHlwZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzQ2hhcnRTY3JvbGxpbmdUb0Vwb2NoXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjcm9zc2hhaXJTdGF0ZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAxO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjcm9zc2hhaXJUb29sdGlwTGVmdEFsbG93XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjI1ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm1heFRpY2tcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IyNiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJlbmFibGVTY3JvbGxcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMjcgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZW5hYmxlWm9vbVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyOCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ5QXhpc01hcmdpblwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IDEwNixcbiAgICAgIGJvdHRvbTogNjRcbiAgICB9O1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyOSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkNvbnRleHRSZWFkeVwiLCBbX2RlY10sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzNC5zdHh4LmFkZEV2ZW50TGlzdGVuZXIoJ2xheW91dCcsIF90aGlzNC5zYXZlTGF5b3V0LmJpbmQoX3RoaXM0KSk7XG5cbiAgICAgIF90aGlzNC5zdHh4LmFkZEV2ZW50TGlzdGVuZXIoJ3N5bWJvbENoYW5nZScsIF90aGlzNC5zYXZlTGF5b3V0LmJpbmQoX3RoaXM0KSk7XG5cbiAgICAgIF90aGlzNC5zdHh4LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYXdpbmcnLCBfdGhpczQuc2F2ZURyYXdpbmdzLmJpbmQoX3RoaXM0KSk7XG5cbiAgICAgIF90aGlzNC5zdHh4LmFkZEV2ZW50TGlzdGVuZXIoJ21vdmUnLCBfdGhpczQuc2Nyb2xsTGlzdGVuZXIuYmluZChfdGhpczQpKTtcblxuICAgICAgX3RoaXM0LnN0eHguYXBwZW5kKCd6b29tT3V0JywgX3RoaXM0LnNldEVuYWJsZVNjcm9sbC5iaW5kKF90aGlzNCkpO1xuXG4gICAgICBfdGhpczQuc3R4eC5hcHBlbmQoJ3pvb21JbicsIF90aGlzNC5zZXRFbmFibGVTY3JvbGwuYmluZChfdGhpczQpKTtcblxuICAgICAgX3RoaXM0LmdyYW51bGFyaXR5ID0gX3RoaXM0LmNoYXJ0U3RvcmUuZ3JhbnVsYXJpdHk7XG4gICAgICBfdGhpczQuc3R4eC5tYXhNYXN0ZXJEYXRhU2l6ZSA9IF90aGlzNC5jaGFydFN0b3JlLmdldE1heE1hc3RlckRhdGFTaXplKF90aGlzNC5ncmFudWxhcml0eSk7XG4gICAgfTtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQcm9wc1wiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUHJvcHNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0TWF4dFRpY2tcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldE1heHRUaWNrXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldElzQ2hhcnRTY3JvbGxpbmdUb0Vwb2NoXCIsIFtfZGVjNF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRJc0NoYXJ0U2Nyb2xsaW5nVG9FcG9jaFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoYXNSZWFjaGVkRW5kT2ZEYXRhXCIsIFtfZGVjNV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoYXNSZWFjaGVkRW5kT2ZEYXRhXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENoYXJ0Q2xvc2VkXCIsIFtfZGVjNl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDaGFydENsb3NlZFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzdGF0ZUNoYW5nZVwiLCBbX2RlYzddLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic3RhdGVDaGFuZ2VcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0Q2hhcnRJc1JlYWR5XCIsIFtfZGVjOF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDaGFydElzUmVhZHlcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0Q2hhcnRHcmFudWxhcml0eVwiLCBbX2RlYzldLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0Q2hhcnRHcmFudWxhcml0eVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDaGFydFR5cGVcIiwgW19kZWMxMF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDaGFydFR5cGVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0U2hvdWxkTWluaW1pc2VMYXN0RGlnaXRcIiwgW19kZWMxMV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRTaG91bGRNaW5pbWlzZUxhc3REaWdpdFwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoQ2hhcnRTdGF0ZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0NoYXJ0U3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9DaGFydFN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb21lbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vbWVudCAqLyBcIm1vbWVudFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb21lbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb21lbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2JpbmFyeWFwaV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vYmluYXJ5YXBpICovIFwiLi9zcmMvYmluYXJ5YXBpL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jaGFydGlxX2luamVjdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NoYXJ0aXFfaW5qZWN0aW9ucyAqLyBcIi4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c191aV9Db250ZXh0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL3VpL0NvbnRleHQgKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL0NvbnRleHQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfdWlfS2V5c3Ryb2tlSHViX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL3VpL0tleXN0cm9rZUh1YiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvS2V5c3Ryb2tlSHViLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX3VpX0FuaW1hdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy91aS9BbmltYXRpb24gKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL0FuaW1hdGlvbi5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZmVlZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZmVlZCAqLyBcIi4vc3JjL2ZlZWQvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1NwbGluZVBsb3R0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1NwbGluZVBsb3R0ZXIgKi8gXCIuL3NyYy9TcGxpbmVQbG90dGVyLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfUGVuZGluZ1Byb21pc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9QZW5kaW5nUHJvbWlzZSAqLyBcIi4vc3JjL3V0aWxzL1BlbmRpbmdQcm9taXNlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3Jlc2l6ZV9pY29uX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQvcmVzaXplLWljb24uc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0L3Jlc2l6ZS1pY29uLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9yZXNpemVfaWNvbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfcmVzaXplX2ljb25fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19lZGl0X2ljX2VkaXRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9lZGl0L2ljLWVkaXQuc3ZnICovIFwiLi9zYXNzL2ljb25zL2VkaXQvaWMtZWRpdC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZWRpdF9pY19lZGl0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19lZGl0X2ljX2VkaXRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kZWxldGVfaWNfZGVsZXRlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZGVsZXRlL2ljLWRlbGV0ZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZGVsZXRlL2ljLWRlbGV0ZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZGVsZXRlX2ljX2RlbGV0ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfZGVsZXRlX2ljX2RlbGV0ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X2ljX2Rvd25fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydC9pYy1kb3duLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydC9pYy1kb3duLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9pY19kb3duX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19jaGFydF9pY19kb3duX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfbmF2aWdhdGlvbl93aWRnZXRzX2ljX2hvbWVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9uYXZpZ2F0aW9uLXdpZGdldHMvaWMtaG9tZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvbmF2aWdhdGlvbi13aWRnZXRzL2ljLWhvbWUuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX25hdmlnYXRpb25fd2lkZ2V0c19pY19ob21lX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19pY29uc19uYXZpZ2F0aW9uX3dpZGdldHNfaWNfaG9tZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X2ljX21heGltaXplX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQvaWMtbWF4aW1pemUuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0L2ljLW1heGltaXplLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9pY19tYXhpbWl6ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY2hhcnRfaWNfbWF4aW1pemVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ29uc3RhbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9Db25zdGFudCAqLyBcIi4vc3JjL0NvbnN0YW50LmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2RlYzQsIF9kZWM1LCBfZGVjNiwgX2RlYzcsIF9kZWM4LCBfZGVjOSwgX2RlYzEwLCBfZGVjMTEsIF9kZWMxMiwgX2RlYzEzLCBfZGVjMTQsIF9kZWMxNSwgX2RlYzE2LCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfZGVzY3JpcHRvcjUsIF9kZXNjcmlwdG9yNiwgX2Rlc2NyaXB0b3I3LCBfZGVzY3JpcHRvcjgsIF9kZXNjcmlwdG9yOSwgX2Rlc2NyaXB0b3IxMCwgX2Rlc2NyaXB0b3IxMSwgX2Rlc2NyaXB0b3IxMiwgX2Rlc2NyaXB0b3IxMywgX2Rlc2NyaXB0b3IxNCwgX2Rlc2NyaXB0b3IxNSwgX2Rlc2NyaXB0b3IxNiwgX2Rlc2NyaXB0b3IxNywgX2Rlc2NyaXB0b3IxOCwgX2NsYXNzMiwgX3RlbXA7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdDsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbXCJyZXR1cm5cIl0gIT0gbnVsbCkgaXRbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAvLyBpbXBvcnQgJy4uL3V0aWxzL3JhZic7XG5cblxudmFyIENoYXJ0U3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzUgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM2ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzggPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM5ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMTAgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMxMSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzEyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMTMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMxNCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzE1ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMTYgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPSAoX3RlbXAgPSBfY2xhc3MyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2hhcnRTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYXJ0U3RvcmUpO1xuXG4gICAgdGhpcy5mZWVkQ2FsbCA9IHZvaWQgMDtcbiAgICB0aGlzLlJBTkdFX1BBRERJTkdfUFggPSAxMjU7XG4gICAgdGhpcy5jb250ZXh0UHJvbWlzZSA9IG5ldyBfdXRpbHNfUGVuZGluZ1Byb21pc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19bXCJkZWZhdWx0XCJdKCk7XG4gICAgdGhpcy5yb290Tm9kZSA9IG51bGw7XG4gICAgdGhpcy5zdHh4ID0gbnVsbDtcbiAgICB0aGlzLmFwaSA9IG51bGw7XG4gICAgdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAgIGdyYW51bGFyaXR5OiAwLFxuICAgICAgY2hhcnRUeXBlOiAnbW91bnRhaW4nXG4gICAgfTtcbiAgICB0aGlzLmdyYW51bGFyaXR5ID0gdm9pZCAwO1xuICAgIHRoaXMuZW5hYmxlUm91dGluZyA9IG51bGw7XG4gICAgdGhpcy5jaGFydE5vZGUgPSBudWxsO1xuICAgIHRoaXMuY2hhcnRDb250cm9sc05vZGUgPSBudWxsO1xuICAgIHRoaXMuaG9sZGVyU3R5bGUgPSB2b2lkIDA7XG4gICAgdGhpcy5zdGF0ZSA9IHZvaWQgMDtcbiAgICB0aGlzLm9uTWVzc2FnZSA9IG51bGw7XG4gICAgdGhpcy5kZWZhdWx0TWluaW11bUJhcnMgPSA1O1xuICAgIHRoaXMuX2JhcnJpZXJzID0gW107XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbnRhaW5lcldpZHRoXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29udGV4dFwiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjdXJyZW50QWN0aXZlU3ltYm9sXCIsIF9kZXNjcmlwdG9yMywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzQ2hhcnRBdmFpbGFibGVcIiwgX2Rlc2NyaXB0b3I0LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhcnRIZWlnaHRcIiwgX2Rlc2NyaXB0b3I1LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhcnRDb250YWluZXJIZWlnaHRcIiwgX2Rlc2NyaXB0b3I2LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNNb2JpbGVcIiwgX2Rlc2NyaXB0b3I3LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNTY2FsZWRPbmVPbmVcIiwgX2Rlc2NyaXB0b3I4LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY3Vyc29ySW5DaGFydFwiLCBfZGVzY3JpcHRvcjksIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzaG91bGRSZW5kZXJEaWFsb2dzXCIsIF9kZXNjcmlwdG9yMTAsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ5QXhpc3dpZHRoXCIsIF9kZXNjcmlwdG9yMTEsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXJ2ZXJUaW1lXCIsIF9kZXNjcmlwdG9yMTIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJuZXR3b3JrU3RhdHVzXCIsIF9kZXNjcmlwdG9yMTMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJsYXN0Q291bnREb3duU2Vjb25kXCIsIF9kZXNjcmlwdG9yMTQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjb3VudERvd25MYWJlbFwiLCBfZGVzY3JpcHRvcjE1LCB0aGlzKTtcblxuICAgIHRoaXMuY3VycmVudENsb3NlUXVvdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLnN0eHgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3VycmVudFF1b3RlID0gX3RoaXMuc3R4eC5jdXJyZW50UXVvdGUoKTtcblxuICAgICAgaWYgKGN1cnJlbnRRdW90ZSAmJiAhY3VycmVudFF1b3RlLkNsb3NlKSB7XG4gICAgICAgIHZhciBkYXRhU2VnbWVudENsb3NlID0gX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLnN0eHguY2hhcnQuZGF0YVNlZ21lbnQpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtICYmIGl0ZW0uQ2xvc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChkYXRhU2VnbWVudENsb3NlICYmIGRhdGFTZWdtZW50Q2xvc2UubGVuZ3RoKSB7XG4gICAgICAgICAgY3VycmVudFF1b3RlID0gZGF0YVNlZ21lbnRDbG9zZVtkYXRhU2VnbWVudENsb3NlLmxlbmd0aCAtIDFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBkYXRhU2V0Q2xvc2UgPSBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMuc3R4eC5jaGFydC5kYXRhU2V0KS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtICYmIGl0ZW0uQ2xvc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoZGF0YVNldENsb3NlICYmIGRhdGFTZXRDbG9zZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJlbnRRdW90ZSA9IGRhdGFTZXRDbG9zZVtkYXRhU2V0Q2xvc2UubGVuZ3RoIC0gMV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjdXJyZW50UXVvdGU7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlQ2FudmFzID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFfdGhpcy5zdHh4KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnN0eHguc2xpZGVyKSB7XG4gICAgICAgIF90aGlzLnN0eHguc2xpZGVyLmRpc3BsYXkoX3RoaXMuc3R4eC5sYXlvdXQucmFuZ2VTbGlkZXIpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zdHh4LnJlc2l6ZUNoYXJ0KCk7XG4gICAgfTtcblxuICAgIHRoaXMuaW5kaWNhdG9ySGVpZ2h0UmF0aW8gPSBmdW5jdGlvbiAobnVtKSB7XG4gICAgICB2YXIgY2hhcnRIZWlnaHQgPSBfdGhpcy5jaGFydE5vZGUub2Zmc2V0SGVpZ2h0O1xuICAgICAgdmFyIGlzU21hbGxTY3JlZW4gPSBjaGFydEhlaWdodCA8IDc4MDtcbiAgICAgIHZhciBkZW5vbWluYXRvciA9IG51bSA+PSA1ID8gbnVtIDogbnVtICsgMTtcbiAgICAgIHZhciByZXNlcnZlZEhlaWdodCA9IF90aGlzLmlzTW9iaWxlID8gMTYwIDogMzIwO1xuICAgICAgdmFyIGluZGljYXRvcnNIZWlnaHQgPSBNYXRoLnJvdW5kKChjaGFydEhlaWdodCAtIChyZXNlcnZlZEhlaWdodCArIChpc1NtYWxsU2NyZWVuID8gMjAgOiAwKSkpIC8gZGVub21pbmF0b3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBpbmRpY2F0b3JzSGVpZ2h0LFxuICAgICAgICBwZXJjZW50OiBpbmRpY2F0b3JzSGVpZ2h0IC8gY2hhcnRIZWlnaHRcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uIChyb290Tm9kZSwgcHJvcHMpIHtcbiAgICAgIF90aGlzLmxvYWRlci5zaG93KCk7XG5cbiAgICAgIF90aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydElzUmVhZHkoZmFsc2UpO1xuXG4gICAgICBfdGhpcy5sb2FkZXIuc2V0U3RhdGUoJ2NoYXJ0LWVuZ2luZScpO1xuXG4gICAgICBfdGhpcy5jaGFydElkID0gcHJvcHMuaWQgfHwgJ2Jhc2UtY2hhcnQnO1xuXG4gICAgICBpZiAod2luZG93LkNJUSkge1xuICAgICAgICBfdGhpcy5faW5pdENoYXJ0KHJvb3ROb2RlLCBwcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoLyohIGltcG9ydCgpIHwgY2hhcnRpcSAqLyBcImNoYXJ0aXFcIikudGhlbihfX3dlYnBhY2tfcmVxdWlyZV9fLmJpbmQobnVsbCwgLyohIGNoYXJ0aXEgKi8gXCIuL2NoYXJ0aXEvZGV2ZWxvcG1lbnQvaW5kZXguanNcIikpLnRoZW4oT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXSkoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICB2YXIgQ0lRID0gX3JlZi5DSVEsXG4gICAgICAgICAgICAgIFNwbGluZVBsb3R0ZXIgPSBfcmVmLlNwbGluZVBsb3R0ZXI7XG4gICAgICAgICAgQ0lRLkNoYXJ0RW5naW5lLmh0bWxDb250cm9scy5iYXNlbGluZUhhbmRsZSA9IFwiPGRpdiBjbGFzcz1cXFwic3R4LWJhc2VsaW5lLWhhbmRsZVxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cIi5jb25jYXQoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wicmVuZGVyU1ZHU3RyaW5nXCJdKShfc2Fzc19pY29uc19jaGFydF9yZXNpemVfaWNvbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19fZGVmYXVsdC5hKSwgXCI8L2Rpdj5cIik7XG4gICAgICAgICAgQ0lRLkNoYXJ0RW5naW5lLmh0bWxDb250cm9scy5pY29uc1RlbXBsYXRlID0gXCI8ZGl2IGNsYXNzPVxcXCJzdHgtcGFuZWwtY29udHJvbFxcXCI+PGRpdiBjbGFzcz1cXFwic3R4LXBhbmVsLXRpdGxlXFxcIj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJzdHgtYnRuLXBhbmVsIHN0eC1zaG93XFxcIj48c3BhbiBjbGFzcz1cXFwic3R4LWljby11cFxcXCI+XCIuY29uY2F0KE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcInJlbmRlclNWR1N0cmluZ1wiXSkoX3Nhc3NfaWNvbnNfY2hhcnRfaWNfZG93bl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X19fZGVmYXVsdC5hKSwgXCI8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cXFwic3R4LWJ0bi1wYW5lbCBzdHgtc2hvd1xcXCI+PHNwYW4gY2xhc3M9XFxcInN0eC1pY28tZG93blxcXCI+XCIpLmNvbmNhdChPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJyZW5kZXJTVkdTdHJpbmdcIl0pKF9zYXNzX2ljb25zX2NoYXJ0X2ljX2Rvd25fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fX2RlZmF1bHQuYSksIFwiPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XFxcInN0eC1idG4tcGFuZWwgc3R4LXNob3dcXFwiPjxzcGFuIGNsYXNzPVxcXCJzdHgtaWNvLWZvY3VzXFxcIj5cIikuY29uY2F0KE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcInJlbmRlclNWR1N0cmluZ1wiXSkoX3Nhc3NfaWNvbnNfY2hhcnRfaWNfbWF4aW1pemVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fX2RlZmF1bHQuYSksIFwiPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XFxcInN0eC1idG4tcGFuZWwgc3R4LXNob3dcXFwiPjxzcGFuIGNsYXNzPVxcXCJzdHgtaWNvLWVkaXRcXFwiPlwiKS5jb25jYXQoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wicmVuZGVyU1ZHU3RyaW5nXCJdKShfc2Fzc19pY29uc19lZGl0X2ljX2VkaXRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fX2RlZmF1bHQuYSksIFwiPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XFxcInN0eC1idG4tcGFuZWwgc3R4LXNob3dcXFwiPjxzcGFuIGNsYXNzPVxcXCJzdHgtaWNvLWNsb3NlXFxcIj5cIikuY29uY2F0KE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcInJlbmRlclNWR1N0cmluZ1wiXSkoX3Nhc3NfaWNvbnNfZGVsZXRlX2ljX2RlbGV0ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19fZGVmYXVsdC5hKSwgXCI8L3NwYW4+PC9kaXY+PC9kaXY+XCIpO1xuICAgICAgICAgIENJUS5DaGFydEVuZ2luZS5odG1sQ29udHJvbHMubVN0aWNreSA9IFwiPGRpdiBjbGFzcz1cXFwic3R4X3N0aWNreVxcXCI+IDxzcGFuIGNsYXNzPVxcXCJtU3RpY2t5SW50ZXJpb3JcXFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm1TdGlja3lSaWdodENsaWNrXFxcIj48c3BhbiBjbGFzcz1cXFwib3ZlcmxheUVkaXQgc3R4LWJ0blxcXCIgc3R5bGU9XFxcImRpc3BsYXk6bm9uZVxcXCI+PHNwYW4gY2xhc3M9XFxcImljLWVkaXRcXFwiPlwiLmNvbmNhdChPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJyZW5kZXJTVkdTdHJpbmdcIl0pKF9zYXNzX2ljb25zX2VkaXRfaWNfZWRpdF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19fZGVmYXVsdC5hKSwgXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcImljLWRlbGV0ZVxcXCI+XCIpLmNvbmNhdChPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJyZW5kZXJTVkdTdHJpbmdcIl0pKF9zYXNzX2ljb25zX2RlbGV0ZV9pY19kZWxldGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fX2RlZmF1bHQuYSksIFwiPC9zcGFuPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm92ZXJsYXlUcmFzaENhbiBzdHgtYnRuXFxcIiBzdHlsZT1cXFwiZGlzcGxheTpub25lXFxcIj48c3BhbiBjbGFzcz1cXFwiaWMtZWRpdFxcXCI+XCIpLmNvbmNhdChPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJyZW5kZXJTVkdTdHJpbmdcIl0pKF9zYXNzX2ljb25zX2VkaXRfaWNfZWRpdF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19fZGVmYXVsdC5hKSwgXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcImljLWRlbGV0ZVxcXCI+XCIpLmNvbmNhdChPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJyZW5kZXJTVkdTdHJpbmdcIl0pKF9zYXNzX2ljb25zX2RlbGV0ZV9pY19kZWxldGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fX2RlZmF1bHQuYSksIFwiPC9zcGFuPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm1vdXNlRGVsZXRlSW5zdHJ1Y3Rpb25zXFxcIj48c3BhbiBjbGFzcz1cXFwibW91c2VEZWxldGVUZXh0XFxcIj5SaWdodCBjbGljayB0byBkZWxldGU8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm1vdXNlTWFuYWdlVGV4dFxcXCI+UmlnaHQgY2xpY2sgdG8gbWFuYWdlPC9zcGFuPjwvc3Bhbj48L3NwYW4+PC9kaXY+XCIpO1xuICAgICAgICAgIENJUS5DaGFydEVuZ2luZS5odG1sQ29udHJvbHMuaG9tZSA9IFwiPGRpdiBjbGFzcz1cXFwic3R4X2p1bXBfdG9kYXlcXFwiIHN0eWxlPVxcXCJkaXNwbGF5Om5vbmVcXFwiPlwiLmNvbmNhdChPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJyZW5kZXJTVkdTdHJpbmdcIl0pKF9zYXNzX2ljb25zX25hdmlnYXRpb25fd2lkZ2V0c19pY19ob21lX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfX19kZWZhdWx0LmEpLCBcIjwvZGl2PlwiKTtcbiAgICAgICAgICB3aW5kb3cuQ0lRID0gQ0lRO1xuICAgICAgICAgIFNwbGluZVBsb3R0ZXIucGxvdFNwbGluZSA9IF9TcGxpbmVQbG90dGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJkZWZhdWx0XCJdO1xuXG4gICAgICAgICAgX3RoaXMuX2luaXRDaGFydChyb290Tm9kZSwgcHJvcHMpO1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMub25NYXJrZXRPcGVuQ2xvc2VkQ2hhbmdlID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgIHZhciBzeW1ib2xPYmplY3RzID0gX3RoaXMuc3R4eC5nZXRTeW1ib2xzKCkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnN5bWJvbE9iamVjdDtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgc2hvdWxkUmVmcmVzaENoYXJ0ID0gZmFsc2U7XG5cbiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzeW1ib2xPYmplY3RzKSxcbiAgICAgICAgICBfc3RlcDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgX3N0ZXAkdmFsdWUgPSBfc3RlcC52YWx1ZSxcbiAgICAgICAgICAgICAgc3ltYm9sID0gX3N0ZXAkdmFsdWUuc3ltYm9sLFxuICAgICAgICAgICAgICBuYW1lID0gX3N0ZXAkdmFsdWUubmFtZTtcblxuICAgICAgICAgIGlmIChzeW1ib2wgaW4gY2hhbmdlcykge1xuICAgICAgICAgICAgaWYgKGNoYW5nZXNbc3ltYm9sXSkge1xuICAgICAgICAgICAgICBzaG91bGRSZWZyZXNoQ2hhcnQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIF90aGlzLmNoYXJ0Q2xvc2VkT3BlblRoZW1lQ2hhbmdlKGZhbHNlKTtcblxuICAgICAgICAgICAgICBfdGhpcy5tYWluU3RvcmUubm90aWZpZXIubm90aWZ5TWFya2V0T3BlbihuYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLmNoYXJ0Q2xvc2VkT3BlblRoZW1lQ2hhbmdlKHRydWUpO1xuXG4gICAgICAgICAgICAgIF90aGlzLm1haW5TdG9yZS5ub3RpZmllci5ub3RpZnlNYXJrZXRDbG9zZShuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNob3VsZFJlZnJlc2hDaGFydCkge1xuICAgICAgICAvLyByZWZyZXNoIHRvIHN0cmVhbSBvcGVuZWQgbWFya2V0XG4gICAgICAgIF90aGlzLnJlZnJlc2hDaGFydCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhbGN1bGF0ZVlheGlzV2lkdGhcIiwgX2Rlc2NyaXB0b3IxNiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVwZGF0ZVlheGlzV2lkdGhcIiwgX2Rlc2NyaXB0b3IxNywgdGhpcyk7XG5cbiAgICB0aGlzLnJlbWFpbkxhYmVsWSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdHggPSBfdGhpcy5jb250ZXh0LnN0eDtcbiAgICAgIHZhciB0b3BQb3MgPSAzNjtcbiAgICAgIHZhciBsYWJlbEhlaWdodCA9IDI0O1xuICAgICAgdmFyIGJvdHRvbVBvcyA9IDY2O1xuICAgICAgdmFyIHkgPSBzdHguY2hhcnQuY3VycmVudFByaWNlTGFiZWxZICsgbGFiZWxIZWlnaHQ7XG5cbiAgICAgIGlmIChzdHguY2hhcnQuY3VycmVudFByaWNlTGFiZWxZID4gc3R4LmNoYXJ0LnBhbmVsLmJvdHRvbSAtIGJvdHRvbVBvcykge1xuICAgICAgICB5ID0gc3R4LmNoYXJ0LnBhbmVsLmJvdHRvbSAtIGJvdHRvbVBvcztcbiAgICAgICAgeSA9IHkgPCBzdHguY2hhcnQuY3VycmVudFByaWNlTGFiZWxZIC0gbGFiZWxIZWlnaHQgPyB5IDogc3R4LmNoYXJ0LmN1cnJlbnRQcmljZUxhYmVsWSAtIGxhYmVsSGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmIChzdHguY2hhcnQuY3VycmVudFByaWNlTGFiZWxZIDwgc3R4LmNoYXJ0LnBhbmVsLnRvcCkge1xuICAgICAgICB5ID0gdG9wUG9zO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geTtcbiAgICB9O1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXRZYXhpc1dpZHRoXCIsIF9kZXNjcmlwdG9yMTgsIHRoaXMpO1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2hhcnRTdG9yZSwgW3tcbiAgICBrZXk6IFwidXBkYXRlSGVpZ2h0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUhlaWdodChwb3NpdGlvbikge1xuICAgICAgdmFyIGhpc3RvcmljYWxNb2JpbGUgPSB0aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcuaGlzdG9yaWNhbCAmJiB0aGlzLmlzTW9iaWxlO1xuICAgICAgdmFyIHBhbmVsUG9zaXRpb24gPSBwb3NpdGlvbiB8fCB0aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcucG9zaXRpb247IC8vIFRPRE8gdXNlIGNvbnN0YW50IGhlcmUgZm9yIGNoYXJ0Y29udHJvbCBoZWlnaHRcblxuICAgICAgdmFyIG9mZnNldEhlaWdodCA9IDA7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlU3RvcmUuZW5hYmxlZENoYXJ0Rm9vdGVyKSB7XG4gICAgICAgIG9mZnNldEhlaWdodCA9IDMyO1xuICAgICAgfSBlbHNlIGlmIChwYW5lbFBvc2l0aW9uID09PSAnYm90dG9tJyAmJiB0aGlzLnN0YXRlU3RvcmUuY2hhcnRDb250cm9sc1dpZGdldHMpIHtcbiAgICAgICAgb2Zmc2V0SGVpZ2h0ID0gNDA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2hhcnRIZWlnaHQgPSB0aGlzLmNoYXJ0Tm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgICB0aGlzLmNoYXJ0Q29udGFpbmVySGVpZ2h0ID0gdGhpcy5jaGFydEhlaWdodCAtIG9mZnNldEhlaWdodCAtIChoaXN0b3JpY2FsTW9iaWxlID8gNDUgOiAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzaXplU2NyZWVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZVNjcmVlbigpIHtcbiAgICAgIGlmICghdGhpcy5jb250ZXh0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucm9vdE5vZGUuY2xpZW50V2lkdGggPj0gMTI4MCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lcldpZHRoID0gMTI4MDtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5yb290Tm9kZS5jbGllbnRXaWR0aCA+PSA5MDApIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJXaWR0aCA9IDkwMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyV2lkdGggPSA0ODA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBkYXRlSGVpZ2h0KCk7XG4gICAgICB0aGlzLnVwZGF0ZUNhbnZhcygpOyAvLyBIZWlnaHQgdXBkYXRlcyBhcmUgbm90IGltbWVkaWF0ZSwgc28gd2UgbXVzdCByZXNpemUgdGhlIGNhbnZhcyB3aXRoXG4gICAgICAvLyBhIHNsaWdodCBkZWxheSBmb3IgaXQgdG8gcGljayB1cCB0aGUgY29ycmVjdCBjaGFydENvbnRhaW5lciBoZWlnaHQuXG4gICAgICAvLyBJbiBtb2JpbGUgZGV2aWNlcywgYSBsb25nZXIgZGVsYXkgaXMgZ2l2ZW4gYXMgRE9NIHVwZGF0ZXMgYXJlIHNsb3dlci5cblxuICAgICAgc2V0VGltZW91dCh0aGlzLnVwZGF0ZUNhbnZhcywgdGhpcy5pc01vYmlsZSA/IDUwMCA6IDEwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9pbml0Q2hhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRDaGFydChyb290Tm9kZSwgcHJvcHMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3NlbGYgPSB0aGlzOyAvLyBBZGQgY3VzdG9tIGluamVjdGlvbnMgdG8gdGhlIENJUVxuXG5cbiAgICAgIE9iamVjdChfY2hhcnRpcV9pbmplY3Rpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgIGRyYXdUb29sc1N0b3JlOiB0aGlzLm1haW5TdG9yZS5kcmF3VG9vbHNcbiAgICAgIH0pO1xuICAgICAgQ0lRLmV4dGVuZChDSVEuU3R1ZGllcy5zdHVkeUxpYnJhcnkuRGV0cmVuZGVkLCB7XG4gICAgICAgIGNhbGN1bGF0ZUZOOiBmdW5jdGlvbiBjYWxjdWxhdGVGTihzdHgsIHNkKSB7XG4gICAgICAgICAgdmFyIHF1b3RlcyA9IHNkLmNoYXJ0LnNjcnViYmVkO1xuXG4gICAgICAgICAgaWYgKHF1b3Rlcy5sZW5ndGggPCBzZC5kYXlzICsgMSkge1xuICAgICAgICAgICAgc2QuZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBmaWVsZCA9IHNkLmlucHV0cy5GaWVsZDtcbiAgICAgICAgICBpZiAoIWZpZWxkIHx8IGZpZWxkID09PSAnZmllbGQnKSBmaWVsZCA9ICdDbG9zZSc7XG4gICAgICAgICAgdmFyIG9mZnNldCA9IE1hdGguZmxvb3Ioc2QuZGF5cyAvIDIgKyAxKTtcbiAgICAgICAgICBDSVEuU3R1ZGllcy5NQShzZC5pbnB1dHNbJ01vdmluZyBBdmVyYWdlIFR5cGUnXSwgc2QuZGF5cywgZmllbGQsIC1vZmZzZXQsICdNQScsIHN0eCwgc2QpO1xuICAgICAgICAgIHZhciBkYXlzID0gTWF0aC5tYXgoc2QuZGF5cyAtIG9mZnNldCAtIDEsIHNkLnN0YXJ0RnJvbSAtIG9mZnNldCk7XG4gICAgICAgICAgaWYgKGRheXMgPCAwKSBkYXlzID0gMDtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSBkYXlzOyBpIDwgcXVvdGVzLmxlbmd0aCAtIG9mZnNldDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gcXVvdGVzW2ldW2ZpZWxkXTtcbiAgICAgICAgICAgIGlmICh2YWwgJiYgX3R5cGVvZih2YWwpID09PSAnb2JqZWN0JykgdmFsID0gdmFsW3NkLnN1YkZpZWxkXTtcbiAgICAgICAgICAgIHZhciBtYVZhbCA9IHF1b3Rlc1tpXVtcIk1BIFwiLmNvbmNhdChzZC5uYW1lKV07XG4gICAgICAgICAgICBpZiAoKHZhbCB8fCB2YWwgPT09IDApICYmIChtYVZhbCB8fCBtYVZhbCA9PT0gMCkpIHF1b3Rlc1tpXVtcIlJlc3VsdCBcIi5jb25jYXQoc2QubmFtZSldID0gdmFsIC0gbWFWYWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8qKlxuICAgICAgICogb25seSBob21lIGJ1dHRvbiBjbGljayBwYXJ0IG1vZGlmaWVkIHRvIGF2b2lkIGNhbGxpbmdcbiAgICAgICAqIG5ld0NoYXJ0KCkgb24gaG9tZSBmdW5jdGlvbiB3aGlsZSBoaXN0b3JpY2FsIGVuYWJsZVxuICAgICAgICovXG5cbiAgICAgIENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUucmVnaXN0ZXJIVE1MRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjID0gdGhpcy5jaGFydC5jb250YWluZXI7XG5cbiAgICAgICAgZm9yICh2YXIgY29udHJvbCBpbiBDSVEuQ2hhcnRFbmdpbmUuaHRtbENvbnRyb2xzKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNoYXJ0W2NvbnRyb2xdID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdGhpcy5jb250cm9sc1tjb250cm9sXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd1pvb20gJiYgY29udHJvbCA9PT0gJ2NoYXJ0Q29udHJvbHMnKSBjb250aW51ZTtcbiAgICAgICAgICAgIHZhciBlbCA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KGNvbnRyb2wpLCBjKTtcblxuICAgICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICAgIHRoaXMuY2hhcnRbY29udHJvbF0gPSBlbDtcbiAgICAgICAgICAgICAgdGhpcy5jb250cm9sc1tjb250cm9sXSA9IGVsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIHJhd0hUTUwgPSBDSVEuQ2hhcnRFbmdpbmUuaHRtbENvbnRyb2xzW2NvbnRyb2xdO1xuICAgICAgICAgICAgICBpZiAoIXJhd0hUTUwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XG4gICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSByYXdIVE1MO1xuICAgICAgICAgICAgICBlbCA9IGRpdi5maXJzdENoaWxkO1xuICAgICAgICAgICAgICBjLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgdGhpcy5jaGFydFtjb250cm9sXSA9IGVsO1xuICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzW2NvbnRyb2xdID0gZWw7XG4gICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY29udHJvbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoYXJ0Q29udHJvbHMgPSB0aGlzLmNvbnRyb2xzLmNoYXJ0Q29udHJvbHMsXG4gICAgICAgICAgICBob21lID0gdGhpcy5jb250cm9scy5ob21lO1xuXG4gICAgICAgIGlmIChjaGFydENvbnRyb2xzKSB7XG4gICAgICAgICAgdmFyIHpvb21JbiA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zdHgtem9vbS1pbicsIGNoYXJ0Q29udHJvbHMpO1xuICAgICAgICAgIHZhciB6b29tT3V0ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnN0eC16b29tLW91dCcsIGNoYXJ0Q29udHJvbHMpO1xuICAgICAgICAgIENJUS5zYWZlQ2xpY2tUb3VjaCh6b29tSW4sIGZ1bmN0aW9uIChzZWxmKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgc2VsZi56b29tSW4oZSk7XG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0odGhpcykpO1xuICAgICAgICAgIENJUS5zYWZlQ2xpY2tUb3VjaCh6b29tT3V0LCBmdW5jdGlvbiAoc2VsZikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIHNlbGYuem9vbU91dChlKTtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSh0aGlzKSk7XG5cbiAgICAgICAgICBpZiAoIUNJUS50b3VjaERldmljZSkge1xuICAgICAgICAgICAgdGhpcy5tYWtlTW9kYWwoem9vbUluKTtcbiAgICAgICAgICAgIHRoaXMubWFrZU1vZGFsKHpvb21PdXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChob21lKSB7XG4gICAgICAgICAgQ0lRLnNhZmVDbGlja1RvdWNoKGhvbWUsIGZ1bmN0aW9uIChzZWxmKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgc2VsZi5ob21lKHtcbiAgICAgICAgICAgICAgICBhbmltYXRlOiB0cnVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KHRoaXMpKTtcblxuICAgICAgICAgIGlmICghQ0lRLnRvdWNoRGV2aWNlKSB7XG4gICAgICAgICAgICB0aGlzLm1ha2VNb2RhbChob21lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUuaG9tZSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5zd2lwZS5hbXBsaXR1ZGUgPSAwO1xuICAgICAgICB2YXIgbGF5b3V0ID0gdGhpcy5sYXlvdXQ7XG5cbiAgICAgICAgaWYgKF90eXBlb2YocGFyYW1zKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgICAgbWFpbnRhaW5XaGl0ZXNwYWNlOiBwYXJhbXNcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzZXRQYW5lbFpvb21zKHN0eCkge1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gc3R4LnBhbmVscykge1xuICAgICAgICAgICAgdmFyIHlBeGVzID0gc3R4LnBhbmVsc1twXS55YXhpc0xIUy5jb25jYXQoc3R4LnBhbmVsc1twXS55YXhpc1JIUyk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgeUF4ZXMubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgICAgICAgc3R4LmNhbGN1bGF0ZVlBeGlzTWFyZ2lucyh5QXhlc1thXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsVG9DYWxsYmFjayhzZWxmLCBjaGFydCwgZXhhY3RTY3JvbGwpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzZXRQYW5lbFpvb21zKHNlbGYpO1xuICAgICAgICAgICAgY2hhcnQuc2Nyb2xsID0gZXhhY3RTY3JvbGw7XG4gICAgICAgICAgICBzZWxmLmRyYXcoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMubWFpbnRhaW5XaGl0ZXNwYWNlID09PSAndW5kZWZpbmVkJykgcGFyYW1zLm1haW50YWluV2hpdGVzcGFjZSA9IHRydWU7IC8vIG1haW50YWluIHRoZSB3aGl0ZXNwYWNlIHVubGVzcyBzZXQgdG8gZmFsc2VcblxuICAgICAgICB0aGlzLmNhbmNlbFRvdWNoU2luZ2xlQ2xpY2sgPSB0cnVlO1xuXG4gICAgICAgIGlmICghdGhpcy5jaGFydC5kYXRhU2V0IHx8ICF0aGlzLmNoYXJ0LmRhdGFTZXQubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdG8gY2xlYXIgb3V0IGFueXRoaW5nIHRoYXQgbWF5IGhhdmUgYmVlbiBvbiB0aGUgc2NyZWVuLiBPdGhlcndpc2Ugd2Ugc3RpbGwgc2hvdyBzdGFsZSBkYXRhLlxuICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWljcm9waXhlbHMgPSAwO1xuICAgICAgICB2YXIgYmFyc0Rpc3BsYXllZE9uU2NyZWVuID0gTWF0aC5mbG9vcih0aGlzLmNoYXJ0LndpZHRoIC8gbGF5b3V0LmNhbmRsZVdpZHRoKTtcblxuICAgICAgICBmb3IgKHZhciBjaGFydE5hbWUgaW4gdGhpcy5jaGFydHMpIHtcbiAgICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLmNoYXJ0c1tjaGFydE5hbWVdO1xuICAgICAgICAgIGlmIChwYXJhbXMuY2hhcnQgJiYgcGFyYW1zLmNoYXJ0ICE9PSBjaGFydCkgY29udGludWU7XG4gICAgICAgICAgdmFyIHdoaXRlc3BhY2UgPSAwO1xuXG4gICAgICAgICAgaWYgKHBhcmFtcy5tYWludGFpbldoaXRlc3BhY2UgJiYgdGhpcy5wcmVmZXJlbmNlcy53aGl0ZXNwYWNlID49IDApIHtcbiAgICAgICAgICAgIHdoaXRlc3BhY2UgPSB0aGlzLnByZWZlcmVuY2VzLndoaXRlc3BhY2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhcmFtcy53aGl0ZXNwYWNlIHx8IHBhcmFtcy53aGl0ZXNwYWNlID09PSAwKSB3aGl0ZXNwYWNlID0gcGFyYW1zLndoaXRlc3BhY2U7XG4gICAgICAgICAgdmFyIGxlZnRNYXJnaW4gPSB0aGlzLmdldExhYmVsT2Zmc2V0SW5QaXhlbHMoY2hhcnQsIGxheW91dC5jaGFydFR5cGUpO1xuICAgICAgICAgIGlmIChsZWZ0TWFyZ2luID4gd2hpdGVzcGFjZSkgd2hpdGVzcGFjZSA9IGxlZnRNYXJnaW47XG4gICAgICAgICAgdmFyIGV4YWN0U2Nyb2xsID0gTWF0aC5taW4oYmFyc0Rpc3BsYXllZE9uU2NyZWVuLCBjaGFydC5kYXRhU2V0Lmxlbmd0aCk7IC8vIHRoZSBzY3JvbGwgbXVzdCBiZSB0aGUgbnVtYmVyIG9mIGJhcnMgeW91IHdhbnQgdG8gc2VlLlxuXG4gICAgICAgICAgaWYgKHRoaXMuY2hhcnQuYWxsb3dTY3JvbGxQYXN0KSBleGFjdFNjcm9sbCA9IGJhcnNEaXNwbGF5ZWRPblNjcmVlbjsgLy8gSWYgd2hpdGVzcGFjZSBhbGxvd2VkIG9uIGxlZnQgb2Ygc2NyZWVuXG5cbiAgICAgICAgICB0aGlzLm1pY3JvcGl4ZWxzID0gdGhpcy5jaGFydC53aWR0aCAtIGV4YWN0U2Nyb2xsICogbGF5b3V0LmNhbmRsZVdpZHRoIC0gd2hpdGVzcGFjZTtcbiAgICAgICAgICB0aGlzLnByZWZlcmVuY2VzLndoaXRlc3BhY2UgPSB3aGl0ZXNwYWNlO1xuXG4gICAgICAgICAgd2hpbGUgKHRoaXMubWljcm9waXhlbHMgPiBsYXlvdXQuY2FuZGxlV2lkdGgpIHtcbiAgICAgICAgICAgIC8vIElmIG1pY3JvcGl4ZWxzIGlzIGxhcmdlciB0aGFuIGEgY2FuZGxlIHRoZW4gc2Nyb2xsIGJhY2sgZnVydGhlclxuICAgICAgICAgICAgZXhhY3RTY3JvbGwrKztcbiAgICAgICAgICAgIHRoaXMubWljcm9waXhlbHMgLT0gbGF5b3V0LmNhbmRsZVdpZHRoO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdoaWxlICh0aGlzLm1pY3JvcGl4ZWxzIDwgMCkge1xuICAgICAgICAgICAgZXhhY3RTY3JvbGwtLTtcbiAgICAgICAgICAgIHRoaXMubWljcm9waXhlbHMgKz0gbGF5b3V0LmNhbmRsZVdpZHRoO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMubWljcm9waXhlbHMgLT0gbGF5b3V0LmNhbmRsZVdpZHRoO1xuICAgICAgICAgIGV4YWN0U2Nyb2xsKys7XG5cbiAgICAgICAgICBpZiAoIXRoaXMubWFpblNlcmllc1JlbmRlcmVyIHx8ICF0aGlzLm1haW5TZXJpZXNSZW5kZXJlci5zdGFuZGFsb25lQmFycykge1xuICAgICAgICAgICAgdGhpcy5taWNyb3BpeGVscyArPSBsYXlvdXQuY2FuZGxlV2lkdGggLyAyO1xuICAgICAgICAgIH0gLy8gYmFyIGNoYXJ0cyBkaXNwbGF5IGF0IGJlZ2lubmluZyBvZiBjYW5kbGVcblxuXG4gICAgICAgICAgaWYgKHRoaXMuaXNIaXN0b3JpY2FsTW9kZSgpICYmIF9zZWxmLmlzTW9iaWxlKSB7XG4gICAgICAgICAgICBleGFjdFNjcm9sbCA9IHBhcnNlSW50KGV4YWN0U2Nyb2xsICogMC44LCAxMCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNIaXN0b3JpY2FsTW9kZSgpKSB7XG4gICAgICAgICAgICBleGFjdFNjcm9sbCA9IHBhcnNlSW50KGV4YWN0U2Nyb2xsICogMC45LCAxMCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocGFyYW1zLmFuaW1hdGUpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG8oY2hhcnQsIGV4YWN0U2Nyb2xsLCBzY3JvbGxUb0NhbGxiYWNrKHNlbGYsIGNoYXJ0LCBleGFjdFNjcm9sbCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGFydC5zY3JvbGwgPSBleGFjdFNjcm9sbDtcbiAgICAgICAgICAgIHJlc2V0UGFuZWxab29tcyh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgIH07XG5cbiAgICAgIENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUuaXNIaXN0b3JpY2FsTW9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhX3NlbGYuc3RhdGVTdG9yZS5lbmRFcG9jaDtcbiAgICAgIH07XG5cbiAgICAgIENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUuZ2V0TmVhcmVzdENsb3NlUXVvdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfc2VsZi5jdXJyZW50Q2xvc2VRdW90ZSgpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5yb290Tm9kZSA9IHJvb3ROb2RlO1xuICAgICAgdGhpcy5jaGFydE5vZGUgPSB0aGlzLnJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5jaXEtY2hhcnQtYXJlYScpO1xuICAgICAgdGhpcy5jaGFydENvbnRyb2xzTm9kZSA9IHRoaXMucm9vdE5vZGUucXVlcnlTZWxlY3RvcignLmNxLWNoYXJ0LWNvbnRyb2xzJyk7XG5cbiAgICAgIENJUS5QbG90dGVyLnByb3RvdHlwZS5nZXRZQXhpc1dpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnlBeGlzd2lkdGg7XG4gICAgICB9OyAvLyBtb25rZXkgcGF0Y2hpbmcgdG8gaGFuZGxlIHJhZGl1cyBhbmQgaGVpZ2h0IGZvciBgY3VycmVudCBwcmljZSBsYWJlbGBcblxuXG4gICAgICBDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLmNyZWF0ZVlBeGlzTGFiZWwgPSBmdW5jdGlvbiAocGFuZWwsIHR4dCwgeSwgYmFja2dyb3VuZENvbG9yLCBjb2xvciwgY3R4LCB5QXhpcykge1xuICAgICAgICBpZiAocGFuZWwueUF4aXMuZHJhd1ByaWNlTGFiZWxzID09PSBmYWxzZSB8fCBwYW5lbC55QXhpcy5ub0RyYXcpIHJldHVybjtcbiAgICAgICAgdmFyIHlheCA9IHlBeGlzIHx8IHBhbmVsLnlBeGlzO1xuICAgICAgICBpZiAoeWF4Lm5vRHJhdyB8fCAheWF4LndpZHRoKSByZXR1cm47XG4gICAgICAgIHZhciBjb250ZXh0ID0gY3R4IHx8IHRoaXMuY2hhcnQuY29udGV4dDsgLy8gU21hcnRDaGFydCBUZWFtOiB0aGlzIHByb3AgbW9kaWZpZWRcblxuICAgICAgICB2YXIgbWFyZ2luID0gOTtcbiAgICAgICAgdmFyIGhlaWdodCA9IDI0O1xuICAgICAgICB2YXIgcmFkaXVzO1xuXG4gICAgICAgIGlmICh0aGlzLmxhYmVsVHlwZSA9PT0gJ2N1cnJlbnRTcG90Jykge1xuICAgICAgICAgIHRoaXMuY2FudmFzRm9udCgnc3R4X2N1cnJlbnRfaHJfdXAnLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNhbnZhc0ZvbnQoJ3N0eF9wcmljZV9sYWJlbCcsIGNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRpY2tXaWR0aCA9IHRoaXMuZHJhd0JvcmRlcnMgPyAzIDogMDsgLy8gcGl4ZWwgd2lkdGggb2YgdGljayBvZmYgZWRnZSBvZiBib3JkZXJcblxuICAgICAgICB2YXIgdGV4dFdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dCh0eHQpLndpZHRoO1xuICAgICAgICB2YXIgd2lkdGg7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAodGV4dFdpZHRoICsgbWFyZ2luID4geWF4LndpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHRleHRXaWR0aCArIHRpY2tXaWR0aCArIG1hcmdpbiAqIDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoID0geWF4LndpZHRoICsgbWFyZ2luO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHdpZHRoID0geWF4LndpZHRoO1xuICAgICAgICB9IC8vIEZpcmVmb3ggZG9lc24ndCBsaWtlIHRoaXMgaW4gaGlkZGVuIGlmcmFtZVxuICAgICAgICAvLyBzb21lIHktYXhpcyBsYWJlbCBoYXMgc3R5bGUgb2YgYHJvdW5kUmVjdEFycm93YCBhbmQgc29tZSBoYXMgYHJlY3RgLCB3ZSByZWR1Y2VcbiAgICAgICAgLy8gMTRweCB3aGljaCBpcyBhYm91dCB0aGUgYHJvdW5kUmVjdEFycm93YCBzdHlsZSBhcnJvdyB0byBtYWtlIHRoZSBsYWJlbCBhbGwgZml0XG5cblxuICAgICAgICB3aWR0aCAtPSAxNDtcblxuICAgICAgICBpZiAodGhpcy5jaGFydC55QXhpcy53aWR0aCA8IHdpZHRoKSB7XG4gICAgICAgICAgdGhpcy5jaGFydC55QXhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgIHRoaXMuY2FsY3VsYXRlWUF4aXNQb3NpdGlvbnMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aWR0aCA9IHRoaXMuY2hhcnQueUF4aXMud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeCA9IHRoaXMud2lkdGggLSB0aGlzLmNoYXJ0LnlBeGlzLndpZHRoO1xuICAgICAgICB2YXIgbGVmdCA9ICh3aWR0aCAtIHRleHRXaWR0aCkgLyAyO1xuICAgICAgICBpZiAoeWF4LndpZHRoIDwgMCkgeCArPSB5YXgud2lkdGggLSB3aWR0aDtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0geWF4LnBvc2l0aW9uID09PSBudWxsID8gcGFuZWwuY2hhcnQueUF4aXMucG9zaXRpb24gOiB5YXgucG9zaXRpb247XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICB3aWR0aCAqPSAtMTtcbiAgICAgICAgICBpZiAoeWF4LndpZHRoIDwgMCkgeCAtPSB5YXgud2lkdGggKyB3aWR0aDtcbiAgICAgICAgICByYWRpdXMgPSAtMztcbiAgICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdyaWdodCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeSArIGhlaWdodCAvIDIgPiB5YXguYm90dG9tKSB5ID0geWF4LmJvdHRvbSAtIGhlaWdodCAvIDI7XG4gICAgICAgIGlmICh5IC0gaGVpZ2h0IC8gMiA8IHlheC50b3ApIHkgPSB5YXgudG9wICsgaGVpZ2h0IC8gMjtcblxuICAgICAgICBpZiAodHlwZW9mIENJUVt0aGlzLnlheGlzTGFiZWxTdHlsZV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhpcy55YXhpc0xhYmVsU3R5bGUgPSAncm91bmRSZWN0QXJyb3cnOyAvLyBpbiBjYXNlIG9mIHVzZXIgZXJyb3IsIHNldCBhIGRlZmF1bHQuXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeWF4aXNMYWJlbFN0eWxlID0gdGhpcy55YXhpc0xhYmVsU3R5bGU7XG4gICAgICAgIGlmICh5YXgueWF4aXNMYWJlbFN0eWxlKSB5YXhpc0xhYmVsU3R5bGUgPSB5YXgueWF4aXNMYWJlbFN0eWxlOyAvLyBhcyBjcm9zc2hhaXIgYW5kIGNvdW50ZG93biBzdHlsZSBpcyBgcmVjdGAsIHNvIGR1ZSB0byBwcmV2aW91cyBydWxlIHdlIHNob3VsZFxuICAgICAgICAvLyBpbmNyZWFzZSB0aGVyZSB4IHBvc2l0aW9uIHRvIGZpdCB0aGUgeS1heGlzXG5cbiAgICAgICAgeCArPSAxO1xuXG4gICAgICAgIGlmICh0aGlzLmxhYmVsVHlwZSA9PT0gJ2N1cnJlbnRTcG90Jykge1xuICAgICAgICAgIHggKz0gMTM7XG4gICAgICAgICAgbGVmdCAtPSA4O1xuICAgICAgICAgIHJhZGl1cyA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5sYWJlbFR5cGUgPT09ICdjcm9zc2hhaXInKSB7XG4gICAgICAgICAgaGVpZ2h0ID0gMzA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgIGN0eDogY29udGV4dCxcbiAgICAgICAgICB4OiB4LFxuICAgICAgICAgIHk6IHksXG4gICAgICAgICAgdG9wOiB5IC0gaGVpZ2h0IC8gMixcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgcmFkaXVzOiByYWRpdXMsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgZmlsbDogdHJ1ZSxcbiAgICAgICAgICBzdHJva2U6IGZhbHNlLFxuICAgICAgICAgIG1hcmdpbjoge1xuICAgICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICAgIHRvcDogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHh0OiB0eHQsXG4gICAgICAgICAgY29sb3I6IGNvbG9yXG4gICAgICAgIH07XG4gICAgICAgIENJUVt5YXhpc0xhYmVsU3R5bGVdKHBhcmFtcyk7XG4gICAgICB9O1xuXG4gICAgICBDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLmRpc3BsYXlTdGlja3kgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIHZhciBtID0gdGhpcy5jb250cm9scy5tU3RpY2t5O1xuICAgICAgICBpZiAoIW0pIHJldHVybjtcbiAgICAgICAgdmFyIG1pID0gbS5xdWVyeVNlbGVjdG9yKCcubVN0aWNreUludGVyaW9yJyk7XG4gICAgICAgIGlmICghbWkpIHJldHVybjtcbiAgICAgICAgdmFyIG92ZXJsYXlUcmFzaENhbiA9IG0ucXVlcnlTZWxlY3RvcignLm92ZXJsYXlUcmFzaENhbicpO1xuICAgICAgICB2YXIgb3ZlcmxheUVkaXQgPSBtLnF1ZXJ5U2VsZWN0b3IoJy5vdmVybGF5RWRpdCcpO1xuICAgICAgICB2YXIgbW91c2VEZWxldGVJbnN0cnVjdGlvbnMgPSBtLnF1ZXJ5U2VsZWN0b3IoJy5tb3VzZURlbGV0ZUluc3RydWN0aW9ucycpO1xuICAgICAgICB2YXIgbG9uZ1ByZXNzVGV4dCA9IG0ucXVlcnlTZWxlY3RvcignLnN0aWNreUxvbmdQcmVzc1RleHQnKTtcbiAgICAgICAgbW91c2VEZWxldGVJbnN0cnVjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSgnbm9fZWRpdCcpOyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eTpcblxuICAgICAgICBpZiAoIXBhcmFtcyB8fCBfdHlwZW9mKHBhcmFtcykgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgICAgbWVzc2FnZTogYXJndW1lbnRzWzBdLFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIGZvcmNlU2hvdzogYXJndW1lbnRzWzJdLFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIG5vRGVsZXRlOiBhcmd1bWVudHNbM10sXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgdHlwZTogYXJndW1lbnRzWzRdIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG5cbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBwYXJhbXMubWVzc2FnZSxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IHBhcmFtcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHZhciB0eXBlID0gcGFyYW1zLnR5cGUsXG4gICAgICAgICAgICBub0VkaXQgPSBwYXJhbXMubm9FZGl0LFxuICAgICAgICAgICAgZm9yY2VTaG93ID0gcGFyYW1zLmZvcmNlU2hvdyxcbiAgICAgICAgICAgIG5vRGVsZXRlID0gcGFyYW1zLm5vRGVsZXRlO1xuXG4gICAgICAgIGlmICghZm9yY2VTaG93ICYmICFtZXNzYWdlKSB7XG4gICAgICAgICAgbWkuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIGlmIChvdmVybGF5VHJhc2hDYW4pIG92ZXJsYXlUcmFzaENhbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIGlmIChvdmVybGF5RWRpdCkgb3ZlcmxheUVkaXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICBpZiAobW91c2VEZWxldGVJbnN0cnVjdGlvbnMpIG1vdXNlRGVsZXRlSW5zdHJ1Y3Rpb25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgaWYgKGxvbmdQcmVzc1RleHQpIGxvbmdQcmVzc1RleHQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIW1lc3NhZ2UpIG1lc3NhZ2UgPSAnJztcbiAgICAgICAgICBpZiAoYmFja2dyb3VuZENvbG9yID09PSAnYXV0bycpIGJhY2tncm91bmRDb2xvciA9IHRoaXMuZGVmYXVsdENvbG9yO1xuXG4gICAgICAgICAgaWYgKGZvcmNlU2hvdyAmJiAhbWVzc2FnZSkge1xuICAgICAgICAgICAgbWkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7XG4gICAgICAgICAgICBtaS5zdHlsZS5jb2xvciA9ICcnO1xuICAgICAgICAgICAgbWkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICB9IGVsc2UgaWYgKGJhY2tncm91bmRDb2xvcikge1xuICAgICAgICAgICAgbWkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgbWkuc3R5bGUuY29sb3IgPSBDSVEuY2hvb3NlRm9yZWdyb3VuZENvbG9yKGJhY2tncm91bmRDb2xvcik7XG4gICAgICAgICAgICBtaS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1pLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICAgICAgICAgICAgbWkuc3R5bGUuY29sb3IgPSAnJztcbiAgICAgICAgICAgIG1pLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgICB9IC8vIFRoaXMgbGluZSBvbnkgY2hhbmdlZFxuXG5cbiAgICAgICAgICB2YXIgbmFtZU9iaiA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcInByZXBhcmVJbmRpY2F0b3JOYW1lXCJdKShtZXNzYWdlKTtcbiAgICAgICAgICBtaS5pbm5lckhUTUwgPSBuYW1lT2JqLmJhcnMgPyBcIlwiLmNvbmNhdChuYW1lT2JqLm5hbWUsIFwiIChcIikuY29uY2F0KG5hbWVPYmouYmFycywgXCIpXCIpIDogbmFtZU9iai5uYW1lO1xuICAgICAgICAgIHZhciBydENsaWNrID0gbS5xdWVyeVNlbGVjdG9yKCcubVN0aWNreVJpZ2h0Q2xpY2snKTtcbiAgICAgICAgICBydENsaWNrLmNsYXNzTmFtZSA9ICdtU3RpY2t5UmlnaHRDbGljayc7IC8vIHJlc2V0XG5cbiAgICAgICAgICBpZiAodHlwZSkgcnRDbGljay5jbGFzc0xpc3QuYWRkKFwicmlnaHRjbGlja19cIi5jb25jYXQodHlwZSkpO1xuICAgICAgICAgIHJ0Q2xpY2suc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgIG0uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuXG4gICAgICAgICAgaWYgKG5vRGVsZXRlIHx8IHRoaXMuYnlwYXNzUmlnaHRDbGljayA9PT0gdHJ1ZSB8fCB0aGlzLmJ5cGFzc1JpZ2h0Q2xpY2tbdHlwZV0pIHtcbiAgICAgICAgICAgIHJ0Q2xpY2suc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaGlnaGxpZ2h0VmlhVGFwIHx8IHRoaXMudG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChvdmVybGF5VHJhc2hDYW4pIG92ZXJsYXlUcmFzaENhbi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgICAgICBpZiAob3ZlcmxheUVkaXQgJiYgIW5vRWRpdCkgb3ZlcmxheUVkaXQuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICAgICAgaWYgKG1vdXNlRGVsZXRlSW5zdHJ1Y3Rpb25zKSBtb3VzZURlbGV0ZUluc3RydWN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgaWYgKGxvbmdQcmVzc1RleHQpIGxvbmdQcmVzc1RleHQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIENJUVtcIlwiLmNvbmNhdChtZXNzYWdlID09PSAnJyA/ICcnIDogJ3VuJywgXCJhcHBlbmRDbGFzc05hbWVcIildKG0sICdoaWRlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChub0VkaXQpIG1vdXNlRGVsZXRlSW5zdHJ1Y3Rpb25zLmNsYXNzTGlzdC5hZGQoJ25vX2VkaXQnKTtcbiAgICAgICAgICAgIGlmIChtb3VzZURlbGV0ZUluc3RydWN0aW9ucykgbW91c2VEZWxldGVJbnN0cnVjdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICAgIGlmIChsb25nUHJlc3NUZXh0KSB7XG4gICAgICAgICAgICAgIGxvbmdQcmVzc1RleHQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgdmFyIGRyYWcgPSB0aGlzLnByZWZlcmVuY2VzLmRyYWdnaW5nO1xuXG4gICAgICAgICAgICAgIGlmIChkcmFnICYmIHBhcmFtcy5wYW5lbCAmJiAhcGFyYW1zLnBhbmVsLm5vRHJhZykge1xuICAgICAgICAgICAgICAgIGlmICgoZHJhZyA9PT0gdHJ1ZSB8fCBkcmFnLnN0dWR5KSAmJiB0eXBlID09PSAnc3R1ZHknKSB7XG4gICAgICAgICAgICAgICAgICBsb25nUHJlc3NUZXh0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGRyYWcgPT09IHRydWUgfHwgZHJhZy5zZXJpZXMpICYmIHR5cGUgPT09ICdzZXJpZXMnKSB7XG4gICAgICAgICAgICAgICAgICBsb25nUHJlc3NUZXh0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMucG9zaXRpb25TdGlja3kobSk7XG4gICAgICAgIH1cbiAgICAgIH07IC8vIEluIHNvbWUgY2FzZXMgd2UgZmFjZWQgc29tZSBjYXNlcyB0aGF0IGNvbG9yMSBvciBjb2xvcjIgZ2V0IHVuZGVmaW5lZFxuICAgICAgLy8gYW5kIHRoaXMgY2F1c2UgdGhlIGFwcGxpY2F0aW9uIHRvIGNyYXNoLCBhcyBhIHJlc3VsdCwgd2Ugd2Ugc2V0IGJlbG93XG4gICAgICAvLyBjb25kaXRpb24gdG8gc2xpZW50IHRoYXQgZXJyb3JcblxuXG4gICAgICBDSVEuY29sb3JzRXF1YWwgPSBmdW5jdGlvbiAoY29sb3IxLCBjb2xvcjIpIHtcbiAgICAgICAgaWYgKCFjb2xvcjIgfHwgIWNvbG9yMSB8fCB0eXBlb2YgY29sb3IxICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgY29sb3IyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSAvLyBNb2RpZmllZCBieSBTbWFydENoYXJ0IHRlYW1cblxuXG4gICAgICAgIGlmIChjb2xvcjEgPT09IGNvbG9yMikgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICghY29sb3IxICYmICFjb2xvcjIpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoIWNvbG9yMSB8fCAhY29sb3IyKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjb2xvcjEgPT09ICd0cmFuc3BhcmVudCcpIGNvbG9yMSA9ICdyZ2JhKDAsMCwwLDApJztcbiAgICAgICAgaWYgKGNvbG9yMiA9PT0gJ3RyYW5zcGFyZW50JykgY29sb3IyID0gJ3JnYmEoMCwwLDAsMCknO1xuICAgICAgICB2YXIgYWxwaGEgPSAvXnJnYmFcXCguKiwoLispXFwpLztcbiAgICAgICAgdmFyIHJnYmExID0gY29sb3IxLm1hdGNoKGFscGhhKTtcbiAgICAgICAgdmFyIHJnYmEyID0gY29sb3IyLm1hdGNoKGFscGhhKTtcbiAgICAgICAgcmdiYTEgPSByZ2JhMSA/IHBhcnNlRmxvYXQocmdiYTFbMV0pIDogMTtcbiAgICAgICAgcmdiYTIgPSByZ2JhMiA/IHBhcnNlRmxvYXQocmdiYTJbMV0pIDogMTtcbiAgICAgICAgaWYgKHJnYmExICE9PSByZ2JhMikgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgZmlyc3QgPSBDSVEuY29sb3JUb0hleChjb2xvcjEpO1xuICAgICAgICB2YXIgc2Vjb25kID0gQ0lRLmNvbG9yVG9IZXgoY29sb3IyKTtcbiAgICAgICAgcmV0dXJuIGZpcnN0LnRvTG93ZXJDYXNlKCkgPT09IHNlY29uZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHN5bWJvbCA9IHByb3BzLnN5bWJvbCxcbiAgICAgICAgICBjaGFydFR5cGUgPSBwcm9wcy5jaGFydFR5cGUsXG4gICAgICAgICAgZ3JhbnVsYXJpdHkgPSBwcm9wcy5ncmFudWxhcml0eSxcbiAgICAgICAgICByZXF1ZXN0QVBJID0gcHJvcHMucmVxdWVzdEFQSSxcbiAgICAgICAgICByZXF1ZXN0U3Vic2NyaWJlID0gcHJvcHMucmVxdWVzdFN1YnNjcmliZSxcbiAgICAgICAgICByZXF1ZXN0Rm9yZ2V0ID0gcHJvcHMucmVxdWVzdEZvcmdldCxcbiAgICAgICAgICByZXF1ZXN0Rm9yZ2V0U3RyZWFtID0gcHJvcHMucmVxdWVzdEZvcmdldFN0cmVhbSxcbiAgICAgICAgICBpc01vYmlsZSA9IHByb3BzLmlzTW9iaWxlLFxuICAgICAgICAgIGVuYWJsZVJvdXRpbmcgPSBwcm9wcy5lbmFibGVSb3V0aW5nLFxuICAgICAgICAgIG9uTWVzc2FnZSA9IHByb3BzLm9uTWVzc2FnZSxcbiAgICAgICAgICBzZXR0aW5ncyA9IHByb3BzLnNldHRpbmdzLFxuICAgICAgICAgIG9uU2V0dGluZ3NDaGFuZ2UgPSBwcm9wcy5vblNldHRpbmdzQ2hhbmdlLFxuICAgICAgICAgIGdldE1hcmtldHNPcmRlciA9IHByb3BzLmdldE1hcmtldHNPcmRlcixcbiAgICAgICAgICBpbml0aWFsRGF0YSA9IHByb3BzLmluaXRpYWxEYXRhLFxuICAgICAgICAgIGZlZWRDYWxsID0gcHJvcHMuZmVlZENhbGw7XG4gICAgICB0aGlzLmZlZWRDYWxsID0gZmVlZENhbGwgfHwge307XG4gICAgICB0aGlzLmFwaSA9IG5ldyBfYmluYXJ5YXBpX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJCaW5hcnlBUElcIl0ocmVxdWVzdEFQSSwgcmVxdWVzdFN1YnNjcmliZSwgcmVxdWVzdEZvcmdldCwgcmVxdWVzdEZvcmdldFN0cmVhbSk7IC8vIHRyYWRpbmcgdGltZXMgYW5kIGFjdGl2ZSBzeW1ib2xzIGNhbiBiZSByZXVzZWQgYWNyb3NzIG11bHRpcGxlIGNoYXJ0c1xuXG4gICAgICB0aGlzLnRyYWRpbmdUaW1lcyA9IENoYXJ0U3RvcmUudHJhZGluZ1RpbWVzIHx8IChDaGFydFN0b3JlLnRyYWRpbmdUaW1lcyA9IG5ldyBfYmluYXJ5YXBpX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJUcmFkaW5nVGltZXNcIl0odGhpcy5hcGksIHtcbiAgICAgICAgZW5hYmxlOiB0aGlzLmZlZWRDYWxsLnRyYWRpbmdUaW1lcyxcbiAgICAgICAgc2hvdWxkRmV0Y2hUcmFkaW5nVGltZXM6IHRoaXMubWFpblN0b3JlLnN0YXRlLnNob3VsZEZldGNoVHJhZGluZ1RpbWVzLFxuICAgICAgICBpbml0aWFsRGF0YTogaW5pdGlhbERhdGEgPT09IG51bGwgfHwgaW5pdGlhbERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxEYXRhLnRyYWRpbmdUaW1lc1xuICAgICAgfSkpO1xuICAgICAgdGhpcy5hY3RpdmVTeW1ib2xzID0gQ2hhcnRTdG9yZS5hY3RpdmVTeW1ib2xzIHx8IChDaGFydFN0b3JlLmFjdGl2ZVN5bWJvbHMgPSBuZXcgX2JpbmFyeWFwaV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiQWN0aXZlU3ltYm9sc1wiXSh0aGlzLmFwaSwgdGhpcy50cmFkaW5nVGltZXMsIHtcbiAgICAgICAgZW5hYmxlOiB0aGlzLmZlZWRDYWxsLmFjdGl2ZVN5bWJvbHMsXG4gICAgICAgIGdldE1hcmtldHNPcmRlcjogZ2V0TWFya2V0c09yZGVyLFxuICAgICAgICBpbml0aWFsRGF0YTogaW5pdGlhbERhdGEgPT09IG51bGwgfHwgaW5pdGlhbERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxEYXRhLmFjdGl2ZVN5bWJvbHNcbiAgICAgIH0pKTtcbiAgICAgIHZhciBjaGFydFNldHRpbmcgPSB0aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmc7XG4gICAgICBjaGFydFNldHRpbmcuc2V0U2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgY2hhcnRTZXR0aW5nLm9uU2V0dGluZ3NDaGFuZ2UgPSBvblNldHRpbmdzQ2hhbmdlO1xuICAgICAgdGhpcy5pc01vYmlsZSA9IGlzTW9iaWxlO1xuICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMubWFpblN0b3JlLnN0YXRlO1xuICAgICAgdGhpcy5tYWluU3RvcmUubm90aWZpZXIub25NZXNzYWdlID0gb25NZXNzYWdlO1xuICAgICAgdGhpcy5ncmFudWxhcml0eSA9IGdyYW51bGFyaXR5ICE9PSB1bmRlZmluZWQgPyBncmFudWxhcml0eSA6IHRoaXMuZGVmYXVsdHMuZ3JhbnVsYXJpdHk7XG4gICAgICB2YXIgZW5naW5lUGFyYW1zID0ge1xuICAgICAgICBtYXhNYXN0ZXJEYXRhU2l6ZTogdGhpcy5nZXRNYXhNYXN0ZXJEYXRhU2l6ZSh0aGlzLmdyYW51bGFyaXR5KSxcbiAgICAgICAgLy8gY2FwIHNpemUgc28gdGlja19oaXN0b3J5IHJlcXVlc3RzIGRvIG5vdCBiZWNvbWUgdG9vIGxhcmdlXG4gICAgICAgIG1hcmtlckRlbGF5OiBudWxsLFxuICAgICAgICAvLyBkaXNhYmxlIDI1bXMgZGVsYXkgZm9yIHBsYWNlbWVudCBvZiBtYXJrZXJzXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5yb290Tm9kZS5xdWVyeVNlbGVjdG9yKCcuY2hhcnRDb250YWluZXInKSxcbiAgICAgICAgY29udHJvbHM6IHtcbiAgICAgICAgICBjaGFydENvbnRyb2xzOiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIC8vIGhpZGUgdGhlIGRlZmF1bHQgem9vbSBidXR0b25zXG4gICAgICAgIHlheGlzTGFiZWxTdHlsZTogJ3JvdW5kUmVjdCcsXG4gICAgICAgIHByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgY3VycmVudFByaWNlTGluZTogdHJ1ZSxcbiAgICAgICAgICB3aGl0ZXNwYWNlOiBpc01vYmlsZSA/IDUwIDogMTUwXG4gICAgICAgIH0sXG4gICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgeUF4aXM6IHtcbiAgICAgICAgICAgIC8vIFB1dCBzb21lIHRvcCBtYXJnaW4gc28gY2hhcnQgZG9lc24ndCBnZXQgYmxvY2tlZCBieSBjaGFydCB0aXRsZVxuICAgICAgICAgICAgaW5pdGlhbE1hcmdpblRvcDogdGhpcy5zdGF0ZVN0b3JlLnlBeGlzTWFyZ2luLnRvcCxcbiAgICAgICAgICAgIGluaXRpYWxNYXJnaW5Cb3R0b206IHRoaXMuc3RhdGVTdG9yZS55QXhpc01hcmdpbi5ib3R0b20sXG4gICAgICAgICAgICAvLyBwb3NpdGlvbjogJ2xlZnQnLFxuICAgICAgICAgICAgZGlzcGxheUJvcmRlcjogdHJ1ZSxcbiAgICAgICAgICAgIGp1c3RpZnlSaWdodDogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIHhBeGlzOiB7XG4gICAgICAgICAgICBkaXNwbGF5Qm9yZGVyOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBnYXBsaW5lczogdHJ1ZSxcbiAgICAgICAgICBkeW5hbWljWUF4aXM6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbWluaW11bUxlZnRCYXJzOiB0aGlzLmRlZmF1bHRNaW5pbXVtQmFycyxcbiAgICAgICAgeVRvbGVyYW5jZTogOTk5OTk5IC8vIGRpc2FibGUgdmVydGljYWwgc2Nyb2xsaW5nXG5cbiAgICAgIH07XG4gICAgICB2YXIgY2hhcnRMYXlvdXQgPSB7XG4gICAgICAgIGNoYXJ0VHlwZTogY2hhcnRUeXBlIHx8IHRoaXMuZGVmYXVsdHMuY2hhcnRUeXBlXG4gICAgICB9O1xuXG4gICAgICBpZiAoY2hhcnRMYXlvdXQuY2hhcnRUeXBlID09PSAnc3BsaW5lJykge1xuICAgICAgICAvLyBjYXVzZSB0aGVyZSdzIG5vIHN1Y2ggdGhpbmcgYXMgc3BsaW5lIGNoYXJ0IGluIENoYXJ0SVFcbiAgICAgICAgY2hhcnRMYXlvdXQuY2hhcnRUeXBlID0gJ21vdW50YWluJztcbiAgICAgICAgZW5naW5lUGFyYW1zLmNoYXJ0LnRlbnNpb24gPSBjaGFydExheW91dC50ZW5zaW9uID0gMC41O1xuICAgICAgfVxuXG4gICAgICB2YXIgcmFuZ2VTcGFuID0gdGhpcy5nZXRSYW5nZVNwYW4oKTtcblxuICAgICAgaWYgKHJhbmdlU3Bhbikge1xuICAgICAgICBjaGFydExheW91dCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY2hhcnRMYXlvdXQpLCByYW5nZVNwYW4pO1xuICAgICAgfVxuXG4gICAgICBlbmdpbmVQYXJhbXMubGF5b3V0ID0gY2hhcnRMYXlvdXQ7XG4gICAgICB2YXIgc3R4eCA9IHRoaXMuc3R4eCA9IG5ldyBDSVEuQ2hhcnRFbmdpbmUoZW5naW5lUGFyYW1zKTsgLy8gVE9ETyB0aGlzIHBhcnQgb2YgdGhlIGNvZGUgcHJldmVudCB0aGUgY2hhcnQgdG8gZ28gdG8gaG9tZSBhZnRlciByZWZyZXNoaW5nIHRoZSBwYWdlIHdoZW4gdGhlIGNoYXJ0IHdhcyB6b29tZWQgaW4gYmVmb3JlLlxuICAgICAgLy8gbGV0IGRlZmF1bHRNaW5pbXVtQmFycyA9IHRoaXMuZGVmYXVsdE1pbmltdW1CYXJzO1xuICAgICAgLy8gaWYgKHN0eHguY2hhcnQubWF4VGlja3MgLSAxMCA+IDUwKSB7XG4gICAgICAvLyAgICAgZGVmYXVsdE1pbmltdW1CYXJzID0gNTA7XG4gICAgICAvLyB9XG4gICAgICAvLyBzdHh4Lm1pbmltdW1MZWZ0QmFycyA9IE1hdGgubWluKHN0eHguY2hhcnQubWF4VGlja3MsIGRlZmF1bHRNaW5pbXVtQmFycyk7XG4gICAgICAvLyBtYWNvcyB0cmFja3BhZCBpcyBzbyBzZW5zaXRpdmUgdGhhdCBpdCdsbCBicmVhayBvdXIgem9vbSBhbmltYXRpb24uXG4gICAgICAvLyB1bmZvcnR1bmF0ZWx5IHRoZXJlIGlzIG5vIHdheSB0byBkZXRlY3QgYSB0cmFja3BhZCBmcm9tIGphdmFzY3JpcHQsXG4gICAgICAvLyBoZXJlIHdlIGRyb3AgJ3doZWVsJyBldmVudHMgc2hvcnRlciB0aGF0IDQwbXNcbiAgICAgIC8vIFRPRE86IGVtYWlsIGNoYXJ0aXEgc3VwcG9ydCB0byBmaXggdGhpcy5cblxuICAgICAgdmFyIG9yZ19ydW4gPSBzdHh4LmFuaW1hdGlvbnMuem9vbS5ydW4uYmluZChzdHh4LmFuaW1hdGlvbnMuem9vbSk7XG4gICAgICB2YXIgd2hlZWxJbk1vdGlvbiA9IGZhbHNlO1xuXG4gICAgICBzdHh4LmFuaW1hdGlvbnMuem9vbS5ydW4gPSBmdW5jdGlvbiAoZmMsIHN0YXJ0VmFsdWVzLCBlbmRWYWx1ZXMpIHtcbiAgICAgICAgaWYgKHdoZWVsSW5Nb3Rpb24pIHJldHVybjtcbiAgICAgICAgd2hlZWxJbk1vdGlvbiA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHdoZWVsSW5Nb3Rpb24gPSBmYWxzZTtcbiAgICAgICAgfSwgNDApO1xuICAgICAgICByZXR1cm4gb3JnX3J1bihmYywgc3RhcnRWYWx1ZXMsIGVuZFZhbHVlcyk7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBXZSBnb3QgdGhlIGVycm9yIG9mIGBDYW5ub3QgcmVhZCBwcm9wZXJ0eSAndDInIG9mIHVuZGVmaW5lZGBcbiAgICAgICAqIHRoYXQgd2UgY291bid0IHJlcHJvZHVjZSBhbmQgYWZ0ZXIgY29udGFjdGluZyBDaGFydElRIHN1cHBvcnRcbiAgICAgICAqIHdlIHN0aWxsIGNvdWxkbid0IGRldGVybWluZCB3aHkgdGhpcyBpc3N1ZSBoYXBwZW4sIGFzIGEgcmVzdWx0XG4gICAgICAgKiB0aGlzIHBlaWNlIG9mIGNvZGUgaXMgdG8gbWFrZXMgdGhhdCBlcnJvciBzbGllbnQuXG4gICAgICAgKi9cblxuXG4gICAgICBzdHh4LnByZXBlbmQoJ3RvdWNobW92ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JhYlN0YXJ0VmFsdWVzICYmIHRoaXMuZ3JhYlN0YXJ0VmFsdWVzLnQyICYmIHRoaXMuZ3JhYlN0YXJ0VmFsdWVzLnQxKSByZXR1cm4gZmFsc2U7IC8vIGNvbnRpbnVlXG5cbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIGV4aXRcbiAgICAgIH0pO1xuICAgICAgc3R4eC5pc0F1dG9TY2FsZSA9IHNldHRpbmdzICYmIHNldHRpbmdzLmlzQXV0b1NjYWxlICE9PSBmYWxzZTtcbiAgICAgIENoYXJ0U3RvcmUuY2hhcnRDb3VudCArPSAxO1xuICAgICAgdmFyIGRlbGV0ZUVsZW1lbnQgPSBzdHh4LmNoYXJ0LnBhbmVsLmhvbGRlci5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb3VzZURlbGV0ZVRleHQnKTtcbiAgICAgIHZhciBtYW5hZ2VFbGVtZW50ID0gc3R4eC5jaGFydC5wYW5lbC5ob2xkZXIucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubW91c2VNYW5hZ2VUZXh0Jyk7XG4gICAgICBkZWxldGVFbGVtZW50LnRleHRDb250ZW50ID0gdC50cmFuc2xhdGUoJ1JpZ2h0IGNsaWNrIHRvIGRlbGV0ZScpO1xuICAgICAgbWFuYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IHQudHJhbnNsYXRlKCdSaWdodCBjbGljayB0byBtYW5hZ2UnKTtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQW5pbWF0aW9uRW5hYmxlZCkgT2JqZWN0KF9jb21wb25lbnRzX3VpX0FuaW1hdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSkoc3R4eCwge1xuICAgICAgICBzdGF5UHV0OiB0cnVlXG4gICAgICB9KTsgLy8gc3R4eC5jaGFydC5sb2NrU2Nyb2xsID0gdHJ1ZTtcbiAgICAgIC8vIGNvbm5lY3QgY2hhcnQgdG8gZGF0YVxuXG4gICAgICB0aGlzLmZlZWQgPSBuZXcgX2ZlZWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcIkZlZWRcIl0odGhpcy5hcGksIHN0eHgsIHRoaXMubWFpblN0b3JlLCB0aGlzLnRyYWRpbmdUaW1lcyk7XG4gICAgICBzdHh4LmF0dGFjaFF1b3RlRmVlZCh0aGlzLmZlZWQsIHtcbiAgICAgICAgcmVmcmVzaEludGVydmFsOiBudWxsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZW5hYmxlUm91dGluZyA9IGVuYWJsZVJvdXRpbmc7XG5cbiAgICAgIGlmICh0aGlzLmVuYWJsZVJvdXRpbmcpIHtcbiAgICAgICAgdGhpcy5yb3V0aW5nU3RvcmUuaGFuZGxlUm91dGluZygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhvbGRlclN0eWxlID0gc3R4eC5jaGFydC5wYW5lbC5ob2xkZXIuc3R5bGU7XG4gICAgICB2YXIgY29udGV4dCA9IG5ldyBfY29tcG9uZW50c191aV9Db250ZXh0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKHN0eHgsIHRoaXMucm9vdE5vZGUpOyAvLyBvbmx5IG9uZSBpbnN0YW5jZSBvZiBrZXlzdHJva2VIdWIgc2hvdWxkIGV4aXN0XG5cbiAgICAgIGlmIChDaGFydFN0b3JlLmtleXN0cm9rZUh1YiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIENoYXJ0U3RvcmUua2V5c3Ryb2tlSHViID0gbmV3IF9jb21wb25lbnRzX3VpX0tleXN0cm9rZUh1Yl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXShkb2N1bWVudC5ib2R5LCBudWxsLCB7XG4gICAgICAgICAgY2I6IF9jb21wb25lbnRzX3VpX0tleXN0cm9rZUh1Yl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXS5kZWZhdWx0SG90S2V5c1xuICAgICAgICB9KTtcbiAgICAgIH0gLy8gVE9ETzogZXhjbHVkZWQgc3R1ZGllc1xuXG5cbiAgICAgIHN0eHguYWRkRXZlbnRMaXN0ZW5lcignc3R1ZHlPdmVybGF5RWRpdCcsIHRoaXMuc3R1ZGllc1N0b3JlLmVkaXRTdHVkeSk7XG4gICAgICBzdHh4LmFkZEV2ZW50TGlzdGVuZXIoJ3N0dWR5UGFuZWxFZGl0JywgdGhpcy5zdHVkaWVzU3RvcmUuZWRpdFN0dWR5KTtcbiAgICAgIHRoaXMuc3RhdGVTdG9yZS5zdGF0ZUNoYW5nZShfQ29uc3RhbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19bXCJTVEFURVwiXS5JTklUSUFMKTtcbiAgICAgIHRoaXMubG9hZGVyLnNldFN0YXRlKCdtYXJrZXQtc3ltYm9sJyk7XG4gICAgICB0aGlzLmFjdGl2ZVN5bWJvbHMucmV0cmlldmVBY3RpdmVTeW1ib2xzKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi5sb2FkZXIuc2V0U3RhdGUoJ3RyYWRpbmctdGltZScpO1xuXG4gICAgICAgIF90aGlzMi50cmFkaW5nVGltZXMuaW5pdGlhbGl6ZSgpLnRoZW4oT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIEluIHRoZSBvZGQgZXZlbnQgdGhhdCBjaGFydCBpcyBkZXN0cm95ZWQgYnkgdGhlIHRpbWVcbiAgICAgICAgICAvLyB0aGUgcmVxdWVzdCBmaW5pc2hlcywganVzdCBjYWxtbHkgcmV0dXJuLi4uXG4gICAgICAgICAgaWYgKHN0eHguaXNEZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgaXNSZXN0b3JlU3VjY2VzcyA9IF90aGlzMi5zdGF0ZS5yZXN0b3JlTGF5b3V0KCk7XG5cbiAgICAgICAgICBfdGhpczIubG9hZENoYXJ0V2l0aEluaXRhbERhdGEoc3ltYm9sLCBpbml0aWFsRGF0YSA9PT0gbnVsbCB8fCBpbml0aWFsRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbERhdGEubWFzdGVyRGF0YSk7XG5cbiAgICAgICAgICBpZiAoIWlzUmVzdG9yZVN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIF90aGlzMi5jaGFuZ2VTeW1ib2woIC8vIGRlZmF1bHQgdG8gZmlyc3QgYXZhaWxhYmxlIHN5bWJvbFxuICAgICAgICAgICAgc3ltYm9sIHx8IE9iamVjdC5rZXlzKF90aGlzMi5hY3RpdmVTeW1ib2xzLnN5bWJvbE1hcClbMF0sIF90aGlzMi5ncmFudWxhcml0eSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMyLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgICAgICAgX3RoaXMyLmNoYXJ0Q2xvc2VkT3BlblRoZW1lQ2hhbmdlKCFfdGhpczIuY3VycmVudEFjdGl2ZVN5bWJvbC5leGNoYW5nZV9pc19vcGVuKTtcblxuICAgICAgICAgIF90aGlzMi5tYWluU3RvcmUuY2hhcnQudHJhZGluZ1RpbWVzLm9uTWFya2V0T3BlbkNsb3NlQ2hhbmdlZChPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdKShmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgc3kgaW4gY2hhbmdlcykge1xuICAgICAgICAgICAgICBpZiAoX3RoaXMyLmN1cnJlbnRBY3RpdmVTeW1ib2wuc3ltYm9sID09PSBzeSkge1xuICAgICAgICAgICAgICAgIF90aGlzMi5jaGFydENsb3NlZE9wZW5UaGVtZUNoYW5nZSghY2hhbmdlc1tzeV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgc3R4eC5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIF90aGlzMi5vbk1vdXNlRW50ZXIpO1xuICAgICAgICAgIHN0eHguY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBfdGhpczIub25Nb3VzZUxlYXZlKTtcblxuICAgICAgICAgIF90aGlzMi5jb250ZXh0UHJvbWlzZS5yZXNvbHZlKF90aGlzMi5jb250ZXh0KTtcblxuICAgICAgICAgIF90aGlzMi5yZXNpemVTY3JlZW4oKTtcblxuICAgICAgICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFtfdGhpczIuc3RhdGUuc3ltYm9sLCBfdGhpczIuc3RhdGUuZ3JhbnVsYXJpdHldO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpczIuc3RhdGUuc3ltYm9sICE9PSB1bmRlZmluZWQgfHwgX3RoaXMyLnN0YXRlLmdyYW51bGFyaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLmNoYW5nZVN5bWJvbChfdGhpczIuc3RhdGUuc3ltYm9sLCBfdGhpczIuc3RhdGUuZ3JhbnVsYXJpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX3RoaXMyLnRyYWRpbmdUaW1lcy5vbk1hcmtldE9wZW5DbG9zZUNoYW5nZWQoX3RoaXMyLm9uTWFya2V0T3BlbkNsb3NlZENoYW5nZSk7XG5cbiAgICAgICAgICBfdGhpczIudHJhZGluZ1RpbWVzLm9uVGltZUNoYW5nZWQoX3RoaXMyLm9uU2VydmVyVGltZUNoYW5nZSk7XG5cbiAgICAgICAgICBzZXRUaW1lb3V0KE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIERlZmVyIHRoZSByZW5kZXIgb2YgdGhlIGRpYWxvZ3MgYW5kIGRyb3Bkb3duczsgdGhpcyBlbmFibGVzXG4gICAgICAgICAgICAvLyBjb25zaWRlcmFibGUgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnRzIGZvciBzbG93ZXIgZGV2aWNlcy5cbiAgICAgICAgICAgIF90aGlzMi5zaG91bGRSZW5kZXJEaWFsb2dzID0gdHJ1ZTtcbiAgICAgICAgICB9KSwgNTAwKTtcbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICgnUmVzaXplT2JzZXJ2ZXInIGluIHdpbmRvdykge1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHRoaXMucmVzaXplU2NyZWVuKTtcbiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHJvb3ROb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZSgvKiEgaW1wb3J0KCkgfCByZXNpemUtb2JzZXJ2ZXItcG9seWZpbGwgKi8gXCJ2ZW5kb3JzfnJlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbFwiKS50aGVuKF9fd2VicGFja19yZXF1aXJlX18uYmluZChudWxsLCAvKiEgcmVzaXplLW9ic2VydmVyLXBvbHlmaWxsICovIFwiLi9ub2RlX21vZHVsZXMvcmVzaXplLW9ic2VydmVyLXBvbHlmaWxsL2Rpc3QvUmVzaXplT2JzZXJ2ZXIuZXMuanNcIikpLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgICAgdmFyIFJlc2l6ZU9ic2VydmVyID0gX3JlZjJbXCJkZWZhdWx0XCJdO1xuICAgICAgICAgIHdpbmRvdy5SZXNpemVPYnNlcnZlciA9IFJlc2l6ZU9ic2VydmVyO1xuXG4gICAgICAgICAgaWYgKHN0eHguaXNEZXN0cm95ZWQgfHwgIXJvb3ROb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMyLnJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKF90aGlzMi5yZXNpemVTY3JlZW4pO1xuXG4gICAgICAgICAgX3RoaXMyLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUocm9vdE5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TWF4TWFzdGVyRGF0YVNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWF4TWFzdGVyRGF0YVNpemUoZ3JhbnVsYXJpdHkpIHtcbiAgICAgIHZhciBtYXhNYXN0ZXJEYXRhU2l6ZSA9IDUwMDA7IC8vIFdoZW4gZ3JhbnVsYXJpdHkgaXMgMSBkYXlcblxuICAgICAgaWYgKGdyYW51bGFyaXR5ID09PSA4NjQwMCkgbWF4TWFzdGVyRGF0YVNpemUgPSBNYXRoLmZsb29yKDIuOCAqIDM2NSk7IC8vIFdoZW4gZ3JhbnVsYXJpdHkgaXMgOCBob3Vyc1xuICAgICAgZWxzZSBpZiAoZ3JhbnVsYXJpdHkgPT09IDI4ODAwKSBtYXhNYXN0ZXJEYXRhU2l6ZSA9IE1hdGguZmxvb3IoMi44ICogMzY1ICogMyk7XG4gICAgICByZXR1cm4gbWF4TWFzdGVyRGF0YVNpemU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoYXJ0Q2xvc2VkT3BlblRoZW1lQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoYXJ0Q2xvc2VkT3BlblRoZW1lQ2hhbmdlKGlzQ2hhcnRDbG9zZWQpIHtcbiAgICAgIHRoaXMubWFpblN0b3JlLnN0YXRlLnNldENoYXJ0Q2xvc2VkKGlzQ2hhcnRDbG9zZWQpO1xuICAgICAgdGhpcy5tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRUaGVtZSh0aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcudGhlbWUsIGlzQ2hhcnRDbG9zZWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblNlcnZlclRpbWVDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TZXJ2ZXJUaW1lQ2hhbmdlKCkge1xuICAgICAgdGhpcy5zZXJ2ZXJUaW1lID0gbW9tZW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCgpKHRoaXMudHJhZGluZ1RpbWVzLl9zZXJ2ZXJUaW1lLmdldEVwb2NoKCkgKiAxMDAwKS5mb3JtYXQoJ0REIE1NTSBZWVlZIEhIOm1tOnNzIFtHTVRdJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VFbnRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlRW50ZXIoKSB7XG4gICAgICB0aGlzLmN1cnNvckluQ2hhcnQgPSB0cnVlO1xuICAgICAgLypcbiAgICAgICAqIERpc2FibGUga2V5IHByZXNzIGV2ZW50cyBmb3IgY2hhcnQgdW50aWwgd2UgY2FuIGdldCBpdCBub3QgdG9cbiAgICAgICAqIGludGVyZmVyZSB3aXRoIGtleSBwcmVzc2VzIG91dHNpZGUgdGhlIGNoYXJ0OlxuICAgICAgICovXG4gICAgICAvLyBDaGFydFN0b3JlLmtleXN0cm9rZUh1Yi5zZXRBY3RpdmVDb250ZXh0KHRoaXMuY29udGV4dCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VMZWF2ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICB0aGlzLmN1cnNvckluQ2hhcnQgPSBmYWxzZTtcbiAgICAgIC8qXG4gICAgICAgKiBEaXNhYmxlIGtleSBwcmVzcyBldmVudHMgZm9yIGNoYXJ0IHVudGlsIHdlIGNhbiBnZXQgaXQgbm90IHRvXG4gICAgICAgKiBpbnRlcmZlcmUgd2l0aCBrZXkgcHJlc3NlcyBvdXRzaWRlIHRoZSBjaGFydDpcbiAgICAgICAqL1xuICAgICAgLy8gQ2hhcnRTdG9yZS5rZXlzdHJva2VIdWIuc2V0QWN0aXZlQ29udGV4dChudWxsKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlQ3VycmVudEFjdGl2ZVN5bWJvbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sKCkge1xuICAgICAgdmFyIHN5bWJvbE9iamVjdCA9IHRoaXMuc3R4eC5jaGFydC5zeW1ib2xPYmplY3Q7XG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVTeW1ib2wgPSBzeW1ib2xPYmplY3Q7XG4gICAgICB0aGlzLnN0eHguY2hhcnQueUF4aXMuZGVjaW1hbFBsYWNlcyA9IHN5bWJvbE9iamVjdC5kZWNpbWFsX3BsYWNlcztcbiAgICAgIHRoaXMuc2V0TWFpblNlcmllc0Rpc3BsYXkoc3ltYm9sT2JqZWN0Lm5hbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRDaGFydEF2YWlsYWJpbGl0eVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDaGFydEF2YWlsYWJpbGl0eShzdGF0dXMpIHtcbiAgICAgIHRoaXMuaXNDaGFydEF2YWlsYWJsZSA9IHN0YXR1cztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hhbmdlU3ltYm9sXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVN5bWJvbChzeW1ib2xPYmosIGdyYW51bGFyaXR5KSB7XG4gICAgICBpZiAoIXRoaXMuc3R4eCkgcmV0dXJuO1xuXG4gICAgICBpZiAodHlwZW9mIHN5bWJvbE9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3ltYm9sT2JqID0gdGhpcy5hY3RpdmVTeW1ib2xzLmdldFN5bWJvbE9iaihzeW1ib2xPYmopO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNTeW1ib2xBdmFpbGFibGUgPSBzeW1ib2xPYmogJiYgdGhpcy5jdXJyZW50QWN0aXZlU3ltYm9sO1xuXG4gICAgICBpZiAoaXNTeW1ib2xBdmFpbGFibGUgJiYgc3ltYm9sT2JqLnN5bWJvbCA9PT0gdGhpcy5jdXJyZW50QWN0aXZlU3ltYm9sLnN5bWJvbCAmJiBncmFudWxhcml0eSAhPT0gdW5kZWZpbmVkICYmIGdyYW51bGFyaXR5ID09PSB0aGlzLmdyYW51bGFyaXR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmFtcztcblxuICAgICAgaWYgKGdyYW51bGFyaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5ncmFudWxhcml0eSA9IGdyYW51bGFyaXR5O1xuICAgICAgICB0aGlzLnN0eHgubWF4TWFzdGVyRGF0YVNpemUgPSB0aGlzLmdldE1heE1hc3RlckRhdGFTaXplKHRoaXMuZ3JhbnVsYXJpdHkpO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgcGVyaW9kaWNpdHk6IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImNhbGN1bGF0ZVRpbWVVbml0SW50ZXJ2YWxcIl0pKGdyYW51bGFyaXR5KVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zID09PSB1bmRlZmluZWQgJiYgc3ltYm9sT2JqKSB7XG4gICAgICAgIC8vIFJlbW92ZSBjb21wYXJpc29ucyBiZWZvcmUgc3ltYm9sIGNoYW5nZXNcbiAgICAgICAgZm9yICh2YXIgZmllbGQgaW4gdGhpcy5zdHh4LmNoYXJ0LnNlcmllcykge1xuICAgICAgICAgIHRoaXMuc3R4eC5yZW1vdmVTZXJpZXMoZmllbGQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMubmV3Q2hhcnQoc3ltYm9sT2JqLCBwYXJhbXMpO1xuXG4gICAgICBpZiAoc3ltYm9sT2JqKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ3VycmVudEFjdGl2ZVN5bWJvbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJuZXdDaGFydFwiLFxuICAgIC8vIENhbGxpbmcgbmV3Q2hhcnQgd2l0aCBzeW1ib2xPYmogYXMgdW5kZWZpbmVkIHJlZnJlc2hlcyB0aGUgY2hhcnRcbiAgICB2YWx1ZTogZnVuY3Rpb24gbmV3Q2hhcnQoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIHN5bWJvbE9iaiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5jdXJyZW50QWN0aXZlU3ltYm9sO1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKCFzeW1ib2xPYmopIHJldHVybjtcbiAgICAgIHRoaXMuc3R4eC5jaGFydC5zeW1ib2xEaXNwbGF5ID0gc3ltYm9sT2JqLm5hbWU7XG4gICAgICB0aGlzLmxvYWRlci5zaG93KCk7XG4gICAgICB0aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydElzUmVhZHkoZmFsc2UpO1xuXG4gICAgICB2YXIgb25DaGFydExvYWQgPSBmdW5jdGlvbiBvbkNoYXJ0TG9hZChlcnIpIHtcbiAgICAgICAgX3RoaXMzLnNldE1haW5TZXJpZXNEaXNwbGF5KHN5bWJvbE9iai5uYW1lKTtcblxuICAgICAgICBfdGhpczMubG9hZGVyLmhpZGUoKTtcblxuICAgICAgICBfdGhpczMuY2hhcnRDbG9zZWRPcGVuVGhlbWVDaGFuZ2UoIXN5bWJvbE9iai5leGNoYW5nZV9pc19vcGVuKTtcblxuICAgICAgICBfdGhpczMubWFpblN0b3JlLnBhZ2luYXRpb25Mb2FkZXIudXBkYXRlT25QYWdpbmF0aW9uKGZhbHNlKTtcblxuICAgICAgICBfdGhpczMubWFpblN0b3JlLmRyYXdUb29scy5jb21wdXRlQWN0aXZlRHJhd1Rvb2xzKCk7XG5cbiAgICAgICAgX3RoaXMzLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydElzUmVhZHkodHJ1ZSk7XG5cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIC8qIFRPRE8sIHN5bWJvbCBub3QgZm91bmQgZXJyb3IgKi9cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczMuc3RhdGUucmVzdG9yZURyYXdpbmdzKCk7XG5cbiAgICAgICAgaWYgKF90aGlzMy5tYWluU3RvcmUuY2hhcnQuZmVlZCkge1xuICAgICAgICAgIF90aGlzMy5tYWluU3RvcmUuY2hhcnQuZmVlZC5zY2FsZUNoYXJ0KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMueUF4aXN3aWR0aCA9IDA7XG4gICAgICB2YXIgcmFuZ2VTcGFuID0gdGhpcy5nZXRSYW5nZVNwYW4oKTtcbiAgICAgIHZhciBwYXJhbWV0ZXJzID0ge1xuICAgICAgICBtYXN0ZXJEYXRhOiBudWxsLFxuICAgICAgICBjaGFydDogbnVsbFxuICAgICAgfTtcbiAgICAgIENJUS5leHRlbmQocGFyYW1ldGVycywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbXMpLCByYW5nZVNwYW4pLCB0cnVlKTtcbiAgICAgIHRoaXMuc3R4eC5sb2FkQ2hhcnQoc3ltYm9sT2JqLCBwYXJhbWV0ZXJzLCBvbkNoYXJ0TG9hZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGxvYWQgdGhlIGNoYXJ0IHdpdGggZ2l2ZW4gZGF0YVxuICAgICAqXG4gICAgICogYnkgdGhpcyBtZXRob3MsIGJlc2lkZSBvZiB3YWl0aW5nIGZvciBGZWVkQGZldGNoSW5pdGlhbERhdGEgdG8gcHJvdmlkZSBmaXJzdCBkYXRhXG4gICAgICogdGhlIGNoYXJ0IGFyZSBpbml0aWxlZCBieSBnaXZlIG1hc3RlckRhdGEuIENoYXJ0IG5lZWQgYSBzeW1ib2wgdG8gYmUgYWJsZSB0byBnZXRcbiAgICAgKiBsb2FkZWQsIHNvIGlmIHRoZSBwYXNzZWQgc3ltYm9sIGRpZG4ndCBmaWxsLCBpdCB0cnkgdG8gZ2V0IHRoZSBzeW1ib2wgZnJvbSBgbGF5b3V0LSpgXG4gICAgICogc3RvcmFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN5bWJvbCB0aGUgc3ltYm9sIHVzZWQgdG8gbG9hZCB0aGUgY2hhcnRcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBtYXN0ZXJEYXRhIGFycmF5IG9mIHRpY2tzIHJlZ2FyZHMgb2YgZGVzaXJlIHRpY2tcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxvYWRDaGFydFdpdGhJbml0YWxEYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRDaGFydFdpdGhJbml0YWxEYXRhKHN5bWJvbCwgbWFzdGVyRGF0YSkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIGlmICghbWFzdGVyRGF0YSkgcmV0dXJuO1xuICAgICAgdmFyIGxheW91dERhdGEgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlXCJdKShcImxheW91dC1cIi5jb25jYXQodGhpcy5jaGFydElkKSk7XG4gICAgICBpZiAoIWxheW91dERhdGEgfHwgIWxheW91dERhdGEuc3ltYm9scy5sZW5ndGgpIHJldHVybjtcbiAgICAgIHZhciBsYXlvdXRfc3ltYm9sID0gbGF5b3V0RGF0YS5zeW1ib2xzWzBdLnN5bWJvbDtcblxuICAgICAgaWYgKCEoc3ltYm9sIHx8IGxheW91dF9zeW1ib2wpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ3N5bWJvbCBpcyBub3Qgc3BlY2lmaWNlZCwgd2l0aG91dCBpdCwgY2hhcnQgaXMgdW5hYmxlIHRvIGJlIGxvYWRlZCEnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0eHgubG9hZENoYXJ0KHN5bWJvbCB8fCBsYXlvdXRfc3ltYm9sLCB7XG4gICAgICAgIG1hc3RlckRhdGE6IG1hc3RlckRhdGEsXG4gICAgICAgIHBlcmlvZGljaXR5OiB7XG4gICAgICAgICAgcGVyaW9kOiBsYXlvdXREYXRhLnBlcmlvZGljaXR5LFxuICAgICAgICAgIGludGVydmFsOiBsYXlvdXREYXRhLmludGVydmFsLFxuICAgICAgICAgIHRpbWVVbml0OiBsYXlvdXREYXRhLnRpbWVVbml0XG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LmxvYWRlci5oaWRlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UmFuZ2VTcGFuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJhbmdlU3BhbigpIHtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgc3RhcnRFcG9jaCA9IF90aGlzJHN0YXRlLnN0YXJ0RXBvY2gsXG4gICAgICAgICAgZW5kRXBvY2ggPSBfdGhpcyRzdGF0ZS5lbmRFcG9jaDtcbiAgICAgIHZhciByYW5nZSwgc3BhbjtcbiAgICAgIHZhciBwYWRkaW5nUmF0aW8gPSB0aGlzLmNoYXJ0Tm9kZS5jbGllbnRXaWR0aCAvIHRoaXMuUkFOR0VfUEFERElOR19QWDtcbiAgICAgIHZhciBlbGFwc2VkU2Vjb25kcyA9IChlbmRFcG9jaCB8fCBzdGFydEVwb2NoKSAtIChzdGFydEVwb2NoIHx8IGVuZEVwb2NoKTtcbiAgICAgIHZhciBlcG9jaFBhZGRpbmcgPSBlbGFwc2VkU2Vjb25kcyAvIHBhZGRpbmdSYXRpbyB8IDA7XG5cbiAgICAgIGlmIChzdGFydEVwb2NoIHx8IGVuZEVwb2NoKSB7XG4gICAgICAgIHZhciBkdExlZnQgPSBzdGFydEVwb2NoID8gQ0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZ2V0VVRDRGF0ZVwiXSkoc3RhcnRFcG9jaCAtIGVwb2NoUGFkZGluZykpIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgZHRSaWdodCA9IGVuZEVwb2NoID8gQ0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZ2V0VVRDRGF0ZVwiXSkoZW5kRXBvY2ggKyBlcG9jaFBhZGRpbmcpKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHBlcmlvZGljaXR5ID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiY2FsY3VsYXRlVGltZVVuaXRJbnRlcnZhbFwiXSkodGhpcy5ncmFudWxhcml0eSk7XG4gICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgIGR0TGVmdDogZHRMZWZ0LFxuICAgICAgICAgIGR0UmlnaHQ6IGR0UmlnaHQsXG4gICAgICAgICAgcGVyaW9kaWNpdHk6IHBlcmlvZGljaXR5LFxuICAgICAgICAgIGdvSW50b0Z1dHVyZTogdHJ1ZSxcbiAgICAgICAgICBnb0ludG9QYXN0OiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGR0TGVmdCkge1xuICAgICAgICAgIHNwYW4gPSB7XG4gICAgICAgICAgICBiYXNlOiAnYWxsJyxcbiAgICAgICAgICAgIHBlcmlvZGljaXR5OiBwZXJpb2RpY2l0eVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJhbmdlOiByYW5nZSxcbiAgICAgICAgICBzcGFuOiBzcGFuXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldE1haW5TZXJpZXNEaXNwbGF5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1haW5TZXJpZXNEaXNwbGF5KG5hbWUpIHtcbiAgICAgIGlmICh0aGlzLnN0eHggJiYgdGhpcy5zdHh4LmNoYXJ0KSB7XG4gICAgICAgIC8vIFNldCBkaXNwbGF5IG5hbWUgb2YgbWFpbiBzZXJpZXMgKHRvIGJlIHNob3duIGluIGNyb3NzaGFpciB0b29sdGlwKVxuICAgICAgICB0aGlzLnN0eHguY2hhcnQuc2VyaWVzUmVuZGVyZXJzLl9tYWluX3Nlcmllcy5zZXJpZXNQYXJhbXNbMF0uZGlzcGxheSA9IG5hbWU7IC8vIFRPRE8sIHdlIHVzZSB0byB1c2UgYGZpZWxkYCBmaWVsZCB0byByZWNnbml6ZSBtYWluIHNlcmlzIGFuZCBzaG93XG4gICAgICAgIC8vIGl0J3MgY3Jvc3NoYWlyLCBhcyBpbiBDaGFydElRIDYuMi4yIHRoZXkgYXJlIGdvaW5nIHRvIHJlbW92ZSB0aGlzIGZpZWxkXG4gICAgICAgIC8vIHdlIHNob3VsZCBmaW5kIGFub3RoZXIgd2F5IG9mIGRldGVjdGluZyBtYWluIHNlcmllcyBwcmljZSwgdGlsbCB0aGVuXG4gICAgICAgIC8vIHdlIGZvdW5kIHRoaXMgdGVtcG9yYXJ5IHNvbHV0aW9uLlxuXG4gICAgICAgIHRoaXMuc3R4eC5jaGFydC5zZXJpZXNSZW5kZXJlcnMuX21haW5fc2VyaWVzLnNlcmllc1BhcmFtc1swXS5maWVsZCA9ICdDbG9zZSc7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVNjYWxlZE9uZU9uZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTY2FsZWRPbmVPbmUoc3RhdGUpIHtcbiAgICAgIHRoaXMuaXNTY2FsZWRPbmVPbmUgPSBzdGF0ZTtcbiAgICB9IC8vIE1ha2VzIHJlcXVlc3RzIHRvIHRpY2sgaGlzdG9yeSBBUEkgdGhhdCB3aWxsIHJlcGxhY2VcbiAgICAvLyBFeGlzdGluZyBjaGFydCB0aWNrL29obGMgZGF0YVxuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVmcmVzaENoYXJ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2hDaGFydCgpIHtcbiAgICAgIHRoaXMubmV3Q2hhcnQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgQ2hhcnRTdG9yZS5jaGFydENvdW50IC09IDE7XG5cbiAgICAgIGlmICh0aGlzLnJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50cmFkaW5nVGltZXMgJiYgQ2hhcnRTdG9yZS5jaGFydENvdW50ID09PSAwKSB7XG4gICAgICAgIENoYXJ0U3RvcmUudHJhZGluZ1RpbWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFkaW5nVGltZXMuZGVzdHJ1Y3RvcigpO1xuICAgICAgfSAvLyBEZXN0cm95aW5nIHRoZSBjaGFydCBkb2VzIG5vdCB1bnN1YnNjcmliZSB0aGUgc3RyZWFtcztcbiAgICAgIC8vIHdlIG5lZWQgdG8gbWFudWFsbHkgdW5zdWJzY3JpYmUgdGhlbS5cblxuXG4gICAgICBpZiAodGhpcy5mZWVkKSB7XG4gICAgICAgIHRoaXMuZmVlZC51bnN1YnNjcmliZUFsbCgpO1xuICAgICAgICB0aGlzLmZlZWQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoQ2hhcnRTdG9yZS5rZXlzdHJva2VIdWIgJiYgQ2hhcnRTdG9yZS5rZXlzdHJva2VIdWIuY29udGV4dCA9PT0gdGhpcy5jb250ZXh0KSB7XG4gICAgICAgIENoYXJ0U3RvcmUua2V5c3Ryb2tlSHViLnNldEFjdGl2ZUNvbnRleHQobnVsbCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnN0eHgpIHtcbiAgICAgICAgdGhpcy5zdHh4LmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXIpO1xuICAgICAgICB0aGlzLnN0eHguY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZSk7XG5cbiAgICAgICAgdGhpcy5zdHh4LnVwZGF0ZUNoYXJ0RGF0YSA9IGZ1bmN0aW9uICgpIHt9OyAvLyBwcmV2ZW50IGFueSBkYXRhIGZyb20gZW50ZXJpbmcgdGhlIGNoYXJ0XG5cblxuICAgICAgICB0aGlzLnN0eHguaXNEZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0eHguZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0eHggPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVTeW1ib2wgPSBudWxsO1xuICAgICAgdGhpcy5jb250ZXh0UHJvbWlzZSA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvcGVuRnVsbHNjcmVlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuRnVsbHNjcmVlbigpIHtcbiAgICAgIHZhciBpc0luRnVsbFNjcmVlbiA9IGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50ICYmIGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50ICE9PSBudWxsIHx8IGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50ICYmIGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50ICE9PSBudWxsIHx8IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50ICYmIGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50ICE9PSBudWxsIHx8IGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQgJiYgZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCAhPT0gbnVsbDtcbiAgICAgIHZhciBkb2NFbG0gPSB0aGlzLnJvb3ROb2RlO1xuXG4gICAgICBpZiAoIWlzSW5GdWxsU2NyZWVuKSB7XG4gICAgICAgIGlmIChkb2NFbG0ucmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICBkb2NFbG0ucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2NFbG0ubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICBkb2NFbG0ubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2NFbG0ud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICBkb2NFbG0ud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2NFbG0ubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgIGRvY0VsbS5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbikge1xuICAgICAgICBkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsb2FkZXJcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5sb2FkZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJvdXRpbmdTdG9yZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLnJvdXRpbmc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXRlU3RvcmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5zdGF0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R1ZGllc1N0b3JlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuc3R1ZGllcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicGlwXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50QWN0aXZlU3ltYm9sLmRlY2ltYWxfcGxhY2VzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyb290RWxlbWVudFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY2hhcnRJZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNhdGVnb3JpemVkU3ltYm9sc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5hY3RpdmVTeW1ib2xzIHx8IHRoaXMuYWN0aXZlU3ltYm9scy5jYXRlZ29yaXplZFN5bWJvbHMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG4gICAgICB2YXIgYWN0aXZlU3ltYm9scyA9IHRoaXMuYWN0aXZlU3ltYm9scy5hY3RpdmVTeW1ib2xzO1xuICAgICAgcmV0dXJuIE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImNsb25lQ2F0ZWdvcmllc1wiXSkoYWN0aXZlU3ltYm9scywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gaXRlbS5kYXRhT2JqZWN0LnN5bWJvbCA9PT0gX3RoaXM1LmN1cnJlbnRBY3RpdmVTeW1ib2wuc3ltYm9sO1xuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHtcbiAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2hhcnRTdG9yZTtcbn0oKSwgX2NsYXNzMi5rZXlzdHJva2VIdWIgPSB2b2lkIDAsIF9jbGFzczIuY2hhcnRDb3VudCA9IDAsIF9jbGFzczIudHJhZGluZ1RpbWVzID0gdm9pZCAwLCBfY2xhc3MyLmFjdGl2ZVN5bWJvbHMgPSB2b2lkIDAsIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNvbnRhaW5lcldpZHRoXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY29udGV4dFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImN1cnJlbnRBY3RpdmVTeW1ib2xcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzQ2hhcnRBdmFpbGFibGVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjaGFydEhlaWdodFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjYgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2hhcnRDb250YWluZXJIZWlnaHRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I3ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzTW9iaWxlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I4ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzU2NhbGVkT25lT25lXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I5ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImN1cnNvckluQ2hhcnRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjEwID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3VsZFJlbmRlckRpYWxvZ3NcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjExID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInlBeGlzd2lkdGhcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufSksIF9kZXNjcmlwdG9yMTIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2VydmVyVGltZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjEzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm5ldHdvcmtTdGF0dXNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IxNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJsYXN0Q291bnREb3duU2Vjb25kXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMTUgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY291bnREb3duTGFiZWxcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInBpcFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicGlwXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlc2l6ZVNjcmVlblwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZXNpemVTY3JlZW5cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiX2luaXRDaGFydFwiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiX2luaXRDaGFydFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjYXRlZ29yaXplZFN5bWJvbHNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNhdGVnb3JpemVkU3ltYm9sc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblNlcnZlclRpbWVDaGFuZ2VcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uU2VydmVyVGltZUNoYW5nZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbk1vdXNlRW50ZXJcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uTW91c2VFbnRlclwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbk1vdXNlTGVhdmVcIiwgW19kZWM1XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uTW91c2VMZWF2ZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sXCIsIFtfZGVjNl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENoYXJ0QXZhaWxhYmlsaXR5XCIsIFtfZGVjN10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDaGFydEF2YWlsYWJpbGl0eVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjaGFuZ2VTeW1ib2xcIiwgW19kZWM4XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNoYW5nZVN5bWJvbFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9kZXNjcmlwdG9yMTYgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2FsY3VsYXRlWWF4aXNXaWR0aFwiLCBbX2RlYzldLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgIHJldHVybiBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIGlmICghcHJpY2UpIHJldHVybjtcbiAgICAgIHZhciBjb250ZXh0ID0gX3RoaXM2LmNvbnRleHQuc3R4LmNoYXJ0LmNvbnRleHQ7XG4gICAgICB2YXIgcHJpY2VXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQocHJpY2UudG9GaXhlZChfdGhpczYucGlwKSkud2lkdGggKyAyMDtcblxuICAgICAgaWYgKHByaWNlV2lkdGggPiBfdGhpczYueUF4aXN3aWR0aCkge1xuICAgICAgICBfdGhpczYueUF4aXN3aWR0aCA9IHByaWNlV2lkdGg7XG4gICAgICAgIF90aGlzNi5zdHh4LmNoYXJ0LnlBeGlzLndpZHRoID0gcHJpY2VXaWR0aDtcblxuICAgICAgICBfdGhpczYuc3R4eC5jYWxjdWxhdGVZQXhpc1Bvc2l0aW9ucygpO1xuXG4gICAgICAgIF90aGlzNi5zdHh4LmRyYXcoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KSwgX2Rlc2NyaXB0b3IxNyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVZYXhpc1dpZHRoXCIsIFtfZGVjMTBdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXM3LnN0eHggJiYgX3RoaXM3LnN0eHgubWFzdGVyRGF0YSAmJiBfdGhpczcuc3R4eC5tYXN0ZXJEYXRhLmxlbmd0aCkge1xuICAgICAgICBpZiAoX3RoaXM3LmN1cnJlbnRDbG9zZVF1b3RlKCkgJiYgX3RoaXM3LmN1cnJlbnRDbG9zZVF1b3RlKCkuQ2xvc2UpIHtcbiAgICAgICAgICBfdGhpczcuY2FsY3VsYXRlWWF4aXNXaWR0aChfdGhpczcuY3VycmVudENsb3NlUXVvdGUoKS5DbG9zZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm5ld0NoYXJ0XCIsIFtfZGVjMTFdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwibmV3Q2hhcnRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfZGVzY3JpcHRvcjE4ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFlheGlzV2lkdGhcIiwgW19kZWMxMl0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh3aWR0aCkge1xuICAgICAgX3RoaXM4LnlBeGlzd2lkdGggPSB3aWR0aCB8fCBfdGhpczgueUF4aXN3aWR0aDtcbiAgICAgIF90aGlzOC5zdHh4LmNoYXJ0LnlBeGlzLndpZHRoID0gd2lkdGggfHwgX3RoaXM4LnlBeGlzd2lkdGg7XG5cbiAgICAgIF90aGlzOC5zdHh4LmNhbGN1bGF0ZVlBeGlzUG9zaXRpb25zKCk7XG5cbiAgICAgIF90aGlzOC5zdHh4LmRyYXcoKTtcbiAgICB9O1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVNjYWxlZE9uZU9uZVwiLCBbX2RlYzEzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVNjYWxlZE9uZU9uZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZWZyZXNoQ2hhcnRcIiwgW19kZWMxNF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZWZyZXNoQ2hhcnRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVzdHJveVwiLCBbX2RlYzE1XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRlc3Ryb3lcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib3BlbkZ1bGxzY3JlZW5cIiwgW19kZWMxNl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvcGVuRnVsbHNjcmVlblwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoQ2hhcnRTdG9yZSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9DaGFydFRpdGxlU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0NoYXJ0VGl0bGVTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDaGFydFRpdGxlU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL01lbnVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL01lbnVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQW5pbWF0ZWRQcmljZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0FuaW1hdGVkUHJpY2VTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL0FuaW1hdGVkUHJpY2VTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DYXRlZ29yaWNhbERpc3BsYXlTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19NZW51X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9NZW51LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTWVudS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfY2F0ZWdvcmljYWxkaXNwbGF5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL2NhdGVnb3JpY2FsZGlzcGxheSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0FuaW1hdGVkUHJpY2VfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL0FuaW1hdGVkUHJpY2UuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9BbmltYXRlZFByaWNlLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19TeW1ib2xTZWxlY3RCdXR0b25fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL1N5bWJvbFNlbGVjdEJ1dHRvbi5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1N5bWJvbFNlbGVjdEJ1dHRvbi5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX1NlcnZlclRpbWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL1NlcnZlclRpbWUgKi8gXCIuL3NyYy91dGlscy9TZXJ2ZXJUaW1lLmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2RlYzQsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX2Rlc2NyaXB0b3IzLCBfZGVzY3JpcHRvcjQsIF90ZW1wO1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgQ2hhcnRUaXRsZVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDaGFydFRpdGxlU3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGFydFRpdGxlU3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b2RheUNoYW5nZVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvZGF5Q2hhbmdlUGVyY2VudFwiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1Zpc2libGVcIiwgX2Rlc2NyaXB0b3IzLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwib3Blbk1hcmtldFwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgdGhpcy5lbmFibGVTaG93UHJpY2UgPSBmYWxzZTtcbiAgICB0aGlzLnNlYXJjaElucHV0Q2xhc3NOYW1lID0gdm9pZCAwO1xuXG4gICAgdGhpcy5vbkNvbnRleHRSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNoYXJ0LmZlZWQub25NYXN0ZXJEYXRhVXBkYXRlKF90aGlzLnVwZGF0ZSk7XG5cbiAgICAgIF90aGlzLnVwZGF0ZSgpO1xuXG4gICAgICBfdGhpcy50cmFkaW5nVGltZXMub25NYXJrZXRPcGVuQ2xvc2VDaGFuZ2VkKE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0pKGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIGZvciAodmFyIHN5bWJvbCBpbiBjaGFuZ2VzKSB7XG4gICAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRTeW1ib2wuc3ltYm9sID09PSBzeW1ib2wpIHtcbiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRTeW1ib2wuZXhjaGFuZ2VfaXNfb3BlbiA9IGNoYW5nZXNbc3ltYm9sXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY3Jvc3NoYWlyU3RvcmUudXBkYXRlVmlzaWJpbGl0eShmYWxzZSk7XG4gICAgfTtcblxuICAgIHRoaXMub25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNyb3NzaGFpclN0b3JlLnVwZGF0ZVZpc2liaWxpdHkodHJ1ZSk7XG4gICAgfTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCB0aGlzLm9uQ29udGV4dFJlYWR5KTtcbiAgICB0aGlzLm1lbnUgPSBuZXcgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXShtYWluU3RvcmUsIHtcbiAgICAgIHJvdXRlOiAnY2hhcnQtdGl0bGUnXG4gICAgfSk7XG4gICAgdGhpcy5hbmltYXRlZFByaWNlID0gbmV3IF9BbmltYXRlZFByaWNlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oKTtcbiAgICB0aGlzLmNhdGVnb3JpY2FsRGlzcGxheSA9IG5ldyBfQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0oe1xuICAgICAgZ2V0Q2F0ZWdvcmljYWxJdGVtczogZnVuY3Rpb24gZ2V0Q2F0ZWdvcmljYWxJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLm1haW5TdG9yZS5jaGFydC5jYXRlZ29yaXplZFN5bWJvbHM7XG4gICAgICB9LFxuICAgICAgZ2V0SXNTaG93bjogZnVuY3Rpb24gZ2V0SXNTaG93bigpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLm1lbnUub3BlbjtcbiAgICAgIH0sXG4gICAgICBwbGFjZWhvbGRlclRleHQ6IHQudHJhbnNsYXRlKCdTZWFyY2guLi4nKSxcbiAgICAgIGZhdm9yaXRlc0lkOiAnY2hhcnRUaXRsZSZDb21wYXJpc29uJyxcbiAgICAgIG1haW5TdG9yZTogbWFpblN0b3JlLFxuICAgICAgaWQ6ICdtYXJrZXRfZHJvcGRvd24nLFxuICAgICAgZ2V0Q3VycmVudEFjdGl2ZUNhdGVnb3J5OiBmdW5jdGlvbiBnZXRDdXJyZW50QWN0aXZlQ2F0ZWdvcnkoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5jdXJyZW50QWN0aXZlQ2F0ZWdvcnk7XG4gICAgICB9LFxuICAgICAgZ2V0Q3VycmVudEFjdGl2ZVN1YkNhdGVnb3J5OiBmdW5jdGlvbiBnZXRDdXJyZW50QWN0aXZlU3ViQ2F0ZWdvcnkoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5jdXJyZW50QWN0aXZlU3ViQ2F0ZWdvcnk7XG4gICAgICB9LFxuICAgICAgZ2V0Q3VycmVudEFjdGl2ZU1hcmtldDogZnVuY3Rpb24gZ2V0Q3VycmVudEFjdGl2ZU1hcmtldCgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmN1cnJlbnRBY3RpdmVNYXJrZXQ7XG4gICAgICB9LFxuICAgICAgc2VhcmNoSW5wdXRDbGFzc05hbWU6IGZ1bmN0aW9uIHNlYXJjaElucHV0Q2xhc3NOYW1lKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc2VhcmNoSW5wdXRDbGFzc05hbWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zZXJ2ZXJUaW1lID0gX3V0aWxzX1NlcnZlclRpbWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImRlZmF1bHRcIl0uZ2V0SW5zdGFuY2UoKTtcbiAgICB0aGlzLkNoYXJ0VGl0bGVNZW51ID0gdGhpcy5tZW51LmNvbm5lY3QoX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0pO1xuICAgIHRoaXMuTWFya2V0U2VsZWN0b3IgPSB0aGlzLmNhdGVnb3JpY2FsRGlzcGxheS5jb25uZWN0KF9jb21wb25lbnRzX2NhdGVnb3JpY2FsZGlzcGxheV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiQ2F0ZWdvcmljYWxEaXNwbGF5XCJdKTtcbiAgICB2YXIgU3BvdFByaWNlID0gdGhpcy5hbmltYXRlZFByaWNlLmNvbm5lY3QoX2NvbXBvbmVudHNfQW5pbWF0ZWRQcmljZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0pO1xuICAgIHZhciBQcmljZURpc3BsYXkgPSBPYmplY3QoX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzVmlzaWJsZTogX3RoaXMuaXNWaXNpYmxlICYmIF90aGlzLmlzU2hvd0NoYXJ0UHJpY2UsXG4gICAgICAgIHN0YXR1czogX3RoaXMuYW5pbWF0ZWRQcmljZS5zdGF0dXMsXG4gICAgICAgIHRvZGF5Q2hhbmdlOiBfdGhpcy50b2RheUNoYW5nZSxcbiAgICAgICAgdG9kYXlDaGFuZ2VQZXJjZW50OiBfdGhpcy50b2RheUNoYW5nZVBlcmNlbnQsXG4gICAgICAgIFNwb3RQcmljZTogU3BvdFByaWNlXG4gICAgICB9O1xuICAgIH0pKF9jb21wb25lbnRzX1N5bWJvbFNlbGVjdEJ1dHRvbl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcIkNoYXJ0UHJpY2VcIl0pO1xuICAgIHRoaXMuU3ltYm9sU2VsZWN0QnV0dG9uID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzeW1ib2w6IF90aGlzLmN1cnJlbnRTeW1ib2wsXG4gICAgICAgIENoYXJ0UHJpY2U6IFByaWNlRGlzcGxheSxcbiAgICAgICAgaXNTeW1ib2xPcGVuOiBfdGhpcy5pc1N5bWJvbE9wZW4sXG4gICAgICAgIHN5bWJvbE9wZW5UaW1lOiBfdGhpcy5zeW1ib2xPcGVuVGltZVxuICAgICAgfTtcbiAgICB9KShfY29tcG9uZW50c19TeW1ib2xTZWxlY3RCdXR0b25fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJTeW1ib2xTZWxlY3RCdXR0b25cIl0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENoYXJ0VGl0bGVTdG9yZSwgW3tcbiAgICBrZXk6IFwic2V0U3ltYm9sXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFN5bWJvbChzeW1ib2xPYmopIHtcbiAgICAgIGlmICh0aGlzLm1haW5TdG9yZS5zdGF0ZS5zeW1ib2wgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdDaGFuZ2luZyBzeW1ib2wgZG9lcyBub3RoaW5nIGJlY2F1c2Ugc3ltYm9sIHByb3AgaXMgYmVpbmcgc2V0LiBDb25zaWRlciBvdmVycmlkaW5nIHRoZSBvbkNoYW5nZSBwcm9wIGluIDxDaGFydFRpdGxlIC8+Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jaGFydC5jaGFuZ2VTeW1ib2woc3ltYm9sT2JqKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShxdW90ZSkge1xuICAgICAgaWYgKCF0aGlzLmN1cnJlbnRTeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNWaXNpYmxlID0gcXVvdGUgfHwgIXRoaXMuaXNTaG93Q2hhcnRQcmljZTtcblxuICAgICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3VycmVudFByaWNlID0gcXVvdGUuQ2xvc2U7XG5cbiAgICAgIGlmIChjdXJyZW50UHJpY2UpIHtcbiAgICAgICAgY3VycmVudFByaWNlID0gY3VycmVudFByaWNlLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKTtcbiAgICAgICAgdmFyIG9sZFByaWNlID0gcXVvdGUucHJldkNsb3NlIHx8IHRoaXMuYW5pbWF0ZWRQcmljZS5wcmljZTtcbiAgICAgICAgdGhpcy5hbmltYXRlZFByaWNlLnNldFByaWNlKGN1cnJlbnRQcmljZSwgb2xkUHJpY2UpO1xuXG4gICAgICAgIGlmIChvbGRQcmljZSkge1xuICAgICAgICAgIHRoaXMudG9kYXlDaGFuZ2UgPSBNYXRoLmFicyhjdXJyZW50UHJpY2UgLSBvbGRQcmljZSkudG9GaXhlZCh0aGlzLmRlY2ltYWxQbGFjZXMpO1xuICAgICAgICAgIHRoaXMudG9kYXlDaGFuZ2VQZXJjZW50ID0gKHRoaXMudG9kYXlDaGFuZ2UgLyBvbGRQcmljZSAqIDEwMCkudG9GaXhlZCgyKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBgdG9kYXlDaGFuZ2VgIGFuZCBgdG9kYXlDaGFuZ2VQZXJjZW50YCBoYXMgcHJvYmxlbSBvblxuICAgICAgLy8gY2hhbmdpbmcgc3ltYm9sLCBpZiB0d28gc3ltYm9sIGhhdmUgZ3JlYXQgZGlmZmVyZW5jZVxuICAgICAgLy8gaW4gdGhlaXIgdmFsdWVzLCBpdCBoYXMgYSBqdW1iIGluIHNob3dpbmcgdGhlIGNvcnJlY3RcbiAgICAgIC8vIHZhbHVlcywgd2l0aCB0aGlzIGNvZGUsIHdlIHNpbXBseSBpZ25vcmUgdGhlIGZpcnN0IHVwZGF0ZVxuICAgICAgLy8gb2YgdGhlc2UgdG93IHZhbHVlIGFuZCBzaG93IHRoZSBzZWNvbmQgZGF0YSBhbmQgaXQgZml4IHRoZVxuICAgICAgLy8gYWJvdmUgaXNzdWVcblxuXG4gICAgICBpZiAoIXRoaXMuaXNWaXNpYmxlICYmIGlzVmlzaWJsZSAmJiAhdGhpcy5lbmFibGVTaG93UHJpY2UpIHtcbiAgICAgICAgdGhpcy5lbmFibGVTaG93UHJpY2UgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNWaXNpYmxlID0gaXNWaXNpYmxlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoaWRlUHJpY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZVByaWNlKCkge1xuICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZW5hYmxlU2hvd1ByaWNlID0gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVByb3BzKF9yZWYpIHtcbiAgICAgIHZhciBvcGVuX21hcmtldCA9IF9yZWYub3Blbl9tYXJrZXQsXG4gICAgICAgICAgb3BlbiA9IF9yZWYub3BlbjtcblxuICAgICAgaWYgKG9wZW5fbWFya2V0KSB7XG4gICAgICAgIHRoaXMub3Blbk1hcmtldCA9IG9wZW5fbWFya2V0O1xuICAgICAgfVxuXG4gICAgICBpZiAob3Blbikge1xuICAgICAgICB0aGlzLm1lbnUuc2V0T3Blbih0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hhcnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyb3NzaGFpclN0b3JlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY3Jvc3NoYWlyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjdXJyZW50U3ltYm9sXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNTeW1ib2xPcGVuXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMkY3VycmVudFN5bWJvbDtcblxuICAgICAgcmV0dXJuIChfdGhpcyRjdXJyZW50U3ltYm9sID0gdGhpcy5jdXJyZW50U3ltYm9sKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50U3ltYm9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50U3ltYm9sLmV4Y2hhbmdlX2lzX29wZW47XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlY2ltYWxQbGFjZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sLmRlY2ltYWxfcGxhY2VzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1Nob3dDaGFydFByaWNlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuaXNDaGFydEF2YWlsYWJsZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidHJhZGluZ1RpbWVzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQudHJhZGluZ1RpbWVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzeW1ib2xPcGVuVGltZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHRpbWVzID0gdGhpcy50cmFkaW5nVGltZXMuX3RyYWRpbmdUaW1lc01hcCAmJiB0aGlzLnRyYWRpbmdUaW1lcy5fdHJhZGluZ1RpbWVzTWFwLmxlbmd0aCA/IHRoaXMudHJhZGluZ1RpbWVzLl90cmFkaW5nVGltZXNNYXBbdGhpcy5jdXJyZW50U3ltYm9sLnN5bWJvbF0udGltZXMgOiBbXTtcbiAgICAgIHZhciBub3cgPSB0aGlzLnNlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgdmFyIG9wZW5UaW1lID0gdGltZXMgPyB0aW1lcy5maW5kKGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgIHJldHVybiB0aW1lLm9wZW4uZ2V0VGltZSgpID4gbm93O1xuICAgICAgfSkgOiBudWxsO1xuXG4gICAgICBpZiAoIShvcGVuVGltZSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgIG9wZW5UaW1lID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3BlblRpbWU6IG9wZW5UaW1lXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjdXJyZW50QWN0aXZlQ2F0ZWdvcnlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICh0aGlzLm9wZW5NYXJrZXQuY2F0ZWdvcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3Blbk1hcmtldC5jYXRlZ29yeTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wgPyB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sLm1hcmtldCA6ICdmYXZvcml0ZSc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImN1cnJlbnRBY3RpdmVTdWJDYXRlZ29yeVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMub3Blbk1hcmtldC5zdWJjYXRlZ29yeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuTWFya2V0LnN1YmNhdGVnb3J5O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbCA/IHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wuc3ltYm9sIDogJyc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImN1cnJlbnRBY3RpdmVNYXJrZXRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICh0aGlzLm9wZW5NYXJrZXQubWFya2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5NYXJrZXQubWFya2V0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2hhcnRUaXRsZVN0b3JlO1xufSgpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0b2RheUNoYW5nZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRvZGF5Q2hhbmdlUGVyY2VudFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzVmlzaWJsZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvcGVuTWFya2V0XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImN1cnJlbnRTeW1ib2xcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImN1cnJlbnRTeW1ib2xcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNTeW1ib2xPcGVuXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc1N5bWJvbE9wZW5cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc1Nob3dDaGFydFByaWNlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc1Nob3dDaGFydFByaWNlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRyYWRpbmdUaW1lc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidHJhZGluZ1RpbWVzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInN5bWJvbE9wZW5UaW1lXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzeW1ib2xPcGVuVGltZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjdXJyZW50QWN0aXZlQ2F0ZWdvcnlcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImN1cnJlbnRBY3RpdmVDYXRlZ29yeVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjdXJyZW50QWN0aXZlU3ViQ2F0ZWdvcnlcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImN1cnJlbnRBY3RpdmVTdWJDYXRlZ29yeVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjdXJyZW50QWN0aXZlTWFya2V0XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjdXJyZW50QWN0aXZlTWFya2V0XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFN5bWJvbFwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRTeW1ib2xcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGlkZVByaWNlXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoaWRlUHJpY2VcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUHJvcHNcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVByb3BzXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9DaGFydFR5cGVTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9DaGFydFR5cGVTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENoYXJ0VHlwZVN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9NZW51U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9NZW51U3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0xpc3RTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9MaXN0U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9MaXN0U3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1NldHRpbmdzRGlhbG9nU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vU2V0dGluZ3NEaWFsb2dTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL1NldHRpbmdzRGlhbG9nU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfTGlzdF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvTGlzdC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0xpc3QuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL01lbnUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9NZW51LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19TZXR0aW5nc0RpYWxvZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TZXR0aW5nc0RpYWxvZy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nYSAqLyBcIi4vc3JjL3V0aWxzL2dhLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Db25zdGFudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vQ29uc3RhbnQgKi8gXCIuL3NyYy9Db25zdGFudC5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfZGVjNSwgX2NsYXNzLCBfZGVzY3JpcHRvciwgX3RlbXA7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgbm90Q2FuZGxlcyA9IF90b0NvbnN1bWFibGVBcnJheShfQ29uc3RhbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcIkNoYXJ0VHlwZXNcIl0pLmZpbHRlcihmdW5jdGlvbiAodCkge1xuICByZXR1cm4gIXQuY2FuZGxlT25seTtcbn0pLm1hcChmdW5jdGlvbiAodCkge1xuICByZXR1cm4gdC5pZDtcbn0pO1xuXG52YXIgYWdncmVnYXRlQ2hhcnRzID0gX3RvQ29uc3VtYWJsZUFycmF5KF9Db25zdGFudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiQ2hhcnRUeXBlc1wiXSkuZmlsdGVyKGZ1bmN0aW9uICh0KSB7XG4gIHJldHVybiB0LnNldHRpbmdzT25DbGljaztcbn0pO1xuXG5mdW5jdGlvbiBnZXRBZ2dyZWdhdGVzKCkge1xuICByZXR1cm4ge1xuICAgIGhlaWtpbmFzaGk6IHRydWUsXG4gICAga2FnaToge1xuICAgICAgdGl0bGU6IHQudHJhbnNsYXRlKCdLYWdpJyksXG4gICAgICBpbnB1dHM6IFt7XG4gICAgICAgIGlkOiAna2FnaScsXG4gICAgICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnUmV2ZXJzYWwgUGVyY2VudGFnZScpLFxuICAgICAgICB0eXBlOiAnbnVtZXJpY2lucHV0J1xuICAgICAgfV1cbiAgICB9LFxuICAgIHJlbmtvOiB7XG4gICAgICB0aXRsZTogdC50cmFuc2xhdGUoJ1JlbmtvJyksXG4gICAgICBpbnB1dHM6IFt7XG4gICAgICAgIGlkOiAncmVua28nLFxuICAgICAgICB0aXRsZTogdC50cmFuc2xhdGUoJ1JhbmdlJyksXG4gICAgICAgIHR5cGU6ICdudW1lcmljaW5wdXQnXG4gICAgICB9XVxuICAgIH0sXG4gICAgbGluZWJyZWFrOiB7XG4gICAgICB0aXRsZTogdC50cmFuc2xhdGUoJ0xpbmUgQnJlYWsnKSxcbiAgICAgIGlucHV0czogW3tcbiAgICAgICAgaWQ6ICdwcmljZUxpbmVzJyxcbiAgICAgICAgdGl0bGU6IHQudHJhbnNsYXRlKCdQcmljZSBMaW5lcycpLFxuICAgICAgICB0eXBlOiAnbnVtZXJpY2lucHV0JyxcbiAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgc3RlcDogMSxcbiAgICAgICAgbWluOiAxXG4gICAgICB9XVxuICAgIH0sXG4gICAgcmFuZ2ViYXJzOiB7XG4gICAgICB0aXRsZTogdC50cmFuc2xhdGUoJ1JhbmdlIEJhcnMnKSxcbiAgICAgIGlucHV0czogW3tcbiAgICAgICAgaWQ6ICdyYW5nZScsXG4gICAgICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnUmFuZ2UnKSxcbiAgICAgICAgdHlwZTogJ251bWVyaWNpbnB1dCdcbiAgICAgIH1dXG4gICAgfSxcbiAgICBwYW5kZjoge1xuICAgICAgdGl0bGU6IHQudHJhbnNsYXRlKCdQb2ludCAmIEZpZ3VyZScpLFxuICAgICAgaW5wdXRzOiBbe1xuICAgICAgICBpZDogJ2JveCcsXG4gICAgICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnQm94IFNpemUnKSxcbiAgICAgICAgdHlwZTogJ251bWVyaWNpbnB1dCdcbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICdyZXZlcnNhbCcsXG4gICAgICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnUmV2ZXJzYWwnKSxcbiAgICAgICAgdHlwZTogJ251bWVyaWNpbnB1dCdcbiAgICAgIH1dXG4gICAgfVxuICB9O1xufVxuXG52YXIgQ2hhcnRUeXBlU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzUgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDaGFydFR5cGVTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYXJ0VHlwZVN0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwidHlwZVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICB0aGlzLm9uQ2hhcnRUeXBlQ2hhbmdlZCA9IHZvaWQgMDtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5hZ2dyZWdhdGVzID0gZ2V0QWdncmVnYXRlcygpO1xuICAgICAgX3RoaXMuY2hhcnRUeXBlcyA9IF90b0NvbnN1bWFibGVBcnJheShfQ29uc3RhbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcIkNoYXJ0VHlwZXNcIl0pO1xuXG4gICAgICBfdGhpcy5zZXRDaGFydFR5cGVGcm9tTGF5b3V0KF90aGlzLnN0eC5sYXlvdXQpO1xuXG4gICAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wicmVhY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLm1haW5TdG9yZS5zdGF0ZS5jaGFydFR5cGU7XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5tYWluU3RvcmUuc3RhdGUuY2hhcnRUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBfdGhpcy5zZXRUeXBlKF90aGlzLm1haW5TdG9yZS5zdGF0ZS5jaGFydFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVBZ2dyZWdhdGUgPSBmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihpdGVtcyksXG4gICAgICAgICAgX3N0ZXA7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIF9zdGVwJHZhbHVlID0gX3N0ZXAudmFsdWUsXG4gICAgICAgICAgICAgIGlkID0gX3N0ZXAkdmFsdWUuaWQsXG4gICAgICAgICAgICAgIHZhbHVlID0gX3N0ZXAkdmFsdWUudmFsdWU7XG4gICAgICAgICAgdmFyIHR1cGxlID0gQ0lRLmRlcml2ZUZyb21PYmplY3RDaGFpbihfdGhpcy5zdHgubGF5b3V0LCBpZCk7XG4gICAgICAgICAgdHVwbGUub2JqW3R1cGxlLm1lbWJlcl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zdHguY2hhbmdlT2NjdXJyZWQoJ2xheW91dCcpO1xuXG4gICAgICBfdGhpcy5zdHguY3JlYXRlRGF0YVNldCgpO1xuXG4gICAgICBfdGhpcy5zdHguZHJhdygpO1xuICAgIH07XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gICAgdGhpcy5tZW51ID0gbmV3IF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlLCB7XG4gICAgICByb3V0ZTogJ2NoYXJ0LXR5cGUnXG4gICAgfSk7XG4gICAgdGhpcy5saXN0ID0gbmV3IF9MaXN0U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oe1xuICAgICAgZ2V0Q29udGV4dDogZnVuY3Rpb24gZ2V0Q29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgICB9LFxuICAgICAgZ2V0SXRlbXM6IGZ1bmN0aW9uIGdldEl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMudHlwZXM7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zZXR0aW5nc0RpYWxvZyA9IG5ldyBfU2V0dGluZ3NEaWFsb2dTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSh7XG4gICAgICBtYWluU3RvcmU6IG1haW5TdG9yZSxcbiAgICAgIG9uQ2hhbmdlZDogZnVuY3Rpb24gb25DaGFuZ2VkKGl0ZW1zKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy51cGRhdGVBZ2dyZWdhdGUoaXRlbXMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuQ2hhcnRUeXBlTWVudSA9IHRoaXMubWVudS5jb25uZWN0KF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKTtcbiAgICB0aGlzLkNoYXJ0VHlwZUxpc3QgPSB0aGlzLmxpc3QuY29ubmVjdChfY29tcG9uZW50c19MaXN0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSk7XG4gICAgdGhpcy5BZ2dyZWdhdGVDaGFydFNldHRpbmdzRGlhbG9nID0gdGhpcy5zZXR0aW5nc0RpYWxvZy5jb25uZWN0KF9jb21wb25lbnRzX1NldHRpbmdzRGlhbG9nX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2hhcnRUeXBlU3RvcmUsIFt7XG4gICAga2V5OiBcInNldFR5cGVGcm9tVUlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VHlwZUZyb21VSSh0eXBlKSB7XG4gICAgICBpZiAodGhpcy5jaGFydFR5cGVQcm9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQ2hhbmdpbmcgY2hhcnQgdHlwZSBkb2VzIG5vdGhpbmcgYmVjYXVzZSBjaGFydFR5cGUgcHJvcCBpcyBiZWluZyBzZXQuIENvbnNpZGVyIG92ZXJyaWRpbmcgdGhlIG9uQ2hhbmdlIHByb3AgaW4gPENoYXJ0VHlwZXMgLz4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFR5cGUodHlwZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFR5cGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VHlwZSh0eXBlKSB7XG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJMb2dBY3Rpb25zXCJdLkNoYXJ0VHlwZSwgdHlwZSk7XG5cbiAgICAgIGlmICghdHlwZSkge1xuICAgICAgICB0eXBlID0gJ21vdW50YWluJztcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICB0eXBlID0gdGhpcy50eXBlcy5maW5kKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgcmV0dXJuIHQuaWQgPT09IHR5cGU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZS5pZCA9PT0gdGhpcy50eXBlLmlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGUuaWQgPT09ICdzcGxpbmUnKSB7XG4gICAgICAgIC8vIFNwbGluZSBpcyBqdXN0IGEgbGluZSB3aXRoIHRlbnNpb25cbiAgICAgICAgdGhpcy5zdHguY2hhcnQudGVuc2lvbiA9IHRoaXMuc3R4LmxheW91dC50ZW5zaW9uID0gMC41O1xuICAgICAgICB0aGlzLnN0eC5zZXRDaGFydFR5cGUoJ21vdW50YWluJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0eC5jaGFydC50ZW5zaW9uID0gMDtcbiAgICAgICAgZGVsZXRlIHRoaXMuc3R4LmxheW91dC50ZW5zaW9uO1xuXG4gICAgICAgIGlmICh0aGlzLmFnZ3JlZ2F0ZXNbdHlwZS5pZF0pIHtcbiAgICAgICAgICAvLyBTZXQgYmFzZWxpbmUudXNlckxldmVsIHRvIGZhbHNlIHNvIGNoYXJ0IHdvbid0IG1vdmUgdXAgYWZ0ZXIgQWdncmVnYXRpb25UeXBlIHNldC5cbiAgICAgICAgICB0aGlzLnN0eC5jaGFydC5iYXNlbGluZS51c2VyTGV2ZWwgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnN0eC5zZXRBZ2dyZWdhdGlvblR5cGUodHlwZS5pZCk7IC8vIFJlc2V0IGJhc2VsaW5lLnVzZXJMZXZlbCB0byBpdHMgZGVmYXVsdCB2YWx1ZVxuXG4gICAgICAgICAgdGhpcy5zdHguY2hhcnQuYmFzZWxpbmUudXNlckxldmVsID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0eC5zZXRDaGFydFR5cGUodHlwZS5pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUHJvcHMob25DaGFuZ2UpIHtcbiAgICAgIHRoaXMub25DaGFydFR5cGVDaGFuZ2VkID0gb25DaGFuZ2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNob3dBZ2dyZWdhdGVEaWFsb2dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0FnZ3JlZ2F0ZURpYWxvZyhhZ2dyZWdhdGVJZCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmIChhZ2dyZWdhdGVJZCAhPT0gdGhpcy50eXBlLmlkKSB7XG4gICAgICAgIHRoaXMuc2V0VHlwZShhZ2dyZWdhdGVJZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBhZ2dyZWdhdGUgPSB0aGlzLmFnZ3JlZ2F0ZXNbYWdncmVnYXRlSWRdO1xuICAgICAgdGhpcy5zZXR0aW5nc0RpYWxvZy50aXRsZSA9IGFnZ3JlZ2F0ZS50aXRsZTtcbiAgICAgIHZhciBpbnB1dHMgPSBhZ2dyZWdhdGUuaW5wdXRzLm1hcChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgaWQgPSBfcmVmLmlkLFxuICAgICAgICAgICAgYWdnID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcImlkXCJdKTtcblxuICAgICAgICB2YXIgbmFtZSA9IGlkID09PSAnYm94JyB8fCBpZCA9PT0gJ3JldmVyc2FsJyA/IFwicGFuZGYuXCIuY29uY2F0KGlkKSA6IGlkO1xuICAgICAgICB2YXIgdHVwbGUgPSBDSVEuZGVyaXZlRnJvbU9iamVjdENoYWluKF90aGlzMi5zdHgubGF5b3V0LCBuYW1lKTtcbiAgICAgICAgdmFyIHZhbHVlID0gdHVwbGUub2JqW3R1cGxlLm1lbWJlcl07XG4gICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBfdGhpczIuc3R4LmNoYXJ0LmRlZmF1bHRDaGFydFN0eWxlQ29uZmlnW2lkXTtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIGlkOiBuYW1lLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSAhPSB1bmRlZmluZWQgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlXG4gICAgICAgIH0sIGFnZyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2V0dGluZ3NEaWFsb2cuaXRlbXMgPSBpbnB1dHM7XG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLnNldE9wZW4odHJ1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldENoYXJ0VHlwZUZyb21MYXlvdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2hhcnRUeXBlRnJvbUxheW91dChsYXlvdXQpIHtcbiAgICAgIHZhciBjaGFydFR5cGUgPSB0aGlzLmdldENoYXJ0VHlwZUZyb21MYXlvdXQobGF5b3V0KTtcbiAgICAgIHZhciB0eXBlSWR4ID0gdGhpcy5jaGFydFR5cGVzLmZpbmRJbmRleChmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gdC5pZCA9PT0gY2hhcnRUeXBlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnR5cGUgPSB0aGlzLmNoYXJ0VHlwZXNbdHlwZUlkeF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldENoYXJ0VHlwZUZyb21MYXlvdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2hhcnRUeXBlRnJvbUxheW91dChsYXlvdXQpIHtcbiAgICAgIHZhciBjaGFydFR5cGU7XG5cbiAgICAgIGlmIChsYXlvdXQudGVuc2lvbikge1xuICAgICAgICAvLyBXZSBhc3N1bWUgdGhhdCBpZiB0ZW5zaW9uIGlzIHNldCwgc3BsaW5lIGlzIGVuYWJsZWRcbiAgICAgICAgY2hhcnRUeXBlID0gJ3NwbGluZSc7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYWdncmVnYXRlc1tsYXlvdXQuYWdncmVnYXRpb25UeXBlXSkge1xuICAgICAgICBjaGFydFR5cGUgPSBsYXlvdXQuYWdncmVnYXRpb25UeXBlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhcnRUeXBlID0gbGF5b3V0LmNoYXJ0VHlwZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoYXJ0VHlwZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNUeXBlQ2FuZGxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzVHlwZUNhbmRsZSh0eXBlKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHR5cGUgPSB0aGlzLnR5cGVzLmZpbmQoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICByZXR1cm4gdC5pZCA9PT0gdHlwZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub3RDYW5kbGVzLmluZGV4T2YodHlwZS5pZCkgPT09IC0xO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnN0eDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hhcnRUeXBlUHJvcFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLnN0YXRlLmNoYXJ0VHlwZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNDYW5kbGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnR5cGUgPyBub3RDYW5kbGVzLmluZGV4T2YodGhpcy50eXBlLmlkKSA9PT0gLTEgOiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNTcGxpbmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnR5cGUuaWQgPT09ICdzcGxpbmUnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0FnZ3JlZ2F0ZUNoYXJ0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgcmV0dXJuICEhYWdncmVnYXRlQ2hhcnRzLmZpbmQoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuaWQgPT09IF90aGlzMy5zdHgubGF5b3V0LmFnZ3JlZ2F0aW9uVHlwZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0eXBlc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBpc1RpY2tTZWxlY3RlZCA9IHRoaXMubWFpblN0b3JlLnRpbWVwZXJpb2QudGltZVVuaXQgPT09ICd0aWNrJztcblxuICAgICAgaWYgKHRoaXMuY2hhcnRUeXBlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuY2hhcnRUeXBlcyA9IF90b0NvbnN1bWFibGVBcnJheShfQ29uc3RhbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcIkNoYXJ0VHlwZXNcIl0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jaGFydFR5cGVzLm1hcChmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0KSwge30sIHtcbiAgICAgICAgICBhY3RpdmU6IHQuaWQgPT09IF90aGlzNC50eXBlLmlkLFxuICAgICAgICAgIGRpc2FibGVkOiB0LmNhbmRsZU9ubHkgPyBpc1RpY2tTZWxlY3RlZCA6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENoYXJ0VHlwZVN0b3JlO1xufSgpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0eXBlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICdtb3VudGFpbic7XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0VHlwZUZyb21VSVwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRUeXBlRnJvbVVJXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFR5cGVcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFR5cGVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUHJvcHNcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVByb3BzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3dBZ2dyZWdhdGVEaWFsb2dcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3dBZ2dyZWdhdGVEaWFsb2dcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidHlwZXNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInR5cGVzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENoYXJ0VHlwZUZyb21MYXlvdXRcIiwgW19kZWM1XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENoYXJ0VHlwZUZyb21MYXlvdXRcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9Db25uZWN0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogY29ubmVjdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjb25uZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY29ubmVjdDsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4LXJlYWN0ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC1yZWFjdC9pbmRleC5tb2R1bGUuanNcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5cblxuXG5mdW5jdGlvbiBjb25uZWN0TWFpblN0b3JlKG1hcHBlckZ1bmN0aW9uKSB7XG4gIC8vIENvbWJpbmUgYm90aCBzdG9yZXMgYW5kIHByb3BzLCB3aXRoIHByb3BzIHRha2luZyBwcmVjZWRlbmNlXG4gIHZhciBtYXBTdG9yZXNBbmRQcm9wcyA9IGZ1bmN0aW9uIG1hcFN0b3Jlc0FuZFByb3BzKG1haW5TdG9yZSwgcHJvcHNcbiAgLyogLCBjb250ZXh0ICovXG4gICkge1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcHBlckZ1bmN0aW9uKG1haW5TdG9yZSkpLCBwcm9wcyk7XG4gIH07XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIE9iamVjdChtb2J4X3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJpbmplY3RcIl0pKG1hcFN0b3Jlc0FuZFByb3BzKShXcmFwcGVkQ29tcG9uZW50KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29ubmVjdEN1c3RvbVN0b3JlKG1hcHBlckZ1bmN0aW9uLCBDdXN0b21TdG9yZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICB2YXIgU3RvcmVkQ29tcG9uZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHMoU3RvcmVkQ29tcG9uZW50LCBfQ29tcG9uZW50KTtcblxuICAgICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihTdG9yZWRDb21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBTdG9yZWRDb21wb25lbnQocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdG9yZWRDb21wb25lbnQpO1xuXG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICAgICAgICB2YXIgbWFpblN0b3JlID0gX3RoaXMucHJvcHMubWFpblN0b3JlO1xuICAgICAgICBfdGhpcy5zdG9yZSA9IG5ldyBDdXN0b21TdG9yZShtYWluU3RvcmUpO1xuXG4gICAgICAgIHZhciBtYXBTdG9yZXNBbmRQcm9wcyA9IGZ1bmN0aW9uIG1hcFN0b3Jlc0FuZFByb3BzKF9tYWluU3RvcmUsIG5leHRQcm9wcykge1xuICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcHBlckZ1bmN0aW9uKF90aGlzLnN0b3JlKSksIG5leHRQcm9wcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKF90aGlzLnN0b3JlLnVwZGF0ZVByb3BzKSB7XG4gICAgICAgICAgX3RoaXMuc3RvcmUudXBkYXRlUHJvcHMocHJvcHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuaW5qZWN0ZWRDb21wb25lbnQgPSBPYmplY3QobW9ieF9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiaW5qZWN0XCJdKShtYXBTdG9yZXNBbmRQcm9wcykoV3JhcHBlZENvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgX2NyZWF0ZUNsYXNzKFN0b3JlZENvbXBvbmVudCwgW3tcbiAgICAgICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICAgIGlmICh0aGlzLnN0b3JlLnVwZGF0ZVByb3BzKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLnVwZGF0ZVByb3BzKHRoaXMucHJvcHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgIGlmICh0aGlzLnN0b3JlLmRlc3RydWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGVzdHJ1Y3RvcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHRoaXMuaW5qZWN0ZWRDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIHJldHVybiBTdG9yZWRDb21wb25lbnQ7XG4gICAgfShyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiQ29tcG9uZW50XCJdKTsgLy8gbWFrZSBzb21lIG5pY2UgbmFtZXMgdGhhdCB3aWxsIHNob3cgdXAgaW4gdGhlIFJlYWN0IERldnRvb2xzXG5cblxuICAgIHZhciB3cmFwcGVkRGlzcGxheU5hbWUgPSBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50LmNvbnN0cnVjdG9yICYmIFdyYXBwZWRDb21wb25lbnQuY29uc3RydWN0b3IubmFtZSB8fCAnVW5rbm93bic7XG4gICAgU3RvcmVkQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gXCJ1bmJveC1cIi5jb25jYXQod3JhcHBlZERpc3BsYXlOYW1lKTtcbiAgICByZXR1cm4gT2JqZWN0KG1vYnhfcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImluamVjdFwiXSkoZnVuY3Rpb24gKG1haW5TdG9yZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWFpblN0b3JlOiBtYWluU3RvcmVcbiAgICAgIH07XG4gICAgfSkoU3RvcmVkQ29tcG9uZW50KTtcbiAgfTtcbn0gLy8gaWYgc3RvcmUgaXMgbm90IGRlZmluZWQsIG1haW4gc3RvcmUgaXMgdXNlZFxuXG5cbmZ1bmN0aW9uIGNvbm5lY3QobWFwcGVyRnVuY3Rpb24sIEN1c3RvbVN0b3JlKSB7XG4gIGlmIChDdXN0b21TdG9yZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGNvbm5lY3RNYWluU3RvcmUobWFwcGVyRnVuY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNvbm5lY3RDdXN0b21TdG9yZShtYXBwZXJGdW5jdGlvbiwgQ3VzdG9tU3RvcmUpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9Dcm9zc2hhaXJTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9Dcm9zc2hhaXJTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvX3RoZW1lcy5zY3NzICovIFwiLi9zYXNzL190aGVtZXMuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18pO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2NsYXNzLCBfZGVzY3JpcHRvciwgX3RlbXA7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cblxuXG5cbnZhciBNQVhfVE9PTFRJUF9XSURUSCA9IDMxNTtcbnZhciBDcm9zc2hhaXJTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDcm9zc2hhaXJTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENyb3NzaGFpclN0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhdGVcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgdGhpcy5ub2RlID0gbnVsbDtcbiAgICB0aGlzLmxhc3RCYXIgPSB7fTtcbiAgICB0aGlzLnNob3dDaGFuZ2UgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dTZXJpZXMgPSB0cnVlO1xuICAgIHRoaXMuc2hvd1N0dWRpZXMgPSB0cnVlO1xuXG4gICAgdGhpcy5vbkNyb3NzaGFpckNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNvbnRleHRSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdG9yZWRTdGF0ZSA9IF90aGlzLnN0eC5sYXlvdXQuY3Jvc3NoYWlyO1xuICAgICAgdmFyIHN0YXRlID0gdHlwZW9mIHN0b3JlZFN0YXRlICE9PSAnbnVtYmVyJyA/IDIgOiBzdG9yZWRTdGF0ZTtcblxuICAgICAgX3RoaXMuc2V0Q3Jvc3NoYWlyU3RhdGUoc3RhdGUpO1xuXG4gICAgICBfdGhpcy5zdHguYXBwZW5kKCdoZWFkc1VwSFInLCBfdGhpcy5yZW5kZXJDcm9zc2hhaXJUb29sdGlwKTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW5kZXJDcm9zc2hhaXJUb29sdGlwID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gaWYgbm8gdG9vbHRpcCBleGlzdHMsIHRoZW4gc2tpcFxuICAgICAgaWYgKF90aGlzLnN0YXRlICE9PSAyKSByZXR1cm47XG4gICAgICB2YXIgc3R4ID0gX3RoaXMuc3R4O1xuICAgICAgdmFyIF9zdHgkY29udHJvbHMgPSBzdHguY29udHJvbHMsXG4gICAgICAgICAgY3Jvc3NYID0gX3N0eCRjb250cm9scy5jcm9zc1gsXG4gICAgICAgICAgY3Jvc3NZID0gX3N0eCRjb250cm9scy5jcm9zc1k7IC8vIGNyb3NzaGFpcnMgYXJlIG5vdCBvblxuXG4gICAgICBpZiAoY3Jvc3NYICYmIGNyb3NzWC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgfHwgY3Jvc3NZICYmIGNyb3NzWS5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgYmFyID0gc3R4LmJhckZyb21QaXhlbChzdHguY3gpO1xuICAgICAgdmFyIGRhdGEgPSBzdHguY2hhcnQuZGF0YVNlZ21lbnRbYmFyXTtcblxuICAgICAgaWYgKCFkYXRhIHx8ICFfdGhpcy5pc0NoYXJ0UmVhZHkpIHtcbiAgICAgICAgX3RoaXMudXBkYXRlVG9vbHRpcFBvc2l0aW9uKHtcbiAgICAgICAgICBsZWZ0OiAtNTAwMCxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgcm93czogbnVsbFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzaG93T3ZlckJhck9ubHkgPSBmYWxzZTtcbiAgICAgIHZhciBnb29kQmFyO1xuICAgICAgdmFyIG92ZXJCYXIgPSB0cnVlO1xuICAgICAgdmFyIGhpZ2hQeCwgbG93UHg7XG5cbiAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQgJiYgZGF0YSAmJiBkYXRhLkRUKSB7XG4gICAgICAgIGdvb2RCYXIgPSB0cnVlO1xuXG4gICAgICAgIGlmIChkYXRhLkhpZ2gpIHtcbiAgICAgICAgICBoaWdoUHggPSBzdHgucGl4ZWxGcm9tUHJpY2UoZGF0YS5IaWdoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLkxvdykge1xuICAgICAgICAgIGxvd1B4ID0gc3R4LnBpeGVsRnJvbVByaWNlKGRhdGEuTG93KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3R4LmNoYXJ0LmhpZ2hMb3dCYXJzKSB7XG4gICAgICAgICAgaWYgKGRhdGEuQ2xvc2UpIHtcbiAgICAgICAgICAgIGhpZ2hQeCA9IHN0eC5waXhlbEZyb21QcmljZShkYXRhLkNsb3NlKSAtIDE1O1xuICAgICAgICAgICAgbG93UHggPSBzdHgucGl4ZWxGcm9tUHJpY2UoZGF0YS5DbG9zZSkgKyAxNTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvd092ZXJCYXJPbmx5ICYmICEoc3R4LmN5ID49IGhpZ2hQeCAmJiBzdHguY3kgPD0gbG93UHgpKSB7XG4gICAgICAgICAgb3ZlckJhciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghKHN0eC5pbnNpZGVDaGFydCAmJiBzdHgubGF5b3V0LmNyb3NzaGFpciAmJiBzdHguZGlzcGxheUNyb3NzaGFpcnMgJiYgIXN0eC5vdmVyWEF4aXMgJiYgIXN0eC5vdmVyWUF4aXMgJiYgIXN0eC5vcGVuRGlhbG9nICYmICFzdHguYWN0aXZlRHJhd2luZyAmJiAhc3R4LmdyYWJiaW5nU2NyZWVuICYmIGdvb2RCYXIgJiYgb3ZlckJhcikpIHtcbiAgICAgICAgX3RoaXMudXBkYXRlVG9vbHRpcFBvc2l0aW9uKHtcbiAgICAgICAgICBsZWZ0OiAtNTAwMCxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgcm93czogbnVsbFxuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5sYXN0QmFyID0ge307XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHJvd3MgPSBudWxsO1xuXG4gICAgICBpZiAoIShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJzYW1lQmFyXCJdKShkYXRhLCBfdGhpcy5sYXN0QmFyKSAmJiBiYXIgIT09IHN0eC5jaGFydC5kYXRhU2VnbWVudC5sZW5ndGggLSAxKSkge1xuICAgICAgICByb3dzID0gX3RoaXMuY2FsY3VsYXRlUm93cyhkYXRhKTtcbiAgICAgICAgX3RoaXMubGFzdEJhciA9IGRhdGE7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnVwZGF0ZVRvb2x0aXBQb3NpdGlvbih7XG4gICAgICAgIGxlZnQ6IENJUS5DaGFydEVuZ2luZS5jcm9zc2hhaXJYIC0gX3RoaXMuc3R4LmxlZnQsXG4gICAgICAgIHRvcDogQ0lRLkNoYXJ0RW5naW5lLmNyb3NzaGFpclkgLSBfdGhpcy5zdHgudG9wLFxuICAgICAgICByb3dzOiByb3dzXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5ID0gZnVuY3Rpb24gKHZpc2libGUpIHtcbiAgICAgIHZhciBjcm9zc2hhaXIgPSBfdGhpcy5zdHguY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jcS1jcm9zc2hhaXInKTtcblxuICAgICAgaWYgKF90aGlzLnN0YXRlID09PSAyICYmIHZpc2libGUpIGNyb3NzaGFpci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtlbHNlIGlmIChfdGhpcy5zdGF0ZSA9PT0gMikgY3Jvc3NoYWlyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH07XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ3Jvc3NoYWlyU3RvcmUsIFt7XG4gICAga2V5OiBcInNldEZsb2F0UHJpY2VMYWJlbFN0eWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZsb2F0UHJpY2VMYWJlbFN0eWxlKCkge1xuICAgICAgdmFyIHRoZW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcudGhlbWU7XG4gICAgICB2YXIgY3Jvc3NoYWlyID0gdGhpcy5zdHguY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jcS1jcm9zc2hhaXInKTtcblxuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IDIpIHtcbiAgICAgICAgdGhpcy5zdHguc2V0U3R5bGUoJ3N0eC1mbG9hdC1wcmljZScsICdjb2xvcicsICd0cmFuc3BhcmVudCcpO1xuICAgICAgICB0aGlzLnN0eC5zZXRTdHlsZSgnc3R4LWZsb2F0LXByaWNlJywgJ2JhY2tncm91bmQtY29sb3InLCAndHJhbnNwYXJlbnQnKTtcbiAgICAgICAgdGhpcy5zdHguY29udHJvbHMuZmxvYXREYXRlLnN0eWxlLmNvbG9yID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgdGhpcy5zdHguY29udHJvbHMuZmxvYXREYXRlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7XG4gICAgICAgIHRoaXMuc3R4LmNvbnRyb2xzLmZsb2F0RGF0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLnN0eC5jb250cm9scy5jcm9zc1guc3R5bGUuaGVpZ2h0ID0gXCJjYWxjKDEwMCUgLSBcIi5jb25jYXQodGhpcy5zdHgueGF4aXNIZWlnaHQsIFwicHgpXCIpO1xuICAgICAgICBjcm9zc2hhaXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0eC5zZXRTdHlsZSgnc3R4LWZsb2F0LXByaWNlJywgJ2NvbG9yJywgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmFbXCJcIi5jb25jYXQodGhlbWUsIFwiX2Zsb2F0X2xhYmVsc190ZXh0XCIpXSk7XG4gICAgICAgIHRoaXMuc3R4LnNldFN0eWxlKCdzdHgtZmxvYXQtcHJpY2UnLCAnYmFja2dyb3VuZC1jb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hW1wiXCIuY29uY2F0KHRoZW1lLCBcIl9mbG9hdF9sYWJlbHNfYmdcIildKTtcbiAgICAgICAgdGhpcy5zdHguY29udHJvbHMuZmxvYXREYXRlLnN0eWxlLmNvbG9yID0gX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmFbXCJcIi5jb25jYXQodGhlbWUsIFwiX2Zsb2F0X2xhYmVsc190ZXh0XCIpXTtcbiAgICAgICAgdGhpcy5zdHguY29udHJvbHMuZmxvYXREYXRlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hW1wiXCIuY29uY2F0KHRoZW1lLCBcIl9mbG9hdF9sYWJlbHNfYmdcIildO1xuICAgICAgICB0aGlzLnN0eC5jb250cm9scy5mbG9hdERhdGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHRoaXMuc3R4LmNvbnRyb2xzLmNyb3NzWC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGNyb3NzaGFpci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9nZ2xlU3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlU3RhdGUoKSB7XG4gICAgICB2YXIgc3RhdGUgPSAodGhpcy5zdGF0ZSArIDEpICUgMztcbiAgICAgIHRoaXMuc2V0Q3Jvc3NoYWlyU3RhdGUoc3RhdGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQcm9wcyhvbkNoYW5nZSkge1xuICAgICAgdGhpcy5vbkNyb3NzaGFpckNoYW5nZWQgPSBvbkNoYW5nZSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q3Jvc3NoYWlyU3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q3Jvc3NoYWlyU3RhdGUoc3RhdGUpIHtcbiAgICAgIGlmICghdGhpcy5jb250ZXh0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgdGhpcy5zZXRGbG9hdFByaWNlTGFiZWxTdHlsZSgpO1xuICAgICAgdGhpcy5zdHgubGF5b3V0LmNyb3NzaGFpciA9IHN0YXRlO1xuICAgICAgdGhpcy5zdHguZG9EaXNwbGF5Q3Jvc3NoYWlycygpO1xuICAgICAgdGhpcy5tYWluU3RvcmUuc3RhdGUuY3Jvc3NoYWlyU3RhdGUgPSBzdGF0ZTtcbiAgICAgIHRoaXMubWFpblN0b3JlLnN0YXRlLnNhdmVMYXlvdXQoKTtcbiAgICAgIHRoaXMub25Dcm9zc2hhaXJDaGFuZ2VkKHRoaXMuc3RhdGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjYWxjdWxhdGVSb3dzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVJvd3MoZGF0YSkge1xuICAgICAgdmFyIHN0eCA9IHRoaXMuc3R4O1xuICAgICAgdmFyIGR1cE1hcCA9IHt9O1xuICAgICAgdmFyIGZpZWxkcyA9IFtdO1xuICAgICAge1xuICAgICAgICAvLyBBY2Nlc3MgbWFpbiBjaGFydCBwYW5lbCBhbmQgeUF4aXMgaW4gdGhpcyBzY29wZTpcbiAgICAgICAgdmFyIHBhbmVsID0gc3R4LmNoYXJ0LnBhbmVsO1xuICAgICAgICB2YXIgeUF4aXMgPSBwYW5lbC55QXhpcztcbiAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgIG1lbWJlcjogJ0RUJyxcbiAgICAgICAgICBkaXNwbGF5OiAnRFQnLFxuICAgICAgICAgIHBhbmVsOiBwYW5lbCxcbiAgICAgICAgICB5QXhpczogeUF4aXNcbiAgICAgICAgfSk7XG4gICAgICAgIGR1cE1hcC5EVCA9IGR1cE1hcC5DbG9zZSA9IDE7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hvd0NoYW5nZSAmJiBDSVEuQ2hhcnRFbmdpbmUuaXNEYWlseUludGVydmFsKHN0eC5sYXlvdXQuaW50ZXJ2YWwpKSB7XG4gICAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgbWVtYmVyOiAnQ2hhbmdlJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdDaGFuZ2UnLFxuICAgICAgICAgICAgcGFuZWw6IHBhbmVsLFxuICAgICAgICAgICAgeUF4aXM6IHlBeGlzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zaG93T2hsKSB7XG4gICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYXJyID0gWydPcGVuJywgJ0Nsb3NlJywgJ0hpZ2gnLCAnTG93J107IF9pIDwgX2Fyci5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBlbCA9IF9hcnJbX2ldO1xuICAgICAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICBtZW1iZXI6IGVsLFxuICAgICAgICAgICAgICBkaXNwbGF5OiBlbCxcbiAgICAgICAgICAgICAgcGFuZWw6IHBhbmVsLFxuICAgICAgICAgICAgICB5QXhpczogeUF4aXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGR1cE1hcC5PcGVuID0gZHVwTWFwLkhpZ2ggPSBkdXBNYXAuTG93ID0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zaG93U2VyaWVzKSB7XG4gICAgICAgIHZhciByZW5kZXJlcnMgPSBzdHguY2hhcnQuc2VyaWVzUmVuZGVyZXJzO1xuXG4gICAgICAgIGZvciAodmFyIHJlbmRlcmVyIGluIHJlbmRlcmVycykge1xuICAgICAgICAgIHZhciByZW5kZXJlclRvRGlzcGxheSA9IHJlbmRlcmVyc1tyZW5kZXJlcl07XG4gICAgICAgICAgdmFyIF9wYW5lbCA9IHN0eC5wYW5lbHNbcmVuZGVyZXJUb0Rpc3BsYXkucGFyYW1zLnBhbmVsXTtcbiAgICAgICAgICB2YXIgX3lBeGlzID0gcmVuZGVyZXJUb0Rpc3BsYXkucGFyYW1zLnlBeGlzO1xuXG4gICAgICAgICAgaWYgKCFfeUF4aXMgJiYgcmVuZGVyZXJUb0Rpc3BsYXkucGFyYW1zLnNoYXJlWUF4aXMpIHtcbiAgICAgICAgICAgIF95QXhpcyA9IF9wYW5lbC55QXhpcztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKHZhciBpZCA9IDA7IGlkIDwgcmVuZGVyZXJUb0Rpc3BsYXkuc2VyaWVzUGFyYW1zLmxlbmd0aDsgaWQrKykge1xuICAgICAgICAgICAgdmFyIHNlcmllc1BhcmFtcyA9IHJlbmRlcmVyVG9EaXNwbGF5LnNlcmllc1BhcmFtc1tpZF07XG5cbiAgICAgICAgICAgIGlmIChzZXJpZXNQYXJhbXMuZGlzcGxheSA9PT0gdGhpcy5hY3RpdmVTeW1ib2wuc3ltYm9sKSB7XG4gICAgICAgICAgICAgIHZhciBkaXNwbGF5ID0gdGhpcy5hY3RpdmVTeW1ib2wubmFtZTtcbiAgICAgICAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lbWJlcjogJ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBkaXNwbGF5LFxuICAgICAgICAgICAgICAgIHBhbmVsOiBfcGFuZWwsXG4gICAgICAgICAgICAgICAgeUF4aXM6IF95QXhpc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgZHVwTWFwW2Rpc3BsYXldID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGlmIGEgc2VyaWVzIGhhcyBhIHN5bWJvbCBhbmQgYSBmaWVsZCB0aGVuIGl0IG1heWJlIGEgb2JqZWN0IGNoYWluXG4gICAgICAgICAgICAgIHZhciBzS2V5ID0gc2VyaWVzUGFyYW1zLnN5bWJvbDtcbiAgICAgICAgICAgICAgdmFyIHN1YkZpZWxkID0gc2VyaWVzUGFyYW1zLmZpZWxkO1xuXG4gICAgICAgICAgICAgIGlmICghc0tleSkge1xuICAgICAgICAgICAgICAgIHNLZXkgPSBzdWJGaWVsZDtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJGaWVsZCAmJiBzS2V5ICE9PSBzdWJGaWVsZCkge1xuICAgICAgICAgICAgICAgIHNLZXkgPSBDSVEuY3JlYXRlT2JqZWN0Q2hhaW5OYW1lcyhzS2V5LCBzdWJGaWVsZClbMF07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2YXIgX2Rpc3BsYXkgPSBzZXJpZXNQYXJhbXMuZGlzcGxheSB8fCBzZXJpZXNQYXJhbXMuc3ltYm9sIHx8IHNlcmllc1BhcmFtcy5maWVsZDtcblxuICAgICAgICAgICAgICBpZiAoc0tleSAmJiAoIWR1cE1hcFtfZGlzcGxheV0gfHwgc2VyaWVzUGFyYW1zLnN5bWJvbCA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIG1lbWJlcjogc0tleSxcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IF9kaXNwbGF5LFxuICAgICAgICAgICAgICAgICAgcGFuZWw6IF9wYW5lbCxcbiAgICAgICAgICAgICAgICAgIHlBeGlzOiBfeUF4aXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkdXBNYXBbX2Rpc3BsYXldID0gMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zaG93U3R1ZGllcykge1xuICAgICAgICB2YXIgc3R1ZGllcyA9IHN0eC5sYXlvdXQuc3R1ZGllcztcblxuICAgICAgICBmb3IgKHZhciBzdHVkeSBpbiBzdHVkaWVzKSB7XG4gICAgICAgICAgdmFyIF9wYW5lbDIgPSBzdHgucGFuZWxzW3N0dWRpZXNbc3R1ZHldLnBhbmVsXTtcbiAgICAgICAgICB2YXIgX3lBeGlzMiA9IF9wYW5lbDIueUF4aXM7XG5cbiAgICAgICAgICBmb3IgKHZhciBvdXRwdXQgaW4gc3R1ZGllc1tzdHVkeV0ub3V0cHV0TWFwKSB7XG4gICAgICAgICAgICBpZiAob3V0cHV0ICYmICFkdXBNYXBbb3V0cHV0XSkge1xuICAgICAgICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVtYmVyOiBvdXRwdXQsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhbmVsOiBfcGFuZWwyLFxuICAgICAgICAgICAgICAgIHlBeGlzOiBfeUF4aXMyXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBkdXBNYXBbb3V0cHV0XSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGhpc3QgPSBcIlwiLmNvbmNhdChzdHVkeSwgXCJfaGlzdFwiKTtcblxuICAgICAgICAgIGlmICghZHVwTWFwW2hpc3RdKSB7XG4gICAgICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgIG1lbWJlcjogaGlzdCxcbiAgICAgICAgICAgICAgZGlzcGxheTogaGlzdCxcbiAgICAgICAgICAgICAgcGFuZWw6IF9wYW5lbDIsXG4gICAgICAgICAgICAgIHlBeGlzOiBfeUF4aXMyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBoaXN0MSA9IFwiXCIuY29uY2F0KHN0dWR5LCBcIl9oaXN0MVwiKTtcbiAgICAgICAgICAgIHZhciBoaXN0MiA9IFwiXCIuY29uY2F0KHN0dWR5LCBcIl9oaXN0MlwiKTtcbiAgICAgICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgICAgbWVtYmVyOiBoaXN0MSxcbiAgICAgICAgICAgICAgZGlzcGxheTogaGlzdDEsXG4gICAgICAgICAgICAgIHBhbmVsOiBfcGFuZWwyLFxuICAgICAgICAgICAgICB5QXhpczogX3lBeGlzMlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgIG1lbWJlcjogaGlzdDIsXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGhpc3QyLFxuICAgICAgICAgICAgICBwYW5lbDogX3BhbmVsMixcbiAgICAgICAgICAgICAgeUF4aXM6IF95QXhpczJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZHVwTWFwW2hpc3RdID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHJvd3MgPSBbXTtcblxuICAgICAgZm9yICh2YXIgX2kyID0gMCwgX2ZpZWxkcyA9IGZpZWxkczsgX2kyIDwgX2ZpZWxkcy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgIHZhciBvYmogPSBfZmllbGRzW19pMl07XG4gICAgICAgIHZhciBuYW1lID0gb2JqLm1lbWJlcixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lID0gb2JqLmRpc3BsYXksXG4gICAgICAgICAgICBfcGFuZWwzID0gb2JqLnBhbmVsLFxuICAgICAgICAgICAgX3lBeGlzMyA9IG9iai55QXhpcztcbiAgICAgICAgdmFyIGxhYmVsRGVjaW1hbFBsYWNlcyA9IHRoaXMuZGVjaW1hbFBsYWNlcztcblxuICAgICAgICBpZiAoX3lBeGlzMykge1xuICAgICAgICAgIGlmIChfcGFuZWwzICE9PSBfcGFuZWwzLmNoYXJ0LnBhbmVsKSB7XG4gICAgICAgICAgICAvLyBJZiBhIHN0dWR5IHBhbmVsLCB1c2UgeUF4aXMgc2V0dGluZ3MgdG8gZGV0ZXJtaW5lIGRlY2ltYWwgcGxhY2VzXG4gICAgICAgICAgICBpZiAoX3lBeGlzMy5kZWNpbWFsUGxhY2VzIHx8IF95QXhpczMuZGVjaW1hbFBsYWNlcyA9PT0gMCkge1xuICAgICAgICAgICAgICBsYWJlbERlY2ltYWxQbGFjZXMgPSBfeUF4aXMzLmRlY2ltYWxQbGFjZXM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF95QXhpczMubWF4RGVjaW1hbFBsYWNlcyB8fCBfeUF4aXMzLm1heERlY2ltYWxQbGFjZXMgPT09IDApIHtcbiAgICAgICAgICAgICAgbGFiZWxEZWNpbWFsUGxhY2VzID0gX3lBeGlzMy5tYXhEZWNpbWFsUGxhY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBhIGNoYXJ0IHBhbmVsLCB0aGVuIGFsd2F5cyBkaXNwbGF5IGF0IGxlYXN0IHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgYXMgY2FsY3VsYXRlZCBieSBtYXN0ZXJEYXRhIChwYW5lbC5jaGFydC5kZWNpbWFsUGxhY2VzKVxuICAgICAgICAgICAgLy8gYnV0IGlmIHdlIGFyZSB6b29tZWQgdG8gaGlnaCBncmFudWxhcml0eSB0aGVuIGV4cGFuZCBhbGwgdGhlIHdheSBvdXQgdG8gdGhlIHktYXhpcyBzaWduaWZpY2FudCBkaWdpdHMgKHBhbmVsLnlBeGlzLnByaW50RGVjaW1hbFBsYWNlcylcbiAgICAgICAgICAgIGxhYmVsRGVjaW1hbFBsYWNlcyA9IE1hdGgubWF4KF95QXhpczMucHJpbnREZWNpbWFsUGxhY2VzLCBfcGFuZWwzLmNoYXJ0LmRlY2ltYWxQbGFjZXMpOyAvLyAuLi4gYW5kIG5ldmVyIGRpc3BsYXkgbW9yZSBkZWNpbWFsIHBsYWNlcyB0aGFuIHRoZSBzeW1ib2wgaXMgc3VwcG9zZWQgdG8gYmUgcXVvdGluZyBhdFxuXG4gICAgICAgICAgICBpZiAoX3lBeGlzMy5tYXhEZWNpbWFsUGxhY2VzIHx8IF95QXhpczMubWF4RGVjaW1hbFBsYWNlcyA9PT0gMCkge1xuICAgICAgICAgICAgICBsYWJlbERlY2ltYWxQbGFjZXMgPSBNYXRoLm1pbihsYWJlbERlY2ltYWxQbGFjZXMsIF95QXhpczMubWF4RGVjaW1hbFBsYWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRzRmllbGQgPSBudWxsOyAvLyBhY2NvdW50IGZvciBvYmplY3QgY2hhaW5zXG5cbiAgICAgICAgdmFyIHR1cGxlID0gQ0lRLmV4aXN0c0luT2JqZWN0Q2hhaW4oZGF0YSwgbmFtZSk7XG5cbiAgICAgICAgaWYgKHR1cGxlKSB7XG4gICAgICAgICAgZHNGaWVsZCA9IHR1cGxlLm9ialt0dXBsZS5tZW1iZXJdO1xuICAgICAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdDaGFuZ2UnKSB7XG4gICAgICAgICAgZHNGaWVsZCA9IGRhdGEuQ2xvc2UgLSBkYXRhLmlxUHJldkNsb3NlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpZWxkTmFtZSA9IGRpc3BsYXlOYW1lLnJlcGxhY2UoL14oUmVzdWx0ICkoLiopLywgJyQyJyk7XG5cbiAgICAgICAgaWYgKChkc0ZpZWxkIHx8IGRzRmllbGQgPT09IDApICYmIChuYW1lID09PSAnRFQnIHx8IF90eXBlb2YoZHNGaWVsZCkgIT09ICdvYmplY3QnIHx8IGRzRmllbGQuQ2xvc2UgfHwgZHNGaWVsZC5DbG9zZSA9PT0gMCkpIHtcbiAgICAgICAgICB2YXIgZmllbGRWYWx1ZSA9ICcnO1xuXG4gICAgICAgICAgaWYgKGRzRmllbGQuQ2xvc2UgfHwgZHNGaWVsZC5DbG9zZSA9PT0gMCkge1xuICAgICAgICAgICAgZHNGaWVsZCA9IGRzRmllbGQuQ2xvc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGRzRmllbGQuY29uc3RydWN0b3IgPT09IE51bWJlcikge1xuICAgICAgICAgICAgaWYgKCFfeUF4aXMzKSB7XG4gICAgICAgICAgICAgIC8vIHJhdyB2YWx1ZVxuICAgICAgICAgICAgICBmaWVsZFZhbHVlID0gZHNGaWVsZC50b0ZpeGVkKGxhYmVsRGVjaW1hbFBsYWNlcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF95QXhpczMub3JpZ2luYWxQcmljZUZvcm1hdHRlciAmJiBfeUF4aXMzLm9yaWdpbmFsUHJpY2VGb3JtYXR0ZXIuZnVuYykge1xuICAgICAgICAgICAgICAvLyBpbiBjb21wYXJpc29uIG1vZGUgd2l0aCBjdXN0b20gZm9ybWF0dGVyXG4gICAgICAgICAgICAgIGZpZWxkVmFsdWUgPSBfeUF4aXMzLm9yaWdpbmFsUHJpY2VGb3JtYXR0ZXIuZnVuYyhzdHgsIF9wYW5lbDMsIGRzRmllbGQsIGxhYmVsRGVjaW1hbFBsYWNlcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF95QXhpczMucHJpY2VGb3JtYXR0ZXIgJiYgX3lBeGlzMy5wcmljZUZvcm1hdHRlciAhPT0gQ0lRLkNvbXBhcmlzb24ucHJpY2VGb3JtYXQpIHtcbiAgICAgICAgICAgICAgLy8gdXNpbmcgY3VzdG9tIGZvcm1hdHRlclxuICAgICAgICAgICAgICBmaWVsZFZhbHVlID0gX3lBeGlzMy5wcmljZUZvcm1hdHRlcihzdHgsIF9wYW5lbDMsIGRzRmllbGQsIGxhYmVsRGVjaW1hbFBsYWNlcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmaWVsZFZhbHVlID0gc3R4LmZvcm1hdFlBeGlzUHJpY2UoZHNGaWVsZCwgX3BhbmVsMywgbGFiZWxEZWNpbWFsUGxhY2VzLCBfeUF4aXMzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGRzRmllbGQuY29uc3RydWN0b3IgPT09IERhdGUpIHtcbiAgICAgICAgICAgIHZhciBmbG9hdERhdGUgPSBzdHguY29udHJvbHMuZmxvYXREYXRlO1xuXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gJ0RUJyAmJiBmbG9hdERhdGUgJiYgZmxvYXREYXRlLmlubmVySFRNTCkge1xuICAgICAgICAgICAgICBpZiAoc3R4LmNoYXJ0LnhBeGlzLm5vRHJhdykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpZWxkVmFsdWUgPSBmbG9hdERhdGUuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmaWVsZFZhbHVlID0gQ0lRLnl5eXltbWRkKGRzRmllbGQpO1xuXG4gICAgICAgICAgICAgIGlmICghQ0lRLkNoYXJ0RW5naW5lLmlzRGFpbHlJbnRlcnZhbChzdHgubGF5b3V0LmludGVydmFsKSkge1xuICAgICAgICAgICAgICAgIGZpZWxkVmFsdWUgKz0gXCIgXCIuY29uY2F0KGRzRmllbGQudG9UaW1lU3RyaW5nKCkuc3Vic3RyKDAsIDgpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWVsZFZhbHVlID0gZHNGaWVsZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByb3dzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogZmllbGROYW1lLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgICB2YWx1ZTogZmllbGRWYWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByb3dzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVUb29sdGlwUG9zaXRpb25cIixcbiAgICAvLyBZRVMhIHdlIGFyZSBtYW51YWxseSBwYXRjaGluZyBET00sIEJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0byBwYXlcbiAgICAvLyBmb3IgcmVhY3QgcmVjb25jaWxlciAmIG1veCB0cmFja2luZyBvYnNlcnZhYmxlcy5cbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVG9vbHRpcFBvc2l0aW9uKF9yZWYpIHtcbiAgICAgIHZhciB0b3AgPSBfcmVmLnRvcCxcbiAgICAgICAgICBsZWZ0ID0gX3JlZi5sZWZ0LFxuICAgICAgICAgIHJvd3MgPSBfcmVmLnJvd3M7XG4gICAgICB2YXIgY3Jvc3NoYWlyID0gdGhpcy5zdHguY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jcS1jcm9zc2hhaXInKTtcbiAgICAgIGNyb3NzaGFpci5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIi5jb25jYXQobGVmdCwgXCJweCwgXCIpLmNvbmNhdCh0b3AsIFwicHgpXCIpO1xuICAgICAgdmFyIHRvb2x0aXBSaWdodExpbWl0ID0gdGhpcy5tYWluU3RvcmUuc3RhdGUuY3Jvc3NoYWlyVG9vbHRpcExlZnRBbGxvdyB8fCBNQVhfVE9PTFRJUF9XSURUSDtcbiAgICAgIHZhciBhcnJvdyA9IGxlZnQgPD0gdG9vbHRpcFJpZ2h0TGltaXQgPyAnYXJyb3ctbGVmdCcgOiAnYXJyb3ctcmlnaHQnO1xuXG4gICAgICBpZiAoYXJyb3cgIT09IHRoaXMucHJldl9hcnJvdykge1xuICAgICAgICBjcm9zc2hhaXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnByZXZfYXJyb3cpO1xuICAgICAgICBjcm9zc2hhaXIuY2xhc3NMaXN0LmFkZChhcnJvdyk7XG4gICAgICAgIHRoaXMucHJldl9hcnJvdyA9IGFycm93O1xuICAgICAgfSAvLyBpZiB0aGVyZSBpcyBhIG5lZWQgdG8gdXBkYXRlIHRoZSByb3dzLlxuXG5cbiAgICAgIGlmIChyb3dzICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gY3Jvc3NoYWlyLnF1ZXJ5U2VsZWN0b3IoJy5jcS1jcm9zc2hhaXItY29udGVudCcpO1xuICAgICAgICBjb250ZW50LmlubmVySFRNTCA9IHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cIi5jb25jYXQoci5uYW1lICE9PSAnRFQnID8gci5uYW1lIDogci52YWx1ZSwgXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cIikuY29uY2F0KHIubmFtZSAhPT0gJ0RUJyA/IHIudmFsdWUgOiAnJywgXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIFwiKTtcbiAgICAgICAgfSkuam9pbignJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFjdGl2ZVN5bWJvbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2w7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlY2ltYWxQbGFjZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVN5bWJvbC5kZWNpbWFsX3BsYWNlcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvd09obFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3R4LmxheW91dC50aW1lVW5pdCAhPT0gJ3NlY29uZCc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0NoYXJ0UmVhZHlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5zdGF0ZS5pc0NoYXJ0UmVhZHk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENyb3NzaGFpclN0b3JlO1xufSgpLCBfdGVtcCksIChfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYWN0aXZlU3ltYm9sXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhY3RpdmVTeW1ib2xcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInN0YXRlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDI7XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidG9nZ2xlU3RhdGVcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidG9nZ2xlU3RhdGVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUHJvcHNcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVByb3BzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENyb3NzaGFpclN0YXRlXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDcm9zc2hhaXJTdGF0ZVwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoQ3Jvc3NoYWlyU3RvcmUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9DdXJyZW50U3BvdFN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvQ3VycmVudFNwb3RTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIi4vbm9kZV9tb2R1bGVzL21vYngvbGliL21vYngubW9kdWxlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9fdGhlbWVzLnNjc3MgKi8gXCIuL3Nhc3MvX3RoZW1lcy5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuXG5cblxudmFyIGlzX2ZpcmVmb3ggPSBuYXZpZ2F0b3IudXNlckFnZW50LnNlYXJjaCgnRmlyZWZveCcpID4gMDtcblxudmFyIEN1cnJlbnRTcG90U3RvcmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDdXJyZW50U3BvdFN0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3VycmVudFNwb3RTdG9yZSk7XG5cbiAgICB0aGlzLm9uQ29udGV4dFJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLm1haW5TdG9yZS5zdGF0ZS5pc0FuaW1hdGlvbkVuYWJsZWQpIF90aGlzLnN0eC5hcHBlbmQoJ2RyYXcnLCBfdGhpcy5kcmF3U3BvdCk7XG4gICAgICBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJwYXRjaFBpeGVsRnJvbUNoYXJ0XCJdKShfdGhpcy5zdHgpO1xuICAgIH07XG5cbiAgICB0aGlzLmRyYXdTcG90ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLmVuZEVwb2NoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0eCA9IF90aGlzLnN0eDtcbiAgICAgIHZhciBjaGFydCA9IHN0eC5jaGFydDtcbiAgICAgIHZhciBsZW4gPSBjaGFydC5kYXRhU2V0Lmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgYmFyID0gY2hhcnQuZGF0YVNldFtsZW4gLSAxXTtcbiAgICAgIHZhciBwcmV2QmFyID0gY2hhcnQuZGF0YVNldFtsZW4gLSAyXTtcblxuICAgICAgaWYgKCFiYXIgfHwgIXByZXZCYXIgfHwgIWJhci5DbG9zZSB8fCAhcHJldkJhci5DbG9zZSkge1xuICAgICAgICB2YXIgZGF0YVNldENsb3NlID0gX3RvQ29uc3VtYWJsZUFycmF5KGNoYXJ0LmRhdGFTZXQpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtICYmIGl0ZW0uQ2xvc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxlbiA9IGRhdGFTZXRDbG9zZS5sZW5ndGg7XG5cbiAgICAgICAgaWYgKCFsZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBiYXIgPSBkYXRhU2V0Q2xvc2VbbGVuIC0gMV07XG4gICAgICAgIHByZXZCYXIgPSBkYXRhU2V0Q2xvc2VbbGVuIC0gMl07XG4gICAgICB9XG5cbiAgICAgIGlmICghYmFyIHx8ICFwcmV2QmFyIHx8ICFiYXIuQ2xvc2UgfHwgIXByZXZCYXIuQ2xvc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgeCA9IHN0eC5waXhlbEZyb21UaWNrKGxlbiAtIDEsIGNoYXJ0KTtcbiAgICAgIHZhciBkZWx0YVggPSBiYXIuY2hhcnRKdXN0QWR2YW5jZWQgPyB4IC0gc3R4LnBpeGVsRnJvbVRpY2sobGVuIC0gMiwgY2hhcnQpIDogMDtcbiAgICAgIHZhciB5ID0gc3R4LnBpeGVsRnJvbVByaWNlKGJhci5DbG9zZSwgY2hhcnQucGFuZWwpO1xuICAgICAgdmFyIHByb2dyZXNzID0gTWF0aC5taW4oYmFyLnRpY2tBbmltYXRpb25Qcm9ncmVzcyB8fCAwLCAxKTtcblxuICAgICAgaWYgKHByb2dyZXNzKSB7XG4gICAgICAgIHggLT0gKDEgLSBwcm9ncmVzcykgKiBkZWx0YVg7XG4gICAgICB9XG5cbiAgICAgIGlmICh4IDwgMCB8fCB4ID4gY2hhcnQueUF4aXMubGVmdCB8fCB5IDwgY2hhcnQueUF4aXMudG9wIHx8IHkgPiBjaGFydC55QXhpcy5ib3R0b20pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBnbG93IGlzIHNldCBieSBBbmltYXRpb24uanNcblxuXG4gICAgICB2YXIgZ2xvdyA9IGlzX2ZpcmVmb3ggPyAwIDogcHJvZ3Jlc3M7XG4gICAgICAvKiogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gKi9cblxuICAgICAgdmFyIGN0eCA9IHN0eC5jaGFydC5jb250ZXh0O1xuICAgICAgY3R4LnNhdmUoKTtcblxuICAgICAgaWYgKGdsb3cpIHtcbiAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSBnbG93ICogMzUgKyA0IHwgMDtcbiAgICAgICAgdmFyIG9wYWNpdHkgPSBNYXRoLnNxcnQoMS4wIC0gZ2xvdykgKiAyNTU7XG4gICAgICAgIG9wYWNpdHkgfD0gMDtcbiAgICAgICAgb3BhY2l0eSA9IG9wYWNpdHkudG9TdHJpbmcoMTYpO1xuICAgICAgICBjdHguc2hhZG93Q29sb3IgPSBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wicmVkXCJdICsgb3BhY2l0eTtcbiAgICAgIH1cblxuICAgICAgY3R4LmZpbGxTdHlsZSA9IF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJyZWRcIl07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgKGdsb3cgPyAzIDogMSk7ICsraSkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5hcmMoeCAtIDEsIHksIDQsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIH1cblxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndoZW5cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5jb250ZXh0O1xuICAgIH0sIHRoaXMub25Db250ZXh0UmVhZHkpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEN1cnJlbnRTcG90U3RvcmUsIFt7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdGF0ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLnN0YXRlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDdXJyZW50U3BvdFN0b3JlO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKEN1cnJlbnRTcG90U3RvcmUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9EaWFsb2dTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9EaWFsb2dTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEaWFsb2dTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIi4vbm9kZV9tb2R1bGVzL21vYngvbGliL21vYngubW9kdWxlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGxvZGFzaF9kZWJvdW5jZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbG9kYXNoLmRlYm91bmNlICovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLmRlYm91bmNlL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGxvZGFzaF9kZWJvdW5jZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGxvZGFzaF9kZWJvdW5jZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfZGVjNSwgX2NsYXNzLCBfZGVzY3JpcHRvciwgX3RlbXA7XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG5cblxuXG52YXIgYWN0aXZlRGlhbG9nO1xudmFyIERpYWxvZ1N0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM1ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGlhbG9nU3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaWFsb2dTdG9yZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wZW5cIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgdGhpcy5vbkNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnNldE9wZW4oZmFsc2UpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldE9wZW4gPSBsb2Rhc2hfZGVib3VuY2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0KCkoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgX3RoaXMub3BlbkRpYWxvZyh2YWwpO1xuICAgIH0sIDEwLCB7XG4gICAgICBsZWFkaW5nOiB0cnVlLFxuICAgICAgdHJhaWxpbmc6IGZhbHNlXG4gICAgfSk7XG5cbiAgICB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgaXNSaWdodENsaWNrID0gZmFsc2U7XG5cbiAgICAgIGlmICgnd2hpY2gnIGluIGUpIHtcbiAgICAgICAgaXNSaWdodENsaWNrID0gZS53aGljaCA9PT0gMztcbiAgICAgIH0gZWxzZSBpZiAoJ2J1dHRvbicgaW4gZSkge1xuICAgICAgICBpc1JpZ2h0Q2xpY2sgPSBlLmJ1dHRvbiA9PT0gMjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFlLmlzSGFuZGxlZEJ5RGlhbG9nICYmICFpc1JpZ2h0Q2xpY2spIHtcbiAgICAgICAgX3RoaXMub25DbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlT25Fc2NhcGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIEVTQ0FQRSA9IDI3O1xuXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSBFU0NBUEUpIHtcbiAgICAgICAgX3RoaXMub25DbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmNvbm5lY3QgPSBPYmplY3QoX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9wZW46IF90aGlzLm9wZW4sXG4gICAgICAgIHNldE9wZW46IF90aGlzLnNldE9wZW4sXG4gICAgICAgIG9uQ2xvc2U6IF90aGlzLm9uQ2xvc2UsXG4gICAgICAgIHVwZGF0ZUNsb3NlQ2FsbGJhY2s6IF90aGlzLnVwZGF0ZUNsb3NlQ2FsbGJhY2ssXG4gICAgICAgIG9uQ29udGFpbmVyQ2xpY2s6IF90aGlzLm9uQ29udGFpbmVyQ2xpY2ssXG4gICAgICAgIGlzTW9iaWxlOiBfdGhpcy5tYWluU3RvcmUuY2hhcnQuaXNNb2JpbGVcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndoZW5cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5jb250ZXh0O1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnJvdXRpbmdTdG9yZS5yZWdpc3RlckRpYWxvZyhfdGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRGlhbG9nU3RvcmUsIFt7XG4gICAga2V5OiBcIm9wZW5EaWFsb2dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbkRpYWxvZyh2YWwpIHtcbiAgICAgIGlmICh0aGlzLm9wZW4gIT09IHZhbCkge1xuICAgICAgICB0aGlzLm9wZW4gPSB2YWw7XG5cbiAgICAgICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgICAgIC8vIEFzIHdlIGNvbWJpbmUgZGlhbG9ncyB3aXRoIHRoZSBtZW51LCBzbyBmb3Igb3BlbmluZ1xuICAgICAgICAgIC8vIHRoZSBpdGVtcyB3aGljaCBoYXMgbm8gbWVudSwgdGhpcyB0cmlnZ2VyIHJpZ2h0IGFmdGVyXG4gICAgICAgICAgLy8gZmlyaW5nIG9wZW4gYWN0aW9uLCB0aGlzIGRlbGF5IHByZXZlbnQgdGhhdCBpc3N1ZS5cbiAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMucmVnaXN0ZXIsIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy51bnJlZ2lzdGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsID09PSB0cnVlKSB7XG4gICAgICAgICAgLy8gY2xvc2UgYWN0aXZlIGRpYWxvZy5cbiAgICAgICAgICBpZiAoYWN0aXZlRGlhbG9nKSB7XG4gICAgICAgICAgICBhY3RpdmVEaWFsb2cub3BlbkRpYWxvZyhmYWxzZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWN0aXZlRGlhbG9nID0gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVEaWFsb2cgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVnaXN0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlLCBmYWxzZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5jbG9zZU9uRXNjYXBlLCBmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVucmVnaXN0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5yZWdpc3RlcigpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGlja091dHNpZGUpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuY2xvc2VPbkVzY2FwZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ29udGFpbmVyQ2xpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Db250YWluZXJDbGljayhlKSB7XG4gICAgICAvKiBUT0RPOiB3aHkgc3RvcFByb3BhZ2F0aW9uKCkgaXMgbm90IHdvcmtpbmcg4LKgX+CyoCAqL1xuICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUubmF0aXZlRXZlbnQuaXNIYW5kbGVkQnlEaWFsb2cgPSB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVDbG9zZUNhbGxiYWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUNsb3NlQ2FsbGJhY2sob25DbG9zZSkge1xuICAgICAgaWYgKG9uQ2xvc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm9uQ2xvc2UgPSBvbkNsb3NlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicm91dGluZ1N0b3JlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUucm91dGluZztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRGlhbG9nU3RvcmU7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9wZW5cIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib3BlbkRpYWxvZ1wiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvcGVuRGlhbG9nXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlZ2lzdGVyXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZWdpc3RlclwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1bnJlZ2lzdGVyXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1bnJlZ2lzdGVyXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uQ29udGFpbmVyQ2xpY2tcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uQ29udGFpbmVyQ2xpY2tcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlQ2xvc2VDYWxsYmFja1wiLCBbX2RlYzVdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlQ2xvc2VDYWxsYmFja1wiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9EcmF3VG9vbHNTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9EcmF3VG9vbHNTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERyYXdUb29sc1N0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9NZW51U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9NZW51U3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1NldHRpbmdzRGlhbG9nU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vU2V0dGluZ3NEaWFsb2dTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL1NldHRpbmdzRGlhbG9nU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvTWVudS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL01lbnUuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX1NldHRpbmdzRGlhbG9nX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9TZXR0aW5nc0RpYWxvZy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1NldHRpbmdzRGlhbG9nLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2dhICovIFwiLi9zcmMvdXRpbHMvZ2EuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Db25zdGFudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vQ29uc3RhbnQgKi8gXCIuL3NyYy9Db25zdGFudC5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfZGVjNSwgX2RlYzYsIF9kZWM3LCBfZGVjOCwgX2RlYzksIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX3RlbXA7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxuXG5cblxuXG5cblxuXG5cbnZhciBEcmF3VG9vbHNTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM0ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzYgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM3ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjOCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzkgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEcmF3VG9vbHNTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyYXdUb29sc1N0b3JlKTtcblxuICAgIHRoaXMuYWN0aXZlRHJhd2luZyA9IG51bGw7XG4gICAgdGhpcy5pc0NvbnRpbnVvdXMgPSBmYWxzZTtcbiAgICB0aGlzLmRyYXdUb29sc0l0ZW1zID0gT2JqZWN0LmtleXMoX0NvbnN0YW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkcmF3VG9vbHNcIl0pLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gX0NvbnN0YW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkcmF3VG9vbHNcIl1ba2V5XTtcbiAgICB9KTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWN0aXZlVG9vbHNHcm91cFwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBvcnRhbE5vZGVJZENoYW5nZWRcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgX3RoaXMuY2xvc2VPbkVzY2FwZSwgZmFsc2UpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBfdGhpcy5kb3VibGVDbGljayk7XG5cbiAgICAgIF90aGlzLnN0eC5hZGRFdmVudExpc3RlbmVyKCdkcmF3aW5nJywgX3RoaXMubm9Ub29sKTtcblxuICAgICAgX3RoaXMuc3R4LnByZXBlbmQoJ3JpZ2h0Q2xpY2tEcmF3aW5nJywgX3RoaXMub25SaWdodENsaWNrRHJhd2luZyk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VPbkVzY2FwZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgRVNDQVBFID0gMjc7XG5cbiAgICAgIGlmIChlLmtleUNvZGUgPT09IEVTQ0FQRSkge1xuICAgICAgICBfdGhpcy5zdHguY2hhbmdlVmVjdG9yVHlwZSgnJyk7XG5cbiAgICAgICAgX3RoaXMuZHJhd2luZ0ZpbmlzaGVkKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZG91YmxlQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuZHJhd2luZ0ZpbmlzaGVkKCk7XG4gICAgfTtcblxuICAgIHRoaXMubm9Ub29sID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNvdW50ID0gX3RoaXMuc3R4LmRyYXdpbmdPYmplY3RzLmxlbmd0aDtcblxuICAgICAgaWYgKF90aGlzLm1lbnUub3BlbiAmJiBfdGhpcy5jb250ZXh0IHx8ICFfdGhpcy5pc0NvbnRpbnVvdXMgJiYgX3RoaXMuX3BlcnZEcmF3aW5nT2JqZWN0Q291bnQgIT09IGNvdW50KSB7XG4gICAgICAgIF90aGlzLnN0eC5jaGFuZ2VWZWN0b3JUeXBlKCcnKTtcblxuICAgICAgICBfdGhpcy5kcmF3aW5nRmluaXNoZWQoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX3BlcnZEcmF3aW5nT2JqZWN0Q291bnQgPSBjb3VudDtcbiAgICB9O1xuXG4gICAgdGhpcy5maW5kQ29tcHV0ZWREcmF3aW5nID0gZnVuY3Rpb24gKGRyYXdpbmcpIHtcbiAgICAgIHZhciBncm91cCA9IF90aGlzLmFjdGl2ZVRvb2xzR3JvdXAuZmluZChmdW5jdGlvbiAoZHJhd0dyb3VwKSB7XG4gICAgICAgIHJldHVybiBkcmF3R3JvdXAua2V5ID09PSBkcmF3aW5nLm5hbWU7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgIHZhciBkcmF3aW5nSXRlbSA9IGdyb3VwLml0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbS52MCA9PT0gZHJhd2luZy52MCAmJiBpdGVtLnYxID09PSBkcmF3aW5nLnYxICYmIGl0ZW0uZDAgPT09IGRyYXdpbmcuZDAgJiYgaXRlbS5kMSA9PT0gZHJhd2luZy5kMTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGRyYXdpbmdJdGVtKSB7XG4gICAgICAgICAgZHJhd2luZ0l0ZW0ucHJlZml4ID0gZHJhd2luZ0l0ZW0uaWQgPT09ICdjb250aW51b3VzJyA/IHQudHJhbnNsYXRlKCdDb250aW51b3VzJykgOiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkcmF3aW5nSXRlbTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIHRoaXMubWVudSA9IG5ldyBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKG1haW5TdG9yZSwge1xuICAgICAgcm91dGU6ICdkcmF3LXRvb2wnXG4gICAgfSk7XG4gICAgdGhpcy5EcmF3VG9vbHNNZW51ID0gdGhpcy5tZW51LmNvbm5lY3QoX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pO1xuICAgIHRoaXMuc2V0dGluZ3NEaWFsb2cgPSBuZXcgX1NldHRpbmdzRGlhbG9nU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oe1xuICAgICAgbWFpblN0b3JlOiBtYWluU3RvcmUsXG4gICAgICBvbkRlbGV0ZWQ6IHRoaXMub25EZWxldGVkLFxuICAgICAgb25DaGFuZ2VkOiB0aGlzLm9uQ2hhbmdlZFxuICAgIH0pO1xuICAgIHRoaXMuRHJhd1Rvb2xzU2V0dGluZ3NEaWFsb2cgPSB0aGlzLnNldHRpbmdzRGlhbG9nLmNvbm5lY3QoX2NvbXBvbmVudHNfU2V0dGluZ3NEaWFsb2dfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInJlYWN0aW9uXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMubWVudS5vcGVuO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNvbXB1dGVBY3RpdmVEcmF3VG9vbHMoKTtcblxuICAgICAgX3RoaXMubm9Ub29sKCk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRHJhd1Rvb2xzU3RvcmUsIFt7XG4gICAga2V5OiBcIm9uUmlnaHRDbGlja0RyYXdpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SaWdodENsaWNrRHJhd2luZyhkcmF3aW5nKSB7XG4gICAgICB0aGlzLnNob3dEcmF3VG9vbERpYWxvZyhkcmF3aW5nKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG93RHJhd1Rvb2xEaWFsb2dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0RyYXdUb29sRGlhbG9nKGRyYXdpbmcpIHtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkxvZ0FjdGlvbnNcIl0uRHJhd1Rvb2xzLCBcIkVkaXQgXCIuY29uY2F0KGRyYXdpbmcubmFtZSkpO1xuICAgICAgdmFyIGRvbnREZWxldGVNZSA9IGRyYXdpbmcuYWJvcnQoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4gICAgICB2YXIgcGFyYW1ldGVycyA9IENJUS5EcmF3aW5nLmdldERyYXdpbmdQYXJhbWV0ZXJzKHRoaXMuc3R4LCBkcmF3aW5nLm5hbWUpO1xuICAgICAgdmFyIHRpdGxlID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZm9ybWF0Q2FtZWxDYXNlXCJdKShkcmF3aW5nLm5hbWUpO1xuICAgICAgdmFyIHR5cGVNYXAgPSB7XG4gICAgICAgIGNvbG9yOiAnY29sb3JwaWNrZXInLFxuICAgICAgICBmaWxsQ29sb3I6ICdjb2xvcnBpY2tlcicsXG4gICAgICAgIHBhdHRlcm46ICdwYXR0ZXJuJyxcbiAgICAgICAgYXhpc0xhYmVsOiAnc3dpdGNoJyxcbiAgICAgICAgZm9udDogJ2ZvbnQnLFxuICAgICAgICBsaW5lV2lkdGg6ICdub25lJ1xuICAgICAgfTtcbiAgICAgIHRoaXMuc2V0dGluZ3NEaWFsb2cuaXRlbXMgPSBPYmplY3Qua2V5cyhwYXJhbWV0ZXJzKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gISggLy8gUmVtb3ZlIHBhdHRlcm4gb3B0aW9uIGZyb20gRmlib25hY2NpIHRvb2xzXG4gICAgICAgIChkcmF3aW5nLm5hbWUuc3RhcnRzV2l0aCgnZmliJykgfHwgZHJhd2luZy5uYW1lID09PSAncmV0cmFjZW1lbnQnKSAmJiBrZXkgPT09ICdwYXR0ZXJuJyk7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBrZXksXG4gICAgICAgICAgdGl0bGU6IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImZvcm1hdENhbWVsQ2FzZVwiXSkoa2V5KSxcbiAgICAgICAgICB2YWx1ZTogZHJhd2luZ1trZXldLFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZTogcGFyYW1ldGVyc1trZXldLFxuICAgICAgICAgIHR5cGU6IHR5cGVNYXBba2V5XVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICB2YXIgZHJhd2luZ0l0ZW0gPSB0aGlzLmZpbmRDb21wdXRlZERyYXdpbmcoZHJhd2luZyk7XG5cbiAgICAgIGlmIChkcmF3aW5nSXRlbSkge1xuICAgICAgICB0aXRsZSA9IFwiXCIuY29uY2F0KGRyYXdpbmdJdGVtLnByZWZpeCA/IFwiXCIuY29uY2F0KGRyYXdpbmdJdGVtLnByZWZpeCwgXCIgLSBcIikgOiAnJywgXCIgXCIpLmNvbmNhdCh0LnRyYW5zbGF0ZShkcmF3aW5nSXRlbS50ZXh0LCB7XG4gICAgICAgICAgbnVtOiBkcmF3aW5nSXRlbS5udW0gfHwgJyAnXG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hY3RpdmVEcmF3aW5nID0gZHJhd2luZztcbiAgICAgIHRoaXMuYWN0aXZlRHJhd2luZy5oaWdobGlnaHRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5zZXR0aW5nc0RpYWxvZy50aXRsZSA9IHRpdGxlO1xuICAgICAgdGhpcy5zZXR0aW5nc0RpYWxvZy5kaWFsb2dQb3J0YWxOb2RlSWQgPSB0aGlzLnBvcnRhbE5vZGVJZENoYW5nZWQ7XG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLmZvcm1UaXRsZSA9IHQudHJhbnNsYXRlKCdSZXN1bHQnKTtcbiAgICAgIHRoaXMuc2V0dGluZ3NEaWFsb2cuZm9ybUNsYXNzbmFtZSA9ICdmb3JtLS1kcmF3aW5nLXRvb2wnO1xuICAgICAgdGhpcy5zZXR0aW5nc0RpYWxvZy5zZXRPcGVuKHRydWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkcmF3aW5nRmluaXNoZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhd2luZ0ZpbmlzaGVkKCkge1xuICAgICAgdGhpcy5jb21wdXRlQWN0aXZlRHJhd1Rvb2xzKCk7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlU3RvcmUpIHtcbiAgICAgICAgdGhpcy5jcm9zc2hhaXJTdG9yZS5zZXRDcm9zc2hhaXJTdGF0ZSh0aGlzLnN0YXRlU3RvcmUuY3Jvc3NoYWlyU3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhckFsbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckFsbCgpIHtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkxvZ0FjdGlvbnNcIl0uRHJhd1Rvb2xzLCAnQ2xlYXIgQWxsJyk7XG4gICAgICB0aGlzLnN0eC5jbGVhckRyYXdpbmdzKCk7XG4gICAgICB0aGlzLmNvbXB1dGVBY3RpdmVEcmF3VG9vbHMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VsZWN0VG9vbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RUb29sKGlkKSB7XG4gICAgICB0aGlzLmlzQ29udGludW91cyA9IGZhbHNlO1xuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQWN0aW9uc1wiXS5EcmF3VG9vbHMsIFwiQWRkIFwiLmNvbmNhdChpZCkpO1xuICAgICAgdmFyIHN0eCA9IHRoaXMuY29udGV4dC5zdHg7XG4gICAgICBzdHguY2xlYXJNZWFzdXJlKCk7IC8vIFRPRE8gcmVtb3ZlIHRoaXMgbGluZVxuXG4gICAgICBzdHguY2hhbmdlVmVjdG9yVHlwZShpZCk7XG5cbiAgICAgIGlmIChpZCA9PT0gJ2NvbnRpbnVvdXMnKSB7XG4gICAgICAgIHRoaXMuaXNDb250aW51b3VzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tZW51LnNldE9wZW4oZmFsc2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkNoYW5nZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2VkKGl0ZW1zKSB7XG4gICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoaXRlbXMpLFxuICAgICAgICAgIF9zdGVwO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgdGhpcy5hY3RpdmVEcmF3aW5nW2l0ZW0uaWRdID0gaXRlbS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFjdGl2ZURyYXdpbmcuaGlnaGxpZ2h0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuYWN0aXZlRHJhd2luZy5hZGp1c3QoKTtcbiAgICAgIHRoaXMubWFpblN0b3JlLnN0YXRlLnNhdmVEcmF3aW5ncygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkRlbGV0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25EZWxldGVkKGluZHgpIHtcbiAgICAgIGlmIChpbmR4ID09PSB1bmRlZmluZWQgJiYgIXRoaXMuYWN0aXZlRHJhd2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpbmR4ICE9PSB1bmRlZmluZWQgJiYgaW5keCA+PSAwICYmIHRoaXMuc3R4LmRyYXdpbmdPYmplY3RzW2luZHhdKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlRHJhd2luZyA9IHRoaXMuc3R4LmRyYXdpbmdPYmplY3RzW2luZHhdO1xuICAgICAgfVxuXG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJMb2dBY3Rpb25zXCJdLkRyYXdUb29scywgXCJSZW1vdmUgXCIuY29uY2F0KHRoaXMuYWN0aXZlRHJhd2luZy5uYW1lKSk7XG4gICAgICB0aGlzLnN0eC5yZW1vdmVEcmF3aW5nKHRoaXMuYWN0aXZlRHJhd2luZyk7XG4gICAgICB0aGlzLmFjdGl2ZURyYXdpbmcgPSBudWxsO1xuICAgICAgdGhpcy5jb21wdXRlQWN0aXZlRHJhd1Rvb2xzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uU2V0dGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblNldHRpbmcoaW5keCkge1xuICAgICAgaWYgKCF0aGlzLnN0eC5kcmF3aW5nT2JqZWN0c1tpbmR4XSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2hvd0RyYXdUb29sRGlhbG9nKHRoaXMuc3R4LmRyYXdpbmdPYmplY3RzW2luZHhdKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcHV0ZUFjdGl2ZURyYXdUb29sc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlQWN0aXZlRHJhd1Rvb2xzKCkge1xuICAgICAgaWYgKCF0aGlzLmNvbnRleHQpIHJldHVybjtcbiAgICAgIHZhciBpdGVtcyA9IHt9O1xuICAgICAgdmFyIGlnbm9yZUJhclR5cGUgPSBbJ3ZlcnRpY2FsJywgJ2hvcml6b250YWwnXTtcbiAgICAgIHZhciBncm91cHMgPSB7fTtcbiAgICAgIHRoaXMuc3R4LmRyYXdpbmdPYmplY3RzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZHgpIHtcbiAgICAgICAgaXRlbSA9IF9Db25zdGFudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZHJhd1Rvb2xzXCJdW2l0ZW0ubmFtZV0gPyBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCBfQ29uc3RhbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRyYXdUb29sc1wiXVtpdGVtLm5hbWVdKSA6IGl0ZW07XG4gICAgICAgIGl0ZW0uaW5kZXggPSBpbmR4O1xuICAgICAgICBpdGVtLmJhcnMgPSBpZ25vcmVCYXJUeXBlLmluZGV4T2YoaXRlbS5uYW1lKSA9PT0gLTEgPyBNYXRoLmFicyhwYXJzZUludChpdGVtLnAxWzBdIC0gaXRlbS5wMFswXSwgMTApKSArIDEgOiBudWxsO1xuXG4gICAgICAgIGlmIChpdGVtc1tpdGVtLm5hbWVdKSB7XG4gICAgICAgICAgaXRlbXNbaXRlbS5uYW1lXSsrO1xuICAgICAgICAgIGl0ZW0ubnVtID0gaXRlbXNbaXRlbS5uYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtLm51bSA9ICcgJztcbiAgICAgICAgICBpdGVtc1tpdGVtLm5hbWVdID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChncm91cHNbaXRlbS5uYW1lXSkge1xuICAgICAgICAgIGl0ZW0udGV4dCA9IGdyb3Vwc1tpdGVtLm5hbWVdLm5hbWU7XG4gICAgICAgICAgZ3JvdXBzW2l0ZW0ubmFtZV0uaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZ3JvdXBfbmFtZSA9IF9Db25zdGFudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZHJhd1Rvb2xzXCJdW2l0ZW0ubmFtZV0gPyBfQ29uc3RhbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRyYXdUb29sc1wiXVtpdGVtLm5hbWVdLnRleHQgOiBpdGVtLm5hbWU7XG4gICAgICAgICAgaXRlbS50ZXh0ID0gZ3JvdXBfbmFtZTtcbiAgICAgICAgICBncm91cHNbaXRlbS5uYW1lXSA9IHtcbiAgICAgICAgICAgIGtleTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgbmFtZTogZ3JvdXBfbmFtZSxcbiAgICAgICAgICAgIGl0ZW1zOiBbaXRlbV1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gZ2V0IHRoZSB2YWx1ZXMgb2YgZ3JvdXAgYW5kIHNvcnQgZ3JvdXAgYnkgdGhlIG51bWJlciBvZiB0aGVpciBjaGlsZHJlblxuICAgICAgLy8gdGhpcyB3YXkgdGhlIHNpbmdsZSBpdGVtIHN0YXkgYXQgdG9wXG5cbiAgICAgIHRoaXMuYWN0aXZlVG9vbHNHcm91cCA9IE9iamVjdC52YWx1ZXMoZ3JvdXBzKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLml0ZW1zLmxlbmd0aCAtIGIuaXRlbXMubGVuZ3RoO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVBvcnRhbE5vZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUG9ydGFsTm9kZShwb3J0YWxOb2RlSWQpIHtcbiAgICAgIHRoaXMucG9ydGFsTm9kZUlkQ2hhbmdlZCA9IHBvcnRhbE5vZGVJZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0eFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zdHg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXRlU3RvcmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5zdGF0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3Jvc3NoYWlyU3RvcmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jcm9zc2hhaXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFjdGl2ZVRvb2xzTm9cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVRvb2xzR3JvdXAucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhICsgYi5pdGVtcy5sZW5ndGg7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRHJhd1Rvb2xzU3RvcmU7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFjdGl2ZVRvb2xzR3JvdXBcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicG9ydGFsTm9kZUlkQ2hhbmdlZFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYWN0aXZlVG9vbHNOb1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYWN0aXZlVG9vbHNOb1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblJpZ2h0Q2xpY2tEcmF3aW5nXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uUmlnaHRDbGlja0RyYXdpbmdcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZHJhd2luZ0ZpbmlzaGVkXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkcmF3aW5nRmluaXNoZWRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2xlYXJBbGxcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNsZWFyQWxsXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNlbGVjdFRvb2xcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNlbGVjdFRvb2xcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25DaGFuZ2VkXCIsIFtfZGVjNV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkNoYW5nZWRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25EZWxldGVkXCIsIFtfZGVjNl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkRlbGV0ZWRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25TZXR0aW5nXCIsIFtfZGVjN10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblNldHRpbmdcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY29tcHV0ZUFjdGl2ZURyYXdUb29sc1wiLCBbX2RlYzhdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY29tcHV0ZUFjdGl2ZURyYXdUb29sc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQb3J0YWxOb2RlXCIsIFtfZGVjOV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQb3J0YWxOb2RlXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9GYXZvcml0ZVN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvRmF2b3JpdGVTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGV2ZW50LWVtaXR0ZXItZXM2ICovIFwiLi9ub2RlX21vZHVsZXMvZXZlbnQtZW1pdHRlci1lczYvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfY2xhc3MyLCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdDsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbXCJyZXR1cm5cIl0gIT0gbnVsbCkgaXRbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cblxuXG5cblxuZnVuY3Rpb24gbG9hZEZhdm9yaXRlcygpIHtcbiAgdmFyIGxvY2FsID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY3JlYXRlT2JqZWN0RnJvbUxvY2FsU3RvcmFnZVwiXSkoJ2NxLWZhdm9yaXRlcycpO1xuXG4gIGlmICghbG9jYWwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZmF2b3JpdGVzID0ge307XG5cbiAgZm9yICh2YXIgY2F0ZWdvcnlOYW1lIGluIGxvY2FsKSB7XG4gICAgdmFyIGNhdGVnb3J5ID0ge307XG5cbiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobG9jYWxbY2F0ZWdvcnlOYW1lXSksXG4gICAgICAgIF9zdGVwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBpZCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICBjYXRlZ29yeVtpZF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICB9XG5cbiAgICBmYXZvcml0ZXNbY2F0ZWdvcnlOYW1lXSA9IGNhdGVnb3J5O1xuICB9XG5cbiAgcmV0dXJuIGZhdm9yaXRlcztcbn1cblxudmFyIEZhdm9yaXRlU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPSAoX3RlbXAgPSBfY2xhc3MyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKEZhdm9yaXRlU3RvcmUsIG51bGwsIFt7XG4gICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKCkge1xuICAgICAgaWYgKCFGYXZvcml0ZVN0b3JlLmluc3RhbmNlKSB7XG4gICAgICAgIEZhdm9yaXRlU3RvcmUuaW5zdGFuY2UgPSBuZXcgRmF2b3JpdGVTdG9yZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gRmF2b3JpdGVTdG9yZS5pbnN0YW5jZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiRVZFTlRfRkFWT1JJVEVTX1VQREFURVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdFVkVOVF9GQVZPUklURVNfVVBEQVRFJztcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBGYXZvcml0ZVN0b3JlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGYXZvcml0ZVN0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZmF2b3JpdGVzTWFwXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEoe1xuICAgICAgZW1pdERlbGF5OiAwXG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRmF2b3JpdGVTdG9yZSwgW3tcbiAgICBrZXk6IFwib25GYXZvcml0ZVVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkZhdm9yaXRlVXBkYXRlKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9lbWl0dGVyLm9uKEZhdm9yaXRlU3RvcmUuRVZFTlRfRkFWT1JJVEVTX1VQREFURSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvZmZGYXZvcml0ZVVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmZGYXZvcml0ZVVwZGF0ZShjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vZmYoRmF2b3JpdGVTdG9yZS5FVkVOVF9GQVZPUklURVNfVVBEQVRFLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzRmF2b3JpdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNGYXZvcml0ZShjYXRlZ29yeSwgaWQpIHtcbiAgICAgIHJldHVybiBpZCBpbiB0aGlzLmZhdm9yaXRlc01hcFtjYXRlZ29yeV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvZ2dsZUZhdm9yaXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZUZhdm9yaXRlKGNhdGVnb3J5LCBpZCkge1xuICAgICAgdmFyIGNhdCA9IHRoaXMuZmF2b3JpdGVzTWFwW2NhdGVnb3J5XTtcblxuICAgICAgaWYgKGNhdFtpZF0pIHtcbiAgICAgICAgZGVsZXRlIGNhdFtpZF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXRbaWRdID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KEZhdm9yaXRlU3RvcmUuRVZFTlRfRkFWT1JJVEVTX1VQREFURSwge1xuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgdmFsdWU6IGNhdFtpZF0gfHwgZmFsc2VcbiAgICAgIH0pOyAvLyB0aGlzLmZhdm9yaXRlc01hcCA9IHsgLi4udGhpcy5mYXZvcml0ZXNNYXAgfTsgLy8gZm9yY2Ugb2JzZXJ2YWJsZSB0byB1cGRhdGVcblxuXG4gICAgICB0aGlzLnNhdmVGYXZvcml0ZXMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2F2ZUZhdm9yaXRlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlRmF2b3JpdGVzKCkge1xuICAgICAgdmFyIGZhdm9yaXRlcyA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBjYXRlZ29yeU5hbWUgaW4gdGhpcy5mYXZvcml0ZXNNYXApIHtcbiAgICAgICAgdmFyIGNhdGVnb3J5ID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5mYXZvcml0ZXNNYXBbY2F0ZWdvcnlOYW1lXSkge1xuICAgICAgICAgIGNhdGVnb3J5LnB1c2goaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZmF2b3JpdGVzW2NhdGVnb3J5TmFtZV0gPSBjYXRlZ29yeTtcbiAgICAgIH1cblxuICAgICAgQ0lRLmxvY2FsU3RvcmFnZVNldEl0ZW0oJ2NxLWZhdm9yaXRlcycsIEpTT04uc3RyaW5naWZ5KGZhdm9yaXRlcykpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBGYXZvcml0ZVN0b3JlO1xufSgpLCBfY2xhc3MyLmluc3RhbmNlID0gdm9pZCAwLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmYXZvcml0ZXNNYXBcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gbG9hZEZhdm9yaXRlcygpIHx8IHtcbiAgICAgIGluZGljYXRvcnM6IHt9LFxuICAgICAgJ2NoYXJ0VGl0bGUmQ29tcGFyaXNvbic6IHt9XG4gICAgfTtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc0Zhdm9yaXRlXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzRmF2b3JpdGVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidG9nZ2xlRmF2b3JpdGVcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRvZ2dsZUZhdm9yaXRlXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChGYXZvcml0ZVN0b3JlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvSGlnaGVzdExvd2VzdFN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9IaWdoZXN0TG93ZXN0U3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIi4vbm9kZV9tb2R1bGVzL21vYngvbGliL21vYngubW9kdWxlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuXG5cblxudmFyIEhpZ2hlc3RMb3dlc3RTdG9yZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhIaWdoZXN0TG93ZXN0U3RvcmUsIFt7XG4gICAga2V5OiBcImZlZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuc3R4eDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWNpbWFsUGxhY2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5kZWNpbWFsX3BsYWNlcyB8fCAwO1xuICAgIH1cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIEhpZ2hlc3RMb3dlc3RTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhpZ2hlc3RMb3dlc3RTdG9yZSk7XG5cbiAgICB0aGlzLmhpZ2hlc3QgPSBudWxsO1xuICAgIHRoaXMubG93ZXN0ID0gbnVsbDtcbiAgICB0aGlzLmluamVjdGlvbklkID0gbnVsbDtcblxuICAgIHRoaXMuY2xlYXJJbmplY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuaW5qZWN0aW9uSWQpIHtcbiAgICAgICAgX3RoaXMuaGlnaGVzdFJlZiA9IG51bGw7XG4gICAgICAgIF90aGlzLmxvd2VzdFJlZiA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuc3R4LnJlbW92ZUluamVjdGlvbihfdGhpcy5pbmplY3Rpb25JZCk7XG5cbiAgICAgICAgX3RoaXMuaW5qZWN0aW9uSWQgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmVuYWJsZU1hcmtlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkKSB7XG4gICAgICAgIF90aGlzLmluamVjdGlvbklkID0gX3RoaXMuc3R4LmFwcGVuZCgnY3JlYXRlRGF0YVNlZ21lbnQnLCBfdGhpcy5jYWxjdWxhdGVIaWdoZXN0TG93ZXN0QnlOZXdEYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLmNsZWFySW5qZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2V0SGlnaGVzdFJlZiA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgIF90aGlzLmhpZ2hlc3RSZWYgPSByZWY7XG5cbiAgICAgIGlmIChyZWYgIT09IG51bGwpIHtcbiAgICAgICAgX3RoaXMuaGlnaGVzdFJlZi52YWx1ZSA9IHJlZi5kaXYucXVlcnlTZWxlY3RvcignLnNwb3RfX3ZhbHVlJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2V0TG93ZXN0UmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMubG93ZXN0UmVmID0gcmVmO1xuXG4gICAgICBpZiAocmVmICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLmxvd2VzdFJlZi52YWx1ZSA9IHJlZi5kaXYucXVlcnlTZWxlY3RvcignLnNwb3RfX3ZhbHVlJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSB0aGlzLmVuYWJsZU1hcmtlcjtcblxuICAgIHRoaXMuY2FsY3VsYXRlSGlnaGVzdExvd2VzdEJ5TmV3RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMuaGlnaGVzdFJlZiB8fCAhX3RoaXMubG93ZXN0UmVmKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnN0eC5jaGFydCAmJiBfdGhpcy5zdHguY2hhcnQuZGF0YVNlZ21lbnQubGVuZ3RoKSB7XG4gICAgICAgIF90aGlzLmhpZ2hlc3QgPSBudWxsO1xuICAgICAgICBfdGhpcy5sb3dlc3QgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnN0eC5jaGFydC5kYXRhU2VnbWVudC5mb3JFYWNoKGZ1bmN0aW9uICh0aWNrKSB7XG4gICAgICAgICAgaWYgKCF0aWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFfdGhpcy5oaWdoZXN0IHx8IF90aGlzLmhpZ2hlc3QuQ2xvc2UgPD0gdGljay5DbG9zZSkge1xuICAgICAgICAgICAgX3RoaXMuaGlnaGVzdCA9IHRpY2s7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFfdGhpcy5sb3dlc3QgfHwgX3RoaXMubG93ZXN0LkNsb3NlID49IHRpY2suQ2xvc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvd2VzdCA9IHRpY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5oaWdoZXN0IHx8ICFfdGhpcy5sb3dlc3QgfHwgX3RoaXMuaGlnaGVzdC5DbG9zZSA9PT0gX3RoaXMubG93ZXN0LkNsb3NlKSB7XG4gICAgICAgIF90aGlzLmhpZ2hlc3RSZWYuc2V0UG9zaXRpb24oe1xuICAgICAgICAgIGVwb2NoOiBudWxsLFxuICAgICAgICAgIHByaWNlOiBudWxsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLmxvd2VzdFJlZi5zZXRQb3NpdGlvbih7XG4gICAgICAgICAgZXBvY2g6IG51bGwsXG4gICAgICAgICAgcHJpY2U6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuaGlnaGVzdCkge1xuICAgICAgICB2YXIgcHJpY2UgPSBfdGhpcy5oaWdoZXN0LkNsb3NlLnRvRml4ZWQoX3RoaXMuZGVjaW1hbFBsYWNlcyk7XG5cbiAgICAgICAgX3RoaXMuaGlnaGVzdFJlZi5zZXRQb3NpdGlvbih7XG4gICAgICAgICAgZXBvY2g6IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldFVUQ0Vwb2NoXCJdKShDSVEuc3RyVG9EYXRlVGltZShfdGhpcy5oaWdoZXN0LkRhdGUpKSxcbiAgICAgICAgICBwcmljZTogcHJpY2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuaGlnaGVzdFJlZi52YWx1ZS50ZXh0Q29udGVudCA9IHByaWNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMubG93ZXN0KSB7XG4gICAgICAgIHZhciBfcHJpY2UgPSBfdGhpcy5sb3dlc3QuQ2xvc2UudG9GaXhlZChfdGhpcy5kZWNpbWFsUGxhY2VzKTtcblxuICAgICAgICBfdGhpcy5sb3dlc3RSZWYuc2V0UG9zaXRpb24oe1xuICAgICAgICAgIGVwb2NoOiBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRVVENFcG9jaFwiXSkoQ0lRLnN0clRvRGF0ZVRpbWUoX3RoaXMubG93ZXN0LkRhdGUpKSxcbiAgICAgICAgICBwcmljZTogX3ByaWNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLmxvd2VzdFJlZi52YWx1ZS50ZXh0Q29udGVudCA9IF9wcmljZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndoZW5cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5jb250ZXh0O1xuICAgIH0sIHRoaXMub25Db250ZXh0UmVhZHkpO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQ7XG4gICAgfSwgdGhpcy5lbmFibGVNYXJrZXIpO1xuICB9XG5cbiAgcmV0dXJuIEhpZ2hlc3RMb3dlc3RTdG9yZTtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChIaWdoZXN0TG93ZXN0U3RvcmUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9MYXN0RGlnaXRTdGF0c1N0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvTGFzdERpZ2l0U3RhdHNTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIExhc3REaWdpdFN0YXRzU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX3RlbXA7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cblxudmFyIExhc3REaWdpdFN0YXRzU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTGFzdERpZ2l0U3RhdHNTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExhc3REaWdpdFN0YXRzU3RvcmUpO1xuXG4gICAgdGhpcy5jb3VudCA9IDEwMDA7XG4gICAgdGhpcy5kaWdpdHMgPSBbXTtcbiAgICB0aGlzLmxhdGVzdERhdGEgPSBbXTtcbiAgICB0aGlzLmxhc3RTeW1ib2wgPSBudWxsO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJiYXJzXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwibGFzdFRpY2tcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlOyAvLyBzaW5jZSBsYXN0IGRpZ2l0cyBzdGF0cyBpcyBnb2luZyB0byBiZSByZW5kZXJlZCBpbiBkZXJpdi1hcHBcbiAgICAvLyB3ZSBhbHdheXMga2VlcCB0cmFjayBvZiB0aGUgbGFzdCBkaWdpdCBzdGF0cy5cblxuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5sYXN0U3ltYm9sID0gX3RoaXMubWFya2V0RGlzcGxheU5hbWU7XG5cbiAgICAgIF90aGlzLnVwZGF0ZUxhc3REaWdpdFN0YXRzKCk7IC8vIFRPRE86IGNhbGwgb25NYXN0ZXJEYXRhVXBkYXRlIG9uIHN5bW9ibCBjaGFuZ2UuXG5cblxuICAgICAgX3RoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQub25NYXN0ZXJEYXRhVXBkYXRlKF90aGlzLm9uTWFzdGVyRGF0YVVwZGF0ZSk7XG5cbiAgICAgIF90aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkLm9uTWFzdGVyRGF0YVJlaW5pdGlhbGl6ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5jb250ZXh0ICYmIF90aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkKSB7XG4gICAgICAgICAgX3RoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQub2ZmTWFzdGVyRGF0YVVwZGF0ZShfdGhpcy5vbk1hc3RlckRhdGFVcGRhdGUpO1xuXG4gICAgICAgICAgX3RoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQub25NYXN0ZXJEYXRhVXBkYXRlKF90aGlzLm9uTWFzdGVyRGF0YVVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExhc3REaWdpdFN0YXRzU3RvcmUsIFt7XG4gICAga2V5OiBcInVwZGF0ZUxhc3REaWdpdFN0YXRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBkYXRlTGFzdERpZ2l0U3RhdHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBpLCB0aWNrSGlzdG9yeTtcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICghKCF0aGlzLmNvbnRleHQgfHwgIXRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlnaXRzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5iYXJzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3REYXRhID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAgICAgICAgICAgdGhpcy5kaWdpdHMucHVzaCgwKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYmFycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgICAgICAgICBjTmFtZTogJydcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghKHRoaXMuc3R4Lm1hc3RlckRhdGEgJiYgdGhpcy5zdHgubWFzdGVyRGF0YS5sZW5ndGggPj0gdGhpcy5jb3VudCkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0RGF0YSA9IHRoaXMuc3R4Lm1hc3RlckRhdGEuc2xpY2UoLXRoaXMuY291bnQpLm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHguQ2xvc2UudG9GaXhlZChfdGhpczIuZGVjaW1hbFBsYWNlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFwaS5nZXRUaWNrSGlzdG9yeSh7XG4gICAgICAgICAgICAgICAgICBzeW1ib2w6IHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wuc3ltYm9sLFxuICAgICAgICAgICAgICAgICAgY291bnQ6IHRoaXMuY291bnRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgIHRpY2tIaXN0b3J5ID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdERhdGEgPSB0aWNrSGlzdG9yeSAmJiB0aWNrSGlzdG9yeS5oaXN0b3J5ID8gdGlja0hpc3RvcnkuaGlzdG9yeS5wcmljZXMgOiBbXTtcblxuICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgIGlmICghKCF0aGlzLmNvbnRleHQgfHwgIXRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3REYXRhLmZvckVhY2goZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbGFzdERpZ2l0ID0gKCtwcmljZSkudG9GaXhlZChfdGhpczIuZGVjaW1hbFBsYWNlcykuc2xpY2UoLTEpO1xuICAgICAgICAgICAgICAgICAgX3RoaXMyLmRpZ2l0c1tsYXN0RGlnaXRdKys7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCYXJzKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdXBkYXRlTGFzdERpZ2l0U3RhdHMoKSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlTGFzdERpZ2l0U3RhdHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZUxhc3REaWdpdFN0YXRzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcIm9uTWFzdGVyRGF0YVVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1hc3RlckRhdGFVcGRhdGUoX3JlZikge1xuICAgICAgdmFyIENsb3NlID0gX3JlZi5DbG9zZSxcbiAgICAgICAgICB0aWNrID0gX3JlZi50aWNrO1xuICAgICAgaWYgKCF0aGlzLmNvbnRleHQgfHwgIXRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wpIHJldHVybjtcbiAgICAgIHRoaXMubGFzdFRpY2sgPSB0aWNrO1xuXG4gICAgICBpZiAodGhpcy5tYXJrZXREaXNwbGF5TmFtZSAhPT0gdGhpcy5sYXN0U3ltYm9sKSB7XG4gICAgICAgIHRoaXMubGFzdFN5bWJvbCA9IHRoaXMubWFya2V0RGlzcGxheU5hbWU7IC8vIFN5bWJvbCBoYXMgY2hhbmdlZFxuXG4gICAgICAgIHRoaXMudXBkYXRlTGFzdERpZ2l0U3RhdHMoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5sYXRlc3REYXRhLmxlbmd0aCkge1xuICAgICAgICB2YXIgZmlyc3REaWdpdCA9ICgrdGhpcy5sYXRlc3REYXRhLnNoaWZ0KCkpLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKS5zbGljZSgtMSk7XG4gICAgICAgIHZhciBwcmljZSA9ICgrQ2xvc2UpLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKTtcbiAgICAgICAgdmFyIGxhc3REaWdpdCA9IHByaWNlLnNsaWNlKC0xKTtcbiAgICAgICAgdGhpcy5sYXRlc3REYXRhLnB1c2goK3ByaWNlKTtcbiAgICAgICAgdGhpcy5kaWdpdHNbbGFzdERpZ2l0XSsrO1xuICAgICAgICB0aGlzLmRpZ2l0c1tmaXJzdERpZ2l0XS0tO1xuICAgICAgICB0aGlzLnVwZGF0ZUJhcnMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlQmFyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCYXJzKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBtaW4gPSBNYXRoLm1pbi5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5kaWdpdHMpKTtcbiAgICAgIHZhciBtYXggPSBNYXRoLm1heC5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5kaWdpdHMpKTtcbiAgICAgIHRoaXMuZGlnaXRzLmZvckVhY2goZnVuY3Rpb24gKGRpZ2l0LCBpZHgpIHtcbiAgICAgICAgX3RoaXMzLmJhcnNbaWR4XS5oZWlnaHQgPSBkaWdpdCAqIDEwMCAvIF90aGlzMy5jb3VudDtcbiAgICAgICAgaWYgKGRpZ2l0ID09PSBtaW4pIF90aGlzMy5iYXJzW2lkeF0uY05hbWUgPSAnbWluJztlbHNlIGlmIChkaWdpdCA9PT0gbWF4KSBfdGhpczMuYmFyc1tpZHhdLmNOYW1lID0gJ21heCc7ZWxzZSBfdGhpczMuYmFyc1tpZHhdLmNOYW1lID0gJyc7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuYmFycyA9IHRoaXMuYmFycy5zbGljZSgwKTsgLy8gZm9yY2UgYXJyYXkgdXBkYXRlXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhcGlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5hcGk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlY2ltYWxQbGFjZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfdGhpcyRtYWluU3RvcmUkY2hhcnQ7XG5cbiAgICAgIHJldHVybiAoKF90aGlzJG1haW5TdG9yZSRjaGFydCA9IHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wpID09PSBudWxsIHx8IF90aGlzJG1haW5TdG9yZSRjaGFydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWFpblN0b3JlJGNoYXJ0LmRlY2ltYWxfcGxhY2VzKSB8fCAyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1Zpc2libGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5zdGF0ZS5zaG93TGFzdERpZ2l0U3RhdHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1hcmtldERpc3BsYXlOYW1lXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbCA/IHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wubmFtZSA6ICcnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG91bGRNaW5pbWlzZUxhc3REaWdpdHNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5zdGF0ZS5zaG91bGRNaW5pbWlzZUxhc3REaWdpdHM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExhc3REaWdpdFN0YXRzU3RvcmU7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImJhcnNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwibGFzdFRpY2tcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZWNpbWFsUGxhY2VzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZWNpbWFsUGxhY2VzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzVmlzaWJsZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNWaXNpYmxlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm1hcmtldERpc3BsYXlOYW1lXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJtYXJrZXREaXNwbGF5TmFtZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzaG91bGRNaW5pbWlzZUxhc3REaWdpdHNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3VsZE1pbmltaXNlTGFzdERpZ2l0c1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVMYXN0RGlnaXRTdGF0c1wiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVMYXN0RGlnaXRTdGF0c1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbk1hc3RlckRhdGFVcGRhdGVcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uTWFzdGVyRGF0YVVwZGF0ZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVCYXJzXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVCYXJzXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0xpc3RTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvTGlzdFN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBMaXN0U3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbnZhciBfZGVjLCBfY2xhc3MsIF90ZW1wO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuXG5cbnZhciBMaXN0U3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIExpc3RTdG9yZShfcmVmKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBnZXRDb250ZXh0ID0gX3JlZi5nZXRDb250ZXh0LFxuICAgICAgICBnZXRJdGVtcyA9IF9yZWYuZ2V0SXRlbXMsXG4gICAgICAgIG9uSXRlbVNlbGVjdGVkID0gX3JlZi5vbkl0ZW1TZWxlY3RlZDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0U3RvcmUpO1xuXG4gICAgdGhpcy5jb25uZWN0ID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpdGVtczogX3RoaXMuZ2V0SXRlbXMoKSxcbiAgICAgICAgb25JdGVtQ2xpY2s6IF90aGlzLm9uSXRlbUNsaWNrXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHRoaXMuZ2V0Q29udGV4dCA9IGdldENvbnRleHQ7XG4gICAgdGhpcy5nZXRJdGVtcyA9IGdldEl0ZW1zOyAvLyBpdGVtcyA6IFt7aWQ6ICcnLCB0ZXh0OiAnJywgZGlzYWJsZWQ/OiBmYWxzZSwgYWN0aXZlPzogZmFsc2V9XVxuXG4gICAgdGhpcy5vbkl0ZW1TZWxlY3RlZCA9IG9uSXRlbVNlbGVjdGVkO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExpc3RTdG9yZSwgW3tcbiAgICBrZXk6IFwib25JdGVtQ2xpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25JdGVtQ2xpY2soaWR4LCBpdGVtKSB7XG4gICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkKGl0ZW0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMaXN0U3RvcmU7XG59KCksIF90ZW1wKSwgKF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkl0ZW1DbGlja1wiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkl0ZW1DbGlja1wiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9Mb2FkZXJTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9Mb2FkZXJTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIExvYWRlclN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF90ZW1wO1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxuXG52YXIgTG9hZGVyU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTG9hZGVyU3RvcmUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvYWRlclN0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNBY3RpdmVcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjdXJyZW50U3RhdGVcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIHRoaXMuc3RhdGVzID0ge307XG4gICAgdGhpcy5zdGF0ZXMgPSB7XG4gICAgICAnY2hhcnQtZW5naW5lJzogdC50cmFuc2xhdGUoJ1JldHJpZXZpbmcgQ2hhcnQgRW5naW5lLi4uJyksXG4gICAgICAnbWFya2V0LXN5bWJvbCc6IHQudHJhbnNsYXRlKCdSZXRyaWV2aW5nIE1hcmtldCBTeW1ib2xzLi4uJyksXG4gICAgICAndHJhZGluZy10aW1lJzogdC50cmFuc2xhdGUoJ1JldHJpZXZpbmcgVHJhZGluZyBUaW1lcy4uLicpLFxuICAgICAgJ2NoYXJ0LWRhdGEnOiB0LnRyYW5zbGF0ZSgnUmV0cmlldmluZyBDaGFydCBEYXRhLi4uJylcbiAgICB9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExvYWRlclN0b3JlLCBbe1xuICAgIGtleTogXCJzZXRTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTdGF0ZShzdGF0ZSkge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlc1tzdGF0ZV0pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignV3Jvbmcgc3RhdGUgcmVxdWVzdGVkIScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gdGhpcy5zdGF0ZXNbc3RhdGVdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG93XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGlkZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMb2FkZXJTdG9yZTtcbn0oKSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNBY3RpdmVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY3VycmVudFN0YXRlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFN0YXRlXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFN0YXRlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3dcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3dcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGlkZVwiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGlkZVwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvTWVudVN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9NZW51U3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE1lbnVTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIi4vbm9kZV9tb2R1bGVzL21vYngvbGliL21vYngubW9kdWxlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9EaWFsb2dTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9EaWFsb2dTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL0RpYWxvZ1N0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0RpYWxvZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvRGlhbG9nLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvRGlhbG9nLmpzeFwiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF90ZW1wO1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxuXG5cblxuXG52YXIgTWVudVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNZW51U3RvcmUobWFpblN0b3JlLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZW51U3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJkaWFsb2dTdGF0dXNcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJyb3V0ZVwiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgdGhpcy5jb25uZWN0ID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGMgPSBfcmVmLmNoYXJ0LFxuICAgICAgICAgIGNoYXJ0U2V0dGluZyA9IF9yZWYuY2hhcnRTZXR0aW5nO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVhZHk6IGMuY29udGV4dCxcbiAgICAgICAgc2V0T3BlbjogX3RoaXMuc2V0T3BlbixcbiAgICAgICAgb3BlbjogX3RoaXMub3BlbixcbiAgICAgICAgZGlhbG9nU3RhdHVzOiBfdGhpcy5kaWFsb2dTdGF0dXMsXG4gICAgICAgIG9uVGl0bGVDbGljazogX3RoaXMub25UaXRsZUNsaWNrLFxuICAgICAgICBoYW5kbGVDbG9zZURpYWxvZzogX3RoaXMuaGFuZGxlQ2xvc2VEaWFsb2csXG4gICAgICAgIERyb3Bkb3duRGlhbG9nOiBfdGhpcy5Ecm9wRG93bkRpYWxvZyxcbiAgICAgICAgaXNNb2JpbGU6IGMuaXNNb2JpbGUsXG4gICAgICAgIHNob3VsZFJlbmRlckRpYWxvZ3M6IGMuc2hvdWxkUmVuZGVyRGlhbG9ncyxcbiAgICAgICAgdGhlbWU6IGNoYXJ0U2V0dGluZy50aGVtZVxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICB0aGlzLmRpYWxvZyA9IG5ldyBfRGlhbG9nU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlKTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wicmVhY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5vcGVuO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5ibHVySW5wdXQoKTtcbiAgICB9KTtcblxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucm91dGUpIHtcbiAgICAgIHRoaXMucm91dGUgPSBvcHRpb25zLnJvdXRlO1xuICAgIH1cblxuICAgIHRoaXMuRHJvcERvd25EaWFsb2cgPSB0aGlzLmRpYWxvZy5jb25uZWN0KF9jb21wb25lbnRzX0RpYWxvZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1lbnVTdG9yZSwgW3tcbiAgICBrZXk6IFwic2V0T3BlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcGVuKHZhbCkge1xuICAgICAgdGhpcy5kaWFsb2cuc2V0T3Blbih2YWwpO1xuICAgICAgLyoqXG4gICAgICAgKiAgVXBkYXRlIHRoZSB1cmwgaGFzaCBieSBjb25zaWRlcmluZyB0aGUgZGlhbG9nIGByb3V0ZWAgYW5kIGBvcGVuYFxuICAgICAgICovXG5cbiAgICAgIHRoaXMucm91dGluZ1N0b3JlLnVwZGF0ZVJvdXRlKHRoaXMucm91dGUsIHZhbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImJsdXJJbnB1dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBibHVySW5wdXQoKSB7XG4gICAgICB2YXIgc3R4ID0gdGhpcy5jb250ZXh0LnN0eDtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5oYW5kbGVEaWFsb2dTdGF0dXMsIDMwMCk7XG5cbiAgICAgIGlmICh0aGlzLm9wZW4gPT09IGZhbHNlKSB7XG4gICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgICAgICBzdHgubW9kYWxFbmQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eC5tb2RhbEJlZ2luKCk7XG4gICAgICB9XG5cbiAgICAgIHN0eC5hbGxvd1pvb20gPSAhdGhpcy5vcGVuO1xuXG4gICAgICBpZiAoIXRoaXMub3Blbikge1xuICAgICAgICB0aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRFbmFibGVTY3JvbGwoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWFpblN0b3JlLnN0YXRlLnNldERpc2FibGVTY3JvbGwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25UaXRsZUNsaWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uVGl0bGVDbGljayhlKSB7XG4gICAgICBpZiAoZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldE9wZW4oIXRoaXMub3Blbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZURpYWxvZ1N0YXR1c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVEaWFsb2dTdGF0dXMoKSB7XG4gICAgICB0aGlzLmRpYWxvZ1N0YXR1cyA9IHRoaXMub3BlbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlQ2xvc2VEaWFsb2dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2VEaWFsb2coKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdGhpcy5kaWFsb2dTdGF0dXMgPSBmYWxzZTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnNldE9wZW4oZmFsc2UpO1xuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJvdXRpbmdTdG9yZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLnJvdXRpbmc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9wZW5cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpYWxvZy5vcGVuO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNZW51U3RvcmU7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRpYWxvZ1N0YXR1c1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyb3V0ZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvcGVuXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvcGVuXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldE9wZW5cIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0T3BlblwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblRpdGxlQ2xpY2tcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uVGl0bGVDbGlja1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoYW5kbGVEaWFsb2dTdGF0dXNcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhhbmRsZURpYWxvZ1N0YXR1c1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoYW5kbGVDbG9zZURpYWxvZ1wiLCBbX2RlYzRdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGFuZGxlQ2xvc2VEaWFsb2dcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvTmF2aWdhdGlvbldpZGdldFN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9OYXZpZ2F0aW9uV2lkZ2V0U3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE5hdmlnYXRpb25XaWRnZXRTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIi4vbm9kZV9tb2R1bGVzL21vYngvbGliL21vYngubW9kdWxlLmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2RlYzQsIF9kZWM1LCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cblxudmFyIE5hdmlnYXRpb25XaWRnZXRTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM0ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhOYXZpZ2F0aW9uV2lkZ2V0U3RvcmUsIFt7XG4gICAga2V5OiBcImNoYXJ0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXRlU3RvcmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5zdGF0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3Jvc3NoYWlyU3RvcmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jcm9zc2hhaXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0eHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0LnN0eHg7XG4gICAgfVxuICB9XSk7XG5cbiAgZnVuY3Rpb24gTmF2aWdhdGlvbldpZGdldFN0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmF2aWdhdGlvbldpZGdldFN0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwibW91c2VfaW5cIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgdGhpcy5vbkNvbnRleHRSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnN0eHgucHJlcGVuZCgnbW91c2VXaGVlbCcsIF90aGlzLm9uTW91c2VXaGVlbCk7XG4gICAgfTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInJlYWN0aW9uXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY3Jvc3NoYWlyU3RvcmUuc3RhdGU7XG4gICAgfSwgdGhpcy5vbkNyb3NzaGFpckNoYW5nZSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTmF2aWdhdGlvbldpZGdldFN0b3JlLCBbe1xuICAgIGtleTogXCJvbk1vdXNlV2hlZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZVdoZWVsKCkge1xuICAgICAgdGhpcy5zdHh4LmNoYXJ0LmxvY2tTY3JvbGwgPSBmYWxzZTtcbiAgICAgIHRoaXMubWFpblN0b3JlLmNoYXJ0LnVwZGF0ZVNjYWxlZE9uZU9uZShmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VFbnRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlRW50ZXIoKSB7XG4gICAgICB0aGlzLm1vdXNlX2luID0gdHJ1ZTtcbiAgICAgIHRoaXMuY3Jvc3NoYWlyU3RvcmUudXBkYXRlVmlzaWJpbGl0eShmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VMZWF2ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7XG4gICAgICB0aGlzLm1vdXNlX2luID0gZmFsc2U7XG4gICAgICB0aGlzLmNyb3NzaGFpclN0b3JlLnVwZGF0ZVZpc2liaWxpdHkodHJ1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uU2NhbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TY2FsZSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgcG9pbnQgPSBudWxsO1xuICAgICAgdmFyIGRhdGFTZXQgPSB0aGlzLnN0eHguY2hhcnQuZGF0YVNldDtcbiAgICAgIGlmIChkYXRhU2V0ICYmIGRhdGFTZXQubGVuZ3RoKSBwb2ludCA9IGRhdGFTZXRbMF07XG4gICAgICB0aGlzLnN0eHguaG9tZSgpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi5zdGF0ZVN0b3JlLnNjcm9sbENoYXJ0VG9MZWZ0KHBvaW50LCB0cnVlKTtcbiAgICAgIH0sIDEwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Dcm9zc2hhaXJDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Dcm9zc2hhaXJDaGFuZ2UoKSB7XG4gICAgICBpZiAodGhpcy5jcm9zc2hhaXJTdG9yZS5zdGF0ZSA9PT0gMiAmJiB0aGlzLm1vdXNlX2luKSB7XG4gICAgICAgIHRoaXMuY3Jvc3NoYWlyU3RvcmUudXBkYXRlVmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVuYWJsZVNjYWxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZVN0b3JlLnN0YXJ0RXBvY2g7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5hdmlnYXRpb25XaWRnZXRTdG9yZTtcbn0oKSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwibW91c2VfaW5cIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImVuYWJsZVNjYWxlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJlbmFibGVTY2FsZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbk1vdXNlV2hlZWxcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25Nb3VzZVdoZWVsXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uTW91c2VFbnRlclwiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25Nb3VzZUVudGVyXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uTW91c2VMZWF2ZVwiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25Nb3VzZUxlYXZlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uU2NhbGVcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uU2NhbGVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25Dcm9zc2hhaXJDaGFuZ2VcIiwgW19kZWM1XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uQ3Jvc3NoYWlyQ2hhbmdlXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL05vdGlmaWVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL05vdGlmaWVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkge2Z1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBOb3RpZmllciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE5vdGlmaWVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb3RpZmllcik7XG5cbiAgICB0aGlzLm9uTWVzc2FnZSA9IHZvaWQgMDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOb3RpZmllciwgW3tcbiAgICBrZXk6IFwibm90aWZ5XCIsXG5cbiAgICAvKlxuICAgICAqIGEgTm90aWZpY2F0aW9uIG9iamVjdCBoYXMgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XG4gICAgICoge1xuICAgICAqICAgICB0ZXh0LCAvLyBkaXNwbGF5ZWQgbWVzc2FnZXNcbiAgICAgKiAgICAgdHlwZSwgLy8gbWVzc2FnZSB0eXBlOyBjaG9vc2UgZnJvbSBgaW5mb2AsIGB3YXJuaW5nYCwgYHN1Y2Nlc3NgLCBgZXJyb3JgLiBEZWZhdWx0cyB0byBgd2FybmluZ2BcbiAgICAgKiAgICAgY2F0ZWdvcnksIC8vIGNob29zZSBmcm9tIGBhY3RpdmVzeW1ib2xgXG4gICAgICogfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBub3RpZnkobm90aWZpY2F0aW9uKSB7XG4gICAgICBpZiAodGhpcy5vbk1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5vbk1lc3NhZ2UoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgdHlwZTogJ3dhcm5pbmcnXG4gICAgICAgIH0sIG5vdGlmaWNhdGlvbikpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJub3RpZnlNYXJrZXRPcGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vdGlmeU1hcmtldE9wZW4oc3ltYm9sKSB7XG4gICAgICB0aGlzLm5vdGlmeSh7XG4gICAgICAgIHRleHQ6IHQudHJhbnNsYXRlKCdbc3ltYm9sXSBtYXJrZXQgaXMgbm93IG9wZW5lZC4nLCB7XG4gICAgICAgICAgc3ltYm9sOiBzeW1ib2xcbiAgICAgICAgfSksXG4gICAgICAgIHR5cGU6ICdpbmZvJyxcbiAgICAgICAgY2F0ZWdvcnk6IE5vdGlmaWVyLkNBVEVHT1JZX0FDVElWRV9TWU1CT0xcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJub3RpZnlNYXJrZXRDbG9zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBub3RpZnlNYXJrZXRDbG9zZShzeW1ib2wpIHtcbiAgICAgIHRoaXMubm90aWZ5KHtcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ1tzeW1ib2xdIG1hcmtldCBpcyBwcmVzZW50bHkgY2xvc2VkLicsIHtcbiAgICAgICAgICBzeW1ib2w6IHN5bWJvbFxuICAgICAgICB9KSxcbiAgICAgICAgY2F0ZWdvcnk6IE5vdGlmaWVyLkNBVEVHT1JZX0FDVElWRV9TWU1CT0xcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJub3RpZnlEZWxheWVkTWFya2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vdGlmeURlbGF5ZWRNYXJrZXQoc3ltYm9sLCBkZWxheSkge1xuICAgICAgdGhpcy5ub3RpZnkoe1xuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnW3N5bWJvbF0gZmVlZCBpcyBkZWxheWVkIGJ5IFtkZWxheV0gbWludXRlcycsIHtcbiAgICAgICAgICBzeW1ib2w6IHN5bWJvbCxcbiAgICAgICAgICBkZWxheTogZGVsYXlcbiAgICAgICAgfSksXG4gICAgICAgIGNhdGVnb3J5OiBOb3RpZmllci5DQVRFR09SWV9BQ1RJVkVfU1lNQk9MXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibm90aWZ5RmVlZFVuYXZhaWxhYmxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vdGlmeUZlZWRVbmF2YWlsYWJsZShzeW1ib2wpIHtcbiAgICAgIHRoaXMubm90aWZ5KHtcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ1N0cmVhbWluZyBmb3IgW3N5bWJvbF0gaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gbGljZW5zZSByZXN0cmljdGlvbnMnLCB7XG4gICAgICAgICAgc3ltYm9sOiBzeW1ib2xcbiAgICAgICAgfSksXG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIGNhdGVnb3J5OiBOb3RpZmllci5DQVRFR09SWV9BQ1RJVkVfU1lNQk9MXG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJDQVRFR09SWV9BQ1RJVkVfU1lNQk9MXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ2FjdGl2ZXN5bWJvbCc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5vdGlmaWVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE5vdGlmaWVyKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL1BhZ2luYXRpb25Mb2FkZXJTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvUGFnaW5hdGlvbkxvYWRlclN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cblxudmFyIFBhZ2luYXRpb25Mb2FkZXJTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhQYWdpbmF0aW9uTG9hZGVyU3RvcmUsIFt7XG4gICAga2V5OiBcImZlZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuc3R4eDtcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBQYWdpbmF0aW9uTG9hZGVyU3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdpbmF0aW9uTG9hZGVyU3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc09uUGFnaW5hdGlvblwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICB0aGlzLnBhZ2luYXRpb25FbmRFcG9jaCA9IG51bGw7XG5cbiAgICB0aGlzLm9uQ29udGV4dFJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuZmVlZC5vblN0YXJ0UGFnaW5hdGlvbihfdGhpcy5zZXRPblBhZ2luYXRpb24pO1xuXG4gICAgICBfdGhpcy5mZWVkLm9uUGFnaW5hdGlvbihfdGhpcy5zZXRPblBhZ2luYXRpb24pOyAvLyB0aGlzIGluamVjdGlvbiB3aWxsIHNsb3dzIGRvd24gdGhlIHN3aXBpbmcgYW5kIG1vdXNlIHdoZWVsIG9wZXJhdGlvbnNcbiAgICAgIC8vIGJ5IGlnbm9yaW5nIHJlcXVlc3RzIHRoYXQgYXJlIHRvbyBjbG9zZSBmcm9tIG9uZSBhbm90aGVyIG9yXG4gICAgICAvLyB3aGVuIGlzT25QYWdpbmF0aW9uIGlzIHRydWVcblxuXG4gICAgICBfdGhpcy5zdHgucHJlcGVuZCgnbW91c2VXaGVlbCcsIF90aGlzLm9uTW91c2VXaGVlbCk7XG4gICAgfTtcblxuICAgIHRoaXMub25Nb3VzZVdoZWVsID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBkaWZmID0gbnVsbDtcbiAgICAgIHZhciB0aW1lTGltaXQgPSA0MDtcbiAgICAgIGlmIChfdGhpcy5zdHgubGFzdE1vdXNlV2hlZWxFdmVudCkgZGlmZiA9IERhdGUubm93KCkgLSBfdGhpcy5zdHgubGFzdE1vdXNlV2hlZWxFdmVudDtcbiAgICAgIGlmIChkaWZmICYmIGRpZmYgPCB0aW1lTGltaXQgfHwgX3RoaXMuaXNPblBhZ2luYXRpb24pIHJldHVybiB0cnVlOyAvLyBza2lwIHN3aXBpbmdcblxuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBjb250aW51ZSBzd2lwaW5nXG4gICAgfTtcblxuICAgIHRoaXMuc2V0UmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMucmVmID0gcmVmO1xuXG4gICAgICBpZiAoX3RoaXMucmVmICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLnJlZi5zZXRQb3NpdGlvbih7XG4gICAgICAgICAgZXBvY2g6IF90aGlzLnBhZ2luYXRpb25FbmRFcG9jaCxcbiAgICAgICAgICBwcmljZTogMFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXRPblBhZ2luYXRpb25cIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCB0aGlzLm9uQ29udGV4dFJlYWR5KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQYWdpbmF0aW9uTG9hZGVyU3RvcmUsIFt7XG4gICAga2V5OiBcInVwZGF0ZU9uUGFnaW5hdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVPblBhZ2luYXRpb24oc3RhdGUpIHtcbiAgICAgIHRoaXMuaXNPblBhZ2luYXRpb24gPSBzdGF0ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGFnaW5hdGlvbkxvYWRlclN0b3JlO1xufSgpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc09uUGFnaW5hdGlvblwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVPblBhZ2luYXRpb25cIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlT25QYWdpbmF0aW9uXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldE9uUGFnaW5hdGlvblwiLCBbX2RlYzJdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHJldHVybiBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGVuZCA9IF9yZWYuZW5kO1xuICAgICAgX3RoaXMyLmlzT25QYWdpbmF0aW9uID0gIV90aGlzMi5pc09uUGFnaW5hdGlvbjtcbiAgICAgIF90aGlzMi5wYWdpbmF0aW9uRW5kRXBvY2ggPSBfdGhpczIuaXNPblBhZ2luYXRpb24gPyBlbmQgOiBudWxsO1xuXG4gICAgICBpZiAoX3RoaXMyLnJlZikge1xuICAgICAgICBfdGhpczIucmVmLnNldFBvc2l0aW9uKHtcbiAgICAgICAgICBlcG9jaDogX3RoaXMyLnBhZ2luYXRpb25FbmRFcG9jaCxcbiAgICAgICAgICBwcmljZTogMFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KSksIF9jbGFzcykpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChQYWdpbmF0aW9uTG9hZGVyU3RvcmUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9QcmljZUxpbmVTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9QcmljZUxpbmVTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQcmljZUxpbmVTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGV2ZW50LWVtaXR0ZXItZXM2ICovIFwiLi9ub2RlX21vZHVsZXMvZXZlbnQtZW1pdHRlci1lczYvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2RlYzQsIF9kZWM1LCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfZGVzY3JpcHRvcjUsIF9kZXNjcmlwdG9yNiwgX2Rlc2NyaXB0b3I3LCBfZGVzY3JpcHRvcjgsIF9kZXNjcmlwdG9yOSwgX3RlbXA7XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG5cblxuXG5cbnZhciBMSU5FX09GRlNFVF9IRUlHSFQgPSA0O1xudmFyIExJTkVfT0ZGU0VUX0hFSUdIVF9IQUxGID0gTElORV9PRkZTRVRfSEVJR0hUID4+IDE7XG52YXIgUHJpY2VMaW5lU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzUgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoUHJpY2VMaW5lU3RvcmUsIFt7XG4gICAga2V5OiBcInpJbmRleFwiLFxuICAgIC8vIEBvYnNlcnZhYmxlIHRvcCA9IDA7XG4gICAgLy8gQG9ic2VydmFibGUgekluZGV4O1xuICAgIC8vIEBvYnNlcnZhYmxlIHVuY2VudGVyZWQgPSBmYWxzZTtcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuX2xpbmUpIHtcbiAgICAgICAgdGhpcy5fbGluZS5zdHlsZS56SW5kZXggPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicGlwXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5kZWNpbWFsX3BsYWNlcztcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBQcmljZUxpbmVTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByaWNlTGluZVN0b3JlKTtcblxuICAgIHRoaXMuX3JlbGF0aXZlID0gZmFsc2U7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRyYWdnYWJsZVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzRHJhZ2dpbmdcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwidmlzaWJsZVwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJfcHJpY2VcIiwgX2Rlc2NyaXB0b3I0LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwib2ZmU2NyZWVuXCIsIF9kZXNjcmlwdG9yNSwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRpdGxlXCIsIF9kZXNjcmlwdG9yNiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzT3ZlcmxhcHBpbmdcIiwgX2Rlc2NyaXB0b3I3LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwib2ZmU2NyZWVuRGlyZWN0aW9uXCIsIF9kZXNjcmlwdG9yOCwgdGhpcyk7XG5cbiAgICB0aGlzLm9uQ29udGV4dFJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuX2luamVjdGlvbklkID0gX3RoaXMuc3R4LmFwcGVuZCgnZHJhdycsIF90aGlzLl9kcmF3KTtcbiAgICB9O1xuXG4gICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGV4aXRJZk5vdGlzRHJhZ2dhYmxlID0gZnVuY3Rpb24gZXhpdElmTm90aXNEcmFnZ2FibGUoZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKF90aGlzLnZpc2libGUgJiYgX3RoaXMuZHJhZ2dhYmxlKSB7XG4gICAgICAgICAgY2FsbGJhY2suY2FsbChfdGhpcywgZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIENJUS5zYWZlRHJhZyhfdGhpcy5fbGluZSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGV4aXRJZk5vdGlzRHJhZ2dhYmxlKGUsIF90aGlzLl9zdGFydERyYWcpO1xuICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGV4aXRJZk5vdGlzRHJhZ2dhYmxlKGUsIF90aGlzLl9kcmFnTGluZSk7XG4gICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZXhpdElmTm90aXNEcmFnZ2FibGUoZSwgX3RoaXMuX2VuZERyYWcpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NhbGN1bGF0ZVRvcFwiLCBfZGVzY3JpcHRvcjksIHRoaXMpO1xuXG4gICAgdGhpcy5fZHJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy52aXNpYmxlICYmIF90aGlzLl9saW5lKSB7XG4gICAgICAgIF90aGlzLnRvcCA9IF90aGlzLl9jYWxjdWxhdGVUb3AoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jb25uZWN0ID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcmljZURpc3BsYXk6IF90aGlzLnByaWNlRGlzcGxheSxcbiAgICAgICAgdmlzaWJsZTogX3RoaXMudmlzaWJsZSxcbiAgICAgICAgc2V0RHJhZ0xpbmU6IF90aGlzLnNldERyYWdMaW5lLFxuICAgICAgICBjbGFzc05hbWU6IF90aGlzLmNsYXNzTmFtZSxcbiAgICAgICAgZHJhZ2dhYmxlOiBfdGhpcy5kcmFnZ2FibGUsXG4gICAgICAgIGlzRHJhZ2dpbmc6IF90aGlzLmlzRHJhZ2dpbmcsXG4gICAgICAgIGluaXQ6IF90aGlzLmluaXQsXG4gICAgICAgIHRpdGxlOiBfdGhpcy50aXRsZSxcbiAgICAgICAgeUF4aXN3aWR0aDogX3RoaXMueUF4aXN3aWR0aCxcbiAgICAgICAgb2ZmU2NyZWVuOiBfdGhpcy5vZmZTY3JlZW4sXG4gICAgICAgIGhpZGVCYXJyaWVyTGluZTogX3RoaXMuaGlkZUJhcnJpZXJMaW5lLFxuICAgICAgICBoaWRlT2Zmc2NyZWVuTGluZTogX3RoaXMuaGlkZU9mZnNjcmVlbkxpbmUsXG4gICAgICAgIG9mZlNjcmVlbkRpcmVjdGlvbjogX3RoaXMub2ZmU2NyZWVuRGlyZWN0aW9uLFxuICAgICAgICBpc092ZXJsYXBwaW5nOiBfdGhpcy5pc092ZXJsYXBwaW5nIC8vIHpJbmRleDogdGhpcy56SW5kZXgsXG5cbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5fZW1pdHRlciA9IG5ldyBldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYSh7XG4gICAgICBlbWl0RGVsYXk6IDBcbiAgICB9KTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUHJpY2VMaW5lU3RvcmUsIFt7XG4gICAga2V5OiBcImRlc3RydWN0b3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuc3R4LnJlbW92ZUluamVjdGlvbih0aGlzLl9pbmplY3Rpb25JZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldERyYWdMaW5lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldERyYWdMaW5lKGVsKSB7XG4gICAgICB0aGlzLl9saW5lID0gZWw7XG5cbiAgICAgIGlmICh0aGlzLl9saW5lKSB7XG4gICAgICAgIHRoaXMuX2RyYXcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX21vZGFsQmVnaW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX21vZGFsQmVnaW4oKSB7XG4gICAgICBpZiAodGhpcy5zdHguZ3JhYmJpbmdTY3JlZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0eC5lZGl0aW5nQW5ub3RhdGlvbiA9IHRydWU7XG4gICAgICB0aGlzLnN0eC5tb2RhbEJlZ2luKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9tb2RhbEVuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbW9kYWxFbmQoKSB7XG4gICAgICB0aGlzLnN0eC5tb2RhbEVuZCgpO1xuICAgICAgdGhpcy5zdHguZWRpdGluZ0Fubm90YXRpb24gPSBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3N0YXJ0RHJhZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RhcnREcmFnKCkge1xuICAgICAgdGhpcy5fbW9kYWxCZWdpbigpO1xuXG4gICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5faW5pdGlhbFBvc2l0aW9uID0gdGhpcy50b3A7XG4gICAgICB0aGlzLl9zdGFydERyYWdQcmljZSA9IHRoaXMuX3ByaWNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZHJhZ0xpbmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2RyYWdMaW5lKGUpIHtcbiAgICAgIGlmICghdGhpcy5fbGluZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdUb3AgPSB0aGlzLl9pbml0aWFsUG9zaXRpb24gKyBlLmRpc3BsYWNlbWVudFk7XG4gICAgICB2YXIgbmV3Q2VudGVyID0gbmV3VG9wICsgTElORV9PRkZTRVRfSEVJR0hUX0hBTEY7XG5cbiAgICAgIHZhciBuZXdQcmljZSA9IHRoaXMuX3ByaWNlRnJvbUxvY2F0aW9uKG5ld0NlbnRlcik7XG5cbiAgICAgIGlmICh0aGlzLl9wcmljZUNvbnN0cmFpbmVyKSB7XG4gICAgICAgIG5ld1ByaWNlID0gdGhpcy5fcHJpY2VDb25zdHJhaW5lcihuZXdQcmljZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnJlbGF0aXZlKSB7XG4gICAgICAgIG5ld1ByaWNlIC09IHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRDbG9zZVF1b3RlKCkuQ2xvc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJpY2UgPSBuZXdQcmljZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2VuZERyYWdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2VuZERyYWcoKSB7XG4gICAgICB0aGlzLl9tb2RhbEVuZCgpO1xuXG4gICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgaWYgKHRoaXMuX3N0YXJ0RHJhZ1ByaWNlLnRvRml4ZWQodGhpcy5waXApICE9PSB0aGlzLl9wcmljZS50b0ZpeGVkKHRoaXMucGlwKSkge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUHJpY2VMaW5lU3RvcmUuRVZFTlRfRFJBR19SRUxFQVNFRCwgdGhpcy5fcHJpY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfbG9jYXRpb25Gcm9tUHJpY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2xvY2F0aW9uRnJvbVByaWNlKHApIHtcbiAgICAgIHJldHVybiB0aGlzLnN0eC5waXhlbEZyb21QcmljZShwLCB0aGlzLmNoYXJ0LnBhbmVsKSAtIHRoaXMuY2hhcnQucGFuZWwudG9wO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcHJpY2VGcm9tTG9jYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3ByaWNlRnJvbUxvY2F0aW9uKHkpIHtcbiAgICAgIHZhciBwcmljZSA9IHRoaXMuc3R4LnZhbHVlRnJvbVBpeGVsKHkgKyB0aGlzLmNoYXJ0LnBhbmVsLnRvcCwgdGhpcy5jaGFydC5wYW5lbCk7XG4gICAgICByZXR1cm4gcHJpY2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUHJpY2VDaGFuZ2VkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJpY2VDaGFuZ2VkKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9lbWl0dGVyLm9uKFByaWNlTGluZVN0b3JlLkVWRU5UX1BSSUNFX0NIQU5HRUQsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25EcmFnUmVsZWFzZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25EcmFnUmVsZWFzZWQoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIub24oUHJpY2VMaW5lU3RvcmUuRVZFTlRfRFJBR19SRUxFQVNFRCwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvdmVybGFwQ2hlY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3ZlcmxhcENoZWNrKHRvcCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfYmFycmllcnMgPSB0aGlzLm1haW5TdG9yZS5jaGFydC5fYmFycmllcnM7XG5cbiAgICAgIHZhciBmaWx0ZXJlZF9iYXJyaWVycyA9IF9iYXJyaWVycy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgcmV0dXJuIGEuX2hpZ2hfYmFycmllci5wcmljZSAhPT0gMDtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY3VycmVudF9iYXJyaWVyX2lkeCA9IGZpbHRlcmVkX2JhcnJpZXJzLmZpbmRJbmRleChmdW5jdGlvbiAoYikge1xuICAgICAgICByZXR1cm4gYi5faGlnaF9iYXJyaWVyID09PSBfdGhpczI7XG4gICAgICB9KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJlZF9iYXJyaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSA9PT0gY3VycmVudF9iYXJyaWVyX2lkeCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhcnJpZXIgPSBmaWx0ZXJlZF9iYXJyaWVyc1tpXTtcbiAgICAgICAgdmFyIGRpZmZUb3AgPSBNYXRoLmFicyhiYXJyaWVyLl9oaWdoX2JhcnJpZXIudG9wIC0gdG9wKTtcblxuICAgICAgICBpZiAoZGlmZlRvcCA8IDI1KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwcmljZURpc3BsYXlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBkaXNwbGF5ID0gdGhpcy5fcHJpY2UudG9GaXhlZCh0aGlzLnBpcCk7XG5cbiAgICAgIGlmICh0aGlzLnJlbGF0aXZlICYmIHRoaXMuX3ByaWNlID4gMCkge1xuICAgICAgICBkaXNwbGF5ID0gXCIrXCIuY29uY2F0KGRpc3BsYXkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGlzcGxheTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicHJpY2VcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wcmljZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3ByaWNlKSB7XG4gICAgICAgIHRoaXMuX3ByaWNlID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy5fZHJhdygpO1xuXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQcmljZUxpbmVTdG9yZS5FVkVOVF9QUklDRV9DSEFOR0VELCB0aGlzLl9wcmljZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbGF0aXZlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVsYXRpdmU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuX3JlbGF0aXZlID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JlbGF0aXZlID0gdmFsdWU7IC8vIGNvbnZlcnQgYmV0d2VlbiByZWxhdGl2ZSBhbmQgYWJzb2x1dGVcblxuICAgICAgdmFyIGN1cnJlbnRRdW90ZSA9IHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRDbG9zZVF1b3RlKCk7XG4gICAgICB2YXIgY3VycmVudFByaWNlID0gY3VycmVudFF1b3RlID8gY3VycmVudFF1b3RlLkNsb3NlIDogMDtcblxuICAgICAgaWYgKHRoaXMuX3JlbGF0aXZlKSB7XG4gICAgICAgIGN1cnJlbnRQcmljZSA9IC1jdXJyZW50UHJpY2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJpY2UgPSB0aGlzLl9wcmljZSArIGN1cnJlbnRQcmljZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0eFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zdHg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoYXJ0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHguY2hhcnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInByaWNlQ29uc3RyYWluZXJcIixcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5fcHJpY2VDb25zdHJhaW5lciA9IHZhbHVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWFsUHJpY2VcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbGF0aXZlID8gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudENsb3NlUXVvdGUoKS5DbG9zZSArIHRoaXMuX3ByaWNlIDogdGhpcy5fcHJpY2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInlBeGlzd2lkdGhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC55QXhpc3dpZHRoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b3BcIixcbiAgICAvLyBNYW50dWFsbHkgdXBkYXRlIHRoZSBkb3AgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZS5cbiAgICAvLyBXZSBkb24ndCBwYXkgZm9yIHJlYWN0IHJlY29uY2lsZXIgYW5kIG1vYnggb2JzZXJ2YWJsZSB0cmFja2luZyBpbiBhbmltYXRpb24gZnJhbWVzLlxuICAgIHNldDogZnVuY3Rpb24gc2V0KHYpIHtcbiAgICAgIHRoaXMuX190b3AgPSB2O1xuICAgICAgdGhpcy5fbGluZS5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoXCIuY29uY2F0KHRoaXMudG9wIC0gMTMsIFwicHgpXCIpO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvcDtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJFVkVOVF9QUklDRV9DSEFOR0VEXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ0VWRU5UX1BSSUNFX0NIQU5HRUQnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJFVkVOVF9EUkFHX1JFTEVBU0VEXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ0VWRU5UX0RSQUdfUkVMRUFTRUQnO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQcmljZUxpbmVTdG9yZTtcbn0oKSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZHJhZ2dhYmxlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNEcmFnZ2luZ1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ2aXNpYmxlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjQgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiX3ByaWNlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjUgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib2ZmU2NyZWVuXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I2ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRpdGxlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yNyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc092ZXJsYXBwaW5nXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yOCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvZmZTY3JlZW5EaXJlY3Rpb25cIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInBpcFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicGlwXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInByaWNlRGlzcGxheVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicHJpY2VEaXNwbGF5XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldERyYWdMaW5lXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldERyYWdMaW5lXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIl9zdGFydERyYWdcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIl9zdGFydERyYWdcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiX2RyYWdMaW5lXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJfZHJhZ0xpbmVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiX2VuZERyYWdcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIl9lbmREcmFnXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2Rlc2NyaXB0b3I5ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIl9jYWxjdWxhdGVUb3BcIiwgW19kZWM1XSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzMy5zdHguY3VycmVudFF1b3RlKCkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdG9wID0gX3RoaXMzLl9sb2NhdGlvbkZyb21QcmljZShfdGhpczMucmVhbFByaWNlKTsgLy8ga2VlcCBsaW5lIG9uIGNoYXJ0IGV2ZW4gaWYgcHJpY2UgaXMgb2ZmIHZpZXdhYmxlIGFyZWE6XG5cblxuICAgICAgaWYgKHRvcCA8IDApIHtcbiAgICAgICAgLy8gdGhpcy51bmNlbnRlcmVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRvcCA8IC1MSU5FX09GRlNFVF9IRUlHSFRfSEFMRikge1xuICAgICAgICAgIF90aGlzMy5vZmZTY3JlZW5EaXJlY3Rpb24gPSBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkRJUkVDVElPTlNcIl0uVVA7XG4gICAgICAgIH1cblxuICAgICAgICB0b3AgPSAwO1xuICAgICAgfSBlbHNlIGlmICh0b3AgKyBMSU5FX09GRlNFVF9IRUlHSFQgPiBfdGhpczMuY2hhcnQucGFuZWwuaGVpZ2h0KSB7XG4gICAgICAgIC8vIHRoaXMudW5jZW50ZXJlZCA9IHRydWU7XG4gICAgICAgIGlmICh0b3AgKyBMSU5FX09GRlNFVF9IRUlHSFQgLSBfdGhpczMuY2hhcnQucGFuZWwuaGVpZ2h0ID4gTElORV9PRkZTRVRfSEVJR0hUX0hBTEYpIHtcbiAgICAgICAgICBfdGhpczMub2ZmU2NyZWVuRGlyZWN0aW9uID0gX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJESVJFQ1RJT05TXCJdLkRPV047XG4gICAgICAgIH1cblxuICAgICAgICB0b3AgPSBfdGhpczMuY2hhcnQucGFuZWwuaGVpZ2h0IC0gTElORV9PRkZTRVRfSEVJR0hUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcy51bmNlbnRlcmVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzMy5vZmZTY3JlZW5EaXJlY3Rpb24gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBfdGhpczMub2ZmU2NyZWVuID0gISFfdGhpczMub2ZmU2NyZWVuRGlyZWN0aW9uO1xuXG4gICAgICBpZiAodG9wICsgMzAgPiBfdGhpczMuY2hhcnQucGFuZWwuaGVpZ2h0KSB7XG4gICAgICAgIHRvcCA9IF90aGlzMy5jaGFydC5wYW5lbC5oZWlnaHQgLSAzMDtcbiAgICAgIH0gZWxzZSBpZiAodG9wIDwgMTApIHtcbiAgICAgICAgdG9wID0gMTA7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpczMub2ZmU2NyZWVuRGlyZWN0aW9uICYmIF90aGlzMy5zaG93T2Zmc2NyZWVuQXJyb3dzKSB7XG4gICAgICAgIHRvcCArPSBfdGhpczMub2ZmU2NyZWVuRGlyZWN0aW9uID09PSBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkRJUkVDVElPTlNcIl0uVVAgPyArX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJBUlJPV19IRUlHSFRcIl0gOiAtX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJBUlJPV19IRUlHSFRcIl07XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpczMub3BhY2l0eU9uT3ZlcmxhcCkge1xuICAgICAgICBfdGhpczMuaXNPdmVybGFwcGluZyA9IF90aGlzMy5vdmVybGFwQ2hlY2sodG9wKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE1hdGgucm91bmQodG9wKSB8IDA7XG4gICAgfTtcbiAgfVxufSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9Sb3V0aW5nU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL1JvdXRpbmdTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUm91dGluZ1N0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfZGVjNCwgX2NsYXNzO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuXG52YXIgYWxsRGlhbG9ncyA9IFtdO1xudmFyIFJvdXRpbmdTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM0ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUm91dGluZ1N0b3JlKG1haW5TdG9yZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb3V0aW5nU3RvcmUpO1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUm91dGluZ1N0b3JlLCBbe1xuICAgIGtleTogXCJoYW5kbGVSb3V0aW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJvdXRpbmcoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhhc2ggPSB3aW5kb3cuaGlzdG9yeS5zdGF0ZS51cmxQYXRoLnJlcGxhY2UoJyMnLCAnJyk7XG5cbiAgICAgICAgaWYgKGhhc2ggPT09ICcnKSB7XG4gICAgICAgICAgX3RoaXMuY2xvc2VBbGwoKTtcbiAgICAgICAgfVxuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVSb3V0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVSb3V0ZShyb3V0ZSwgZGlhbG9nU3RhdHVzKSB7XG4gICAgICB2YXIgZW5hYmxlUm91dGluZyA9IHRoaXMubWFpblN0b3JlLmNoYXJ0LmVuYWJsZVJvdXRpbmc7XG5cbiAgICAgIGlmIChlbmFibGVSb3V0aW5nICYmIGRpYWxvZ1N0YXR1cyAmJiByb3V0ZSkge1xuICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe1xuICAgICAgICAgIHVybFBhdGg6ICcjJ1xuICAgICAgICB9LCAnJywgJyMnKTtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHtcbiAgICAgICAgICB1cmxQYXRoOiBcIiNcIi5jb25jYXQocm91dGUpXG4gICAgICAgIH0sICcnLCBcIiNcIi5jb25jYXQocm91dGUpKTtcbiAgICAgIH0gZWxzZSBpZiAoZW5hYmxlUm91dGluZyAmJiAhZGlhbG9nU3RhdHVzICYmIHJvdXRlKSB7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XG4gICAgICAgICAgdXJsUGF0aDogJyMnXG4gICAgICAgIH0sICcnLCAnIycpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWdpc3RlckRpYWxvZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlckRpYWxvZyhkaWFsb2dTdG9yZSkge1xuICAgICAgYWxsRGlhbG9ncy5wdXNoKGRpYWxvZ1N0b3JlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VBbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VBbGwoKSB7XG4gICAgICBhbGxEaWFsb2dzLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgcmV0dXJuIG0uc2V0T3BlbihmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUm91dGluZ1N0b3JlO1xufSgpLCAoX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhhbmRsZVJvdXRpbmdcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGFuZGxlUm91dGluZ1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVSb3V0ZVwiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUm91dGVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVnaXN0ZXJEaWFsb2dcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlZ2lzdGVyRGlhbG9nXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNsb3NlQWxsXCIsIFtfZGVjNF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjbG9zZUFsbFwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9TY3JvbGxTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9TY3JvbGxTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTY3JvbGxTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIi4vbm9kZV9tb2R1bGVzL21vYngvbGliL21vYngubW9kdWxlLmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfdGVtcDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cblxudmFyIFNjcm9sbFN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNjcm9sbFN0b3JlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2Nyb2xsU3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0hvdmVyXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic2Nyb2xsUGFuZWxcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnNjcm9sbFBhbmVsO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMuc2Nyb2xsUGFuZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zY3JvbGxQYW5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBfdGhpcy5oYW5kbGVNb3VzZU92ZXIpO1xuXG4gICAgICBfdGhpcy5zY3JvbGxQYW5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIF90aGlzLmhhbmRsZU1vdXNlT3V0KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTY3JvbGxTdG9yZSwgW3tcbiAgICBrZXk6IFwiaGFuZGxlTW91c2VPdmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlT3ZlcigpIHtcbiAgICAgIGlmICghdGhpcy5pc0hvdmVyKSB0aGlzLmlzSG92ZXIgPSB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVNb3VzZU91dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVNb3VzZU91dCgpIHtcbiAgICAgIGlmICh0aGlzLmlzSG92ZXIpIHRoaXMuaXNIb3ZlciA9IGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRTY3JvbGxQYW5lbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTY3JvbGxQYW5lbChlbGVtZW50KSB7XG4gICAgICBpZiAoIXRoaXMuc2Nyb2xsUGFuZWwpIHRoaXMuc2Nyb2xsUGFuZWwgPSBlbGVtZW50O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTY3JvbGxTdG9yZTtcbn0oKSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNIb3ZlclwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2Nyb2xsUGFuZWxcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhhbmRsZU1vdXNlT3ZlclwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoYW5kbGVNb3VzZU92ZXJcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGFuZGxlTW91c2VPdXRcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhhbmRsZU1vdXNlT3V0XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFNjcm9sbFBhbmVsXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRTY3JvbGxQYW5lbFwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9TZXR0aW5nc0RpYWxvZ1N0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvU2V0dGluZ3NEaWFsb2dTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFNldHRpbmdzRGlhbG9nU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL01lbnVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL01lbnVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19NZW51X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9NZW51LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTWVudS5qc3hcIik7XG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfZGVjNCwgX2RlYzUsIF9kZWM2LCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfZGVzY3JpcHRvcjUsIF9kZXNjcmlwdG9yNiwgX2Rlc2NyaXB0b3I3LCBfZGVzY3JpcHRvcjgsIF9kZXNjcmlwdG9yOSwgX3RlbXA7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgcnVucyBhZnRlciB0aGUgZGVjb3JhdG9ycyB0cmFuc2Zvcm0uJyk7IH1cblxuXG5cblxuXG52YXIgU2V0dGluZ3NEaWFsb2dTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM0ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzYgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPSAoX3RlbXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoU2V0dGluZ3NEaWFsb2dTdG9yZSwgW3tcbiAgICBrZXk6IFwic2hvd1RhYnNcIixcbiAgICAvLyBbe2lkOiAnJywgdGl0bGU6ICcnLCB2YWx1ZTogJyd9XVxuICAgIC8vICdzZXR0aW5ncycgfCAnZGVzY3JpcHRpb24nXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmRlc2NyaXB0aW9uO1xuICAgIH1cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIFNldHRpbmdzRGlhbG9nU3RvcmUoX3JlZikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgbWFpblN0b3JlID0gX3JlZi5tYWluU3RvcmUsXG4gICAgICAgIGdldENvbnRleHQgPSBfcmVmLmdldENvbnRleHQsXG4gICAgICAgIG9uQ2hhbmdlZCA9IF9yZWYub25DaGFuZ2VkLFxuICAgICAgICBvbkRlbGV0ZWQgPSBfcmVmLm9uRGVsZXRlZDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXR0aW5nc0RpYWxvZ1N0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXRlbXNcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aXRsZVwiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJmb3JtVGl0bGVcIiwgX2Rlc2NyaXB0b3IzLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZm9ybUNsYXNzbmFtZVwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJkZXNjcmlwdGlvblwiLCBfZGVzY3JpcHRvcjUsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJhY3RpdmVUYWJcIiwgX2Rlc2NyaXB0b3I2LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic2Nyb2xsUGFuZWxcIiwgX2Rlc2NyaXB0b3I3LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZGlhbG9nUG9ydGFsTm9kZUlkXCIsIF9kZXNjcmlwdG9yOCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyZWV6ZVNjcm9sbFwiLCBfZGVzY3JpcHRvcjksIHRoaXMpO1xuXG4gICAgdGhpcy5jaGVja0Ryb3Bkb3duT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBmcmVlemVTY3JvbGwgPSBmYWxzZTtcblxuICAgICAgaWYgKCFfdGhpcy5zY3JvbGxQYW5lbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBkcm9wZG93bnMgPSBfdGhpcy5zY3JvbGxQYW5lbC5xdWVyeVNlbGVjdG9yQWxsKCcuc2MtY29sb3ItcGlja2VyLCAuc2MtZHJvcGRvd24nKTtcblxuICAgICAgZHJvcGRvd25zLmZvckVhY2goZnVuY3Rpb24gKGRyb3Bkb3duKSB7XG4gICAgICAgIGlmIChkcm9wZG93bi5jbGFzc05hbWUuaW5kZXhPZignYWN0aXZlJykgIT09IC0xKSBmcmVlemVTY3JvbGwgPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLnNldEZyZWV6ZVNjcm9sbChmcmVlemVTY3JvbGwpO1xuICAgIH07XG5cbiAgICB0aGlzLmNvbm5lY3QgPSBPYmplY3QoX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1zOiBfdGhpcy5pdGVtcyxcbiAgICAgICAgaXRlbUdyb3VwczogX3RoaXMuaXRlbUdyb3VwcyxcbiAgICAgICAgdGl0bGU6IF90aGlzLnRpdGxlLFxuICAgICAgICBmb3JtQ2xhc3NuYW1lOiBfdGhpcy5mb3JtQ2xhc3NuYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbjogX3RoaXMuZGVzY3JpcHRpb24sXG4gICAgICAgIHNob3dUYWJzOiBfdGhpcy5zaG93VGFicyxcbiAgICAgICAgb25SZXNldENsaWNrOiBfdGhpcy5vblJlc2V0Q2xpY2ssXG4gICAgICAgIG9uSXRlbUNoYW5nZTogX3RoaXMub25JdGVtQ2hhbmdlLFxuICAgICAgICBvbkl0ZW1BY3RpdmU6IF90aGlzLm9uSXRlbUFjdGl2ZSxcbiAgICAgICAgb25JdGVtRGVsZXRlOiBfdGhpcy5vbkl0ZW1EZWxldGUsXG4gICAgICAgIFNldHRpbmdEaWFsb2dNZW51OiBfdGhpcy5TZXR0aW5nRGlhbG9nTWVudSxcbiAgICAgICAgb3BlbjogX3RoaXMub3BlbixcbiAgICAgICAgdGhlbWU6IF90aGlzLnRoZW1lLFxuICAgICAgICBzZXRTY3JvbGxQYW5lbDogX3RoaXMuc2V0U2Nyb2xsUGFuZWwsXG4gICAgICAgIGNsb3NlOiBfdGhpcy5tZW51LmhhbmRsZUNsb3NlRGlhbG9nLFxuICAgICAgICBkaWFsb2dQb3J0YWxOb2RlSWQ6IF90aGlzLmRpYWxvZ1BvcnRhbE5vZGVJZCxcbiAgICAgICAgZnJlZXplU2Nyb2xsOiBfdGhpcy5mcmVlemVTY3JvbGxcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5nZXRDb250ZXh0ID0gZ2V0Q29udGV4dDtcbiAgICB0aGlzLm9uQ2hhbmdlZCA9IG9uQ2hhbmdlZDtcbiAgICB0aGlzLm9uRGVsZXRlZCA9IG9uRGVsZXRlZDtcbiAgICB0aGlzLm1lbnUgPSBuZXcgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXShtYWluU3RvcmUsIHtcbiAgICAgIHJvdXRlOiAnaW5kaWNhdG9yLXNldHRpbmcnXG4gICAgfSk7XG4gICAgdGhpcy5TZXR0aW5nRGlhbG9nTWVudSA9IHRoaXMubWVudS5jb25uZWN0KF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wicmVhY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5vcGVuO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMuc2Nyb2xsUGFuZWwgfHwgIV90aGlzLm9wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZHJvcGRvd25zID0gX3RoaXMuc2Nyb2xsUGFuZWwucXVlcnlTZWxlY3RvckFsbCgnLnNjLWNvbG9yLXBpY2tlciwgLnNjLWRyb3Bkb3duJyk7XG5cbiAgICAgIF90aGlzLnNjcm9sbFBhbmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRGcmVlemVTY3JvbGwoZmFsc2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGRyb3Bkb3ducy5mb3JFYWNoKGZ1bmN0aW9uIChkcm9wZG93bikge1xuICAgICAgICBkcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuY2hlY2tEcm9wZG93bk9wZW4oKTtcbiAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLnNldEZyZWV6ZVNjcm9sbChmYWxzZSk7XG4gICAgfSwge1xuICAgICAgZGVsYXk6IDMwMFxuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNldHRpbmdzRGlhbG9nU3RvcmUsIFt7XG4gICAga2V5OiBcInNldEZyZWV6ZVNjcm9sbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGcmVlemVTY3JvbGwoc3RhdHVzKSB7XG4gICAgICB0aGlzLmZyZWV6ZVNjcm9sbCA9IHN0YXR1cztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0T3BlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcGVuKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgJiYgdGhpcy5zY3JvbGxQYW5lbCkge1xuICAgICAgICB0aGlzLnNjcm9sbFBhbmVsLnNjcm9sbFRvcCA9IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLm1lbnUuc2V0T3Blbih2YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmVzZXRDbGlja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2V0Q2xpY2soKSB7XG4gICAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHtcbiAgICAgICAgICB2YWx1ZTogaXRlbS5kZWZhdWx0VmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuaXRlbXMgPSBpdGVtcztcbiAgICAgIHRoaXMub25DaGFuZ2VkKGl0ZW1zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25JdGVtRGVsZXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSXRlbURlbGV0ZSgpIHtcbiAgICAgIHRoaXMubWVudS5zZXRPcGVuKGZhbHNlKTtcbiAgICAgIGlmICh0aGlzLm9uRGVsZXRlZCkgdGhpcy5vbkRlbGV0ZWQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25JdGVtQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSXRlbUNoYW5nZShpZCwgbmV3VmFsdWUpIHtcbiAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtcy5maW5kKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LmlkID09PSBpZDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXRlbSAmJiBpdGVtLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICBpdGVtLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLnNsaWNlKDApOyAvLyBmb3JjZSBhcnJheSB1cGRhdGVcblxuICAgICAgICB0aGlzLm9uQ2hhbmdlZCh0aGlzLml0ZW1zKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0U2Nyb2xsUGFuZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2Nyb2xsUGFuZWwoZWxlbWVudCkge1xuICAgICAgdGhpcy5zY3JvbGxQYW5lbCA9IGVsZW1lbnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0aGVtZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZy50aGVtZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib3BlblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWVudS5vcGVuO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpdGVtR3JvdXBzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHJlc3RHcm91cCA9IFtdO1xuICAgICAgdmFyIGdyb3VwcyA9IFtdO1xuICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICBrZXk6ICclSycsXG4gICAgICAgIGZpZWxkczogW11cbiAgICAgIH0pO1xuICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICBrZXk6ICclRCcsXG4gICAgICAgIGZpZWxkczogW11cbiAgICAgIH0pO1xuICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICBrZXk6ICdPdmVyQm91Z2h0JyxcbiAgICAgICAgZmllbGRzOiBbXVxuICAgICAgfSk7XG4gICAgICBncm91cHMucHVzaCh7XG4gICAgICAgIGtleTogJ092ZXJTb2xkJyxcbiAgICAgICAgZmllbGRzOiBbXVxuICAgICAgfSk7XG4gICAgICBncm91cHMucHVzaCh7XG4gICAgICAgIGtleTogJ1Nob3cgWm9uZXMnLFxuICAgICAgICBmaWVsZHM6IFtdXG4gICAgICB9KTtcblxuICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBfdGhpczIuaXRlbXNbaW5kZXhdO1xuICAgICAgICB2YXIgdGl0bGUgPSBpdGVtLnRpdGxlO1xuICAgICAgICB2YXIgZ3JvdXAgPSBncm91cHMuZmluZChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgIHJldHVybiB0aXRsZS5pbmRleE9mKHgua2V5KSAhPT0gLTE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgIGl0ZW0uc3VidGl0bGUgPSB0aXRsZS5yZXBsYWNlKGdyb3VwLmtleSwgJycpLnRyaW0oKTtcbiAgICAgICAgICBncm91cC5maWVsZHMucHVzaChpdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN0R3JvdXAucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgaW5kZXggaW4gdGhpcy5pdGVtcykge1xuICAgICAgICBfbG9vcChpbmRleCk7XG4gICAgICB9XG5cbiAgICAgIGdyb3Vwcy51bnNoaWZ0KHtcbiAgICAgICAga2V5OiB0aGlzLmZvcm1UaXRsZSB8fCB0aGlzLnRpdGxlLFxuICAgICAgICBmaWVsZHM6IHJlc3RHcm91cFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZ3JvdXBzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTZXR0aW5nc0RpYWxvZ1N0b3JlO1xufSgpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpdGVtc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0aXRsZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmb3JtVGl0bGVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjQgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZm9ybUNsYXNzbmFtZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZXNjcmlwdGlvblwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxufSksIF9kZXNjcmlwdG9yNiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhY3RpdmVUYWJcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gJ3NldHRpbmdzJztcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzaG93VGFic1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2hvd1RhYnNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfZGVzY3JpcHRvcjcgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2Nyb2xsUGFuZWxcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I4ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRpYWxvZ1BvcnRhbE5vZGVJZFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I5ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImZyZWV6ZVNjcm9sbFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvcGVuXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvcGVuXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldEZyZWV6ZVNjcm9sbFwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRGcmVlemVTY3JvbGxcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0T3BlblwiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0T3BlblwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblJlc2V0Q2xpY2tcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uUmVzZXRDbGlja1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkl0ZW1EZWxldGVcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uSXRlbURlbGV0ZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkl0ZW1DaGFuZ2VcIiwgW19kZWM1XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uSXRlbUNoYW5nZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpdGVtR3JvdXBzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpdGVtR3JvdXBzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFNjcm9sbFBhbmVsXCIsIFtfZGVjNl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRTY3JvbGxQYW5lbFwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9TaGFkZVN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvU2hhZGVTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFNoYWRlU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbnZhciBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF90ZW1wO1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cblxuXG52YXIgU2hhZGVTdG9yZSA9IChfY2xhc3MgPSAoX3RlbXAgPSBmdW5jdGlvbiBTaGFkZVN0b3JlKGNsYXNzTmFtZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaGFkZVN0b3JlKTtcblxuICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsYXNzTmFtZVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ2aXNpYmxlXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIHRvcCA9IF9yZWYudG9wLFxuICAgICAgICBib3R0b20gPSBfcmVmLmJvdHRvbSxcbiAgICAgICAgcmlnaHQgPSBfcmVmLnJpZ2h0O1xuXG4gICAgaWYgKF90aGlzLl9kaXYpIHtcbiAgICAgIHZhciBwb3MgPSBudWxsO1xuXG4gICAgICBpZiAoYm90dG9tICYmIHRvcCkge1xuICAgICAgICAvLyBiZXR3ZWVuIHNoYWRlXG4gICAgICAgIHZhciB5ID0gKGJvdHRvbSArIHRvcCkgLyAyICsgNjA7IC8vIG1hbnVhbGx5IHNjYWxlIGZyb20gZGVmYXVsdCAxMjBweCAoX2JhcnJpZXIuc2NzcylcblxuICAgICAgICB2YXIgc2NhbGUgPSAoYm90dG9tIC0gdG9wKSAvIDEyMC4wO1xuICAgICAgICBwb3MgPSBcInRyYW5zbGF0ZShcIi5jb25jYXQoLXJpZ2h0LCBcInB4LCBcIikuY29uY2F0KHksIFwicHgpIHNjYWxlKDEsIFwiKS5jb25jYXQoc2NhbGUsIFwiKVwiKTtcbiAgICAgIH0gZWxzZSBpZiAoYm90dG9tKSB7XG4gICAgICAgIC8vIGFib3ZlIHNoYWRlXG4gICAgICAgIHBvcyA9IFwidHJhbnNsYXRlKFwiLmNvbmNhdCgtcmlnaHQsIFwicHgsIFwiKS5jb25jYXQoYm90dG9tLCBcInB4KVwiKTtcbiAgICAgIH0gZWxzZSBpZiAodG9wKSB7XG4gICAgICAgIC8vIGJlbG93IHNoYWRlXG4gICAgICAgIHBvcyA9IFwidHJhbnNsYXRlKFwiLmNvbmNhdCgtcmlnaHQsIFwicHgsIFwiKS5jb25jYXQodG9wICsgMTIwLCBcInB4KVwiKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX2Rpdi5zdHlsZS50cmFuc2Zvcm0gPSBwb3M7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuc2V0U2hhZGVSZWYgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgX3RoaXMuX2RpdiA9IHJlZjtcbiAgfTtcblxuICB0aGlzLmNvbm5lY3QgPSBPYmplY3QoX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmlzaWJsZTogX3RoaXMudmlzaWJsZSxcbiAgICAgIGNsYXNzTmFtZTogX3RoaXMuY2xhc3NOYW1lLFxuICAgICAgc2V0U2hhZGVSZWY6IF90aGlzLnNldFNoYWRlUmVmXG4gICAgfTtcbiAgfSk7XG4gIHRoaXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xufSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2xhc3NOYW1lXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInZpc2libGVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pKSwgX2NsYXNzKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9TaGFyZVN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvU2hhcmVTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFNoYXJlU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL01lbnVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL01lbnVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvTWVudS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL01lbnUuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZ2EgKi8gXCIuL3NyYy91dGlscy9nYS5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF90ZW1wO1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuXG5cblxuXG5cbnZhciBTaGFyZVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNoYXJlU3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaGFyZVN0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNMb2FkaW5nUE5HXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zY3JlZW5zaG90QXJlYSA9IF90aGlzLmNvbnRleHQudG9wTm9kZS5xdWVyeVNlbGVjdG9yKCcuY2lxLWNoYXJ0Jyk7XG4gICAgfTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIHRoaXMubWVudSA9IG5ldyBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKG1haW5TdG9yZSwge1xuICAgICAgcm91dGU6ICdkb3dubG9hZCdcbiAgICB9KTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gICAgdGhpcy5EaWFsb2cgPSB0aGlzLm1lbnUuY29ubmVjdChfY29tcG9uZW50c19NZW51X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2hhcmVTdG9yZSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlTmV3VGFiXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU5ld1RhYigpIHtcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyB0YWIgZm9yIGJyb3dzZXJzIHRoYXQgZG9lc24ndCBzdXBwb3J0IEhUTUw1IGRvd25sb2FkIGF0dHJpYnV0ZVxuICAgICAgcmV0dXJuICEhbmF2aWdhdG9yLnBsYXRmb3JtICYmIC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkgPyB3aW5kb3cub3BlbigpIDogbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZG93bmxvYWRQTkdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRQTkcoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdGhpcy5pc0xvYWRpbmdQTkcgPSB0cnVlO1xuICAgICAgdmFyIG5ld1RhYiA9IHRoaXMuY3JlYXRlTmV3VGFiKCk7XG4gICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoLyohIGltcG9ydCgpIHwgaHRtbDJjYW52YXMgKi8gXCJodG1sMmNhbnZhc1wiKS50aGVuKF9fd2VicGFja19yZXF1aXJlX18udC5iaW5kKG51bGwsIC8qISAuLi8uLi9jaGFydGlxL2h0bWwyY2FudmFzLm1pbi5qcyAqLyBcIi4vY2hhcnRpcS9odG1sMmNhbnZhcy5taW4uanNcIiwgNykpLnRoZW4oZnVuY3Rpb24gKGh0bWwyY2FudmFzKSB7XG4gICAgICAgIC8vIHNpbmNlIHJlYWN0IHJlcmVuZGVycyBpcyBub3QgaW1tZWRpYXRlLCB3ZSB1c2UgQ0lRLmFwcGVuZENsYXNzTmFtZSB0b1xuICAgICAgICAvLyBpbW1lZGlhdGVseSBhcHBlbmQvdW5hcHBlbmQgY2xhc3MgbmFtZSBiZWZvcmUgdGFraW5nIHNjcmVlbnNob3QuXG4gICAgICAgIF90aGlzMi5zY3JlZW5zaG90QXJlYS5jbGFzc0xpc3QuYWRkKCdjaXEtY2hhcnQtLXNjcmVlbnNob3QnKTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBodG1sMmNhbnZhc1tcImRlZmF1bHRcIl0oX3RoaXMyLnNjcmVlbnNob3RBcmVhKS50aGVuKGZ1bmN0aW9uIChjYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuX29uQ2FudmFzUmVhZHkoY2FudmFzLCBuZXdUYWIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTG9nQWN0aW9uc1wiXS5Eb3dubG9hZCwgJ0Rvd25sb2FkIFBORycpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfb25DYW52YXNSZWFkeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25DYW52YXNSZWFkeShjYW52YXMsIG5ld1RhYikge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcbiAgICAgIE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRvd25sb2FkRmlsZUluQnJvd3NlclwiXSkoXCJcIi5jb25jYXQobmV3IERhdGUoKS50b1VUQ1N0cmluZygpLCBcIi5wbmdcIiksIGNvbnRlbnQsICdpbWFnZS9wbmc7JywgbmV3VGFiKTtcbiAgICAgIHRoaXMuaXNMb2FkaW5nUE5HID0gZmFsc2U7XG4gICAgICB0aGlzLnNjcmVlbnNob3RBcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ2NpcS1jaGFydC0tc2NyZWVuc2hvdCcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkb3dubG9hZENTVlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgaXNUaWNrID0gdGhpcy50aW1lVW5pdCA9PT0gJ3RpY2snO1xuICAgICAgdmFyIGhlYWRlciA9IFwiRGF0ZSxUaW1lLFwiLmNvbmNhdChpc1RpY2sgPyB0aGlzLm1hcmtldERpc3BsYXlOYW1lIDogJ09wZW4sSGlnaCxMb3csQ2xvc2UnKTtcbiAgICAgIHZhciBsaW5lcyA9IFtoZWFkZXJdO1xuICAgICAgdmFyIHRvdGFsSXRlbUNvdW50ID0gdGhpcy5zdHgubWFzdGVyRGF0YS5sZW5ndGg7XG4gICAgICB2YXIgYWxsb3dhYmxlSXRlbXMgPSB0b3RhbEl0ZW1Db3VudCA8PSAxMDAgPyB0aGlzLnN0eC5tYXN0ZXJEYXRhIDogdGhpcy5zdHgubWFzdGVyRGF0YS5zbGljZSh0b3RhbEl0ZW1Db3VudCAtIDEwMCwgdG90YWxJdGVtQ291bnQpO1xuICAgICAgYWxsb3dhYmxlSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgRFQgPSBfcmVmLkRULFxuICAgICAgICAgICAgT3BlbiA9IF9yZWYuT3BlbixcbiAgICAgICAgICAgIEhpZ2ggPSBfcmVmLkhpZ2gsXG4gICAgICAgICAgICBMb3cgPSBfcmVmLkxvdyxcbiAgICAgICAgICAgIENsb3NlID0gX3JlZi5DbG9zZTtcbiAgICAgICAgdmFyIHllYXIgPSBEVC5nZXRGdWxsWWVhcigpO1xuICAgICAgICB2YXIgbW9udGggPSBEVC5nZXRNb250aCgpICsgMTsgLy8gbW9udGhzIGZyb20gMS0xMlxuXG4gICAgICAgIHZhciBkYXkgPSBEVC5nZXREYXRlKCk7XG4gICAgICAgIHZhciBob3VycyA9IERULmdldEhvdXJzKCk7XG4gICAgICAgIHZhciBtaW51dGVzID0gRFQuZ2V0TWludXRlcygpO1xuICAgICAgICB2YXIgc2Vjb25kcyA9IERULmdldFNlY29uZHMoKTtcbiAgICAgICAgdmFyIGZvcm1hdHRlZFNlY29uZHMgPSBzZWNvbmRzID4gOSA/IFwiOlwiLmNvbmNhdChzZWNvbmRzKSA6IFwiOjBcIi5jb25jYXQoc2Vjb25kcyk7XG4gICAgICAgIHZhciBkYXRlID0gXCJcIi5jb25jYXQoeWVhciwgXCItXCIpLmNvbmNhdChtb250aCA+IDkgPyBtb250aCA6IFwiMFwiLmNvbmNhdChtb250aCksIFwiLVwiKS5jb25jYXQoZGF5ID4gOSA/IGRheSA6IFwiMFwiLmNvbmNhdChkYXkpKTtcbiAgICAgICAgdmFyIHRpbWUgPSBcIlwiLmNvbmNhdChob3VycyA+IDkgPyBob3VycyA6IFwiMFwiLmNvbmNhdChob3VycyksIFwiOlwiKS5jb25jYXQobWludXRlcyA+IDkgPyBtaW51dGVzIDogXCIwXCIuY29uY2F0KG1pbnV0ZXMpKS5jb25jYXQoaXNUaWNrID8gZm9ybWF0dGVkU2Vjb25kcyA6ICcnKTtcblxuICAgICAgICBpZiAoaXNUaWNrICYmIENsb3NlKSB7XG4gICAgICAgICAgbGluZXMucHVzaChcIlwiLmNvbmNhdChkYXRlLCBcIixcIikuY29uY2F0KHRpbWUsIFwiLFwiKS5jb25jYXQoQ2xvc2UpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNUaWNrICYmIE9wZW4gJiYgSGlnaCAmJiBMb3cgJiYgQ2xvc2UpIHtcbiAgICAgICAgICBsaW5lcy5wdXNoKFtkYXRlLCB0aW1lLCBPcGVuLnRvRml4ZWQoX3RoaXMzLmRlY2ltYWxQbGFjZXMpLCBIaWdoLnRvRml4ZWQoX3RoaXMzLmRlY2ltYWxQbGFjZXMpLCBMb3cudG9GaXhlZChfdGhpczMuZGVjaW1hbFBsYWNlcyksIENsb3NlLnRvRml4ZWQoX3RoaXMzLmRlY2ltYWxQbGFjZXMpXS5qb2luKCcsJykpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRvd25sb2FkRmlsZUluQnJvd3NlclwiXSkoXCJcIi5jb25jYXQodGhpcy5tYXJrZXREaXNwbGF5TmFtZSwgXCIgKFwiKS5jb25jYXQodGhpcy50aW1lcGVyaW9kRGlzcGxheSwgXCIpLmNzdlwiKSwgbGluZXMuam9pbignXFxuJyksICd0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OycsIHRoaXMuY3JlYXRlTmV3VGFiKCkpO1xuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTG9nQWN0aW9uc1wiXS5Eb3dubG9hZCwgJ0Rvd25sb2FkIENTVicpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnN0eDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidGltZVVuaXRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS50aW1lcGVyaW9kLnRpbWVVbml0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0aW1lcGVyaW9kRGlzcGxheVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLnRpbWVwZXJpb2QuZGlzcGxheTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibWFya2V0RGlzcGxheU5hbWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sLm5hbWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlY2ltYWxQbGFjZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sLmRlY2ltYWxfcGxhY2VzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTaGFyZVN0b3JlO1xufSgpLCBfdGVtcCksIChfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidGltZVVuaXRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRpbWVVbml0XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRpbWVwZXJpb2REaXNwbGF5XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0aW1lcGVyaW9kRGlzcGxheVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJtYXJrZXREaXNwbGF5TmFtZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwibWFya2V0RGlzcGxheU5hbWVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzTG9hZGluZ1BOR1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkb3dubG9hZFBOR1wiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkb3dubG9hZFBOR1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJfb25DYW52YXNSZWFkeVwiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiX29uQ2FudmFzUmVhZHlcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZG93bmxvYWRDU1ZcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRvd25sb2FkQ1NWXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL1N0dWR5TGVnZW5kU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9TdHVkeUxlZ2VuZFN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTdHVkeUxlZ2VuZFN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL01lbnVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL01lbnVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU2V0dGluZ3NEaWFsb2dTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TZXR0aW5nc0RpYWxvZ1N0b3JlICovIFwiLi9zcmMvc3RvcmUvU2V0dGluZ3NEaWFsb2dTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19TZXR0aW5nc0RpYWxvZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TZXR0aW5nc0RpYWxvZy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvTWVudS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL01lbnUuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX1NlYXJjaElucHV0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9TZWFyY2hJbnB1dC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1NlYXJjaElucHV0LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2dhICovIFwiLi9zcmMvdXRpbHMvZ2EuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NvbnN0YW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9Db25zdGFudCAqLyBcIi4vc3JjL0NvbnN0YW50LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9pY19tYXhpbWl6ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0L2ljLW1heGltaXplLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydC9pYy1tYXhpbWl6ZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfaWNfbWF4aW1pemVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2ljb25zX2NoYXJ0X2ljX21heGltaXplX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY29tbW9uX2ljX21pbmltaXplX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY29tbW9uL2ljLW1pbmltaXplLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jb21tb24vaWMtbWluaW1pemUuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NvbW1vbl9pY19taW5pbWl6ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfaWNvbnNfY29tbW9uX2ljX21pbmltaXplX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfXyk7XG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfZGVjNCwgX2RlYzUsIF9kZWM2LCBfZGVjNywgX2RlYzgsIF9kZWM5LCBfZGVjMTAsIF9kZWMxMSwgX2RlYzEyLCBfZGVjMTMsIF9kZWMxNCwgX2RlYzE1LCBfZGVjMTYsIF9kZWMxNywgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2Rlc2NyaXB0b3I1LCBfdGVtcDtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuIC8vIFRPRE86XG4vLyBpbXBvcnQgU3R1ZHlJbmZvIGZyb20gJy4uL3N0dWR5LWluZm8nO1xuXG52YXIgdXBkYXRlRmllbGRIZWFkaW5nID0gZnVuY3Rpb24gdXBkYXRlRmllbGRIZWFkaW5nKGhlYWRpbmcsIHR5cGUpIHtcbiAgdmFyIG5hbWVzID0gWyclRCcsICclSyddO1xuXG4gIGlmIChoZWFkaW5nLnRvTG93ZXJDYXNlKCkgPT09IHR5cGUudG9Mb3dlckNhc2UoKSB8fCBoZWFkaW5nID09PSAnUmVzdWx0Jykge1xuICAgIHJldHVybiAnQ29sb3InO1xuICB9XG5cbiAgaWYgKG5hbWVzLmluZGV4T2YoaGVhZGluZykgPiAwKSB7XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KGhlYWRpbmcsIFwiIENvbG9yXCIpO1xuICB9XG5cbiAgcmV0dXJuIGhlYWRpbmc7XG59O1xuXG52YXIgU3R1ZHlMZWdlbmRTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM0ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzYgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM3ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjOCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzkgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMxMCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzExID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMTIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMxMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzE0ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMTUgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMxNiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzE3ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gKF90ZW1wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3R1ZHlMZWdlbmRTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0dWR5TGVnZW5kU3RvcmUpO1xuXG4gICAgdGhpcy5wcmV2aW91c1N0dWRpZXMgPSB7fTtcbiAgICB0aGlzLnNlYXJjaElucHV0Q2xhc3NOYW1lID0gdm9pZCAwO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzZWxlY3RlZFRhYlwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZpbHRlclRleHRcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWN0aXZlSXRlbXNcIiwgX2Rlc2NyaXB0b3IzLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5mb0l0ZW1cIiwgX2Rlc2NyaXB0b3I0LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwicG9ydGFsTm9kZUlkQ2hhbmdlZFwiLCBfZGVzY3JpcHRvcjUsIHRoaXMpO1xuXG4gICAgdGhpcy5vbkNvbnRleHRSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnN0eC5hZGRFdmVudExpc3RlbmVyKCdzdHVkeU92ZXJsYXlFZGl0JywgX3RoaXMuZWRpdFN0dWR5KTtcblxuICAgICAgX3RoaXMuc3R4LmFkZEV2ZW50TGlzdGVuZXIoJ3N0dWR5UGFuZWxFZGl0JywgX3RoaXMuZWRpdFN0dWR5KTsgLy8gdG8gcmVtb3ZlIHN0dWRpZXMgaWYgdXNlciBoYXMgYWxyZWFkeSBtb3JlIHRoYW4gNVxuICAgICAgLy8gYW5kIHJlbW92ZSBzdHVkaWVzIHdoaWNoIGFyZSBleGNsdWRlZFxuXG5cbiAgICAgIF90aGlzLnJlbW92ZUV4dHJhU3R1ZGllcygpO1xuXG4gICAgICBfdGhpcy5zdHguYXBwZW5kKCdjcmVhdGVEYXRhU2V0JywgX3RoaXMucmVuZGVyTGVnZW5kKTtcblxuICAgICAgX3RoaXMuc3R4LmFwcGVuZCgnZHJhd1BhbmVscycsIF90aGlzLmhhbmRsZURyYXdQYW5lbHMpO1xuXG4gICAgICBfdGhpcy5zdHguYXBwZW5kKCdwYW5lbENsb3NlJywgX3RoaXMub25TdHVkeVJlbW92ZWQpO1xuXG4gICAgICBfdGhpcy5yZW5kZXJMZWdlbmQoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVEcmF3UGFuZWxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhbmVsc0xlbiA9IE9iamVjdC5rZXlzKF90aGlzLnN0eC5wYW5lbHMpLmxlbmd0aDtcbiAgICAgIE9iamVjdC5rZXlzKF90aGlzLnN0eC5wYW5lbHMpLmZvckVhY2goZnVuY3Rpb24gKGlkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFuZWxPYmogPSBfdGhpcy5zdHgucGFuZWxzW2lkXTtcblxuICAgICAgICBpZiAoX3RoaXMubWFpblN0b3JlLmNoYXJ0LmlzTW9iaWxlKSB7XG4gICAgICAgICAgaWYgKHBhbmVsT2JqLnVwLmNsYXNzTmFtZS5pbmRleE9mKCdzaG93JykgIT09IC0xKSB7XG4gICAgICAgICAgICBwYW5lbE9iai51cC5jbGFzc05hbWUgPSAnc3R4LWJ0bi1wYW5lbCc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhbmVsT2JqLmRvd24uY2xhc3NOYW1lLmluZGV4T2YoJ3Nob3cnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHBhbmVsT2JqLmRvd24uY2xhc3NOYW1lID0gJ3N0eC1idG4tcGFuZWwnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwYW5lbE9iai5zb2xvLmNsYXNzTmFtZS5pbmRleE9mKCdzaG93JykgIT09IC0xKSB7XG4gICAgICAgICAgICBwYW5lbE9iai5zb2xvLmNsYXNzTmFtZSA9ICdzdHgtYnRuLXBhbmVsJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocGFuZWxPYmouY2xvc2UuY2xhc3NOYW1lLmluZGV4T2YoJ3Nob3cnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHBhbmVsT2JqLmNsb3NlLmNsYXNzTmFtZSA9ICdzdHgtYnRuLXBhbmVsJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2QgPSBfdGhpcy5zdHgubGF5b3V0LnN0dWRpZXNbaWRdO1xuICAgICAgICB2YXIgaXNTb2xvID0gcGFuZWxPYmouc29sby5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykuaW5jbHVkZXMoJ3N0eF9zb2xvX2xpdCcpO1xuXG4gICAgICAgIGlmIChzZCkge1xuICAgICAgICAgIHZhciBuYW1lT2JqID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcInByZXBhcmVJbmRpY2F0b3JOYW1lXCJdKShzZC5uYW1lKTtcblxuICAgICAgICAgIGlmIChuYW1lT2JqLm5hbWUudHJpbSgpICE9PSBzZC5uYW1lLnRyaW0oKSkge1xuICAgICAgICAgICAgcGFuZWxPYmoudGl0bGUuaW5uZXJIVE1MID0gbmFtZU9iai5iYXJzID8gXCJcIi5jb25jYXQobmFtZU9iai5uYW1lLCBcIiAoXCIpLmNvbmNhdChuYW1lT2JqLmJhcnMsIFwiKVwiKSA6IG5hbWVPYmoubmFtZTtcbiAgICAgICAgICB9IC8vIFJlZ2FyZGluZyB0aGUgQ2hhcnRJUS5qcywgY29kZXMgdW5kZXIgTGluZSAzNDIxNywgZWRpdCBmdW5jdGlvblxuICAgICAgICAgIC8vIG5vdCBtYXBwZWQsIHRoaXMgaXMgYSBmb3JjZSB0byBtYXAgZWRpdCBmdW5jdGlvbiBmb3IgaW5kaWNhdG9yc1xuXG5cbiAgICAgICAgICBpZiAoc2QuZWRpdEZ1bmN0aW9uICYmIHBhbmVsT2JqICYmICFwYW5lbE9iai5lZGl0RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIF90aGlzLnN0eC5zZXRQYW5lbEVkaXQocGFuZWxPYmosIHNkLmVkaXRGdW5jdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAxIHx8IGlzU29sbykge1xuICAgICAgICAgIC8vIEhpZGUgdGhlIHVwIGFycm93IGZyb20gZmlyc3QgaW5kaWNhdG9yIHRvIHByZXZlbnQgdXNlclxuICAgICAgICAgIC8vIGZyb20gbW92aW5nIHRoZSBpbmRpY2F0b3IgcGFuZWwgYWJvdmUgdGhlIG1haW4gY2hhcnRcbiAgICAgICAgICBwYW5lbE9iai51cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSBwYW5lbHNMZW4gLSAxIHx8IGlzU29sbykge1xuICAgICAgICAgIHBhbmVsT2JqLmRvd24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSAvLyBNZWFuIGNoYXJ0ICsgMSBpbmRpY2F0b3JcblxuXG4gICAgICAgIGlmIChwYW5lbHNMZW4gPT09IDIpIHtcbiAgICAgICAgICBwYW5lbE9iai5zb2xvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH0gLy8gVXBkYXRpbmcgTWF4L01pbiBpY29uXG5cblxuICAgICAgICBpZiAocGFuZWxPYmouc29sby5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICB2YXIgc29sb0ljb24gPSBpc1NvbG8gPyBfc2Fzc19pY29uc19jb21tb25faWNfbWluaW1pemVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fX2RlZmF1bHQuYSA6IF9zYXNzX2ljb25zX2NoYXJ0X2ljX21heGltaXplX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX19kZWZhdWx0LmE7XG4gICAgICAgICAgdmFyIElubmVyU29sb1BhbmVsID0gcGFuZWxPYmouc29sby5xdWVyeVNlbGVjdG9yKCcuc3R4LWljby1mb2N1cycpO1xuXG4gICAgICAgICAgaWYgKElubmVyU29sb1BhbmVsLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmdldEF0dHJpYnV0ZSgnaWQnKSAhPT0gc29sb0ljb24uaWQpIHtcbiAgICAgICAgICAgIElubmVyU29sb1BhbmVsLmlubmVySFRNTCA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19bXCJyZW5kZXJTVkdTdHJpbmdcIl0pKHNvbG9JY29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbmRlckxlZ2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMuY29udGV4dCB8fCAhX3RoaXMuc2hvdWxkUmVuZGVyTGVnZW5kKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy51cGRhdGVBY3RpdmVTdHVkaWVzKCk7IC8vIFRlbXBvcmFyeSBwcmV2ZW50IHVzZXIgZnJvbSBhZGRpbmcgbW9yZSB0aGFuIDUgaW5kaWNhdG9yc1xuICAgICAgLy8gQWxsIHRyYWNlcyBjYW4gYmUgcmVtb3ZlZCBhZnRlciBuZXcgZGVzaWduIGZvciBzdHVkaWVzXG5cblxuICAgICAgX3RoaXMudXBkYXRlU3R5bGUoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5leGNsdWRlZFN0dWRpZXMgPSBfQ29uc3RhbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcIkV4Y2x1ZGVkU3R1ZGllc1wiXTtcbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gICAgdGhpcy5tZW51ID0gbmV3IF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlLCB7XG4gICAgICByb3V0ZTogJ2luZGljYXRvcnMnXG4gICAgfSk7XG4gICAgdGhpcy5zZXR0aW5nc0RpYWxvZyA9IG5ldyBfU2V0dGluZ3NEaWFsb2dTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSh7XG4gICAgICBtYWluU3RvcmU6IG1haW5TdG9yZSxcbiAgICAgIG9uRGVsZXRlZDogZnVuY3Rpb24gb25EZWxldGVkKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuZGVsZXRlU3R1ZHkoX3RoaXMuaGVscGVyLnNkKTtcbiAgICAgIH0sXG4gICAgICBmYXZvcml0ZXNJZDogJ2luZGljYXRvcnMnLFxuICAgICAgb25DaGFuZ2VkOiBmdW5jdGlvbiBvbkNoYW5nZWQoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZVN0dWR5KF90aGlzLmhlbHBlci5zZCwgaXRlbXMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuU3R1ZHlNZW51ID0gdGhpcy5tZW51LmNvbm5lY3QoX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0pO1xuICAgIHRoaXMuU3R1ZHlTZXR0aW5nc0RpYWxvZyA9IHRoaXMuc2V0dGluZ3NEaWFsb2cuY29ubmVjdChfY29tcG9uZW50c19TZXR0aW5nc0RpYWxvZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pO1xuICAgIHRoaXMuc2VhcmNoSW5wdXQgPSAvKiNfX1BVUkVfXyovcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5TZWFyY2hJbnB1dCA9IE9iamVjdChfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGxhY2Vob2xkZXI6ICdTZWFyY2gnLFxuICAgICAgICB2YWx1ZTogX3RoaXMuZmlsdGVyVGV4dCxcbiAgICAgICAgb25DaGFuZ2U6IF90aGlzLnNldEZpbHRlclRleHQsXG4gICAgICAgIHNlYXJjaElucHV0OiBfdGhpcy5zZWFyY2hJbnB1dCxcbiAgICAgICAgc2VhcmNoSW5wdXRDbGFzc05hbWU6ICdzZWFyY2hJbnB1dENsYXNzTmFtZSdcbiAgICAgIH07XG4gICAgfSkoX2NvbXBvbmVudHNfU2VhcmNoSW5wdXRfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdKTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wicmVhY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5tZW51Lm9wZW47XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFfdGhpcy5tZW51Lm9wZW4pIHtcbiAgICAgICAgX3RoaXMuc2V0RmlsdGVyVGV4dCgnJyk7XG4gICAgICB9XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMuc2VhcmNoSW5wdXQgJiYgX3RoaXMuc2VhcmNoSW5wdXQuY3VycmVudCkgX3RoaXMuc2VhcmNoSW5wdXQuY3VycmVudC5mb2N1cygpO1xuICAgICAgfSwgNDAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdHVkeUxlZ2VuZFN0b3JlLCBbe1xuICAgIGtleTogXCJyZW1vdmVFeHRyYVN0dWRpZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXh0cmFTdHVkaWVzKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnN0eC5sYXlvdXQgJiYgdGhpcy5zdHgubGF5b3V0LnN0dWRpZXMpIHtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5zdHgubGF5b3V0LnN0dWRpZXMpLmZvckVhY2goZnVuY3Rpb24gKHN0dWR5LCBpZHgpIHtcbiAgICAgICAgICB2YXIgdHlwZSA9IF90aGlzMi5zdHgubGF5b3V0LnN0dWRpZXNbc3R1ZHldLnR5cGU7XG5cbiAgICAgICAgICBpZiAoaWR4ID49IF90aGlzMi5tYXhBbGxvd2VkSXRlbSB8fCBfdGhpczIuZXhjbHVkZWRTdHVkaWVzW3R5cGVdKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgQ0lRLlN0dWRpZXMucmVtb3ZlU3R1ZHkoX3RoaXMyLnN0eCwgX3RoaXMyLnN0eC5sYXlvdXQuc3R1ZGllc1tzdHVkeV0pO1xuXG4gICAgICAgICAgICAgIF90aGlzMi5yZW5kZXJMZWdlbmQoKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uU2VsZWN0SXRlbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblNlbGVjdEl0ZW0oaXRlbSkge1xuICAgICAgdGhpcy5vbkluZm9JdGVtKG51bGwpO1xuICAgICAgdmFyIGFkZGVkSW5kaWNhdG9yID0gT2JqZWN0LmtleXModGhpcy5zdHgubGF5b3V0LnN0dWRpZXMgfHwgW10pLmxlbmd0aDtcblxuICAgICAgaWYgKHRoaXMuc3R4LmxheW91dCAmJiBhZGRlZEluZGljYXRvciA8IHRoaXMubWF4QWxsb3dlZEl0ZW0pIHtcbiAgICAgICAgdmFyIGhlaWdodFJhdGlvID0gdGhpcy5pbmRpY2F0b3JSYXRpby5pbmRpY2F0b3JIZWlnaHRSYXRpbyhhZGRlZEluZGljYXRvciArIDEpO1xuICAgICAgICBDSVEuU3R1ZGllcy5zdHVkeUxpYnJhcnlbaXRlbV0ucGFuZWxIZWlnaHQgPSBoZWlnaHRSYXRpby5oZWlnaHQgKyAyMDtcbiAgICAgICAgdmFyIHNkID0gQ0lRLlN0dWRpZXMuYWRkU3R1ZHkodGhpcy5zdHgsIGl0ZW0pO1xuICAgICAgICBDSVEuU3R1ZGllcy5zdHVkeUxpYnJhcnlbaXRlbV0ucGFuZWxIZWlnaHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNoYW5nZVN0dWR5UGFuZWxUaXRsZShzZCk7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy51cGRhdGVJbmRpY2F0b3JIZWlnaHQsIDIwKTtcbiAgICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiTG9nQWN0aW9uc1wiXS5JbmRpY2F0b3IsIFwiQWRkIFwiLmNvbmNhdChpdGVtKSk7XG4gICAgICAgIHRoaXMubWFpblN0b3JlLmNoYXJ0LnNldFlheGlzV2lkdGgoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlSW5kaWNhdG9ySGVpZ2h0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUluZGljYXRvckhlaWdodCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgYWRkZWRJbmRpY2F0b3IgPSBPYmplY3Qua2V5cyh0aGlzLnN0eC5wYW5lbHMpLmZpbHRlcihmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGlkICE9PSAnY2hhcnQnO1xuICAgICAgfSkubGVuZ3RoO1xuICAgICAgdmFyIGhlaWdodFJhdGlvID0gdGhpcy5pbmRpY2F0b3JSYXRpby5pbmRpY2F0b3JIZWlnaHRSYXRpbyhhZGRlZEluZGljYXRvcik7XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnN0eC5wYW5lbHMpLmZvckVhY2goZnVuY3Rpb24gKGlkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFuZWxPYmogPSBfdGhpczMuc3R4LnBhbmVsc1tpZF07XG4gICAgICAgIHBhbmVsT2JqLnBlcmNlbnQgPSBoZWlnaHRSYXRpby5wZXJjZW50O1xuICAgICAgfSk7XG4gICAgICB0aGlzLnN0eC5kcmF3KCk7XG4gICAgICB0aGlzLnN0eC5jYWxjdWxhdGVZQXhpc01hcmdpbnModGhpcy5zdHguY2hhcnQucGFuZWwueUF4aXMpO1xuICAgICAgdGhpcy5zdHguZHJhdygpO1xuICAgIH0gLy8gVGVtcG9yYXJ5IHByZXZlbnQgdXNlciBmcm9tIGFkZGluZyBtb3JlIHRoYW4gNSBpbmRpY2F0b3JzXG4gICAgLy8gVE9ETyBBbGwgdHJhY2VzIGNhbiBiZSByZW1vdmVkIGFmdGVyIG5ldyBkZXNpZ24gZm9yIHN0dWRpZXNcblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVN0eWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKCkge1xuICAgICAgdmFyIHNob3VsZF9taW5pbWlzZV9sYXN0X2RpZ2l0ID0gT2JqZWN0LmtleXModGhpcy5zdHgucGFuZWxzKS5sZW5ndGggPiAyO1xuICAgICAgdGhpcy5tYWluU3RvcmUuc3RhdGUuc2V0U2hvdWxkTWluaW1pc2VMYXN0RGlnaXQoc2hvdWxkX21pbmltaXNlX2xhc3RfZGlnaXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQcm9wcyhfcmVmKSB7XG4gICAgICB2YXIgc2VhcmNoSW5wdXRDbGFzc05hbWUgPSBfcmVmLnNlYXJjaElucHV0Q2xhc3NOYW1lO1xuICAgICAgdGhpcy5zZWFyY2hJbnB1dENsYXNzTmFtZSA9IHNlYXJjaElucHV0Q2xhc3NOYW1lO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlZGl0U3R1ZHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZWRpdFN0dWR5KHN0dWR5KSB7XG4gICAgICB2YXIgaGVscGVyID0gbmV3IENJUS5TdHVkaWVzLkRpYWxvZ0hlbHBlcihzdHVkeSk7XG4gICAgICB0aGlzLmhlbHBlciA9IGhlbHBlcjtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcIkxvZ0FjdGlvbnNcIl0uSW5kaWNhdG9yLCBcIkVkaXQgXCIuY29uY2F0KGhlbHBlci5uYW1lKSk7XG4gICAgICB2YXIgYXR0cmlidXRlcyA9IGhlbHBlci5hdHRyaWJ1dGVzO1xuICAgICAgdmFyIGlucHV0cyA9IGhlbHBlci5pbnB1dHMubWFwKGZ1bmN0aW9uIChpbnApIHtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgaWQ6IGlucC5uYW1lLFxuICAgICAgICAgIHRpdGxlOiB0LnRyYW5zbGF0ZShpbnAuaGVhZGluZyksXG4gICAgICAgICAgdmFsdWU6IGlucC52YWx1ZSxcbiAgICAgICAgICBkZWZhdWx0VmFsdWU6IGlucC5kZWZhdWx0SW5wdXQsXG4gICAgICAgICAgdHlwZTogaW5wLnR5cGUgPT09ICdjaGVja2JveCcgPyAnc3dpdGNoJyA6IGlucC50eXBlLFxuICAgICAgICAgIG9wdGlvbnM6IGlucC5vcHRpb25zIHx8IG51bGxcbiAgICAgICAgfSwgYXR0cmlidXRlc1tpbnAubmFtZV0pLCB7fSwge1xuICAgICAgICAgIC8vIHttaW46MSwgbWF4OiAyMH1cbiAgICAgICAgICBjYXRlZ29yeTogJ2lucHV0cydcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHZhciBvdXRwdXRzID0gaGVscGVyLm91dHB1dHMubWFwKGZ1bmN0aW9uIChvdXQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogb3V0Lm5hbWUsXG4gICAgICAgICAgdGl0bGU6IHQudHJhbnNsYXRlKHVwZGF0ZUZpZWxkSGVhZGluZyhvdXQuaGVhZGluZywgc3R1ZHkuc2QudHlwZSkpLFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZTogb3V0LmRlZmF1bHRPdXRwdXQsXG4gICAgICAgICAgdmFsdWU6IG91dC5jb2xvcixcbiAgICAgICAgICB0eXBlOiAnY29sb3JwaWNrZXInLFxuICAgICAgICAgIGNhdGVnb3J5OiAnb3V0cHV0cydcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHBhcmFtZXRlcnMgPSBoZWxwZXIucGFyYW1ldGVycy5tYXAoZnVuY3Rpb24gKHBhcikge1xuICAgICAgICB2YXIgc2hhcmVkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICB0aXRsZTogdC50cmFuc2xhdGUocGFyLmhlYWRpbmcpXG4gICAgICAgIH0sIGF0dHJpYnV0ZXNbcGFyLm5hbWVdKSwge30sIHtcbiAgICAgICAgICBjYXRlZ29yeTogJ3BhcmFtZXRlcnMnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChwYXIuZGVmYXVsdFZhbHVlLmNvbnN0cnVjdG9yID09PSBCb29sZWFuKSB7XG4gICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc2hhcmVkKSwge30sIHtcbiAgICAgICAgICAgIGlkOiBcIlwiLmNvbmNhdChwYXIubmFtZSwgXCJFbmFibGVkXCIpLFxuICAgICAgICAgICAgdmFsdWU6IHBhci52YWx1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogcGFyLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIHR5cGU6ICdzd2l0Y2gnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyLmRlZmF1bHRWYWx1ZS5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyKSB7XG4gICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc2hhcmVkKSwge30sIHtcbiAgICAgICAgICAgIGlkOiBwYXIubmFtZSxcbiAgICAgICAgICAgIHR5cGU6ICdudW1iZXJjb2xvcnBpY2tlcicsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHtcbiAgICAgICAgICAgICAgQ29sb3I6IHBhci5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgIFZhbHVlOiBwYXIuZGVmYXVsdFZhbHVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgQ29sb3I6IHBhci5jb2xvcixcbiAgICAgICAgICAgICAgVmFsdWU6IHBhci52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbmlzZWQgcGFyYW1ldGVyIScpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLmlkID0gc3R1ZHkuc2QudHlwZTtcbiAgICAgIHRoaXMuc2V0dGluZ3NEaWFsb2cuaXRlbXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KG91dHB1dHMpLCBfdG9Db25zdW1hYmxlQXJyYXkoaW5wdXRzKSwgX3RvQ29uc3VtYWJsZUFycmF5KHBhcmFtZXRlcnMpKTtcbiAgICAgIHRoaXMuc2V0dGluZ3NEaWFsb2cudGl0bGUgPSBzdHVkeS5zZC5saWJyYXJ5RW50cnkubmFtZTtcbiAgICAgIHRoaXMuc2V0dGluZ3NEaWFsb2cuZm9ybVRpdGxlID0gdC50cmFuc2xhdGUoJ1Jlc3VsdCcpO1xuICAgICAgdGhpcy5zZXR0aW5nc0RpYWxvZy5mb3JtQ2xhc3NuYW1lID0gXCJmb3JtLS1cIi5jb25jYXQoc3R1ZHkuc2QudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywgJy0nKSk7IC8vIFRPRE86XG4gICAgICAvLyBjb25zdCBkZXNjcmlwdGlvbiA9IFN0dWR5SW5mb1tzdHVkeS5zZC50eXBlXTtcbiAgICAgIC8vIHRoaXMuc2V0dGluZ3NEaWFsb2cuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbiB8fCB0LnRyYW5zbGF0ZShcIk5vIGRlc2NyaXB0aW9uIHlldFwiKTtcblxuICAgICAgdGhpcy5zZXR0aW5nc0RpYWxvZy5kZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgdGhpcy5zZXR0aW5nc0RpYWxvZy5kaWFsb2dQb3J0YWxOb2RlSWQgPSB0aGlzLnBvcnRhbE5vZGVJZENoYW5nZWQ7XG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLnNldE9wZW4odHJ1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVN0dWR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVN0dWR5KHN0dWR5KSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiTG9nQWN0aW9uc1wiXS5JbmRpY2F0b3IsIFwiUmVtb3ZlIFwiLmNvbmNhdChzdHVkeS5uYW1lKSk7XG5cbiAgICAgIGlmICghc3R1ZHkucGVybWFuZW50KSB7XG4gICAgICAgIC8vIE5lZWQgdG8gcnVuIHRoaXMgaW4gdGhlIG5leHRUaWNrIGJlY2F1c2UgdGhlIHN0dWR5IGxlZ2VuZCBjYW4gYmUgcmVtb3ZlZCBieSB0aGlzIGNsaWNrXG4gICAgICAgIC8vIGNhdXNpbmcgdGhlIHVuZGVybHlpbmcgY2hhcnQgdG8gcmVjZWl2ZSB0aGUgbW91c2Vkb3duIChvbiBJRSB3aW43KVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBDSVEuU3R1ZGllcy5yZW1vdmVTdHVkeShfdGhpczQuc3R4LCBzdHVkeSk7XG5cbiAgICAgICAgICBfdGhpczQucmVuZGVyTGVnZW5kKCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMudXBkYXRlSW5kaWNhdG9ySGVpZ2h0LCAyMCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVN0dWR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVN0dWR5KHN0dWR5LCBpdGVtcykge1xuICAgICAgdmFyIHVwZGF0ZXMgPSB7fTtcblxuICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGl0ZW1zKSxcbiAgICAgICAgICBfc3RlcDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgX3N0ZXAkdmFsdWUgPSBfc3RlcC52YWx1ZSxcbiAgICAgICAgICAgICAgaWQgPSBfc3RlcCR2YWx1ZS5pZCxcbiAgICAgICAgICAgICAgY2F0ZWdvcnkgPSBfc3RlcCR2YWx1ZS5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBfc3RlcCR2YWx1ZS52YWx1ZSxcbiAgICAgICAgICAgICAgdHlwZSA9IF9zdGVwJHZhbHVlLnR5cGU7XG4gICAgICAgICAgdmFyIGlzQ2hhbmdlZCA9IHZvaWQgMDtcblxuICAgICAgICAgIGlmICh0eXBlID09PSAnbnVtYmVyY29sb3JwaWNrZXInKSB7XG4gICAgICAgICAgICBpc0NoYW5nZWQgPSBzdHVkeVtjYXRlZ29yeV1bXCJcIi5jb25jYXQoaWQsIFwiQ29sb3JcIildICE9PSB2YWx1ZS5Db2xvciB8fCBzdHVkeVtjYXRlZ29yeV1bXCJcIi5jb25jYXQoaWQsIFwiVmFsdWVcIildICE9PSB2YWx1ZS5WYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXNDaGFuZ2VkID0gc3R1ZHlbY2F0ZWdvcnldW2lkXSAhPT0gdmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzQ2hhbmdlZCkge1xuICAgICAgICAgICAgdXBkYXRlc1tjYXRlZ29yeV0gPSB1cGRhdGVzW2NhdGVnb3J5XSB8fCB7fTtcblxuICAgICAgICAgICAgaWYgKF90eXBlb2YodmFsdWUpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICBmb3IgKHZhciBzdWZmaXggaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVzW2NhdGVnb3J5XVtcIlwiLmNvbmNhdChpZCkuY29uY2F0KHN1ZmZpeCldID0gdmFsdWVbc3VmZml4XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdXBkYXRlc1tjYXRlZ29yeV1baWRdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyh1cGRhdGVzKS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgIHRoaXMuaGVscGVyLnVwZGF0ZVN0dWR5KHVwZGF0ZXMpO1xuICAgICAgdGhpcy51cGRhdGVBY3RpdmVTdHVkaWVzKCk7XG4gICAgICB0aGlzLnN0eC5kcmF3KCk7XG4gICAgICB0aGlzLmNoYW5nZVN0dWR5UGFuZWxUaXRsZSh0aGlzLmhlbHBlci5zZCk7XG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLnRpdGxlID0gdC50cmFuc2xhdGUodGhpcy5oZWxwZXIuc2QubGlicmFyeUVudHJ5Lm5hbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFuZ2VTdHVkeVBhbmVsVGl0bGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlU3R1ZHlQYW5lbFRpdGxlKHNkKSB7XG4gICAgICAvLyBSZW1vdmUgbnVtYmVycyBmcm9tIHRoZSBlbmQgb2YgaW5kaWNhdG9yIHRpdGxlcyBpbiBtb2JpbGVcbiAgICAgIGlmICh0aGlzLm1haW5TdG9yZS5jaGFydC5pc01vYmlsZSkge1xuICAgICAgICB0aGlzLnN0eC5wYW5lbHNbc2QucGFuZWxdLmRpc3BsYXkgPSBzZC50eXBlO1xuICAgICAgICB0aGlzLnN0eC5kcmF3KCk7XG4gICAgICAgIHRoaXMubWFpblN0b3JlLnN0YXRlLnNhdmVMYXlvdXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvdWxkUmVuZGVyTGVnZW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZFJlbmRlckxlZ2VuZCgpIHtcbiAgICAgIHZhciBzdHggPSB0aGlzLnN0eDtcblxuICAgICAgaWYgKCFzdHgubGF5b3V0LnN0dWRpZXMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSAvLyBMb2dpYyB0byBkZXRlcm1pbmUgaWYgdGhlIHN0dWRpZXMgaGF2ZSBjaGFuZ2VkLCBvdGhlcndpc2UgZG9uJ3QgcmUtY3JlYXRlIHRoZSBsZWdlbmRcblxuXG4gICAgICBpZiAoQ0lRLm9iakxlbmd0aCh0aGlzLnByZXZpb3VzU3R1ZGllcykgPT09IENJUS5vYmpMZW5ndGgoc3R4LmxheW91dC5zdHVkaWVzKSkge1xuICAgICAgICB2YXIgZm91bmRBQ2hhbmdlID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaWQgaW4gc3R4LmxheW91dC5zdHVkaWVzKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLnByZXZpb3VzU3R1ZGllc1tpZF0pIHtcbiAgICAgICAgICAgIGZvdW5kQUNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvdW5kQUNoYW5nZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnByZXZpb3VzU3R1ZGllcyA9IENJUS5zaGFsbG93Q2xvbmUoc3R4LmxheW91dC5zdHVkaWVzKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRSZWFjaGVkTGltaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UmVhY2hlZExpbWl0KCkge1xuICAgICAgdmFyIGhhc1JlYWNoZWRMaW1pdCA9IHRoaXMuYWN0aXZlU3R1ZGllcy5kYXRhLmxlbmd0aCA+PSA1O1xuICAgICAgdGhpcy5oYXNSZWFjaGVkTGltaXRzID0gaGFzUmVhY2hlZExpbWl0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVBY3RpdmVTdHVkaWVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZVN0dWRpZXMoKSB7XG4gICAgICB2YXIgc3R4ID0gdGhpcy5zdHg7XG4gICAgICB2YXIgYWN0aXZlSXRlbXMgPSBbXTtcbiAgICAgIE9iamVjdC5rZXlzKHN0eC5sYXlvdXQuc3R1ZGllcyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIHNkID0gc3R4LmxheW91dC5zdHVkaWVzW2lkXTtcblxuICAgICAgICBpZiAoc2QuY3VzdG9tTGVnZW5kKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0dWR5T2JqQ2F0ZWdvcnkgPSBPYmplY3QoX0NvbnN0YW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJnZXRJbmRpY2F0b3JzVHJlZVwiXSkoKS5maW5kKGZ1bmN0aW9uIChjYXRlZ29yeSkge1xuICAgICAgICAgIHJldHVybiBjYXRlZ29yeS5pdGVtcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gc2QudHlwZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzdHVkeU9iaiA9IHN0dWR5T2JqQ2F0ZWdvcnkuaXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBzZC50eXBlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc3R1ZHlPYmopIHtcbiAgICAgICAgICB2YXIgbmFtZU9iaiA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19bXCJwcmVwYXJlSW5kaWNhdG9yTmFtZVwiXSkoc2QubmFtZSk7XG4gICAgICAgICAgYWN0aXZlSXRlbXMucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0dWR5T2JqKSwge30sIHtcbiAgICAgICAgICAgIGlkOiBzZC5pbnB1dHMuaWQsXG4gICAgICAgICAgICBiYXJzOiBuYW1lT2JqLmJhcnMsXG4gICAgICAgICAgICBuYW1lOiBuYW1lT2JqLm5hbWUsXG4gICAgICAgICAgICBkYXRhT2JqZWN0OiB7XG4gICAgICAgICAgICAgIHN0eDogc3R4LFxuICAgICAgICAgICAgICBzZDogc2QsXG4gICAgICAgICAgICAgIGlucHV0czogc2QuaW5wdXRzLFxuICAgICAgICAgICAgICBvdXRwdXRzOiBzZC5vdXRwdXRzLFxuICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBzZC5wYXJhbWV0ZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuYWN0aXZlSXRlbXMgPSBhY3RpdmVJdGVtcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQWxsU3R1ZGllc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVBbGxTdHVkaWVzKCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHZhciBzdHggPSB0aGlzLnN0eDtcblxuICAgICAgaWYgKHN0eCkge1xuICAgICAgICBPYmplY3Qua2V5cyhzdHgubGF5b3V0LnN0dWRpZXMgfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgX3RoaXM1LmRlbGV0ZVN0dWR5KHN0eC5sYXlvdXQuc3R1ZGllc1tpZF0pO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLnVwZGF0ZUluZGljYXRvckhlaWdodCwgMjApO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhclN0dWRpZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJTdHVkaWVzKCkge1xuICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQuYWR2ZXJ0aXNlZC5MYXlvdXQuY2xlYXJTdHVkaWVzKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uU3R1ZHlSZW1vdmVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3R1ZHlSZW1vdmVkKCkge1xuICAgICAgdGhpcy51cGRhdGVBY3RpdmVTdHVkaWVzKCk7XG4gICAgICBzZXRUaW1lb3V0KHRoaXMudXBkYXRlSW5kaWNhdG9ySGVpZ2h0LCAyMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uU2VsZWN0VGFiXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2VsZWN0VGFiKHRhYkluZGV4KSB7XG4gICAgICB0aGlzLnNldEZpbHRlclRleHQoJycpO1xuICAgICAgdGhpcy5zZWxlY3RlZFRhYiA9IHRhYkluZGV4O1xuICAgICAgdGhpcy5vbkluZm9JdGVtKG51bGwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRGaWx0ZXJUZXh0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZpbHRlclRleHQoZmlsdGVyVGV4dCkge1xuICAgICAgdGhpcy5zZWxlY3RlZFRhYiA9IGZpbHRlclRleHQgIT09ICcnID8gMCA6IDE7XG4gICAgICB0aGlzLmZpbHRlclRleHQgPSBmaWx0ZXJUZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkluZm9JdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW5mb0l0ZW0oc3R1ZHkpIHtcbiAgICAgIHRoaXMuaW5mb0l0ZW0gPSBzdHVkeTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUG9ydGFsTm9kZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQb3J0YWxOb2RlKHBvcnRhbE5vZGVJZCkge1xuICAgICAgdGhpcy5wb3J0YWxOb2RlSWRDaGFuZ2VkID0gcG9ydGFsTm9kZUlkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnN0eDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5kaWNhdG9yUmF0aW9cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXRlbXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KE9iamVjdChfQ29uc3RhbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImdldEluZGljYXRvcnNUcmVlXCJdKSgpKS5tYXAoZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgICAgICAvLyB0aGUgb25seSBpY29uIHdoaWNoIGlzIGRpZmZlcmVudCBvbiBsaWdodC9kYXJrIGlzIHRyZW5kXG4gICAgICAgIGlmIChpbmRpY2F0b3IuaWQgPT09ICd0cmVuZCcpIHtcbiAgICAgICAgICBpbmRpY2F0b3IuaWNvbiA9IF90aGlzNi5tYWluU3RvcmUuY2hhcnRTZXR0aW5nLnRoZW1lID09PSAnbGlnaHQnID8gX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiSW5kaWNhdG9yQ2F0VHJlbmRMaWdodEljb25cIl0gOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19bXCJJbmRpY2F0b3JDYXRUcmVuZERhcmtJY29uXCJdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGljYXRvcjtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZWFyY2hlZEl0ZW1zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShPYmplY3QoX0NvbnN0YW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJnZXRJbmRpY2F0b3JzVHJlZVwiXSkoKSkubWFwKGZ1bmN0aW9uIChjYXRlZ29yeSkge1xuICAgICAgICBjYXRlZ29yeS5mb3VuZEl0ZW1zID0gY2F0ZWdvcnkuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoX3RoaXM3LmZpbHRlclRleHQudG9Mb3dlckNhc2UoKS50cmltKCkpICE9PSAtMTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjYXRlZ29yeTtcbiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcbiAgICAgICAgcmV0dXJuIGNhdGVnb3J5LmZvdW5kSXRlbXMubGVuZ3RoO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoYXJ0QWN0aXZlU3R1ZGllc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICh0aGlzLmFjdGl2ZUl0ZW1zIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uZGF0YU9iamVjdC5zZC5wYW5lbCA9PT0gJ2NoYXJ0JztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtYXhBbGxvd2VkSXRlbVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmlzTW9iaWxlID8gMiA6IDU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN0dWR5TGVnZW5kU3RvcmU7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNlbGVjdGVkVGFiXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZmlsdGVyVGV4dFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhY3RpdmVJdGVtc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxufSksIF9kZXNjcmlwdG9yNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpbmZvSXRlbVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I1ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInBvcnRhbE5vZGVJZENoYW5nZWRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlbW92ZUV4dHJhU3R1ZGllc1wiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZW1vdmVFeHRyYVN0dWRpZXNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25TZWxlY3RJdGVtXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblNlbGVjdEl0ZW1cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlSW5kaWNhdG9ySGVpZ2h0XCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVJbmRpY2F0b3JIZWlnaHRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlU3R5bGVcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVN0eWxlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVByb3BzXCIsIFtfZGVjNV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQcm9wc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJlZGl0U3R1ZHlcIiwgW19kZWM2XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImVkaXRTdHVkeVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZWxldGVTdHVkeVwiLCBbX2RlYzddLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVsZXRlU3R1ZHlcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlU3R1ZHlcIiwgW19kZWM4XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVN0dWR5XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFJlYWNoZWRMaW1pdFwiLCBbX2RlYzldLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0UmVhY2hlZExpbWl0XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZUFjdGl2ZVN0dWRpZXNcIiwgW19kZWMxMF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVBY3RpdmVTdHVkaWVzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRlbGV0ZUFsbFN0dWRpZXNcIiwgW19kZWMxMV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZWxldGVBbGxTdHVkaWVzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNsZWFyU3R1ZGllc1wiLCBbX2RlYzEyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNsZWFyU3R1ZGllc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblN0dWR5UmVtb3ZlZFwiLCBbX2RlYzEzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uU3R1ZHlSZW1vdmVkXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uU2VsZWN0VGFiXCIsIFtfZGVjMTRdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25TZWxlY3RUYWJcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0RmlsdGVyVGV4dFwiLCBbX2RlYzE1XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldEZpbHRlclRleHRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25JbmZvSXRlbVwiLCBbX2RlYzE2XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uSW5mb0l0ZW1cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUG9ydGFsTm9kZVwiLCBbX2RlYzE3XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVBvcnRhbE5vZGVcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL1RpbWVwZXJpb2RTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvVGltZXBlcmlvZFN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUaW1lcGVyaW9kU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCIuL25vZGVfbW9kdWxlcy9tb2J4L2xpYi9tb2J4Lm1vZHVsZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX1NlcnZlclRpbWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL1NlcnZlclRpbWUgKi8gXCIuL3NyYy91dGlscy9TZXJ2ZXJUaW1lLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZ2EgKi8gXCIuL3NyYy91dGlscy9nYS5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX3RlbXA7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHJ1bnMgYWZ0ZXIgdGhlIGRlY29yYXRvcnMgdHJhbnNmb3JtLicpOyB9XG5cblxuXG5cblxudmFyIFVuaXRNYXAgPSB7XG4gIHRpY2s6ICdUJyxcbiAgbWludXRlOiAnTScsXG4gIGhvdXI6ICdIJyxcbiAgZGF5OiAnRCdcbn07XG52YXIgVGltZU1hcCA9IHtcbiAgdGljazogMSxcbiAgbWludXRlOiAxLFxuICBob3VyOiA2MFxufTtcbnZhciBUaW1lcGVyaW9kU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9IChfdGVtcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRpbWVwZXJpb2RTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVwZXJpb2RTdG9yZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRpbWVVbml0XCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW50ZXJ2YWxcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJlcGFyaW5nSW50ZXJ2YWxcIiwgX2Rlc2NyaXB0b3IzLCB0aGlzKTtcblxuICAgIHRoaXMub25HcmFudWxhcml0eUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbWFpbiA9IG51bGw7XG5cbiAgICB0aGlzLm9uQ29udGV4dFJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJGNvbnRleHQkc3R4JGxheSA9IF90aGlzLmNvbnRleHQuc3R4LmxheW91dCxcbiAgICAgICAgICB0aW1lVW5pdCA9IF90aGlzJGNvbnRleHQkc3R4JGxheS50aW1lVW5pdCxcbiAgICAgICAgICBpbnRlcnZhbCA9IF90aGlzJGNvbnRleHQkc3R4JGxheS5pbnRlcnZhbDtcbiAgICAgIF90aGlzLnRpbWVVbml0ID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZ2V0VGltZVVuaXRcIl0pKHtcbiAgICAgICAgdGltZVVuaXQ6IHRpbWVVbml0LFxuICAgICAgICBpbnRlcnZhbDogaW50ZXJ2YWxcbiAgICAgIH0pO1xuICAgICAgX3RoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbDtcblxuICAgICAgX3RoaXMudXBkYXRlQ291bnRkb3duKCk7XG5cbiAgICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW190aGlzLnRpbWVVbml0LCBfdGhpcy5pbnRlcnZhbCwgX3RoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZy5jb3VudGRvd24sIF90aGlzLm1haW5TdG9yZS5jaGFydFR5cGUudHlwZSwgX3RoaXMubG9hZGVyLmN1cnJlbnRTdGF0ZSwgX3RoaXMuaXNTeW1ib2xPcGVuXTtcbiAgICAgIH0sIF90aGlzLnVwZGF0ZUNvdW50ZG93bi5iaW5kKF90aGlzKSk7XG5cbiAgICAgIF90aGlzLmNvbnRleHQuc3R4LmFkZEV2ZW50TGlzdGVuZXIoJ25ld0NoYXJ0JywgX3RoaXMudXBkYXRlRGlzcGxheSk7XG5cbiAgICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMubWFpblN0b3JlLnN0YXRlLmdyYW51bGFyaXR5O1xuICAgICAgfSwgZnVuY3Rpb24gKGdyYW51bGFyaXR5KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5vbkdyYW51bGFyaXR5Q2hhbmdlKGdyYW51bGFyaXR5KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNvdW50ZG93bkludGVydmFsID0gbnVsbDtcblxuICAgIHRoaXMucmVtYWluTGFiZWxZID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0eCA9IF90aGlzLmNvbnRleHQuc3R4O1xuICAgICAgdmFyIHRvcFBvcyA9IDM2O1xuICAgICAgdmFyIGxhYmVsSGVpZ2h0ID0gMjQ7XG4gICAgICB2YXIgYm90dG9tUG9zID0gNjY7XG4gICAgICB2YXIgeSA9IHN0eC5jaGFydC5jdXJyZW50UHJpY2VMYWJlbFkgKyBsYWJlbEhlaWdodDtcblxuICAgICAgaWYgKHN0eC5jaGFydC5jdXJyZW50UHJpY2VMYWJlbFkgPiBzdHguY2hhcnQucGFuZWwuYm90dG9tIC0gYm90dG9tUG9zKSB7XG4gICAgICAgIHkgPSBzdHguY2hhcnQucGFuZWwuYm90dG9tIC0gYm90dG9tUG9zO1xuICAgICAgICB5ID0geSA8IHN0eC5jaGFydC5jdXJyZW50UHJpY2VMYWJlbFkgLSBsYWJlbEhlaWdodCA/IHkgOiBzdHguY2hhcnQuY3VycmVudFByaWNlTGFiZWxZIC0gbGFiZWxIZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKHN0eC5jaGFydC5jdXJyZW50UHJpY2VMYWJlbFkgPCBzdHguY2hhcnQucGFuZWwudG9wKSB7XG4gICAgICAgIHkgPSB0b3BQb3M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB5O1xuICAgIH07XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICB0aGlzLl9zZXJ2ZXJUaW1lID0gX3V0aWxzX1NlcnZlclRpbWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0uZ2V0SW5zdGFuY2UoKTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVGltZXBlcmlvZFN0b3JlLCBbe1xuICAgIGtleTogXCJjbGVhckNvdW50ZG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckNvdW50ZG93bigpIHtcbiAgICAgIGlmICh0aGlzLmNvdW50ZG93bkludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb3VudGRvd25JbnRlcnZhbCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pbmplY3Rpb25JZCAmJiB0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LnN0eC5yZW1vdmVJbmplY3Rpb24odGhpcy5faW5qZWN0aW9uSWQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pbmplY3Rpb25JZCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuY291bnRkb3duSW50ZXJ2YWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUNvdW50ZG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDb3VudGRvd24oKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLmNvbnRleHQpIHJldHVybjtcbiAgICAgIHZhciBzdHggPSB0aGlzLmNvbnRleHQuc3R4O1xuICAgICAgdGhpcy5yZW1haW4gPSBudWxsO1xuICAgICAgdGhpcy5jbGVhckNvdW50ZG93bigpO1xuXG4gICAgICB2YXIgc2V0UmVtYWluID0gZnVuY3Rpb24gc2V0UmVtYWluKCkge1xuICAgICAgICBpZiAoc3R4LmlzRGVzdHJveWVkIHx8IF90aGlzMi5pc1RpY2sgfHwgIV90aGlzMi5pc1N5bWJvbE9wZW4pIHtcbiAgICAgICAgICBfdGhpczIuY2xlYXJDb3VudGRvd24oKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhU2VnbWVudCA9IHN0eC5jaGFydC5kYXRhU2VnbWVudDtcblxuICAgICAgICBpZiAoZGF0YVNlZ21lbnQgJiYgZGF0YVNlZ21lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGRhdGFTZWdtZW50Q2xvc2UgPSBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YVNlZ21lbnQpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0gJiYgaXRlbS5DbG9zZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChkYXRhU2VnbWVudENsb3NlICYmIGRhdGFTZWdtZW50Q2xvc2UubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFF1b3RlID0gZGF0YVNlZ21lbnRDbG9zZVtkYXRhU2VnbWVudENsb3NlLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICB2YXIgbm93ID0gX3RoaXMyLl9zZXJ2ZXJUaW1lLmdldFVUQ0RhdGUoKTtcblxuICAgICAgICAgICAgdmFyIGRpZmYgPSBub3cgLSBjdXJyZW50UXVvdGUuRFQ7XG4gICAgICAgICAgICB2YXIgY2hhcnRJbnRlcnZhbCA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldEludGVydmFsSW5TZWNvbmRzXCJdKShzdHgubGF5b3V0KSAqIDEwMDA7XG4gICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBkaWZmID4gY2hhcnRJbnRlcnZhbCA/IHBhcnNlSW50KGRpZmYgLyBjaGFydEludGVydmFsLCAxMCkgKyAxIDogMTtcblxuICAgICAgICAgICAgaWYgKF90aGlzMi5jb250ZXh0LnN0eCkge1xuICAgICAgICAgICAgICBfdGhpczIucmVtYWluID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGlzcGxheU1pbGxpc2Vjb25kc1wiXSkoY29lZmZpY2llbnQgKiBjaGFydEludGVydmFsIC0gZGlmZik7XG4gICAgICAgICAgICAgIHN0eC5kcmF3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgaXNDb3VudGRvd25DaGFydCA9ICF0aGlzLm1haW5TdG9yZS5jaGFydFR5cGUuaXNBZ2dyZWdhdGVDaGFydDtcbiAgICAgIHZhciBoYXNDb3VudGRvd24gPSB0aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcuY291bnRkb3duICYmICF0aGlzLmlzVGljayAmJiBpc0NvdW50ZG93bkNoYXJ0O1xuXG4gICAgICBpZiAoaGFzQ291bnRkb3duKSB7XG4gICAgICAgIGlmICghdGhpcy5faW5qZWN0aW9uSWQpIHtcbiAgICAgICAgICB0aGlzLl9pbmplY3Rpb25JZCA9IHN0eC5hcHBlbmQoJ2RyYXcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMyLmlzVGljaykge1xuICAgICAgICAgICAgICBfdGhpczIuY2xlYXJDb3VudGRvd24oKTtcblxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfdGhpczIucmVtYWluICYmIHN0eC5jdXJyZW50UXVvdGUoKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBzdHgueWF4aXNMYWJlbFN0eWxlID0gJ3JlY3QnO1xuICAgICAgICAgICAgICBzdHgubGFiZWxUeXBlID0gJ2NvdW50ZG93bic7XG4gICAgICAgICAgICAgIHN0eC5jcmVhdGVZQXhpc0xhYmVsKHN0eC5jaGFydC5wYW5lbCwgX3RoaXMyLnJlbWFpbiwgX3RoaXMyLnJlbWFpbkxhYmVsWSgpLCAnIzE1MjEyZCcsICcjRkZGRkZGJyk7XG4gICAgICAgICAgICAgIHN0eC5sYWJlbFR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIHN0eC55YXhpc0xhYmVsU3R5bGUgPSAncm91bmRSZWN0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5jb3VudGRvd25JbnRlcnZhbCkge1xuICAgICAgICAgIHRoaXMuY291bnRkb3duSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChzZXRSZW1haW4sIDEwMDApO1xuICAgICAgICAgIHNldFJlbWFpbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldEdyYW51bGFyaXR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEdyYW51bGFyaXR5KGdyYW51bGFyaXR5KSB7XG4gICAgICBpZiAodGhpcy5tYWluU3RvcmUuc3RhdGUuZ3JhbnVsYXJpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTZXR0aW5nIGdyYW51bGFyaXR5IGRvZXMgbm90aGluZyBzaW5jZSBncmFudWxhcml0eSBwcm9wIGlzIHNldC4gQ29uc2lkZXIgb3ZlcnJpZGluZyB0aGUgb25DaGFuZ2UgcHJvcCBpbiA8VGltZVBlcmlvZCAvPicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxvZ0FjdGlvbnNcIl0uSW50ZXJ2YWwsIGdyYW51bGFyaXR5LnRvU3RyaW5nKCkpO1xuICAgICAgdGhpcy5tYWluU3RvcmUuY2hhcnQuY2hhbmdlU3ltYm9sKHVuZGVmaW5lZCwgZ3JhbnVsYXJpdHkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQcm9wcyhvbkNoYW5nZSkge1xuICAgICAgaWYgKHRoaXMubWFpblN0b3JlLnN0YXRlLmdyYW51bGFyaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5vbkdyYW51bGFyaXR5Q2hhbmdlID0gb25DaGFuZ2U7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFByZXBhcmluZ0ludGVydmFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFByZXBhcmluZ0ludGVydmFsKGludGVydmFsKSB7XG4gICAgICB0aGlzLnByZXBhcmluZ0ludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZURpc3BsYXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRGlzcGxheSgpIHtcbiAgICAgIGlmICghdGhpcy5jb250ZXh0KSByZXR1cm47XG4gICAgICB2YXIgc3R4ID0gdGhpcy5jb250ZXh0LnN0eDtcbiAgICAgIHRoaXMudGltZVVuaXQgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRUaW1lVW5pdFwiXSkoc3R4LmxheW91dCk7XG4gICAgICB0aGlzLmludGVydmFsID0gc3R4LmxheW91dC5pbnRlcnZhbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvYWRlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmxvYWRlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNUaWNrXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50aW1lVW5pdCA9PT0gJ3RpY2snO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1N5bWJvbE9wZW5cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydFRpdGxlLmlzU3ltYm9sT3BlbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGlzcGxheVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRoaXMuaW50ZXJ2YWwgPT09ICdkYXknID8gMSA6IHRoaXMuaW50ZXJ2YWwgLyBUaW1lTWFwW3RoaXMudGltZVVuaXRdLCBcIiBcIikuY29uY2F0KFVuaXRNYXBbdGhpcy50aW1lVW5pdF0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUaW1lcGVyaW9kU3RvcmU7XG59KCksIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRpbWVVbml0XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaW50ZXJ2YWxcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJwcmVwYXJpbmdJbnRlcnZhbFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldEdyYW51bGFyaXR5XCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldEdyYW51bGFyaXR5XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVByb3BzXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQcm9wc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRQcmVwYXJpbmdJbnRlcnZhbFwiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0UHJlcGFyaW5nSW50ZXJ2YWxcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlRGlzcGxheVwiLCBbX2RlYzRdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlRGlzcGxheVwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9Ub29sYmFyV2lkZ2V0U3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL1Rvb2xiYXJXaWRnZXRTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVG9vbGJhcldpZGdldFN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwiLi9ub2RlX21vZHVsZXMvbW9ieC9saWIvbW9ieC5tb2R1bGUuanNcIik7XG52YXIgX2RlYywgX2RlYzIsIF9jbGFzcztcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cblxudmFyIFRvb2xiYXJXaWRnZXRTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhUb29sYmFyV2lkZ2V0U3RvcmUsIFt7XG4gICAga2V5OiBcImNyb3NzaGFpclN0b3JlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY3Jvc3NoYWlyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFydFN0b3JlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQ7XG4gICAgfVxuICB9XSk7XG5cbiAgZnVuY3Rpb24gVG9vbGJhcldpZGdldFN0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9vbGJhcldpZGdldFN0b3JlKTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFtfdGhpcy5tYWluU3RvcmUuY2hhcnRNb2RlLm1lbnUub3BlbiwgX3RoaXMubWFpblN0b3JlLmRyYXdUb29scy5tZW51Lm9wZW4sIF90aGlzLm1haW5TdG9yZS5zdHVkaWVzLm1lbnUub3BlbiwgX3RoaXMubWFpblN0b3JlLnNoYXJlLm1lbnUub3BlbiwgX3RoaXMubWFpblN0b3JlLnZpZXcubWVudS5vcGVuXTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBDaGVjayBpZiBhbGwgZmxvYXRpbmcgdG9vbGJhciBjb21wb25lbnQgZGlhbG9nIGNsb3NlXG4gICAgICBpZiAoIV90aGlzLm1haW5TdG9yZS5jaGFydE1vZGUubWVudS5vcGVuICYmICFfdGhpcy5tYWluU3RvcmUuZHJhd1Rvb2xzLm1lbnUub3BlbiAmJiAhX3RoaXMubWFpblN0b3JlLnN0dWRpZXMubWVudS5vcGVuICYmICFfdGhpcy5tYWluU3RvcmUuc2hhcmUubWVudS5vcGVuICYmICFfdGhpcy5tYWluU3RvcmUudmlldy5tZW51Lm9wZW4pIHtcbiAgICAgICAgX3RoaXMub25Nb3VzZUxlYXZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVG9vbGJhcldpZGdldFN0b3JlLCBbe1xuICAgIGtleTogXCJvbk1vdXNlRW50ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZUVudGVyKCkge1xuICAgICAgdGhpcy5jcm9zc2hhaXJTdG9yZS51cGRhdGVWaXNpYmlsaXR5KGZhbHNlKTsgLy8gSGlkZSB0aGUgaW5kaWNhdG9yIHRvb2x0aXBcblxuICAgICAgdmFyIGNoYXJ0Tm9kZSA9IHRoaXMuY2hhcnRTdG9yZS5jaGFydE5vZGU7XG5cbiAgICAgIGlmIChjaGFydE5vZGUpIHtcbiAgICAgICAgY2hhcnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5zdHhfc3RpY2t5Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZUxlYXZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZSgpIHtcbiAgICAgIHRoaXMuY3Jvc3NoYWlyU3RvcmUudXBkYXRlVmlzaWJpbGl0eSh0cnVlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVG9vbGJhcldpZGdldFN0b3JlO1xufSgpLCAoX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uTW91c2VFbnRlclwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbk1vdXNlRW50ZXJcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25Nb3VzZUxlYXZlXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbk1vdXNlTGVhdmVcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvVmlld1N0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9WaWV3U3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZpZXdTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIi4vbm9kZV9tb2R1bGVzL21vYngvbGliL21vYngubW9kdWxlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL01lbnVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL01lbnVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19NZW51X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9NZW51LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTWVudS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nYSAqLyBcIi4vc3JjL3V0aWxzL2dhLmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2RlYzQsIF9kZWM1LCBfZGVjNiwgX2RlYzcsIF9kZWM4LCBfZGVjOSwgX2RlYzEwLCBfZGVjMTEsIF9kZWMxMiwgX2RlYzEzLCBfY2xhc3MsIF9pbml0LCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2NsYXNzMiwgX3RlbXA7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBydW5zIGFmdGVyIHRoZSBkZWNvcmF0b3JzIHRyYW5zZm9ybS4nKTsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cblxuXG5cblxuXG52YXIgVmlld1N0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM1ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzcgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM4ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjOSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzEwID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMTEgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMxMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzEzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gKF90ZW1wID0gX2NsYXNzMiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFZpZXdTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZXdTdG9yZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRlbXBsYXRlTmFtZVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImN1cnJlbnRSb3V0ZVwiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0lucHV0QWN0aXZlXCIsIF9kZXNjcmlwdG9yMywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJvdXRlc1wiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5tZW51ID0gbmV3IF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlLCB7XG4gICAgICByb3V0ZTogJ3RlbXBsYXRlcydcbiAgICB9KTtcbiAgICB0aGlzLlZpZXdzTWVudSA9IHRoaXMubWVudS5jb25uZWN0KF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wicmVhY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5tZW51LmRpYWxvZy5vcGVuO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChWaWV3U3RvcmUudmlld3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIF90aGlzLnVwZGF0ZVJvdXRlKCduZXcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnVwZGF0ZVJvdXRlKCdtYWluJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5tZW51LmRpYWxvZy5vcGVuKSB7XG4gICAgICAgIF90aGlzLnRlbXBsYXRlTmFtZSA9ICcnO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFZpZXdTdG9yZSwgW3tcbiAgICBrZXk6IFwib25DaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudFJvdXRlID09PSAnb3ZlcndyaXRlJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGVtcGxhdGVOYW1lID0gZS50YXJnZXQudmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uU3VibWl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3VibWl0KGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIHRoaXMuc2F2ZVZpZXdzKCk7XG4gICAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxvZ0FjdGlvbnNcIl0uVGVtcGxhdGUsICdTYXZlIFRlbXBsYXRlJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ2FuY2VsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2FuY2VsKCkge1xuICAgICAgdGhpcy50ZW1wbGF0ZU5hbWUgPSAnJztcbiAgICAgIHRoaXMudXBkYXRlUm91dGUoJ21haW4nKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUm91dGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUm91dGUobmFtZSkge1xuICAgICAgdGhpcy5jdXJyZW50Um91dGUgPSBuYW1lO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzYXZlVmlld3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZVZpZXdzKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmIChWaWV3U3RvcmUudmlld3Muc29tZShmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geC5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpID09PSBfdGhpczIudGVtcGxhdGVOYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgfSkpIHtcbiAgICAgICAgdGhpcy51cGRhdGVSb3V0ZSgnb3ZlcndyaXRlJyk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudGVtcGxhdGVOYW1lLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUm91dGUoJ21haW4nKTtcbiAgICAgICAgdmFyIGxheW91dCA9IHRoaXMuc3R4LmV4cG9ydExheW91dCgpO1xuICAgICAgICBWaWV3U3RvcmUudmlld3MucHVzaCh7XG4gICAgICAgICAgbmFtZTogdGhpcy50ZW1wbGF0ZU5hbWUudHJpbSgpLFxuICAgICAgICAgIGxheW91dDogbGF5b3V0XG4gICAgICAgIH0pO1xuICAgICAgICBWaWV3U3RvcmUudXBkYXRlTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgIHRoaXMudGVtcGxhdGVOYW1lID0gJyc7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm92ZXJ3cml0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvdmVyd3JpdGUoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIGxheW91dCA9IHRoaXMuc3R4LmV4cG9ydExheW91dCgpO1xuICAgICAgdmFyIHRlbXBsYXRlSW5kZXggPSBWaWV3U3RvcmUudmlld3MuZmluZEluZGV4KGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4Lm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gX3RoaXMzLnRlbXBsYXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSk7XG4gICAgICBWaWV3U3RvcmUudmlld3NbdGVtcGxhdGVJbmRleF0ubGF5b3V0ID0gbGF5b3V0O1xuICAgICAgVmlld1N0b3JlLnZpZXdzW3RlbXBsYXRlSW5kZXhdLm5hbWUgPSB0aGlzLnRlbXBsYXRlTmFtZS50cmltKCk7XG4gICAgICBWaWV3U3RvcmUudXBkYXRlTG9jYWxTdG9yYWdlKCk7XG4gICAgICB0aGlzLnVwZGF0ZVJvdXRlKCdtYWluJyk7XG4gICAgICB0aGlzLnRlbXBsYXRlTmFtZSA9ICcnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKGlkeCwgZSkge1xuICAgICAgVmlld1N0b3JlLnZpZXdzID0gdGhpcy5zb3J0ZWRJdGVtcy5maWx0ZXIoZnVuY3Rpb24gKHgsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpZHggIT09IGluZGV4O1xuICAgICAgfSk7XG4gICAgICBlLm5hdGl2ZUV2ZW50LmlzX2l0ZW1fcmVtb3ZlZCA9IHRydWU7XG4gICAgICBWaWV3U3RvcmUudXBkYXRlTG9jYWxTdG9yYWdlKCk7XG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJMb2dBY3Rpb25zXCJdLlRlbXBsYXRlLCAnUmVtb3ZlIFRlbXBsYXRlJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUFsbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVBbGwoKSB7XG4gICAgICBWaWV3U3RvcmUudmlld3MgPSBbXTtcbiAgICAgIFZpZXdTdG9yZS51cGRhdGVMb2NhbFN0b3JhZ2UoKTtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxvZ0FjdGlvbnNcIl0uVGVtcGxhdGUsICdSZW1vdmUgQWxsIFRlbXBsYXRlcycpO1xuICAgICAgdGhpcy51cGRhdGVSb3V0ZSgnbmV3Jyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFwcGx5TGF5b3V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5TGF5b3V0KGlkeCwgZSkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIGlmIChlLm5hdGl2ZUV2ZW50LmlzX2l0ZW1fcmVtb3ZlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmxvYWRlcikge1xuICAgICAgICB0aGlzLmxvYWRlci5zaG93KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWFpblN0b3JlLnN0YXRlLnNldENoYXJ0SXNSZWFkeShmYWxzZSk7XG4gICAgICB2YXIgc3R4ID0gdGhpcy5zdHg7XG4gICAgICB2YXIgZ3JhbnVsYXJpdHkgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRJbnRlcnZhbEluU2Vjb25kc1wiXSkoVmlld1N0b3JlLnZpZXdzW2lkeF0ubGF5b3V0KTtcbiAgICAgIHRoaXMubWFpblN0b3JlLnRpbWVwZXJpb2Qub25HcmFudWxhcml0eUNoYW5nZShncmFudWxhcml0eSk7XG5cbiAgICAgIHZhciBpbXBvcnRMYXlvdXQgPSBmdW5jdGlvbiBpbXBvcnRMYXlvdXQoKSB7XG4gICAgICAgIHZhciBmaW5pc2hJbXBvcnRMYXlvdXQgPSBmdW5jdGlvbiBmaW5pc2hJbXBvcnRMYXlvdXQoKSB7XG4gICAgICAgICAgc3R4LmNoYW5nZU9jY3VycmVkKCdsYXlvdXQnKTtcblxuICAgICAgICAgIF90aGlzNC5tYWluU3RvcmUuc3R1ZGllcy51cGRhdGVBY3RpdmVTdHVkaWVzKCk7XG5cbiAgICAgICAgICBpZiAoX3RoaXM0LmxvYWRlcikge1xuICAgICAgICAgICAgX3RoaXM0LmxvYWRlci5oaWRlKCk7XG5cbiAgICAgICAgICAgIF90aGlzNC5tYWluU3RvcmUucGFnaW5hdGlvbkxvYWRlci51cGRhdGVPblBhZ2luYXRpb24oZmFsc2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzNC5tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRJc1JlYWR5KHRydWUpO1xuXG4gICAgICAgICAgX3RoaXM0Lm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydEdyYW51bGFyaXR5KGdyYW51bGFyaXR5KTtcbiAgICAgICAgfTtcblxuICAgICAgICBzdHguaW1wb3J0TGF5b3V0KFZpZXdTdG9yZS52aWV3c1tpZHhdLmxheW91dCwge1xuICAgICAgICAgIG1hbmFnZVBlcmlvZGljaXR5OiB0cnVlLFxuICAgICAgICAgIHByZXNlcnZlVGlja3NBbmRDYW5kbGVXaWR0aDogdHJ1ZSxcbiAgICAgICAgICBjYjogZmluaXNoSW1wb3J0TGF5b3V0XG4gICAgICAgIH0pOyAvLyBUaGlzIGNvbmRpdGlvbiBpcyB0byBtYWtlIHNwbGluZSBjaGFydCBhcHBlYXIgYXMgc3BsaW5lIGNoYXJ0XG4gICAgICAgIC8vIEJvdGggbGluZSBjaGFydCBhbmQgc3BsaW5lIGNoYXJ0IGFyZSBvZiB0eXBlIG1vdW50YWluIGJ1dCB3aXRoIGRpZmZlcmVudCB0ZW5zaW9uc1xuXG4gICAgICAgIHZhciBjaGFydFR5cGUgPSBWaWV3U3RvcmUudmlld3NbaWR4XS5sYXlvdXQuY2hhcnRUeXBlO1xuXG4gICAgICAgIGlmIChjaGFydFR5cGUgPT09ICdtb3VudGFpbicpIHtcbiAgICAgICAgICB2YXIgdGVuc2lvbiA9IFZpZXdTdG9yZS52aWV3c1tpZHhdLmxheW91dC50ZW5zaW9uO1xuXG4gICAgICAgICAgaWYgKHRlbnNpb24gPT09IDAuNSkge1xuICAgICAgICAgICAgY2hhcnRUeXBlID0gJ3NwbGluZSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXM0Lm1haW5TdG9yZS5jaGFydFR5cGUuc2V0VHlwZShjaGFydFR5cGUpO1xuXG4gICAgICAgIF90aGlzNC5tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRUeXBlKGNoYXJ0VHlwZSk7XG5cbiAgICAgICAgX3RoaXM0Lm1lbnUuc2V0T3BlbihmYWxzZSk7XG5cbiAgICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTG9nQWN0aW9uc1wiXS5UZW1wbGF0ZSwgJ0xvYWQgVGVtcGxhdGUnKTtcbiAgICAgIH07XG5cbiAgICAgIHNldFRpbWVvdXQoaW1wb3J0TGF5b3V0LCAxMDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblRvZ2dsZU5ld1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblRvZ2dsZU5ldygpIHtcbiAgICAgIHRoaXMudXBkYXRlUm91dGUoJ21haW4nKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5wdXRSZWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5wdXRSZWYocmVmKSB7XG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIHJlZi5mb2N1cygpO1xuICAgICAgICB0aGlzLmlzSW5wdXRBY3RpdmUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkZvY3VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRm9jdXMoKSB7XG4gICAgICB0aGlzLmlzSW5wdXRBY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkJsdXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgdGhpcy5pc0lucHV0QWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsb2FkZXJcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5sb2FkZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNvcnRlZEl0ZW1zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KFZpZXdTdG9yZS52aWV3cykuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5uYW1lIDwgYi5uYW1lID8gLTEgOiAxO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwidXBkYXRlTG9jYWxTdG9yYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsU3RvcmFnZSgpIHtcbiAgICAgIENJUS5sb2NhbFN0b3JhZ2VTZXRJdGVtKCdjcS12aWV3cycsIEpTT04uc3RyaW5naWZ5KFZpZXdTdG9yZS52aWV3cykpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBWaWV3U3RvcmU7XG59KCksIF9jbGFzczIudmlld3MgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlXCJdKSgnY3Etdmlld3MnKSB8fCBbXSwgX3RlbXApLCAoX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MsIFwidmlld3NcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCAoX2luaXQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcywgXCJ2aWV3c1wiKSwgX2luaXQgPSBfaW5pdCA/IF9pbml0LnZhbHVlIDogdW5kZWZpbmVkLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gX2luaXQ7XG4gIH1cbn0pLCBfY2xhc3MpLCBfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0ZW1wbGF0ZU5hbWVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY3VycmVudFJvdXRlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICdtYWluJztcbiAgfVxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc0lucHV0QWN0aXZlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyb3V0ZXNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgIHJldHVybiB7XG4gICAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNS5zYXZlVmlld3MoKTtcbiAgICAgIH0sXG4gICAgICBtYWluOiBmdW5jdGlvbiBtYWluKCkge1xuICAgICAgICByZXR1cm4gX3RoaXM1LnVwZGF0ZVJvdXRlKCdhZGQnKTtcbiAgICAgIH0sXG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNS5vbkNhbmNlbCgpO1xuICAgICAgfSxcbiAgICAgIG92ZXJ3cml0ZTogZnVuY3Rpb24gb3ZlcndyaXRlKCkge1xuICAgICAgICByZXR1cm4gX3RoaXM1Lm92ZXJ3cml0ZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic29ydGVkSXRlbXNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNvcnRlZEl0ZW1zXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uQ2hhbmdlXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uQ2hhbmdlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uU3VibWl0XCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblN1Ym1pdFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkNhbmNlbFwiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25DYW5jZWxcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUm91dGVcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVJvdXRlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNhdmVWaWV3c1wiLCBbX2RlYzVdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2F2ZVZpZXdzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm92ZXJ3cml0ZVwiLCBbX2RlYzZdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib3ZlcndyaXRlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlbW92ZVwiLCBbX2RlYzddLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVtb3ZlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlbW92ZUFsbFwiLCBbX2RlYzhdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVtb3ZlQWxsXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFwcGx5TGF5b3V0XCIsIFtfZGVjOV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhcHBseUxheW91dFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblRvZ2dsZU5ld1wiLCBbX2RlYzEwXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uVG9nZ2xlTmV3XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlucHV0UmVmXCIsIFtfZGVjMTFdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaW5wdXRSZWZcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25Gb2N1c1wiLCBbX2RlYzEyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uRm9jdXNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25CbHVyXCIsIFtfZGVjMTNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25CbHVyXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE1haW5TdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0JvdHRvbVdpZGdldHNDb250YWluZXJTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Cb3R0b21XaWRnZXRzQ29udGFpbmVyU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9Cb3R0b21XaWRnZXRzQ29udGFpbmVyU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1RpbWVwZXJpb2RTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9UaW1lcGVyaW9kU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9UaW1lcGVyaW9kU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NoYXJ0U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL0NoYXJ0U3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NoYXJ0VHlwZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0NoYXJ0VHlwZVN0b3JlICovIFwiLi9zcmMvc3RvcmUvQ2hhcnRUeXBlU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NoYXJ0TW9kZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0NoYXJ0TW9kZVN0b3JlICovIFwiLi9zcmMvc3RvcmUvQ2hhcnRNb2RlU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1N0dWR5TGVnZW5kU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vU3R1ZHlMZWdlbmRTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL1N0dWR5TGVnZW5kU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0RyYXdUb29sc1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0RyYXdUb29sc1N0b3JlICovIFwiLi9zcmMvc3RvcmUvRHJhd1Rvb2xzU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NoYXJ0VGl0bGVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9DaGFydFRpdGxlU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DaGFydFRpdGxlU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZpZXdTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9WaWV3U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9WaWV3U3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Nyb3NzaGFpclN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0Nyb3NzaGFpclN0b3JlICovIFwiLi9zcmMvc3RvcmUvQ3Jvc3NoYWlyU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1NoYXJlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1NoYXJlU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9TaGFyZVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFNldHRpbmdTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRTZXR0aW5nU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DaGFydFNldHRpbmdTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTG9hZGVyU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0xvYWRlclN0b3JlICovIFwiLi9zcmMvc3RvcmUvTG9hZGVyU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Zhdm9yaXRlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0Zhdm9yaXRlU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9GYXZvcml0ZVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFNpemVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRTaXplU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DaGFydFNpemVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfUm91dGluZ1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Sb3V0aW5nU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9Sb3V0aW5nU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0N1cnJlbnRTcG90U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0N1cnJlbnRTcG90U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DdXJyZW50U3BvdFN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFN0YXRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9DaGFydFN0YXRlICovIFwiLi9zcmMvc3RvcmUvQ2hhcnRTdGF0ZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTm90aWZpZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL05vdGlmaWVyICovIFwiLi9zcmMvc3RvcmUvTm90aWZpZXIuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0xhc3REaWdpdFN0YXRzU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0xhc3REaWdpdFN0YXRzU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9MYXN0RGlnaXRTdGF0c1N0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9OYXZpZ2F0aW9uV2lkZ2V0U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL05hdmlnYXRpb25XaWRnZXRTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL05hdmlnYXRpb25XaWRnZXRTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSGlnaGVzdExvd2VzdFN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9IaWdoZXN0TG93ZXN0U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9IaWdoZXN0TG93ZXN0U3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1BhZ2luYXRpb25Mb2FkZXJTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vUGFnaW5hdGlvbkxvYWRlclN0b3JlICovIFwiLi9zcmMvc3RvcmUvUGFnaW5hdGlvbkxvYWRlclN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Ub29sYmFyV2lkZ2V0U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1Rvb2xiYXJXaWRnZXRTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL1Rvb2xiYXJXaWRnZXRTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU2Nyb2xsU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1Njcm9sbFN0b3JlICovIFwiLi9zcmMvc3RvcmUvU2Nyb2xsU3RvcmUuanNcIik7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxudmFyIE1haW5TdG9yZSA9IGZ1bmN0aW9uIE1haW5TdG9yZSgpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1haW5TdG9yZSk7XG5cbiAgdGhpcy5ub3RpZmllciA9IG5ldyBfTm90aWZpZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19bXCJkZWZhdWx0XCJdKCk7XG4gIHRoaXMuZmF2b3JpdGVzID0gX0Zhdm9yaXRlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19bXCJkZWZhdWx0XCJdLmdldEluc3RhbmNlKCk7XG4gIHRoaXMuY2hhcnQgPSBuZXcgX0NoYXJ0U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuc3RhdGUgPSBuZXcgX0NoYXJ0U3RhdGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLmNoYXJ0VHlwZSA9IG5ldyBfQ2hhcnRUeXBlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuY2hhcnRNb2RlID0gbmV3IF9DaGFydE1vZGVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5zdHVkaWVzID0gbmV3IF9TdHVkeUxlZ2VuZFN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLmRyYXdUb29scyA9IG5ldyBfRHJhd1Rvb2xzU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuY2hhcnRUaXRsZSA9IG5ldyBfQ2hhcnRUaXRsZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLnRpbWVwZXJpb2QgPSBuZXcgX1RpbWVwZXJpb2RTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy52aWV3ID0gbmV3IF9WaWV3U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuY3Jvc3NoYWlyID0gbmV3IF9Dcm9zc2hhaXJTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5zaGFyZSA9IG5ldyBfU2hhcmVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuY2hhcnRTZXR0aW5nID0gbmV3IF9DaGFydFNldHRpbmdTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMubG9hZGVyID0gbmV3IF9Mb2FkZXJTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX1tcImRlZmF1bHRcIl0oKTtcbiAgdGhpcy5jaGFydFNpemUgPSBuZXcgX0NoYXJ0U2l6ZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5yb3V0aW5nID0gbmV3IF9Sb3V0aW5nU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLmN1cnJlbnRTcG90ID0gbmV3IF9DdXJyZW50U3BvdFN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5sYXN0RGlnaXRTdGF0cyA9IG5ldyBfTGFzdERpZ2l0U3RhdHNTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuYm90dG9tV2lkZ2V0c0NvbnRhaW5lciA9IG5ldyBfQm90dG9tV2lkZ2V0c0NvbnRhaW5lclN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLm5hdmlnYXRpb25XaWRnZXQgPSBuZXcgX05hdmlnYXRpb25XaWRnZXRTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuaGlnaGVzdExvd2VzdCA9IG5ldyBfSGlnaGVzdExvd2VzdFN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5wYWdpbmF0aW9uTG9hZGVyID0gbmV3IF9QYWdpbmF0aW9uTG9hZGVyU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLnRvb2xiYXJXaWRnZXQgPSBuZXcgX1Rvb2xiYXJXaWRnZXRTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuc2Nyb2xsID0gbmV3IF9TY3JvbGxTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfX1tcImRlZmF1bHRcIl0odGhpcyk7XG59O1xuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvUGVuZGluZ1Byb21pc2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvUGVuZGluZ1Byb21pc2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUGVuZGluZ1Byb21pc2U7IH0pO1xuZnVuY3Rpb24gUGVuZGluZ1Byb21pc2UoKSB7XG4gIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuICB2YXIgcmVzb2x2ZTtcbiAgdmFyIHJlamVjdDtcbiAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoX3Jlc29sdmUsIF9yZWplY3QpIHtcbiAgICByZXNvbHZlID0gX3Jlc29sdmU7XG4gICAgcmVqZWN0ID0gX3JlamVjdDtcbiAgfSk7XG5cbiAgcHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24gKHJlcykge1xuICAgIHByb21pc2UuaXNQZW5kaW5nID0gZmFsc2U7XG4gICAgcmVzb2x2ZShyZXMpO1xuICB9O1xuXG4gIHByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgcHJvbWlzZS5pc1BlbmRpbmcgPSBmYWxzZTtcbiAgICByZWplY3QoZXJyb3IpO1xuICB9O1xuXG4gIHByb21pc2UuZGF0YSA9IGRhdGE7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlscy9TZXJ2ZXJUaW1lLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvU2VydmVyVGltZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2luZGV4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2luZGV4ICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1BlbmRpbmdQcm9taXNlICovIFwiLi9zcmMvdXRpbHMvUGVuZGluZ1Byb21pc2UuanNcIik7XG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cblxuXG5cbnZhciBTZXJ2ZXJUaW1lID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2VydmVyVGltZSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlcnZlclRpbWUpO1xuXG4gICAgdGhpcy5jbG9ja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNsb2NrU3RhcnRlZFByb21pc2UgPSBuZXcgX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKCk7XG5cbiAgICB0aGlzLl90aW1lUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICBfdGhpcy5jbG9ja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5jbG9ja1N0YXJ0ZWQpIHtcbiAgICAgICAgX3RoaXMuaW5pdCgpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlcnZlclRpbWUgPSByZXNwb25zZS50aW1lO1xuICAgICAgdmFyIGNsaWVudFRpbWVBdFJlc3BvbnNlID0gT2JqZWN0KF9pbmRleF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0VVRDRXBvY2hcIl0pKG5ldyBEYXRlKCkpO1xuICAgICAgX3RoaXMuc2VydmVyVGltZUF0UmVzcG9uc2UgPSBzZXJ2ZXJUaW1lICsgKGNsaWVudFRpbWVBdFJlc3BvbnNlIC0gX3RoaXMuY2xpZW50VGltZUF0UmVxdWVzdCkgLyAyO1xuXG4gICAgICB2YXIgdXBkYXRlVGltZSA9IGZ1bmN0aW9uIHVwZGF0ZVRpbWUoKSB7XG4gICAgICAgIF90aGlzLnNlcnZlclRpbWVBdFJlc3BvbnNlICs9IDE7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBfdGhpcy5vblRpbWVVcGRhdGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgX3RoaXMub25UaW1lVXBkYXRlZCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjbGVhckludGVydmFsKF90aGlzLnVwZGF0ZVRpbWVJbnRlcnZhbCk7XG4gICAgICBfdGhpcy51cGRhdGVUaW1lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh1cGRhdGVUaW1lLCAxMDAwKTtcbiAgICB9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNlcnZlclRpbWUsIFt7XG4gICAga2V5OiBcImluaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9pbml0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGFwaSwgdXBkYXRlZENhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLl9hcGkgPSBhcGk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblRpbWVVcGRhdGVkID0gdXBkYXRlZENhbGxiYWNrO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvY2tTdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsb2NrU3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmdldFRpbWVJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFRpbWUoKTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUaW1lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnJlcXVlc3RUaW1lLmJpbmQodGhpcyksIDMwMDAwKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xvY2tTdGFydGVkUHJvbWlzZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gaW5pdChfeCwgX3gyKSB7XG4gICAgICAgIHJldHVybiBfaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5pdDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJyZXF1ZXN0VGltZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlcXVlc3RUaW1lID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudFRpbWVBdFJlcXVlc3QgPSBPYmplY3QoX2luZGV4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRVVENFcG9jaFwiXSkobmV3IERhdGUoKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2VydmVyVGltZUF0UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYXBpLmdldFNlcnZlclRpbWUoKS50aGVuKHRoaXMuX3RpbWVSZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgLy8gaXQgaXMgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgICAgICAgICAvLyB0byBib290IHVwIHRoZSBzcGVlZCwgYXQgdGhlIGJlZ2luaWdcbiAgICAgICAgICAgICAgICAvLyB3ZSB1c2UgdGhlIHVzZXIgdGltZVxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICB0aW1lOiBwYXJzZUludChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDAsIDEwKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICB0aGlzLmNsb2NrU3RhcnRlZFByb21pc2UucmVzb2x2ZSgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZXF1ZXN0VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIF9yZXF1ZXN0VGltZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVxdWVzdFRpbWU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RXBvY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RXBvY2goKSB7XG4gICAgICBpZiAodGhpcy5zZXJ2ZXJUaW1lQXRSZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2ZXJUaW1lQXRSZXNwb25zZTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXJ2ZXIgdGltZSBpcyB1bmRlZmluZWQhJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldExvY2FsRGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2NhbERhdGUoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0KF9pbmRleF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0TG9jYWxEYXRlXCJdKSh0aGlzLmdldEVwb2NoKCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRVVENEYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVUQ0RhdGUoKSB7XG4gICAgICByZXR1cm4gQ0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KF9pbmRleF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0VVRDRGF0ZVwiXSkodGhpcy5nZXRFcG9jaCgpKSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IFNlcnZlclRpbWUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTZXJ2ZXJUaW1lO1xufSgpO1xuXG5TZXJ2ZXJUaW1lLl9pbnN0YW5jZSA9IHZvaWQgMDtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoU2VydmVyVGltZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL2dhLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL2dhLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IExvZ0NhdGVnb3JpZXMsIExvZ0FjdGlvbnMsIGluaXRHQSwgbG9nUGFnZVZpZXcsIGxvZ0V2ZW50ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkxvZ0NhdGVnb3JpZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBMb2dDYXRlZ29yaWVzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJMb2dBY3Rpb25zXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTG9nQWN0aW9uczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW5pdEdBXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaW5pdEdBOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJsb2dQYWdlVmlld1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGxvZ1BhZ2VWaWV3OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJsb2dFdmVudFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGxvZ0V2ZW50OyB9KTtcbnZhciBMb2dDYXRlZ29yaWVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIENoYXJ0VGl0bGU6ICdDaGFydCBUaXRsZScsXG4gIENhdGVnb3JpY2FsRGlzcGxheTogJ0NhdGVnb3JpY2FsIERpc3BsYXknLFxuICBDaGFydENvbnRyb2w6ICdDaGFydCBDb250cm9sJ1xufSk7XG52YXIgTG9nQWN0aW9ucyA9IE9iamVjdC5mcmVlemUoe1xuICBNYXJrZXRTZWxlY3RvcjogJ01hcmtldCBTZWxlY3RvcicsXG4gIEZhdm9yaXRlOiAnRmF2b3JpdGUnLFxuICBDaGFydFNldHRpbmc6ICdDaGFydCBTZXR0aW5nJyxcbiAgQ2hhcnRTaXplOiAnQ2hhcnQgU2l6ZScsXG4gIENoYXJ0VHlwZTogJ0NoYXJ0IFR5cGUnLFxuICBDb21wYXJpc29uOiAnQ29tcGFyaXNvbicsXG4gIERyYXdUb29sczogJ0RyYXcgVG9vbHMnLFxuICBEb3dubG9hZDogJ0Rvd25sb2FkJyxcbiAgSW5kaWNhdG9yOiAnSW5kaWNhdG9yJyxcbiAgSW50ZXJ2YWw6ICdJbnRlcnZhbCcsXG4gIFRlbXBsYXRlOiAnVGVtcGxhdGUnXG59KTtcbi8qIGVzbGludC1kaXNhYmxlICovXG5cbmZ1bmN0aW9uIGluaXRHQSgpIHt9XG5mdW5jdGlvbiBsb2dQYWdlVmlldygpIHt9XG5mdW5jdGlvbiBsb2dFdmVudChjYXRlZ29yeSwgYWN0aW9uLCBsYWJlbCkge31cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogY3JlYXRlT2JqZWN0RnJvbUxvY2FsU3RvcmFnZSwgaXNWYWxpZFByb3AsIGdldFRpbWVVbml0LCBnZXRJbnRlcnZhbEluU2Vjb25kcywgc3RhYmxlU29ydCwgc2FtZUJhciwgZG93bmxvYWRGaWxlSW5Ccm93c2VyLCBzdHh0YXAsIGdldFVUQ0Vwb2NoLCBnZXRVVENEYXRlLCBnZXRMb2NhbERhdGUsIHVwZGF0ZVByb3BJZkNoYW5nZWQsIGNhbGN1bGF0ZVRpbWVVbml0SW50ZXJ2YWwsIGNhbGN1bGF0ZUdyYW51bGFyaXR5LCBkaXNwbGF5TWlsbGlzZWNvbmRzLCBjbG9uZUNhdGVnb3J5LCBjbG9uZUNhdGVnb3JpZXMsIHBhdGNoUGl4ZWxGcm9tQ2hhcnQsIEFSUk9XX0hFSUdIVCwgQVJST1dfQ09MT1JTLCBESVJFQ1RJT05TLCBmb3JtYXRDYW1lbENhc2UsIHByZXBhcmVJbmRpY2F0b3JOYW1lLCByZW5kZXJTVkdTdHJpbmcsIHdyYXBUZXh0LCBzdHJpbmdUb1NsdWcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY3JlYXRlT2JqZWN0RnJvbUxvY2FsU3RvcmFnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZU9iamVjdEZyb21Mb2NhbFN0b3JhZ2U7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzVmFsaWRQcm9wXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNWYWxpZFByb3A7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldFRpbWVVbml0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0VGltZVVuaXQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldEludGVydmFsSW5TZWNvbmRzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0SW50ZXJ2YWxJblNlY29uZHM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInN0YWJsZVNvcnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBzdGFibGVTb3J0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzYW1lQmFyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2FtZUJhcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZG93bmxvYWRGaWxlSW5Ccm93c2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZG93bmxvYWRGaWxlSW5Ccm93c2VyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzdHh0YXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBzdHh0YXA7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldFVUQ0Vwb2NoXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0VVRDRXBvY2g7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldFVUQ0RhdGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRVVENEYXRlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRMb2NhbERhdGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRMb2NhbERhdGU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInVwZGF0ZVByb3BJZkNoYW5nZWRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB1cGRhdGVQcm9wSWZDaGFuZ2VkOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjYWxjdWxhdGVUaW1lVW5pdEludGVydmFsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FsY3VsYXRlVGltZVVuaXRJbnRlcnZhbDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY2FsY3VsYXRlR3JhbnVsYXJpdHlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjYWxjdWxhdGVHcmFudWxhcml0eTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGlzcGxheU1pbGxpc2Vjb25kc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGRpc3BsYXlNaWxsaXNlY29uZHM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNsb25lQ2F0ZWdvcnlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjbG9uZUNhdGVnb3J5OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjbG9uZUNhdGVnb3JpZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjbG9uZUNhdGVnb3JpZXM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInBhdGNoUGl4ZWxGcm9tQ2hhcnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwYXRjaFBpeGVsRnJvbUNoYXJ0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJBUlJPV19IRUlHSFRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBBUlJPV19IRUlHSFQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkFSUk9XX0NPTE9SU1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEFSUk9XX0NPTE9SUzsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRElSRUNUSU9OU1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERJUkVDVElPTlM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZvcm1hdENhbWVsQ2FzZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZvcm1hdENhbWVsQ2FzZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicHJlcGFyZUluZGljYXRvck5hbWVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwcmVwYXJlSW5kaWNhdG9yTmFtZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVuZGVyU1ZHU3RyaW5nXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcmVuZGVyU1ZHU3RyaW5nOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ3cmFwVGV4dFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHdyYXBUZXh0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzdHJpbmdUb1NsdWdcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBzdHJpbmdUb1NsdWc7IH0pO1xuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIGNyZWF0ZU9iamVjdEZyb21Mb2NhbFN0b3JhZ2Uoa2V5KSB7XG4gIHZhciB2YWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICB2YXIgaXNWYWxpZCA9IHZhbCAhPT0gbnVsbDtcblxuICBpZiAoaXNWYWxpZCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRQcm9wKHApIHtcbiAgcmV0dXJuIHAgIT09IHVuZGVmaW5lZCAmJiAhaXNOYU4ocCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG59XG52YXIgZ2V0VGltZVVuaXQgPSBmdW5jdGlvbiBnZXRUaW1lVW5pdChfcmVmKSB7XG4gIHZhciB0aW1lVW5pdCA9IF9yZWYudGltZVVuaXQsXG4gICAgICBpbnRlcnZhbCA9IF9yZWYuaW50ZXJ2YWw7XG5cbiAgaWYgKHRpbWVVbml0ID09PSBudWxsICYmIGludGVydmFsID09PSAnZGF5Jykge1xuICAgIHJldHVybiAnZGF5JztcbiAgfVxuXG4gIGlmICh0aW1lVW5pdCA9PT0gJ21pbnV0ZScgJiYgaW50ZXJ2YWwgJSA2MCA9PT0gMCkge1xuICAgIHJldHVybiAnaG91cic7XG4gIH1cblxuICBpZiAodGltZVVuaXQgPT09ICdzZWNvbmQnKSB7XG4gICAgcmV0dXJuICd0aWNrJztcbiAgfVxuXG4gIHJldHVybiB0aW1lVW5pdDtcbn07XG52YXIgZ2V0SW50ZXJ2YWxJblNlY29uZHMgPSBmdW5jdGlvbiBnZXRJbnRlcnZhbEluU2Vjb25kcyhfcmVmMikge1xuICB2YXIgdGltZVVuaXQgPSBfcmVmMi50aW1lVW5pdCxcbiAgICAgIGludGVydmFsID0gX3JlZjIuaW50ZXJ2YWw7XG4gIHZhciB1bml0ID0gdGltZVVuaXQ7XG4gIHZhciBpbnRlcnYgPSBpbnRlcnZhbDtcblxuICBpZiAoaW50ZXJ2ID09PSAnZGF5Jykge1xuICAgIHVuaXQgPSA4NjQwMDtcbiAgICBpbnRlcnYgPSAxO1xuICB9IGVsc2UgaWYgKHRpbWVVbml0ID09PSAnbWludXRlJykge1xuICAgIHVuaXQgPSA2MDtcbiAgfSBlbHNlIGlmICh0aW1lVW5pdCA9PT0gJ3NlY29uZCcpIHtcbiAgICB1bml0ID0gMTtcbiAgfVxuXG4gIHJldHVybiB1bml0ICogaW50ZXJ2O1xufTtcbmZ1bmN0aW9uIHN0YWJsZVNvcnQoYXJyKSB7XG4gIHZhciBjb21wYXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhIDwgYjtcbiAgfTtcbiAgdmFyIG9yaWdpbmFsID0gYXJyLnNsaWNlKDApO1xuICBhcnIuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciByZXN1bHQgPSBjb21wYXJlKGEsIGIpO1xuICAgIHJldHVybiByZXN1bHQgPT09IDAgPyBvcmlnaW5hbC5pbmRleE9mKGEpIC0gb3JpZ2luYWwuaW5kZXhPZihiKSA6IHJlc3VsdDtcbiAgfSk7XG4gIHJldHVybiBhcnI7XG59XG5mdW5jdGlvbiBzYW1lQmFyKGJhcjEsIGJhcjIpIHtcbiAgcmV0dXJuICEoIWJhcjEgfHwgIWJhcjIgfHwgK2JhcjEuRFQgIT09ICtiYXIyLkRUIHx8IGJhcjEuQ2xvc2UgIT09IGJhcjIuQ2xvc2UgfHwgYmFyMS5PcGVuICE9PSBiYXIyLk9wZW4gfHwgYmFyMS5Wb2x1bWUgIT09IGJhcjIuVm9sdW1lKTtcbn1cbmZ1bmN0aW9uIGRvd25sb2FkRmlsZUluQnJvd3NlcihmaWxlbmFtZSwgY29udGVudCwgdHlwZSwgbmV3VGFiKSB7XG4gIHZhciBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdLCB7XG4gICAgdHlwZTogdHlwZVxuICB9KTtcblxuICBpZiAobmF2aWdhdG9yLm1zU2F2ZUJsb2IpIHtcbiAgICAvLyBJRSAxMCtcbiAgICBuYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlbmFtZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHVybCA9IHR5cGUgPT09ICdpbWFnZS9wbmc7JyA/IGNvbnRlbnQgOiBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICBpZiAobGluay5kb3dubG9hZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gQnJvd3NlcnMgdGhhdCBzdXBwb3J0IEhUTUw1IGRvd25sb2FkIGF0dHJpYnV0ZVxuICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTtcbiAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBmaWxlbmFtZSk7XG4gICAgbGluay5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICBsaW5rLmNsaWNrKCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAobmV3VGFiKSB7XG4gICAgaWYgKHR5cGUgPT09ICdpbWFnZS9wbmc7Jykge1xuICAgICAgbmV3VGFiLmRvY3VtZW50LndyaXRlKFwiPGlmcmFtZSBzcmM9XFxcIlwiLmNvbmNhdCh1cmwsIFwiXFxcIiBmcmFtZWJvcmRlcj1cXFwiMFxcXCIgc3R5bGU9XFxcImJvcmRlcjowOyB0b3A6MHB4OyBsZWZ0OjBweDsgYm90dG9tOjBweDsgcmlnaHQ6MHB4OyB3aWR0aDoxMDAlOyBoZWlnaHQ6MTAwJTtcXFwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT5cIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBuZXdUYWIuZG9jdW1lbnQud3JpdGUoXCJcIi5jb25jYXQobGluZXNbaV0sIFwiPGJyLz5cIikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc3R4dGFwKGVsLCBmdW5jKSB7XG4gIGlmIChlbCAmJiAhZWwuc2FmZUNsaWNrVG91Y2hFdmVudHMpIHtcbiAgICBDSVEuaW5zdGFsbFRhcEV2ZW50KGVsKTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdzdHh0YXAnLCBmdW5jKTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VVRDRXBvY2goZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgLyAxMDAwIC0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAgfCAwO1xufVxuZnVuY3Rpb24gZ2V0VVRDRGF0ZShlcG9jaCkge1xuICB2YXIgVVRDZGF0ZSA9IG5ldyBEYXRlKGVwb2NoICogMTAwMCkudG9JU09TdHJpbmcoKTtcbiAgcmV0dXJuIFVUQ2RhdGUuc3Vic3RyaW5nKDAsIDE5KTtcbn1cbmZ1bmN0aW9uIGdldExvY2FsRGF0ZShlcG9jaCkge1xuICByZXR1cm4gbmV3IERhdGUoZXBvY2ggKiAxMDAwKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVByb3BJZkNoYW5nZWQoc291cmNlLCBwcm9wcywgb25DaGFuZ2VkKSB7XG4gIHZhciBpc0NoYW5nZWQgPSBmYWxzZTtcblxuICBmb3IgKHZhciBhdHRyIGluIHByb3BzKSB7XG4gICAgaWYgKHByb3BzW2F0dHJdICE9PSB1bmRlZmluZWQgJiYgc291cmNlW2F0dHJdICE9PSBwcm9wc1thdHRyXSkge1xuICAgICAgc291cmNlW2F0dHJdID0gcHJvcHNbYXR0cl07XG4gICAgICBpc0NoYW5nZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0NoYW5nZWQgJiYgb25DaGFuZ2VkKSB7XG4gICAgb25DaGFuZ2VkKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRpbWVVbml0SW50ZXJ2YWwoZ3JhbnVsYXJpdHkpIHtcbiAgdmFyIGludGVydmFsID0gMTtcbiAgdmFyIHRpbWVVbml0ID0gJ3NlY29uZCc7XG5cbiAgaWYgKGdyYW51bGFyaXR5ID09PSA4NjQwMCkge1xuICAgIHRpbWVVbml0ID0gJ2RheSc7XG4gIH0gZWxzZSBpZiAoZ3JhbnVsYXJpdHkgPiA1OSkge1xuICAgIGludGVydmFsID0gZ3JhbnVsYXJpdHkgLyA2MDtcbiAgICB0aW1lVW5pdCA9ICdtaW51dGUnO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpbnRlcnZhbDogaW50ZXJ2YWwsXG4gICAgdGltZVVuaXQ6IHRpbWVVbml0XG4gIH07XG59XG5mdW5jdGlvbiBjYWxjdWxhdGVHcmFudWxhcml0eShwZXJpb2QsIGludGVydmFsKSB7XG4gIHZhciB0b1NlY29uZHMgPSB7XG4gICAgc2Vjb25kOiAwLFxuICAgIG1pbnV0ZTogNjAsXG4gICAgZGF5OiAyNCAqIDYwICogNjBcbiAgfTtcbiAgcmV0dXJuIHRvU2Vjb25kc1tpbnRlcnZhbF0gKiBwZXJpb2Q7XG59XG5mdW5jdGlvbiBkaXNwbGF5TWlsbGlzZWNvbmRzKG1zKSB7XG4gIHZhciB0b3RhbFNlYyA9IG1zIC8gMTAwMDtcblxuICBpZiAodG90YWxTZWMgPD0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHBhZE51bSA9IGZ1bmN0aW9uIHBhZE51bShuKSB7XG4gICAgcmV0dXJuIFwiMFwiLmNvbmNhdChuKS5zbGljZSgtMik7XG4gIH07XG5cbiAgdmFyIHNlY29uZHMgPSBwYWROdW0oTWF0aC50cnVuYyh0b3RhbFNlYyAlIDYwKSk7XG4gIHZhciBtaW51dGVzID0gcGFkTnVtKE1hdGgudHJ1bmModG90YWxTZWMgLyA2MCAlIDYwKSk7XG4gIHZhciBob3VycyA9IE1hdGgudHJ1bmModG90YWxTZWMgLyAzNjAwICUgMjQpO1xuICBob3VycyA9IGhvdXJzID8gXCJcIi5jb25jYXQoaG91cnMsIFwiOlwiKSA6ICcnO1xuICByZXR1cm4gXCJcIi5jb25jYXQoaG91cnMpLmNvbmNhdChtaW51dGVzLCBcIjpcIikuY29uY2F0KHNlY29uZHMpO1xufVxuZnVuY3Rpb24gY2xvbmVDYXRlZ29yeShjYXRlZ29yeSkge1xuICB2YXIgdHJhbnNmb3JtSXRlbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geDtcbiAgfTtcbiAgdmFyIGNhdGVnb3J5RGF0YSA9IFtdO1xuXG4gIHZhciBjYXRlZ29yeUNvcHkgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNhdGVnb3J5KSwge30sIHtcbiAgICBkYXRhOiBjYXRlZ29yeURhdGFcbiAgfSk7XG5cbiAgaWYgKGNhdGVnb3J5Lmhhc1N1YmNhdGVnb3J5KSB7XG4gICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNhdGVnb3J5LmRhdGEpLFxuICAgICAgICBfc3RlcDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICB2YXIgc3ViY2F0ZWdvcnkgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgdmFyIHN1YmNhdGVnb3J5RGF0YSA9IFtdO1xuXG4gICAgICAgIHZhciBzdWJjYXRlZ29yeUNvcHkgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN1YmNhdGVnb3J5KSwge30sIHtcbiAgICAgICAgICBkYXRhOiBzdWJjYXRlZ29yeURhdGFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzdWJjYXRlZ29yeS5kYXRhKSxcbiAgICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgICAgIHN1YmNhdGVnb3J5RGF0YS5wdXNoKHRyYW5zZm9ybUl0ZW0oaXRlbSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjYXRlZ29yeURhdGEucHVzaChzdWJjYXRlZ29yeUNvcHkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjYXRlZ29yeS5kYXRhKSxcbiAgICAgICAgX3N0ZXAzO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBfaXRlbSA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgY2F0ZWdvcnlEYXRhLnB1c2godHJhbnNmb3JtSXRlbShfaXRlbSkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2l0ZXJhdG9yMy5lKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjYXRlZ29yeUNvcHk7XG59XG5mdW5jdGlvbiBjbG9uZUNhdGVnb3JpZXMoY2F0ZWdvcmllcykge1xuICB2YXIgdHJhbnNmb3JtSXRlbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geDtcbiAgfTtcbiAgdmFyIGNhdGVnb3JpemVkID0gW107XG5cbiAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjYXRlZ29yaWVzKSxcbiAgICAgIF9zdGVwNDtcblxuICB0cnkge1xuICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgY2F0ZWdvcnkgPSBfc3RlcDQudmFsdWU7XG4gICAgICBjYXRlZ29yaXplZC5wdXNoKGNsb25lQ2F0ZWdvcnkoY2F0ZWdvcnksIHRyYW5zZm9ybUl0ZW0pKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvcjQuZShlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIF9pdGVyYXRvcjQuZigpO1xuICB9XG5cbiAgcmV0dXJuIGNhdGVnb3JpemVkO1xufSAvLyBHZXQgYSByYXcgY2FsbGJhY2sgd2l0aCB1bmRlcmx5aW5nIGNhbnZhczJkY29udGV4dFxuLy8gVGhpcyBjb21wb25lbnQgaXMgdXNlZCB0byByZW5kZXIgZGlyZWN0bHkgaW50byB0aGUgY2hhcnQgY2FudmFzLlxuLy9cbi8vIFByb3BzOlxuLy9cbi8vICAtIGVwb2NoX2FycmF5OiBhcnJheSBvZiBlcG9jaCB2YWx1ZXMgdG8gZ2V0IGNvb3JkaW5hdGVzIGZvci5cbi8vICAtIHByaWNlX2FycmF5OiBhcnJheSBvZiBwcmljZSB2YWx1ZXMgdG8gZ2V0IHktY29vcmRpbmF0ZXMgZm9yLlxuLy8gIC0gZHJhd19jYWxsYmFjazogY2FsbGVkIG9uIGV2ZXJ5IGZyYW1lIHdpdGggKHtjdHgsIHBvaW50cywgcHJpY2VzfSkuXG4vLyAgLS0gcG9pbnRzIHdpbGwgYmUgYW4gYXJyYXkgb2YgW3tsZWZ0LCB0b3AsIGVwb2NofV0gaW4gcGl4ZWxzLlxuLy8gIC0tIGN0eCBpcyB0aGUgQ29udGV4dDJkRHJhd2luZ0NvbnRleHRcbi8vIFVuZm9ydHVuYXRlbHkgY2hhcnRpcS5qcyBkb2VzIGEgTWF0aC5mbG9vcigpIG9uIHBpeGVsIHZhbHVlcyxcbi8vIFdoaWNoIGNhdXNlcyBhIGplcmt5IGVmZmVjdCBvbiB0aGUgbWFya2VycyBpbiBhdXRvLXNjcm9sbCxcbi8vIEhvd2V2ZXIgd2UgbmVlZCB0aGUgcGl4ZWwgdmFsdWUgZG93biB0byB0aGUgZGVjaW1hbCBwb2ludHMuXG4vLyBUaGlzIGlzIGNvcHkgZnJvbSBjaGFydGlxLmpzIGZpbGUgV0lUSE9VVCByb3VuZGluZyBkb3duIHRoZSBwaXhlbCB2YWx1ZS5cblxuZnVuY3Rpb24gcGF0Y2hQaXhlbEZyb21DaGFydChzdHgpIHtcbiAgc3R4LnBpeGVsRnJvbVRpY2sgPSBmdW5jdGlvbiAodGljaywgX2NoYXJ0KSB7XG4gICAgdmFyIGNoYXJ0ID0gX2NoYXJ0IHx8IHN0eC5jaGFydDtcbiAgICB2YXIgZGF0YVNlZ21lbnQgPSBjaGFydC5kYXRhU2VnbWVudCxcbiAgICAgICAgZGF0YVNldCA9IGNoYXJ0LmRhdGFTZXQsXG4gICAgICAgIHNlZ21lbnRJbWFnZSA9IGNoYXJ0LnNlZ21lbnRJbWFnZSxcbiAgICAgICAgbXAgPSBzdHgubWljcm9waXhlbHMsXG4gICAgICAgIGxlbmd0aCA9IGRhdGFTZWdtZW50ID8gZGF0YVNlZ21lbnQubGVuZ3RoIDogMDtcbiAgICB2YXIgcGFuZWwgPSBjaGFydC5wYW5lbCxcbiAgICAgICAgc2Nyb2xsID0gY2hhcnQuc2Nyb2xsO1xuICAgIHZhciBiYXIgPSB0aWNrIC0gZGF0YVNldC5sZW5ndGggKyBzY3JvbGw7XG4gICAgdmFyIHF1b3RlID0gbGVuZ3RoID8gZGF0YVNlZ21lbnRbYmFyXSA6IG51bGw7XG4gICAgaWYgKHNlZ21lbnRJbWFnZSkgcXVvdGUgPSBzZWdtZW50SW1hZ2VbYmFyXTtcblxuICAgIGlmIChxdW90ZSAmJiBxdW90ZS5sZWZ0T2Zmc2V0KSB7XG4gICAgICAvLyByZXR1cm4gTWF0aC5mbG9vcihwYW5lbC5sZWZ0ICsgcXVvdGUubGVmdE9mZnNldCArIG1wKVxuICAgICAgcmV0dXJuIHBhbmVsLmxlZnQgKyBxdW90ZS5sZWZ0T2Zmc2V0ICsgbXA7XG4gICAgfVxuXG4gICAgdmFyIHJpZ2h0T2Zmc2V0ID0gMCxcbiAgICAgICAgZHNUaWNrcyA9IDA7XG4gICAgcXVvdGUgPSBsZW5ndGggPyBkYXRhU2VnbWVudFtsZW5ndGggLSAxXSA6IG51bGw7XG4gICAgaWYgKHNlZ21lbnRJbWFnZSkgcXVvdGUgPSBzZWdtZW50SW1hZ2VbbGVuZ3RoIC0gMV07XG5cbiAgICBpZiAocXVvdGUgJiYgcXVvdGUubGVmdE9mZnNldCkge1xuICAgICAgaWYgKGxlbmd0aCA8IHRpY2sgLSBkYXRhU2V0Lmxlbmd0aCArIHNjcm9sbCkge1xuICAgICAgICByaWdodE9mZnNldCA9IHF1b3RlLmxlZnRPZmZzZXQgLSBxdW90ZS5jYW5kbGVXaWR0aCAvIDI7XG4gICAgICAgIGRzVGlja3MgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gTWF0aC5mbG9vcigvKiAuLi4gKi8pXG5cblxuICAgIHJldHVybiByaWdodE9mZnNldCArIHBhbmVsLmxlZnQgKyAodGljayAtIGRzVGlja3MgLSBkYXRhU2V0Lmxlbmd0aCArIHNjcm9sbCArIDAuNSkgKiBzdHgubGF5b3V0LmNhbmRsZVdpZHRoICsgbXA7XG4gIH07XG59XG52YXIgQVJST1dfSEVJR0hUID0gMzk7XG52YXIgQVJST1dfQ09MT1JTID0gT2JqZWN0LmZyZWV6ZSh7XG4gIEdSRUVOOiAnIzRiYjRiMycsXG4gIE9SQU5HRTogJyNmZjY0NDQnXG59KTtcbnZhciBESVJFQ1RJT05TID0gT2JqZWN0LmZyZWV6ZSh7XG4gIFVQOiAnVVAnLFxuICBET1dOOiAnRE9XTidcbn0pO1xudmFyIGZvcm1hdENhbWVsQ2FzZSA9IGZ1bmN0aW9uIGZvcm1hdENhbWVsQ2FzZShzKSB7XG4gIHZhciBjYXBpdGFsaXplZCA9IHMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzLnNsaWNlKDEpO1xuICByZXR1cm4gY2FwaXRhbGl6ZWQucmVwbGFjZSgvKFthLXpdKD89W0EtWl0pKS9nLCAnJDEgJyk7XG59O1xudmFyIHByZXBhcmVJbmRpY2F0b3JOYW1lID0gZnVuY3Rpb24gcHJlcGFyZUluZGljYXRvck5hbWUobmFtZSkge1xuICB2YXIgU3R1ZHlOYW1lUmVnZXggPSAvXFwoKC4qKVxcKS87XG4gIC8qIGVzbGludC1kaXNhYmxlLWxpbmUgKi9cblxuICB2YXIgZ2V0U3R1ZHlCYXJzID0gZnVuY3Rpb24gZ2V0U3R1ZHlCYXJzKHN0cikge1xuICAgIHJldHVybiAoc3RyLm1hdGNoKFN0dWR5TmFtZVJlZ2V4KSB8fCBbXSkucG9wKCk7XG4gIH07IC8vIGNvbnN0IGNhcGl0YWxpemVGaXJzdExldHRlciA9IChzdHJpbmcpID0+IHtcbiAgLy8gICAgIGNvbnN0IHN0ciA9IHN0cmluZy5yZXBsYWNlKFN0dWR5TmFtZVJlZ2V4LCAnJyk7XG4gIC8vICAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xuICAvLyB9O1xuXG5cbiAgdmFyIGJhcnMgPSBnZXRTdHVkeUJhcnMobmFtZSk7XG4gIHJldHVybiB7XG4gICAgbmFtZTogZm9ybWF0Q2FtZWxDYXNlKG5hbWUucmVwbGFjZShcIihcIi5jb25jYXQoYmFycywgXCIpXCIpLCAnJykucmVwbGFjZSgnLScsICcgJykpLnRyaW0oKSxcbiAgICBiYXJzOiBiYXJzXG4gIH07XG59O1xudmFyIHJlbmRlclNWR1N0cmluZyA9IGZ1bmN0aW9uIHJlbmRlclNWR1N0cmluZyhpY29uKSB7XG4gIHZhciB2YiA9IGljb24udmlld0JveC5zcGxpdCgnICcpLnNsaWNlKDIpO1xuICByZXR1cm4gXCI8c3ZnIGlkPVxcXCJcIi5jb25jYXQoaWNvbi5pZCwgXCJcXFwiIHdpZHRoPVxcXCJcIikuY29uY2F0KHZiWzBdLCBcIlxcXCIgaGVpZ2h0PVxcXCJcIikuY29uY2F0KHZiWzFdLCBcIlxcXCI+PHVzZSB4bGluazpocmVmPVxcXCJcIikuY29uY2F0KCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgaWNvbi51cmwsIFwiXFxcIiAvPjwvc3ZnPlwiKTtcbn07XG52YXIgd3JhcFRleHQgPSBmdW5jdGlvbiB3cmFwVGV4dChzdHIsIGxldHRlcl9jb3VudCkge1xuICBpZiAoc3RyLmxlbmd0aCA+IGxldHRlcl9jb3VudCkge1xuICAgIHZhciB3cmFwcGVkU3RyID0gc3RyO1xuICAgIHZhciBjb3VudCA9IE1hdGguZmxvb3Ioc3RyLmxlbmd0aCAvIGxldHRlcl9jb3VudCk7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBjb3VudDsgaSsrKSB7XG4gICAgICB3cmFwcGVkU3RyID0gXCJcIi5jb25jYXQod3JhcHBlZFN0ci5zbGljZSgwLCBsZXR0ZXJfY291bnQgKiBpKSwgXCIgXCIpLmNvbmNhdCh3cmFwcGVkU3RyLnNsaWNlKGxldHRlcl9jb3VudCAqIGksIHdyYXBwZWRTdHIubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdyYXBwZWRTdHI7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufTtcbnZhciBzdHJpbmdUb1NsdWcgPSBmdW5jdGlvbiBzdHJpbmdUb1NsdWcoc3RyKSB7XG4gIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXlxcdyBdKy9nLCAnJykucmVwbGFjZSgvICsvZywgJy0nKTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vdHJhbnNsYXRpb24gbGF6eSByZWN1cnNpdmUgXlxcXFwuXFxcXC8uKlxcXFwuanNvbiRcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi90cmFuc2xhdGlvbiBsYXp5IF5cXC5cXC8uKlxcLmpzb24kIG5hbWVzcGFjZSBvYmplY3QgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIG1hcCA9IHtcblx0XCIuL2RlLmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9kZS5qc29uXCIsXG5cdFx0XCJkZS1qc29uXCJcblx0XSxcblx0XCIuL2VzLmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9lcy5qc29uXCIsXG5cdFx0XCJlcy1qc29uXCJcblx0XSxcblx0XCIuL2ZyLmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9mci5qc29uXCIsXG5cdFx0XCJmci1qc29uXCJcblx0XSxcblx0XCIuL2lkLmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9pZC5qc29uXCIsXG5cdFx0XCJpZC1qc29uXCJcblx0XSxcblx0XCIuL2l0Lmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9pdC5qc29uXCIsXG5cdFx0XCJpdC1qc29uXCJcblx0XSxcblx0XCIuL21lc3NhZ2VzLmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9tZXNzYWdlcy5qc29uXCIsXG5cdFx0XCJtZXNzYWdlcy1qc29uXCJcblx0XSxcblx0XCIuL25sLmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9ubC5qc29uXCIsXG5cdFx0XCJubC1qc29uXCJcblx0XSxcblx0XCIuL3BsLmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9wbC5qc29uXCIsXG5cdFx0XCJwbC1qc29uXCJcblx0XSxcblx0XCIuL3B0Lmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9wdC5qc29uXCIsXG5cdFx0XCJwdC1qc29uXCJcblx0XSxcblx0XCIuL3J1Lmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9ydS5qc29uXCIsXG5cdFx0XCJydS1qc29uXCJcblx0XSxcblx0XCIuL3RoLmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi90aC5qc29uXCIsXG5cdFx0XCJ0aC1qc29uXCJcblx0XSxcblx0XCIuL3ZpLmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi92aS5qc29uXCIsXG5cdFx0XCJ2aS1qc29uXCJcblx0XSxcblx0XCIuL3poLmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi96aC5qc29uXCIsXG5cdFx0XCJ6aC1qc29uXCJcblx0XSxcblx0XCIuL3poX2NuLmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi96aF9jbi5qc29uXCIsXG5cdFx0XCJ6aF9jbi1qc29uXCJcblx0XSxcblx0XCIuL3poX3R3Lmpzb25cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi96aF90dy5qc29uXCIsXG5cdFx0XCJ6aF90dy1qc29uXCJcblx0XVxufTtcbmZ1bmN0aW9uIHdlYnBhY2tBc3luY0NvbnRleHQocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH0pO1xuXHR9XG5cblx0dmFyIGlkcyA9IG1hcFtyZXFdLCBpZCA9IGlkc1swXTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShpZHNbMV0pLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udChpZCwgMyk7XG5cdH0pO1xufVxud2VicGFja0FzeW5jQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0FzeW5jQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tBc3luY0NvbnRleHQuaWQgPSBcIi4vdHJhbnNsYXRpb24gbGF6eSByZWN1cnNpdmUgXlxcXFwuXFxcXC8uKlxcXFwuanNvbiRcIjtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0FzeW5jQ29udGV4dDtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwibW9tZW50XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogZXh0ZXJuYWwge1wicm9vdFwiOlwibW9tZW50XCIsXCJjb21tb25qc1wiOlwibW9tZW50XCIsXCJjb21tb25qczJcIjpcIm1vbWVudFwifSAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9tb21lbnRfXztcblxuLyoqKi8gfSksXG5cbi8qKiovIFwicmVhY3RcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiBleHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdFwiLFwiY29tbW9uanNcIjpcInJlYWN0XCIsXCJjb21tb25qczJcIjpcInJlYWN0XCJ9ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3JlYWN0X187XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcInJlYWN0LWRvbVwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInJlYWN0LWRvbVwiLFwiY29tbW9uanMyXCI6XCJyZWFjdC1kb21cIixcInJvb3RcIjpcIlJlYWN0RE9NXCJ9ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfcmVhY3RfZG9tX187XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcInJlYWN0LXRyYW5zaXRpb24tZ3JvdXBcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInJlYWN0LXRyYW5zaXRpb24tZ3JvdXBcIixcImNvbW1vbmpzMlwiOlwicmVhY3QtdHJhbnNpdGlvbi1ncm91cFwiLFwicm9vdFwiOlwiUmVhY3RUcmFuc2l0aW9uR3JvdXBcIn0gKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3JlYWN0X3RyYW5zaXRpb25fZ3JvdXBfXztcblxuLyoqKi8gfSlcblxuLyoqKioqKi8gfSlbXCJkZWZhdWx0XCJdO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zbWFydGNoYXJ0cy5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLFFBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0EsV0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../node_modules/@deriv/deriv-charts/dist/smartcharts.js\n");

/***/ })

}]);